"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_pnpm_starknetkit_2_10_4_bufferutil_4_0_9_starknet_6_24_1_enco-89ae06"],{

/***/ "(app-pages-browser)/./node_modules/.pnpm/starknetkit@2.10.4_bufferutil@4.0.9_starknet@6.24.1_encoding@0.1.13__typescript@5.8.3_utf-8-validate@6.0.5_zod@3.25.50/node_modules/starknetkit/dist/index-1c1d2b10.js":
/*!***************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/starknetkit@2.10.4_bufferutil@4.0.9_starknet@6.24.1_encoding@0.1.13__typescript@5.8.3_utf-8-validate@6.0.5_zod@3.25.50/node_modules/starknetkit/dist/index-1c1d2b10.js ***!
  \***************************************************************************************************************************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getStarknetWindowObject: function() { return /* binding */ o4; }\n/* harmony export */ });\n/* harmony import */ var _lastConnected_e9351912_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./lastConnected-e9351912.js */ \"(app-pages-browser)/./node_modules/.pnpm/starknetkit@2.10.4_bufferutil@4.0.9_starknet@6.24.1_encoding@0.1.13__typescript@5.8.3_utf-8-validate@6.0.5_zod@3.25.50/node_modules/starknetkit/dist/lastConnected-e9351912.js\");\n/* harmony import */ var starknet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! starknet */ \"(app-pages-browser)/./node_modules/.pnpm/starknet@6.24.1_encoding@0.1.13/node_modules/starknet/dist/index.mjs\");\n/* harmony import */ var _index_d4f30f2e_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index-d4f30f2e.js */ \"(app-pages-browser)/./node_modules/.pnpm/starknetkit@2.10.4_bufferutil@4.0.9_starknet@6.24.1_encoding@0.1.13__typescript@5.8.3_utf-8-validate@6.0.5_zod@3.25.50/node_modules/starknetkit/dist/index-d4f30f2e.js\");\n/* harmony import */ var _core_d21d2e96_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core-d21d2e96.js */ \"(app-pages-browser)/./node_modules/.pnpm/starknetkit@2.10.4_bufferutil@4.0.9_starknet@6.24.1_encoding@0.1.13__typescript@5.8.3_utf-8-validate@6.0.5_zod@3.25.50/node_modules/starknetkit/dist/core-d21d2e96.js\");\n/* harmony import */ var _getStarknetChainId_7c4b3163_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./getStarknetChainId-7c4b3163.js */ \"(app-pages-browser)/./node_modules/.pnpm/starknetkit@2.10.4_bufferutil@4.0.9_starknet@6.24.1_encoding@0.1.13__typescript@5.8.3_utf-8-validate@6.0.5_zod@3.25.50/node_modules/starknetkit/dist/getStarknetChainId-7c4b3163.js\");\n/* harmony import */ var _index_9bb48f8a_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./index-9bb48f8a.js */ \"(app-pages-browser)/./node_modules/.pnpm/starknetkit@2.10.4_bufferutil@4.0.9_starknet@6.24.1_encoding@0.1.13__typescript@5.8.3_utf-8-validate@6.0.5_zod@3.25.50/node_modules/starknetkit/dist/index-9bb48f8a.js\");\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"(app-pages-browser)/./node_modules/.pnpm/next@13.5.1_@babel+core@7.28.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/compiled/buffer/index.js\")[\"Buffer\"];\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"(app-pages-browser)/./node_modules/.pnpm/next@13.5.1_@babel+core@7.28.0_react-dom@18.2.0_react@18.2.0__react@18.2.0/node_modules/next/dist/build/polyfills/process.js\");\nvar cl = Object.defineProperty;\nvar hl = (r, e, t) => e in r ? cl(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : r[e] = t;\nvar He = (r, e, t) => (hl(r, typeof e != \"symbol\" ? e + \"\" : e, t), t);\n\n\n\n\n\n\nvar Ro = { exports: {} }, fn = typeof Reflect == \"object\" ? Reflect : null, wf = fn && typeof fn.apply == \"function\" ? fn.apply : function(e, t, i) {\n  return Function.prototype.apply.call(e, t, i);\n}, Ms;\nfn && typeof fn.ownKeys == \"function\" ? Ms = fn.ownKeys : Object.getOwnPropertySymbols ? Ms = function(e) {\n  return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e));\n} : Ms = function(e) {\n  return Object.getOwnPropertyNames(e);\n};\nfunction ll(r) {\n  console && console.warn && console.warn(r);\n}\nvar Nh = Number.isNaN || function(e) {\n  return e !== e;\n};\nfunction nt() {\n  nt.init.call(this);\n}\nRo.exports = nt;\nRo.exports.once = gl;\nnt.EventEmitter = nt;\nnt.prototype._events = void 0;\nnt.prototype._eventsCount = 0;\nnt.prototype._maxListeners = void 0;\nvar _f = 10;\nfunction ra(r) {\n  if (typeof r != \"function\")\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof r);\n}\nObject.defineProperty(nt, \"defaultMaxListeners\", {\n  enumerable: !0,\n  get: function() {\n    return _f;\n  },\n  set: function(r) {\n    if (typeof r != \"number\" || r < 0 || Nh(r))\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + r + \".\");\n    _f = r;\n  }\n});\nnt.init = function() {\n  (this._events === void 0 || this._events === Object.getPrototypeOf(this)._events) && (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0), this._maxListeners = this._maxListeners || void 0;\n};\nnt.prototype.setMaxListeners = function(e) {\n  if (typeof e != \"number\" || e < 0 || Nh(e))\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + e + \".\");\n  return this._maxListeners = e, this;\n};\nfunction Th(r) {\n  return r._maxListeners === void 0 ? nt.defaultMaxListeners : r._maxListeners;\n}\nnt.prototype.getMaxListeners = function() {\n  return Th(this);\n};\nnt.prototype.emit = function(e) {\n  for (var t = [], i = 1; i < arguments.length; i++)\n    t.push(arguments[i]);\n  var n = e === \"error\", s = this._events;\n  if (s !== void 0)\n    n = n && s.error === void 0;\n  else if (!n)\n    return !1;\n  if (n) {\n    var o;\n    if (t.length > 0 && (o = t[0]), o instanceof Error)\n      throw o;\n    var f = new Error(\"Unhandled error.\" + (o ? \" (\" + o.message + \")\" : \"\"));\n    throw f.context = o, f;\n  }\n  var h = s[e];\n  if (h === void 0)\n    return !1;\n  if (typeof h == \"function\")\n    wf(h, this, t);\n  else\n    for (var d = h.length, v = qh(h, d), i = 0; i < d; ++i)\n      wf(v[i], this, t);\n  return !0;\n};\nfunction Ch(r, e, t, i) {\n  var n, s, o;\n  if (ra(t), s = r._events, s === void 0 ? (s = r._events = /* @__PURE__ */ Object.create(null), r._eventsCount = 0) : (s.newListener !== void 0 && (r.emit(\n    \"newListener\",\n    e,\n    t.listener ? t.listener : t\n  ), s = r._events), o = s[e]), o === void 0)\n    o = s[e] = t, ++r._eventsCount;\n  else if (typeof o == \"function\" ? o = s[e] = i ? [t, o] : [o, t] : i ? o.unshift(t) : o.push(t), n = Th(r), n > 0 && o.length > n && !o.warned) {\n    o.warned = !0;\n    var f = new Error(\"Possible EventEmitter memory leak detected. \" + o.length + \" \" + String(e) + \" listeners added. Use emitter.setMaxListeners() to increase limit\");\n    f.name = \"MaxListenersExceededWarning\", f.emitter = r, f.type = e, f.count = o.length, ll(f);\n  }\n  return r;\n}\nnt.prototype.addListener = function(e, t) {\n  return Ch(this, e, t, !1);\n};\nnt.prototype.on = nt.prototype.addListener;\nnt.prototype.prependListener = function(e, t) {\n  return Ch(this, e, t, !0);\n};\nfunction pl() {\n  if (!this.fired)\n    return this.target.removeListener(this.type, this.wrapFn), this.fired = !0, arguments.length === 0 ? this.listener.call(this.target) : this.listener.apply(this.target, arguments);\n}\nfunction $h(r, e, t) {\n  var i = { fired: !1, wrapFn: void 0, target: r, type: e, listener: t }, n = pl.bind(i);\n  return n.listener = t, i.wrapFn = n, n;\n}\nnt.prototype.once = function(e, t) {\n  return ra(t), this.on(e, $h(this, e, t)), this;\n};\nnt.prototype.prependOnceListener = function(e, t) {\n  return ra(t), this.prependListener(e, $h(this, e, t)), this;\n};\nnt.prototype.removeListener = function(e, t) {\n  var i, n, s, o, f;\n  if (ra(t), n = this._events, n === void 0)\n    return this;\n  if (i = n[e], i === void 0)\n    return this;\n  if (i === t || i.listener === t)\n    --this._eventsCount === 0 ? this._events = /* @__PURE__ */ Object.create(null) : (delete n[e], n.removeListener && this.emit(\"removeListener\", e, i.listener || t));\n  else if (typeof i != \"function\") {\n    for (s = -1, o = i.length - 1; o >= 0; o--)\n      if (i[o] === t || i[o].listener === t) {\n        f = i[o].listener, s = o;\n        break;\n      }\n    if (s < 0)\n      return this;\n    s === 0 ? i.shift() : vl(i, s), i.length === 1 && (n[e] = i[0]), n.removeListener !== void 0 && this.emit(\"removeListener\", e, f || t);\n  }\n  return this;\n};\nnt.prototype.off = nt.prototype.removeListener;\nnt.prototype.removeAllListeners = function(e) {\n  var t, i, n;\n  if (i = this._events, i === void 0)\n    return this;\n  if (i.removeListener === void 0)\n    return arguments.length === 0 ? (this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0) : i[e] !== void 0 && (--this._eventsCount === 0 ? this._events = /* @__PURE__ */ Object.create(null) : delete i[e]), this;\n  if (arguments.length === 0) {\n    var s = Object.keys(i), o;\n    for (n = 0; n < s.length; ++n)\n      o = s[n], o !== \"removeListener\" && this.removeAllListeners(o);\n    return this.removeAllListeners(\"removeListener\"), this._events = /* @__PURE__ */ Object.create(null), this._eventsCount = 0, this;\n  }\n  if (t = i[e], typeof t == \"function\")\n    this.removeListener(e, t);\n  else if (t !== void 0)\n    for (n = t.length - 1; n >= 0; n--)\n      this.removeListener(e, t[n]);\n  return this;\n};\nfunction Lh(r, e, t) {\n  var i = r._events;\n  if (i === void 0)\n    return [];\n  var n = i[e];\n  return n === void 0 ? [] : typeof n == \"function\" ? t ? [n.listener || n] : [n] : t ? bl(n) : qh(n, n.length);\n}\nnt.prototype.listeners = function(e) {\n  return Lh(this, e, !0);\n};\nnt.prototype.rawListeners = function(e) {\n  return Lh(this, e, !1);\n};\nnt.listenerCount = function(r, e) {\n  return typeof r.listenerCount == \"function\" ? r.listenerCount(e) : Fh.call(r, e);\n};\nnt.prototype.listenerCount = Fh;\nfunction Fh(r) {\n  var e = this._events;\n  if (e !== void 0) {\n    var t = e[r];\n    if (typeof t == \"function\")\n      return 1;\n    if (t !== void 0)\n      return t.length;\n  }\n  return 0;\n}\nnt.prototype.eventNames = function() {\n  return this._eventsCount > 0 ? Ms(this._events) : [];\n};\nfunction qh(r, e) {\n  for (var t = new Array(e), i = 0; i < e; ++i)\n    t[i] = r[i];\n  return t;\n}\nfunction vl(r, e) {\n  for (; e + 1 < r.length; e++)\n    r[e] = r[e + 1];\n  r.pop();\n}\nfunction bl(r) {\n  for (var e = new Array(r.length), t = 0; t < e.length; ++t)\n    e[t] = r[t].listener || r[t];\n  return e;\n}\nfunction gl(r, e) {\n  return new Promise(function(t, i) {\n    function n(o) {\n      r.removeListener(e, s), i(o);\n    }\n    function s() {\n      typeof r.removeListener == \"function\" && r.removeListener(\"error\", n), t([].slice.call(arguments));\n    }\n    Uh(r, e, s, { once: !0 }), e !== \"error\" && yl(r, n, { once: !0 });\n  });\n}\nfunction yl(r, e, t) {\n  typeof r.on == \"function\" && Uh(r, \"error\", e, t);\n}\nfunction Uh(r, e, t, i) {\n  if (typeof r.on == \"function\")\n    i.once ? r.once(e, t) : r.on(e, t);\n  else if (typeof r.addEventListener == \"function\")\n    r.addEventListener(e, function n(s) {\n      i.once && r.removeEventListener(e, n), t(s);\n    });\n  else\n    throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type ' + typeof r);\n}\nvar ir = Ro.exports;\nconst zh = /* @__PURE__ */ (0,_lastConnected_e9351912_js__WEBPACK_IMPORTED_MODULE_0__.d)(ir);\nvar ie = {};\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nvar ao = function(r, e) {\n  return ao = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t, i) {\n    t.__proto__ = i;\n  } || function(t, i) {\n    for (var n in i)\n      i.hasOwnProperty(n) && (t[n] = i[n]);\n  }, ao(r, e);\n};\nfunction ml(r, e) {\n  ao(r, e);\n  function t() {\n    this.constructor = r;\n  }\n  r.prototype = e === null ? Object.create(e) : (t.prototype = e.prototype, new t());\n}\nvar oo = function() {\n  return oo = Object.assign || function(e) {\n    for (var t, i = 1, n = arguments.length; i < n; i++) {\n      t = arguments[i];\n      for (var s in t)\n        Object.prototype.hasOwnProperty.call(t, s) && (e[s] = t[s]);\n    }\n    return e;\n  }, oo.apply(this, arguments);\n};\nfunction wl(r, e) {\n  var t = {};\n  for (var i in r)\n    Object.prototype.hasOwnProperty.call(r, i) && e.indexOf(i) < 0 && (t[i] = r[i]);\n  if (r != null && typeof Object.getOwnPropertySymbols == \"function\")\n    for (var n = 0, i = Object.getOwnPropertySymbols(r); n < i.length; n++)\n      e.indexOf(i[n]) < 0 && Object.prototype.propertyIsEnumerable.call(r, i[n]) && (t[i[n]] = r[i[n]]);\n  return t;\n}\nfunction _l(r, e, t, i) {\n  var n = arguments.length, s = n < 3 ? e : i === null ? i = Object.getOwnPropertyDescriptor(e, t) : i, o;\n  if (typeof Reflect == \"object\" && typeof Reflect.decorate == \"function\")\n    s = Reflect.decorate(r, e, t, i);\n  else\n    for (var f = r.length - 1; f >= 0; f--)\n      (o = r[f]) && (s = (n < 3 ? o(s) : n > 3 ? o(e, t, s) : o(e, t)) || s);\n  return n > 3 && s && Object.defineProperty(e, t, s), s;\n}\nfunction xl(r, e) {\n  return function(t, i) {\n    e(t, i, r);\n  };\n}\nfunction El(r, e) {\n  if (typeof Reflect == \"object\" && typeof Reflect.metadata == \"function\")\n    return Reflect.metadata(r, e);\n}\nfunction Sl(r, e, t, i) {\n  function n(s) {\n    return s instanceof t ? s : new t(function(o) {\n      o(s);\n    });\n  }\n  return new (t || (t = Promise))(function(s, o) {\n    function f(v) {\n      try {\n        d(i.next(v));\n      } catch (w) {\n        o(w);\n      }\n    }\n    function h(v) {\n      try {\n        d(i.throw(v));\n      } catch (w) {\n        o(w);\n      }\n    }\n    function d(v) {\n      v.done ? s(v.value) : n(v.value).then(f, h);\n    }\n    d((i = i.apply(r, e || [])).next());\n  });\n}\nfunction Ml(r, e) {\n  var t = { label: 0, sent: function() {\n    if (s[0] & 1)\n      throw s[1];\n    return s[1];\n  }, trys: [], ops: [] }, i, n, s, o;\n  return o = { next: f(0), throw: f(1), return: f(2) }, typeof Symbol == \"function\" && (o[Symbol.iterator] = function() {\n    return this;\n  }), o;\n  function f(d) {\n    return function(v) {\n      return h([d, v]);\n    };\n  }\n  function h(d) {\n    if (i)\n      throw new TypeError(\"Generator is already executing.\");\n    for (; t; )\n      try {\n        if (i = 1, n && (s = d[0] & 2 ? n.return : d[0] ? n.throw || ((s = n.return) && s.call(n), 0) : n.next) && !(s = s.call(n, d[1])).done)\n          return s;\n        switch (n = 0, s && (d = [d[0] & 2, s.value]), d[0]) {\n          case 0:\n          case 1:\n            s = d;\n            break;\n          case 4:\n            return t.label++, { value: d[1], done: !1 };\n          case 5:\n            t.label++, n = d[1], d = [0];\n            continue;\n          case 7:\n            d = t.ops.pop(), t.trys.pop();\n            continue;\n          default:\n            if (s = t.trys, !(s = s.length > 0 && s[s.length - 1]) && (d[0] === 6 || d[0] === 2)) {\n              t = 0;\n              continue;\n            }\n            if (d[0] === 3 && (!s || d[1] > s[0] && d[1] < s[3])) {\n              t.label = d[1];\n              break;\n            }\n            if (d[0] === 6 && t.label < s[1]) {\n              t.label = s[1], s = d;\n              break;\n            }\n            if (s && t.label < s[2]) {\n              t.label = s[2], t.ops.push(d);\n              break;\n            }\n            s[2] && t.ops.pop(), t.trys.pop();\n            continue;\n        }\n        d = e.call(r, t);\n      } catch (v) {\n        d = [6, v], n = 0;\n      } finally {\n        i = s = 0;\n      }\n    if (d[0] & 5)\n      throw d[1];\n    return { value: d[0] ? d[1] : void 0, done: !0 };\n  }\n}\nfunction Il(r, e, t, i) {\n  i === void 0 && (i = t), r[i] = e[t];\n}\nfunction Al(r, e) {\n  for (var t in r)\n    t !== \"default\" && !e.hasOwnProperty(t) && (e[t] = r[t]);\n}\nfunction fo(r) {\n  var e = typeof Symbol == \"function\" && Symbol.iterator, t = e && r[e], i = 0;\n  if (t)\n    return t.call(r);\n  if (r && typeof r.length == \"number\")\n    return {\n      next: function() {\n        return r && i >= r.length && (r = void 0), { value: r && r[i++], done: !r };\n      }\n    };\n  throw new TypeError(e ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nfunction Bh(r, e) {\n  var t = typeof Symbol == \"function\" && r[Symbol.iterator];\n  if (!t)\n    return r;\n  var i = t.call(r), n, s = [], o;\n  try {\n    for (; (e === void 0 || e-- > 0) && !(n = i.next()).done; )\n      s.push(n.value);\n  } catch (f) {\n    o = { error: f };\n  } finally {\n    try {\n      n && !n.done && (t = i.return) && t.call(i);\n    } finally {\n      if (o)\n        throw o.error;\n    }\n  }\n  return s;\n}\nfunction Dl() {\n  for (var r = [], e = 0; e < arguments.length; e++)\n    r = r.concat(Bh(arguments[e]));\n  return r;\n}\nfunction Pl() {\n  for (var r = 0, e = 0, t = arguments.length; e < t; e++)\n    r += arguments[e].length;\n  for (var i = Array(r), n = 0, e = 0; e < t; e++)\n    for (var s = arguments[e], o = 0, f = s.length; o < f; o++, n++)\n      i[n] = s[o];\n  return i;\n}\nfunction Wn(r) {\n  return this instanceof Wn ? (this.v = r, this) : new Wn(r);\n}\nfunction Ol(r, e, t) {\n  if (!Symbol.asyncIterator)\n    throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var i = t.apply(r, e || []), n, s = [];\n  return n = {}, o(\"next\"), o(\"throw\"), o(\"return\"), n[Symbol.asyncIterator] = function() {\n    return this;\n  }, n;\n  function o(A) {\n    i[A] && (n[A] = function(I) {\n      return new Promise(function(D, N) {\n        s.push([A, I, D, N]) > 1 || f(A, I);\n      });\n    });\n  }\n  function f(A, I) {\n    try {\n      h(i[A](I));\n    } catch (D) {\n      w(s[0][3], D);\n    }\n  }\n  function h(A) {\n    A.value instanceof Wn ? Promise.resolve(A.value.v).then(d, v) : w(s[0][2], A);\n  }\n  function d(A) {\n    f(\"next\", A);\n  }\n  function v(A) {\n    f(\"throw\", A);\n  }\n  function w(A, I) {\n    A(I), s.shift(), s.length && f(s[0][0], s[0][1]);\n  }\n}\nfunction Rl(r) {\n  var e, t;\n  return e = {}, i(\"next\"), i(\"throw\", function(n) {\n    throw n;\n  }), i(\"return\"), e[Symbol.iterator] = function() {\n    return this;\n  }, e;\n  function i(n, s) {\n    e[n] = r[n] ? function(o) {\n      return (t = !t) ? { value: Wn(r[n](o)), done: n === \"return\" } : s ? s(o) : o;\n    } : s;\n  }\n}\nfunction Nl(r) {\n  if (!Symbol.asyncIterator)\n    throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var e = r[Symbol.asyncIterator], t;\n  return e ? e.call(r) : (r = typeof fo == \"function\" ? fo(r) : r[Symbol.iterator](), t = {}, i(\"next\"), i(\"throw\"), i(\"return\"), t[Symbol.asyncIterator] = function() {\n    return this;\n  }, t);\n  function i(s) {\n    t[s] = r[s] && function(o) {\n      return new Promise(function(f, h) {\n        o = r[s](o), n(f, h, o.done, o.value);\n      });\n    };\n  }\n  function n(s, o, f, h) {\n    Promise.resolve(h).then(function(d) {\n      s({ value: d, done: f });\n    }, o);\n  }\n}\nfunction Tl(r, e) {\n  return Object.defineProperty ? Object.defineProperty(r, \"raw\", { value: e }) : r.raw = e, r;\n}\nfunction Cl(r) {\n  if (r && r.__esModule)\n    return r;\n  var e = {};\n  if (r != null)\n    for (var t in r)\n      Object.hasOwnProperty.call(r, t) && (e[t] = r[t]);\n  return e.default = r, e;\n}\nfunction $l(r) {\n  return r && r.__esModule ? r : { default: r };\n}\nfunction Ll(r, e) {\n  if (!e.has(r))\n    throw new TypeError(\"attempted to get private field on non-instance\");\n  return e.get(r);\n}\nfunction Fl(r, e, t) {\n  if (!e.has(r))\n    throw new TypeError(\"attempted to set private field on non-instance\");\n  return e.set(r, t), t;\n}\nconst ql = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  get __assign() {\n    return oo;\n  },\n  __asyncDelegator: Rl,\n  __asyncGenerator: Ol,\n  __asyncValues: Nl,\n  __await: Wn,\n  __awaiter: Sl,\n  __classPrivateFieldGet: Ll,\n  __classPrivateFieldSet: Fl,\n  __createBinding: Il,\n  __decorate: _l,\n  __exportStar: Al,\n  __extends: ml,\n  __generator: Ml,\n  __importDefault: $l,\n  __importStar: Cl,\n  __makeTemplateObject: Tl,\n  __metadata: El,\n  __param: xl,\n  __read: Bh,\n  __rest: wl,\n  __spread: Dl,\n  __spreadArrays: Pl,\n  __values: fo\n}, Symbol.toStringTag, { value: \"Module\" })), Qn = /* @__PURE__ */ (0,_lastConnected_e9351912_js__WEBPACK_IMPORTED_MODULE_0__.g)(ql);\nvar Na = {}, Rn = {}, xf;\nfunction Ul() {\n  if (xf)\n    return Rn;\n  xf = 1, Object.defineProperty(Rn, \"__esModule\", { value: !0 }), Rn.delay = void 0;\n  function r(e) {\n    return new Promise((t) => {\n      setTimeout(() => {\n        t(!0);\n      }, e);\n    });\n  }\n  return Rn.delay = r, Rn;\n}\nvar Oi = {}, Ta = {}, Ri = {}, Ef;\nfunction zl() {\n  return Ef || (Ef = 1, Object.defineProperty(Ri, \"__esModule\", { value: !0 }), Ri.ONE_THOUSAND = Ri.ONE_HUNDRED = void 0, Ri.ONE_HUNDRED = 100, Ri.ONE_THOUSAND = 1e3), Ri;\n}\nvar Ca = {}, Sf;\nfunction Bl() {\n  return Sf || (Sf = 1, function(r) {\n    Object.defineProperty(r, \"__esModule\", { value: !0 }), r.ONE_YEAR = r.FOUR_WEEKS = r.THREE_WEEKS = r.TWO_WEEKS = r.ONE_WEEK = r.THIRTY_DAYS = r.SEVEN_DAYS = r.FIVE_DAYS = r.THREE_DAYS = r.ONE_DAY = r.TWENTY_FOUR_HOURS = r.TWELVE_HOURS = r.SIX_HOURS = r.THREE_HOURS = r.ONE_HOUR = r.SIXTY_MINUTES = r.THIRTY_MINUTES = r.TEN_MINUTES = r.FIVE_MINUTES = r.ONE_MINUTE = r.SIXTY_SECONDS = r.THIRTY_SECONDS = r.TEN_SECONDS = r.FIVE_SECONDS = r.ONE_SECOND = void 0, r.ONE_SECOND = 1, r.FIVE_SECONDS = 5, r.TEN_SECONDS = 10, r.THIRTY_SECONDS = 30, r.SIXTY_SECONDS = 60, r.ONE_MINUTE = r.SIXTY_SECONDS, r.FIVE_MINUTES = r.ONE_MINUTE * 5, r.TEN_MINUTES = r.ONE_MINUTE * 10, r.THIRTY_MINUTES = r.ONE_MINUTE * 30, r.SIXTY_MINUTES = r.ONE_MINUTE * 60, r.ONE_HOUR = r.SIXTY_MINUTES, r.THREE_HOURS = r.ONE_HOUR * 3, r.SIX_HOURS = r.ONE_HOUR * 6, r.TWELVE_HOURS = r.ONE_HOUR * 12, r.TWENTY_FOUR_HOURS = r.ONE_HOUR * 24, r.ONE_DAY = r.TWENTY_FOUR_HOURS, r.THREE_DAYS = r.ONE_DAY * 3, r.FIVE_DAYS = r.ONE_DAY * 5, r.SEVEN_DAYS = r.ONE_DAY * 7, r.THIRTY_DAYS = r.ONE_DAY * 30, r.ONE_WEEK = r.SEVEN_DAYS, r.TWO_WEEKS = r.ONE_WEEK * 2, r.THREE_WEEKS = r.ONE_WEEK * 3, r.FOUR_WEEKS = r.ONE_WEEK * 4, r.ONE_YEAR = r.ONE_DAY * 365;\n  }(Ca)), Ca;\n}\nvar Mf;\nfunction kh() {\n  return Mf || (Mf = 1, function(r) {\n    Object.defineProperty(r, \"__esModule\", { value: !0 });\n    const e = Qn;\n    e.__exportStar(zl(), r), e.__exportStar(Bl(), r);\n  }(Ta)), Ta;\n}\nvar If;\nfunction kl() {\n  if (If)\n    return Oi;\n  If = 1, Object.defineProperty(Oi, \"__esModule\", { value: !0 }), Oi.fromMiliseconds = Oi.toMiliseconds = void 0;\n  const r = kh();\n  function e(i) {\n    return i * r.ONE_THOUSAND;\n  }\n  Oi.toMiliseconds = e;\n  function t(i) {\n    return Math.floor(i / r.ONE_THOUSAND);\n  }\n  return Oi.fromMiliseconds = t, Oi;\n}\nvar Af;\nfunction jl() {\n  return Af || (Af = 1, function(r) {\n    Object.defineProperty(r, \"__esModule\", { value: !0 });\n    const e = Qn;\n    e.__exportStar(Ul(), r), e.__exportStar(kl(), r);\n  }(Na)), Na;\n}\nvar tn = {}, Df;\nfunction Kl() {\n  if (Df)\n    return tn;\n  Df = 1, Object.defineProperty(tn, \"__esModule\", { value: !0 }), tn.Watch = void 0;\n  class r {\n    constructor() {\n      this.timestamps = /* @__PURE__ */ new Map();\n    }\n    start(t) {\n      if (this.timestamps.has(t))\n        throw new Error(`Watch already started for label: ${t}`);\n      this.timestamps.set(t, { started: Date.now() });\n    }\n    stop(t) {\n      const i = this.get(t);\n      if (typeof i.elapsed < \"u\")\n        throw new Error(`Watch already stopped for label: ${t}`);\n      const n = Date.now() - i.started;\n      this.timestamps.set(t, { started: i.started, elapsed: n });\n    }\n    get(t) {\n      const i = this.timestamps.get(t);\n      if (typeof i > \"u\")\n        throw new Error(`No timestamp found for label: ${t}`);\n      return i;\n    }\n    elapsed(t) {\n      const i = this.get(t);\n      return i.elapsed || Date.now() - i.started;\n    }\n  }\n  return tn.Watch = r, tn.default = r, tn;\n}\nvar $a = {}, Nn = {}, Pf;\nfunction Hl() {\n  if (Pf)\n    return Nn;\n  Pf = 1, Object.defineProperty(Nn, \"__esModule\", { value: !0 }), Nn.IWatch = void 0;\n  class r {\n  }\n  return Nn.IWatch = r, Nn;\n}\nvar Of;\nfunction Vl() {\n  return Of || (Of = 1, function(r) {\n    Object.defineProperty(r, \"__esModule\", { value: !0 }), Qn.__exportStar(Hl(), r);\n  }($a)), $a;\n}\n(function(r) {\n  Object.defineProperty(r, \"__esModule\", { value: !0 });\n  const e = Qn;\n  e.__exportStar(jl(), r), e.__exportStar(Kl(), r), e.__exportStar(Vl(), r), e.__exportStar(kh(), r);\n})(ie);\nclass Wi {\n}\nlet Wl = class extends Wi {\n  constructor(e) {\n    super();\n  }\n};\nconst Rf = ie.FIVE_SECONDS, gn = { pulse: \"heartbeat_pulse\" };\nlet Gl = class jh extends Wl {\n  constructor(e) {\n    super(e), this.events = new ir.EventEmitter(), this.interval = Rf, this.interval = e?.interval || Rf;\n  }\n  static async init(e) {\n    const t = new jh(e);\n    return await t.init(), t;\n  }\n  async init() {\n    await this.initialize();\n  }\n  stop() {\n    clearInterval(this.intervalRef);\n  }\n  on(e, t) {\n    this.events.on(e, t);\n  }\n  once(e, t) {\n    this.events.once(e, t);\n  }\n  off(e, t) {\n    this.events.off(e, t);\n  }\n  removeListener(e, t) {\n    this.events.removeListener(e, t);\n  }\n  async initialize() {\n    this.intervalRef = setInterval(() => this.pulse(), ie.toMiliseconds(this.interval));\n  }\n  pulse() {\n    this.events.emit(gn.pulse);\n  }\n};\nconst Jl = /\"(?:_|\\\\u0{2}5[Ff]){2}(?:p|\\\\u0{2}70)(?:r|\\\\u0{2}72)(?:o|\\\\u0{2}6[Ff])(?:t|\\\\u0{2}74)(?:o|\\\\u0{2}6[Ff])(?:_|\\\\u0{2}5[Ff]){2}\"\\s*:/, Yl = /\"(?:c|\\\\u0063)(?:o|\\\\u006[Ff])(?:n|\\\\u006[Ee])(?:s|\\\\u0073)(?:t|\\\\u0074)(?:r|\\\\u0072)(?:u|\\\\u0075)(?:c|\\\\u0063)(?:t|\\\\u0074)(?:o|\\\\u006[Ff])(?:r|\\\\u0072)\"\\s*:/, Xl = /^\\s*[\"[{]|^\\s*-?\\d{1,16}(\\.\\d{1,17})?([Ee][+-]?\\d+)?\\s*$/;\nfunction Zl(r, e) {\n  if (r === \"__proto__\" || r === \"constructor\" && e && typeof e == \"object\" && \"prototype\" in e) {\n    Ql(r);\n    return;\n  }\n  return e;\n}\nfunction Ql(r) {\n  console.warn(`[destr] Dropping \"${r}\" key to prevent prototype pollution.`);\n}\nfunction ms(r, e = {}) {\n  if (typeof r != \"string\")\n    return r;\n  const t = r.trim();\n  if (\n    // eslint-disable-next-line unicorn/prefer-at\n    r[0] === '\"' && r.endsWith('\"') && !r.includes(\"\\\\\")\n  )\n    return t.slice(1, -1);\n  if (t.length <= 9) {\n    const i = t.toLowerCase();\n    if (i === \"true\")\n      return !0;\n    if (i === \"false\")\n      return !1;\n    if (i === \"undefined\")\n      return;\n    if (i === \"null\")\n      return null;\n    if (i === \"nan\")\n      return Number.NaN;\n    if (i === \"infinity\")\n      return Number.POSITIVE_INFINITY;\n    if (i === \"-infinity\")\n      return Number.NEGATIVE_INFINITY;\n  }\n  if (!Xl.test(r)) {\n    if (e.strict)\n      throw new SyntaxError(\"[destr] Invalid JSON\");\n    return r;\n  }\n  try {\n    if (Jl.test(r) || Yl.test(r)) {\n      if (e.strict)\n        throw new Error(\"[destr] Possible prototype pollution\");\n      return JSON.parse(r, Zl);\n    }\n    return JSON.parse(r);\n  } catch (i) {\n    if (e.strict)\n      throw i;\n    return r;\n  }\n}\nfunction e0(r) {\n  return !r || typeof r.then != \"function\" ? Promise.resolve(r) : r;\n}\nfunction xt(r, ...e) {\n  try {\n    return e0(r(...e));\n  } catch (t) {\n    return Promise.reject(t);\n  }\n}\nfunction t0(r) {\n  const e = typeof r;\n  return r === null || e !== \"object\" && e !== \"function\";\n}\nfunction r0(r) {\n  const e = Object.getPrototypeOf(r);\n  return !e || e.isPrototypeOf(Object);\n}\nfunction Is(r) {\n  if (t0(r))\n    return String(r);\n  if (r0(r) || Array.isArray(r))\n    return JSON.stringify(r);\n  if (typeof r.toJSON == \"function\")\n    return Is(r.toJSON());\n  throw new Error(\"[unstorage] Cannot stringify value!\");\n}\nconst co = \"base64:\";\nfunction i0(r) {\n  return typeof r == \"string\" ? r : co + a0(r);\n}\nfunction n0(r) {\n  return typeof r != \"string\" || !r.startsWith(co) ? r : s0(r.slice(co.length));\n}\nfunction s0(r) {\n  return globalThis.Buffer ? Buffer.from(r, \"base64\") : Uint8Array.from(\n    globalThis.atob(r),\n    (e) => e.codePointAt(0)\n  );\n}\nfunction a0(r) {\n  return globalThis.Buffer ? Buffer.from(r).toString(\"base64\") : globalThis.btoa(String.fromCodePoint(...r));\n}\nfunction Wt(r) {\n  return r && r.split(\"?\")[0]?.replace(/[/\\\\]/g, \":\").replace(/:+/g, \":\").replace(/^:|:$/g, \"\") || \"\";\n}\nfunction o0(...r) {\n  return Wt(r.join(\":\"));\n}\nfunction ws(r) {\n  return r = Wt(r), r ? r + \":\" : \"\";\n}\nconst f0 = \"memory\", c0 = () => {\n  const r = /* @__PURE__ */ new Map();\n  return {\n    name: f0,\n    getInstance: () => r,\n    hasItem(e) {\n      return r.has(e);\n    },\n    getItem(e) {\n      return r.get(e) ?? null;\n    },\n    getItemRaw(e) {\n      return r.get(e) ?? null;\n    },\n    setItem(e, t) {\n      r.set(e, t);\n    },\n    setItemRaw(e, t) {\n      r.set(e, t);\n    },\n    removeItem(e) {\n      r.delete(e);\n    },\n    getKeys() {\n      return [...r.keys()];\n    },\n    clear() {\n      r.clear();\n    },\n    dispose() {\n      r.clear();\n    }\n  };\n};\nfunction h0(r = {}) {\n  const e = {\n    mounts: { \"\": r.driver || c0() },\n    mountpoints: [\"\"],\n    watching: !1,\n    watchListeners: [],\n    unwatch: {}\n  }, t = (d) => {\n    for (const v of e.mountpoints)\n      if (d.startsWith(v))\n        return {\n          base: v,\n          relativeKey: d.slice(v.length),\n          driver: e.mounts[v]\n        };\n    return {\n      base: \"\",\n      relativeKey: d,\n      driver: e.mounts[\"\"]\n    };\n  }, i = (d, v) => e.mountpoints.filter(\n    (w) => w.startsWith(d) || v && d.startsWith(w)\n  ).map((w) => ({\n    relativeBase: d.length > w.length ? d.slice(w.length) : void 0,\n    mountpoint: w,\n    driver: e.mounts[w]\n  })), n = (d, v) => {\n    if (e.watching) {\n      v = Wt(v);\n      for (const w of e.watchListeners)\n        w(d, v);\n    }\n  }, s = async () => {\n    if (!e.watching) {\n      e.watching = !0;\n      for (const d in e.mounts)\n        e.unwatch[d] = await Nf(\n          e.mounts[d],\n          n,\n          d\n        );\n    }\n  }, o = async () => {\n    if (e.watching) {\n      for (const d in e.unwatch)\n        await e.unwatch[d]();\n      e.unwatch = {}, e.watching = !1;\n    }\n  }, f = (d, v, w) => {\n    const A = /* @__PURE__ */ new Map(), I = (D) => {\n      let N = A.get(D.base);\n      return N || (N = {\n        driver: D.driver,\n        base: D.base,\n        items: []\n      }, A.set(D.base, N)), N;\n    };\n    for (const D of d) {\n      const N = typeof D == \"string\", k = Wt(N ? D : D.key), j = N ? void 0 : D.value, T = N || !D.options ? v : { ...v, ...D.options }, K = t(k);\n      I(K).items.push({\n        key: k,\n        value: j,\n        relativeKey: K.relativeKey,\n        options: T\n      });\n    }\n    return Promise.all([...A.values()].map((D) => w(D))).then(\n      (D) => D.flat()\n    );\n  }, h = {\n    // Item\n    hasItem(d, v = {}) {\n      d = Wt(d);\n      const { relativeKey: w, driver: A } = t(d);\n      return xt(A.hasItem, w, v);\n    },\n    getItem(d, v = {}) {\n      d = Wt(d);\n      const { relativeKey: w, driver: A } = t(d);\n      return xt(A.getItem, w, v).then(\n        (I) => ms(I)\n      );\n    },\n    getItems(d, v = {}) {\n      return f(d, v, (w) => w.driver.getItems ? xt(\n        w.driver.getItems,\n        w.items.map((A) => ({\n          key: A.relativeKey,\n          options: A.options\n        })),\n        v\n      ).then(\n        (A) => A.map((I) => ({\n          key: o0(w.base, I.key),\n          value: ms(I.value)\n        }))\n      ) : Promise.all(\n        w.items.map((A) => xt(\n          w.driver.getItem,\n          A.relativeKey,\n          A.options\n        ).then((I) => ({\n          key: A.key,\n          value: ms(I)\n        })))\n      ));\n    },\n    getItemRaw(d, v = {}) {\n      d = Wt(d);\n      const { relativeKey: w, driver: A } = t(d);\n      return A.getItemRaw ? xt(A.getItemRaw, w, v) : xt(A.getItem, w, v).then(\n        (I) => n0(I)\n      );\n    },\n    async setItem(d, v, w = {}) {\n      if (v === void 0)\n        return h.removeItem(d);\n      d = Wt(d);\n      const { relativeKey: A, driver: I } = t(d);\n      I.setItem && (await xt(I.setItem, A, Is(v), w), I.watch || n(\"update\", d));\n    },\n    async setItems(d, v) {\n      await f(d, v, async (w) => {\n        if (w.driver.setItems)\n          return xt(\n            w.driver.setItems,\n            w.items.map((A) => ({\n              key: A.relativeKey,\n              value: Is(A.value),\n              options: A.options\n            })),\n            v\n          );\n        w.driver.setItem && await Promise.all(\n          w.items.map((A) => xt(\n            w.driver.setItem,\n            A.relativeKey,\n            Is(A.value),\n            A.options\n          ))\n        );\n      });\n    },\n    async setItemRaw(d, v, w = {}) {\n      if (v === void 0)\n        return h.removeItem(d, w);\n      d = Wt(d);\n      const { relativeKey: A, driver: I } = t(d);\n      if (I.setItemRaw)\n        await xt(I.setItemRaw, A, v, w);\n      else if (I.setItem)\n        await xt(I.setItem, A, i0(v), w);\n      else\n        return;\n      I.watch || n(\"update\", d);\n    },\n    async removeItem(d, v = {}) {\n      typeof v == \"boolean\" && (v = { removeMeta: v }), d = Wt(d);\n      const { relativeKey: w, driver: A } = t(d);\n      A.removeItem && (await xt(A.removeItem, w, v), (v.removeMeta || v.removeMata) && await xt(A.removeItem, w + \"$\", v), A.watch || n(\"remove\", d));\n    },\n    // Meta\n    async getMeta(d, v = {}) {\n      typeof v == \"boolean\" && (v = { nativeOnly: v }), d = Wt(d);\n      const { relativeKey: w, driver: A } = t(d), I = /* @__PURE__ */ Object.create(null);\n      if (A.getMeta && Object.assign(I, await xt(A.getMeta, w, v)), !v.nativeOnly) {\n        const D = await xt(\n          A.getItem,\n          w + \"$\",\n          v\n        ).then((N) => ms(N));\n        D && typeof D == \"object\" && (typeof D.atime == \"string\" && (D.atime = new Date(D.atime)), typeof D.mtime == \"string\" && (D.mtime = new Date(D.mtime)), Object.assign(I, D));\n      }\n      return I;\n    },\n    setMeta(d, v, w = {}) {\n      return this.setItem(d + \"$\", v, w);\n    },\n    removeMeta(d, v = {}) {\n      return this.removeItem(d + \"$\", v);\n    },\n    // Keys\n    async getKeys(d, v = {}) {\n      d = ws(d);\n      const w = i(d, !0);\n      let A = [];\n      const I = [];\n      for (const D of w) {\n        const N = await xt(\n          D.driver.getKeys,\n          D.relativeBase,\n          v\n        );\n        for (const k of N) {\n          const j = D.mountpoint + Wt(k);\n          A.some((T) => j.startsWith(T)) || I.push(j);\n        }\n        A = [\n          D.mountpoint,\n          ...A.filter((k) => !k.startsWith(D.mountpoint))\n        ];\n      }\n      return d ? I.filter(\n        (D) => D.startsWith(d) && D[D.length - 1] !== \"$\"\n      ) : I.filter((D) => D[D.length - 1] !== \"$\");\n    },\n    // Utils\n    async clear(d, v = {}) {\n      d = ws(d), await Promise.all(\n        i(d, !1).map(async (w) => {\n          if (w.driver.clear)\n            return xt(w.driver.clear, w.relativeBase, v);\n          if (w.driver.removeItem) {\n            const A = await w.driver.getKeys(w.relativeBase || \"\", v);\n            return Promise.all(\n              A.map((I) => w.driver.removeItem(I, v))\n            );\n          }\n        })\n      );\n    },\n    async dispose() {\n      await Promise.all(\n        Object.values(e.mounts).map((d) => Tf(d))\n      );\n    },\n    async watch(d) {\n      return await s(), e.watchListeners.push(d), async () => {\n        e.watchListeners = e.watchListeners.filter(\n          (v) => v !== d\n        ), e.watchListeners.length === 0 && await o();\n      };\n    },\n    async unwatch() {\n      e.watchListeners = [], await o();\n    },\n    // Mount\n    mount(d, v) {\n      if (d = ws(d), d && e.mounts[d])\n        throw new Error(`already mounted at ${d}`);\n      return d && (e.mountpoints.push(d), e.mountpoints.sort((w, A) => A.length - w.length)), e.mounts[d] = v, e.watching && Promise.resolve(Nf(v, n, d)).then((w) => {\n        e.unwatch[d] = w;\n      }).catch(console.error), h;\n    },\n    async unmount(d, v = !0) {\n      d = ws(d), !(!d || !e.mounts[d]) && (e.watching && d in e.unwatch && (e.unwatch[d]?.(), delete e.unwatch[d]), v && await Tf(e.mounts[d]), e.mountpoints = e.mountpoints.filter((w) => w !== d), delete e.mounts[d]);\n    },\n    getMount(d = \"\") {\n      d = Wt(d) + \":\";\n      const v = t(d);\n      return {\n        driver: v.driver,\n        base: v.base\n      };\n    },\n    getMounts(d = \"\", v = {}) {\n      return d = Wt(d), i(d, v.parents).map((A) => ({\n        driver: A.driver,\n        base: A.mountpoint\n      }));\n    },\n    // Aliases\n    keys: (d, v = {}) => h.getKeys(d, v),\n    get: (d, v = {}) => h.getItem(d, v),\n    set: (d, v, w = {}) => h.setItem(d, v, w),\n    has: (d, v = {}) => h.hasItem(d, v),\n    del: (d, v = {}) => h.removeItem(d, v),\n    remove: (d, v = {}) => h.removeItem(d, v)\n  };\n  return h;\n}\nfunction Nf(r, e, t) {\n  return r.watch ? r.watch((i, n) => e(i, t + n)) : () => {\n  };\n}\nasync function Tf(r) {\n  typeof r.dispose == \"function\" && await xt(r.dispose);\n}\nfunction Gi(r) {\n  return new Promise((e, t) => {\n    r.oncomplete = r.onsuccess = () => e(r.result), r.onabort = r.onerror = () => t(r.error);\n  });\n}\nfunction Kh(r, e) {\n  const t = indexedDB.open(r);\n  t.onupgradeneeded = () => t.result.createObjectStore(e);\n  const i = Gi(t);\n  return (n, s) => i.then((o) => s(o.transaction(e, n).objectStore(e)));\n}\nlet La;\nfunction es() {\n  return La || (La = Kh(\"keyval-store\", \"keyval\")), La;\n}\nfunction Cf(r, e = es()) {\n  return e(\"readonly\", (t) => Gi(t.get(r)));\n}\nfunction u0(r, e, t = es()) {\n  return t(\"readwrite\", (i) => (i.put(e, r), Gi(i.transaction)));\n}\nfunction d0(r, e = es()) {\n  return e(\"readwrite\", (t) => (t.delete(r), Gi(t.transaction)));\n}\nfunction l0(r = es()) {\n  return r(\"readwrite\", (e) => (e.clear(), Gi(e.transaction)));\n}\nfunction p0(r, e) {\n  return r.openCursor().onsuccess = function() {\n    this.result && (e(this.result), this.result.continue());\n  }, Gi(r.transaction);\n}\nfunction v0(r = es()) {\n  return r(\"readonly\", (e) => {\n    if (e.getAllKeys)\n      return Gi(e.getAllKeys());\n    const t = [];\n    return p0(e, (i) => t.push(i.key)).then(() => t);\n  });\n}\nconst b0 = (r) => JSON.stringify(r, (e, t) => typeof t == \"bigint\" ? t.toString() + \"n\" : t), g0 = (r) => {\n  const e = /([\\[:])?(\\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\\}\\]])/g, t = r.replace(e, '$1\"$2n\"$3');\n  return JSON.parse(t, (i, n) => typeof n == \"string\" && n.match(/^\\d+n$/) ? BigInt(n.substring(0, n.length - 1)) : n);\n};\nfunction un(r) {\n  if (typeof r != \"string\")\n    throw new Error(`Cannot safe json parse value of type ${typeof r}`);\n  try {\n    return g0(r);\n  } catch {\n    return r;\n  }\n}\nfunction ji(r) {\n  return typeof r == \"string\" ? r : b0(r) || \"\";\n}\nconst y0 = \"idb-keyval\";\nvar m0 = (r = {}) => {\n  const e = r.base && r.base.length > 0 ? `${r.base}:` : \"\", t = (n) => e + n;\n  let i;\n  return r.dbName && r.storeName && (i = Kh(r.dbName, r.storeName)), { name: y0, options: r, async hasItem(n) {\n    return !(typeof await Cf(t(n), i) > \"u\");\n  }, async getItem(n) {\n    return await Cf(t(n), i) ?? null;\n  }, setItem(n, s) {\n    return u0(t(n), s, i);\n  }, removeItem(n) {\n    return d0(t(n), i);\n  }, getKeys() {\n    return v0(i);\n  }, clear() {\n    return l0(i);\n  } };\n};\nconst w0 = \"WALLET_CONNECT_V2_INDEXED_DB\", _0 = \"keyvaluestorage\";\nlet x0 = class {\n  constructor() {\n    this.indexedDb = h0({ driver: m0({ dbName: w0, storeName: _0 }) });\n  }\n  async getKeys() {\n    return this.indexedDb.getKeys();\n  }\n  async getEntries() {\n    return (await this.indexedDb.getItems(await this.indexedDb.getKeys())).map((e) => [e.key, e.value]);\n  }\n  async getItem(e) {\n    const t = await this.indexedDb.getItem(e);\n    if (t !== null)\n      return t;\n  }\n  async setItem(e, t) {\n    await this.indexedDb.setItem(e, ji(t));\n  }\n  async removeItem(e) {\n    await this.indexedDb.removeItem(e);\n  }\n};\nvar Fa = typeof globalThis < \"u\" ? globalThis : typeof window < \"u\" ? window : typeof global < \"u\" ? global : typeof self < \"u\" ? self : {}, As = { exports: {} };\n(function() {\n  let r;\n  function e() {\n  }\n  r = e, r.prototype.getItem = function(t) {\n    return this.hasOwnProperty(t) ? String(this[t]) : null;\n  }, r.prototype.setItem = function(t, i) {\n    this[t] = String(i);\n  }, r.prototype.removeItem = function(t) {\n    delete this[t];\n  }, r.prototype.clear = function() {\n    const t = this;\n    Object.keys(t).forEach(function(i) {\n      t[i] = void 0, delete t[i];\n    });\n  }, r.prototype.key = function(t) {\n    return t = t || 0, Object.keys(this)[t];\n  }, r.prototype.__defineGetter__(\"length\", function() {\n    return Object.keys(this).length;\n  }), typeof Fa < \"u\" && Fa.localStorage ? As.exports = Fa.localStorage : typeof window < \"u\" && window.localStorage ? As.exports = window.localStorage : As.exports = new e();\n})();\nfunction E0(r) {\n  var e;\n  return [r[0], un((e = r[1]) != null ? e : \"\")];\n}\nlet S0 = class {\n  constructor() {\n    this.localStorage = As.exports;\n  }\n  async getKeys() {\n    return Object.keys(this.localStorage);\n  }\n  async getEntries() {\n    return Object.entries(this.localStorage).map(E0);\n  }\n  async getItem(e) {\n    const t = this.localStorage.getItem(e);\n    if (t !== null)\n      return un(t);\n  }\n  async setItem(e, t) {\n    this.localStorage.setItem(e, ji(t));\n  }\n  async removeItem(e) {\n    this.localStorage.removeItem(e);\n  }\n};\nconst M0 = \"wc_storage_version\", $f = 1, I0 = async (r, e, t) => {\n  const i = M0, n = await e.getItem(i);\n  if (n && n >= $f) {\n    t(e);\n    return;\n  }\n  const s = await r.getKeys();\n  if (!s.length) {\n    t(e);\n    return;\n  }\n  const o = [];\n  for (; s.length; ) {\n    const f = s.shift();\n    if (!f)\n      continue;\n    const h = f.toLowerCase();\n    if (h.includes(\"wc@\") || h.includes(\"walletconnect\") || h.includes(\"wc_\") || h.includes(\"wallet_connect\")) {\n      const d = await r.getItem(f);\n      await e.setItem(f, d), o.push(f);\n    }\n  }\n  await e.setItem(i, $f), t(e), A0(r, o);\n}, A0 = async (r, e) => {\n  e.length && e.forEach(async (t) => {\n    await r.removeItem(t);\n  });\n};\nlet D0 = class {\n  constructor() {\n    this.initialized = !1, this.setInitialized = (t) => {\n      this.storage = t, this.initialized = !0;\n    };\n    const e = new S0();\n    this.storage = e;\n    try {\n      const t = new x0();\n      I0(e, t, this.setInitialized);\n    } catch {\n      this.initialized = !0;\n    }\n  }\n  async getKeys() {\n    return await this.initialize(), this.storage.getKeys();\n  }\n  async getEntries() {\n    return await this.initialize(), this.storage.getEntries();\n  }\n  async getItem(e) {\n    return await this.initialize(), this.storage.getItem(e);\n  }\n  async setItem(e, t) {\n    return await this.initialize(), this.storage.setItem(e, t);\n  }\n  async removeItem(e) {\n    return await this.initialize(), this.storage.removeItem(e);\n  }\n  async initialize() {\n    this.initialized || await new Promise((e) => {\n      const t = setInterval(() => {\n        this.initialized && (clearInterval(t), e());\n      }, 20);\n    });\n  }\n};\nfunction P0(r) {\n  try {\n    return JSON.stringify(r);\n  } catch {\n    return '\"[Circular]\"';\n  }\n}\nvar O0 = R0;\nfunction R0(r, e, t) {\n  var i = t && t.stringify || P0, n = 1;\n  if (typeof r == \"object\" && r !== null) {\n    var s = e.length + n;\n    if (s === 1)\n      return r;\n    var o = new Array(s);\n    o[0] = i(r);\n    for (var f = 1; f < s; f++)\n      o[f] = i(e[f]);\n    return o.join(\" \");\n  }\n  if (typeof r != \"string\")\n    return r;\n  var h = e.length;\n  if (h === 0)\n    return r;\n  for (var d = \"\", v = 1 - n, w = -1, A = r && r.length || 0, I = 0; I < A; ) {\n    if (r.charCodeAt(I) === 37 && I + 1 < A) {\n      switch (w = w > -1 ? w : 0, r.charCodeAt(I + 1)) {\n        case 100:\n        case 102:\n          if (v >= h || e[v] == null)\n            break;\n          w < I && (d += r.slice(w, I)), d += Number(e[v]), w = I + 2, I++;\n          break;\n        case 105:\n          if (v >= h || e[v] == null)\n            break;\n          w < I && (d += r.slice(w, I)), d += Math.floor(Number(e[v])), w = I + 2, I++;\n          break;\n        case 79:\n        case 111:\n        case 106:\n          if (v >= h || e[v] === void 0)\n            break;\n          w < I && (d += r.slice(w, I));\n          var D = typeof e[v];\n          if (D === \"string\") {\n            d += \"'\" + e[v] + \"'\", w = I + 2, I++;\n            break;\n          }\n          if (D === \"function\") {\n            d += e[v].name || \"<anonymous>\", w = I + 2, I++;\n            break;\n          }\n          d += i(e[v]), w = I + 2, I++;\n          break;\n        case 115:\n          if (v >= h)\n            break;\n          w < I && (d += r.slice(w, I)), d += String(e[v]), w = I + 2, I++;\n          break;\n        case 37:\n          w < I && (d += r.slice(w, I)), d += \"%\", w = I + 2, I++, v--;\n          break;\n      }\n      ++v;\n    }\n    ++I;\n  }\n  return w === -1 ? r : (w < A && (d += r.slice(w)), d);\n}\nconst Lf = O0;\nvar an = $r;\nconst Gn = B0().console || {}, N0 = {\n  mapHttpRequest: _s,\n  mapHttpResponse: _s,\n  wrapRequestSerializer: qa,\n  wrapResponseSerializer: qa,\n  wrapErrorSerializer: qa,\n  req: _s,\n  res: _s,\n  err: F0\n};\nfunction T0(r, e) {\n  return Array.isArray(r) ? r.filter(function(i) {\n    return i !== \"!stdSerializers.err\";\n  }) : r === !0 ? Object.keys(e) : !1;\n}\nfunction $r(r) {\n  r = r || {}, r.browser = r.browser || {};\n  const e = r.browser.transmit;\n  if (e && typeof e.send != \"function\")\n    throw Error(\"pino: transmit option must have a send function\");\n  const t = r.browser.write || Gn;\n  r.browser.write && (r.browser.asObject = !0);\n  const i = r.serializers || {}, n = T0(r.browser.serialize, i);\n  let s = r.browser.serialize;\n  Array.isArray(r.browser.serialize) && r.browser.serialize.indexOf(\"!stdSerializers.err\") > -1 && (s = !1);\n  const o = [\"error\", \"fatal\", \"warn\", \"info\", \"debug\", \"trace\"];\n  typeof t == \"function\" && (t.error = t.fatal = t.warn = t.info = t.debug = t.trace = t), r.enabled === !1 && (r.level = \"silent\");\n  const f = r.level || \"info\", h = Object.create(t);\n  h.log || (h.log = Jn), Object.defineProperty(h, \"levelVal\", {\n    get: v\n  }), Object.defineProperty(h, \"level\", {\n    get: w,\n    set: A\n  });\n  const d = {\n    transmit: e,\n    serialize: n,\n    asObject: r.browser.asObject,\n    levels: o,\n    timestamp: q0(r)\n  };\n  h.levels = $r.levels, h.level = f, h.setMaxListeners = h.getMaxListeners = h.emit = h.addListener = h.on = h.prependListener = h.once = h.prependOnceListener = h.removeListener = h.removeAllListeners = h.listeners = h.listenerCount = h.eventNames = h.write = h.flush = Jn, h.serializers = i, h._serialize = n, h._stdErrSerialize = s, h.child = I, e && (h._logEvent = ho());\n  function v() {\n    return this.level === \"silent\" ? 1 / 0 : this.levels.values[this.level];\n  }\n  function w() {\n    return this._level;\n  }\n  function A(D) {\n    if (D !== \"silent\" && !this.levels.values[D])\n      throw Error(\"unknown level \" + D);\n    this._level = D, rn(d, h, \"error\", \"log\"), rn(d, h, \"fatal\", \"error\"), rn(d, h, \"warn\", \"error\"), rn(d, h, \"info\", \"log\"), rn(d, h, \"debug\", \"log\"), rn(d, h, \"trace\", \"log\");\n  }\n  function I(D, N) {\n    if (!D)\n      throw new Error(\"missing bindings for child Pino\");\n    N = N || {}, n && D.serializers && (N.serializers = D.serializers);\n    const k = N.serializers;\n    if (n && k) {\n      var j = Object.assign({}, i, k), T = r.browser.serialize === !0 ? Object.keys(j) : n;\n      delete D.serializers, ia([D], T, j, this._stdErrSerialize);\n    }\n    function K($) {\n      this._childLevel = ($._childLevel | 0) + 1, this.error = nn($, D, \"error\"), this.fatal = nn($, D, \"fatal\"), this.warn = nn($, D, \"warn\"), this.info = nn($, D, \"info\"), this.debug = nn($, D, \"debug\"), this.trace = nn($, D, \"trace\"), j && (this.serializers = j, this._serialize = T), e && (this._logEvent = ho(\n        [].concat($._logEvent.bindings, D)\n      ));\n    }\n    return K.prototype = this, new K(this);\n  }\n  return h;\n}\n$r.levels = {\n  values: {\n    fatal: 60,\n    error: 50,\n    warn: 40,\n    info: 30,\n    debug: 20,\n    trace: 10\n  },\n  labels: {\n    10: \"trace\",\n    20: \"debug\",\n    30: \"info\",\n    40: \"warn\",\n    50: \"error\",\n    60: \"fatal\"\n  }\n};\n$r.stdSerializers = N0;\n$r.stdTimeFunctions = Object.assign({}, { nullTime: Hh, epochTime: Vh, unixTime: U0, isoTime: z0 });\nfunction rn(r, e, t, i) {\n  const n = Object.getPrototypeOf(e);\n  e[t] = e.levelVal > e.levels.values[t] ? Jn : n[t] ? n[t] : Gn[t] || Gn[i] || Jn, C0(r, e, t);\n}\nfunction C0(r, e, t) {\n  !r.transmit && e[t] === Jn || (e[t] = function(i) {\n    return function() {\n      const s = r.timestamp(), o = new Array(arguments.length), f = Object.getPrototypeOf && Object.getPrototypeOf(this) === Gn ? Gn : this;\n      for (var h = 0; h < o.length; h++)\n        o[h] = arguments[h];\n      if (r.serialize && !r.asObject && ia(o, this._serialize, this.serializers, this._stdErrSerialize), r.asObject ? i.call(f, $0(this, t, o, s)) : i.apply(f, o), r.transmit) {\n        const d = r.transmit.level || e.level, v = $r.levels.values[d], w = $r.levels.values[t];\n        if (w < v)\n          return;\n        L0(this, {\n          ts: s,\n          methodLevel: t,\n          methodValue: w,\n          transmitLevel: d,\n          transmitValue: $r.levels.values[r.transmit.level || e.level],\n          send: r.transmit.send,\n          val: e.levelVal\n        }, o);\n      }\n    };\n  }(e[t]));\n}\nfunction $0(r, e, t, i) {\n  r._serialize && ia(t, r._serialize, r.serializers, r._stdErrSerialize);\n  const n = t.slice();\n  let s = n[0];\n  const o = {};\n  i && (o.time = i), o.level = $r.levels.values[e];\n  let f = (r._childLevel | 0) + 1;\n  if (f < 1 && (f = 1), s !== null && typeof s == \"object\") {\n    for (; f-- && typeof n[0] == \"object\"; )\n      Object.assign(o, n.shift());\n    s = n.length ? Lf(n.shift(), n) : void 0;\n  } else\n    typeof s == \"string\" && (s = Lf(n.shift(), n));\n  return s !== void 0 && (o.msg = s), o;\n}\nfunction ia(r, e, t, i) {\n  for (const n in r)\n    if (i && r[n] instanceof Error)\n      r[n] = $r.stdSerializers.err(r[n]);\n    else if (typeof r[n] == \"object\" && !Array.isArray(r[n]))\n      for (const s in r[n])\n        e && e.indexOf(s) > -1 && s in t && (r[n][s] = t[s](r[n][s]));\n}\nfunction nn(r, e, t) {\n  return function() {\n    const i = new Array(1 + arguments.length);\n    i[0] = e;\n    for (var n = 1; n < i.length; n++)\n      i[n] = arguments[n - 1];\n    return r[t].apply(this, i);\n  };\n}\nfunction L0(r, e, t) {\n  const i = e.send, n = e.ts, s = e.methodLevel, o = e.methodValue, f = e.val, h = r._logEvent.bindings;\n  ia(\n    t,\n    r._serialize || Object.keys(r.serializers),\n    r.serializers,\n    r._stdErrSerialize === void 0 ? !0 : r._stdErrSerialize\n  ), r._logEvent.ts = n, r._logEvent.messages = t.filter(function(d) {\n    return h.indexOf(d) === -1;\n  }), r._logEvent.level.label = s, r._logEvent.level.value = o, i(s, r._logEvent, f), r._logEvent = ho(h);\n}\nfunction ho(r) {\n  return {\n    ts: 0,\n    messages: [],\n    bindings: r || [],\n    level: { label: \"\", value: 0 }\n  };\n}\nfunction F0(r) {\n  const e = {\n    type: r.constructor.name,\n    msg: r.message,\n    stack: r.stack\n  };\n  for (const t in r)\n    e[t] === void 0 && (e[t] = r[t]);\n  return e;\n}\nfunction q0(r) {\n  return typeof r.timestamp == \"function\" ? r.timestamp : r.timestamp === !1 ? Hh : Vh;\n}\nfunction _s() {\n  return {};\n}\nfunction qa(r) {\n  return r;\n}\nfunction Jn() {\n}\nfunction Hh() {\n  return !1;\n}\nfunction Vh() {\n  return Date.now();\n}\nfunction U0() {\n  return Math.round(Date.now() / 1e3);\n}\nfunction z0() {\n  return new Date(Date.now()).toISOString();\n}\nfunction B0() {\n  function r(e) {\n    return typeof e < \"u\" && e;\n  }\n  try {\n    return typeof globalThis < \"u\" || Object.defineProperty(Object.prototype, \"globalThis\", {\n      get: function() {\n        return delete Object.prototype.globalThis, this.globalThis = this;\n      },\n      configurable: !0\n    }), globalThis;\n  } catch {\n    return r(self) || r(window) || r(this) || {};\n  }\n}\nconst na = /* @__PURE__ */ (0,_lastConnected_e9351912_js__WEBPACK_IMPORTED_MODULE_0__.d)(an), k0 = { level: \"info\" }, ts = \"custom_context\", No = 1e3 * 1024;\nlet j0 = class {\n  constructor(e) {\n    this.nodeValue = e, this.sizeInBytes = new TextEncoder().encode(this.nodeValue).length, this.next = null;\n  }\n  get value() {\n    return this.nodeValue;\n  }\n  get size() {\n    return this.sizeInBytes;\n  }\n}, Ff = class {\n  constructor(e) {\n    this.head = null, this.tail = null, this.lengthInNodes = 0, this.maxSizeInBytes = e, this.sizeInBytes = 0;\n  }\n  append(e) {\n    const t = new j0(e);\n    if (t.size > this.maxSizeInBytes)\n      throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${t.size}`);\n    for (; this.size + t.size > this.maxSizeInBytes; )\n      this.shift();\n    this.head ? (this.tail && (this.tail.next = t), this.tail = t) : (this.head = t, this.tail = t), this.lengthInNodes++, this.sizeInBytes += t.size;\n  }\n  shift() {\n    if (!this.head)\n      return;\n    const e = this.head;\n    this.head = this.head.next, this.head || (this.tail = null), this.lengthInNodes--, this.sizeInBytes -= e.size;\n  }\n  toArray() {\n    const e = [];\n    let t = this.head;\n    for (; t !== null; )\n      e.push(t.value), t = t.next;\n    return e;\n  }\n  get length() {\n    return this.lengthInNodes;\n  }\n  get size() {\n    return this.sizeInBytes;\n  }\n  toOrderedArray() {\n    return Array.from(this);\n  }\n  [Symbol.iterator]() {\n    let e = this.head;\n    return { next: () => {\n      if (!e)\n        return { done: !0, value: null };\n      const t = e.value;\n      return e = e.next, { done: !1, value: t };\n    } };\n  }\n}, Wh = class {\n  constructor(e, t = No) {\n    this.level = e ?? \"error\", this.levelValue = an.levels.values[this.level], this.MAX_LOG_SIZE_IN_BYTES = t, this.logs = new Ff(this.MAX_LOG_SIZE_IN_BYTES);\n  }\n  forwardToConsole(e, t) {\n    t === an.levels.values.error ? console.error(e) : t === an.levels.values.warn ? console.warn(e) : t === an.levels.values.debug ? console.debug(e) : t === an.levels.values.trace ? console.trace(e) : console.log(e);\n  }\n  appendToLogs(e) {\n    this.logs.append(ji({ timestamp: (/* @__PURE__ */ new Date()).toISOString(), log: e }));\n    const t = typeof e == \"string\" ? JSON.parse(e).level : e.level;\n    t >= this.levelValue && this.forwardToConsole(e, t);\n  }\n  getLogs() {\n    return this.logs;\n  }\n  clearLogs() {\n    this.logs = new Ff(this.MAX_LOG_SIZE_IN_BYTES);\n  }\n  getLogArray() {\n    return Array.from(this.logs);\n  }\n  logsToBlob(e) {\n    const t = this.getLogArray();\n    return t.push(ji({ extraMetadata: e })), new Blob(t, { type: \"application/json\" });\n  }\n};\nclass K0 {\n  constructor(e, t = No) {\n    this.baseChunkLogger = new Wh(e, t);\n  }\n  write(e) {\n    this.baseChunkLogger.appendToLogs(e);\n  }\n  getLogs() {\n    return this.baseChunkLogger.getLogs();\n  }\n  clearLogs() {\n    this.baseChunkLogger.clearLogs();\n  }\n  getLogArray() {\n    return this.baseChunkLogger.getLogArray();\n  }\n  logsToBlob(e) {\n    return this.baseChunkLogger.logsToBlob(e);\n  }\n  downloadLogsBlobInBrowser(e) {\n    const t = URL.createObjectURL(this.logsToBlob(e)), i = document.createElement(\"a\");\n    i.href = t, i.download = `walletconnect-logs-${(/* @__PURE__ */ new Date()).toISOString()}.txt`, document.body.appendChild(i), i.click(), document.body.removeChild(i), URL.revokeObjectURL(t);\n  }\n}\nclass H0 {\n  constructor(e, t = No) {\n    this.baseChunkLogger = new Wh(e, t);\n  }\n  write(e) {\n    this.baseChunkLogger.appendToLogs(e);\n  }\n  getLogs() {\n    return this.baseChunkLogger.getLogs();\n  }\n  clearLogs() {\n    this.baseChunkLogger.clearLogs();\n  }\n  getLogArray() {\n    return this.baseChunkLogger.getLogArray();\n  }\n  logsToBlob(e) {\n    return this.baseChunkLogger.logsToBlob(e);\n  }\n}\nvar V0 = Object.defineProperty, W0 = Object.defineProperties, G0 = Object.getOwnPropertyDescriptors, qf = Object.getOwnPropertySymbols, J0 = Object.prototype.hasOwnProperty, Y0 = Object.prototype.propertyIsEnumerable, Uf = (r, e, t) => e in r ? V0(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : r[e] = t, Ls = (r, e) => {\n  for (var t in e || (e = {}))\n    J0.call(e, t) && Uf(r, t, e[t]);\n  if (qf)\n    for (var t of qf(e))\n      Y0.call(e, t) && Uf(r, t, e[t]);\n  return r;\n}, Fs = (r, e) => W0(r, G0(e));\nfunction To(r) {\n  return Fs(Ls({}, r), { level: r?.level || k0.level });\n}\nfunction X0(r, e = ts) {\n  return r[e] || \"\";\n}\nfunction Z0(r, e, t = ts) {\n  return r[t] = e, r;\n}\nfunction Zt(r, e = ts) {\n  let t = \"\";\n  return typeof r.bindings > \"u\" ? t = X0(r, e) : t = r.bindings().context || \"\", t;\n}\nfunction Q0(r, e, t = ts) {\n  const i = Zt(r, t);\n  return i.trim() ? `${i}/${e}` : e;\n}\nfunction kt(r, e, t = ts) {\n  const i = Q0(r, e, t), n = r.child({ context: i });\n  return Z0(n, i, t);\n}\nfunction ep(r) {\n  var e, t;\n  const i = new K0((e = r.opts) == null ? void 0 : e.level, r.maxSizeInBytes);\n  return { logger: na(Fs(Ls({}, r.opts), { level: \"trace\", browser: Fs(Ls({}, (t = r.opts) == null ? void 0 : t.browser), { write: (n) => i.write(n) }) })), chunkLoggerController: i };\n}\nfunction tp(r) {\n  var e;\n  const t = new H0((e = r.opts) == null ? void 0 : e.level, r.maxSizeInBytes);\n  return { logger: na(Fs(Ls({}, r.opts), { level: \"trace\" }), t), chunkLoggerController: t };\n}\nfunction rp(r) {\n  return typeof r.loggerOverride < \"u\" && typeof r.loggerOverride != \"string\" ? { logger: r.loggerOverride, chunkLoggerController: null } : typeof window < \"u\" ? ep(r) : tp(r);\n}\nlet ip = class extends Wi {\n  constructor(e) {\n    super(), this.opts = e, this.protocol = \"wc\", this.version = 2;\n  }\n}, np = class extends Wi {\n  constructor(e, t) {\n    super(), this.core = e, this.logger = t, this.records = /* @__PURE__ */ new Map();\n  }\n};\nclass sp {\n  constructor(e, t) {\n    this.logger = e, this.core = t;\n  }\n}\nlet ap = class extends Wi {\n  constructor(e, t) {\n    super(), this.relayer = e, this.logger = t;\n  }\n};\nclass op extends Wi {\n  constructor(e) {\n    super();\n  }\n}\nclass fp {\n  constructor(e, t, i, n) {\n    this.core = e, this.logger = t, this.name = i;\n  }\n}\nlet cp = class extends Wi {\n  constructor(e, t) {\n    super(), this.relayer = e, this.logger = t;\n  }\n}, hp = class extends Wi {\n  constructor(e, t) {\n    super(), this.core = e, this.logger = t;\n  }\n}, up = class {\n  constructor(e, t, i) {\n    this.core = e, this.logger = t, this.store = i;\n  }\n}, dp = class {\n  constructor(e, t) {\n    this.projectId = e, this.logger = t;\n  }\n}, lp = class {\n  constructor(e, t, i) {\n    this.core = e, this.logger = t, this.telemetryEnabled = i;\n  }\n}, pp = class {\n  constructor(e) {\n    this.opts = e, this.protocol = \"wc\", this.version = 2;\n  }\n}, vp = class {\n  constructor(e) {\n    this.client = e;\n  }\n};\nvar Co = {}, Ei = {}, sa = {}, aa = {};\nObject.defineProperty(aa, \"__esModule\", { value: !0 });\naa.BrowserRandomSource = void 0;\nconst zf = 65536;\nclass bp {\n  constructor() {\n    this.isAvailable = !1, this.isInstantiated = !1;\n    const e = typeof self < \"u\" ? self.crypto || self.msCrypto : null;\n    e && e.getRandomValues !== void 0 && (this._crypto = e, this.isAvailable = !0, this.isInstantiated = !0);\n  }\n  randomBytes(e) {\n    if (!this.isAvailable || !this._crypto)\n      throw new Error(\"Browser random byte generator is not available.\");\n    const t = new Uint8Array(e);\n    for (let i = 0; i < t.length; i += zf)\n      this._crypto.getRandomValues(t.subarray(i, i + Math.min(t.length - i, zf)));\n    return t;\n  }\n}\naa.BrowserRandomSource = bp;\nfunction gp(r) {\n  throw new Error('Could not dynamically require \"' + r + '\". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.');\n}\nvar oa = {}, nr = {};\nObject.defineProperty(nr, \"__esModule\", { value: !0 });\nfunction yp(r) {\n  for (var e = 0; e < r.length; e++)\n    r[e] = 0;\n  return r;\n}\nnr.wipe = yp;\nconst mp = {}, wp = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  default: mp\n}, Symbol.toStringTag, { value: \"Module\" })), fa = /* @__PURE__ */ (0,_lastConnected_e9351912_js__WEBPACK_IMPORTED_MODULE_0__.g)(wp);\nObject.defineProperty(oa, \"__esModule\", { value: !0 });\noa.NodeRandomSource = void 0;\nconst _p = nr;\nclass xp {\n  constructor() {\n    if (this.isAvailable = !1, this.isInstantiated = !1, typeof gp < \"u\") {\n      const e = fa;\n      e && e.randomBytes && (this._crypto = e, this.isAvailable = !0, this.isInstantiated = !0);\n    }\n  }\n  randomBytes(e) {\n    if (!this.isAvailable || !this._crypto)\n      throw new Error(\"Node.js random byte generator is not available.\");\n    let t = this._crypto.randomBytes(e);\n    if (t.length !== e)\n      throw new Error(\"NodeRandomSource: got fewer bytes than requested\");\n    const i = new Uint8Array(e);\n    for (let n = 0; n < i.length; n++)\n      i[n] = t[n];\n    return (0, _p.wipe)(t), i;\n  }\n}\noa.NodeRandomSource = xp;\nObject.defineProperty(sa, \"__esModule\", { value: !0 });\nsa.SystemRandomSource = void 0;\nconst Ep = aa, Sp = oa;\nclass Mp {\n  constructor() {\n    if (this.isAvailable = !1, this.name = \"\", this._source = new Ep.BrowserRandomSource(), this._source.isAvailable) {\n      this.isAvailable = !0, this.name = \"Browser\";\n      return;\n    }\n    if (this._source = new Sp.NodeRandomSource(), this._source.isAvailable) {\n      this.isAvailable = !0, this.name = \"Node\";\n      return;\n    }\n  }\n  randomBytes(e) {\n    if (!this.isAvailable)\n      throw new Error(\"System random byte generator is not available.\");\n    return this._source.randomBytes(e);\n  }\n}\nsa.SystemRandomSource = Mp;\nvar Ve = {}, Gh = {};\n(function(r) {\n  Object.defineProperty(r, \"__esModule\", { value: !0 });\n  function e(f, h) {\n    var d = f >>> 16 & 65535, v = f & 65535, w = h >>> 16 & 65535, A = h & 65535;\n    return v * A + (d * A + v * w << 16 >>> 0) | 0;\n  }\n  r.mul = Math.imul || e;\n  function t(f, h) {\n    return f + h | 0;\n  }\n  r.add = t;\n  function i(f, h) {\n    return f - h | 0;\n  }\n  r.sub = i;\n  function n(f, h) {\n    return f << h | f >>> 32 - h;\n  }\n  r.rotl = n;\n  function s(f, h) {\n    return f << 32 - h | f >>> h;\n  }\n  r.rotr = s;\n  function o(f) {\n    return typeof f == \"number\" && isFinite(f) && Math.floor(f) === f;\n  }\n  r.isInteger = Number.isInteger || o, r.MAX_SAFE_INTEGER = 9007199254740991, r.isSafeInteger = function(f) {\n    return r.isInteger(f) && f >= -r.MAX_SAFE_INTEGER && f <= r.MAX_SAFE_INTEGER;\n  };\n})(Gh);\nObject.defineProperty(Ve, \"__esModule\", { value: !0 });\nvar Jh = Gh;\nfunction Ip(r, e) {\n  return e === void 0 && (e = 0), (r[e + 0] << 8 | r[e + 1]) << 16 >> 16;\n}\nVe.readInt16BE = Ip;\nfunction Ap(r, e) {\n  return e === void 0 && (e = 0), (r[e + 0] << 8 | r[e + 1]) >>> 0;\n}\nVe.readUint16BE = Ap;\nfunction Dp(r, e) {\n  return e === void 0 && (e = 0), (r[e + 1] << 8 | r[e]) << 16 >> 16;\n}\nVe.readInt16LE = Dp;\nfunction Pp(r, e) {\n  return e === void 0 && (e = 0), (r[e + 1] << 8 | r[e]) >>> 0;\n}\nVe.readUint16LE = Pp;\nfunction Yh(r, e, t) {\n  return e === void 0 && (e = new Uint8Array(2)), t === void 0 && (t = 0), e[t + 0] = r >>> 8, e[t + 1] = r >>> 0, e;\n}\nVe.writeUint16BE = Yh;\nVe.writeInt16BE = Yh;\nfunction Xh(r, e, t) {\n  return e === void 0 && (e = new Uint8Array(2)), t === void 0 && (t = 0), e[t + 0] = r >>> 0, e[t + 1] = r >>> 8, e;\n}\nVe.writeUint16LE = Xh;\nVe.writeInt16LE = Xh;\nfunction uo(r, e) {\n  return e === void 0 && (e = 0), r[e] << 24 | r[e + 1] << 16 | r[e + 2] << 8 | r[e + 3];\n}\nVe.readInt32BE = uo;\nfunction lo(r, e) {\n  return e === void 0 && (e = 0), (r[e] << 24 | r[e + 1] << 16 | r[e + 2] << 8 | r[e + 3]) >>> 0;\n}\nVe.readUint32BE = lo;\nfunction po(r, e) {\n  return e === void 0 && (e = 0), r[e + 3] << 24 | r[e + 2] << 16 | r[e + 1] << 8 | r[e];\n}\nVe.readInt32LE = po;\nfunction vo(r, e) {\n  return e === void 0 && (e = 0), (r[e + 3] << 24 | r[e + 2] << 16 | r[e + 1] << 8 | r[e]) >>> 0;\n}\nVe.readUint32LE = vo;\nfunction qs(r, e, t) {\n  return e === void 0 && (e = new Uint8Array(4)), t === void 0 && (t = 0), e[t + 0] = r >>> 24, e[t + 1] = r >>> 16, e[t + 2] = r >>> 8, e[t + 3] = r >>> 0, e;\n}\nVe.writeUint32BE = qs;\nVe.writeInt32BE = qs;\nfunction Us(r, e, t) {\n  return e === void 0 && (e = new Uint8Array(4)), t === void 0 && (t = 0), e[t + 0] = r >>> 0, e[t + 1] = r >>> 8, e[t + 2] = r >>> 16, e[t + 3] = r >>> 24, e;\n}\nVe.writeUint32LE = Us;\nVe.writeInt32LE = Us;\nfunction Op(r, e) {\n  e === void 0 && (e = 0);\n  var t = uo(r, e), i = uo(r, e + 4);\n  return t * 4294967296 + i - (i >> 31) * 4294967296;\n}\nVe.readInt64BE = Op;\nfunction Rp(r, e) {\n  e === void 0 && (e = 0);\n  var t = lo(r, e), i = lo(r, e + 4);\n  return t * 4294967296 + i;\n}\nVe.readUint64BE = Rp;\nfunction Np(r, e) {\n  e === void 0 && (e = 0);\n  var t = po(r, e), i = po(r, e + 4);\n  return i * 4294967296 + t - (t >> 31) * 4294967296;\n}\nVe.readInt64LE = Np;\nfunction Tp(r, e) {\n  e === void 0 && (e = 0);\n  var t = vo(r, e), i = vo(r, e + 4);\n  return i * 4294967296 + t;\n}\nVe.readUint64LE = Tp;\nfunction Zh(r, e, t) {\n  return e === void 0 && (e = new Uint8Array(8)), t === void 0 && (t = 0), qs(r / 4294967296 >>> 0, e, t), qs(r >>> 0, e, t + 4), e;\n}\nVe.writeUint64BE = Zh;\nVe.writeInt64BE = Zh;\nfunction Qh(r, e, t) {\n  return e === void 0 && (e = new Uint8Array(8)), t === void 0 && (t = 0), Us(r >>> 0, e, t), Us(r / 4294967296 >>> 0, e, t + 4), e;\n}\nVe.writeUint64LE = Qh;\nVe.writeInt64LE = Qh;\nfunction Cp(r, e, t) {\n  if (t === void 0 && (t = 0), r % 8 !== 0)\n    throw new Error(\"readUintBE supports only bitLengths divisible by 8\");\n  if (r / 8 > e.length - t)\n    throw new Error(\"readUintBE: array is too short for the given bitLength\");\n  for (var i = 0, n = 1, s = r / 8 + t - 1; s >= t; s--)\n    i += e[s] * n, n *= 256;\n  return i;\n}\nVe.readUintBE = Cp;\nfunction $p(r, e, t) {\n  if (t === void 0 && (t = 0), r % 8 !== 0)\n    throw new Error(\"readUintLE supports only bitLengths divisible by 8\");\n  if (r / 8 > e.length - t)\n    throw new Error(\"readUintLE: array is too short for the given bitLength\");\n  for (var i = 0, n = 1, s = t; s < t + r / 8; s++)\n    i += e[s] * n, n *= 256;\n  return i;\n}\nVe.readUintLE = $p;\nfunction Lp(r, e, t, i) {\n  if (t === void 0 && (t = new Uint8Array(r / 8)), i === void 0 && (i = 0), r % 8 !== 0)\n    throw new Error(\"writeUintBE supports only bitLengths divisible by 8\");\n  if (!Jh.isSafeInteger(e))\n    throw new Error(\"writeUintBE value must be an integer\");\n  for (var n = 1, s = r / 8 + i - 1; s >= i; s--)\n    t[s] = e / n & 255, n *= 256;\n  return t;\n}\nVe.writeUintBE = Lp;\nfunction Fp(r, e, t, i) {\n  if (t === void 0 && (t = new Uint8Array(r / 8)), i === void 0 && (i = 0), r % 8 !== 0)\n    throw new Error(\"writeUintLE supports only bitLengths divisible by 8\");\n  if (!Jh.isSafeInteger(e))\n    throw new Error(\"writeUintLE value must be an integer\");\n  for (var n = 1, s = i; s < i + r / 8; s++)\n    t[s] = e / n & 255, n *= 256;\n  return t;\n}\nVe.writeUintLE = Fp;\nfunction qp(r, e) {\n  e === void 0 && (e = 0);\n  var t = new DataView(r.buffer, r.byteOffset, r.byteLength);\n  return t.getFloat32(e);\n}\nVe.readFloat32BE = qp;\nfunction Up(r, e) {\n  e === void 0 && (e = 0);\n  var t = new DataView(r.buffer, r.byteOffset, r.byteLength);\n  return t.getFloat32(e, !0);\n}\nVe.readFloat32LE = Up;\nfunction zp(r, e) {\n  e === void 0 && (e = 0);\n  var t = new DataView(r.buffer, r.byteOffset, r.byteLength);\n  return t.getFloat64(e);\n}\nVe.readFloat64BE = zp;\nfunction Bp(r, e) {\n  e === void 0 && (e = 0);\n  var t = new DataView(r.buffer, r.byteOffset, r.byteLength);\n  return t.getFloat64(e, !0);\n}\nVe.readFloat64LE = Bp;\nfunction kp(r, e, t) {\n  e === void 0 && (e = new Uint8Array(4)), t === void 0 && (t = 0);\n  var i = new DataView(e.buffer, e.byteOffset, e.byteLength);\n  return i.setFloat32(t, r), e;\n}\nVe.writeFloat32BE = kp;\nfunction jp(r, e, t) {\n  e === void 0 && (e = new Uint8Array(4)), t === void 0 && (t = 0);\n  var i = new DataView(e.buffer, e.byteOffset, e.byteLength);\n  return i.setFloat32(t, r, !0), e;\n}\nVe.writeFloat32LE = jp;\nfunction Kp(r, e, t) {\n  e === void 0 && (e = new Uint8Array(8)), t === void 0 && (t = 0);\n  var i = new DataView(e.buffer, e.byteOffset, e.byteLength);\n  return i.setFloat64(t, r), e;\n}\nVe.writeFloat64BE = Kp;\nfunction Hp(r, e, t) {\n  e === void 0 && (e = new Uint8Array(8)), t === void 0 && (t = 0);\n  var i = new DataView(e.buffer, e.byteOffset, e.byteLength);\n  return i.setFloat64(t, r, !0), e;\n}\nVe.writeFloat64LE = Hp;\n(function(r) {\n  Object.defineProperty(r, \"__esModule\", { value: !0 }), r.randomStringForEntropy = r.randomString = r.randomUint32 = r.randomBytes = r.defaultRandomSource = void 0;\n  const e = sa, t = Ve, i = nr;\n  r.defaultRandomSource = new e.SystemRandomSource();\n  function n(d, v = r.defaultRandomSource) {\n    return v.randomBytes(d);\n  }\n  r.randomBytes = n;\n  function s(d = r.defaultRandomSource) {\n    const v = n(4, d), w = (0, t.readUint32LE)(v);\n    return (0, i.wipe)(v), w;\n  }\n  r.randomUint32 = s;\n  const o = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n  function f(d, v = o, w = r.defaultRandomSource) {\n    if (v.length < 2)\n      throw new Error(\"randomString charset is too short\");\n    if (v.length > 256)\n      throw new Error(\"randomString charset is too long\");\n    let A = \"\";\n    const I = v.length, D = 256 - 256 % I;\n    for (; d > 0; ) {\n      const N = n(Math.ceil(d * 256 / D), w);\n      for (let k = 0; k < N.length && d > 0; k++) {\n        const j = N[k];\n        j < D && (A += v.charAt(j % I), d--);\n      }\n      (0, i.wipe)(N);\n    }\n    return A;\n  }\n  r.randomString = f;\n  function h(d, v = o, w = r.defaultRandomSource) {\n    const A = Math.ceil(d / (Math.log(v.length) / Math.LN2));\n    return f(A, v, w);\n  }\n  r.randomStringForEntropy = h;\n})(Ei);\nvar eu = {};\n(function(r) {\n  Object.defineProperty(r, \"__esModule\", { value: !0 });\n  var e = Ve, t = nr;\n  r.DIGEST_LENGTH = 64, r.BLOCK_SIZE = 128;\n  var i = (\n    /** @class */\n    function() {\n      function f() {\n        this.digestLength = r.DIGEST_LENGTH, this.blockSize = r.BLOCK_SIZE, this._stateHi = new Int32Array(8), this._stateLo = new Int32Array(8), this._tempHi = new Int32Array(16), this._tempLo = new Int32Array(16), this._buffer = new Uint8Array(256), this._bufferLength = 0, this._bytesHashed = 0, this._finished = !1, this.reset();\n      }\n      return f.prototype._initState = function() {\n        this._stateHi[0] = 1779033703, this._stateHi[1] = 3144134277, this._stateHi[2] = 1013904242, this._stateHi[3] = 2773480762, this._stateHi[4] = 1359893119, this._stateHi[5] = 2600822924, this._stateHi[6] = 528734635, this._stateHi[7] = 1541459225, this._stateLo[0] = 4089235720, this._stateLo[1] = 2227873595, this._stateLo[2] = 4271175723, this._stateLo[3] = 1595750129, this._stateLo[4] = 2917565137, this._stateLo[5] = 725511199, this._stateLo[6] = 4215389547, this._stateLo[7] = 327033209;\n      }, f.prototype.reset = function() {\n        return this._initState(), this._bufferLength = 0, this._bytesHashed = 0, this._finished = !1, this;\n      }, f.prototype.clean = function() {\n        t.wipe(this._buffer), t.wipe(this._tempHi), t.wipe(this._tempLo), this.reset();\n      }, f.prototype.update = function(h, d) {\n        if (d === void 0 && (d = h.length), this._finished)\n          throw new Error(\"SHA512: can't update because hash was finished.\");\n        var v = 0;\n        if (this._bytesHashed += d, this._bufferLength > 0) {\n          for (; this._bufferLength < r.BLOCK_SIZE && d > 0; )\n            this._buffer[this._bufferLength++] = h[v++], d--;\n          this._bufferLength === this.blockSize && (s(this._tempHi, this._tempLo, this._stateHi, this._stateLo, this._buffer, 0, this.blockSize), this._bufferLength = 0);\n        }\n        for (d >= this.blockSize && (v = s(this._tempHi, this._tempLo, this._stateHi, this._stateLo, h, v, d), d %= this.blockSize); d > 0; )\n          this._buffer[this._bufferLength++] = h[v++], d--;\n        return this;\n      }, f.prototype.finish = function(h) {\n        if (!this._finished) {\n          var d = this._bytesHashed, v = this._bufferLength, w = d / 536870912 | 0, A = d << 3, I = d % 128 < 112 ? 128 : 256;\n          this._buffer[v] = 128;\n          for (var D = v + 1; D < I - 8; D++)\n            this._buffer[D] = 0;\n          e.writeUint32BE(w, this._buffer, I - 8), e.writeUint32BE(A, this._buffer, I - 4), s(this._tempHi, this._tempLo, this._stateHi, this._stateLo, this._buffer, 0, I), this._finished = !0;\n        }\n        for (var D = 0; D < this.digestLength / 8; D++)\n          e.writeUint32BE(this._stateHi[D], h, D * 8), e.writeUint32BE(this._stateLo[D], h, D * 8 + 4);\n        return this;\n      }, f.prototype.digest = function() {\n        var h = new Uint8Array(this.digestLength);\n        return this.finish(h), h;\n      }, f.prototype.saveState = function() {\n        if (this._finished)\n          throw new Error(\"SHA256: cannot save finished state\");\n        return {\n          stateHi: new Int32Array(this._stateHi),\n          stateLo: new Int32Array(this._stateLo),\n          buffer: this._bufferLength > 0 ? new Uint8Array(this._buffer) : void 0,\n          bufferLength: this._bufferLength,\n          bytesHashed: this._bytesHashed\n        };\n      }, f.prototype.restoreState = function(h) {\n        return this._stateHi.set(h.stateHi), this._stateLo.set(h.stateLo), this._bufferLength = h.bufferLength, h.buffer && this._buffer.set(h.buffer), this._bytesHashed = h.bytesHashed, this._finished = !1, this;\n      }, f.prototype.cleanSavedState = function(h) {\n        t.wipe(h.stateHi), t.wipe(h.stateLo), h.buffer && t.wipe(h.buffer), h.bufferLength = 0, h.bytesHashed = 0;\n      }, f;\n    }()\n  );\n  r.SHA512 = i;\n  var n = new Int32Array([\n    1116352408,\n    3609767458,\n    1899447441,\n    602891725,\n    3049323471,\n    3964484399,\n    3921009573,\n    2173295548,\n    961987163,\n    4081628472,\n    1508970993,\n    3053834265,\n    2453635748,\n    2937671579,\n    2870763221,\n    3664609560,\n    3624381080,\n    2734883394,\n    310598401,\n    1164996542,\n    607225278,\n    1323610764,\n    1426881987,\n    3590304994,\n    1925078388,\n    4068182383,\n    2162078206,\n    991336113,\n    2614888103,\n    633803317,\n    3248222580,\n    3479774868,\n    3835390401,\n    2666613458,\n    4022224774,\n    944711139,\n    264347078,\n    2341262773,\n    604807628,\n    2007800933,\n    770255983,\n    1495990901,\n    1249150122,\n    1856431235,\n    1555081692,\n    3175218132,\n    1996064986,\n    2198950837,\n    2554220882,\n    3999719339,\n    2821834349,\n    766784016,\n    2952996808,\n    2566594879,\n    3210313671,\n    3203337956,\n    3336571891,\n    1034457026,\n    3584528711,\n    2466948901,\n    113926993,\n    3758326383,\n    338241895,\n    168717936,\n    666307205,\n    1188179964,\n    773529912,\n    1546045734,\n    1294757372,\n    1522805485,\n    1396182291,\n    2643833823,\n    1695183700,\n    2343527390,\n    1986661051,\n    1014477480,\n    2177026350,\n    1206759142,\n    2456956037,\n    344077627,\n    2730485921,\n    1290863460,\n    2820302411,\n    3158454273,\n    3259730800,\n    3505952657,\n    3345764771,\n    106217008,\n    3516065817,\n    3606008344,\n    3600352804,\n    1432725776,\n    4094571909,\n    1467031594,\n    275423344,\n    851169720,\n    430227734,\n    3100823752,\n    506948616,\n    1363258195,\n    659060556,\n    3750685593,\n    883997877,\n    3785050280,\n    958139571,\n    3318307427,\n    1322822218,\n    3812723403,\n    1537002063,\n    2003034995,\n    1747873779,\n    3602036899,\n    1955562222,\n    1575990012,\n    2024104815,\n    1125592928,\n    2227730452,\n    2716904306,\n    2361852424,\n    442776044,\n    2428436474,\n    593698344,\n    2756734187,\n    3733110249,\n    3204031479,\n    2999351573,\n    3329325298,\n    3815920427,\n    3391569614,\n    3928383900,\n    3515267271,\n    566280711,\n    3940187606,\n    3454069534,\n    4118630271,\n    4000239992,\n    116418474,\n    1914138554,\n    174292421,\n    2731055270,\n    289380356,\n    3203993006,\n    460393269,\n    320620315,\n    685471733,\n    587496836,\n    852142971,\n    1086792851,\n    1017036298,\n    365543100,\n    1126000580,\n    2618297676,\n    1288033470,\n    3409855158,\n    1501505948,\n    4234509866,\n    1607167915,\n    987167468,\n    1816402316,\n    1246189591\n  ]);\n  function s(f, h, d, v, w, A, I) {\n    for (var D = d[0], N = d[1], k = d[2], j = d[3], T = d[4], K = d[5], $ = d[6], z = d[7], B = v[0], _ = v[1], R = v[2], J = v[3], Q = v[4], O = v[5], p = v[6], l = v[7], a, c, b, E, S, x, u, m; I >= 128; ) {\n      for (var g = 0; g < 16; g++) {\n        var P = 8 * g + A;\n        f[g] = e.readUint32BE(w, P), h[g] = e.readUint32BE(w, P + 4);\n      }\n      for (var g = 0; g < 80; g++) {\n        var G = D, M = N, H = k, C = j, q = T, L = K, y = $, F = z, W = B, Y = _, X = R, ee = J, we = Q, Me = O, he = p, Re = l;\n        if (a = z, c = l, S = c & 65535, x = c >>> 16, u = a & 65535, m = a >>> 16, a = (T >>> 14 | Q << 32 - 14) ^ (T >>> 18 | Q << 32 - 18) ^ (Q >>> 41 - 32 | T << 32 - (41 - 32)), c = (Q >>> 14 | T << 32 - 14) ^ (Q >>> 18 | T << 32 - 18) ^ (T >>> 41 - 32 | Q << 32 - (41 - 32)), S += c & 65535, x += c >>> 16, u += a & 65535, m += a >>> 16, a = T & K ^ ~T & $, c = Q & O ^ ~Q & p, S += c & 65535, x += c >>> 16, u += a & 65535, m += a >>> 16, a = n[g * 2], c = n[g * 2 + 1], S += c & 65535, x += c >>> 16, u += a & 65535, m += a >>> 16, a = f[g % 16], c = h[g % 16], S += c & 65535, x += c >>> 16, u += a & 65535, m += a >>> 16, x += S >>> 16, u += x >>> 16, m += u >>> 16, b = u & 65535 | m << 16, E = S & 65535 | x << 16, a = b, c = E, S = c & 65535, x = c >>> 16, u = a & 65535, m = a >>> 16, a = (D >>> 28 | B << 32 - 28) ^ (B >>> 34 - 32 | D << 32 - (34 - 32)) ^ (B >>> 39 - 32 | D << 32 - (39 - 32)), c = (B >>> 28 | D << 32 - 28) ^ (D >>> 34 - 32 | B << 32 - (34 - 32)) ^ (D >>> 39 - 32 | B << 32 - (39 - 32)), S += c & 65535, x += c >>> 16, u += a & 65535, m += a >>> 16, a = D & N ^ D & k ^ N & k, c = B & _ ^ B & R ^ _ & R, S += c & 65535, x += c >>> 16, u += a & 65535, m += a >>> 16, x += S >>> 16, u += x >>> 16, m += u >>> 16, F = u & 65535 | m << 16, Re = S & 65535 | x << 16, a = C, c = ee, S = c & 65535, x = c >>> 16, u = a & 65535, m = a >>> 16, a = b, c = E, S += c & 65535, x += c >>> 16, u += a & 65535, m += a >>> 16, x += S >>> 16, u += x >>> 16, m += u >>> 16, C = u & 65535 | m << 16, ee = S & 65535 | x << 16, N = G, k = M, j = H, T = C, K = q, $ = L, z = y, D = F, _ = W, R = Y, J = X, Q = ee, O = we, p = Me, l = he, B = Re, g % 16 === 15)\n          for (var P = 0; P < 16; P++)\n            a = f[P], c = h[P], S = c & 65535, x = c >>> 16, u = a & 65535, m = a >>> 16, a = f[(P + 9) % 16], c = h[(P + 9) % 16], S += c & 65535, x += c >>> 16, u += a & 65535, m += a >>> 16, b = f[(P + 1) % 16], E = h[(P + 1) % 16], a = (b >>> 1 | E << 32 - 1) ^ (b >>> 8 | E << 32 - 8) ^ b >>> 7, c = (E >>> 1 | b << 32 - 1) ^ (E >>> 8 | b << 32 - 8) ^ (E >>> 7 | b << 32 - 7), S += c & 65535, x += c >>> 16, u += a & 65535, m += a >>> 16, b = f[(P + 14) % 16], E = h[(P + 14) % 16], a = (b >>> 19 | E << 32 - 19) ^ (E >>> 61 - 32 | b << 32 - (61 - 32)) ^ b >>> 6, c = (E >>> 19 | b << 32 - 19) ^ (b >>> 61 - 32 | E << 32 - (61 - 32)) ^ (E >>> 6 | b << 32 - 6), S += c & 65535, x += c >>> 16, u += a & 65535, m += a >>> 16, x += S >>> 16, u += x >>> 16, m += u >>> 16, f[P] = u & 65535 | m << 16, h[P] = S & 65535 | x << 16;\n      }\n      a = D, c = B, S = c & 65535, x = c >>> 16, u = a & 65535, m = a >>> 16, a = d[0], c = v[0], S += c & 65535, x += c >>> 16, u += a & 65535, m += a >>> 16, x += S >>> 16, u += x >>> 16, m += u >>> 16, d[0] = D = u & 65535 | m << 16, v[0] = B = S & 65535 | x << 16, a = N, c = _, S = c & 65535, x = c >>> 16, u = a & 65535, m = a >>> 16, a = d[1], c = v[1], S += c & 65535, x += c >>> 16, u += a & 65535, m += a >>> 16, x += S >>> 16, u += x >>> 16, m += u >>> 16, d[1] = N = u & 65535 | m << 16, v[1] = _ = S & 65535 | x << 16, a = k, c = R, S = c & 65535, x = c >>> 16, u = a & 65535, m = a >>> 16, a = d[2], c = v[2], S += c & 65535, x += c >>> 16, u += a & 65535, m += a >>> 16, x += S >>> 16, u += x >>> 16, m += u >>> 16, d[2] = k = u & 65535 | m << 16, v[2] = R = S & 65535 | x << 16, a = j, c = J, S = c & 65535, x = c >>> 16, u = a & 65535, m = a >>> 16, a = d[3], c = v[3], S += c & 65535, x += c >>> 16, u += a & 65535, m += a >>> 16, x += S >>> 16, u += x >>> 16, m += u >>> 16, d[3] = j = u & 65535 | m << 16, v[3] = J = S & 65535 | x << 16, a = T, c = Q, S = c & 65535, x = c >>> 16, u = a & 65535, m = a >>> 16, a = d[4], c = v[4], S += c & 65535, x += c >>> 16, u += a & 65535, m += a >>> 16, x += S >>> 16, u += x >>> 16, m += u >>> 16, d[4] = T = u & 65535 | m << 16, v[4] = Q = S & 65535 | x << 16, a = K, c = O, S = c & 65535, x = c >>> 16, u = a & 65535, m = a >>> 16, a = d[5], c = v[5], S += c & 65535, x += c >>> 16, u += a & 65535, m += a >>> 16, x += S >>> 16, u += x >>> 16, m += u >>> 16, d[5] = K = u & 65535 | m << 16, v[5] = O = S & 65535 | x << 16, a = $, c = p, S = c & 65535, x = c >>> 16, u = a & 65535, m = a >>> 16, a = d[6], c = v[6], S += c & 65535, x += c >>> 16, u += a & 65535, m += a >>> 16, x += S >>> 16, u += x >>> 16, m += u >>> 16, d[6] = $ = u & 65535 | m << 16, v[6] = p = S & 65535 | x << 16, a = z, c = l, S = c & 65535, x = c >>> 16, u = a & 65535, m = a >>> 16, a = d[7], c = v[7], S += c & 65535, x += c >>> 16, u += a & 65535, m += a >>> 16, x += S >>> 16, u += x >>> 16, m += u >>> 16, d[7] = z = u & 65535 | m << 16, v[7] = l = S & 65535 | x << 16, A += 128, I -= 128;\n    }\n    return A;\n  }\n  function o(f) {\n    var h = new i();\n    h.update(f);\n    var d = h.digest();\n    return h.clean(), d;\n  }\n  r.hash = o;\n})(eu);\n(function(r) {\n  Object.defineProperty(r, \"__esModule\", { value: !0 }), r.convertSecretKeyToX25519 = r.convertPublicKeyToX25519 = r.verify = r.sign = r.extractPublicKeyFromSecretKey = r.generateKeyPair = r.generateKeyPairFromSeed = r.SEED_LENGTH = r.SECRET_KEY_LENGTH = r.PUBLIC_KEY_LENGTH = r.SIGNATURE_LENGTH = void 0;\n  const e = Ei, t = eu, i = nr;\n  r.SIGNATURE_LENGTH = 64, r.PUBLIC_KEY_LENGTH = 32, r.SECRET_KEY_LENGTH = 64, r.SEED_LENGTH = 32;\n  function n(C) {\n    const q = new Float64Array(16);\n    if (C)\n      for (let L = 0; L < C.length; L++)\n        q[L] = C[L];\n    return q;\n  }\n  const s = new Uint8Array(32);\n  s[0] = 9;\n  const o = n(), f = n([1]), h = n([\n    30883,\n    4953,\n    19914,\n    30187,\n    55467,\n    16705,\n    2637,\n    112,\n    59544,\n    30585,\n    16505,\n    36039,\n    65139,\n    11119,\n    27886,\n    20995\n  ]), d = n([\n    61785,\n    9906,\n    39828,\n    60374,\n    45398,\n    33411,\n    5274,\n    224,\n    53552,\n    61171,\n    33010,\n    6542,\n    64743,\n    22239,\n    55772,\n    9222\n  ]), v = n([\n    54554,\n    36645,\n    11616,\n    51542,\n    42930,\n    38181,\n    51040,\n    26924,\n    56412,\n    64982,\n    57905,\n    49316,\n    21502,\n    52590,\n    14035,\n    8553\n  ]), w = n([\n    26200,\n    26214,\n    26214,\n    26214,\n    26214,\n    26214,\n    26214,\n    26214,\n    26214,\n    26214,\n    26214,\n    26214,\n    26214,\n    26214,\n    26214,\n    26214\n  ]), A = n([\n    41136,\n    18958,\n    6951,\n    50414,\n    58488,\n    44335,\n    6150,\n    12099,\n    55207,\n    15867,\n    153,\n    11085,\n    57099,\n    20417,\n    9344,\n    11139\n  ]);\n  function I(C, q) {\n    for (let L = 0; L < 16; L++)\n      C[L] = q[L] | 0;\n  }\n  function D(C) {\n    let q = 1;\n    for (let L = 0; L < 16; L++) {\n      let y = C[L] + q + 65535;\n      q = Math.floor(y / 65536), C[L] = y - q * 65536;\n    }\n    C[0] += q - 1 + 37 * (q - 1);\n  }\n  function N(C, q, L) {\n    const y = ~(L - 1);\n    for (let F = 0; F < 16; F++) {\n      const W = y & (C[F] ^ q[F]);\n      C[F] ^= W, q[F] ^= W;\n    }\n  }\n  function k(C, q) {\n    const L = n(), y = n();\n    for (let F = 0; F < 16; F++)\n      y[F] = q[F];\n    D(y), D(y), D(y);\n    for (let F = 0; F < 2; F++) {\n      L[0] = y[0] - 65517;\n      for (let Y = 1; Y < 15; Y++)\n        L[Y] = y[Y] - 65535 - (L[Y - 1] >> 16 & 1), L[Y - 1] &= 65535;\n      L[15] = y[15] - 32767 - (L[14] >> 16 & 1);\n      const W = L[15] >> 16 & 1;\n      L[14] &= 65535, N(y, L, 1 - W);\n    }\n    for (let F = 0; F < 16; F++)\n      C[2 * F] = y[F] & 255, C[2 * F + 1] = y[F] >> 8;\n  }\n  function j(C, q) {\n    let L = 0;\n    for (let y = 0; y < 32; y++)\n      L |= C[y] ^ q[y];\n    return (1 & L - 1 >>> 8) - 1;\n  }\n  function T(C, q) {\n    const L = new Uint8Array(32), y = new Uint8Array(32);\n    return k(L, C), k(y, q), j(L, y);\n  }\n  function K(C) {\n    const q = new Uint8Array(32);\n    return k(q, C), q[0] & 1;\n  }\n  function $(C, q) {\n    for (let L = 0; L < 16; L++)\n      C[L] = q[2 * L] + (q[2 * L + 1] << 8);\n    C[15] &= 32767;\n  }\n  function z(C, q, L) {\n    for (let y = 0; y < 16; y++)\n      C[y] = q[y] + L[y];\n  }\n  function B(C, q, L) {\n    for (let y = 0; y < 16; y++)\n      C[y] = q[y] - L[y];\n  }\n  function _(C, q, L) {\n    let y, F, W = 0, Y = 0, X = 0, ee = 0, we = 0, Me = 0, he = 0, Re = 0, xe = 0, se = 0, ge = 0, le = 0, ne = 0, ue = 0, fe = 0, te = 0, pe = 0, _e = 0, re = 0, Ee = 0, Se = 0, oe = 0, De = 0, Ie = 0, Pe = 0, Ge = 0, Ye = 0, Ae = 0, Ze = 0, et = 0, Ne = 0, Ce = L[0], Te = L[1], de = L[2], $e = L[3], Le = L[4], ce = L[5], Ue = L[6], ze = L[7], ye = L[8], Be = L[9], ke = L[10], ve = L[11], Fe = L[12], Oe = L[13], me = L[14], je = L[15];\n    y = q[0], W += y * Ce, Y += y * Te, X += y * de, ee += y * $e, we += y * Le, Me += y * ce, he += y * Ue, Re += y * ze, xe += y * ye, se += y * Be, ge += y * ke, le += y * ve, ne += y * Fe, ue += y * Oe, fe += y * me, te += y * je, y = q[1], Y += y * Ce, X += y * Te, ee += y * de, we += y * $e, Me += y * Le, he += y * ce, Re += y * Ue, xe += y * ze, se += y * ye, ge += y * Be, le += y * ke, ne += y * ve, ue += y * Fe, fe += y * Oe, te += y * me, pe += y * je, y = q[2], X += y * Ce, ee += y * Te, we += y * de, Me += y * $e, he += y * Le, Re += y * ce, xe += y * Ue, se += y * ze, ge += y * ye, le += y * Be, ne += y * ke, ue += y * ve, fe += y * Fe, te += y * Oe, pe += y * me, _e += y * je, y = q[3], ee += y * Ce, we += y * Te, Me += y * de, he += y * $e, Re += y * Le, xe += y * ce, se += y * Ue, ge += y * ze, le += y * ye, ne += y * Be, ue += y * ke, fe += y * ve, te += y * Fe, pe += y * Oe, _e += y * me, re += y * je, y = q[4], we += y * Ce, Me += y * Te, he += y * de, Re += y * $e, xe += y * Le, se += y * ce, ge += y * Ue, le += y * ze, ne += y * ye, ue += y * Be, fe += y * ke, te += y * ve, pe += y * Fe, _e += y * Oe, re += y * me, Ee += y * je, y = q[5], Me += y * Ce, he += y * Te, Re += y * de, xe += y * $e, se += y * Le, ge += y * ce, le += y * Ue, ne += y * ze, ue += y * ye, fe += y * Be, te += y * ke, pe += y * ve, _e += y * Fe, re += y * Oe, Ee += y * me, Se += y * je, y = q[6], he += y * Ce, Re += y * Te, xe += y * de, se += y * $e, ge += y * Le, le += y * ce, ne += y * Ue, ue += y * ze, fe += y * ye, te += y * Be, pe += y * ke, _e += y * ve, re += y * Fe, Ee += y * Oe, Se += y * me, oe += y * je, y = q[7], Re += y * Ce, xe += y * Te, se += y * de, ge += y * $e, le += y * Le, ne += y * ce, ue += y * Ue, fe += y * ze, te += y * ye, pe += y * Be, _e += y * ke, re += y * ve, Ee += y * Fe, Se += y * Oe, oe += y * me, De += y * je, y = q[8], xe += y * Ce, se += y * Te, ge += y * de, le += y * $e, ne += y * Le, ue += y * ce, fe += y * Ue, te += y * ze, pe += y * ye, _e += y * Be, re += y * ke, Ee += y * ve, Se += y * Fe, oe += y * Oe, De += y * me, Ie += y * je, y = q[9], se += y * Ce, ge += y * Te, le += y * de, ne += y * $e, ue += y * Le, fe += y * ce, te += y * Ue, pe += y * ze, _e += y * ye, re += y * Be, Ee += y * ke, Se += y * ve, oe += y * Fe, De += y * Oe, Ie += y * me, Pe += y * je, y = q[10], ge += y * Ce, le += y * Te, ne += y * de, ue += y * $e, fe += y * Le, te += y * ce, pe += y * Ue, _e += y * ze, re += y * ye, Ee += y * Be, Se += y * ke, oe += y * ve, De += y * Fe, Ie += y * Oe, Pe += y * me, Ge += y * je, y = q[11], le += y * Ce, ne += y * Te, ue += y * de, fe += y * $e, te += y * Le, pe += y * ce, _e += y * Ue, re += y * ze, Ee += y * ye, Se += y * Be, oe += y * ke, De += y * ve, Ie += y * Fe, Pe += y * Oe, Ge += y * me, Ye += y * je, y = q[12], ne += y * Ce, ue += y * Te, fe += y * de, te += y * $e, pe += y * Le, _e += y * ce, re += y * Ue, Ee += y * ze, Se += y * ye, oe += y * Be, De += y * ke, Ie += y * ve, Pe += y * Fe, Ge += y * Oe, Ye += y * me, Ae += y * je, y = q[13], ue += y * Ce, fe += y * Te, te += y * de, pe += y * $e, _e += y * Le, re += y * ce, Ee += y * Ue, Se += y * ze, oe += y * ye, De += y * Be, Ie += y * ke, Pe += y * ve, Ge += y * Fe, Ye += y * Oe, Ae += y * me, Ze += y * je, y = q[14], fe += y * Ce, te += y * Te, pe += y * de, _e += y * $e, re += y * Le, Ee += y * ce, Se += y * Ue, oe += y * ze, De += y * ye, Ie += y * Be, Pe += y * ke, Ge += y * ve, Ye += y * Fe, Ae += y * Oe, Ze += y * me, et += y * je, y = q[15], te += y * Ce, pe += y * Te, _e += y * de, re += y * $e, Ee += y * Le, Se += y * ce, oe += y * Ue, De += y * ze, Ie += y * ye, Pe += y * Be, Ge += y * ke, Ye += y * ve, Ae += y * Fe, Ze += y * Oe, et += y * me, Ne += y * je, W += 38 * pe, Y += 38 * _e, X += 38 * re, ee += 38 * Ee, we += 38 * Se, Me += 38 * oe, he += 38 * De, Re += 38 * Ie, xe += 38 * Pe, se += 38 * Ge, ge += 38 * Ye, le += 38 * Ae, ne += 38 * Ze, ue += 38 * et, fe += 38 * Ne, F = 1, y = W + F + 65535, F = Math.floor(y / 65536), W = y - F * 65536, y = Y + F + 65535, F = Math.floor(y / 65536), Y = y - F * 65536, y = X + F + 65535, F = Math.floor(y / 65536), X = y - F * 65536, y = ee + F + 65535, F = Math.floor(y / 65536), ee = y - F * 65536, y = we + F + 65535, F = Math.floor(y / 65536), we = y - F * 65536, y = Me + F + 65535, F = Math.floor(y / 65536), Me = y - F * 65536, y = he + F + 65535, F = Math.floor(y / 65536), he = y - F * 65536, y = Re + F + 65535, F = Math.floor(y / 65536), Re = y - F * 65536, y = xe + F + 65535, F = Math.floor(y / 65536), xe = y - F * 65536, y = se + F + 65535, F = Math.floor(y / 65536), se = y - F * 65536, y = ge + F + 65535, F = Math.floor(y / 65536), ge = y - F * 65536, y = le + F + 65535, F = Math.floor(y / 65536), le = y - F * 65536, y = ne + F + 65535, F = Math.floor(y / 65536), ne = y - F * 65536, y = ue + F + 65535, F = Math.floor(y / 65536), ue = y - F * 65536, y = fe + F + 65535, F = Math.floor(y / 65536), fe = y - F * 65536, y = te + F + 65535, F = Math.floor(y / 65536), te = y - F * 65536, W += F - 1 + 37 * (F - 1), F = 1, y = W + F + 65535, F = Math.floor(y / 65536), W = y - F * 65536, y = Y + F + 65535, F = Math.floor(y / 65536), Y = y - F * 65536, y = X + F + 65535, F = Math.floor(y / 65536), X = y - F * 65536, y = ee + F + 65535, F = Math.floor(y / 65536), ee = y - F * 65536, y = we + F + 65535, F = Math.floor(y / 65536), we = y - F * 65536, y = Me + F + 65535, F = Math.floor(y / 65536), Me = y - F * 65536, y = he + F + 65535, F = Math.floor(y / 65536), he = y - F * 65536, y = Re + F + 65535, F = Math.floor(y / 65536), Re = y - F * 65536, y = xe + F + 65535, F = Math.floor(y / 65536), xe = y - F * 65536, y = se + F + 65535, F = Math.floor(y / 65536), se = y - F * 65536, y = ge + F + 65535, F = Math.floor(y / 65536), ge = y - F * 65536, y = le + F + 65535, F = Math.floor(y / 65536), le = y - F * 65536, y = ne + F + 65535, F = Math.floor(y / 65536), ne = y - F * 65536, y = ue + F + 65535, F = Math.floor(y / 65536), ue = y - F * 65536, y = fe + F + 65535, F = Math.floor(y / 65536), fe = y - F * 65536, y = te + F + 65535, F = Math.floor(y / 65536), te = y - F * 65536, W += F - 1 + 37 * (F - 1), C[0] = W, C[1] = Y, C[2] = X, C[3] = ee, C[4] = we, C[5] = Me, C[6] = he, C[7] = Re, C[8] = xe, C[9] = se, C[10] = ge, C[11] = le, C[12] = ne, C[13] = ue, C[14] = fe, C[15] = te;\n  }\n  function R(C, q) {\n    _(C, q, q);\n  }\n  function J(C, q) {\n    const L = n();\n    let y;\n    for (y = 0; y < 16; y++)\n      L[y] = q[y];\n    for (y = 253; y >= 0; y--)\n      R(L, L), y !== 2 && y !== 4 && _(L, L, q);\n    for (y = 0; y < 16; y++)\n      C[y] = L[y];\n  }\n  function Q(C, q) {\n    const L = n();\n    let y;\n    for (y = 0; y < 16; y++)\n      L[y] = q[y];\n    for (y = 250; y >= 0; y--)\n      R(L, L), y !== 1 && _(L, L, q);\n    for (y = 0; y < 16; y++)\n      C[y] = L[y];\n  }\n  function O(C, q) {\n    const L = n(), y = n(), F = n(), W = n(), Y = n(), X = n(), ee = n(), we = n(), Me = n();\n    B(L, C[1], C[0]), B(Me, q[1], q[0]), _(L, L, Me), z(y, C[0], C[1]), z(Me, q[0], q[1]), _(y, y, Me), _(F, C[3], q[3]), _(F, F, d), _(W, C[2], q[2]), z(W, W, W), B(Y, y, L), B(X, W, F), z(ee, W, F), z(we, y, L), _(C[0], Y, X), _(C[1], we, ee), _(C[2], ee, X), _(C[3], Y, we);\n  }\n  function p(C, q, L) {\n    for (let y = 0; y < 4; y++)\n      N(C[y], q[y], L);\n  }\n  function l(C, q) {\n    const L = n(), y = n(), F = n();\n    J(F, q[2]), _(L, q[0], F), _(y, q[1], F), k(C, y), C[31] ^= K(L) << 7;\n  }\n  function a(C, q, L) {\n    I(C[0], o), I(C[1], f), I(C[2], f), I(C[3], o);\n    for (let y = 255; y >= 0; --y) {\n      const F = L[y / 8 | 0] >> (y & 7) & 1;\n      p(C, q, F), O(q, C), O(C, C), p(C, q, F);\n    }\n  }\n  function c(C, q) {\n    const L = [n(), n(), n(), n()];\n    I(L[0], v), I(L[1], w), I(L[2], f), _(L[3], v, w), a(C, L, q);\n  }\n  function b(C) {\n    if (C.length !== r.SEED_LENGTH)\n      throw new Error(`ed25519: seed must be ${r.SEED_LENGTH} bytes`);\n    const q = (0, t.hash)(C);\n    q[0] &= 248, q[31] &= 127, q[31] |= 64;\n    const L = new Uint8Array(32), y = [n(), n(), n(), n()];\n    c(y, q), l(L, y);\n    const F = new Uint8Array(64);\n    return F.set(C), F.set(L, 32), {\n      publicKey: L,\n      secretKey: F\n    };\n  }\n  r.generateKeyPairFromSeed = b;\n  function E(C) {\n    const q = (0, e.randomBytes)(32, C), L = b(q);\n    return (0, i.wipe)(q), L;\n  }\n  r.generateKeyPair = E;\n  function S(C) {\n    if (C.length !== r.SECRET_KEY_LENGTH)\n      throw new Error(`ed25519: secret key must be ${r.SECRET_KEY_LENGTH} bytes`);\n    return new Uint8Array(C.subarray(32));\n  }\n  r.extractPublicKeyFromSecretKey = S;\n  const x = new Float64Array([\n    237,\n    211,\n    245,\n    92,\n    26,\n    99,\n    18,\n    88,\n    214,\n    156,\n    247,\n    162,\n    222,\n    249,\n    222,\n    20,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    0,\n    16\n  ]);\n  function u(C, q) {\n    let L, y, F, W;\n    for (y = 63; y >= 32; --y) {\n      for (L = 0, F = y - 32, W = y - 12; F < W; ++F)\n        q[F] += L - 16 * q[y] * x[F - (y - 32)], L = Math.floor((q[F] + 128) / 256), q[F] -= L * 256;\n      q[F] += L, q[y] = 0;\n    }\n    for (L = 0, F = 0; F < 32; F++)\n      q[F] += L - (q[31] >> 4) * x[F], L = q[F] >> 8, q[F] &= 255;\n    for (F = 0; F < 32; F++)\n      q[F] -= L * x[F];\n    for (y = 0; y < 32; y++)\n      q[y + 1] += q[y] >> 8, C[y] = q[y] & 255;\n  }\n  function m(C) {\n    const q = new Float64Array(64);\n    for (let L = 0; L < 64; L++)\n      q[L] = C[L];\n    for (let L = 0; L < 64; L++)\n      C[L] = 0;\n    u(C, q);\n  }\n  function g(C, q) {\n    const L = new Float64Array(64), y = [n(), n(), n(), n()], F = (0, t.hash)(C.subarray(0, 32));\n    F[0] &= 248, F[31] &= 127, F[31] |= 64;\n    const W = new Uint8Array(64);\n    W.set(F.subarray(32), 32);\n    const Y = new t.SHA512();\n    Y.update(W.subarray(32)), Y.update(q);\n    const X = Y.digest();\n    Y.clean(), m(X), c(y, X), l(W, y), Y.reset(), Y.update(W.subarray(0, 32)), Y.update(C.subarray(32)), Y.update(q);\n    const ee = Y.digest();\n    m(ee);\n    for (let we = 0; we < 32; we++)\n      L[we] = X[we];\n    for (let we = 0; we < 32; we++)\n      for (let Me = 0; Me < 32; Me++)\n        L[we + Me] += ee[we] * F[Me];\n    return u(W.subarray(32), L), W;\n  }\n  r.sign = g;\n  function P(C, q) {\n    const L = n(), y = n(), F = n(), W = n(), Y = n(), X = n(), ee = n();\n    return I(C[2], f), $(C[1], q), R(F, C[1]), _(W, F, h), B(F, F, C[2]), z(W, C[2], W), R(Y, W), R(X, Y), _(ee, X, Y), _(L, ee, F), _(L, L, W), Q(L, L), _(L, L, F), _(L, L, W), _(L, L, W), _(C[0], L, W), R(y, C[0]), _(y, y, W), T(y, F) && _(C[0], C[0], A), R(y, C[0]), _(y, y, W), T(y, F) ? -1 : (K(C[0]) === q[31] >> 7 && B(C[0], o, C[0]), _(C[3], C[0], C[1]), 0);\n  }\n  function G(C, q, L) {\n    const y = new Uint8Array(32), F = [n(), n(), n(), n()], W = [n(), n(), n(), n()];\n    if (L.length !== r.SIGNATURE_LENGTH)\n      throw new Error(`ed25519: signature must be ${r.SIGNATURE_LENGTH} bytes`);\n    if (P(W, C))\n      return !1;\n    const Y = new t.SHA512();\n    Y.update(L.subarray(0, 32)), Y.update(C), Y.update(q);\n    const X = Y.digest();\n    return m(X), a(F, W, X), c(W, L.subarray(32)), O(F, W), l(y, F), !j(L, y);\n  }\n  r.verify = G;\n  function M(C) {\n    let q = [n(), n(), n(), n()];\n    if (P(q, C))\n      throw new Error(\"Ed25519: invalid public key\");\n    let L = n(), y = n(), F = q[1];\n    z(L, f, F), B(y, f, F), J(y, y), _(L, L, y);\n    let W = new Uint8Array(32);\n    return k(W, L), W;\n  }\n  r.convertPublicKeyToX25519 = M;\n  function H(C) {\n    const q = (0, t.hash)(C.subarray(0, 32));\n    q[0] &= 248, q[31] &= 127, q[31] |= 64;\n    const L = new Uint8Array(q.subarray(0, 32));\n    return (0, i.wipe)(q), L;\n  }\n  r.convertSecretKeyToX25519 = H;\n})(Co);\nconst Vp = \"EdDSA\", Wp = \"JWT\", zs = \".\", ca = \"base64url\", tu = \"utf8\", ru = \"utf8\", Gp = \":\", Jp = \"did\", Yp = \"key\", Bf = \"base58btc\", Xp = \"z\", Zp = \"K36\", Qp = 32;\nfunction iu(r = 0) {\n  return globalThis.Buffer != null && globalThis.Buffer.allocUnsafe != null ? globalThis.Buffer.allocUnsafe(r) : new Uint8Array(r);\n}\nfunction Ds(r, e) {\n  e || (e = r.reduce((n, s) => n + s.length, 0));\n  const t = iu(e);\n  let i = 0;\n  for (const n of r)\n    t.set(n, i), i += n.length;\n  return t;\n}\nfunction e1(r, e) {\n  if (r.length >= 255)\n    throw new TypeError(\"Alphabet too long\");\n  for (var t = new Uint8Array(256), i = 0; i < t.length; i++)\n    t[i] = 255;\n  for (var n = 0; n < r.length; n++) {\n    var s = r.charAt(n), o = s.charCodeAt(0);\n    if (t[o] !== 255)\n      throw new TypeError(s + \" is ambiguous\");\n    t[o] = n;\n  }\n  var f = r.length, h = r.charAt(0), d = Math.log(f) / Math.log(256), v = Math.log(256) / Math.log(f);\n  function w(D) {\n    if (D instanceof Uint8Array || (ArrayBuffer.isView(D) ? D = new Uint8Array(D.buffer, D.byteOffset, D.byteLength) : Array.isArray(D) && (D = Uint8Array.from(D))), !(D instanceof Uint8Array))\n      throw new TypeError(\"Expected Uint8Array\");\n    if (D.length === 0)\n      return \"\";\n    for (var N = 0, k = 0, j = 0, T = D.length; j !== T && D[j] === 0; )\n      j++, N++;\n    for (var K = (T - j) * v + 1 >>> 0, $ = new Uint8Array(K); j !== T; ) {\n      for (var z = D[j], B = 0, _ = K - 1; (z !== 0 || B < k) && _ !== -1; _--, B++)\n        z += 256 * $[_] >>> 0, $[_] = z % f >>> 0, z = z / f >>> 0;\n      if (z !== 0)\n        throw new Error(\"Non-zero carry\");\n      k = B, j++;\n    }\n    for (var R = K - k; R !== K && $[R] === 0; )\n      R++;\n    for (var J = h.repeat(N); R < K; ++R)\n      J += r.charAt($[R]);\n    return J;\n  }\n  function A(D) {\n    if (typeof D != \"string\")\n      throw new TypeError(\"Expected String\");\n    if (D.length === 0)\n      return new Uint8Array();\n    var N = 0;\n    if (D[N] !== \" \") {\n      for (var k = 0, j = 0; D[N] === h; )\n        k++, N++;\n      for (var T = (D.length - N) * d + 1 >>> 0, K = new Uint8Array(T); D[N]; ) {\n        var $ = t[D.charCodeAt(N)];\n        if ($ === 255)\n          return;\n        for (var z = 0, B = T - 1; ($ !== 0 || z < j) && B !== -1; B--, z++)\n          $ += f * K[B] >>> 0, K[B] = $ % 256 >>> 0, $ = $ / 256 >>> 0;\n        if ($ !== 0)\n          throw new Error(\"Non-zero carry\");\n        j = z, N++;\n      }\n      if (D[N] !== \" \") {\n        for (var _ = T - j; _ !== T && K[_] === 0; )\n          _++;\n        for (var R = new Uint8Array(k + (T - _)), J = k; _ !== T; )\n          R[J++] = K[_++];\n        return R;\n      }\n    }\n  }\n  function I(D) {\n    var N = A(D);\n    if (N)\n      return N;\n    throw new Error(`Non-${e} character`);\n  }\n  return {\n    encode: w,\n    decodeUnsafe: A,\n    decode: I\n  };\n}\nvar t1 = e1, r1 = t1;\nconst i1 = (r) => {\n  if (r instanceof Uint8Array && r.constructor.name === \"Uint8Array\")\n    return r;\n  if (r instanceof ArrayBuffer)\n    return new Uint8Array(r);\n  if (ArrayBuffer.isView(r))\n    return new Uint8Array(r.buffer, r.byteOffset, r.byteLength);\n  throw new Error(\"Unknown type, must be binary type\");\n}, n1 = (r) => new TextEncoder().encode(r), s1 = (r) => new TextDecoder().decode(r);\nclass a1 {\n  constructor(e, t, i) {\n    this.name = e, this.prefix = t, this.baseEncode = i;\n  }\n  encode(e) {\n    if (e instanceof Uint8Array)\n      return `${this.prefix}${this.baseEncode(e)}`;\n    throw Error(\"Unknown type, must be binary type\");\n  }\n}\nclass o1 {\n  constructor(e, t, i) {\n    if (this.name = e, this.prefix = t, t.codePointAt(0) === void 0)\n      throw new Error(\"Invalid prefix character\");\n    this.prefixCodePoint = t.codePointAt(0), this.baseDecode = i;\n  }\n  decode(e) {\n    if (typeof e == \"string\") {\n      if (e.codePointAt(0) !== this.prefixCodePoint)\n        throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);\n      return this.baseDecode(e.slice(this.prefix.length));\n    } else\n      throw Error(\"Can only multibase decode strings\");\n  }\n  or(e) {\n    return nu(this, e);\n  }\n}\nclass f1 {\n  constructor(e) {\n    this.decoders = e;\n  }\n  or(e) {\n    return nu(this, e);\n  }\n  decode(e) {\n    const t = e[0], i = this.decoders[t];\n    if (i)\n      return i.decode(e);\n    throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`);\n  }\n}\nconst nu = (r, e) => new f1({\n  ...r.decoders || { [r.prefix]: r },\n  ...e.decoders || { [e.prefix]: e }\n});\nclass c1 {\n  constructor(e, t, i, n) {\n    this.name = e, this.prefix = t, this.baseEncode = i, this.baseDecode = n, this.encoder = new a1(e, t, i), this.decoder = new o1(e, t, n);\n  }\n  encode(e) {\n    return this.encoder.encode(e);\n  }\n  decode(e) {\n    return this.decoder.decode(e);\n  }\n}\nconst ha = ({ name: r, prefix: e, encode: t, decode: i }) => new c1(r, e, t, i), rs = ({ prefix: r, name: e, alphabet: t }) => {\n  const { encode: i, decode: n } = r1(t, e);\n  return ha({\n    prefix: r,\n    name: e,\n    encode: i,\n    decode: (s) => i1(n(s))\n  });\n}, h1 = (r, e, t, i) => {\n  const n = {};\n  for (let v = 0; v < e.length; ++v)\n    n[e[v]] = v;\n  let s = r.length;\n  for (; r[s - 1] === \"=\"; )\n    --s;\n  const o = new Uint8Array(s * t / 8 | 0);\n  let f = 0, h = 0, d = 0;\n  for (let v = 0; v < s; ++v) {\n    const w = n[r[v]];\n    if (w === void 0)\n      throw new SyntaxError(`Non-${i} character`);\n    h = h << t | w, f += t, f >= 8 && (f -= 8, o[d++] = 255 & h >> f);\n  }\n  if (f >= t || 255 & h << 8 - f)\n    throw new SyntaxError(\"Unexpected end of data\");\n  return o;\n}, u1 = (r, e, t) => {\n  const i = e[e.length - 1] === \"=\", n = (1 << t) - 1;\n  let s = \"\", o = 0, f = 0;\n  for (let h = 0; h < r.length; ++h)\n    for (f = f << 8 | r[h], o += 8; o > t; )\n      o -= t, s += e[n & f >> o];\n  if (o && (s += e[n & f << t - o]), i)\n    for (; s.length * t & 7; )\n      s += \"=\";\n  return s;\n}, Rt = ({ name: r, prefix: e, bitsPerChar: t, alphabet: i }) => ha({\n  prefix: e,\n  name: r,\n  encode(n) {\n    return u1(n, i, t);\n  },\n  decode(n) {\n    return h1(n, i, t, r);\n  }\n}), d1 = ha({\n  prefix: \"\\0\",\n  name: \"identity\",\n  encode: (r) => s1(r),\n  decode: (r) => n1(r)\n}), l1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  identity: d1\n}, Symbol.toStringTag, { value: \"Module\" })), p1 = Rt({\n  prefix: \"0\",\n  name: \"base2\",\n  alphabet: \"01\",\n  bitsPerChar: 1\n}), v1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  base2: p1\n}, Symbol.toStringTag, { value: \"Module\" })), b1 = Rt({\n  prefix: \"7\",\n  name: \"base8\",\n  alphabet: \"01234567\",\n  bitsPerChar: 3\n}), g1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  base8: b1\n}, Symbol.toStringTag, { value: \"Module\" })), y1 = rs({\n  prefix: \"9\",\n  name: \"base10\",\n  alphabet: \"0123456789\"\n}), m1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  base10: y1\n}, Symbol.toStringTag, { value: \"Module\" })), w1 = Rt({\n  prefix: \"f\",\n  name: \"base16\",\n  alphabet: \"0123456789abcdef\",\n  bitsPerChar: 4\n}), _1 = Rt({\n  prefix: \"F\",\n  name: \"base16upper\",\n  alphabet: \"0123456789ABCDEF\",\n  bitsPerChar: 4\n}), x1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  base16: w1,\n  base16upper: _1\n}, Symbol.toStringTag, { value: \"Module\" })), E1 = Rt({\n  prefix: \"b\",\n  name: \"base32\",\n  alphabet: \"abcdefghijklmnopqrstuvwxyz234567\",\n  bitsPerChar: 5\n}), S1 = Rt({\n  prefix: \"B\",\n  name: \"base32upper\",\n  alphabet: \"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\",\n  bitsPerChar: 5\n}), M1 = Rt({\n  prefix: \"c\",\n  name: \"base32pad\",\n  alphabet: \"abcdefghijklmnopqrstuvwxyz234567=\",\n  bitsPerChar: 5\n}), I1 = Rt({\n  prefix: \"C\",\n  name: \"base32padupper\",\n  alphabet: \"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=\",\n  bitsPerChar: 5\n}), A1 = Rt({\n  prefix: \"v\",\n  name: \"base32hex\",\n  alphabet: \"0123456789abcdefghijklmnopqrstuv\",\n  bitsPerChar: 5\n}), D1 = Rt({\n  prefix: \"V\",\n  name: \"base32hexupper\",\n  alphabet: \"0123456789ABCDEFGHIJKLMNOPQRSTUV\",\n  bitsPerChar: 5\n}), P1 = Rt({\n  prefix: \"t\",\n  name: \"base32hexpad\",\n  alphabet: \"0123456789abcdefghijklmnopqrstuv=\",\n  bitsPerChar: 5\n}), O1 = Rt({\n  prefix: \"T\",\n  name: \"base32hexpadupper\",\n  alphabet: \"0123456789ABCDEFGHIJKLMNOPQRSTUV=\",\n  bitsPerChar: 5\n}), R1 = Rt({\n  prefix: \"h\",\n  name: \"base32z\",\n  alphabet: \"ybndrfg8ejkmcpqxot1uwisza345h769\",\n  bitsPerChar: 5\n}), N1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  base32: E1,\n  base32hex: A1,\n  base32hexpad: P1,\n  base32hexpadupper: O1,\n  base32hexupper: D1,\n  base32pad: M1,\n  base32padupper: I1,\n  base32upper: S1,\n  base32z: R1\n}, Symbol.toStringTag, { value: \"Module\" })), T1 = rs({\n  prefix: \"k\",\n  name: \"base36\",\n  alphabet: \"0123456789abcdefghijklmnopqrstuvwxyz\"\n}), C1 = rs({\n  prefix: \"K\",\n  name: \"base36upper\",\n  alphabet: \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\"\n}), $1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  base36: T1,\n  base36upper: C1\n}, Symbol.toStringTag, { value: \"Module\" })), L1 = rs({\n  name: \"base58btc\",\n  prefix: \"z\",\n  alphabet: \"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"\n}), F1 = rs({\n  name: \"base58flickr\",\n  prefix: \"Z\",\n  alphabet: \"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\"\n}), q1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  base58btc: L1,\n  base58flickr: F1\n}, Symbol.toStringTag, { value: \"Module\" })), U1 = Rt({\n  prefix: \"m\",\n  name: \"base64\",\n  alphabet: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",\n  bitsPerChar: 6\n}), z1 = Rt({\n  prefix: \"M\",\n  name: \"base64pad\",\n  alphabet: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",\n  bitsPerChar: 6\n}), B1 = Rt({\n  prefix: \"u\",\n  name: \"base64url\",\n  alphabet: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",\n  bitsPerChar: 6\n}), k1 = Rt({\n  prefix: \"U\",\n  name: \"base64urlpad\",\n  alphabet: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=\",\n  bitsPerChar: 6\n}), j1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  base64: U1,\n  base64pad: z1,\n  base64url: B1,\n  base64urlpad: k1\n}, Symbol.toStringTag, { value: \"Module\" })), su = Array.from(\"\"), K1 = su.reduce((r, e, t) => (r[t] = e, r), []), H1 = su.reduce((r, e, t) => (r[e.codePointAt(0)] = t, r), []);\nfunction V1(r) {\n  return r.reduce((e, t) => (e += K1[t], e), \"\");\n}\nfunction W1(r) {\n  const e = [];\n  for (const t of r) {\n    const i = H1[t.codePointAt(0)];\n    if (i === void 0)\n      throw new Error(`Non-base256emoji character: ${t}`);\n    e.push(i);\n  }\n  return new Uint8Array(e);\n}\nconst G1 = ha({\n  prefix: \"\",\n  name: \"base256emoji\",\n  encode: V1,\n  decode: W1\n}), J1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  base256emoji: G1\n}, Symbol.toStringTag, { value: \"Module\" }));\nnew TextEncoder();\nnew TextDecoder();\nconst kf = {\n  ...l1,\n  ...v1,\n  ...g1,\n  ...m1,\n  ...x1,\n  ...N1,\n  ...$1,\n  ...q1,\n  ...j1,\n  ...J1\n};\nfunction au(r, e, t, i) {\n  return {\n    name: r,\n    prefix: e,\n    encoder: {\n      name: r,\n      prefix: e,\n      encode: t\n    },\n    decoder: { decode: i }\n  };\n}\nconst jf = au(\"utf8\", \"u\", (r) => \"u\" + new TextDecoder(\"utf8\").decode(r), (r) => new TextEncoder().encode(r.substring(1))), Ua = au(\"ascii\", \"a\", (r) => {\n  let e = \"a\";\n  for (let t = 0; t < r.length; t++)\n    e += String.fromCharCode(r[t]);\n  return e;\n}, (r) => {\n  r = r.substring(1);\n  const e = iu(r.length);\n  for (let t = 0; t < r.length; t++)\n    e[t] = r.charCodeAt(t);\n  return e;\n}), ou = {\n  utf8: jf,\n  \"utf-8\": jf,\n  hex: kf.base16,\n  latin1: Ua,\n  ascii: Ua,\n  binary: Ua,\n  ...kf\n};\nfunction Mt(r, e = \"utf8\") {\n  const t = ou[e];\n  if (!t)\n    throw new Error(`Unsupported encoding \"${e}\"`);\n  return (e === \"utf8\" || e === \"utf-8\") && globalThis.Buffer != null && globalThis.Buffer.from != null ? globalThis.Buffer.from(r.buffer, r.byteOffset, r.byteLength).toString(\"utf8\") : t.encoder.encode(r).substring(1);\n}\nfunction St(r, e = \"utf8\") {\n  const t = ou[e];\n  if (!t)\n    throw new Error(`Unsupported encoding \"${e}\"`);\n  return (e === \"utf8\" || e === \"utf-8\") && globalThis.Buffer != null && globalThis.Buffer.from != null ? globalThis.Buffer.from(r, \"utf8\") : t.decoder.decode(`${t.prefix}${r}`);\n}\nfunction Kf(r) {\n  return un(Mt(St(r, ca), tu));\n}\nfunction Bs(r) {\n  return Mt(St(ji(r), tu), ca);\n}\nfunction fu(r) {\n  const e = St(Zp, Bf), t = Xp + Mt(Ds([e, r]), Bf);\n  return [Jp, Yp, t].join(Gp);\n}\nfunction Y1(r) {\n  return Mt(r, ca);\n}\nfunction X1(r) {\n  return St(r, ca);\n}\nfunction Z1(r) {\n  return St([Bs(r.header), Bs(r.payload)].join(zs), ru);\n}\nfunction Q1(r) {\n  return [\n    Bs(r.header),\n    Bs(r.payload),\n    Y1(r.signature)\n  ].join(zs);\n}\nfunction bo(r) {\n  const e = r.split(zs), t = Kf(e[0]), i = Kf(e[1]), n = X1(e[2]), s = St(e.slice(0, 2).join(zs), ru);\n  return { header: t, payload: i, signature: n, data: s };\n}\nfunction Hf(r = Ei.randomBytes(Qp)) {\n  return Co.generateKeyPairFromSeed(r);\n}\nasync function ev(r, e, t, i, n = ie.fromMiliseconds(Date.now())) {\n  const s = { alg: Vp, typ: Wp }, o = fu(i.publicKey), f = n + t, h = { iss: o, sub: r, aud: e, iat: n, exp: f }, d = Z1({ header: s, payload: h }), v = Co.sign(i.secretKey, d);\n  return Q1({ header: s, payload: h, signature: v });\n}\nvar Vf = globalThis && globalThis.__spreadArray || function(r, e, t) {\n  if (t || arguments.length === 2)\n    for (var i = 0, n = e.length, s; i < n; i++)\n      (s || !(i in e)) && (s || (s = Array.prototype.slice.call(e, 0, i)), s[i] = e[i]);\n  return r.concat(s || Array.prototype.slice.call(e));\n}, tv = (\n  /** @class */\n  function() {\n    function r(e, t, i) {\n      this.name = e, this.version = t, this.os = i, this.type = \"browser\";\n    }\n    return r;\n  }()\n), rv = (\n  /** @class */\n  function() {\n    function r(e) {\n      this.version = e, this.type = \"node\", this.name = \"node\", this.os = process.platform;\n    }\n    return r;\n  }()\n), iv = (\n  /** @class */\n  function() {\n    function r(e, t, i, n) {\n      this.name = e, this.version = t, this.os = i, this.bot = n, this.type = \"bot-device\";\n    }\n    return r;\n  }()\n), nv = (\n  /** @class */\n  function() {\n    function r() {\n      this.type = \"bot\", this.bot = !0, this.name = \"bot\", this.version = null, this.os = null;\n    }\n    return r;\n  }()\n), sv = (\n  /** @class */\n  function() {\n    function r() {\n      this.type = \"react-native\", this.name = \"react-native\", this.version = null, this.os = null;\n    }\n    return r;\n  }()\n), av = /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/, ov = /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/, Wf = 3, fv = [\n  [\"aol\", /AOLShield\\/([0-9\\._]+)/],\n  [\"edge\", /Edge\\/([0-9\\._]+)/],\n  [\"edge-ios\", /EdgiOS\\/([0-9\\._]+)/],\n  [\"yandexbrowser\", /YaBrowser\\/([0-9\\._]+)/],\n  [\"kakaotalk\", /KAKAOTALK\\s([0-9\\.]+)/],\n  [\"samsung\", /SamsungBrowser\\/([0-9\\.]+)/],\n  [\"silk\", /\\bSilk\\/([0-9._-]+)\\b/],\n  [\"miui\", /MiuiBrowser\\/([0-9\\.]+)$/],\n  [\"beaker\", /BeakerBrowser\\/([0-9\\.]+)/],\n  [\"edge-chromium\", /EdgA?\\/([0-9\\.]+)/],\n  [\n    \"chromium-webview\",\n    /(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/\n  ],\n  [\"chrome\", /(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],\n  [\"phantomjs\", /PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],\n  [\"crios\", /CriOS\\/([0-9\\.]+)(:?\\s|$)/],\n  [\"firefox\", /Firefox\\/([0-9\\.]+)(?:\\s|$)/],\n  [\"fxios\", /FxiOS\\/([0-9\\.]+)/],\n  [\"opera-mini\", /Opera Mini.*Version\\/([0-9\\.]+)/],\n  [\"opera\", /Opera\\/([0-9\\.]+)(?:\\s|$)/],\n  [\"opera\", /OPR\\/([0-9\\.]+)(:?\\s|$)/],\n  [\"pie\", /^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],\n  [\"pie\", /^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],\n  [\"netfront\", /^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],\n  [\"ie\", /Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],\n  [\"ie\", /MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],\n  [\"ie\", /MSIE\\s(7\\.0)/],\n  [\"bb10\", /BB10;\\sTouch.*Version\\/([0-9\\.]+)/],\n  [\"android\", /Android\\s([0-9\\.]+)/],\n  [\"ios\", /Version\\/([0-9\\._]+).*Mobile.*Safari.*/],\n  [\"safari\", /Version\\/([0-9\\._]+).*Safari/],\n  [\"facebook\", /FB[AS]V\\/([0-9\\.]+)/],\n  [\"instagram\", /Instagram\\s([0-9\\.]+)/],\n  [\"ios-webview\", /AppleWebKit\\/([0-9\\.]+).*Mobile/],\n  [\"ios-webview\", /AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],\n  [\"curl\", /^curl\\/([0-9\\.]+)$/],\n  [\"searchbot\", av]\n], Gf = [\n  [\"iOS\", /iP(hone|od|ad)/],\n  [\"Android OS\", /Android/],\n  [\"BlackBerry OS\", /BlackBerry|BB10/],\n  [\"Windows Mobile\", /IEMobile/],\n  [\"Amazon OS\", /Kindle/],\n  [\"Windows 3.11\", /Win16/],\n  [\"Windows 95\", /(Windows 95)|(Win95)|(Windows_95)/],\n  [\"Windows 98\", /(Windows 98)|(Win98)/],\n  [\"Windows 2000\", /(Windows NT 5.0)|(Windows 2000)/],\n  [\"Windows XP\", /(Windows NT 5.1)|(Windows XP)/],\n  [\"Windows Server 2003\", /(Windows NT 5.2)/],\n  [\"Windows Vista\", /(Windows NT 6.0)/],\n  [\"Windows 7\", /(Windows NT 6.1)/],\n  [\"Windows 8\", /(Windows NT 6.2)/],\n  [\"Windows 8.1\", /(Windows NT 6.3)/],\n  [\"Windows 10\", /(Windows NT 10.0)/],\n  [\"Windows ME\", /Windows ME/],\n  [\"Windows CE\", /Windows CE|WinCE|Microsoft Pocket Internet Explorer/],\n  [\"Open BSD\", /OpenBSD/],\n  [\"Sun OS\", /SunOS/],\n  [\"Chrome OS\", /CrOS/],\n  [\"Linux\", /(Linux)|(X11)/],\n  [\"Mac OS\", /(Mac_PowerPC)|(Macintosh)/],\n  [\"QNX\", /QNX/],\n  [\"BeOS\", /BeOS/],\n  [\"OS/2\", /OS\\/2/]\n];\nfunction cu(r) {\n  return r ? Jf(r) : typeof document > \"u\" && typeof navigator < \"u\" && navigator.product === \"ReactNative\" ? new sv() : typeof navigator < \"u\" ? Jf(navigator.userAgent) : uv();\n}\nfunction cv(r) {\n  return r !== \"\" && fv.reduce(function(e, t) {\n    var i = t[0], n = t[1];\n    if (e)\n      return e;\n    var s = n.exec(r);\n    return !!s && [i, s];\n  }, !1);\n}\nfunction Jf(r) {\n  var e = cv(r);\n  if (!e)\n    return null;\n  var t = e[0], i = e[1];\n  if (t === \"searchbot\")\n    return new nv();\n  var n = i[1] && i[1].split(\".\").join(\"_\").split(\"_\").slice(0, 3);\n  n ? n.length < Wf && (n = Vf(Vf([], n, !0), dv(Wf - n.length), !0)) : n = [];\n  var s = n.join(\".\"), o = hv(r), f = ov.exec(r);\n  return f && f[1] ? new iv(t, s, o, f[1]) : new tv(t, s, o);\n}\nfunction hv(r) {\n  for (var e = 0, t = Gf.length; e < t; e++) {\n    var i = Gf[e], n = i[0], s = i[1], o = s.exec(r);\n    if (o)\n      return n;\n  }\n  return null;\n}\nfunction uv() {\n  var r = typeof process < \"u\" && process.version;\n  return r ? new rv(process.version.slice(1)) : null;\n}\nfunction dv(r) {\n  for (var e = [], t = 0; t < r; t++)\n    e.push(\"0\");\n  return e;\n}\nvar ot = {};\nObject.defineProperty(ot, \"__esModule\", { value: !0 });\not.getLocalStorage = ot.getLocalStorageOrThrow = ot.getCrypto = ot.getCryptoOrThrow = hu = ot.getLocation = ot.getLocationOrThrow = $o = ot.getNavigator = ot.getNavigatorOrThrow = is = ot.getDocument = ot.getDocumentOrThrow = ot.getFromWindowOrThrow = ot.getFromWindow = void 0;\nfunction Ji(r) {\n  let e;\n  return typeof window < \"u\" && typeof window[r] < \"u\" && (e = window[r]), e;\n}\not.getFromWindow = Ji;\nfunction yn(r) {\n  const e = Ji(r);\n  if (!e)\n    throw new Error(`${r} is not defined in Window`);\n  return e;\n}\not.getFromWindowOrThrow = yn;\nfunction lv() {\n  return yn(\"document\");\n}\not.getDocumentOrThrow = lv;\nfunction pv() {\n  return Ji(\"document\");\n}\nvar is = ot.getDocument = pv;\nfunction vv() {\n  return yn(\"navigator\");\n}\not.getNavigatorOrThrow = vv;\nfunction bv() {\n  return Ji(\"navigator\");\n}\nvar $o = ot.getNavigator = bv;\nfunction gv() {\n  return yn(\"location\");\n}\not.getLocationOrThrow = gv;\nfunction yv() {\n  return Ji(\"location\");\n}\nvar hu = ot.getLocation = yv;\nfunction mv() {\n  return yn(\"crypto\");\n}\not.getCryptoOrThrow = mv;\nfunction wv() {\n  return Ji(\"crypto\");\n}\not.getCrypto = wv;\nfunction _v() {\n  return yn(\"localStorage\");\n}\not.getLocalStorageOrThrow = _v;\nfunction xv() {\n  return Ji(\"localStorage\");\n}\not.getLocalStorage = xv;\nvar Lo = {};\nObject.defineProperty(Lo, \"__esModule\", { value: !0 });\nvar uu = Lo.getWindowMetadata = void 0;\nconst Yf = ot;\nfunction Ev() {\n  let r, e;\n  try {\n    r = Yf.getDocumentOrThrow(), e = Yf.getLocationOrThrow();\n  } catch {\n    return null;\n  }\n  function t() {\n    const w = r.getElementsByTagName(\"link\"), A = [];\n    for (let I = 0; I < w.length; I++) {\n      const D = w[I], N = D.getAttribute(\"rel\");\n      if (N && N.toLowerCase().indexOf(\"icon\") > -1) {\n        const k = D.getAttribute(\"href\");\n        if (k)\n          if (k.toLowerCase().indexOf(\"https:\") === -1 && k.toLowerCase().indexOf(\"http:\") === -1 && k.indexOf(\"//\") !== 0) {\n            let j = e.protocol + \"//\" + e.host;\n            if (k.indexOf(\"/\") === 0)\n              j += k;\n            else {\n              const T = e.pathname.split(\"/\");\n              T.pop();\n              const K = T.join(\"/\");\n              j += K + \"/\" + k;\n            }\n            A.push(j);\n          } else if (k.indexOf(\"//\") === 0) {\n            const j = e.protocol + k;\n            A.push(j);\n          } else\n            A.push(k);\n      }\n    }\n    return A;\n  }\n  function i(...w) {\n    const A = r.getElementsByTagName(\"meta\");\n    for (let I = 0; I < A.length; I++) {\n      const D = A[I], N = [\"itemprop\", \"property\", \"name\"].map((k) => D.getAttribute(k)).filter((k) => k ? w.includes(k) : !1);\n      if (N.length && N) {\n        const k = D.getAttribute(\"content\");\n        if (k)\n          return k;\n      }\n    }\n    return \"\";\n  }\n  function n() {\n    let w = i(\"name\", \"og:site_name\", \"og:title\", \"twitter:title\");\n    return w || (w = r.title), w;\n  }\n  function s() {\n    return i(\"description\", \"og:description\", \"twitter:description\", \"keywords\");\n  }\n  const o = n(), f = s(), h = e.origin, d = t();\n  return {\n    description: f,\n    url: h,\n    icons: d,\n    name: o\n  };\n}\nuu = Lo.getWindowMetadata = Ev;\nvar Yn = {}, Sv = (r) => encodeURIComponent(r).replace(/[!'()*]/g, (e) => `%${e.charCodeAt(0).toString(16).toUpperCase()}`), du = \"%[a-f0-9]{2}\", Xf = new RegExp(\"(\" + du + \")|([^%]+?)\", \"gi\"), Zf = new RegExp(\"(\" + du + \")+\", \"gi\");\nfunction go(r, e) {\n  try {\n    return [decodeURIComponent(r.join(\"\"))];\n  } catch {\n  }\n  if (r.length === 1)\n    return r;\n  e = e || 1;\n  var t = r.slice(0, e), i = r.slice(e);\n  return Array.prototype.concat.call([], go(t), go(i));\n}\nfunction Mv(r) {\n  try {\n    return decodeURIComponent(r);\n  } catch {\n    for (var e = r.match(Xf) || [], t = 1; t < e.length; t++)\n      r = go(e, t).join(\"\"), e = r.match(Xf) || [];\n    return r;\n  }\n}\nfunction Iv(r) {\n  for (var e = {\n    \"%FE%FF\": \"\",\n    \"%FF%FE\": \"\"\n  }, t = Zf.exec(r); t; ) {\n    try {\n      e[t[0]] = decodeURIComponent(t[0]);\n    } catch {\n      var i = Mv(t[0]);\n      i !== t[0] && (e[t[0]] = i);\n    }\n    t = Zf.exec(r);\n  }\n  e[\"%C2\"] = \"\";\n  for (var n = Object.keys(e), s = 0; s < n.length; s++) {\n    var o = n[s];\n    r = r.replace(new RegExp(o, \"g\"), e[o]);\n  }\n  return r;\n}\nvar Av = function(r) {\n  if (typeof r != \"string\")\n    throw new TypeError(\"Expected `encodedURI` to be of type `string`, got `\" + typeof r + \"`\");\n  try {\n    return r = r.replace(/\\+/g, \" \"), decodeURIComponent(r);\n  } catch {\n    return Iv(r);\n  }\n}, Dv = (r, e) => {\n  if (!(typeof r == \"string\" && typeof e == \"string\"))\n    throw new TypeError(\"Expected the arguments to be of type `string`\");\n  if (e === \"\")\n    return [r];\n  const t = r.indexOf(e);\n  return t === -1 ? [r] : [\n    r.slice(0, t),\n    r.slice(t + e.length)\n  ];\n}, Pv = function(r, e) {\n  for (var t = {}, i = Object.keys(r), n = Array.isArray(e), s = 0; s < i.length; s++) {\n    var o = i[s], f = r[o];\n    (n ? e.indexOf(o) !== -1 : e(o, f, r)) && (t[o] = f);\n  }\n  return t;\n};\n(function(r) {\n  const e = Sv, t = Av, i = Dv, n = Pv, s = (T) => T == null, o = Symbol(\"encodeFragmentIdentifier\");\n  function f(T) {\n    switch (T.arrayFormat) {\n      case \"index\":\n        return (K) => ($, z) => {\n          const B = $.length;\n          return z === void 0 || T.skipNull && z === null || T.skipEmptyString && z === \"\" ? $ : z === null ? [...$, [v(K, T), \"[\", B, \"]\"].join(\"\")] : [\n            ...$,\n            [v(K, T), \"[\", v(B, T), \"]=\", v(z, T)].join(\"\")\n          ];\n        };\n      case \"bracket\":\n        return (K) => ($, z) => z === void 0 || T.skipNull && z === null || T.skipEmptyString && z === \"\" ? $ : z === null ? [...$, [v(K, T), \"[]\"].join(\"\")] : [...$, [v(K, T), \"[]=\", v(z, T)].join(\"\")];\n      case \"colon-list-separator\":\n        return (K) => ($, z) => z === void 0 || T.skipNull && z === null || T.skipEmptyString && z === \"\" ? $ : z === null ? [...$, [v(K, T), \":list=\"].join(\"\")] : [...$, [v(K, T), \":list=\", v(z, T)].join(\"\")];\n      case \"comma\":\n      case \"separator\":\n      case \"bracket-separator\": {\n        const K = T.arrayFormat === \"bracket-separator\" ? \"[]=\" : \"=\";\n        return ($) => (z, B) => B === void 0 || T.skipNull && B === null || T.skipEmptyString && B === \"\" ? z : (B = B === null ? \"\" : B, z.length === 0 ? [[v($, T), K, v(B, T)].join(\"\")] : [[z, v(B, T)].join(T.arrayFormatSeparator)]);\n      }\n      default:\n        return (K) => ($, z) => z === void 0 || T.skipNull && z === null || T.skipEmptyString && z === \"\" ? $ : z === null ? [...$, v(K, T)] : [...$, [v(K, T), \"=\", v(z, T)].join(\"\")];\n    }\n  }\n  function h(T) {\n    let K;\n    switch (T.arrayFormat) {\n      case \"index\":\n        return ($, z, B) => {\n          if (K = /\\[(\\d*)\\]$/.exec($), $ = $.replace(/\\[\\d*\\]$/, \"\"), !K) {\n            B[$] = z;\n            return;\n          }\n          B[$] === void 0 && (B[$] = {}), B[$][K[1]] = z;\n        };\n      case \"bracket\":\n        return ($, z, B) => {\n          if (K = /(\\[\\])$/.exec($), $ = $.replace(/\\[\\]$/, \"\"), !K) {\n            B[$] = z;\n            return;\n          }\n          if (B[$] === void 0) {\n            B[$] = [z];\n            return;\n          }\n          B[$] = [].concat(B[$], z);\n        };\n      case \"colon-list-separator\":\n        return ($, z, B) => {\n          if (K = /(:list)$/.exec($), $ = $.replace(/:list$/, \"\"), !K) {\n            B[$] = z;\n            return;\n          }\n          if (B[$] === void 0) {\n            B[$] = [z];\n            return;\n          }\n          B[$] = [].concat(B[$], z);\n        };\n      case \"comma\":\n      case \"separator\":\n        return ($, z, B) => {\n          const _ = typeof z == \"string\" && z.includes(T.arrayFormatSeparator), R = typeof z == \"string\" && !_ && w(z, T).includes(T.arrayFormatSeparator);\n          z = R ? w(z, T) : z;\n          const J = _ || R ? z.split(T.arrayFormatSeparator).map((Q) => w(Q, T)) : z === null ? z : w(z, T);\n          B[$] = J;\n        };\n      case \"bracket-separator\":\n        return ($, z, B) => {\n          const _ = /(\\[\\])$/.test($);\n          if ($ = $.replace(/\\[\\]$/, \"\"), !_) {\n            B[$] = z && w(z, T);\n            return;\n          }\n          const R = z === null ? [] : z.split(T.arrayFormatSeparator).map((J) => w(J, T));\n          if (B[$] === void 0) {\n            B[$] = R;\n            return;\n          }\n          B[$] = [].concat(B[$], R);\n        };\n      default:\n        return ($, z, B) => {\n          if (B[$] === void 0) {\n            B[$] = z;\n            return;\n          }\n          B[$] = [].concat(B[$], z);\n        };\n    }\n  }\n  function d(T) {\n    if (typeof T != \"string\" || T.length !== 1)\n      throw new TypeError(\"arrayFormatSeparator must be single character string\");\n  }\n  function v(T, K) {\n    return K.encode ? K.strict ? e(T) : encodeURIComponent(T) : T;\n  }\n  function w(T, K) {\n    return K.decode ? t(T) : T;\n  }\n  function A(T) {\n    return Array.isArray(T) ? T.sort() : typeof T == \"object\" ? A(Object.keys(T)).sort((K, $) => Number(K) - Number($)).map((K) => T[K]) : T;\n  }\n  function I(T) {\n    const K = T.indexOf(\"#\");\n    return K !== -1 && (T = T.slice(0, K)), T;\n  }\n  function D(T) {\n    let K = \"\";\n    const $ = T.indexOf(\"#\");\n    return $ !== -1 && (K = T.slice($)), K;\n  }\n  function N(T) {\n    T = I(T);\n    const K = T.indexOf(\"?\");\n    return K === -1 ? \"\" : T.slice(K + 1);\n  }\n  function k(T, K) {\n    return K.parseNumbers && !Number.isNaN(Number(T)) && typeof T == \"string\" && T.trim() !== \"\" ? T = Number(T) : K.parseBooleans && T !== null && (T.toLowerCase() === \"true\" || T.toLowerCase() === \"false\") && (T = T.toLowerCase() === \"true\"), T;\n  }\n  function j(T, K) {\n    K = Object.assign({\n      decode: !0,\n      sort: !0,\n      arrayFormat: \"none\",\n      arrayFormatSeparator: \",\",\n      parseNumbers: !1,\n      parseBooleans: !1\n    }, K), d(K.arrayFormatSeparator);\n    const $ = h(K), z = /* @__PURE__ */ Object.create(null);\n    if (typeof T != \"string\" || (T = T.trim().replace(/^[?#&]/, \"\"), !T))\n      return z;\n    for (const B of T.split(\"&\")) {\n      if (B === \"\")\n        continue;\n      let [_, R] = i(K.decode ? B.replace(/\\+/g, \" \") : B, \"=\");\n      R = R === void 0 ? null : [\"comma\", \"separator\", \"bracket-separator\"].includes(K.arrayFormat) ? R : w(R, K), $(w(_, K), R, z);\n    }\n    for (const B of Object.keys(z)) {\n      const _ = z[B];\n      if (typeof _ == \"object\" && _ !== null)\n        for (const R of Object.keys(_))\n          _[R] = k(_[R], K);\n      else\n        z[B] = k(_, K);\n    }\n    return K.sort === !1 ? z : (K.sort === !0 ? Object.keys(z).sort() : Object.keys(z).sort(K.sort)).reduce((B, _) => {\n      const R = z[_];\n      return R && typeof R == \"object\" && !Array.isArray(R) ? B[_] = A(R) : B[_] = R, B;\n    }, /* @__PURE__ */ Object.create(null));\n  }\n  r.extract = N, r.parse = j, r.stringify = (T, K) => {\n    if (!T)\n      return \"\";\n    K = Object.assign({\n      encode: !0,\n      strict: !0,\n      arrayFormat: \"none\",\n      arrayFormatSeparator: \",\"\n    }, K), d(K.arrayFormatSeparator);\n    const $ = (R) => K.skipNull && s(T[R]) || K.skipEmptyString && T[R] === \"\", z = f(K), B = {};\n    for (const R of Object.keys(T))\n      $(R) || (B[R] = T[R]);\n    const _ = Object.keys(B);\n    return K.sort !== !1 && _.sort(K.sort), _.map((R) => {\n      const J = T[R];\n      return J === void 0 ? \"\" : J === null ? v(R, K) : Array.isArray(J) ? J.length === 0 && K.arrayFormat === \"bracket-separator\" ? v(R, K) + \"[]\" : J.reduce(z(R), []).join(\"&\") : v(R, K) + \"=\" + v(J, K);\n    }).filter((R) => R.length > 0).join(\"&\");\n  }, r.parseUrl = (T, K) => {\n    K = Object.assign({\n      decode: !0\n    }, K);\n    const [$, z] = i(T, \"#\");\n    return Object.assign(\n      {\n        url: $.split(\"?\")[0] || \"\",\n        query: j(N(T), K)\n      },\n      K && K.parseFragmentIdentifier && z ? { fragmentIdentifier: w(z, K) } : {}\n    );\n  }, r.stringifyUrl = (T, K) => {\n    K = Object.assign({\n      encode: !0,\n      strict: !0,\n      [o]: !0\n    }, K);\n    const $ = I(T.url).split(\"?\")[0] || \"\", z = r.extract(T.url), B = r.parse(z, { sort: !1 }), _ = Object.assign(B, T.query);\n    let R = r.stringify(_, K);\n    R && (R = `?${R}`);\n    let J = D(T.url);\n    return T.fragmentIdentifier && (J = `#${K[o] ? v(T.fragmentIdentifier, K) : T.fragmentIdentifier}`), `${$}${R}${J}`;\n  }, r.pick = (T, K, $) => {\n    $ = Object.assign({\n      parseFragmentIdentifier: !0,\n      [o]: !1\n    }, $);\n    const { url: z, query: B, fragmentIdentifier: _ } = r.parseUrl(T, $);\n    return r.stringifyUrl({\n      url: z,\n      query: n(B, K),\n      fragmentIdentifier: _\n    }, $);\n  }, r.exclude = (T, K, $) => {\n    const z = Array.isArray(K) ? (B) => !K.includes(B) : (B, _) => !K(B, _);\n    return r.pick(T, z, $);\n  };\n})(Yn);\nvar lu = { exports: {} };\n/**\n * [js-sha3]{@link https://github.com/emn178/js-sha3}\n *\n * @version 0.8.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2015-2018\n * @license MIT\n */\n(function(r) {\n  (function() {\n    var e = \"input is invalid type\", t = \"finalize already called\", i = typeof window == \"object\", n = i ? window : {};\n    n.JS_SHA3_NO_WINDOW && (i = !1);\n    var s = !i && typeof self == \"object\", o = !n.JS_SHA3_NO_NODE_JS && typeof process == \"object\" && process.versions && process.versions.node;\n    o ? n = _lastConnected_e9351912_js__WEBPACK_IMPORTED_MODULE_0__.c : s && (n = self);\n    var f = !n.JS_SHA3_NO_COMMON_JS && !0 && r.exports, h = !n.JS_SHA3_NO_ARRAY_BUFFER && typeof ArrayBuffer < \"u\", d = \"0123456789abcdef\".split(\"\"), v = [31, 7936, 2031616, 520093696], w = [4, 1024, 262144, 67108864], A = [1, 256, 65536, 16777216], I = [6, 1536, 393216, 100663296], D = [0, 8, 16, 24], N = [\n      1,\n      0,\n      32898,\n      0,\n      32906,\n      2147483648,\n      2147516416,\n      2147483648,\n      32907,\n      0,\n      2147483649,\n      0,\n      2147516545,\n      2147483648,\n      32777,\n      2147483648,\n      138,\n      0,\n      136,\n      0,\n      2147516425,\n      0,\n      2147483658,\n      0,\n      2147516555,\n      0,\n      139,\n      2147483648,\n      32905,\n      2147483648,\n      32771,\n      2147483648,\n      32770,\n      2147483648,\n      128,\n      2147483648,\n      32778,\n      0,\n      2147483658,\n      2147483648,\n      2147516545,\n      2147483648,\n      32896,\n      2147483648,\n      2147483649,\n      0,\n      2147516424,\n      2147483648\n    ], k = [224, 256, 384, 512], j = [128, 256], T = [\"hex\", \"buffer\", \"arrayBuffer\", \"array\", \"digest\"], K = {\n      128: 168,\n      256: 136\n    };\n    (n.JS_SHA3_NO_NODE_JS || !Array.isArray) && (Array.isArray = function(M) {\n      return Object.prototype.toString.call(M) === \"[object Array]\";\n    }), h && (n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView) && (ArrayBuffer.isView = function(M) {\n      return typeof M == \"object\" && M.buffer && M.buffer.constructor === ArrayBuffer;\n    });\n    for (var $ = function(M, H, C) {\n      return function(q) {\n        return new g(M, H, M).update(q)[C]();\n      };\n    }, z = function(M, H, C) {\n      return function(q, L) {\n        return new g(M, H, L).update(q)[C]();\n      };\n    }, B = function(M, H, C) {\n      return function(q, L, y, F) {\n        return a[\"cshake\" + M].update(q, L, y, F)[C]();\n      };\n    }, _ = function(M, H, C) {\n      return function(q, L, y, F) {\n        return a[\"kmac\" + M].update(q, L, y, F)[C]();\n      };\n    }, R = function(M, H, C, q) {\n      for (var L = 0; L < T.length; ++L) {\n        var y = T[L];\n        M[y] = H(C, q, y);\n      }\n      return M;\n    }, J = function(M, H) {\n      var C = $(M, H, \"hex\");\n      return C.create = function() {\n        return new g(M, H, M);\n      }, C.update = function(q) {\n        return C.create().update(q);\n      }, R(C, $, M, H);\n    }, Q = function(M, H) {\n      var C = z(M, H, \"hex\");\n      return C.create = function(q) {\n        return new g(M, H, q);\n      }, C.update = function(q, L) {\n        return C.create(L).update(q);\n      }, R(C, z, M, H);\n    }, O = function(M, H) {\n      var C = K[M], q = B(M, H, \"hex\");\n      return q.create = function(L, y, F) {\n        return !y && !F ? a[\"shake\" + M].create(L) : new g(M, H, L).bytepad([y, F], C);\n      }, q.update = function(L, y, F, W) {\n        return q.create(y, F, W).update(L);\n      }, R(q, B, M, H);\n    }, p = function(M, H) {\n      var C = K[M], q = _(M, H, \"hex\");\n      return q.create = function(L, y, F) {\n        return new P(M, H, y).bytepad([\"KMAC\", F], C).bytepad([L], C);\n      }, q.update = function(L, y, F, W) {\n        return q.create(L, F, W).update(y);\n      }, R(q, _, M, H);\n    }, l = [\n      { name: \"keccak\", padding: A, bits: k, createMethod: J },\n      { name: \"sha3\", padding: I, bits: k, createMethod: J },\n      { name: \"shake\", padding: v, bits: j, createMethod: Q },\n      { name: \"cshake\", padding: w, bits: j, createMethod: O },\n      { name: \"kmac\", padding: w, bits: j, createMethod: p }\n    ], a = {}, c = [], b = 0; b < l.length; ++b)\n      for (var E = l[b], S = E.bits, x = 0; x < S.length; ++x) {\n        var u = E.name + \"_\" + S[x];\n        if (c.push(u), a[u] = E.createMethod(S[x], E.padding), E.name !== \"sha3\") {\n          var m = E.name + S[x];\n          c.push(m), a[m] = a[u];\n        }\n      }\n    function g(M, H, C) {\n      this.blocks = [], this.s = [], this.padding = H, this.outputBits = C, this.reset = !0, this.finalized = !1, this.block = 0, this.start = 0, this.blockCount = 1600 - (M << 1) >> 5, this.byteCount = this.blockCount << 2, this.outputBlocks = C >> 5, this.extraBytes = (C & 31) >> 3;\n      for (var q = 0; q < 50; ++q)\n        this.s[q] = 0;\n    }\n    g.prototype.update = function(M) {\n      if (this.finalized)\n        throw new Error(t);\n      var H, C = typeof M;\n      if (C !== \"string\") {\n        if (C === \"object\") {\n          if (M === null)\n            throw new Error(e);\n          if (h && M.constructor === ArrayBuffer)\n            M = new Uint8Array(M);\n          else if (!Array.isArray(M) && (!h || !ArrayBuffer.isView(M)))\n            throw new Error(e);\n        } else\n          throw new Error(e);\n        H = !0;\n      }\n      for (var q = this.blocks, L = this.byteCount, y = M.length, F = this.blockCount, W = 0, Y = this.s, X, ee; W < y; ) {\n        if (this.reset)\n          for (this.reset = !1, q[0] = this.block, X = 1; X < F + 1; ++X)\n            q[X] = 0;\n        if (H)\n          for (X = this.start; W < y && X < L; ++W)\n            q[X >> 2] |= M[W] << D[X++ & 3];\n        else\n          for (X = this.start; W < y && X < L; ++W)\n            ee = M.charCodeAt(W), ee < 128 ? q[X >> 2] |= ee << D[X++ & 3] : ee < 2048 ? (q[X >> 2] |= (192 | ee >> 6) << D[X++ & 3], q[X >> 2] |= (128 | ee & 63) << D[X++ & 3]) : ee < 55296 || ee >= 57344 ? (q[X >> 2] |= (224 | ee >> 12) << D[X++ & 3], q[X >> 2] |= (128 | ee >> 6 & 63) << D[X++ & 3], q[X >> 2] |= (128 | ee & 63) << D[X++ & 3]) : (ee = 65536 + ((ee & 1023) << 10 | M.charCodeAt(++W) & 1023), q[X >> 2] |= (240 | ee >> 18) << D[X++ & 3], q[X >> 2] |= (128 | ee >> 12 & 63) << D[X++ & 3], q[X >> 2] |= (128 | ee >> 6 & 63) << D[X++ & 3], q[X >> 2] |= (128 | ee & 63) << D[X++ & 3]);\n        if (this.lastByteIndex = X, X >= L) {\n          for (this.start = X - L, this.block = q[F], X = 0; X < F; ++X)\n            Y[X] ^= q[X];\n          G(Y), this.reset = !0;\n        } else\n          this.start = X;\n      }\n      return this;\n    }, g.prototype.encode = function(M, H) {\n      var C = M & 255, q = 1, L = [C];\n      for (M = M >> 8, C = M & 255; C > 0; )\n        L.unshift(C), M = M >> 8, C = M & 255, ++q;\n      return H ? L.push(q) : L.unshift(q), this.update(L), L.length;\n    }, g.prototype.encodeString = function(M) {\n      var H, C = typeof M;\n      if (C !== \"string\") {\n        if (C === \"object\") {\n          if (M === null)\n            throw new Error(e);\n          if (h && M.constructor === ArrayBuffer)\n            M = new Uint8Array(M);\n          else if (!Array.isArray(M) && (!h || !ArrayBuffer.isView(M)))\n            throw new Error(e);\n        } else\n          throw new Error(e);\n        H = !0;\n      }\n      var q = 0, L = M.length;\n      if (H)\n        q = L;\n      else\n        for (var y = 0; y < M.length; ++y) {\n          var F = M.charCodeAt(y);\n          F < 128 ? q += 1 : F < 2048 ? q += 2 : F < 55296 || F >= 57344 ? q += 3 : (F = 65536 + ((F & 1023) << 10 | M.charCodeAt(++y) & 1023), q += 4);\n        }\n      return q += this.encode(q * 8), this.update(M), q;\n    }, g.prototype.bytepad = function(M, H) {\n      for (var C = this.encode(H), q = 0; q < M.length; ++q)\n        C += this.encodeString(M[q]);\n      var L = H - C % H, y = [];\n      return y.length = L, this.update(y), this;\n    }, g.prototype.finalize = function() {\n      if (!this.finalized) {\n        this.finalized = !0;\n        var M = this.blocks, H = this.lastByteIndex, C = this.blockCount, q = this.s;\n        if (M[H >> 2] |= this.padding[H & 3], this.lastByteIndex === this.byteCount)\n          for (M[0] = M[C], H = 1; H < C + 1; ++H)\n            M[H] = 0;\n        for (M[C - 1] |= 2147483648, H = 0; H < C; ++H)\n          q[H] ^= M[H];\n        G(q);\n      }\n    }, g.prototype.toString = g.prototype.hex = function() {\n      this.finalize();\n      for (var M = this.blockCount, H = this.s, C = this.outputBlocks, q = this.extraBytes, L = 0, y = 0, F = \"\", W; y < C; ) {\n        for (L = 0; L < M && y < C; ++L, ++y)\n          W = H[L], F += d[W >> 4 & 15] + d[W & 15] + d[W >> 12 & 15] + d[W >> 8 & 15] + d[W >> 20 & 15] + d[W >> 16 & 15] + d[W >> 28 & 15] + d[W >> 24 & 15];\n        y % M === 0 && (G(H), L = 0);\n      }\n      return q && (W = H[L], F += d[W >> 4 & 15] + d[W & 15], q > 1 && (F += d[W >> 12 & 15] + d[W >> 8 & 15]), q > 2 && (F += d[W >> 20 & 15] + d[W >> 16 & 15])), F;\n    }, g.prototype.arrayBuffer = function() {\n      this.finalize();\n      var M = this.blockCount, H = this.s, C = this.outputBlocks, q = this.extraBytes, L = 0, y = 0, F = this.outputBits >> 3, W;\n      q ? W = new ArrayBuffer(C + 1 << 2) : W = new ArrayBuffer(F);\n      for (var Y = new Uint32Array(W); y < C; ) {\n        for (L = 0; L < M && y < C; ++L, ++y)\n          Y[y] = H[L];\n        y % M === 0 && G(H);\n      }\n      return q && (Y[L] = H[L], W = W.slice(0, F)), W;\n    }, g.prototype.buffer = g.prototype.arrayBuffer, g.prototype.digest = g.prototype.array = function() {\n      this.finalize();\n      for (var M = this.blockCount, H = this.s, C = this.outputBlocks, q = this.extraBytes, L = 0, y = 0, F = [], W, Y; y < C; ) {\n        for (L = 0; L < M && y < C; ++L, ++y)\n          W = y << 2, Y = H[L], F[W] = Y & 255, F[W + 1] = Y >> 8 & 255, F[W + 2] = Y >> 16 & 255, F[W + 3] = Y >> 24 & 255;\n        y % M === 0 && G(H);\n      }\n      return q && (W = y << 2, Y = H[L], F[W] = Y & 255, q > 1 && (F[W + 1] = Y >> 8 & 255), q > 2 && (F[W + 2] = Y >> 16 & 255)), F;\n    };\n    function P(M, H, C) {\n      g.call(this, M, H, C);\n    }\n    P.prototype = new g(), P.prototype.finalize = function() {\n      return this.encode(this.outputBits, !0), g.prototype.finalize.call(this);\n    };\n    var G = function(M) {\n      var H, C, q, L, y, F, W, Y, X, ee, we, Me, he, Re, xe, se, ge, le, ne, ue, fe, te, pe, _e, re, Ee, Se, oe, De, Ie, Pe, Ge, Ye, Ae, Ze, et, Ne, Ce, Te, de, $e, Le, ce, Ue, ze, ye, Be, ke, ve, Fe, Oe, me, je, rt, qe, it, Je, tt, jt, Kt, Ht, Vt, gt;\n      for (q = 0; q < 48; q += 2)\n        L = M[0] ^ M[10] ^ M[20] ^ M[30] ^ M[40], y = M[1] ^ M[11] ^ M[21] ^ M[31] ^ M[41], F = M[2] ^ M[12] ^ M[22] ^ M[32] ^ M[42], W = M[3] ^ M[13] ^ M[23] ^ M[33] ^ M[43], Y = M[4] ^ M[14] ^ M[24] ^ M[34] ^ M[44], X = M[5] ^ M[15] ^ M[25] ^ M[35] ^ M[45], ee = M[6] ^ M[16] ^ M[26] ^ M[36] ^ M[46], we = M[7] ^ M[17] ^ M[27] ^ M[37] ^ M[47], Me = M[8] ^ M[18] ^ M[28] ^ M[38] ^ M[48], he = M[9] ^ M[19] ^ M[29] ^ M[39] ^ M[49], H = Me ^ (F << 1 | W >>> 31), C = he ^ (W << 1 | F >>> 31), M[0] ^= H, M[1] ^= C, M[10] ^= H, M[11] ^= C, M[20] ^= H, M[21] ^= C, M[30] ^= H, M[31] ^= C, M[40] ^= H, M[41] ^= C, H = L ^ (Y << 1 | X >>> 31), C = y ^ (X << 1 | Y >>> 31), M[2] ^= H, M[3] ^= C, M[12] ^= H, M[13] ^= C, M[22] ^= H, M[23] ^= C, M[32] ^= H, M[33] ^= C, M[42] ^= H, M[43] ^= C, H = F ^ (ee << 1 | we >>> 31), C = W ^ (we << 1 | ee >>> 31), M[4] ^= H, M[5] ^= C, M[14] ^= H, M[15] ^= C, M[24] ^= H, M[25] ^= C, M[34] ^= H, M[35] ^= C, M[44] ^= H, M[45] ^= C, H = Y ^ (Me << 1 | he >>> 31), C = X ^ (he << 1 | Me >>> 31), M[6] ^= H, M[7] ^= C, M[16] ^= H, M[17] ^= C, M[26] ^= H, M[27] ^= C, M[36] ^= H, M[37] ^= C, M[46] ^= H, M[47] ^= C, H = ee ^ (L << 1 | y >>> 31), C = we ^ (y << 1 | L >>> 31), M[8] ^= H, M[9] ^= C, M[18] ^= H, M[19] ^= C, M[28] ^= H, M[29] ^= C, M[38] ^= H, M[39] ^= C, M[48] ^= H, M[49] ^= C, Re = M[0], xe = M[1], ye = M[11] << 4 | M[10] >>> 28, Be = M[10] << 4 | M[11] >>> 28, oe = M[20] << 3 | M[21] >>> 29, De = M[21] << 3 | M[20] >>> 29, Kt = M[31] << 9 | M[30] >>> 23, Ht = M[30] << 9 | M[31] >>> 23, Le = M[40] << 18 | M[41] >>> 14, ce = M[41] << 18 | M[40] >>> 14, Ae = M[2] << 1 | M[3] >>> 31, Ze = M[3] << 1 | M[2] >>> 31, se = M[13] << 12 | M[12] >>> 20, ge = M[12] << 12 | M[13] >>> 20, ke = M[22] << 10 | M[23] >>> 22, ve = M[23] << 10 | M[22] >>> 22, Ie = M[33] << 13 | M[32] >>> 19, Pe = M[32] << 13 | M[33] >>> 19, Vt = M[42] << 2 | M[43] >>> 30, gt = M[43] << 2 | M[42] >>> 30, rt = M[5] << 30 | M[4] >>> 2, qe = M[4] << 30 | M[5] >>> 2, et = M[14] << 6 | M[15] >>> 26, Ne = M[15] << 6 | M[14] >>> 26, le = M[25] << 11 | M[24] >>> 21, ne = M[24] << 11 | M[25] >>> 21, Fe = M[34] << 15 | M[35] >>> 17, Oe = M[35] << 15 | M[34] >>> 17, Ge = M[45] << 29 | M[44] >>> 3, Ye = M[44] << 29 | M[45] >>> 3, _e = M[6] << 28 | M[7] >>> 4, re = M[7] << 28 | M[6] >>> 4, it = M[17] << 23 | M[16] >>> 9, Je = M[16] << 23 | M[17] >>> 9, Ce = M[26] << 25 | M[27] >>> 7, Te = M[27] << 25 | M[26] >>> 7, ue = M[36] << 21 | M[37] >>> 11, fe = M[37] << 21 | M[36] >>> 11, me = M[47] << 24 | M[46] >>> 8, je = M[46] << 24 | M[47] >>> 8, Ue = M[8] << 27 | M[9] >>> 5, ze = M[9] << 27 | M[8] >>> 5, Ee = M[18] << 20 | M[19] >>> 12, Se = M[19] << 20 | M[18] >>> 12, tt = M[29] << 7 | M[28] >>> 25, jt = M[28] << 7 | M[29] >>> 25, de = M[38] << 8 | M[39] >>> 24, $e = M[39] << 8 | M[38] >>> 24, te = M[48] << 14 | M[49] >>> 18, pe = M[49] << 14 | M[48] >>> 18, M[0] = Re ^ ~se & le, M[1] = xe ^ ~ge & ne, M[10] = _e ^ ~Ee & oe, M[11] = re ^ ~Se & De, M[20] = Ae ^ ~et & Ce, M[21] = Ze ^ ~Ne & Te, M[30] = Ue ^ ~ye & ke, M[31] = ze ^ ~Be & ve, M[40] = rt ^ ~it & tt, M[41] = qe ^ ~Je & jt, M[2] = se ^ ~le & ue, M[3] = ge ^ ~ne & fe, M[12] = Ee ^ ~oe & Ie, M[13] = Se ^ ~De & Pe, M[22] = et ^ ~Ce & de, M[23] = Ne ^ ~Te & $e, M[32] = ye ^ ~ke & Fe, M[33] = Be ^ ~ve & Oe, M[42] = it ^ ~tt & Kt, M[43] = Je ^ ~jt & Ht, M[4] = le ^ ~ue & te, M[5] = ne ^ ~fe & pe, M[14] = oe ^ ~Ie & Ge, M[15] = De ^ ~Pe & Ye, M[24] = Ce ^ ~de & Le, M[25] = Te ^ ~$e & ce, M[34] = ke ^ ~Fe & me, M[35] = ve ^ ~Oe & je, M[44] = tt ^ ~Kt & Vt, M[45] = jt ^ ~Ht & gt, M[6] = ue ^ ~te & Re, M[7] = fe ^ ~pe & xe, M[16] = Ie ^ ~Ge & _e, M[17] = Pe ^ ~Ye & re, M[26] = de ^ ~Le & Ae, M[27] = $e ^ ~ce & Ze, M[36] = Fe ^ ~me & Ue, M[37] = Oe ^ ~je & ze, M[46] = Kt ^ ~Vt & rt, M[47] = Ht ^ ~gt & qe, M[8] = te ^ ~Re & se, M[9] = pe ^ ~xe & ge, M[18] = Ge ^ ~_e & Ee, M[19] = Ye ^ ~re & Se, M[28] = Le ^ ~Ae & et, M[29] = ce ^ ~Ze & Ne, M[38] = me ^ ~Ue & ye, M[39] = je ^ ~ze & Be, M[48] = Vt ^ ~rt & it, M[49] = gt ^ ~qe & Je, M[0] ^= N[q], M[1] ^= N[q + 1];\n    };\n    if (f)\n      r.exports = a;\n    else\n      for (b = 0; b < c.length; ++b)\n        n[c[b]] = a[c[b]];\n  })();\n})(lu);\nvar Ov = lu.exports;\nconst Rv = /* @__PURE__ */ (0,_lastConnected_e9351912_js__WEBPACK_IMPORTED_MODULE_0__.d)(Ov), Nv = \"logger/5.7.0\";\nlet Qf = !1, ec = !1;\nconst Ps = { debug: 1, default: 2, info: 2, warning: 3, error: 4, off: 5 };\nlet tc = Ps.default, za = null;\nfunction Tv() {\n  try {\n    const r = [];\n    if ([\"NFD\", \"NFC\", \"NFKD\", \"NFKC\"].forEach((e) => {\n      try {\n        if (\"test\".normalize(e) !== \"test\")\n          throw new Error(\"bad normalize\");\n      } catch {\n        r.push(e);\n      }\n    }), r.length)\n      throw new Error(\"missing \" + r.join(\", \"));\n    if (String.fromCharCode(233).normalize(\"NFD\") !== String.fromCharCode(101, 769))\n      throw new Error(\"broken implementation\");\n  } catch (r) {\n    return r.message;\n  }\n  return null;\n}\nconst rc = Tv();\nvar yo;\n(function(r) {\n  r.DEBUG = \"DEBUG\", r.INFO = \"INFO\", r.WARNING = \"WARNING\", r.ERROR = \"ERROR\", r.OFF = \"OFF\";\n})(yo || (yo = {}));\nvar Sr;\n(function(r) {\n  r.UNKNOWN_ERROR = \"UNKNOWN_ERROR\", r.NOT_IMPLEMENTED = \"NOT_IMPLEMENTED\", r.UNSUPPORTED_OPERATION = \"UNSUPPORTED_OPERATION\", r.NETWORK_ERROR = \"NETWORK_ERROR\", r.SERVER_ERROR = \"SERVER_ERROR\", r.TIMEOUT = \"TIMEOUT\", r.BUFFER_OVERRUN = \"BUFFER_OVERRUN\", r.NUMERIC_FAULT = \"NUMERIC_FAULT\", r.MISSING_NEW = \"MISSING_NEW\", r.INVALID_ARGUMENT = \"INVALID_ARGUMENT\", r.MISSING_ARGUMENT = \"MISSING_ARGUMENT\", r.UNEXPECTED_ARGUMENT = \"UNEXPECTED_ARGUMENT\", r.CALL_EXCEPTION = \"CALL_EXCEPTION\", r.INSUFFICIENT_FUNDS = \"INSUFFICIENT_FUNDS\", r.NONCE_EXPIRED = \"NONCE_EXPIRED\", r.REPLACEMENT_UNDERPRICED = \"REPLACEMENT_UNDERPRICED\", r.UNPREDICTABLE_GAS_LIMIT = \"UNPREDICTABLE_GAS_LIMIT\", r.TRANSACTION_REPLACED = \"TRANSACTION_REPLACED\", r.ACTION_REJECTED = \"ACTION_REJECTED\";\n})(Sr || (Sr = {}));\nconst ic = \"0123456789abcdef\";\nclass ht {\n  constructor(e) {\n    Object.defineProperty(this, \"version\", {\n      enumerable: !0,\n      value: e,\n      writable: !1\n    });\n  }\n  _log(e, t) {\n    const i = e.toLowerCase();\n    Ps[i] == null && this.throwArgumentError(\"invalid log level name\", \"logLevel\", e), !(tc > Ps[i]) && console.log.apply(console, t);\n  }\n  debug(...e) {\n    this._log(ht.levels.DEBUG, e);\n  }\n  info(...e) {\n    this._log(ht.levels.INFO, e);\n  }\n  warn(...e) {\n    this._log(ht.levels.WARNING, e);\n  }\n  makeError(e, t, i) {\n    if (ec)\n      return this.makeError(\"censored error\", t, {});\n    t || (t = ht.errors.UNKNOWN_ERROR), i || (i = {});\n    const n = [];\n    Object.keys(i).forEach((h) => {\n      const d = i[h];\n      try {\n        if (d instanceof Uint8Array) {\n          let v = \"\";\n          for (let w = 0; w < d.length; w++)\n            v += ic[d[w] >> 4], v += ic[d[w] & 15];\n          n.push(h + \"=Uint8Array(0x\" + v + \")\");\n        } else\n          n.push(h + \"=\" + JSON.stringify(d));\n      } catch {\n        n.push(h + \"=\" + JSON.stringify(i[h].toString()));\n      }\n    }), n.push(`code=${t}`), n.push(`version=${this.version}`);\n    const s = e;\n    let o = \"\";\n    switch (t) {\n      case Sr.NUMERIC_FAULT: {\n        o = \"NUMERIC_FAULT\";\n        const h = e;\n        switch (h) {\n          case \"overflow\":\n          case \"underflow\":\n          case \"division-by-zero\":\n            o += \"-\" + h;\n            break;\n          case \"negative-power\":\n          case \"negative-width\":\n            o += \"-unsupported\";\n            break;\n          case \"unbound-bitwise-result\":\n            o += \"-unbound-result\";\n            break;\n        }\n        break;\n      }\n      case Sr.CALL_EXCEPTION:\n      case Sr.INSUFFICIENT_FUNDS:\n      case Sr.MISSING_NEW:\n      case Sr.NONCE_EXPIRED:\n      case Sr.REPLACEMENT_UNDERPRICED:\n      case Sr.TRANSACTION_REPLACED:\n      case Sr.UNPREDICTABLE_GAS_LIMIT:\n        o = t;\n        break;\n    }\n    o && (e += \" [ See: https://links.ethers.org/v5-errors-\" + o + \" ]\"), n.length && (e += \" (\" + n.join(\", \") + \")\");\n    const f = new Error(e);\n    return f.reason = s, f.code = t, Object.keys(i).forEach(function(h) {\n      f[h] = i[h];\n    }), f;\n  }\n  throwError(e, t, i) {\n    throw this.makeError(e, t, i);\n  }\n  throwArgumentError(e, t, i) {\n    return this.throwError(e, ht.errors.INVALID_ARGUMENT, {\n      argument: t,\n      value: i\n    });\n  }\n  assert(e, t, i, n) {\n    e || this.throwError(t, i, n);\n  }\n  assertArgument(e, t, i, n) {\n    e || this.throwArgumentError(t, i, n);\n  }\n  checkNormalize(e) {\n    rc && this.throwError(\"platform missing String.prototype.normalize\", ht.errors.UNSUPPORTED_OPERATION, {\n      operation: \"String.prototype.normalize\",\n      form: rc\n    });\n  }\n  checkSafeUint53(e, t) {\n    typeof e == \"number\" && (t == null && (t = \"value not safe\"), (e < 0 || e >= 9007199254740991) && this.throwError(t, ht.errors.NUMERIC_FAULT, {\n      operation: \"checkSafeInteger\",\n      fault: \"out-of-safe-range\",\n      value: e\n    }), e % 1 && this.throwError(t, ht.errors.NUMERIC_FAULT, {\n      operation: \"checkSafeInteger\",\n      fault: \"non-integer\",\n      value: e\n    }));\n  }\n  checkArgumentCount(e, t, i) {\n    i ? i = \": \" + i : i = \"\", e < t && this.throwError(\"missing argument\" + i, ht.errors.MISSING_ARGUMENT, {\n      count: e,\n      expectedCount: t\n    }), e > t && this.throwError(\"too many arguments\" + i, ht.errors.UNEXPECTED_ARGUMENT, {\n      count: e,\n      expectedCount: t\n    });\n  }\n  checkNew(e, t) {\n    (e === Object || e == null) && this.throwError(\"missing new\", ht.errors.MISSING_NEW, { name: t.name });\n  }\n  checkAbstract(e, t) {\n    e === t ? this.throwError(\"cannot instantiate abstract class \" + JSON.stringify(t.name) + \" directly; use a sub-class\", ht.errors.UNSUPPORTED_OPERATION, { name: e.name, operation: \"new\" }) : (e === Object || e == null) && this.throwError(\"missing new\", ht.errors.MISSING_NEW, { name: t.name });\n  }\n  static globalLogger() {\n    return za || (za = new ht(Nv)), za;\n  }\n  static setCensorship(e, t) {\n    if (!e && t && this.globalLogger().throwError(\"cannot permanently disable censorship\", ht.errors.UNSUPPORTED_OPERATION, {\n      operation: \"setCensorship\"\n    }), Qf) {\n      if (!e)\n        return;\n      this.globalLogger().throwError(\"error censorship permanent\", ht.errors.UNSUPPORTED_OPERATION, {\n        operation: \"setCensorship\"\n      });\n    }\n    ec = !!e, Qf = !!t;\n  }\n  static setLogLevel(e) {\n    const t = Ps[e.toLowerCase()];\n    if (t == null) {\n      ht.globalLogger().warn(\"invalid log level - \" + e);\n      return;\n    }\n    tc = t;\n  }\n  static from(e) {\n    return new ht(e);\n  }\n}\nht.errors = Sr;\nht.levels = yo;\nconst Cv = \"bytes/5.7.0\", vt = new ht(Cv);\nfunction pu(r) {\n  return !!r.toHexString;\n}\nfunction cn(r) {\n  return r.slice || (r.slice = function() {\n    const e = Array.prototype.slice.call(arguments);\n    return cn(new Uint8Array(Array.prototype.slice.apply(r, e)));\n  }), r;\n}\nfunction $v(r) {\n  return Lr(r) && !(r.length % 2) || Fo(r);\n}\nfunction nc(r) {\n  return typeof r == \"number\" && r == r && r % 1 === 0;\n}\nfunction Fo(r) {\n  if (r == null)\n    return !1;\n  if (r.constructor === Uint8Array)\n    return !0;\n  if (typeof r == \"string\" || !nc(r.length) || r.length < 0)\n    return !1;\n  for (let e = 0; e < r.length; e++) {\n    const t = r[e];\n    if (!nc(t) || t < 0 || t >= 256)\n      return !1;\n  }\n  return !0;\n}\nfunction yt(r, e) {\n  if (e || (e = {}), typeof r == \"number\") {\n    vt.checkSafeUint53(r, \"invalid arrayify value\");\n    const t = [];\n    for (; r; )\n      t.unshift(r & 255), r = parseInt(String(r / 256));\n    return t.length === 0 && t.push(0), cn(new Uint8Array(t));\n  }\n  if (e.allowMissingPrefix && typeof r == \"string\" && r.substring(0, 2) !== \"0x\" && (r = \"0x\" + r), pu(r) && (r = r.toHexString()), Lr(r)) {\n    let t = r.substring(2);\n    t.length % 2 && (e.hexPad === \"left\" ? t = \"0\" + t : e.hexPad === \"right\" ? t += \"0\" : vt.throwArgumentError(\"hex data is odd-length\", \"value\", r));\n    const i = [];\n    for (let n = 0; n < t.length; n += 2)\n      i.push(parseInt(t.substring(n, n + 2), 16));\n    return cn(new Uint8Array(i));\n  }\n  return Fo(r) ? cn(new Uint8Array(r)) : vt.throwArgumentError(\"invalid arrayify value\", \"value\", r);\n}\nfunction Lv(r) {\n  const e = r.map((n) => yt(n)), t = e.reduce((n, s) => n + s.length, 0), i = new Uint8Array(t);\n  return e.reduce((n, s) => (i.set(s, n), n + s.length), 0), cn(i);\n}\nfunction Fv(r, e) {\n  r = yt(r), r.length > e && vt.throwArgumentError(\"value out of range\", \"value\", arguments[0]);\n  const t = new Uint8Array(e);\n  return t.set(r, e - r.length), cn(t);\n}\nfunction Lr(r, e) {\n  return !(typeof r != \"string\" || !r.match(/^0x[0-9A-Fa-f]*$/) || e && r.length !== 2 + 2 * e);\n}\nconst Ba = \"0123456789abcdef\";\nfunction Jt(r, e) {\n  if (e || (e = {}), typeof r == \"number\") {\n    vt.checkSafeUint53(r, \"invalid hexlify value\");\n    let t = \"\";\n    for (; r; )\n      t = Ba[r & 15] + t, r = Math.floor(r / 16);\n    return t.length ? (t.length % 2 && (t = \"0\" + t), \"0x\" + t) : \"0x00\";\n  }\n  if (typeof r == \"bigint\")\n    return r = r.toString(16), r.length % 2 ? \"0x0\" + r : \"0x\" + r;\n  if (e.allowMissingPrefix && typeof r == \"string\" && r.substring(0, 2) !== \"0x\" && (r = \"0x\" + r), pu(r))\n    return r.toHexString();\n  if (Lr(r))\n    return r.length % 2 && (e.hexPad === \"left\" ? r = \"0x0\" + r.substring(2) : e.hexPad === \"right\" ? r += \"0\" : vt.throwArgumentError(\"hex data is odd-length\", \"value\", r)), r.toLowerCase();\n  if (Fo(r)) {\n    let t = \"0x\";\n    for (let i = 0; i < r.length; i++) {\n      let n = r[i];\n      t += Ba[(n & 240) >> 4] + Ba[n & 15];\n    }\n    return t;\n  }\n  return vt.throwArgumentError(\"invalid hexlify value\", \"value\", r);\n}\nfunction qv(r) {\n  if (typeof r != \"string\")\n    r = Jt(r);\n  else if (!Lr(r) || r.length % 2)\n    return null;\n  return (r.length - 2) / 2;\n}\nfunction sc(r, e, t) {\n  return typeof r != \"string\" ? r = Jt(r) : (!Lr(r) || r.length % 2) && vt.throwArgumentError(\"invalid hexData\", \"value\", r), e = 2 + 2 * e, t != null ? \"0x\" + r.substring(e, 2 + 2 * t) : \"0x\" + r.substring(e);\n}\nfunction hn(r, e) {\n  for (typeof r != \"string\" ? r = Jt(r) : Lr(r) || vt.throwArgumentError(\"invalid hex string\", \"value\", r), r.length > 2 * e + 2 && vt.throwArgumentError(\"value out of range\", \"value\", arguments[1]); r.length < 2 * e + 2; )\n    r = \"0x0\" + r.substring(2);\n  return r;\n}\nfunction vu(r) {\n  const e = {\n    r: \"0x\",\n    s: \"0x\",\n    _vs: \"0x\",\n    recoveryParam: 0,\n    v: 0,\n    yParityAndS: \"0x\",\n    compact: \"0x\"\n  };\n  if ($v(r)) {\n    let t = yt(r);\n    t.length === 64 ? (e.v = 27 + (t[32] >> 7), t[32] &= 127, e.r = Jt(t.slice(0, 32)), e.s = Jt(t.slice(32, 64))) : t.length === 65 ? (e.r = Jt(t.slice(0, 32)), e.s = Jt(t.slice(32, 64)), e.v = t[64]) : vt.throwArgumentError(\"invalid signature string\", \"signature\", r), e.v < 27 && (e.v === 0 || e.v === 1 ? e.v += 27 : vt.throwArgumentError(\"signature invalid v byte\", \"signature\", r)), e.recoveryParam = 1 - e.v % 2, e.recoveryParam && (t[32] |= 128), e._vs = Jt(t.slice(32, 64));\n  } else {\n    if (e.r = r.r, e.s = r.s, e.v = r.v, e.recoveryParam = r.recoveryParam, e._vs = r._vs, e._vs != null) {\n      const n = Fv(yt(e._vs), 32);\n      e._vs = Jt(n);\n      const s = n[0] >= 128 ? 1 : 0;\n      e.recoveryParam == null ? e.recoveryParam = s : e.recoveryParam !== s && vt.throwArgumentError(\"signature recoveryParam mismatch _vs\", \"signature\", r), n[0] &= 127;\n      const o = Jt(n);\n      e.s == null ? e.s = o : e.s !== o && vt.throwArgumentError(\"signature v mismatch _vs\", \"signature\", r);\n    }\n    if (e.recoveryParam == null)\n      e.v == null ? vt.throwArgumentError(\"signature missing v and recoveryParam\", \"signature\", r) : e.v === 0 || e.v === 1 ? e.recoveryParam = e.v : e.recoveryParam = 1 - e.v % 2;\n    else if (e.v == null)\n      e.v = 27 + e.recoveryParam;\n    else {\n      const n = e.v === 0 || e.v === 1 ? e.v : 1 - e.v % 2;\n      e.recoveryParam !== n && vt.throwArgumentError(\"signature recoveryParam mismatch v\", \"signature\", r);\n    }\n    e.r == null || !Lr(e.r) ? vt.throwArgumentError(\"signature missing or invalid r\", \"signature\", r) : e.r = hn(e.r, 32), e.s == null || !Lr(e.s) ? vt.throwArgumentError(\"signature missing or invalid s\", \"signature\", r) : e.s = hn(e.s, 32);\n    const t = yt(e.s);\n    t[0] >= 128 && vt.throwArgumentError(\"signature s out of range\", \"signature\", r), e.recoveryParam && (t[0] |= 128);\n    const i = Jt(t);\n    e._vs && (Lr(e._vs) || vt.throwArgumentError(\"signature invalid _vs\", \"signature\", r), e._vs = hn(e._vs, 32)), e._vs == null ? e._vs = i : e._vs !== i && vt.throwArgumentError(\"signature _vs mismatch v and s\", \"signature\", r);\n  }\n  return e.yParityAndS = e._vs, e.compact = e.r + e.yParityAndS.substring(2), e;\n}\nfunction qo(r) {\n  return \"0x\" + Rv.keccak_256(yt(r));\n}\nvar Uo = { exports: {} };\nUo.exports;\n(function(r) {\n  (function(e, t) {\n    function i(l, a) {\n      if (!l)\n        throw new Error(a || \"Assertion failed\");\n    }\n    function n(l, a) {\n      l.super_ = a;\n      var c = function() {\n      };\n      c.prototype = a.prototype, l.prototype = new c(), l.prototype.constructor = l;\n    }\n    function s(l, a, c) {\n      if (s.isBN(l))\n        return l;\n      this.negative = 0, this.words = null, this.length = 0, this.red = null, l !== null && ((a === \"le\" || a === \"be\") && (c = a, a = 10), this._init(l || 0, a || 10, c || \"be\"));\n    }\n    typeof e == \"object\" ? e.exports = s : t.BN = s, s.BN = s, s.wordSize = 26;\n    var o;\n    try {\n      typeof window < \"u\" && typeof window.Buffer < \"u\" ? o = window.Buffer : o = fa.Buffer;\n    } catch {\n    }\n    s.isBN = function(a) {\n      return a instanceof s ? !0 : a !== null && typeof a == \"object\" && a.constructor.wordSize === s.wordSize && Array.isArray(a.words);\n    }, s.max = function(a, c) {\n      return a.cmp(c) > 0 ? a : c;\n    }, s.min = function(a, c) {\n      return a.cmp(c) < 0 ? a : c;\n    }, s.prototype._init = function(a, c, b) {\n      if (typeof a == \"number\")\n        return this._initNumber(a, c, b);\n      if (typeof a == \"object\")\n        return this._initArray(a, c, b);\n      c === \"hex\" && (c = 16), i(c === (c | 0) && c >= 2 && c <= 36), a = a.toString().replace(/\\s+/g, \"\");\n      var E = 0;\n      a[0] === \"-\" && (E++, this.negative = 1), E < a.length && (c === 16 ? this._parseHex(a, E, b) : (this._parseBase(a, c, E), b === \"le\" && this._initArray(this.toArray(), c, b)));\n    }, s.prototype._initNumber = function(a, c, b) {\n      a < 0 && (this.negative = 1, a = -a), a < 67108864 ? (this.words = [a & 67108863], this.length = 1) : a < 4503599627370496 ? (this.words = [\n        a & 67108863,\n        a / 67108864 & 67108863\n      ], this.length = 2) : (i(a < 9007199254740992), this.words = [\n        a & 67108863,\n        a / 67108864 & 67108863,\n        1\n      ], this.length = 3), b === \"le\" && this._initArray(this.toArray(), c, b);\n    }, s.prototype._initArray = function(a, c, b) {\n      if (i(typeof a.length == \"number\"), a.length <= 0)\n        return this.words = [0], this.length = 1, this;\n      this.length = Math.ceil(a.length / 3), this.words = new Array(this.length);\n      for (var E = 0; E < this.length; E++)\n        this.words[E] = 0;\n      var S, x, u = 0;\n      if (b === \"be\")\n        for (E = a.length - 1, S = 0; E >= 0; E -= 3)\n          x = a[E] | a[E - 1] << 8 | a[E - 2] << 16, this.words[S] |= x << u & 67108863, this.words[S + 1] = x >>> 26 - u & 67108863, u += 24, u >= 26 && (u -= 26, S++);\n      else if (b === \"le\")\n        for (E = 0, S = 0; E < a.length; E += 3)\n          x = a[E] | a[E + 1] << 8 | a[E + 2] << 16, this.words[S] |= x << u & 67108863, this.words[S + 1] = x >>> 26 - u & 67108863, u += 24, u >= 26 && (u -= 26, S++);\n      return this._strip();\n    };\n    function f(l, a) {\n      var c = l.charCodeAt(a);\n      if (c >= 48 && c <= 57)\n        return c - 48;\n      if (c >= 65 && c <= 70)\n        return c - 55;\n      if (c >= 97 && c <= 102)\n        return c - 87;\n      i(!1, \"Invalid character in \" + l);\n    }\n    function h(l, a, c) {\n      var b = f(l, c);\n      return c - 1 >= a && (b |= f(l, c - 1) << 4), b;\n    }\n    s.prototype._parseHex = function(a, c, b) {\n      this.length = Math.ceil((a.length - c) / 6), this.words = new Array(this.length);\n      for (var E = 0; E < this.length; E++)\n        this.words[E] = 0;\n      var S = 0, x = 0, u;\n      if (b === \"be\")\n        for (E = a.length - 1; E >= c; E -= 2)\n          u = h(a, c, E) << S, this.words[x] |= u & 67108863, S >= 18 ? (S -= 18, x += 1, this.words[x] |= u >>> 26) : S += 8;\n      else {\n        var m = a.length - c;\n        for (E = m % 2 === 0 ? c + 1 : c; E < a.length; E += 2)\n          u = h(a, c, E) << S, this.words[x] |= u & 67108863, S >= 18 ? (S -= 18, x += 1, this.words[x] |= u >>> 26) : S += 8;\n      }\n      this._strip();\n    };\n    function d(l, a, c, b) {\n      for (var E = 0, S = 0, x = Math.min(l.length, c), u = a; u < x; u++) {\n        var m = l.charCodeAt(u) - 48;\n        E *= b, m >= 49 ? S = m - 49 + 10 : m >= 17 ? S = m - 17 + 10 : S = m, i(m >= 0 && S < b, \"Invalid character\"), E += S;\n      }\n      return E;\n    }\n    s.prototype._parseBase = function(a, c, b) {\n      this.words = [0], this.length = 1;\n      for (var E = 0, S = 1; S <= 67108863; S *= c)\n        E++;\n      E--, S = S / c | 0;\n      for (var x = a.length - b, u = x % E, m = Math.min(x, x - u) + b, g = 0, P = b; P < m; P += E)\n        g = d(a, P, P + E, c), this.imuln(S), this.words[0] + g < 67108864 ? this.words[0] += g : this._iaddn(g);\n      if (u !== 0) {\n        var G = 1;\n        for (g = d(a, P, a.length, c), P = 0; P < u; P++)\n          G *= c;\n        this.imuln(G), this.words[0] + g < 67108864 ? this.words[0] += g : this._iaddn(g);\n      }\n      this._strip();\n    }, s.prototype.copy = function(a) {\n      a.words = new Array(this.length);\n      for (var c = 0; c < this.length; c++)\n        a.words[c] = this.words[c];\n      a.length = this.length, a.negative = this.negative, a.red = this.red;\n    };\n    function v(l, a) {\n      l.words = a.words, l.length = a.length, l.negative = a.negative, l.red = a.red;\n    }\n    if (s.prototype._move = function(a) {\n      v(a, this);\n    }, s.prototype.clone = function() {\n      var a = new s(null);\n      return this.copy(a), a;\n    }, s.prototype._expand = function(a) {\n      for (; this.length < a; )\n        this.words[this.length++] = 0;\n      return this;\n    }, s.prototype._strip = function() {\n      for (; this.length > 1 && this.words[this.length - 1] === 0; )\n        this.length--;\n      return this._normSign();\n    }, s.prototype._normSign = function() {\n      return this.length === 1 && this.words[0] === 0 && (this.negative = 0), this;\n    }, typeof Symbol < \"u\" && typeof Symbol.for == \"function\")\n      try {\n        s.prototype[Symbol.for(\"nodejs.util.inspect.custom\")] = w;\n      } catch {\n        s.prototype.inspect = w;\n      }\n    else\n      s.prototype.inspect = w;\n    function w() {\n      return (this.red ? \"<BN-R: \" : \"<BN: \") + this.toString(16) + \">\";\n    }\n    var A = [\n      \"\",\n      \"0\",\n      \"00\",\n      \"000\",\n      \"0000\",\n      \"00000\",\n      \"000000\",\n      \"0000000\",\n      \"00000000\",\n      \"000000000\",\n      \"0000000000\",\n      \"00000000000\",\n      \"000000000000\",\n      \"0000000000000\",\n      \"00000000000000\",\n      \"000000000000000\",\n      \"0000000000000000\",\n      \"00000000000000000\",\n      \"000000000000000000\",\n      \"0000000000000000000\",\n      \"00000000000000000000\",\n      \"000000000000000000000\",\n      \"0000000000000000000000\",\n      \"00000000000000000000000\",\n      \"000000000000000000000000\",\n      \"0000000000000000000000000\"\n    ], I = [\n      0,\n      0,\n      25,\n      16,\n      12,\n      11,\n      10,\n      9,\n      8,\n      8,\n      7,\n      7,\n      7,\n      7,\n      6,\n      6,\n      6,\n      6,\n      6,\n      6,\n      6,\n      5,\n      5,\n      5,\n      5,\n      5,\n      5,\n      5,\n      5,\n      5,\n      5,\n      5,\n      5,\n      5,\n      5,\n      5,\n      5\n    ], D = [\n      0,\n      0,\n      33554432,\n      43046721,\n      16777216,\n      48828125,\n      60466176,\n      40353607,\n      16777216,\n      43046721,\n      1e7,\n      19487171,\n      35831808,\n      62748517,\n      7529536,\n      11390625,\n      16777216,\n      24137569,\n      34012224,\n      47045881,\n      64e6,\n      4084101,\n      5153632,\n      6436343,\n      7962624,\n      9765625,\n      11881376,\n      14348907,\n      17210368,\n      20511149,\n      243e5,\n      28629151,\n      33554432,\n      39135393,\n      45435424,\n      52521875,\n      60466176\n    ];\n    s.prototype.toString = function(a, c) {\n      a = a || 10, c = c | 0 || 1;\n      var b;\n      if (a === 16 || a === \"hex\") {\n        b = \"\";\n        for (var E = 0, S = 0, x = 0; x < this.length; x++) {\n          var u = this.words[x], m = ((u << E | S) & 16777215).toString(16);\n          S = u >>> 24 - E & 16777215, E += 2, E >= 26 && (E -= 26, x--), S !== 0 || x !== this.length - 1 ? b = A[6 - m.length] + m + b : b = m + b;\n        }\n        for (S !== 0 && (b = S.toString(16) + b); b.length % c !== 0; )\n          b = \"0\" + b;\n        return this.negative !== 0 && (b = \"-\" + b), b;\n      }\n      if (a === (a | 0) && a >= 2 && a <= 36) {\n        var g = I[a], P = D[a];\n        b = \"\";\n        var G = this.clone();\n        for (G.negative = 0; !G.isZero(); ) {\n          var M = G.modrn(P).toString(a);\n          G = G.idivn(P), G.isZero() ? b = M + b : b = A[g - M.length] + M + b;\n        }\n        for (this.isZero() && (b = \"0\" + b); b.length % c !== 0; )\n          b = \"0\" + b;\n        return this.negative !== 0 && (b = \"-\" + b), b;\n      }\n      i(!1, \"Base should be between 2 and 36\");\n    }, s.prototype.toNumber = function() {\n      var a = this.words[0];\n      return this.length === 2 ? a += this.words[1] * 67108864 : this.length === 3 && this.words[2] === 1 ? a += 4503599627370496 + this.words[1] * 67108864 : this.length > 2 && i(!1, \"Number can only safely store up to 53 bits\"), this.negative !== 0 ? -a : a;\n    }, s.prototype.toJSON = function() {\n      return this.toString(16, 2);\n    }, o && (s.prototype.toBuffer = function(a, c) {\n      return this.toArrayLike(o, a, c);\n    }), s.prototype.toArray = function(a, c) {\n      return this.toArrayLike(Array, a, c);\n    };\n    var N = function(a, c) {\n      return a.allocUnsafe ? a.allocUnsafe(c) : new a(c);\n    };\n    s.prototype.toArrayLike = function(a, c, b) {\n      this._strip();\n      var E = this.byteLength(), S = b || Math.max(1, E);\n      i(E <= S, \"byte array longer than desired length\"), i(S > 0, \"Requested array length <= 0\");\n      var x = N(a, S), u = c === \"le\" ? \"LE\" : \"BE\";\n      return this[\"_toArrayLike\" + u](x, E), x;\n    }, s.prototype._toArrayLikeLE = function(a, c) {\n      for (var b = 0, E = 0, S = 0, x = 0; S < this.length; S++) {\n        var u = this.words[S] << x | E;\n        a[b++] = u & 255, b < a.length && (a[b++] = u >> 8 & 255), b < a.length && (a[b++] = u >> 16 & 255), x === 6 ? (b < a.length && (a[b++] = u >> 24 & 255), E = 0, x = 0) : (E = u >>> 24, x += 2);\n      }\n      if (b < a.length)\n        for (a[b++] = E; b < a.length; )\n          a[b++] = 0;\n    }, s.prototype._toArrayLikeBE = function(a, c) {\n      for (var b = a.length - 1, E = 0, S = 0, x = 0; S < this.length; S++) {\n        var u = this.words[S] << x | E;\n        a[b--] = u & 255, b >= 0 && (a[b--] = u >> 8 & 255), b >= 0 && (a[b--] = u >> 16 & 255), x === 6 ? (b >= 0 && (a[b--] = u >> 24 & 255), E = 0, x = 0) : (E = u >>> 24, x += 2);\n      }\n      if (b >= 0)\n        for (a[b--] = E; b >= 0; )\n          a[b--] = 0;\n    }, Math.clz32 ? s.prototype._countBits = function(a) {\n      return 32 - Math.clz32(a);\n    } : s.prototype._countBits = function(a) {\n      var c = a, b = 0;\n      return c >= 4096 && (b += 13, c >>>= 13), c >= 64 && (b += 7, c >>>= 7), c >= 8 && (b += 4, c >>>= 4), c >= 2 && (b += 2, c >>>= 2), b + c;\n    }, s.prototype._zeroBits = function(a) {\n      if (a === 0)\n        return 26;\n      var c = a, b = 0;\n      return c & 8191 || (b += 13, c >>>= 13), c & 127 || (b += 7, c >>>= 7), c & 15 || (b += 4, c >>>= 4), c & 3 || (b += 2, c >>>= 2), c & 1 || b++, b;\n    }, s.prototype.bitLength = function() {\n      var a = this.words[this.length - 1], c = this._countBits(a);\n      return (this.length - 1) * 26 + c;\n    };\n    function k(l) {\n      for (var a = new Array(l.bitLength()), c = 0; c < a.length; c++) {\n        var b = c / 26 | 0, E = c % 26;\n        a[c] = l.words[b] >>> E & 1;\n      }\n      return a;\n    }\n    s.prototype.zeroBits = function() {\n      if (this.isZero())\n        return 0;\n      for (var a = 0, c = 0; c < this.length; c++) {\n        var b = this._zeroBits(this.words[c]);\n        if (a += b, b !== 26)\n          break;\n      }\n      return a;\n    }, s.prototype.byteLength = function() {\n      return Math.ceil(this.bitLength() / 8);\n    }, s.prototype.toTwos = function(a) {\n      return this.negative !== 0 ? this.abs().inotn(a).iaddn(1) : this.clone();\n    }, s.prototype.fromTwos = function(a) {\n      return this.testn(a - 1) ? this.notn(a).iaddn(1).ineg() : this.clone();\n    }, s.prototype.isNeg = function() {\n      return this.negative !== 0;\n    }, s.prototype.neg = function() {\n      return this.clone().ineg();\n    }, s.prototype.ineg = function() {\n      return this.isZero() || (this.negative ^= 1), this;\n    }, s.prototype.iuor = function(a) {\n      for (; this.length < a.length; )\n        this.words[this.length++] = 0;\n      for (var c = 0; c < a.length; c++)\n        this.words[c] = this.words[c] | a.words[c];\n      return this._strip();\n    }, s.prototype.ior = function(a) {\n      return i((this.negative | a.negative) === 0), this.iuor(a);\n    }, s.prototype.or = function(a) {\n      return this.length > a.length ? this.clone().ior(a) : a.clone().ior(this);\n    }, s.prototype.uor = function(a) {\n      return this.length > a.length ? this.clone().iuor(a) : a.clone().iuor(this);\n    }, s.prototype.iuand = function(a) {\n      var c;\n      this.length > a.length ? c = a : c = this;\n      for (var b = 0; b < c.length; b++)\n        this.words[b] = this.words[b] & a.words[b];\n      return this.length = c.length, this._strip();\n    }, s.prototype.iand = function(a) {\n      return i((this.negative | a.negative) === 0), this.iuand(a);\n    }, s.prototype.and = function(a) {\n      return this.length > a.length ? this.clone().iand(a) : a.clone().iand(this);\n    }, s.prototype.uand = function(a) {\n      return this.length > a.length ? this.clone().iuand(a) : a.clone().iuand(this);\n    }, s.prototype.iuxor = function(a) {\n      var c, b;\n      this.length > a.length ? (c = this, b = a) : (c = a, b = this);\n      for (var E = 0; E < b.length; E++)\n        this.words[E] = c.words[E] ^ b.words[E];\n      if (this !== c)\n        for (; E < c.length; E++)\n          this.words[E] = c.words[E];\n      return this.length = c.length, this._strip();\n    }, s.prototype.ixor = function(a) {\n      return i((this.negative | a.negative) === 0), this.iuxor(a);\n    }, s.prototype.xor = function(a) {\n      return this.length > a.length ? this.clone().ixor(a) : a.clone().ixor(this);\n    }, s.prototype.uxor = function(a) {\n      return this.length > a.length ? this.clone().iuxor(a) : a.clone().iuxor(this);\n    }, s.prototype.inotn = function(a) {\n      i(typeof a == \"number\" && a >= 0);\n      var c = Math.ceil(a / 26) | 0, b = a % 26;\n      this._expand(c), b > 0 && c--;\n      for (var E = 0; E < c; E++)\n        this.words[E] = ~this.words[E] & 67108863;\n      return b > 0 && (this.words[E] = ~this.words[E] & 67108863 >> 26 - b), this._strip();\n    }, s.prototype.notn = function(a) {\n      return this.clone().inotn(a);\n    }, s.prototype.setn = function(a, c) {\n      i(typeof a == \"number\" && a >= 0);\n      var b = a / 26 | 0, E = a % 26;\n      return this._expand(b + 1), c ? this.words[b] = this.words[b] | 1 << E : this.words[b] = this.words[b] & ~(1 << E), this._strip();\n    }, s.prototype.iadd = function(a) {\n      var c;\n      if (this.negative !== 0 && a.negative === 0)\n        return this.negative = 0, c = this.isub(a), this.negative ^= 1, this._normSign();\n      if (this.negative === 0 && a.negative !== 0)\n        return a.negative = 0, c = this.isub(a), a.negative = 1, c._normSign();\n      var b, E;\n      this.length > a.length ? (b = this, E = a) : (b = a, E = this);\n      for (var S = 0, x = 0; x < E.length; x++)\n        c = (b.words[x] | 0) + (E.words[x] | 0) + S, this.words[x] = c & 67108863, S = c >>> 26;\n      for (; S !== 0 && x < b.length; x++)\n        c = (b.words[x] | 0) + S, this.words[x] = c & 67108863, S = c >>> 26;\n      if (this.length = b.length, S !== 0)\n        this.words[this.length] = S, this.length++;\n      else if (b !== this)\n        for (; x < b.length; x++)\n          this.words[x] = b.words[x];\n      return this;\n    }, s.prototype.add = function(a) {\n      var c;\n      return a.negative !== 0 && this.negative === 0 ? (a.negative = 0, c = this.sub(a), a.negative ^= 1, c) : a.negative === 0 && this.negative !== 0 ? (this.negative = 0, c = a.sub(this), this.negative = 1, c) : this.length > a.length ? this.clone().iadd(a) : a.clone().iadd(this);\n    }, s.prototype.isub = function(a) {\n      if (a.negative !== 0) {\n        a.negative = 0;\n        var c = this.iadd(a);\n        return a.negative = 1, c._normSign();\n      } else if (this.negative !== 0)\n        return this.negative = 0, this.iadd(a), this.negative = 1, this._normSign();\n      var b = this.cmp(a);\n      if (b === 0)\n        return this.negative = 0, this.length = 1, this.words[0] = 0, this;\n      var E, S;\n      b > 0 ? (E = this, S = a) : (E = a, S = this);\n      for (var x = 0, u = 0; u < S.length; u++)\n        c = (E.words[u] | 0) - (S.words[u] | 0) + x, x = c >> 26, this.words[u] = c & 67108863;\n      for (; x !== 0 && u < E.length; u++)\n        c = (E.words[u] | 0) + x, x = c >> 26, this.words[u] = c & 67108863;\n      if (x === 0 && u < E.length && E !== this)\n        for (; u < E.length; u++)\n          this.words[u] = E.words[u];\n      return this.length = Math.max(this.length, u), E !== this && (this.negative = 1), this._strip();\n    }, s.prototype.sub = function(a) {\n      return this.clone().isub(a);\n    };\n    function j(l, a, c) {\n      c.negative = a.negative ^ l.negative;\n      var b = l.length + a.length | 0;\n      c.length = b, b = b - 1 | 0;\n      var E = l.words[0] | 0, S = a.words[0] | 0, x = E * S, u = x & 67108863, m = x / 67108864 | 0;\n      c.words[0] = u;\n      for (var g = 1; g < b; g++) {\n        for (var P = m >>> 26, G = m & 67108863, M = Math.min(g, a.length - 1), H = Math.max(0, g - l.length + 1); H <= M; H++) {\n          var C = g - H | 0;\n          E = l.words[C] | 0, S = a.words[H] | 0, x = E * S + G, P += x / 67108864 | 0, G = x & 67108863;\n        }\n        c.words[g] = G | 0, m = P | 0;\n      }\n      return m !== 0 ? c.words[g] = m | 0 : c.length--, c._strip();\n    }\n    var T = function(a, c, b) {\n      var E = a.words, S = c.words, x = b.words, u = 0, m, g, P, G = E[0] | 0, M = G & 8191, H = G >>> 13, C = E[1] | 0, q = C & 8191, L = C >>> 13, y = E[2] | 0, F = y & 8191, W = y >>> 13, Y = E[3] | 0, X = Y & 8191, ee = Y >>> 13, we = E[4] | 0, Me = we & 8191, he = we >>> 13, Re = E[5] | 0, xe = Re & 8191, se = Re >>> 13, ge = E[6] | 0, le = ge & 8191, ne = ge >>> 13, ue = E[7] | 0, fe = ue & 8191, te = ue >>> 13, pe = E[8] | 0, _e = pe & 8191, re = pe >>> 13, Ee = E[9] | 0, Se = Ee & 8191, oe = Ee >>> 13, De = S[0] | 0, Ie = De & 8191, Pe = De >>> 13, Ge = S[1] | 0, Ye = Ge & 8191, Ae = Ge >>> 13, Ze = S[2] | 0, et = Ze & 8191, Ne = Ze >>> 13, Ce = S[3] | 0, Te = Ce & 8191, de = Ce >>> 13, $e = S[4] | 0, Le = $e & 8191, ce = $e >>> 13, Ue = S[5] | 0, ze = Ue & 8191, ye = Ue >>> 13, Be = S[6] | 0, ke = Be & 8191, ve = Be >>> 13, Fe = S[7] | 0, Oe = Fe & 8191, me = Fe >>> 13, je = S[8] | 0, rt = je & 8191, qe = je >>> 13, it = S[9] | 0, Je = it & 8191, tt = it >>> 13;\n      b.negative = a.negative ^ c.negative, b.length = 19, m = Math.imul(M, Ie), g = Math.imul(M, Pe), g = g + Math.imul(H, Ie) | 0, P = Math.imul(H, Pe);\n      var jt = (u + m | 0) + ((g & 8191) << 13) | 0;\n      u = (P + (g >>> 13) | 0) + (jt >>> 26) | 0, jt &= 67108863, m = Math.imul(q, Ie), g = Math.imul(q, Pe), g = g + Math.imul(L, Ie) | 0, P = Math.imul(L, Pe), m = m + Math.imul(M, Ye) | 0, g = g + Math.imul(M, Ae) | 0, g = g + Math.imul(H, Ye) | 0, P = P + Math.imul(H, Ae) | 0;\n      var Kt = (u + m | 0) + ((g & 8191) << 13) | 0;\n      u = (P + (g >>> 13) | 0) + (Kt >>> 26) | 0, Kt &= 67108863, m = Math.imul(F, Ie), g = Math.imul(F, Pe), g = g + Math.imul(W, Ie) | 0, P = Math.imul(W, Pe), m = m + Math.imul(q, Ye) | 0, g = g + Math.imul(q, Ae) | 0, g = g + Math.imul(L, Ye) | 0, P = P + Math.imul(L, Ae) | 0, m = m + Math.imul(M, et) | 0, g = g + Math.imul(M, Ne) | 0, g = g + Math.imul(H, et) | 0, P = P + Math.imul(H, Ne) | 0;\n      var Ht = (u + m | 0) + ((g & 8191) << 13) | 0;\n      u = (P + (g >>> 13) | 0) + (Ht >>> 26) | 0, Ht &= 67108863, m = Math.imul(X, Ie), g = Math.imul(X, Pe), g = g + Math.imul(ee, Ie) | 0, P = Math.imul(ee, Pe), m = m + Math.imul(F, Ye) | 0, g = g + Math.imul(F, Ae) | 0, g = g + Math.imul(W, Ye) | 0, P = P + Math.imul(W, Ae) | 0, m = m + Math.imul(q, et) | 0, g = g + Math.imul(q, Ne) | 0, g = g + Math.imul(L, et) | 0, P = P + Math.imul(L, Ne) | 0, m = m + Math.imul(M, Te) | 0, g = g + Math.imul(M, de) | 0, g = g + Math.imul(H, Te) | 0, P = P + Math.imul(H, de) | 0;\n      var Vt = (u + m | 0) + ((g & 8191) << 13) | 0;\n      u = (P + (g >>> 13) | 0) + (Vt >>> 26) | 0, Vt &= 67108863, m = Math.imul(Me, Ie), g = Math.imul(Me, Pe), g = g + Math.imul(he, Ie) | 0, P = Math.imul(he, Pe), m = m + Math.imul(X, Ye) | 0, g = g + Math.imul(X, Ae) | 0, g = g + Math.imul(ee, Ye) | 0, P = P + Math.imul(ee, Ae) | 0, m = m + Math.imul(F, et) | 0, g = g + Math.imul(F, Ne) | 0, g = g + Math.imul(W, et) | 0, P = P + Math.imul(W, Ne) | 0, m = m + Math.imul(q, Te) | 0, g = g + Math.imul(q, de) | 0, g = g + Math.imul(L, Te) | 0, P = P + Math.imul(L, de) | 0, m = m + Math.imul(M, Le) | 0, g = g + Math.imul(M, ce) | 0, g = g + Math.imul(H, Le) | 0, P = P + Math.imul(H, ce) | 0;\n      var gt = (u + m | 0) + ((g & 8191) << 13) | 0;\n      u = (P + (g >>> 13) | 0) + (gt >>> 26) | 0, gt &= 67108863, m = Math.imul(xe, Ie), g = Math.imul(xe, Pe), g = g + Math.imul(se, Ie) | 0, P = Math.imul(se, Pe), m = m + Math.imul(Me, Ye) | 0, g = g + Math.imul(Me, Ae) | 0, g = g + Math.imul(he, Ye) | 0, P = P + Math.imul(he, Ae) | 0, m = m + Math.imul(X, et) | 0, g = g + Math.imul(X, Ne) | 0, g = g + Math.imul(ee, et) | 0, P = P + Math.imul(ee, Ne) | 0, m = m + Math.imul(F, Te) | 0, g = g + Math.imul(F, de) | 0, g = g + Math.imul(W, Te) | 0, P = P + Math.imul(W, de) | 0, m = m + Math.imul(q, Le) | 0, g = g + Math.imul(q, ce) | 0, g = g + Math.imul(L, Le) | 0, P = P + Math.imul(L, ce) | 0, m = m + Math.imul(M, ze) | 0, g = g + Math.imul(M, ye) | 0, g = g + Math.imul(H, ze) | 0, P = P + Math.imul(H, ye) | 0;\n      var Vr = (u + m | 0) + ((g & 8191) << 13) | 0;\n      u = (P + (g >>> 13) | 0) + (Vr >>> 26) | 0, Vr &= 67108863, m = Math.imul(le, Ie), g = Math.imul(le, Pe), g = g + Math.imul(ne, Ie) | 0, P = Math.imul(ne, Pe), m = m + Math.imul(xe, Ye) | 0, g = g + Math.imul(xe, Ae) | 0, g = g + Math.imul(se, Ye) | 0, P = P + Math.imul(se, Ae) | 0, m = m + Math.imul(Me, et) | 0, g = g + Math.imul(Me, Ne) | 0, g = g + Math.imul(he, et) | 0, P = P + Math.imul(he, Ne) | 0, m = m + Math.imul(X, Te) | 0, g = g + Math.imul(X, de) | 0, g = g + Math.imul(ee, Te) | 0, P = P + Math.imul(ee, de) | 0, m = m + Math.imul(F, Le) | 0, g = g + Math.imul(F, ce) | 0, g = g + Math.imul(W, Le) | 0, P = P + Math.imul(W, ce) | 0, m = m + Math.imul(q, ze) | 0, g = g + Math.imul(q, ye) | 0, g = g + Math.imul(L, ze) | 0, P = P + Math.imul(L, ye) | 0, m = m + Math.imul(M, ke) | 0, g = g + Math.imul(M, ve) | 0, g = g + Math.imul(H, ke) | 0, P = P + Math.imul(H, ve) | 0;\n      var Wr = (u + m | 0) + ((g & 8191) << 13) | 0;\n      u = (P + (g >>> 13) | 0) + (Wr >>> 26) | 0, Wr &= 67108863, m = Math.imul(fe, Ie), g = Math.imul(fe, Pe), g = g + Math.imul(te, Ie) | 0, P = Math.imul(te, Pe), m = m + Math.imul(le, Ye) | 0, g = g + Math.imul(le, Ae) | 0, g = g + Math.imul(ne, Ye) | 0, P = P + Math.imul(ne, Ae) | 0, m = m + Math.imul(xe, et) | 0, g = g + Math.imul(xe, Ne) | 0, g = g + Math.imul(se, et) | 0, P = P + Math.imul(se, Ne) | 0, m = m + Math.imul(Me, Te) | 0, g = g + Math.imul(Me, de) | 0, g = g + Math.imul(he, Te) | 0, P = P + Math.imul(he, de) | 0, m = m + Math.imul(X, Le) | 0, g = g + Math.imul(X, ce) | 0, g = g + Math.imul(ee, Le) | 0, P = P + Math.imul(ee, ce) | 0, m = m + Math.imul(F, ze) | 0, g = g + Math.imul(F, ye) | 0, g = g + Math.imul(W, ze) | 0, P = P + Math.imul(W, ye) | 0, m = m + Math.imul(q, ke) | 0, g = g + Math.imul(q, ve) | 0, g = g + Math.imul(L, ke) | 0, P = P + Math.imul(L, ve) | 0, m = m + Math.imul(M, Oe) | 0, g = g + Math.imul(M, me) | 0, g = g + Math.imul(H, Oe) | 0, P = P + Math.imul(H, me) | 0;\n      var Gr = (u + m | 0) + ((g & 8191) << 13) | 0;\n      u = (P + (g >>> 13) | 0) + (Gr >>> 26) | 0, Gr &= 67108863, m = Math.imul(_e, Ie), g = Math.imul(_e, Pe), g = g + Math.imul(re, Ie) | 0, P = Math.imul(re, Pe), m = m + Math.imul(fe, Ye) | 0, g = g + Math.imul(fe, Ae) | 0, g = g + Math.imul(te, Ye) | 0, P = P + Math.imul(te, Ae) | 0, m = m + Math.imul(le, et) | 0, g = g + Math.imul(le, Ne) | 0, g = g + Math.imul(ne, et) | 0, P = P + Math.imul(ne, Ne) | 0, m = m + Math.imul(xe, Te) | 0, g = g + Math.imul(xe, de) | 0, g = g + Math.imul(se, Te) | 0, P = P + Math.imul(se, de) | 0, m = m + Math.imul(Me, Le) | 0, g = g + Math.imul(Me, ce) | 0, g = g + Math.imul(he, Le) | 0, P = P + Math.imul(he, ce) | 0, m = m + Math.imul(X, ze) | 0, g = g + Math.imul(X, ye) | 0, g = g + Math.imul(ee, ze) | 0, P = P + Math.imul(ee, ye) | 0, m = m + Math.imul(F, ke) | 0, g = g + Math.imul(F, ve) | 0, g = g + Math.imul(W, ke) | 0, P = P + Math.imul(W, ve) | 0, m = m + Math.imul(q, Oe) | 0, g = g + Math.imul(q, me) | 0, g = g + Math.imul(L, Oe) | 0, P = P + Math.imul(L, me) | 0, m = m + Math.imul(M, rt) | 0, g = g + Math.imul(M, qe) | 0, g = g + Math.imul(H, rt) | 0, P = P + Math.imul(H, qe) | 0;\n      var Jr = (u + m | 0) + ((g & 8191) << 13) | 0;\n      u = (P + (g >>> 13) | 0) + (Jr >>> 26) | 0, Jr &= 67108863, m = Math.imul(Se, Ie), g = Math.imul(Se, Pe), g = g + Math.imul(oe, Ie) | 0, P = Math.imul(oe, Pe), m = m + Math.imul(_e, Ye) | 0, g = g + Math.imul(_e, Ae) | 0, g = g + Math.imul(re, Ye) | 0, P = P + Math.imul(re, Ae) | 0, m = m + Math.imul(fe, et) | 0, g = g + Math.imul(fe, Ne) | 0, g = g + Math.imul(te, et) | 0, P = P + Math.imul(te, Ne) | 0, m = m + Math.imul(le, Te) | 0, g = g + Math.imul(le, de) | 0, g = g + Math.imul(ne, Te) | 0, P = P + Math.imul(ne, de) | 0, m = m + Math.imul(xe, Le) | 0, g = g + Math.imul(xe, ce) | 0, g = g + Math.imul(se, Le) | 0, P = P + Math.imul(se, ce) | 0, m = m + Math.imul(Me, ze) | 0, g = g + Math.imul(Me, ye) | 0, g = g + Math.imul(he, ze) | 0, P = P + Math.imul(he, ye) | 0, m = m + Math.imul(X, ke) | 0, g = g + Math.imul(X, ve) | 0, g = g + Math.imul(ee, ke) | 0, P = P + Math.imul(ee, ve) | 0, m = m + Math.imul(F, Oe) | 0, g = g + Math.imul(F, me) | 0, g = g + Math.imul(W, Oe) | 0, P = P + Math.imul(W, me) | 0, m = m + Math.imul(q, rt) | 0, g = g + Math.imul(q, qe) | 0, g = g + Math.imul(L, rt) | 0, P = P + Math.imul(L, qe) | 0, m = m + Math.imul(M, Je) | 0, g = g + Math.imul(M, tt) | 0, g = g + Math.imul(H, Je) | 0, P = P + Math.imul(H, tt) | 0;\n      var Yr = (u + m | 0) + ((g & 8191) << 13) | 0;\n      u = (P + (g >>> 13) | 0) + (Yr >>> 26) | 0, Yr &= 67108863, m = Math.imul(Se, Ye), g = Math.imul(Se, Ae), g = g + Math.imul(oe, Ye) | 0, P = Math.imul(oe, Ae), m = m + Math.imul(_e, et) | 0, g = g + Math.imul(_e, Ne) | 0, g = g + Math.imul(re, et) | 0, P = P + Math.imul(re, Ne) | 0, m = m + Math.imul(fe, Te) | 0, g = g + Math.imul(fe, de) | 0, g = g + Math.imul(te, Te) | 0, P = P + Math.imul(te, de) | 0, m = m + Math.imul(le, Le) | 0, g = g + Math.imul(le, ce) | 0, g = g + Math.imul(ne, Le) | 0, P = P + Math.imul(ne, ce) | 0, m = m + Math.imul(xe, ze) | 0, g = g + Math.imul(xe, ye) | 0, g = g + Math.imul(se, ze) | 0, P = P + Math.imul(se, ye) | 0, m = m + Math.imul(Me, ke) | 0, g = g + Math.imul(Me, ve) | 0, g = g + Math.imul(he, ke) | 0, P = P + Math.imul(he, ve) | 0, m = m + Math.imul(X, Oe) | 0, g = g + Math.imul(X, me) | 0, g = g + Math.imul(ee, Oe) | 0, P = P + Math.imul(ee, me) | 0, m = m + Math.imul(F, rt) | 0, g = g + Math.imul(F, qe) | 0, g = g + Math.imul(W, rt) | 0, P = P + Math.imul(W, qe) | 0, m = m + Math.imul(q, Je) | 0, g = g + Math.imul(q, tt) | 0, g = g + Math.imul(L, Je) | 0, P = P + Math.imul(L, tt) | 0;\n      var or = (u + m | 0) + ((g & 8191) << 13) | 0;\n      u = (P + (g >>> 13) | 0) + (or >>> 26) | 0, or &= 67108863, m = Math.imul(Se, et), g = Math.imul(Se, Ne), g = g + Math.imul(oe, et) | 0, P = Math.imul(oe, Ne), m = m + Math.imul(_e, Te) | 0, g = g + Math.imul(_e, de) | 0, g = g + Math.imul(re, Te) | 0, P = P + Math.imul(re, de) | 0, m = m + Math.imul(fe, Le) | 0, g = g + Math.imul(fe, ce) | 0, g = g + Math.imul(te, Le) | 0, P = P + Math.imul(te, ce) | 0, m = m + Math.imul(le, ze) | 0, g = g + Math.imul(le, ye) | 0, g = g + Math.imul(ne, ze) | 0, P = P + Math.imul(ne, ye) | 0, m = m + Math.imul(xe, ke) | 0, g = g + Math.imul(xe, ve) | 0, g = g + Math.imul(se, ke) | 0, P = P + Math.imul(se, ve) | 0, m = m + Math.imul(Me, Oe) | 0, g = g + Math.imul(Me, me) | 0, g = g + Math.imul(he, Oe) | 0, P = P + Math.imul(he, me) | 0, m = m + Math.imul(X, rt) | 0, g = g + Math.imul(X, qe) | 0, g = g + Math.imul(ee, rt) | 0, P = P + Math.imul(ee, qe) | 0, m = m + Math.imul(F, Je) | 0, g = g + Math.imul(F, tt) | 0, g = g + Math.imul(W, Je) | 0, P = P + Math.imul(W, tt) | 0;\n      var Xr = (u + m | 0) + ((g & 8191) << 13) | 0;\n      u = (P + (g >>> 13) | 0) + (Xr >>> 26) | 0, Xr &= 67108863, m = Math.imul(Se, Te), g = Math.imul(Se, de), g = g + Math.imul(oe, Te) | 0, P = Math.imul(oe, de), m = m + Math.imul(_e, Le) | 0, g = g + Math.imul(_e, ce) | 0, g = g + Math.imul(re, Le) | 0, P = P + Math.imul(re, ce) | 0, m = m + Math.imul(fe, ze) | 0, g = g + Math.imul(fe, ye) | 0, g = g + Math.imul(te, ze) | 0, P = P + Math.imul(te, ye) | 0, m = m + Math.imul(le, ke) | 0, g = g + Math.imul(le, ve) | 0, g = g + Math.imul(ne, ke) | 0, P = P + Math.imul(ne, ve) | 0, m = m + Math.imul(xe, Oe) | 0, g = g + Math.imul(xe, me) | 0, g = g + Math.imul(se, Oe) | 0, P = P + Math.imul(se, me) | 0, m = m + Math.imul(Me, rt) | 0, g = g + Math.imul(Me, qe) | 0, g = g + Math.imul(he, rt) | 0, P = P + Math.imul(he, qe) | 0, m = m + Math.imul(X, Je) | 0, g = g + Math.imul(X, tt) | 0, g = g + Math.imul(ee, Je) | 0, P = P + Math.imul(ee, tt) | 0;\n      var Zr = (u + m | 0) + ((g & 8191) << 13) | 0;\n      u = (P + (g >>> 13) | 0) + (Zr >>> 26) | 0, Zr &= 67108863, m = Math.imul(Se, Le), g = Math.imul(Se, ce), g = g + Math.imul(oe, Le) | 0, P = Math.imul(oe, ce), m = m + Math.imul(_e, ze) | 0, g = g + Math.imul(_e, ye) | 0, g = g + Math.imul(re, ze) | 0, P = P + Math.imul(re, ye) | 0, m = m + Math.imul(fe, ke) | 0, g = g + Math.imul(fe, ve) | 0, g = g + Math.imul(te, ke) | 0, P = P + Math.imul(te, ve) | 0, m = m + Math.imul(le, Oe) | 0, g = g + Math.imul(le, me) | 0, g = g + Math.imul(ne, Oe) | 0, P = P + Math.imul(ne, me) | 0, m = m + Math.imul(xe, rt) | 0, g = g + Math.imul(xe, qe) | 0, g = g + Math.imul(se, rt) | 0, P = P + Math.imul(se, qe) | 0, m = m + Math.imul(Me, Je) | 0, g = g + Math.imul(Me, tt) | 0, g = g + Math.imul(he, Je) | 0, P = P + Math.imul(he, tt) | 0;\n      var $t = (u + m | 0) + ((g & 8191) << 13) | 0;\n      u = (P + (g >>> 13) | 0) + ($t >>> 26) | 0, $t &= 67108863, m = Math.imul(Se, ze), g = Math.imul(Se, ye), g = g + Math.imul(oe, ze) | 0, P = Math.imul(oe, ye), m = m + Math.imul(_e, ke) | 0, g = g + Math.imul(_e, ve) | 0, g = g + Math.imul(re, ke) | 0, P = P + Math.imul(re, ve) | 0, m = m + Math.imul(fe, Oe) | 0, g = g + Math.imul(fe, me) | 0, g = g + Math.imul(te, Oe) | 0, P = P + Math.imul(te, me) | 0, m = m + Math.imul(le, rt) | 0, g = g + Math.imul(le, qe) | 0, g = g + Math.imul(ne, rt) | 0, P = P + Math.imul(ne, qe) | 0, m = m + Math.imul(xe, Je) | 0, g = g + Math.imul(xe, tt) | 0, g = g + Math.imul(se, Je) | 0, P = P + Math.imul(se, tt) | 0;\n      var Qr = (u + m | 0) + ((g & 8191) << 13) | 0;\n      u = (P + (g >>> 13) | 0) + (Qr >>> 26) | 0, Qr &= 67108863, m = Math.imul(Se, ke), g = Math.imul(Se, ve), g = g + Math.imul(oe, ke) | 0, P = Math.imul(oe, ve), m = m + Math.imul(_e, Oe) | 0, g = g + Math.imul(_e, me) | 0, g = g + Math.imul(re, Oe) | 0, P = P + Math.imul(re, me) | 0, m = m + Math.imul(fe, rt) | 0, g = g + Math.imul(fe, qe) | 0, g = g + Math.imul(te, rt) | 0, P = P + Math.imul(te, qe) | 0, m = m + Math.imul(le, Je) | 0, g = g + Math.imul(le, tt) | 0, g = g + Math.imul(ne, Je) | 0, P = P + Math.imul(ne, tt) | 0;\n      var ei = (u + m | 0) + ((g & 8191) << 13) | 0;\n      u = (P + (g >>> 13) | 0) + (ei >>> 26) | 0, ei &= 67108863, m = Math.imul(Se, Oe), g = Math.imul(Se, me), g = g + Math.imul(oe, Oe) | 0, P = Math.imul(oe, me), m = m + Math.imul(_e, rt) | 0, g = g + Math.imul(_e, qe) | 0, g = g + Math.imul(re, rt) | 0, P = P + Math.imul(re, qe) | 0, m = m + Math.imul(fe, Je) | 0, g = g + Math.imul(fe, tt) | 0, g = g + Math.imul(te, Je) | 0, P = P + Math.imul(te, tt) | 0;\n      var ti = (u + m | 0) + ((g & 8191) << 13) | 0;\n      u = (P + (g >>> 13) | 0) + (ti >>> 26) | 0, ti &= 67108863, m = Math.imul(Se, rt), g = Math.imul(Se, qe), g = g + Math.imul(oe, rt) | 0, P = Math.imul(oe, qe), m = m + Math.imul(_e, Je) | 0, g = g + Math.imul(_e, tt) | 0, g = g + Math.imul(re, Je) | 0, P = P + Math.imul(re, tt) | 0;\n      var An = (u + m | 0) + ((g & 8191) << 13) | 0;\n      u = (P + (g >>> 13) | 0) + (An >>> 26) | 0, An &= 67108863, m = Math.imul(Se, Je), g = Math.imul(Se, tt), g = g + Math.imul(oe, Je) | 0, P = Math.imul(oe, tt);\n      var Dn = (u + m | 0) + ((g & 8191) << 13) | 0;\n      return u = (P + (g >>> 13) | 0) + (Dn >>> 26) | 0, Dn &= 67108863, x[0] = jt, x[1] = Kt, x[2] = Ht, x[3] = Vt, x[4] = gt, x[5] = Vr, x[6] = Wr, x[7] = Gr, x[8] = Jr, x[9] = Yr, x[10] = or, x[11] = Xr, x[12] = Zr, x[13] = $t, x[14] = Qr, x[15] = ei, x[16] = ti, x[17] = An, x[18] = Dn, u !== 0 && (x[19] = u, b.length++), b;\n    };\n    Math.imul || (T = j);\n    function K(l, a, c) {\n      c.negative = a.negative ^ l.negative, c.length = l.length + a.length;\n      for (var b = 0, E = 0, S = 0; S < c.length - 1; S++) {\n        var x = E;\n        E = 0;\n        for (var u = b & 67108863, m = Math.min(S, a.length - 1), g = Math.max(0, S - l.length + 1); g <= m; g++) {\n          var P = S - g, G = l.words[P] | 0, M = a.words[g] | 0, H = G * M, C = H & 67108863;\n          x = x + (H / 67108864 | 0) | 0, C = C + u | 0, u = C & 67108863, x = x + (C >>> 26) | 0, E += x >>> 26, x &= 67108863;\n        }\n        c.words[S] = u, b = x, x = E;\n      }\n      return b !== 0 ? c.words[S] = b : c.length--, c._strip();\n    }\n    function $(l, a, c) {\n      return K(l, a, c);\n    }\n    s.prototype.mulTo = function(a, c) {\n      var b, E = this.length + a.length;\n      return this.length === 10 && a.length === 10 ? b = T(this, a, c) : E < 63 ? b = j(this, a, c) : E < 1024 ? b = K(this, a, c) : b = $(this, a, c), b;\n    }, s.prototype.mul = function(a) {\n      var c = new s(null);\n      return c.words = new Array(this.length + a.length), this.mulTo(a, c);\n    }, s.prototype.mulf = function(a) {\n      var c = new s(null);\n      return c.words = new Array(this.length + a.length), $(this, a, c);\n    }, s.prototype.imul = function(a) {\n      return this.clone().mulTo(a, this);\n    }, s.prototype.imuln = function(a) {\n      var c = a < 0;\n      c && (a = -a), i(typeof a == \"number\"), i(a < 67108864);\n      for (var b = 0, E = 0; E < this.length; E++) {\n        var S = (this.words[E] | 0) * a, x = (S & 67108863) + (b & 67108863);\n        b >>= 26, b += S / 67108864 | 0, b += x >>> 26, this.words[E] = x & 67108863;\n      }\n      return b !== 0 && (this.words[E] = b, this.length++), c ? this.ineg() : this;\n    }, s.prototype.muln = function(a) {\n      return this.clone().imuln(a);\n    }, s.prototype.sqr = function() {\n      return this.mul(this);\n    }, s.prototype.isqr = function() {\n      return this.imul(this.clone());\n    }, s.prototype.pow = function(a) {\n      var c = k(a);\n      if (c.length === 0)\n        return new s(1);\n      for (var b = this, E = 0; E < c.length && c[E] === 0; E++, b = b.sqr())\n        ;\n      if (++E < c.length)\n        for (var S = b.sqr(); E < c.length; E++, S = S.sqr())\n          c[E] !== 0 && (b = b.mul(S));\n      return b;\n    }, s.prototype.iushln = function(a) {\n      i(typeof a == \"number\" && a >= 0);\n      var c = a % 26, b = (a - c) / 26, E = 67108863 >>> 26 - c << 26 - c, S;\n      if (c !== 0) {\n        var x = 0;\n        for (S = 0; S < this.length; S++) {\n          var u = this.words[S] & E, m = (this.words[S] | 0) - u << c;\n          this.words[S] = m | x, x = u >>> 26 - c;\n        }\n        x && (this.words[S] = x, this.length++);\n      }\n      if (b !== 0) {\n        for (S = this.length - 1; S >= 0; S--)\n          this.words[S + b] = this.words[S];\n        for (S = 0; S < b; S++)\n          this.words[S] = 0;\n        this.length += b;\n      }\n      return this._strip();\n    }, s.prototype.ishln = function(a) {\n      return i(this.negative === 0), this.iushln(a);\n    }, s.prototype.iushrn = function(a, c, b) {\n      i(typeof a == \"number\" && a >= 0);\n      var E;\n      c ? E = (c - c % 26) / 26 : E = 0;\n      var S = a % 26, x = Math.min((a - S) / 26, this.length), u = 67108863 ^ 67108863 >>> S << S, m = b;\n      if (E -= x, E = Math.max(0, E), m) {\n        for (var g = 0; g < x; g++)\n          m.words[g] = this.words[g];\n        m.length = x;\n      }\n      if (x !== 0)\n        if (this.length > x)\n          for (this.length -= x, g = 0; g < this.length; g++)\n            this.words[g] = this.words[g + x];\n        else\n          this.words[0] = 0, this.length = 1;\n      var P = 0;\n      for (g = this.length - 1; g >= 0 && (P !== 0 || g >= E); g--) {\n        var G = this.words[g] | 0;\n        this.words[g] = P << 26 - S | G >>> S, P = G & u;\n      }\n      return m && P !== 0 && (m.words[m.length++] = P), this.length === 0 && (this.words[0] = 0, this.length = 1), this._strip();\n    }, s.prototype.ishrn = function(a, c, b) {\n      return i(this.negative === 0), this.iushrn(a, c, b);\n    }, s.prototype.shln = function(a) {\n      return this.clone().ishln(a);\n    }, s.prototype.ushln = function(a) {\n      return this.clone().iushln(a);\n    }, s.prototype.shrn = function(a) {\n      return this.clone().ishrn(a);\n    }, s.prototype.ushrn = function(a) {\n      return this.clone().iushrn(a);\n    }, s.prototype.testn = function(a) {\n      i(typeof a == \"number\" && a >= 0);\n      var c = a % 26, b = (a - c) / 26, E = 1 << c;\n      if (this.length <= b)\n        return !1;\n      var S = this.words[b];\n      return !!(S & E);\n    }, s.prototype.imaskn = function(a) {\n      i(typeof a == \"number\" && a >= 0);\n      var c = a % 26, b = (a - c) / 26;\n      if (i(this.negative === 0, \"imaskn works only with positive numbers\"), this.length <= b)\n        return this;\n      if (c !== 0 && b++, this.length = Math.min(b, this.length), c !== 0) {\n        var E = 67108863 ^ 67108863 >>> c << c;\n        this.words[this.length - 1] &= E;\n      }\n      return this._strip();\n    }, s.prototype.maskn = function(a) {\n      return this.clone().imaskn(a);\n    }, s.prototype.iaddn = function(a) {\n      return i(typeof a == \"number\"), i(a < 67108864), a < 0 ? this.isubn(-a) : this.negative !== 0 ? this.length === 1 && (this.words[0] | 0) <= a ? (this.words[0] = a - (this.words[0] | 0), this.negative = 0, this) : (this.negative = 0, this.isubn(a), this.negative = 1, this) : this._iaddn(a);\n    }, s.prototype._iaddn = function(a) {\n      this.words[0] += a;\n      for (var c = 0; c < this.length && this.words[c] >= 67108864; c++)\n        this.words[c] -= 67108864, c === this.length - 1 ? this.words[c + 1] = 1 : this.words[c + 1]++;\n      return this.length = Math.max(this.length, c + 1), this;\n    }, s.prototype.isubn = function(a) {\n      if (i(typeof a == \"number\"), i(a < 67108864), a < 0)\n        return this.iaddn(-a);\n      if (this.negative !== 0)\n        return this.negative = 0, this.iaddn(a), this.negative = 1, this;\n      if (this.words[0] -= a, this.length === 1 && this.words[0] < 0)\n        this.words[0] = -this.words[0], this.negative = 1;\n      else\n        for (var c = 0; c < this.length && this.words[c] < 0; c++)\n          this.words[c] += 67108864, this.words[c + 1] -= 1;\n      return this._strip();\n    }, s.prototype.addn = function(a) {\n      return this.clone().iaddn(a);\n    }, s.prototype.subn = function(a) {\n      return this.clone().isubn(a);\n    }, s.prototype.iabs = function() {\n      return this.negative = 0, this;\n    }, s.prototype.abs = function() {\n      return this.clone().iabs();\n    }, s.prototype._ishlnsubmul = function(a, c, b) {\n      var E = a.length + b, S;\n      this._expand(E);\n      var x, u = 0;\n      for (S = 0; S < a.length; S++) {\n        x = (this.words[S + b] | 0) + u;\n        var m = (a.words[S] | 0) * c;\n        x -= m & 67108863, u = (x >> 26) - (m / 67108864 | 0), this.words[S + b] = x & 67108863;\n      }\n      for (; S < this.length - b; S++)\n        x = (this.words[S + b] | 0) + u, u = x >> 26, this.words[S + b] = x & 67108863;\n      if (u === 0)\n        return this._strip();\n      for (i(u === -1), u = 0, S = 0; S < this.length; S++)\n        x = -(this.words[S] | 0) + u, u = x >> 26, this.words[S] = x & 67108863;\n      return this.negative = 1, this._strip();\n    }, s.prototype._wordDiv = function(a, c) {\n      var b = this.length - a.length, E = this.clone(), S = a, x = S.words[S.length - 1] | 0, u = this._countBits(x);\n      b = 26 - u, b !== 0 && (S = S.ushln(b), E.iushln(b), x = S.words[S.length - 1] | 0);\n      var m = E.length - S.length, g;\n      if (c !== \"mod\") {\n        g = new s(null), g.length = m + 1, g.words = new Array(g.length);\n        for (var P = 0; P < g.length; P++)\n          g.words[P] = 0;\n      }\n      var G = E.clone()._ishlnsubmul(S, 1, m);\n      G.negative === 0 && (E = G, g && (g.words[m] = 1));\n      for (var M = m - 1; M >= 0; M--) {\n        var H = (E.words[S.length + M] | 0) * 67108864 + (E.words[S.length + M - 1] | 0);\n        for (H = Math.min(H / x | 0, 67108863), E._ishlnsubmul(S, H, M); E.negative !== 0; )\n          H--, E.negative = 0, E._ishlnsubmul(S, 1, M), E.isZero() || (E.negative ^= 1);\n        g && (g.words[M] = H);\n      }\n      return g && g._strip(), E._strip(), c !== \"div\" && b !== 0 && E.iushrn(b), {\n        div: g || null,\n        mod: E\n      };\n    }, s.prototype.divmod = function(a, c, b) {\n      if (i(!a.isZero()), this.isZero())\n        return {\n          div: new s(0),\n          mod: new s(0)\n        };\n      var E, S, x;\n      return this.negative !== 0 && a.negative === 0 ? (x = this.neg().divmod(a, c), c !== \"mod\" && (E = x.div.neg()), c !== \"div\" && (S = x.mod.neg(), b && S.negative !== 0 && S.iadd(a)), {\n        div: E,\n        mod: S\n      }) : this.negative === 0 && a.negative !== 0 ? (x = this.divmod(a.neg(), c), c !== \"mod\" && (E = x.div.neg()), {\n        div: E,\n        mod: x.mod\n      }) : this.negative & a.negative ? (x = this.neg().divmod(a.neg(), c), c !== \"div\" && (S = x.mod.neg(), b && S.negative !== 0 && S.isub(a)), {\n        div: x.div,\n        mod: S\n      }) : a.length > this.length || this.cmp(a) < 0 ? {\n        div: new s(0),\n        mod: this\n      } : a.length === 1 ? c === \"div\" ? {\n        div: this.divn(a.words[0]),\n        mod: null\n      } : c === \"mod\" ? {\n        div: null,\n        mod: new s(this.modrn(a.words[0]))\n      } : {\n        div: this.divn(a.words[0]),\n        mod: new s(this.modrn(a.words[0]))\n      } : this._wordDiv(a, c);\n    }, s.prototype.div = function(a) {\n      return this.divmod(a, \"div\", !1).div;\n    }, s.prototype.mod = function(a) {\n      return this.divmod(a, \"mod\", !1).mod;\n    }, s.prototype.umod = function(a) {\n      return this.divmod(a, \"mod\", !0).mod;\n    }, s.prototype.divRound = function(a) {\n      var c = this.divmod(a);\n      if (c.mod.isZero())\n        return c.div;\n      var b = c.div.negative !== 0 ? c.mod.isub(a) : c.mod, E = a.ushrn(1), S = a.andln(1), x = b.cmp(E);\n      return x < 0 || S === 1 && x === 0 ? c.div : c.div.negative !== 0 ? c.div.isubn(1) : c.div.iaddn(1);\n    }, s.prototype.modrn = function(a) {\n      var c = a < 0;\n      c && (a = -a), i(a <= 67108863);\n      for (var b = (1 << 26) % a, E = 0, S = this.length - 1; S >= 0; S--)\n        E = (b * E + (this.words[S] | 0)) % a;\n      return c ? -E : E;\n    }, s.prototype.modn = function(a) {\n      return this.modrn(a);\n    }, s.prototype.idivn = function(a) {\n      var c = a < 0;\n      c && (a = -a), i(a <= 67108863);\n      for (var b = 0, E = this.length - 1; E >= 0; E--) {\n        var S = (this.words[E] | 0) + b * 67108864;\n        this.words[E] = S / a | 0, b = S % a;\n      }\n      return this._strip(), c ? this.ineg() : this;\n    }, s.prototype.divn = function(a) {\n      return this.clone().idivn(a);\n    }, s.prototype.egcd = function(a) {\n      i(a.negative === 0), i(!a.isZero());\n      var c = this, b = a.clone();\n      c.negative !== 0 ? c = c.umod(a) : c = c.clone();\n      for (var E = new s(1), S = new s(0), x = new s(0), u = new s(1), m = 0; c.isEven() && b.isEven(); )\n        c.iushrn(1), b.iushrn(1), ++m;\n      for (var g = b.clone(), P = c.clone(); !c.isZero(); ) {\n        for (var G = 0, M = 1; !(c.words[0] & M) && G < 26; ++G, M <<= 1)\n          ;\n        if (G > 0)\n          for (c.iushrn(G); G-- > 0; )\n            (E.isOdd() || S.isOdd()) && (E.iadd(g), S.isub(P)), E.iushrn(1), S.iushrn(1);\n        for (var H = 0, C = 1; !(b.words[0] & C) && H < 26; ++H, C <<= 1)\n          ;\n        if (H > 0)\n          for (b.iushrn(H); H-- > 0; )\n            (x.isOdd() || u.isOdd()) && (x.iadd(g), u.isub(P)), x.iushrn(1), u.iushrn(1);\n        c.cmp(b) >= 0 ? (c.isub(b), E.isub(x), S.isub(u)) : (b.isub(c), x.isub(E), u.isub(S));\n      }\n      return {\n        a: x,\n        b: u,\n        gcd: b.iushln(m)\n      };\n    }, s.prototype._invmp = function(a) {\n      i(a.negative === 0), i(!a.isZero());\n      var c = this, b = a.clone();\n      c.negative !== 0 ? c = c.umod(a) : c = c.clone();\n      for (var E = new s(1), S = new s(0), x = b.clone(); c.cmpn(1) > 0 && b.cmpn(1) > 0; ) {\n        for (var u = 0, m = 1; !(c.words[0] & m) && u < 26; ++u, m <<= 1)\n          ;\n        if (u > 0)\n          for (c.iushrn(u); u-- > 0; )\n            E.isOdd() && E.iadd(x), E.iushrn(1);\n        for (var g = 0, P = 1; !(b.words[0] & P) && g < 26; ++g, P <<= 1)\n          ;\n        if (g > 0)\n          for (b.iushrn(g); g-- > 0; )\n            S.isOdd() && S.iadd(x), S.iushrn(1);\n        c.cmp(b) >= 0 ? (c.isub(b), E.isub(S)) : (b.isub(c), S.isub(E));\n      }\n      var G;\n      return c.cmpn(1) === 0 ? G = E : G = S, G.cmpn(0) < 0 && G.iadd(a), G;\n    }, s.prototype.gcd = function(a) {\n      if (this.isZero())\n        return a.abs();\n      if (a.isZero())\n        return this.abs();\n      var c = this.clone(), b = a.clone();\n      c.negative = 0, b.negative = 0;\n      for (var E = 0; c.isEven() && b.isEven(); E++)\n        c.iushrn(1), b.iushrn(1);\n      do {\n        for (; c.isEven(); )\n          c.iushrn(1);\n        for (; b.isEven(); )\n          b.iushrn(1);\n        var S = c.cmp(b);\n        if (S < 0) {\n          var x = c;\n          c = b, b = x;\n        } else if (S === 0 || b.cmpn(1) === 0)\n          break;\n        c.isub(b);\n      } while (!0);\n      return b.iushln(E);\n    }, s.prototype.invm = function(a) {\n      return this.egcd(a).a.umod(a);\n    }, s.prototype.isEven = function() {\n      return (this.words[0] & 1) === 0;\n    }, s.prototype.isOdd = function() {\n      return (this.words[0] & 1) === 1;\n    }, s.prototype.andln = function(a) {\n      return this.words[0] & a;\n    }, s.prototype.bincn = function(a) {\n      i(typeof a == \"number\");\n      var c = a % 26, b = (a - c) / 26, E = 1 << c;\n      if (this.length <= b)\n        return this._expand(b + 1), this.words[b] |= E, this;\n      for (var S = E, x = b; S !== 0 && x < this.length; x++) {\n        var u = this.words[x] | 0;\n        u += S, S = u >>> 26, u &= 67108863, this.words[x] = u;\n      }\n      return S !== 0 && (this.words[x] = S, this.length++), this;\n    }, s.prototype.isZero = function() {\n      return this.length === 1 && this.words[0] === 0;\n    }, s.prototype.cmpn = function(a) {\n      var c = a < 0;\n      if (this.negative !== 0 && !c)\n        return -1;\n      if (this.negative === 0 && c)\n        return 1;\n      this._strip();\n      var b;\n      if (this.length > 1)\n        b = 1;\n      else {\n        c && (a = -a), i(a <= 67108863, \"Number is too big\");\n        var E = this.words[0] | 0;\n        b = E === a ? 0 : E < a ? -1 : 1;\n      }\n      return this.negative !== 0 ? -b | 0 : b;\n    }, s.prototype.cmp = function(a) {\n      if (this.negative !== 0 && a.negative === 0)\n        return -1;\n      if (this.negative === 0 && a.negative !== 0)\n        return 1;\n      var c = this.ucmp(a);\n      return this.negative !== 0 ? -c | 0 : c;\n    }, s.prototype.ucmp = function(a) {\n      if (this.length > a.length)\n        return 1;\n      if (this.length < a.length)\n        return -1;\n      for (var c = 0, b = this.length - 1; b >= 0; b--) {\n        var E = this.words[b] | 0, S = a.words[b] | 0;\n        if (E !== S) {\n          E < S ? c = -1 : E > S && (c = 1);\n          break;\n        }\n      }\n      return c;\n    }, s.prototype.gtn = function(a) {\n      return this.cmpn(a) === 1;\n    }, s.prototype.gt = function(a) {\n      return this.cmp(a) === 1;\n    }, s.prototype.gten = function(a) {\n      return this.cmpn(a) >= 0;\n    }, s.prototype.gte = function(a) {\n      return this.cmp(a) >= 0;\n    }, s.prototype.ltn = function(a) {\n      return this.cmpn(a) === -1;\n    }, s.prototype.lt = function(a) {\n      return this.cmp(a) === -1;\n    }, s.prototype.lten = function(a) {\n      return this.cmpn(a) <= 0;\n    }, s.prototype.lte = function(a) {\n      return this.cmp(a) <= 0;\n    }, s.prototype.eqn = function(a) {\n      return this.cmpn(a) === 0;\n    }, s.prototype.eq = function(a) {\n      return this.cmp(a) === 0;\n    }, s.red = function(a) {\n      return new O(a);\n    }, s.prototype.toRed = function(a) {\n      return i(!this.red, \"Already a number in reduction context\"), i(this.negative === 0, \"red works only with positives\"), a.convertTo(this)._forceRed(a);\n    }, s.prototype.fromRed = function() {\n      return i(this.red, \"fromRed works only with numbers in reduction context\"), this.red.convertFrom(this);\n    }, s.prototype._forceRed = function(a) {\n      return this.red = a, this;\n    }, s.prototype.forceRed = function(a) {\n      return i(!this.red, \"Already a number in reduction context\"), this._forceRed(a);\n    }, s.prototype.redAdd = function(a) {\n      return i(this.red, \"redAdd works only with red numbers\"), this.red.add(this, a);\n    }, s.prototype.redIAdd = function(a) {\n      return i(this.red, \"redIAdd works only with red numbers\"), this.red.iadd(this, a);\n    }, s.prototype.redSub = function(a) {\n      return i(this.red, \"redSub works only with red numbers\"), this.red.sub(this, a);\n    }, s.prototype.redISub = function(a) {\n      return i(this.red, \"redISub works only with red numbers\"), this.red.isub(this, a);\n    }, s.prototype.redShl = function(a) {\n      return i(this.red, \"redShl works only with red numbers\"), this.red.shl(this, a);\n    }, s.prototype.redMul = function(a) {\n      return i(this.red, \"redMul works only with red numbers\"), this.red._verify2(this, a), this.red.mul(this, a);\n    }, s.prototype.redIMul = function(a) {\n      return i(this.red, \"redMul works only with red numbers\"), this.red._verify2(this, a), this.red.imul(this, a);\n    }, s.prototype.redSqr = function() {\n      return i(this.red, \"redSqr works only with red numbers\"), this.red._verify1(this), this.red.sqr(this);\n    }, s.prototype.redISqr = function() {\n      return i(this.red, \"redISqr works only with red numbers\"), this.red._verify1(this), this.red.isqr(this);\n    }, s.prototype.redSqrt = function() {\n      return i(this.red, \"redSqrt works only with red numbers\"), this.red._verify1(this), this.red.sqrt(this);\n    }, s.prototype.redInvm = function() {\n      return i(this.red, \"redInvm works only with red numbers\"), this.red._verify1(this), this.red.invm(this);\n    }, s.prototype.redNeg = function() {\n      return i(this.red, \"redNeg works only with red numbers\"), this.red._verify1(this), this.red.neg(this);\n    }, s.prototype.redPow = function(a) {\n      return i(this.red && !a.red, \"redPow(normalNum)\"), this.red._verify1(this), this.red.pow(this, a);\n    };\n    var z = {\n      k256: null,\n      p224: null,\n      p192: null,\n      p25519: null\n    };\n    function B(l, a) {\n      this.name = l, this.p = new s(a, 16), this.n = this.p.bitLength(), this.k = new s(1).iushln(this.n).isub(this.p), this.tmp = this._tmp();\n    }\n    B.prototype._tmp = function() {\n      var a = new s(null);\n      return a.words = new Array(Math.ceil(this.n / 13)), a;\n    }, B.prototype.ireduce = function(a) {\n      var c = a, b;\n      do\n        this.split(c, this.tmp), c = this.imulK(c), c = c.iadd(this.tmp), b = c.bitLength();\n      while (b > this.n);\n      var E = b < this.n ? -1 : c.ucmp(this.p);\n      return E === 0 ? (c.words[0] = 0, c.length = 1) : E > 0 ? c.isub(this.p) : c.strip !== void 0 ? c.strip() : c._strip(), c;\n    }, B.prototype.split = function(a, c) {\n      a.iushrn(this.n, 0, c);\n    }, B.prototype.imulK = function(a) {\n      return a.imul(this.k);\n    };\n    function _() {\n      B.call(\n        this,\n        \"k256\",\n        \"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f\"\n      );\n    }\n    n(_, B), _.prototype.split = function(a, c) {\n      for (var b = 4194303, E = Math.min(a.length, 9), S = 0; S < E; S++)\n        c.words[S] = a.words[S];\n      if (c.length = E, a.length <= 9) {\n        a.words[0] = 0, a.length = 1;\n        return;\n      }\n      var x = a.words[9];\n      for (c.words[c.length++] = x & b, S = 10; S < a.length; S++) {\n        var u = a.words[S] | 0;\n        a.words[S - 10] = (u & b) << 4 | x >>> 22, x = u;\n      }\n      x >>>= 22, a.words[S - 10] = x, x === 0 && a.length > 10 ? a.length -= 10 : a.length -= 9;\n    }, _.prototype.imulK = function(a) {\n      a.words[a.length] = 0, a.words[a.length + 1] = 0, a.length += 2;\n      for (var c = 0, b = 0; b < a.length; b++) {\n        var E = a.words[b] | 0;\n        c += E * 977, a.words[b] = c & 67108863, c = E * 64 + (c / 67108864 | 0);\n      }\n      return a.words[a.length - 1] === 0 && (a.length--, a.words[a.length - 1] === 0 && a.length--), a;\n    };\n    function R() {\n      B.call(\n        this,\n        \"p224\",\n        \"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001\"\n      );\n    }\n    n(R, B);\n    function J() {\n      B.call(\n        this,\n        \"p192\",\n        \"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff\"\n      );\n    }\n    n(J, B);\n    function Q() {\n      B.call(\n        this,\n        \"25519\",\n        \"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed\"\n      );\n    }\n    n(Q, B), Q.prototype.imulK = function(a) {\n      for (var c = 0, b = 0; b < a.length; b++) {\n        var E = (a.words[b] | 0) * 19 + c, S = E & 67108863;\n        E >>>= 26, a.words[b] = S, c = E;\n      }\n      return c !== 0 && (a.words[a.length++] = c), a;\n    }, s._prime = function(a) {\n      if (z[a])\n        return z[a];\n      var c;\n      if (a === \"k256\")\n        c = new _();\n      else if (a === \"p224\")\n        c = new R();\n      else if (a === \"p192\")\n        c = new J();\n      else if (a === \"p25519\")\n        c = new Q();\n      else\n        throw new Error(\"Unknown prime \" + a);\n      return z[a] = c, c;\n    };\n    function O(l) {\n      if (typeof l == \"string\") {\n        var a = s._prime(l);\n        this.m = a.p, this.prime = a;\n      } else\n        i(l.gtn(1), \"modulus must be greater than 1\"), this.m = l, this.prime = null;\n    }\n    O.prototype._verify1 = function(a) {\n      i(a.negative === 0, \"red works only with positives\"), i(a.red, \"red works only with red numbers\");\n    }, O.prototype._verify2 = function(a, c) {\n      i((a.negative | c.negative) === 0, \"red works only with positives\"), i(\n        a.red && a.red === c.red,\n        \"red works only with red numbers\"\n      );\n    }, O.prototype.imod = function(a) {\n      return this.prime ? this.prime.ireduce(a)._forceRed(this) : (v(a, a.umod(this.m)._forceRed(this)), a);\n    }, O.prototype.neg = function(a) {\n      return a.isZero() ? a.clone() : this.m.sub(a)._forceRed(this);\n    }, O.prototype.add = function(a, c) {\n      this._verify2(a, c);\n      var b = a.add(c);\n      return b.cmp(this.m) >= 0 && b.isub(this.m), b._forceRed(this);\n    }, O.prototype.iadd = function(a, c) {\n      this._verify2(a, c);\n      var b = a.iadd(c);\n      return b.cmp(this.m) >= 0 && b.isub(this.m), b;\n    }, O.prototype.sub = function(a, c) {\n      this._verify2(a, c);\n      var b = a.sub(c);\n      return b.cmpn(0) < 0 && b.iadd(this.m), b._forceRed(this);\n    }, O.prototype.isub = function(a, c) {\n      this._verify2(a, c);\n      var b = a.isub(c);\n      return b.cmpn(0) < 0 && b.iadd(this.m), b;\n    }, O.prototype.shl = function(a, c) {\n      return this._verify1(a), this.imod(a.ushln(c));\n    }, O.prototype.imul = function(a, c) {\n      return this._verify2(a, c), this.imod(a.imul(c));\n    }, O.prototype.mul = function(a, c) {\n      return this._verify2(a, c), this.imod(a.mul(c));\n    }, O.prototype.isqr = function(a) {\n      return this.imul(a, a.clone());\n    }, O.prototype.sqr = function(a) {\n      return this.mul(a, a);\n    }, O.prototype.sqrt = function(a) {\n      if (a.isZero())\n        return a.clone();\n      var c = this.m.andln(3);\n      if (i(c % 2 === 1), c === 3) {\n        var b = this.m.add(new s(1)).iushrn(2);\n        return this.pow(a, b);\n      }\n      for (var E = this.m.subn(1), S = 0; !E.isZero() && E.andln(1) === 0; )\n        S++, E.iushrn(1);\n      i(!E.isZero());\n      var x = new s(1).toRed(this), u = x.redNeg(), m = this.m.subn(1).iushrn(1), g = this.m.bitLength();\n      for (g = new s(2 * g * g).toRed(this); this.pow(g, m).cmp(u) !== 0; )\n        g.redIAdd(u);\n      for (var P = this.pow(g, E), G = this.pow(a, E.addn(1).iushrn(1)), M = this.pow(a, E), H = S; M.cmp(x) !== 0; ) {\n        for (var C = M, q = 0; C.cmp(x) !== 0; q++)\n          C = C.redSqr();\n        i(q < H);\n        var L = this.pow(P, new s(1).iushln(H - q - 1));\n        G = G.redMul(L), P = L.redSqr(), M = M.redMul(P), H = q;\n      }\n      return G;\n    }, O.prototype.invm = function(a) {\n      var c = a._invmp(this.m);\n      return c.negative !== 0 ? (c.negative = 0, this.imod(c).redNeg()) : this.imod(c);\n    }, O.prototype.pow = function(a, c) {\n      if (c.isZero())\n        return new s(1).toRed(this);\n      if (c.cmpn(1) === 0)\n        return a.clone();\n      var b = 4, E = new Array(1 << b);\n      E[0] = new s(1).toRed(this), E[1] = a;\n      for (var S = 2; S < E.length; S++)\n        E[S] = this.mul(E[S - 1], a);\n      var x = E[0], u = 0, m = 0, g = c.bitLength() % 26;\n      for (g === 0 && (g = 26), S = c.length - 1; S >= 0; S--) {\n        for (var P = c.words[S], G = g - 1; G >= 0; G--) {\n          var M = P >> G & 1;\n          if (x !== E[0] && (x = this.sqr(x)), M === 0 && u === 0) {\n            m = 0;\n            continue;\n          }\n          u <<= 1, u |= M, m++, !(m !== b && (S !== 0 || G !== 0)) && (x = this.mul(x, E[u]), m = 0, u = 0);\n        }\n        g = 26;\n      }\n      return x;\n    }, O.prototype.convertTo = function(a) {\n      var c = a.umod(this.m);\n      return c === a ? c.clone() : c;\n    }, O.prototype.convertFrom = function(a) {\n      var c = a.clone();\n      return c.red = null, c;\n    }, s.mont = function(a) {\n      return new p(a);\n    };\n    function p(l) {\n      O.call(this, l), this.shift = this.m.bitLength(), this.shift % 26 !== 0 && (this.shift += 26 - this.shift % 26), this.r = new s(1).iushln(this.shift), this.r2 = this.imod(this.r.sqr()), this.rinv = this.r._invmp(this.m), this.minv = this.rinv.mul(this.r).isubn(1).div(this.m), this.minv = this.minv.umod(this.r), this.minv = this.r.sub(this.minv);\n    }\n    n(p, O), p.prototype.convertTo = function(a) {\n      return this.imod(a.ushln(this.shift));\n    }, p.prototype.convertFrom = function(a) {\n      var c = this.imod(a.mul(this.rinv));\n      return c.red = null, c;\n    }, p.prototype.imul = function(a, c) {\n      if (a.isZero() || c.isZero())\n        return a.words[0] = 0, a.length = 1, a;\n      var b = a.imul(c), E = b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), S = b.isub(E).iushrn(this.shift), x = S;\n      return S.cmp(this.m) >= 0 ? x = S.isub(this.m) : S.cmpn(0) < 0 && (x = S.iadd(this.m)), x._forceRed(this);\n    }, p.prototype.mul = function(a, c) {\n      if (a.isZero() || c.isZero())\n        return new s(0)._forceRed(this);\n      var b = a.mul(c), E = b.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), S = b.isub(E).iushrn(this.shift), x = S;\n      return S.cmp(this.m) >= 0 ? x = S.isub(this.m) : S.cmpn(0) < 0 && (x = S.iadd(this.m)), x._forceRed(this);\n    }, p.prototype.invm = function(a) {\n      var c = this.imod(a._invmp(this.m).mul(this.r2));\n      return c._forceRed(this);\n    };\n  })(r, _lastConnected_e9351912_js__WEBPACK_IMPORTED_MODULE_0__.c);\n})(Uo);\nvar Uv = Uo.exports;\nconst Ke = /* @__PURE__ */ (0,_lastConnected_e9351912_js__WEBPACK_IMPORTED_MODULE_0__.d)(Uv);\nvar zv = Ke.BN;\nfunction Bv(r) {\n  return new zv(r, 36).toString(16);\n}\nconst kv = \"strings/5.7.0\", jv = new ht(kv);\nvar ks;\n(function(r) {\n  r.current = \"\", r.NFC = \"NFC\", r.NFD = \"NFD\", r.NFKC = \"NFKC\", r.NFKD = \"NFKD\";\n})(ks || (ks = {}));\nvar ac;\n(function(r) {\n  r.UNEXPECTED_CONTINUE = \"unexpected continuation byte\", r.BAD_PREFIX = \"bad codepoint prefix\", r.OVERRUN = \"string overrun\", r.MISSING_CONTINUE = \"missing continuation byte\", r.OUT_OF_RANGE = \"out of UTF-8 range\", r.UTF16_SURROGATE = \"UTF-16 surrogate\", r.OVERLONG = \"overlong representation\";\n})(ac || (ac = {}));\nfunction ka(r, e = ks.current) {\n  e != ks.current && (jv.checkNormalize(), r = r.normalize(e));\n  let t = [];\n  for (let i = 0; i < r.length; i++) {\n    const n = r.charCodeAt(i);\n    if (n < 128)\n      t.push(n);\n    else if (n < 2048)\n      t.push(n >> 6 | 192), t.push(n & 63 | 128);\n    else if ((n & 64512) == 55296) {\n      i++;\n      const s = r.charCodeAt(i);\n      if (i >= r.length || (s & 64512) !== 56320)\n        throw new Error(\"invalid utf-8 string\");\n      const o = 65536 + ((n & 1023) << 10) + (s & 1023);\n      t.push(o >> 18 | 240), t.push(o >> 12 & 63 | 128), t.push(o >> 6 & 63 | 128), t.push(o & 63 | 128);\n    } else\n      t.push(n >> 12 | 224), t.push(n >> 6 & 63 | 128), t.push(n & 63 | 128);\n  }\n  return yt(t);\n}\nconst Kv = `\u0019Ethereum Signed Message:\n`;\nfunction bu(r) {\n  return typeof r == \"string\" && (r = ka(r)), qo(Lv([\n    ka(Kv),\n    ka(String(r.length)),\n    r\n  ]));\n}\nconst Hv = \"address/5.7.0\", kn = new ht(Hv);\nfunction oc(r) {\n  Lr(r, 20) || kn.throwArgumentError(\"invalid address\", \"address\", r), r = r.toLowerCase();\n  const e = r.substring(2).split(\"\"), t = new Uint8Array(40);\n  for (let n = 0; n < 40; n++)\n    t[n] = e[n].charCodeAt(0);\n  const i = yt(qo(t));\n  for (let n = 0; n < 40; n += 2)\n    i[n >> 1] >> 4 >= 8 && (e[n] = e[n].toUpperCase()), (i[n >> 1] & 15) >= 8 && (e[n + 1] = e[n + 1].toUpperCase());\n  return \"0x\" + e.join(\"\");\n}\nconst Vv = 9007199254740991;\nfunction Wv(r) {\n  return Math.log10 ? Math.log10(r) : Math.log(r) / Math.LN10;\n}\nconst zo = {};\nfor (let r = 0; r < 10; r++)\n  zo[String(r)] = String(r);\nfor (let r = 0; r < 26; r++)\n  zo[String.fromCharCode(65 + r)] = String(10 + r);\nconst fc = Math.floor(Wv(Vv));\nfunction Gv(r) {\n  r = r.toUpperCase(), r = r.substring(4) + r.substring(0, 2) + \"00\";\n  let e = r.split(\"\").map((i) => zo[i]).join(\"\");\n  for (; e.length >= fc; ) {\n    let i = e.substring(0, fc);\n    e = parseInt(i, 10) % 97 + e.substring(i.length);\n  }\n  let t = String(98 - parseInt(e, 10) % 97);\n  for (; t.length < 2; )\n    t = \"0\" + t;\n  return t;\n}\nfunction Jv(r) {\n  let e = null;\n  if (typeof r != \"string\" && kn.throwArgumentError(\"invalid address\", \"address\", r), r.match(/^(0x)?[0-9a-fA-F]{40}$/))\n    r.substring(0, 2) !== \"0x\" && (r = \"0x\" + r), e = oc(r), r.match(/([A-F].*[a-f])|([a-f].*[A-F])/) && e !== r && kn.throwArgumentError(\"bad address checksum\", \"address\", r);\n  else if (r.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)) {\n    for (r.substring(2, 4) !== Gv(r) && kn.throwArgumentError(\"bad icap checksum\", \"address\", r), e = Bv(r.substring(4)); e.length < 40; )\n      e = \"0\" + e;\n    e = oc(\"0x\" + e);\n  } else\n    kn.throwArgumentError(\"invalid address\", \"address\", r);\n  return e;\n}\nglobalThis && globalThis.__awaiter;\nfunction Tn(r, e, t) {\n  Object.defineProperty(r, e, {\n    enumerable: !0,\n    value: t,\n    writable: !1\n  });\n}\nvar ns = {}, Qe = {}, Yi = gu;\nfunction gu(r, e) {\n  if (!r)\n    throw new Error(e || \"Assertion failed\");\n}\ngu.equal = function(e, t, i) {\n  if (e != t)\n    throw new Error(i || \"Assertion failed: \" + e + \" != \" + t);\n};\nvar mo = { exports: {} };\ntypeof Object.create == \"function\" ? mo.exports = function(e, t) {\n  t && (e.super_ = t, e.prototype = Object.create(t.prototype, {\n    constructor: {\n      value: e,\n      enumerable: !1,\n      writable: !0,\n      configurable: !0\n    }\n  }));\n} : mo.exports = function(e, t) {\n  if (t) {\n    e.super_ = t;\n    var i = function() {\n    };\n    i.prototype = t.prototype, e.prototype = new i(), e.prototype.constructor = e;\n  }\n};\nvar ua = mo.exports, Yv = Yi, Xv = ua;\nQe.inherits = Xv;\nfunction Zv(r, e) {\n  return (r.charCodeAt(e) & 64512) !== 55296 || e < 0 || e + 1 >= r.length ? !1 : (r.charCodeAt(e + 1) & 64512) === 56320;\n}\nfunction Qv(r, e) {\n  if (Array.isArray(r))\n    return r.slice();\n  if (!r)\n    return [];\n  var t = [];\n  if (typeof r == \"string\")\n    if (e) {\n      if (e === \"hex\")\n        for (r = r.replace(/[^a-z0-9]+/ig, \"\"), r.length % 2 !== 0 && (r = \"0\" + r), n = 0; n < r.length; n += 2)\n          t.push(parseInt(r[n] + r[n + 1], 16));\n    } else\n      for (var i = 0, n = 0; n < r.length; n++) {\n        var s = r.charCodeAt(n);\n        s < 128 ? t[i++] = s : s < 2048 ? (t[i++] = s >> 6 | 192, t[i++] = s & 63 | 128) : Zv(r, n) ? (s = 65536 + ((s & 1023) << 10) + (r.charCodeAt(++n) & 1023), t[i++] = s >> 18 | 240, t[i++] = s >> 12 & 63 | 128, t[i++] = s >> 6 & 63 | 128, t[i++] = s & 63 | 128) : (t[i++] = s >> 12 | 224, t[i++] = s >> 6 & 63 | 128, t[i++] = s & 63 | 128);\n      }\n  else\n    for (n = 0; n < r.length; n++)\n      t[n] = r[n] | 0;\n  return t;\n}\nQe.toArray = Qv;\nfunction eb(r) {\n  for (var e = \"\", t = 0; t < r.length; t++)\n    e += mu(r[t].toString(16));\n  return e;\n}\nQe.toHex = eb;\nfunction yu(r) {\n  var e = r >>> 24 | r >>> 8 & 65280 | r << 8 & 16711680 | (r & 255) << 24;\n  return e >>> 0;\n}\nQe.htonl = yu;\nfunction tb(r, e) {\n  for (var t = \"\", i = 0; i < r.length; i++) {\n    var n = r[i];\n    e === \"little\" && (n = yu(n)), t += wu(n.toString(16));\n  }\n  return t;\n}\nQe.toHex32 = tb;\nfunction mu(r) {\n  return r.length === 1 ? \"0\" + r : r;\n}\nQe.zero2 = mu;\nfunction wu(r) {\n  return r.length === 7 ? \"0\" + r : r.length === 6 ? \"00\" + r : r.length === 5 ? \"000\" + r : r.length === 4 ? \"0000\" + r : r.length === 3 ? \"00000\" + r : r.length === 2 ? \"000000\" + r : r.length === 1 ? \"0000000\" + r : r;\n}\nQe.zero8 = wu;\nfunction rb(r, e, t, i) {\n  var n = t - e;\n  Yv(n % 4 === 0);\n  for (var s = new Array(n / 4), o = 0, f = e; o < s.length; o++, f += 4) {\n    var h;\n    i === \"big\" ? h = r[f] << 24 | r[f + 1] << 16 | r[f + 2] << 8 | r[f + 3] : h = r[f + 3] << 24 | r[f + 2] << 16 | r[f + 1] << 8 | r[f], s[o] = h >>> 0;\n  }\n  return s;\n}\nQe.join32 = rb;\nfunction ib(r, e) {\n  for (var t = new Array(r.length * 4), i = 0, n = 0; i < r.length; i++, n += 4) {\n    var s = r[i];\n    e === \"big\" ? (t[n] = s >>> 24, t[n + 1] = s >>> 16 & 255, t[n + 2] = s >>> 8 & 255, t[n + 3] = s & 255) : (t[n + 3] = s >>> 24, t[n + 2] = s >>> 16 & 255, t[n + 1] = s >>> 8 & 255, t[n] = s & 255);\n  }\n  return t;\n}\nQe.split32 = ib;\nfunction nb(r, e) {\n  return r >>> e | r << 32 - e;\n}\nQe.rotr32 = nb;\nfunction sb(r, e) {\n  return r << e | r >>> 32 - e;\n}\nQe.rotl32 = sb;\nfunction ab(r, e) {\n  return r + e >>> 0;\n}\nQe.sum32 = ab;\nfunction ob(r, e, t) {\n  return r + e + t >>> 0;\n}\nQe.sum32_3 = ob;\nfunction fb(r, e, t, i) {\n  return r + e + t + i >>> 0;\n}\nQe.sum32_4 = fb;\nfunction cb(r, e, t, i, n) {\n  return r + e + t + i + n >>> 0;\n}\nQe.sum32_5 = cb;\nfunction hb(r, e, t, i) {\n  var n = r[e], s = r[e + 1], o = i + s >>> 0, f = (o < i ? 1 : 0) + t + n;\n  r[e] = f >>> 0, r[e + 1] = o;\n}\nQe.sum64 = hb;\nfunction ub(r, e, t, i) {\n  var n = e + i >>> 0, s = (n < e ? 1 : 0) + r + t;\n  return s >>> 0;\n}\nQe.sum64_hi = ub;\nfunction db(r, e, t, i) {\n  var n = e + i;\n  return n >>> 0;\n}\nQe.sum64_lo = db;\nfunction lb(r, e, t, i, n, s, o, f) {\n  var h = 0, d = e;\n  d = d + i >>> 0, h += d < e ? 1 : 0, d = d + s >>> 0, h += d < s ? 1 : 0, d = d + f >>> 0, h += d < f ? 1 : 0;\n  var v = r + t + n + o + h;\n  return v >>> 0;\n}\nQe.sum64_4_hi = lb;\nfunction pb(r, e, t, i, n, s, o, f) {\n  var h = e + i + s + f;\n  return h >>> 0;\n}\nQe.sum64_4_lo = pb;\nfunction vb(r, e, t, i, n, s, o, f, h, d) {\n  var v = 0, w = e;\n  w = w + i >>> 0, v += w < e ? 1 : 0, w = w + s >>> 0, v += w < s ? 1 : 0, w = w + f >>> 0, v += w < f ? 1 : 0, w = w + d >>> 0, v += w < d ? 1 : 0;\n  var A = r + t + n + o + h + v;\n  return A >>> 0;\n}\nQe.sum64_5_hi = vb;\nfunction bb(r, e, t, i, n, s, o, f, h, d) {\n  var v = e + i + s + f + d;\n  return v >>> 0;\n}\nQe.sum64_5_lo = bb;\nfunction gb(r, e, t) {\n  var i = e << 32 - t | r >>> t;\n  return i >>> 0;\n}\nQe.rotr64_hi = gb;\nfunction yb(r, e, t) {\n  var i = r << 32 - t | e >>> t;\n  return i >>> 0;\n}\nQe.rotr64_lo = yb;\nfunction mb(r, e, t) {\n  return r >>> t;\n}\nQe.shr64_hi = mb;\nfunction wb(r, e, t) {\n  var i = r << 32 - t | e >>> t;\n  return i >>> 0;\n}\nQe.shr64_lo = wb;\nvar mn = {}, cc = Qe, _b = Yi;\nfunction da() {\n  this.pending = null, this.pendingTotal = 0, this.blockSize = this.constructor.blockSize, this.outSize = this.constructor.outSize, this.hmacStrength = this.constructor.hmacStrength, this.padLength = this.constructor.padLength / 8, this.endian = \"big\", this._delta8 = this.blockSize / 8, this._delta32 = this.blockSize / 32;\n}\nmn.BlockHash = da;\nda.prototype.update = function(e, t) {\n  if (e = cc.toArray(e, t), this.pending ? this.pending = this.pending.concat(e) : this.pending = e, this.pendingTotal += e.length, this.pending.length >= this._delta8) {\n    e = this.pending;\n    var i = e.length % this._delta8;\n    this.pending = e.slice(e.length - i, e.length), this.pending.length === 0 && (this.pending = null), e = cc.join32(e, 0, e.length - i, this.endian);\n    for (var n = 0; n < e.length; n += this._delta32)\n      this._update(e, n, n + this._delta32);\n  }\n  return this;\n};\nda.prototype.digest = function(e) {\n  return this.update(this._pad()), _b(this.pending === null), this._digest(e);\n};\nda.prototype._pad = function() {\n  var e = this.pendingTotal, t = this._delta8, i = t - (e + this.padLength) % t, n = new Array(i + this.padLength);\n  n[0] = 128;\n  for (var s = 1; s < i; s++)\n    n[s] = 0;\n  if (e <<= 3, this.endian === \"big\") {\n    for (var o = 8; o < this.padLength; o++)\n      n[s++] = 0;\n    n[s++] = 0, n[s++] = 0, n[s++] = 0, n[s++] = 0, n[s++] = e >>> 24 & 255, n[s++] = e >>> 16 & 255, n[s++] = e >>> 8 & 255, n[s++] = e & 255;\n  } else\n    for (n[s++] = e & 255, n[s++] = e >>> 8 & 255, n[s++] = e >>> 16 & 255, n[s++] = e >>> 24 & 255, n[s++] = 0, n[s++] = 0, n[s++] = 0, n[s++] = 0, o = 8; o < this.padLength; o++)\n      n[s++] = 0;\n  return n;\n};\nvar wn = {}, Kr = {}, xb = Qe, Fr = xb.rotr32;\nfunction Eb(r, e, t, i) {\n  if (r === 0)\n    return _u(e, t, i);\n  if (r === 1 || r === 3)\n    return Eu(e, t, i);\n  if (r === 2)\n    return xu(e, t, i);\n}\nKr.ft_1 = Eb;\nfunction _u(r, e, t) {\n  return r & e ^ ~r & t;\n}\nKr.ch32 = _u;\nfunction xu(r, e, t) {\n  return r & e ^ r & t ^ e & t;\n}\nKr.maj32 = xu;\nfunction Eu(r, e, t) {\n  return r ^ e ^ t;\n}\nKr.p32 = Eu;\nfunction Sb(r) {\n  return Fr(r, 2) ^ Fr(r, 13) ^ Fr(r, 22);\n}\nKr.s0_256 = Sb;\nfunction Mb(r) {\n  return Fr(r, 6) ^ Fr(r, 11) ^ Fr(r, 25);\n}\nKr.s1_256 = Mb;\nfunction Ib(r) {\n  return Fr(r, 7) ^ Fr(r, 18) ^ r >>> 3;\n}\nKr.g0_256 = Ib;\nfunction Ab(r) {\n  return Fr(r, 17) ^ Fr(r, 19) ^ r >>> 10;\n}\nKr.g1_256 = Ab;\nvar dn = Qe, Db = mn, Pb = Kr, ja = dn.rotl32, Cn = dn.sum32, Ob = dn.sum32_5, Rb = Pb.ft_1, Su = Db.BlockHash, Nb = [\n  1518500249,\n  1859775393,\n  2400959708,\n  3395469782\n];\nfunction zr() {\n  if (!(this instanceof zr))\n    return new zr();\n  Su.call(this), this.h = [\n    1732584193,\n    4023233417,\n    2562383102,\n    271733878,\n    3285377520\n  ], this.W = new Array(80);\n}\ndn.inherits(zr, Su);\nvar Tb = zr;\nzr.blockSize = 512;\nzr.outSize = 160;\nzr.hmacStrength = 80;\nzr.padLength = 64;\nzr.prototype._update = function(e, t) {\n  for (var i = this.W, n = 0; n < 16; n++)\n    i[n] = e[t + n];\n  for (; n < i.length; n++)\n    i[n] = ja(i[n - 3] ^ i[n - 8] ^ i[n - 14] ^ i[n - 16], 1);\n  var s = this.h[0], o = this.h[1], f = this.h[2], h = this.h[3], d = this.h[4];\n  for (n = 0; n < i.length; n++) {\n    var v = ~~(n / 20), w = Ob(ja(s, 5), Rb(v, o, f, h), d, i[n], Nb[v]);\n    d = h, h = f, f = ja(o, 30), o = s, s = w;\n  }\n  this.h[0] = Cn(this.h[0], s), this.h[1] = Cn(this.h[1], o), this.h[2] = Cn(this.h[2], f), this.h[3] = Cn(this.h[3], h), this.h[4] = Cn(this.h[4], d);\n};\nzr.prototype._digest = function(e) {\n  return e === \"hex\" ? dn.toHex32(this.h, \"big\") : dn.split32(this.h, \"big\");\n};\nvar ln = Qe, Cb = mn, _n = Kr, $b = Yi, wr = ln.sum32, Lb = ln.sum32_4, Fb = ln.sum32_5, qb = _n.ch32, Ub = _n.maj32, zb = _n.s0_256, Bb = _n.s1_256, kb = _n.g0_256, jb = _n.g1_256, Mu = Cb.BlockHash, Kb = [\n  1116352408,\n  1899447441,\n  3049323471,\n  3921009573,\n  961987163,\n  1508970993,\n  2453635748,\n  2870763221,\n  3624381080,\n  310598401,\n  607225278,\n  1426881987,\n  1925078388,\n  2162078206,\n  2614888103,\n  3248222580,\n  3835390401,\n  4022224774,\n  264347078,\n  604807628,\n  770255983,\n  1249150122,\n  1555081692,\n  1996064986,\n  2554220882,\n  2821834349,\n  2952996808,\n  3210313671,\n  3336571891,\n  3584528711,\n  113926993,\n  338241895,\n  666307205,\n  773529912,\n  1294757372,\n  1396182291,\n  1695183700,\n  1986661051,\n  2177026350,\n  2456956037,\n  2730485921,\n  2820302411,\n  3259730800,\n  3345764771,\n  3516065817,\n  3600352804,\n  4094571909,\n  275423344,\n  430227734,\n  506948616,\n  659060556,\n  883997877,\n  958139571,\n  1322822218,\n  1537002063,\n  1747873779,\n  1955562222,\n  2024104815,\n  2227730452,\n  2361852424,\n  2428436474,\n  2756734187,\n  3204031479,\n  3329325298\n];\nfunction Br() {\n  if (!(this instanceof Br))\n    return new Br();\n  Mu.call(this), this.h = [\n    1779033703,\n    3144134277,\n    1013904242,\n    2773480762,\n    1359893119,\n    2600822924,\n    528734635,\n    1541459225\n  ], this.k = Kb, this.W = new Array(64);\n}\nln.inherits(Br, Mu);\nvar Iu = Br;\nBr.blockSize = 512;\nBr.outSize = 256;\nBr.hmacStrength = 192;\nBr.padLength = 64;\nBr.prototype._update = function(e, t) {\n  for (var i = this.W, n = 0; n < 16; n++)\n    i[n] = e[t + n];\n  for (; n < i.length; n++)\n    i[n] = Lb(jb(i[n - 2]), i[n - 7], kb(i[n - 15]), i[n - 16]);\n  var s = this.h[0], o = this.h[1], f = this.h[2], h = this.h[3], d = this.h[4], v = this.h[5], w = this.h[6], A = this.h[7];\n  for ($b(this.k.length === i.length), n = 0; n < i.length; n++) {\n    var I = Fb(A, Bb(d), qb(d, v, w), this.k[n], i[n]), D = wr(zb(s), Ub(s, o, f));\n    A = w, w = v, v = d, d = wr(h, I), h = f, f = o, o = s, s = wr(I, D);\n  }\n  this.h[0] = wr(this.h[0], s), this.h[1] = wr(this.h[1], o), this.h[2] = wr(this.h[2], f), this.h[3] = wr(this.h[3], h), this.h[4] = wr(this.h[4], d), this.h[5] = wr(this.h[5], v), this.h[6] = wr(this.h[6], w), this.h[7] = wr(this.h[7], A);\n};\nBr.prototype._digest = function(e) {\n  return e === \"hex\" ? ln.toHex32(this.h, \"big\") : ln.split32(this.h, \"big\");\n};\nvar wo = Qe, Au = Iu;\nfunction ui() {\n  if (!(this instanceof ui))\n    return new ui();\n  Au.call(this), this.h = [\n    3238371032,\n    914150663,\n    812702999,\n    4144912697,\n    4290775857,\n    1750603025,\n    1694076839,\n    3204075428\n  ];\n}\nwo.inherits(ui, Au);\nvar Hb = ui;\nui.blockSize = 512;\nui.outSize = 224;\nui.hmacStrength = 192;\nui.padLength = 64;\nui.prototype._digest = function(e) {\n  return e === \"hex\" ? wo.toHex32(this.h.slice(0, 7), \"big\") : wo.split32(this.h.slice(0, 7), \"big\");\n};\nvar Yt = Qe, Vb = mn, Wb = Yi, qr = Yt.rotr64_hi, Ur = Yt.rotr64_lo, Du = Yt.shr64_hi, Pu = Yt.shr64_lo, bi = Yt.sum64, Ka = Yt.sum64_hi, Ha = Yt.sum64_lo, Gb = Yt.sum64_4_hi, Jb = Yt.sum64_4_lo, Yb = Yt.sum64_5_hi, Xb = Yt.sum64_5_lo, Ou = Vb.BlockHash, Zb = [\n  1116352408,\n  3609767458,\n  1899447441,\n  602891725,\n  3049323471,\n  3964484399,\n  3921009573,\n  2173295548,\n  961987163,\n  4081628472,\n  1508970993,\n  3053834265,\n  2453635748,\n  2937671579,\n  2870763221,\n  3664609560,\n  3624381080,\n  2734883394,\n  310598401,\n  1164996542,\n  607225278,\n  1323610764,\n  1426881987,\n  3590304994,\n  1925078388,\n  4068182383,\n  2162078206,\n  991336113,\n  2614888103,\n  633803317,\n  3248222580,\n  3479774868,\n  3835390401,\n  2666613458,\n  4022224774,\n  944711139,\n  264347078,\n  2341262773,\n  604807628,\n  2007800933,\n  770255983,\n  1495990901,\n  1249150122,\n  1856431235,\n  1555081692,\n  3175218132,\n  1996064986,\n  2198950837,\n  2554220882,\n  3999719339,\n  2821834349,\n  766784016,\n  2952996808,\n  2566594879,\n  3210313671,\n  3203337956,\n  3336571891,\n  1034457026,\n  3584528711,\n  2466948901,\n  113926993,\n  3758326383,\n  338241895,\n  168717936,\n  666307205,\n  1188179964,\n  773529912,\n  1546045734,\n  1294757372,\n  1522805485,\n  1396182291,\n  2643833823,\n  1695183700,\n  2343527390,\n  1986661051,\n  1014477480,\n  2177026350,\n  1206759142,\n  2456956037,\n  344077627,\n  2730485921,\n  1290863460,\n  2820302411,\n  3158454273,\n  3259730800,\n  3505952657,\n  3345764771,\n  106217008,\n  3516065817,\n  3606008344,\n  3600352804,\n  1432725776,\n  4094571909,\n  1467031594,\n  275423344,\n  851169720,\n  430227734,\n  3100823752,\n  506948616,\n  1363258195,\n  659060556,\n  3750685593,\n  883997877,\n  3785050280,\n  958139571,\n  3318307427,\n  1322822218,\n  3812723403,\n  1537002063,\n  2003034995,\n  1747873779,\n  3602036899,\n  1955562222,\n  1575990012,\n  2024104815,\n  1125592928,\n  2227730452,\n  2716904306,\n  2361852424,\n  442776044,\n  2428436474,\n  593698344,\n  2756734187,\n  3733110249,\n  3204031479,\n  2999351573,\n  3329325298,\n  3815920427,\n  3391569614,\n  3928383900,\n  3515267271,\n  566280711,\n  3940187606,\n  3454069534,\n  4118630271,\n  4000239992,\n  116418474,\n  1914138554,\n  174292421,\n  2731055270,\n  289380356,\n  3203993006,\n  460393269,\n  320620315,\n  685471733,\n  587496836,\n  852142971,\n  1086792851,\n  1017036298,\n  365543100,\n  1126000580,\n  2618297676,\n  1288033470,\n  3409855158,\n  1501505948,\n  4234509866,\n  1607167915,\n  987167468,\n  1816402316,\n  1246189591\n];\nfunction Ar() {\n  if (!(this instanceof Ar))\n    return new Ar();\n  Ou.call(this), this.h = [\n    1779033703,\n    4089235720,\n    3144134277,\n    2227873595,\n    1013904242,\n    4271175723,\n    2773480762,\n    1595750129,\n    1359893119,\n    2917565137,\n    2600822924,\n    725511199,\n    528734635,\n    4215389547,\n    1541459225,\n    327033209\n  ], this.k = Zb, this.W = new Array(160);\n}\nYt.inherits(Ar, Ou);\nvar Ru = Ar;\nAr.blockSize = 1024;\nAr.outSize = 512;\nAr.hmacStrength = 192;\nAr.padLength = 128;\nAr.prototype._prepareBlock = function(e, t) {\n  for (var i = this.W, n = 0; n < 32; n++)\n    i[n] = e[t + n];\n  for (; n < i.length; n += 2) {\n    var s = cg(i[n - 4], i[n - 3]), o = hg(i[n - 4], i[n - 3]), f = i[n - 14], h = i[n - 13], d = og(i[n - 30], i[n - 29]), v = fg(i[n - 30], i[n - 29]), w = i[n - 32], A = i[n - 31];\n    i[n] = Gb(\n      s,\n      o,\n      f,\n      h,\n      d,\n      v,\n      w,\n      A\n    ), i[n + 1] = Jb(\n      s,\n      o,\n      f,\n      h,\n      d,\n      v,\n      w,\n      A\n    );\n  }\n};\nAr.prototype._update = function(e, t) {\n  this._prepareBlock(e, t);\n  var i = this.W, n = this.h[0], s = this.h[1], o = this.h[2], f = this.h[3], h = this.h[4], d = this.h[5], v = this.h[6], w = this.h[7], A = this.h[8], I = this.h[9], D = this.h[10], N = this.h[11], k = this.h[12], j = this.h[13], T = this.h[14], K = this.h[15];\n  Wb(this.k.length === i.length);\n  for (var $ = 0; $ < i.length; $ += 2) {\n    var z = T, B = K, _ = sg(A, I), R = ag(A, I), J = Qb(A, I, D, N, k), Q = eg(A, I, D, N, k, j), O = this.k[$], p = this.k[$ + 1], l = i[$], a = i[$ + 1], c = Yb(\n      z,\n      B,\n      _,\n      R,\n      J,\n      Q,\n      O,\n      p,\n      l,\n      a\n    ), b = Xb(\n      z,\n      B,\n      _,\n      R,\n      J,\n      Q,\n      O,\n      p,\n      l,\n      a\n    );\n    z = ig(n, s), B = ng(n, s), _ = tg(n, s, o, f, h), R = rg(n, s, o, f, h, d);\n    var E = Ka(z, B, _, R), S = Ha(z, B, _, R);\n    T = k, K = j, k = D, j = N, D = A, N = I, A = Ka(v, w, c, b), I = Ha(w, w, c, b), v = h, w = d, h = o, d = f, o = n, f = s, n = Ka(c, b, E, S), s = Ha(c, b, E, S);\n  }\n  bi(this.h, 0, n, s), bi(this.h, 2, o, f), bi(this.h, 4, h, d), bi(this.h, 6, v, w), bi(this.h, 8, A, I), bi(this.h, 10, D, N), bi(this.h, 12, k, j), bi(this.h, 14, T, K);\n};\nAr.prototype._digest = function(e) {\n  return e === \"hex\" ? Yt.toHex32(this.h, \"big\") : Yt.split32(this.h, \"big\");\n};\nfunction Qb(r, e, t, i, n) {\n  var s = r & t ^ ~r & n;\n  return s < 0 && (s += 4294967296), s;\n}\nfunction eg(r, e, t, i, n, s) {\n  var o = e & i ^ ~e & s;\n  return o < 0 && (o += 4294967296), o;\n}\nfunction tg(r, e, t, i, n) {\n  var s = r & t ^ r & n ^ t & n;\n  return s < 0 && (s += 4294967296), s;\n}\nfunction rg(r, e, t, i, n, s) {\n  var o = e & i ^ e & s ^ i & s;\n  return o < 0 && (o += 4294967296), o;\n}\nfunction ig(r, e) {\n  var t = qr(r, e, 28), i = qr(e, r, 2), n = qr(e, r, 7), s = t ^ i ^ n;\n  return s < 0 && (s += 4294967296), s;\n}\nfunction ng(r, e) {\n  var t = Ur(r, e, 28), i = Ur(e, r, 2), n = Ur(e, r, 7), s = t ^ i ^ n;\n  return s < 0 && (s += 4294967296), s;\n}\nfunction sg(r, e) {\n  var t = qr(r, e, 14), i = qr(r, e, 18), n = qr(e, r, 9), s = t ^ i ^ n;\n  return s < 0 && (s += 4294967296), s;\n}\nfunction ag(r, e) {\n  var t = Ur(r, e, 14), i = Ur(r, e, 18), n = Ur(e, r, 9), s = t ^ i ^ n;\n  return s < 0 && (s += 4294967296), s;\n}\nfunction og(r, e) {\n  var t = qr(r, e, 1), i = qr(r, e, 8), n = Du(r, e, 7), s = t ^ i ^ n;\n  return s < 0 && (s += 4294967296), s;\n}\nfunction fg(r, e) {\n  var t = Ur(r, e, 1), i = Ur(r, e, 8), n = Pu(r, e, 7), s = t ^ i ^ n;\n  return s < 0 && (s += 4294967296), s;\n}\nfunction cg(r, e) {\n  var t = qr(r, e, 19), i = qr(e, r, 29), n = Du(r, e, 6), s = t ^ i ^ n;\n  return s < 0 && (s += 4294967296), s;\n}\nfunction hg(r, e) {\n  var t = Ur(r, e, 19), i = Ur(e, r, 29), n = Pu(r, e, 6), s = t ^ i ^ n;\n  return s < 0 && (s += 4294967296), s;\n}\nvar _o = Qe, Nu = Ru;\nfunction di() {\n  if (!(this instanceof di))\n    return new di();\n  Nu.call(this), this.h = [\n    3418070365,\n    3238371032,\n    1654270250,\n    914150663,\n    2438529370,\n    812702999,\n    355462360,\n    4144912697,\n    1731405415,\n    4290775857,\n    2394180231,\n    1750603025,\n    3675008525,\n    1694076839,\n    1203062813,\n    3204075428\n  ];\n}\n_o.inherits(di, Nu);\nvar ug = di;\ndi.blockSize = 1024;\ndi.outSize = 384;\ndi.hmacStrength = 192;\ndi.padLength = 128;\ndi.prototype._digest = function(e) {\n  return e === \"hex\" ? _o.toHex32(this.h.slice(0, 12), \"big\") : _o.split32(this.h.slice(0, 12), \"big\");\n};\nwn.sha1 = Tb;\nwn.sha224 = Hb;\nwn.sha256 = Iu;\nwn.sha384 = ug;\nwn.sha512 = Ru;\nvar Tu = {}, Ki = Qe, dg = mn, xs = Ki.rotl32, hc = Ki.sum32, $n = Ki.sum32_3, uc = Ki.sum32_4, Cu = dg.BlockHash;\nfunction kr() {\n  if (!(this instanceof kr))\n    return new kr();\n  Cu.call(this), this.h = [1732584193, 4023233417, 2562383102, 271733878, 3285377520], this.endian = \"little\";\n}\nKi.inherits(kr, Cu);\nTu.ripemd160 = kr;\nkr.blockSize = 512;\nkr.outSize = 160;\nkr.hmacStrength = 192;\nkr.padLength = 64;\nkr.prototype._update = function(e, t) {\n  for (var i = this.h[0], n = this.h[1], s = this.h[2], o = this.h[3], f = this.h[4], h = i, d = n, v = s, w = o, A = f, I = 0; I < 80; I++) {\n    var D = hc(\n      xs(\n        uc(i, dc(I, n, s, o), e[vg[I] + t], lg(I)),\n        gg[I]\n      ),\n      f\n    );\n    i = f, f = o, o = xs(s, 10), s = n, n = D, D = hc(\n      xs(\n        uc(h, dc(79 - I, d, v, w), e[bg[I] + t], pg(I)),\n        yg[I]\n      ),\n      A\n    ), h = A, A = w, w = xs(v, 10), v = d, d = D;\n  }\n  D = $n(this.h[1], s, w), this.h[1] = $n(this.h[2], o, A), this.h[2] = $n(this.h[3], f, h), this.h[3] = $n(this.h[4], i, d), this.h[4] = $n(this.h[0], n, v), this.h[0] = D;\n};\nkr.prototype._digest = function(e) {\n  return e === \"hex\" ? Ki.toHex32(this.h, \"little\") : Ki.split32(this.h, \"little\");\n};\nfunction dc(r, e, t, i) {\n  return r <= 15 ? e ^ t ^ i : r <= 31 ? e & t | ~e & i : r <= 47 ? (e | ~t) ^ i : r <= 63 ? e & i | t & ~i : e ^ (t | ~i);\n}\nfunction lg(r) {\n  return r <= 15 ? 0 : r <= 31 ? 1518500249 : r <= 47 ? 1859775393 : r <= 63 ? 2400959708 : 2840853838;\n}\nfunction pg(r) {\n  return r <= 15 ? 1352829926 : r <= 31 ? 1548603684 : r <= 47 ? 1836072691 : r <= 63 ? 2053994217 : 0;\n}\nvar vg = [\n  0,\n  1,\n  2,\n  3,\n  4,\n  5,\n  6,\n  7,\n  8,\n  9,\n  10,\n  11,\n  12,\n  13,\n  14,\n  15,\n  7,\n  4,\n  13,\n  1,\n  10,\n  6,\n  15,\n  3,\n  12,\n  0,\n  9,\n  5,\n  2,\n  14,\n  11,\n  8,\n  3,\n  10,\n  14,\n  4,\n  9,\n  15,\n  8,\n  1,\n  2,\n  7,\n  0,\n  6,\n  13,\n  11,\n  5,\n  12,\n  1,\n  9,\n  11,\n  10,\n  0,\n  8,\n  12,\n  4,\n  13,\n  3,\n  7,\n  15,\n  14,\n  5,\n  6,\n  2,\n  4,\n  0,\n  5,\n  9,\n  7,\n  12,\n  2,\n  10,\n  14,\n  1,\n  3,\n  8,\n  11,\n  6,\n  15,\n  13\n], bg = [\n  5,\n  14,\n  7,\n  0,\n  9,\n  2,\n  11,\n  4,\n  13,\n  6,\n  15,\n  8,\n  1,\n  10,\n  3,\n  12,\n  6,\n  11,\n  3,\n  7,\n  0,\n  13,\n  5,\n  10,\n  14,\n  15,\n  8,\n  12,\n  4,\n  9,\n  1,\n  2,\n  15,\n  5,\n  1,\n  3,\n  7,\n  14,\n  6,\n  9,\n  11,\n  8,\n  12,\n  2,\n  10,\n  0,\n  4,\n  13,\n  8,\n  6,\n  4,\n  1,\n  3,\n  11,\n  15,\n  0,\n  5,\n  12,\n  2,\n  13,\n  9,\n  7,\n  10,\n  14,\n  12,\n  15,\n  10,\n  4,\n  1,\n  5,\n  8,\n  7,\n  6,\n  2,\n  13,\n  14,\n  0,\n  3,\n  9,\n  11\n], gg = [\n  11,\n  14,\n  15,\n  12,\n  5,\n  8,\n  7,\n  9,\n  11,\n  13,\n  14,\n  15,\n  6,\n  7,\n  9,\n  8,\n  7,\n  6,\n  8,\n  13,\n  11,\n  9,\n  7,\n  15,\n  7,\n  12,\n  15,\n  9,\n  11,\n  7,\n  13,\n  12,\n  11,\n  13,\n  6,\n  7,\n  14,\n  9,\n  13,\n  15,\n  14,\n  8,\n  13,\n  6,\n  5,\n  12,\n  7,\n  5,\n  11,\n  12,\n  14,\n  15,\n  14,\n  15,\n  9,\n  8,\n  9,\n  14,\n  5,\n  6,\n  8,\n  6,\n  5,\n  12,\n  9,\n  15,\n  5,\n  11,\n  6,\n  8,\n  13,\n  12,\n  5,\n  12,\n  13,\n  14,\n  11,\n  8,\n  5,\n  6\n], yg = [\n  8,\n  9,\n  9,\n  11,\n  13,\n  15,\n  15,\n  5,\n  7,\n  7,\n  8,\n  11,\n  14,\n  14,\n  12,\n  6,\n  9,\n  13,\n  15,\n  7,\n  12,\n  8,\n  9,\n  11,\n  7,\n  7,\n  12,\n  7,\n  6,\n  15,\n  13,\n  11,\n  9,\n  7,\n  15,\n  11,\n  8,\n  6,\n  6,\n  14,\n  12,\n  13,\n  5,\n  14,\n  13,\n  13,\n  7,\n  5,\n  15,\n  5,\n  8,\n  11,\n  14,\n  14,\n  6,\n  14,\n  6,\n  9,\n  12,\n  9,\n  12,\n  5,\n  15,\n  8,\n  8,\n  5,\n  12,\n  9,\n  12,\n  5,\n  14,\n  6,\n  8,\n  13,\n  6,\n  5,\n  15,\n  13,\n  11,\n  11\n], mg = Qe, wg = Yi;\nfunction pn(r, e, t) {\n  if (!(this instanceof pn))\n    return new pn(r, e, t);\n  this.Hash = r, this.blockSize = r.blockSize / 8, this.outSize = r.outSize / 8, this.inner = null, this.outer = null, this._init(mg.toArray(e, t));\n}\nvar _g = pn;\npn.prototype._init = function(e) {\n  e.length > this.blockSize && (e = new this.Hash().update(e).digest()), wg(e.length <= this.blockSize);\n  for (var t = e.length; t < this.blockSize; t++)\n    e.push(0);\n  for (t = 0; t < e.length; t++)\n    e[t] ^= 54;\n  for (this.inner = new this.Hash().update(e), t = 0; t < e.length; t++)\n    e[t] ^= 106;\n  this.outer = new this.Hash().update(e);\n};\npn.prototype.update = function(e, t) {\n  return this.inner.update(e, t), this;\n};\npn.prototype.digest = function(e) {\n  return this.outer.update(this.inner.digest()), this.outer.digest(e);\n};\n(function(r) {\n  var e = r;\n  e.utils = Qe, e.common = mn, e.sha = wn, e.ripemd = Tu, e.hmac = _g, e.sha1 = e.sha.sha1, e.sha256 = e.sha.sha256, e.sha224 = e.sha.sha224, e.sha384 = e.sha.sha384, e.sha512 = e.sha.sha512, e.ripemd160 = e.ripemd.ripemd160;\n})(ns);\nconst si = /* @__PURE__ */ (0,_lastConnected_e9351912_js__WEBPACK_IMPORTED_MODULE_0__.d)(ns);\nfunction xn(r, e, t) {\n  return t = {\n    path: e,\n    exports: {},\n    require: function(i, n) {\n      return xg(i, n ?? t.path);\n    }\n  }, r(t, t.exports), t.exports;\n}\nfunction xg() {\n  throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\");\n}\nvar Bo = $u;\nfunction $u(r, e) {\n  if (!r)\n    throw new Error(e || \"Assertion failed\");\n}\n$u.equal = function(e, t, i) {\n  if (e != t)\n    throw new Error(i || \"Assertion failed: \" + e + \" != \" + t);\n};\nvar Mr = xn(function(r, e) {\n  var t = e;\n  function i(o, f) {\n    if (Array.isArray(o))\n      return o.slice();\n    if (!o)\n      return [];\n    var h = [];\n    if (typeof o != \"string\") {\n      for (var d = 0; d < o.length; d++)\n        h[d] = o[d] | 0;\n      return h;\n    }\n    if (f === \"hex\") {\n      o = o.replace(/[^a-z0-9]+/ig, \"\"), o.length % 2 !== 0 && (o = \"0\" + o);\n      for (var d = 0; d < o.length; d += 2)\n        h.push(parseInt(o[d] + o[d + 1], 16));\n    } else\n      for (var d = 0; d < o.length; d++) {\n        var v = o.charCodeAt(d), w = v >> 8, A = v & 255;\n        w ? h.push(w, A) : h.push(A);\n      }\n    return h;\n  }\n  t.toArray = i;\n  function n(o) {\n    return o.length === 1 ? \"0\" + o : o;\n  }\n  t.zero2 = n;\n  function s(o) {\n    for (var f = \"\", h = 0; h < o.length; h++)\n      f += n(o[h].toString(16));\n    return f;\n  }\n  t.toHex = s, t.encode = function(f, h) {\n    return h === \"hex\" ? s(f) : f;\n  };\n}), sr = xn(function(r, e) {\n  var t = e;\n  t.assert = Bo, t.toArray = Mr.toArray, t.zero2 = Mr.zero2, t.toHex = Mr.toHex, t.encode = Mr.encode;\n  function i(h, d, v) {\n    var w = new Array(Math.max(h.bitLength(), v) + 1);\n    w.fill(0);\n    for (var A = 1 << d + 1, I = h.clone(), D = 0; D < w.length; D++) {\n      var N, k = I.andln(A - 1);\n      I.isOdd() ? (k > (A >> 1) - 1 ? N = (A >> 1) - k : N = k, I.isubn(N)) : N = 0, w[D] = N, I.iushrn(1);\n    }\n    return w;\n  }\n  t.getNAF = i;\n  function n(h, d) {\n    var v = [\n      [],\n      []\n    ];\n    h = h.clone(), d = d.clone();\n    for (var w = 0, A = 0, I; h.cmpn(-w) > 0 || d.cmpn(-A) > 0; ) {\n      var D = h.andln(3) + w & 3, N = d.andln(3) + A & 3;\n      D === 3 && (D = -1), N === 3 && (N = -1);\n      var k;\n      D & 1 ? (I = h.andln(7) + w & 7, (I === 3 || I === 5) && N === 2 ? k = -D : k = D) : k = 0, v[0].push(k);\n      var j;\n      N & 1 ? (I = d.andln(7) + A & 7, (I === 3 || I === 5) && D === 2 ? j = -N : j = N) : j = 0, v[1].push(j), 2 * w === k + 1 && (w = 1 - w), 2 * A === j + 1 && (A = 1 - A), h.iushrn(1), d.iushrn(1);\n    }\n    return v;\n  }\n  t.getJSF = n;\n  function s(h, d, v) {\n    var w = \"_\" + d;\n    h.prototype[d] = function() {\n      return this[w] !== void 0 ? this[w] : this[w] = v.call(this);\n    };\n  }\n  t.cachedProperty = s;\n  function o(h) {\n    return typeof h == \"string\" ? t.toArray(h, \"hex\") : h;\n  }\n  t.parseBytes = o;\n  function f(h) {\n    return new Ke(h, \"hex\", \"le\");\n  }\n  t.intFromLE = f;\n}), js = sr.getNAF, Eg = sr.getJSF, Ks = sr.assert;\nfunction Si(r, e) {\n  this.type = r, this.p = new Ke(e.p, 16), this.red = e.prime ? Ke.red(e.prime) : Ke.mont(this.p), this.zero = new Ke(0).toRed(this.red), this.one = new Ke(1).toRed(this.red), this.two = new Ke(2).toRed(this.red), this.n = e.n && new Ke(e.n, 16), this.g = e.g && this.pointFromJSON(e.g, e.gRed), this._wnafT1 = new Array(4), this._wnafT2 = new Array(4), this._wnafT3 = new Array(4), this._wnafT4 = new Array(4), this._bitLength = this.n ? this.n.bitLength() : 0;\n  var t = this.n && this.p.div(this.n);\n  !t || t.cmpn(100) > 0 ? this.redN = null : (this._maxwellTrick = !0, this.redN = this.n.toRed(this.red));\n}\nvar Xi = Si;\nSi.prototype.point = function() {\n  throw new Error(\"Not implemented\");\n};\nSi.prototype.validate = function() {\n  throw new Error(\"Not implemented\");\n};\nSi.prototype._fixedNafMul = function(e, t) {\n  Ks(e.precomputed);\n  var i = e._getDoubles(), n = js(t, 1, this._bitLength), s = (1 << i.step + 1) - (i.step % 2 === 0 ? 2 : 1);\n  s /= 3;\n  var o = [], f, h;\n  for (f = 0; f < n.length; f += i.step) {\n    h = 0;\n    for (var d = f + i.step - 1; d >= f; d--)\n      h = (h << 1) + n[d];\n    o.push(h);\n  }\n  for (var v = this.jpoint(null, null, null), w = this.jpoint(null, null, null), A = s; A > 0; A--) {\n    for (f = 0; f < o.length; f++)\n      h = o[f], h === A ? w = w.mixedAdd(i.points[f]) : h === -A && (w = w.mixedAdd(i.points[f].neg()));\n    v = v.add(w);\n  }\n  return v.toP();\n};\nSi.prototype._wnafMul = function(e, t) {\n  var i = 4, n = e._getNAFPoints(i);\n  i = n.wnd;\n  for (var s = n.points, o = js(t, i, this._bitLength), f = this.jpoint(null, null, null), h = o.length - 1; h >= 0; h--) {\n    for (var d = 0; h >= 0 && o[h] === 0; h--)\n      d++;\n    if (h >= 0 && d++, f = f.dblp(d), h < 0)\n      break;\n    var v = o[h];\n    Ks(v !== 0), e.type === \"affine\" ? v > 0 ? f = f.mixedAdd(s[v - 1 >> 1]) : f = f.mixedAdd(s[-v - 1 >> 1].neg()) : v > 0 ? f = f.add(s[v - 1 >> 1]) : f = f.add(s[-v - 1 >> 1].neg());\n  }\n  return e.type === \"affine\" ? f.toP() : f;\n};\nSi.prototype._wnafMulAdd = function(e, t, i, n, s) {\n  var o = this._wnafT1, f = this._wnafT2, h = this._wnafT3, d = 0, v, w, A;\n  for (v = 0; v < n; v++) {\n    A = t[v];\n    var I = A._getNAFPoints(e);\n    o[v] = I.wnd, f[v] = I.points;\n  }\n  for (v = n - 1; v >= 1; v -= 2) {\n    var D = v - 1, N = v;\n    if (o[D] !== 1 || o[N] !== 1) {\n      h[D] = js(i[D], o[D], this._bitLength), h[N] = js(i[N], o[N], this._bitLength), d = Math.max(h[D].length, d), d = Math.max(h[N].length, d);\n      continue;\n    }\n    var k = [\n      t[D],\n      /* 1 */\n      null,\n      /* 3 */\n      null,\n      /* 5 */\n      t[N]\n      /* 7 */\n    ];\n    t[D].y.cmp(t[N].y) === 0 ? (k[1] = t[D].add(t[N]), k[2] = t[D].toJ().mixedAdd(t[N].neg())) : t[D].y.cmp(t[N].y.redNeg()) === 0 ? (k[1] = t[D].toJ().mixedAdd(t[N]), k[2] = t[D].add(t[N].neg())) : (k[1] = t[D].toJ().mixedAdd(t[N]), k[2] = t[D].toJ().mixedAdd(t[N].neg()));\n    var j = [\n      -3,\n      /* -1 -1 */\n      -1,\n      /* -1 0 */\n      -5,\n      /* -1 1 */\n      -7,\n      /* 0 -1 */\n      0,\n      /* 0 0 */\n      7,\n      /* 0 1 */\n      5,\n      /* 1 -1 */\n      1,\n      /* 1 0 */\n      3\n      /* 1 1 */\n    ], T = Eg(i[D], i[N]);\n    for (d = Math.max(T[0].length, d), h[D] = new Array(d), h[N] = new Array(d), w = 0; w < d; w++) {\n      var K = T[0][w] | 0, $ = T[1][w] | 0;\n      h[D][w] = j[(K + 1) * 3 + ($ + 1)], h[N][w] = 0, f[D] = k;\n    }\n  }\n  var z = this.jpoint(null, null, null), B = this._wnafT4;\n  for (v = d; v >= 0; v--) {\n    for (var _ = 0; v >= 0; ) {\n      var R = !0;\n      for (w = 0; w < n; w++)\n        B[w] = h[w][v] | 0, B[w] !== 0 && (R = !1);\n      if (!R)\n        break;\n      _++, v--;\n    }\n    if (v >= 0 && _++, z = z.dblp(_), v < 0)\n      break;\n    for (w = 0; w < n; w++) {\n      var J = B[w];\n      J !== 0 && (J > 0 ? A = f[w][J - 1 >> 1] : J < 0 && (A = f[w][-J - 1 >> 1].neg()), A.type === \"affine\" ? z = z.mixedAdd(A) : z = z.add(A));\n    }\n  }\n  for (v = 0; v < n; v++)\n    f[v] = null;\n  return s ? z : z.toP();\n};\nfunction vr(r, e) {\n  this.curve = r, this.type = e, this.precomputed = null;\n}\nSi.BasePoint = vr;\nvr.prototype.eq = function() {\n  throw new Error(\"Not implemented\");\n};\nvr.prototype.validate = function() {\n  return this.curve.validate(this);\n};\nSi.prototype.decodePoint = function(e, t) {\n  e = sr.toArray(e, t);\n  var i = this.p.byteLength();\n  if ((e[0] === 4 || e[0] === 6 || e[0] === 7) && e.length - 1 === 2 * i) {\n    e[0] === 6 ? Ks(e[e.length - 1] % 2 === 0) : e[0] === 7 && Ks(e[e.length - 1] % 2 === 1);\n    var n = this.point(\n      e.slice(1, 1 + i),\n      e.slice(1 + i, 1 + 2 * i)\n    );\n    return n;\n  } else if ((e[0] === 2 || e[0] === 3) && e.length - 1 === i)\n    return this.pointFromX(e.slice(1, 1 + i), e[0] === 3);\n  throw new Error(\"Unknown point format\");\n};\nvr.prototype.encodeCompressed = function(e) {\n  return this.encode(e, !0);\n};\nvr.prototype._encode = function(e) {\n  var t = this.curve.p.byteLength(), i = this.getX().toArray(\"be\", t);\n  return e ? [this.getY().isEven() ? 2 : 3].concat(i) : [4].concat(i, this.getY().toArray(\"be\", t));\n};\nvr.prototype.encode = function(e, t) {\n  return sr.encode(this._encode(t), e);\n};\nvr.prototype.precompute = function(e) {\n  if (this.precomputed)\n    return this;\n  var t = {\n    doubles: null,\n    naf: null,\n    beta: null\n  };\n  return t.naf = this._getNAFPoints(8), t.doubles = this._getDoubles(4, e), t.beta = this._getBeta(), this.precomputed = t, this;\n};\nvr.prototype._hasDoubles = function(e) {\n  if (!this.precomputed)\n    return !1;\n  var t = this.precomputed.doubles;\n  return t ? t.points.length >= Math.ceil((e.bitLength() + 1) / t.step) : !1;\n};\nvr.prototype._getDoubles = function(e, t) {\n  if (this.precomputed && this.precomputed.doubles)\n    return this.precomputed.doubles;\n  for (var i = [this], n = this, s = 0; s < t; s += e) {\n    for (var o = 0; o < e; o++)\n      n = n.dbl();\n    i.push(n);\n  }\n  return {\n    step: e,\n    points: i\n  };\n};\nvr.prototype._getNAFPoints = function(e) {\n  if (this.precomputed && this.precomputed.naf)\n    return this.precomputed.naf;\n  for (var t = [this], i = (1 << e) - 1, n = i === 1 ? null : this.dbl(), s = 1; s < i; s++)\n    t[s] = t[s - 1].add(n);\n  return {\n    wnd: e,\n    points: t\n  };\n};\nvr.prototype._getBeta = function() {\n  return null;\n};\nvr.prototype.dblp = function(e) {\n  for (var t = this, i = 0; i < e; i++)\n    t = t.dbl();\n  return t;\n};\nvar ko = xn(function(r) {\n  typeof Object.create == \"function\" ? r.exports = function(t, i) {\n    i && (t.super_ = i, t.prototype = Object.create(i.prototype, {\n      constructor: {\n        value: t,\n        enumerable: !1,\n        writable: !0,\n        configurable: !0\n      }\n    }));\n  } : r.exports = function(t, i) {\n    if (i) {\n      t.super_ = i;\n      var n = function() {\n      };\n      n.prototype = i.prototype, t.prototype = new n(), t.prototype.constructor = t;\n    }\n  };\n}), Sg = sr.assert;\nfunction br(r) {\n  Xi.call(this, \"short\", r), this.a = new Ke(r.a, 16).toRed(this.red), this.b = new Ke(r.b, 16).toRed(this.red), this.tinv = this.two.redInvm(), this.zeroA = this.a.fromRed().cmpn(0) === 0, this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0, this.endo = this._getEndomorphism(r), this._endoWnafT1 = new Array(4), this._endoWnafT2 = new Array(4);\n}\nko(br, Xi);\nvar Mg = br;\nbr.prototype._getEndomorphism = function(e) {\n  if (!(!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)) {\n    var t, i;\n    if (e.beta)\n      t = new Ke(e.beta, 16).toRed(this.red);\n    else {\n      var n = this._getEndoRoots(this.p);\n      t = n[0].cmp(n[1]) < 0 ? n[0] : n[1], t = t.toRed(this.red);\n    }\n    if (e.lambda)\n      i = new Ke(e.lambda, 16);\n    else {\n      var s = this._getEndoRoots(this.n);\n      this.g.mul(s[0]).x.cmp(this.g.x.redMul(t)) === 0 ? i = s[0] : (i = s[1], Sg(this.g.mul(i).x.cmp(this.g.x.redMul(t)) === 0));\n    }\n    var o;\n    return e.basis ? o = e.basis.map(function(f) {\n      return {\n        a: new Ke(f.a, 16),\n        b: new Ke(f.b, 16)\n      };\n    }) : o = this._getEndoBasis(i), {\n      beta: t,\n      lambda: i,\n      basis: o\n    };\n  }\n};\nbr.prototype._getEndoRoots = function(e) {\n  var t = e === this.p ? this.red : Ke.mont(e), i = new Ke(2).toRed(t).redInvm(), n = i.redNeg(), s = new Ke(3).toRed(t).redNeg().redSqrt().redMul(i), o = n.redAdd(s).fromRed(), f = n.redSub(s).fromRed();\n  return [o, f];\n};\nbr.prototype._getEndoBasis = function(e) {\n  for (var t = this.n.ushrn(Math.floor(this.n.bitLength() / 2)), i = e, n = this.n.clone(), s = new Ke(1), o = new Ke(0), f = new Ke(0), h = new Ke(1), d, v, w, A, I, D, N, k = 0, j, T; i.cmpn(0) !== 0; ) {\n    var K = n.div(i);\n    j = n.sub(K.mul(i)), T = f.sub(K.mul(s));\n    var $ = h.sub(K.mul(o));\n    if (!w && j.cmp(t) < 0)\n      d = N.neg(), v = s, w = j.neg(), A = T;\n    else if (w && ++k === 2)\n      break;\n    N = j, n = i, i = j, f = s, s = T, h = o, o = $;\n  }\n  I = j.neg(), D = T;\n  var z = w.sqr().add(A.sqr()), B = I.sqr().add(D.sqr());\n  return B.cmp(z) >= 0 && (I = d, D = v), w.negative && (w = w.neg(), A = A.neg()), I.negative && (I = I.neg(), D = D.neg()), [\n    { a: w, b: A },\n    { a: I, b: D }\n  ];\n};\nbr.prototype._endoSplit = function(e) {\n  var t = this.endo.basis, i = t[0], n = t[1], s = n.b.mul(e).divRound(this.n), o = i.b.neg().mul(e).divRound(this.n), f = s.mul(i.a), h = o.mul(n.a), d = s.mul(i.b), v = o.mul(n.b), w = e.sub(f).sub(h), A = d.add(v).neg();\n  return { k1: w, k2: A };\n};\nbr.prototype.pointFromX = function(e, t) {\n  e = new Ke(e, 16), e.red || (e = e.toRed(this.red));\n  var i = e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b), n = i.redSqrt();\n  if (n.redSqr().redSub(i).cmp(this.zero) !== 0)\n    throw new Error(\"invalid point\");\n  var s = n.fromRed().isOdd();\n  return (t && !s || !t && s) && (n = n.redNeg()), this.point(e, n);\n};\nbr.prototype.validate = function(e) {\n  if (e.inf)\n    return !0;\n  var t = e.x, i = e.y, n = this.a.redMul(t), s = t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);\n  return i.redSqr().redISub(s).cmpn(0) === 0;\n};\nbr.prototype._endoWnafMulAdd = function(e, t, i) {\n  for (var n = this._endoWnafT1, s = this._endoWnafT2, o = 0; o < e.length; o++) {\n    var f = this._endoSplit(t[o]), h = e[o], d = h._getBeta();\n    f.k1.negative && (f.k1.ineg(), h = h.neg(!0)), f.k2.negative && (f.k2.ineg(), d = d.neg(!0)), n[o * 2] = h, n[o * 2 + 1] = d, s[o * 2] = f.k1, s[o * 2 + 1] = f.k2;\n  }\n  for (var v = this._wnafMulAdd(1, n, s, o * 2, i), w = 0; w < o * 2; w++)\n    n[w] = null, s[w] = null;\n  return v;\n};\nfunction Dt(r, e, t, i) {\n  Xi.BasePoint.call(this, r, \"affine\"), e === null && t === null ? (this.x = null, this.y = null, this.inf = !0) : (this.x = new Ke(e, 16), this.y = new Ke(t, 16), i && (this.x.forceRed(this.curve.red), this.y.forceRed(this.curve.red)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.inf = !1);\n}\nko(Dt, Xi.BasePoint);\nbr.prototype.point = function(e, t, i) {\n  return new Dt(this, e, t, i);\n};\nbr.prototype.pointFromJSON = function(e, t) {\n  return Dt.fromJSON(this, e, t);\n};\nDt.prototype._getBeta = function() {\n  if (this.curve.endo) {\n    var e = this.precomputed;\n    if (e && e.beta)\n      return e.beta;\n    var t = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);\n    if (e) {\n      var i = this.curve, n = function(s) {\n        return i.point(s.x.redMul(i.endo.beta), s.y);\n      };\n      e.beta = t, t.precomputed = {\n        beta: null,\n        naf: e.naf && {\n          wnd: e.naf.wnd,\n          points: e.naf.points.map(n)\n        },\n        doubles: e.doubles && {\n          step: e.doubles.step,\n          points: e.doubles.points.map(n)\n        }\n      };\n    }\n    return t;\n  }\n};\nDt.prototype.toJSON = function() {\n  return this.precomputed ? [this.x, this.y, this.precomputed && {\n    doubles: this.precomputed.doubles && {\n      step: this.precomputed.doubles.step,\n      points: this.precomputed.doubles.points.slice(1)\n    },\n    naf: this.precomputed.naf && {\n      wnd: this.precomputed.naf.wnd,\n      points: this.precomputed.naf.points.slice(1)\n    }\n  }] : [this.x, this.y];\n};\nDt.fromJSON = function(e, t, i) {\n  typeof t == \"string\" && (t = JSON.parse(t));\n  var n = e.point(t[0], t[1], i);\n  if (!t[2])\n    return n;\n  function s(f) {\n    return e.point(f[0], f[1], i);\n  }\n  var o = t[2];\n  return n.precomputed = {\n    beta: null,\n    doubles: o.doubles && {\n      step: o.doubles.step,\n      points: [n].concat(o.doubles.points.map(s))\n    },\n    naf: o.naf && {\n      wnd: o.naf.wnd,\n      points: [n].concat(o.naf.points.map(s))\n    }\n  }, n;\n};\nDt.prototype.inspect = function() {\n  return this.isInfinity() ? \"<EC Point Infinity>\" : \"<EC Point x: \" + this.x.fromRed().toString(16, 2) + \" y: \" + this.y.fromRed().toString(16, 2) + \">\";\n};\nDt.prototype.isInfinity = function() {\n  return this.inf;\n};\nDt.prototype.add = function(e) {\n  if (this.inf)\n    return e;\n  if (e.inf)\n    return this;\n  if (this.eq(e))\n    return this.dbl();\n  if (this.neg().eq(e))\n    return this.curve.point(null, null);\n  if (this.x.cmp(e.x) === 0)\n    return this.curve.point(null, null);\n  var t = this.y.redSub(e.y);\n  t.cmpn(0) !== 0 && (t = t.redMul(this.x.redSub(e.x).redInvm()));\n  var i = t.redSqr().redISub(this.x).redISub(e.x), n = t.redMul(this.x.redSub(i)).redISub(this.y);\n  return this.curve.point(i, n);\n};\nDt.prototype.dbl = function() {\n  if (this.inf)\n    return this;\n  var e = this.y.redAdd(this.y);\n  if (e.cmpn(0) === 0)\n    return this.curve.point(null, null);\n  var t = this.curve.a, i = this.x.redSqr(), n = e.redInvm(), s = i.redAdd(i).redIAdd(i).redIAdd(t).redMul(n), o = s.redSqr().redISub(this.x.redAdd(this.x)), f = s.redMul(this.x.redSub(o)).redISub(this.y);\n  return this.curve.point(o, f);\n};\nDt.prototype.getX = function() {\n  return this.x.fromRed();\n};\nDt.prototype.getY = function() {\n  return this.y.fromRed();\n};\nDt.prototype.mul = function(e) {\n  return e = new Ke(e, 16), this.isInfinity() ? this : this._hasDoubles(e) ? this.curve._fixedNafMul(this, e) : this.curve.endo ? this.curve._endoWnafMulAdd([this], [e]) : this.curve._wnafMul(this, e);\n};\nDt.prototype.mulAdd = function(e, t, i) {\n  var n = [this, t], s = [e, i];\n  return this.curve.endo ? this.curve._endoWnafMulAdd(n, s) : this.curve._wnafMulAdd(1, n, s, 2);\n};\nDt.prototype.jmulAdd = function(e, t, i) {\n  var n = [this, t], s = [e, i];\n  return this.curve.endo ? this.curve._endoWnafMulAdd(n, s, !0) : this.curve._wnafMulAdd(1, n, s, 2, !0);\n};\nDt.prototype.eq = function(e) {\n  return this === e || this.inf === e.inf && (this.inf || this.x.cmp(e.x) === 0 && this.y.cmp(e.y) === 0);\n};\nDt.prototype.neg = function(e) {\n  if (this.inf)\n    return this;\n  var t = this.curve.point(this.x, this.y.redNeg());\n  if (e && this.precomputed) {\n    var i = this.precomputed, n = function(s) {\n      return s.neg();\n    };\n    t.precomputed = {\n      naf: i.naf && {\n        wnd: i.naf.wnd,\n        points: i.naf.points.map(n)\n      },\n      doubles: i.doubles && {\n        step: i.doubles.step,\n        points: i.doubles.points.map(n)\n      }\n    };\n  }\n  return t;\n};\nDt.prototype.toJ = function() {\n  if (this.inf)\n    return this.curve.jpoint(null, null, null);\n  var e = this.curve.jpoint(this.x, this.y, this.curve.one);\n  return e;\n};\nfunction Nt(r, e, t, i) {\n  Xi.BasePoint.call(this, r, \"jacobian\"), e === null && t === null && i === null ? (this.x = this.curve.one, this.y = this.curve.one, this.z = new Ke(0)) : (this.x = new Ke(e, 16), this.y = new Ke(t, 16), this.z = new Ke(i, 16)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)), this.zOne = this.z === this.curve.one;\n}\nko(Nt, Xi.BasePoint);\nbr.prototype.jpoint = function(e, t, i) {\n  return new Nt(this, e, t, i);\n};\nNt.prototype.toP = function() {\n  if (this.isInfinity())\n    return this.curve.point(null, null);\n  var e = this.z.redInvm(), t = e.redSqr(), i = this.x.redMul(t), n = this.y.redMul(t).redMul(e);\n  return this.curve.point(i, n);\n};\nNt.prototype.neg = function() {\n  return this.curve.jpoint(this.x, this.y.redNeg(), this.z);\n};\nNt.prototype.add = function(e) {\n  if (this.isInfinity())\n    return e;\n  if (e.isInfinity())\n    return this;\n  var t = e.z.redSqr(), i = this.z.redSqr(), n = this.x.redMul(t), s = e.x.redMul(i), o = this.y.redMul(t.redMul(e.z)), f = e.y.redMul(i.redMul(this.z)), h = n.redSub(s), d = o.redSub(f);\n  if (h.cmpn(0) === 0)\n    return d.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();\n  var v = h.redSqr(), w = v.redMul(h), A = n.redMul(v), I = d.redSqr().redIAdd(w).redISub(A).redISub(A), D = d.redMul(A.redISub(I)).redISub(o.redMul(w)), N = this.z.redMul(e.z).redMul(h);\n  return this.curve.jpoint(I, D, N);\n};\nNt.prototype.mixedAdd = function(e) {\n  if (this.isInfinity())\n    return e.toJ();\n  if (e.isInfinity())\n    return this;\n  var t = this.z.redSqr(), i = this.x, n = e.x.redMul(t), s = this.y, o = e.y.redMul(t).redMul(this.z), f = i.redSub(n), h = s.redSub(o);\n  if (f.cmpn(0) === 0)\n    return h.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();\n  var d = f.redSqr(), v = d.redMul(f), w = i.redMul(d), A = h.redSqr().redIAdd(v).redISub(w).redISub(w), I = h.redMul(w.redISub(A)).redISub(s.redMul(v)), D = this.z.redMul(f);\n  return this.curve.jpoint(A, I, D);\n};\nNt.prototype.dblp = function(e) {\n  if (e === 0)\n    return this;\n  if (this.isInfinity())\n    return this;\n  if (!e)\n    return this.dbl();\n  var t;\n  if (this.curve.zeroA || this.curve.threeA) {\n    var i = this;\n    for (t = 0; t < e; t++)\n      i = i.dbl();\n    return i;\n  }\n  var n = this.curve.a, s = this.curve.tinv, o = this.x, f = this.y, h = this.z, d = h.redSqr().redSqr(), v = f.redAdd(f);\n  for (t = 0; t < e; t++) {\n    var w = o.redSqr(), A = v.redSqr(), I = A.redSqr(), D = w.redAdd(w).redIAdd(w).redIAdd(n.redMul(d)), N = o.redMul(A), k = D.redSqr().redISub(N.redAdd(N)), j = N.redISub(k), T = D.redMul(j);\n    T = T.redIAdd(T).redISub(I);\n    var K = v.redMul(h);\n    t + 1 < e && (d = d.redMul(I)), o = k, h = K, v = T;\n  }\n  return this.curve.jpoint(o, v.redMul(s), h);\n};\nNt.prototype.dbl = function() {\n  return this.isInfinity() ? this : this.curve.zeroA ? this._zeroDbl() : this.curve.threeA ? this._threeDbl() : this._dbl();\n};\nNt.prototype._zeroDbl = function() {\n  var e, t, i;\n  if (this.zOne) {\n    var n = this.x.redSqr(), s = this.y.redSqr(), o = s.redSqr(), f = this.x.redAdd(s).redSqr().redISub(n).redISub(o);\n    f = f.redIAdd(f);\n    var h = n.redAdd(n).redIAdd(n), d = h.redSqr().redISub(f).redISub(f), v = o.redIAdd(o);\n    v = v.redIAdd(v), v = v.redIAdd(v), e = d, t = h.redMul(f.redISub(d)).redISub(v), i = this.y.redAdd(this.y);\n  } else {\n    var w = this.x.redSqr(), A = this.y.redSqr(), I = A.redSqr(), D = this.x.redAdd(A).redSqr().redISub(w).redISub(I);\n    D = D.redIAdd(D);\n    var N = w.redAdd(w).redIAdd(w), k = N.redSqr(), j = I.redIAdd(I);\n    j = j.redIAdd(j), j = j.redIAdd(j), e = k.redISub(D).redISub(D), t = N.redMul(D.redISub(e)).redISub(j), i = this.y.redMul(this.z), i = i.redIAdd(i);\n  }\n  return this.curve.jpoint(e, t, i);\n};\nNt.prototype._threeDbl = function() {\n  var e, t, i;\n  if (this.zOne) {\n    var n = this.x.redSqr(), s = this.y.redSqr(), o = s.redSqr(), f = this.x.redAdd(s).redSqr().redISub(n).redISub(o);\n    f = f.redIAdd(f);\n    var h = n.redAdd(n).redIAdd(n).redIAdd(this.curve.a), d = h.redSqr().redISub(f).redISub(f);\n    e = d;\n    var v = o.redIAdd(o);\n    v = v.redIAdd(v), v = v.redIAdd(v), t = h.redMul(f.redISub(d)).redISub(v), i = this.y.redAdd(this.y);\n  } else {\n    var w = this.z.redSqr(), A = this.y.redSqr(), I = this.x.redMul(A), D = this.x.redSub(w).redMul(this.x.redAdd(w));\n    D = D.redAdd(D).redIAdd(D);\n    var N = I.redIAdd(I);\n    N = N.redIAdd(N);\n    var k = N.redAdd(N);\n    e = D.redSqr().redISub(k), i = this.y.redAdd(this.z).redSqr().redISub(A).redISub(w);\n    var j = A.redSqr();\n    j = j.redIAdd(j), j = j.redIAdd(j), j = j.redIAdd(j), t = D.redMul(N.redISub(e)).redISub(j);\n  }\n  return this.curve.jpoint(e, t, i);\n};\nNt.prototype._dbl = function() {\n  var e = this.curve.a, t = this.x, i = this.y, n = this.z, s = n.redSqr().redSqr(), o = t.redSqr(), f = i.redSqr(), h = o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)), d = t.redAdd(t);\n  d = d.redIAdd(d);\n  var v = d.redMul(f), w = h.redSqr().redISub(v.redAdd(v)), A = v.redISub(w), I = f.redSqr();\n  I = I.redIAdd(I), I = I.redIAdd(I), I = I.redIAdd(I);\n  var D = h.redMul(A).redISub(I), N = i.redAdd(i).redMul(n);\n  return this.curve.jpoint(w, D, N);\n};\nNt.prototype.trpl = function() {\n  if (!this.curve.zeroA)\n    return this.dbl().add(this);\n  var e = this.x.redSqr(), t = this.y.redSqr(), i = this.z.redSqr(), n = t.redSqr(), s = e.redAdd(e).redIAdd(e), o = s.redSqr(), f = this.x.redAdd(t).redSqr().redISub(e).redISub(n);\n  f = f.redIAdd(f), f = f.redAdd(f).redIAdd(f), f = f.redISub(o);\n  var h = f.redSqr(), d = n.redIAdd(n);\n  d = d.redIAdd(d), d = d.redIAdd(d), d = d.redIAdd(d);\n  var v = s.redIAdd(f).redSqr().redISub(o).redISub(h).redISub(d), w = t.redMul(v);\n  w = w.redIAdd(w), w = w.redIAdd(w);\n  var A = this.x.redMul(h).redISub(w);\n  A = A.redIAdd(A), A = A.redIAdd(A);\n  var I = this.y.redMul(v.redMul(d.redISub(v)).redISub(f.redMul(h)));\n  I = I.redIAdd(I), I = I.redIAdd(I), I = I.redIAdd(I);\n  var D = this.z.redAdd(f).redSqr().redISub(i).redISub(h);\n  return this.curve.jpoint(A, I, D);\n};\nNt.prototype.mul = function(e, t) {\n  return e = new Ke(e, t), this.curve._wnafMul(this, e);\n};\nNt.prototype.eq = function(e) {\n  if (e.type === \"affine\")\n    return this.eq(e.toJ());\n  if (this === e)\n    return !0;\n  var t = this.z.redSqr(), i = e.z.redSqr();\n  if (this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0) !== 0)\n    return !1;\n  var n = t.redMul(this.z), s = i.redMul(e.z);\n  return this.y.redMul(s).redISub(e.y.redMul(n)).cmpn(0) === 0;\n};\nNt.prototype.eqXToP = function(e) {\n  var t = this.z.redSqr(), i = e.toRed(this.curve.red).redMul(t);\n  if (this.x.cmp(i) === 0)\n    return !0;\n  for (var n = e.clone(), s = this.curve.redN.redMul(t); ; ) {\n    if (n.iadd(this.curve.n), n.cmp(this.curve.p) >= 0)\n      return !1;\n    if (i.redIAdd(s), this.x.cmp(i) === 0)\n      return !0;\n  }\n};\nNt.prototype.inspect = function() {\n  return this.isInfinity() ? \"<EC JPoint Infinity>\" : \"<EC JPoint x: \" + this.x.toString(16, 2) + \" y: \" + this.y.toString(16, 2) + \" z: \" + this.z.toString(16, 2) + \">\";\n};\nNt.prototype.isInfinity = function() {\n  return this.z.cmpn(0) === 0;\n};\nvar Os = xn(function(r, e) {\n  var t = e;\n  t.base = Xi, t.short = Mg, t.mont = /*RicMoo:ethers:require(./mont)*/\n  null, t.edwards = /*RicMoo:ethers:require(./edwards)*/\n  null;\n}), Rs = xn(function(r, e) {\n  var t = e, i = sr.assert;\n  function n(f) {\n    f.type === \"short\" ? this.curve = new Os.short(f) : f.type === \"edwards\" ? this.curve = new Os.edwards(f) : this.curve = new Os.mont(f), this.g = this.curve.g, this.n = this.curve.n, this.hash = f.hash, i(this.g.validate(), \"Invalid curve\"), i(this.g.mul(this.n).isInfinity(), \"Invalid curve, G*N != O\");\n  }\n  t.PresetCurve = n;\n  function s(f, h) {\n    Object.defineProperty(t, f, {\n      configurable: !0,\n      enumerable: !0,\n      get: function() {\n        var d = new n(h);\n        return Object.defineProperty(t, f, {\n          configurable: !0,\n          enumerable: !0,\n          value: d\n        }), d;\n      }\n    });\n  }\n  s(\"p192\", {\n    type: \"short\",\n    prime: \"p192\",\n    p: \"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff\",\n    a: \"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc\",\n    b: \"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1\",\n    n: \"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831\",\n    hash: si.sha256,\n    gRed: !1,\n    g: [\n      \"188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012\",\n      \"07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811\"\n    ]\n  }), s(\"p224\", {\n    type: \"short\",\n    prime: \"p224\",\n    p: \"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001\",\n    a: \"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe\",\n    b: \"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4\",\n    n: \"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d\",\n    hash: si.sha256,\n    gRed: !1,\n    g: [\n      \"b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21\",\n      \"bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34\"\n    ]\n  }), s(\"p256\", {\n    type: \"short\",\n    prime: null,\n    p: \"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff\",\n    a: \"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc\",\n    b: \"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b\",\n    n: \"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551\",\n    hash: si.sha256,\n    gRed: !1,\n    g: [\n      \"6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296\",\n      \"4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5\"\n    ]\n  }), s(\"p384\", {\n    type: \"short\",\n    prime: null,\n    p: \"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff\",\n    a: \"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc\",\n    b: \"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef\",\n    n: \"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973\",\n    hash: si.sha384,\n    gRed: !1,\n    g: [\n      \"aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7\",\n      \"3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f\"\n    ]\n  }), s(\"p521\", {\n    type: \"short\",\n    prime: null,\n    p: \"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff\",\n    a: \"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc\",\n    b: \"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00\",\n    n: \"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409\",\n    hash: si.sha512,\n    gRed: !1,\n    g: [\n      \"000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66\",\n      \"00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650\"\n    ]\n  }), s(\"curve25519\", {\n    type: \"mont\",\n    prime: \"p25519\",\n    p: \"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed\",\n    a: \"76d06\",\n    b: \"1\",\n    n: \"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed\",\n    hash: si.sha256,\n    gRed: !1,\n    g: [\n      \"9\"\n    ]\n  }), s(\"ed25519\", {\n    type: \"edwards\",\n    prime: \"p25519\",\n    p: \"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed\",\n    a: \"-1\",\n    c: \"1\",\n    // -121665 * (121666^(-1)) (mod P)\n    d: \"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3\",\n    n: \"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed\",\n    hash: si.sha256,\n    gRed: !1,\n    g: [\n      \"216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a\",\n      // 4/5\n      \"6666666666666666666666666666666666666666666666666666666666666658\"\n    ]\n  });\n  var o;\n  try {\n    o = /*RicMoo:ethers:require(./precomputed/secp256k1)*/\n    null.crash();\n  } catch {\n    o = void 0;\n  }\n  s(\"secp256k1\", {\n    type: \"short\",\n    prime: \"k256\",\n    p: \"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f\",\n    a: \"0\",\n    b: \"7\",\n    n: \"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141\",\n    h: \"1\",\n    hash: si.sha256,\n    // Precomputed endomorphism\n    beta: \"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee\",\n    lambda: \"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72\",\n    basis: [\n      {\n        a: \"3086d221a7d46bcde86c90e49284eb15\",\n        b: \"-e4437ed6010e88286f547fa90abfe4c3\"\n      },\n      {\n        a: \"114ca50f7a8e2f3f657c1108d9d44cfd8\",\n        b: \"3086d221a7d46bcde86c90e49284eb15\"\n      }\n    ],\n    gRed: !1,\n    g: [\n      \"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798\",\n      \"483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8\",\n      o\n    ]\n  });\n});\nfunction _i(r) {\n  if (!(this instanceof _i))\n    return new _i(r);\n  this.hash = r.hash, this.predResist = !!r.predResist, this.outLen = this.hash.outSize, this.minEntropy = r.minEntropy || this.hash.hmacStrength, this._reseed = null, this.reseedInterval = null, this.K = null, this.V = null;\n  var e = Mr.toArray(r.entropy, r.entropyEnc || \"hex\"), t = Mr.toArray(r.nonce, r.nonceEnc || \"hex\"), i = Mr.toArray(r.pers, r.persEnc || \"hex\");\n  Bo(\n    e.length >= this.minEntropy / 8,\n    \"Not enough entropy. Minimum is: \" + this.minEntropy + \" bits\"\n  ), this._init(e, t, i);\n}\nvar Lu = _i;\n_i.prototype._init = function(e, t, i) {\n  var n = e.concat(t).concat(i);\n  this.K = new Array(this.outLen / 8), this.V = new Array(this.outLen / 8);\n  for (var s = 0; s < this.V.length; s++)\n    this.K[s] = 0, this.V[s] = 1;\n  this._update(n), this._reseed = 1, this.reseedInterval = 281474976710656;\n};\n_i.prototype._hmac = function() {\n  return new si.hmac(this.hash, this.K);\n};\n_i.prototype._update = function(e) {\n  var t = this._hmac().update(this.V).update([0]);\n  e && (t = t.update(e)), this.K = t.digest(), this.V = this._hmac().update(this.V).digest(), e && (this.K = this._hmac().update(this.V).update([1]).update(e).digest(), this.V = this._hmac().update(this.V).digest());\n};\n_i.prototype.reseed = function(e, t, i, n) {\n  typeof t != \"string\" && (n = i, i = t, t = null), e = Mr.toArray(e, t), i = Mr.toArray(i, n), Bo(\n    e.length >= this.minEntropy / 8,\n    \"Not enough entropy. Minimum is: \" + this.minEntropy + \" bits\"\n  ), this._update(e.concat(i || [])), this._reseed = 1;\n};\n_i.prototype.generate = function(e, t, i, n) {\n  if (this._reseed > this.reseedInterval)\n    throw new Error(\"Reseed is required\");\n  typeof t != \"string\" && (n = i, i = t, t = null), i && (i = Mr.toArray(i, n || \"hex\"), this._update(i));\n  for (var s = []; s.length < e; )\n    this.V = this._hmac().update(this.V).digest(), s = s.concat(this.V);\n  var o = s.slice(0, e);\n  return this._update(i), this._reseed++, Mr.encode(o, t);\n};\nvar xo = sr.assert;\nfunction qt(r, e) {\n  this.ec = r, this.priv = null, this.pub = null, e.priv && this._importPrivate(e.priv, e.privEnc), e.pub && this._importPublic(e.pub, e.pubEnc);\n}\nvar jo = qt;\nqt.fromPublic = function(e, t, i) {\n  return t instanceof qt ? t : new qt(e, {\n    pub: t,\n    pubEnc: i\n  });\n};\nqt.fromPrivate = function(e, t, i) {\n  return t instanceof qt ? t : new qt(e, {\n    priv: t,\n    privEnc: i\n  });\n};\nqt.prototype.validate = function() {\n  var e = this.getPublic();\n  return e.isInfinity() ? { result: !1, reason: \"Invalid public key\" } : e.validate() ? e.mul(this.ec.curve.n).isInfinity() ? { result: !0, reason: null } : { result: !1, reason: \"Public key * N != O\" } : { result: !1, reason: \"Public key is not a point\" };\n};\nqt.prototype.getPublic = function(e, t) {\n  return typeof e == \"string\" && (t = e, e = null), this.pub || (this.pub = this.ec.g.mul(this.priv)), t ? this.pub.encode(t, e) : this.pub;\n};\nqt.prototype.getPrivate = function(e) {\n  return e === \"hex\" ? this.priv.toString(16, 2) : this.priv;\n};\nqt.prototype._importPrivate = function(e, t) {\n  this.priv = new Ke(e, t || 16), this.priv = this.priv.umod(this.ec.curve.n);\n};\nqt.prototype._importPublic = function(e, t) {\n  if (e.x || e.y) {\n    this.ec.curve.type === \"mont\" ? xo(e.x, \"Need x coordinate\") : (this.ec.curve.type === \"short\" || this.ec.curve.type === \"edwards\") && xo(e.x && e.y, \"Need both x and y coordinate\"), this.pub = this.ec.curve.point(e.x, e.y);\n    return;\n  }\n  this.pub = this.ec.curve.decodePoint(e, t);\n};\nqt.prototype.derive = function(e) {\n  return e.validate() || xo(e.validate(), \"public point not validated\"), e.mul(this.priv).getX();\n};\nqt.prototype.sign = function(e, t, i) {\n  return this.ec.sign(e, this, t, i);\n};\nqt.prototype.verify = function(e, t) {\n  return this.ec.verify(e, t, this);\n};\nqt.prototype.inspect = function() {\n  return \"<Key priv: \" + (this.priv && this.priv.toString(16, 2)) + \" pub: \" + (this.pub && this.pub.inspect()) + \" >\";\n};\nvar Ig = sr.assert;\nfunction la(r, e) {\n  if (r instanceof la)\n    return r;\n  this._importDER(r, e) || (Ig(r.r && r.s, \"Signature without r or s\"), this.r = new Ke(r.r, 16), this.s = new Ke(r.s, 16), r.recoveryParam === void 0 ? this.recoveryParam = null : this.recoveryParam = r.recoveryParam);\n}\nvar pa = la;\nfunction Ag() {\n  this.place = 0;\n}\nfunction Va(r, e) {\n  var t = r[e.place++];\n  if (!(t & 128))\n    return t;\n  var i = t & 15;\n  if (i === 0 || i > 4)\n    return !1;\n  for (var n = 0, s = 0, o = e.place; s < i; s++, o++)\n    n <<= 8, n |= r[o], n >>>= 0;\n  return n <= 127 ? !1 : (e.place = o, n);\n}\nfunction lc(r) {\n  for (var e = 0, t = r.length - 1; !r[e] && !(r[e + 1] & 128) && e < t; )\n    e++;\n  return e === 0 ? r : r.slice(e);\n}\nla.prototype._importDER = function(e, t) {\n  e = sr.toArray(e, t);\n  var i = new Ag();\n  if (e[i.place++] !== 48)\n    return !1;\n  var n = Va(e, i);\n  if (n === !1 || n + i.place !== e.length || e[i.place++] !== 2)\n    return !1;\n  var s = Va(e, i);\n  if (s === !1)\n    return !1;\n  var o = e.slice(i.place, s + i.place);\n  if (i.place += s, e[i.place++] !== 2)\n    return !1;\n  var f = Va(e, i);\n  if (f === !1 || e.length !== f + i.place)\n    return !1;\n  var h = e.slice(i.place, f + i.place);\n  if (o[0] === 0)\n    if (o[1] & 128)\n      o = o.slice(1);\n    else\n      return !1;\n  if (h[0] === 0)\n    if (h[1] & 128)\n      h = h.slice(1);\n    else\n      return !1;\n  return this.r = new Ke(o), this.s = new Ke(h), this.recoveryParam = null, !0;\n};\nfunction Wa(r, e) {\n  if (e < 128) {\n    r.push(e);\n    return;\n  }\n  var t = 1 + (Math.log(e) / Math.LN2 >>> 3);\n  for (r.push(t | 128); --t; )\n    r.push(e >>> (t << 3) & 255);\n  r.push(e);\n}\nla.prototype.toDER = function(e) {\n  var t = this.r.toArray(), i = this.s.toArray();\n  for (t[0] & 128 && (t = [0].concat(t)), i[0] & 128 && (i = [0].concat(i)), t = lc(t), i = lc(i); !i[0] && !(i[1] & 128); )\n    i = i.slice(1);\n  var n = [2];\n  Wa(n, t.length), n = n.concat(t), n.push(2), Wa(n, i.length);\n  var s = n.concat(i), o = [48];\n  return Wa(o, s.length), o = o.concat(s), sr.encode(o, e);\n};\nvar Dg = (\n  /*RicMoo:ethers:require(brorand)*/\n  function() {\n    throw new Error(\"unsupported\");\n  }\n), Fu = sr.assert;\nfunction lr(r) {\n  if (!(this instanceof lr))\n    return new lr(r);\n  typeof r == \"string\" && (Fu(\n    Object.prototype.hasOwnProperty.call(Rs, r),\n    \"Unknown curve \" + r\n  ), r = Rs[r]), r instanceof Rs.PresetCurve && (r = { curve: r }), this.curve = r.curve.curve, this.n = this.curve.n, this.nh = this.n.ushrn(1), this.g = this.curve.g, this.g = r.curve.g, this.g.precompute(r.curve.n.bitLength() + 1), this.hash = r.hash || r.curve.hash;\n}\nvar Pg = lr;\nlr.prototype.keyPair = function(e) {\n  return new jo(this, e);\n};\nlr.prototype.keyFromPrivate = function(e, t) {\n  return jo.fromPrivate(this, e, t);\n};\nlr.prototype.keyFromPublic = function(e, t) {\n  return jo.fromPublic(this, e, t);\n};\nlr.prototype.genKeyPair = function(e) {\n  e || (e = {});\n  for (var t = new Lu({\n    hash: this.hash,\n    pers: e.pers,\n    persEnc: e.persEnc || \"utf8\",\n    entropy: e.entropy || Dg(this.hash.hmacStrength),\n    entropyEnc: e.entropy && e.entropyEnc || \"utf8\",\n    nonce: this.n.toArray()\n  }), i = this.n.byteLength(), n = this.n.sub(new Ke(2)); ; ) {\n    var s = new Ke(t.generate(i));\n    if (!(s.cmp(n) > 0))\n      return s.iaddn(1), this.keyFromPrivate(s);\n  }\n};\nlr.prototype._truncateToN = function(e, t) {\n  var i = e.byteLength() * 8 - this.n.bitLength();\n  return i > 0 && (e = e.ushrn(i)), !t && e.cmp(this.n) >= 0 ? e.sub(this.n) : e;\n};\nlr.prototype.sign = function(e, t, i, n) {\n  typeof i == \"object\" && (n = i, i = null), n || (n = {}), t = this.keyFromPrivate(t, i), e = this._truncateToN(new Ke(e, 16));\n  for (var s = this.n.byteLength(), o = t.getPrivate().toArray(\"be\", s), f = e.toArray(\"be\", s), h = new Lu({\n    hash: this.hash,\n    entropy: o,\n    nonce: f,\n    pers: n.pers,\n    persEnc: n.persEnc || \"utf8\"\n  }), d = this.n.sub(new Ke(1)), v = 0; ; v++) {\n    var w = n.k ? n.k(v) : new Ke(h.generate(this.n.byteLength()));\n    if (w = this._truncateToN(w, !0), !(w.cmpn(1) <= 0 || w.cmp(d) >= 0)) {\n      var A = this.g.mul(w);\n      if (!A.isInfinity()) {\n        var I = A.getX(), D = I.umod(this.n);\n        if (D.cmpn(0) !== 0) {\n          var N = w.invm(this.n).mul(D.mul(t.getPrivate()).iadd(e));\n          if (N = N.umod(this.n), N.cmpn(0) !== 0) {\n            var k = (A.getY().isOdd() ? 1 : 0) | (I.cmp(D) !== 0 ? 2 : 0);\n            return n.canonical && N.cmp(this.nh) > 0 && (N = this.n.sub(N), k ^= 1), new pa({ r: D, s: N, recoveryParam: k });\n          }\n        }\n      }\n    }\n  }\n};\nlr.prototype.verify = function(e, t, i, n) {\n  e = this._truncateToN(new Ke(e, 16)), i = this.keyFromPublic(i, n), t = new pa(t, \"hex\");\n  var s = t.r, o = t.s;\n  if (s.cmpn(1) < 0 || s.cmp(this.n) >= 0 || o.cmpn(1) < 0 || o.cmp(this.n) >= 0)\n    return !1;\n  var f = o.invm(this.n), h = f.mul(e).umod(this.n), d = f.mul(s).umod(this.n), v;\n  return this.curve._maxwellTrick ? (v = this.g.jmulAdd(h, i.getPublic(), d), v.isInfinity() ? !1 : v.eqXToP(s)) : (v = this.g.mulAdd(h, i.getPublic(), d), v.isInfinity() ? !1 : v.getX().umod(this.n).cmp(s) === 0);\n};\nlr.prototype.recoverPubKey = function(r, e, t, i) {\n  Fu((3 & t) === t, \"The recovery param is more than two bits\"), e = new pa(e, i);\n  var n = this.n, s = new Ke(r), o = e.r, f = e.s, h = t & 1, d = t >> 1;\n  if (o.cmp(this.curve.p.umod(this.curve.n)) >= 0 && d)\n    throw new Error(\"Unable to find sencond key candinate\");\n  d ? o = this.curve.pointFromX(o.add(this.curve.n), h) : o = this.curve.pointFromX(o, h);\n  var v = e.r.invm(n), w = n.sub(s).mul(v).umod(n), A = f.mul(v).umod(n);\n  return this.g.mulAdd(w, o, A);\n};\nlr.prototype.getKeyRecoveryParam = function(r, e, t, i) {\n  if (e = new pa(e, i), e.recoveryParam !== null)\n    return e.recoveryParam;\n  for (var n = 0; n < 4; n++) {\n    var s;\n    try {\n      s = this.recoverPubKey(r, e, n);\n    } catch {\n      continue;\n    }\n    if (s.eq(t))\n      return n;\n  }\n  throw new Error(\"Unable to find valid recovery factor\");\n};\nvar Og = xn(function(r, e) {\n  var t = e;\n  t.version = \"6.5.4\", t.utils = sr, t.rand = /*RicMoo:ethers:require(brorand)*/\n  function() {\n    throw new Error(\"unsupported\");\n  }, t.curve = Os, t.curves = Rs, t.ec = Pg, t.eddsa = /*RicMoo:ethers:require(./elliptic/eddsa)*/\n  null;\n}), Rg = Og.ec;\nconst Ng = \"signing-key/5.7.0\", Eo = new ht(Ng);\nlet Ga = null;\nfunction Cr() {\n  return Ga || (Ga = new Rg(\"secp256k1\")), Ga;\n}\nclass Tg {\n  constructor(e) {\n    Tn(this, \"curve\", \"secp256k1\"), Tn(this, \"privateKey\", Jt(e)), qv(this.privateKey) !== 32 && Eo.throwArgumentError(\"invalid private key\", \"privateKey\", \"[[ REDACTED ]]\");\n    const t = Cr().keyFromPrivate(yt(this.privateKey));\n    Tn(this, \"publicKey\", \"0x\" + t.getPublic(!1, \"hex\")), Tn(this, \"compressedPublicKey\", \"0x\" + t.getPublic(!0, \"hex\")), Tn(this, \"_isSigningKey\", !0);\n  }\n  _addPoint(e) {\n    const t = Cr().keyFromPublic(yt(this.publicKey)), i = Cr().keyFromPublic(yt(e));\n    return \"0x\" + t.pub.add(i.pub).encodeCompressed(\"hex\");\n  }\n  signDigest(e) {\n    const t = Cr().keyFromPrivate(yt(this.privateKey)), i = yt(e);\n    i.length !== 32 && Eo.throwArgumentError(\"bad digest length\", \"digest\", e);\n    const n = t.sign(i, { canonical: !0 });\n    return vu({\n      recoveryParam: n.recoveryParam,\n      r: hn(\"0x\" + n.r.toString(16), 32),\n      s: hn(\"0x\" + n.s.toString(16), 32)\n    });\n  }\n  computeSharedSecret(e) {\n    const t = Cr().keyFromPrivate(yt(this.privateKey)), i = Cr().keyFromPublic(yt(qu(e)));\n    return hn(\"0x\" + t.derive(i.getPublic()).toString(16), 32);\n  }\n  static isSigningKey(e) {\n    return !!(e && e._isSigningKey);\n  }\n}\nfunction Cg(r, e) {\n  const t = vu(e), i = { r: yt(t.r), s: yt(t.s) };\n  return \"0x\" + Cr().recoverPubKey(yt(r), i, t.recoveryParam).encode(\"hex\", !1);\n}\nfunction qu(r, e) {\n  const t = yt(r);\n  if (t.length === 32) {\n    const i = new Tg(t);\n    return e ? \"0x\" + Cr().keyFromPrivate(t).getPublic(!0, \"hex\") : i.publicKey;\n  } else {\n    if (t.length === 33)\n      return e ? Jt(t) : \"0x\" + Cr().keyFromPublic(t).getPublic(!1, \"hex\");\n    if (t.length === 65)\n      return e ? \"0x\" + Cr().keyFromPublic(t).getPublic(!0, \"hex\") : Jt(t);\n  }\n  return Eo.throwArgumentError(\"invalid public or private key\", \"key\", \"[REDACTED]\");\n}\nvar pc;\n(function(r) {\n  r[r.legacy = 0] = \"legacy\", r[r.eip2930 = 1] = \"eip2930\", r[r.eip1559 = 2] = \"eip1559\";\n})(pc || (pc = {}));\nfunction $g(r) {\n  const e = qu(r);\n  return Jv(sc(qo(sc(e, 1)), 12));\n}\nfunction Lg(r, e) {\n  return $g(Cg(yt(r), e));\n}\nvar Ko = {}, va = {};\nObject.defineProperty(va, \"__esModule\", { value: !0 });\nvar Ft = Ve, So = nr, Fg = 20;\nfunction qg(r, e, t) {\n  for (var i = 1634760805, n = 857760878, s = 2036477234, o = 1797285236, f = t[3] << 24 | t[2] << 16 | t[1] << 8 | t[0], h = t[7] << 24 | t[6] << 16 | t[5] << 8 | t[4], d = t[11] << 24 | t[10] << 16 | t[9] << 8 | t[8], v = t[15] << 24 | t[14] << 16 | t[13] << 8 | t[12], w = t[19] << 24 | t[18] << 16 | t[17] << 8 | t[16], A = t[23] << 24 | t[22] << 16 | t[21] << 8 | t[20], I = t[27] << 24 | t[26] << 16 | t[25] << 8 | t[24], D = t[31] << 24 | t[30] << 16 | t[29] << 8 | t[28], N = e[3] << 24 | e[2] << 16 | e[1] << 8 | e[0], k = e[7] << 24 | e[6] << 16 | e[5] << 8 | e[4], j = e[11] << 24 | e[10] << 16 | e[9] << 8 | e[8], T = e[15] << 24 | e[14] << 16 | e[13] << 8 | e[12], K = i, $ = n, z = s, B = o, _ = f, R = h, J = d, Q = v, O = w, p = A, l = I, a = D, c = N, b = k, E = j, S = T, x = 0; x < Fg; x += 2)\n    K = K + _ | 0, c ^= K, c = c >>> 32 - 16 | c << 16, O = O + c | 0, _ ^= O, _ = _ >>> 32 - 12 | _ << 12, $ = $ + R | 0, b ^= $, b = b >>> 32 - 16 | b << 16, p = p + b | 0, R ^= p, R = R >>> 32 - 12 | R << 12, z = z + J | 0, E ^= z, E = E >>> 32 - 16 | E << 16, l = l + E | 0, J ^= l, J = J >>> 32 - 12 | J << 12, B = B + Q | 0, S ^= B, S = S >>> 32 - 16 | S << 16, a = a + S | 0, Q ^= a, Q = Q >>> 32 - 12 | Q << 12, z = z + J | 0, E ^= z, E = E >>> 32 - 8 | E << 8, l = l + E | 0, J ^= l, J = J >>> 32 - 7 | J << 7, B = B + Q | 0, S ^= B, S = S >>> 32 - 8 | S << 8, a = a + S | 0, Q ^= a, Q = Q >>> 32 - 7 | Q << 7, $ = $ + R | 0, b ^= $, b = b >>> 32 - 8 | b << 8, p = p + b | 0, R ^= p, R = R >>> 32 - 7 | R << 7, K = K + _ | 0, c ^= K, c = c >>> 32 - 8 | c << 8, O = O + c | 0, _ ^= O, _ = _ >>> 32 - 7 | _ << 7, K = K + R | 0, S ^= K, S = S >>> 32 - 16 | S << 16, l = l + S | 0, R ^= l, R = R >>> 32 - 12 | R << 12, $ = $ + J | 0, c ^= $, c = c >>> 32 - 16 | c << 16, a = a + c | 0, J ^= a, J = J >>> 32 - 12 | J << 12, z = z + Q | 0, b ^= z, b = b >>> 32 - 16 | b << 16, O = O + b | 0, Q ^= O, Q = Q >>> 32 - 12 | Q << 12, B = B + _ | 0, E ^= B, E = E >>> 32 - 16 | E << 16, p = p + E | 0, _ ^= p, _ = _ >>> 32 - 12 | _ << 12, z = z + Q | 0, b ^= z, b = b >>> 32 - 8 | b << 8, O = O + b | 0, Q ^= O, Q = Q >>> 32 - 7 | Q << 7, B = B + _ | 0, E ^= B, E = E >>> 32 - 8 | E << 8, p = p + E | 0, _ ^= p, _ = _ >>> 32 - 7 | _ << 7, $ = $ + J | 0, c ^= $, c = c >>> 32 - 8 | c << 8, a = a + c | 0, J ^= a, J = J >>> 32 - 7 | J << 7, K = K + R | 0, S ^= K, S = S >>> 32 - 8 | S << 8, l = l + S | 0, R ^= l, R = R >>> 32 - 7 | R << 7;\n  Ft.writeUint32LE(K + i | 0, r, 0), Ft.writeUint32LE($ + n | 0, r, 4), Ft.writeUint32LE(z + s | 0, r, 8), Ft.writeUint32LE(B + o | 0, r, 12), Ft.writeUint32LE(_ + f | 0, r, 16), Ft.writeUint32LE(R + h | 0, r, 20), Ft.writeUint32LE(J + d | 0, r, 24), Ft.writeUint32LE(Q + v | 0, r, 28), Ft.writeUint32LE(O + w | 0, r, 32), Ft.writeUint32LE(p + A | 0, r, 36), Ft.writeUint32LE(l + I | 0, r, 40), Ft.writeUint32LE(a + D | 0, r, 44), Ft.writeUint32LE(c + N | 0, r, 48), Ft.writeUint32LE(b + k | 0, r, 52), Ft.writeUint32LE(E + j | 0, r, 56), Ft.writeUint32LE(S + T | 0, r, 60);\n}\nfunction Uu(r, e, t, i, n) {\n  if (n === void 0 && (n = 0), r.length !== 32)\n    throw new Error(\"ChaCha: key size must be 32 bytes\");\n  if (i.length < t.length)\n    throw new Error(\"ChaCha: destination is shorter than source\");\n  var s, o;\n  if (n === 0) {\n    if (e.length !== 8 && e.length !== 12)\n      throw new Error(\"ChaCha nonce must be 8 or 12 bytes\");\n    s = new Uint8Array(16), o = s.length - e.length, s.set(e, o);\n  } else {\n    if (e.length !== 16)\n      throw new Error(\"ChaCha nonce with counter must be 16 bytes\");\n    s = e, o = n;\n  }\n  for (var f = new Uint8Array(64), h = 0; h < t.length; h += 64) {\n    qg(f, s, r);\n    for (var d = h; d < h + 64 && d < t.length; d++)\n      i[d] = t[d] ^ f[d - h];\n    zg(s, 0, o);\n  }\n  return So.wipe(f), n === 0 && So.wipe(s), i;\n}\nva.streamXOR = Uu;\nfunction Ug(r, e, t, i) {\n  return i === void 0 && (i = 0), So.wipe(t), Uu(r, e, t, t, i);\n}\nva.stream = Ug;\nfunction zg(r, e, t) {\n  for (var i = 1; t--; )\n    i = i + (r[e] & 255) | 0, r[e] = i & 255, i >>>= 8, e++;\n  if (i > 0)\n    throw new Error(\"ChaCha: counter overflow\");\n}\nvar zu = {}, Mi = {};\nObject.defineProperty(Mi, \"__esModule\", { value: !0 });\nfunction Bg(r, e, t) {\n  return ~(r - 1) & e | r - 1 & t;\n}\nMi.select = Bg;\nfunction kg(r, e) {\n  return (r | 0) - (e | 0) - 1 >>> 31 & 1;\n}\nMi.lessOrEqual = kg;\nfunction Bu(r, e) {\n  if (r.length !== e.length)\n    return 0;\n  for (var t = 0, i = 0; i < r.length; i++)\n    t |= r[i] ^ e[i];\n  return 1 & t - 1 >>> 8;\n}\nMi.compare = Bu;\nfunction jg(r, e) {\n  return r.length === 0 || e.length === 0 ? !1 : Bu(r, e) !== 0;\n}\nMi.equal = jg;\n(function(r) {\n  Object.defineProperty(r, \"__esModule\", { value: !0 });\n  var e = Mi, t = nr;\n  r.DIGEST_LENGTH = 16;\n  var i = (\n    /** @class */\n    function() {\n      function o(f) {\n        this.digestLength = r.DIGEST_LENGTH, this._buffer = new Uint8Array(16), this._r = new Uint16Array(10), this._h = new Uint16Array(10), this._pad = new Uint16Array(8), this._leftover = 0, this._fin = 0, this._finished = !1;\n        var h = f[0] | f[1] << 8;\n        this._r[0] = h & 8191;\n        var d = f[2] | f[3] << 8;\n        this._r[1] = (h >>> 13 | d << 3) & 8191;\n        var v = f[4] | f[5] << 8;\n        this._r[2] = (d >>> 10 | v << 6) & 7939;\n        var w = f[6] | f[7] << 8;\n        this._r[3] = (v >>> 7 | w << 9) & 8191;\n        var A = f[8] | f[9] << 8;\n        this._r[4] = (w >>> 4 | A << 12) & 255, this._r[5] = A >>> 1 & 8190;\n        var I = f[10] | f[11] << 8;\n        this._r[6] = (A >>> 14 | I << 2) & 8191;\n        var D = f[12] | f[13] << 8;\n        this._r[7] = (I >>> 11 | D << 5) & 8065;\n        var N = f[14] | f[15] << 8;\n        this._r[8] = (D >>> 8 | N << 8) & 8191, this._r[9] = N >>> 5 & 127, this._pad[0] = f[16] | f[17] << 8, this._pad[1] = f[18] | f[19] << 8, this._pad[2] = f[20] | f[21] << 8, this._pad[3] = f[22] | f[23] << 8, this._pad[4] = f[24] | f[25] << 8, this._pad[5] = f[26] | f[27] << 8, this._pad[6] = f[28] | f[29] << 8, this._pad[7] = f[30] | f[31] << 8;\n      }\n      return o.prototype._blocks = function(f, h, d) {\n        for (var v = this._fin ? 0 : 2048, w = this._h[0], A = this._h[1], I = this._h[2], D = this._h[3], N = this._h[4], k = this._h[5], j = this._h[6], T = this._h[7], K = this._h[8], $ = this._h[9], z = this._r[0], B = this._r[1], _ = this._r[2], R = this._r[3], J = this._r[4], Q = this._r[5], O = this._r[6], p = this._r[7], l = this._r[8], a = this._r[9]; d >= 16; ) {\n          var c = f[h + 0] | f[h + 1] << 8;\n          w += c & 8191;\n          var b = f[h + 2] | f[h + 3] << 8;\n          A += (c >>> 13 | b << 3) & 8191;\n          var E = f[h + 4] | f[h + 5] << 8;\n          I += (b >>> 10 | E << 6) & 8191;\n          var S = f[h + 6] | f[h + 7] << 8;\n          D += (E >>> 7 | S << 9) & 8191;\n          var x = f[h + 8] | f[h + 9] << 8;\n          N += (S >>> 4 | x << 12) & 8191, k += x >>> 1 & 8191;\n          var u = f[h + 10] | f[h + 11] << 8;\n          j += (x >>> 14 | u << 2) & 8191;\n          var m = f[h + 12] | f[h + 13] << 8;\n          T += (u >>> 11 | m << 5) & 8191;\n          var g = f[h + 14] | f[h + 15] << 8;\n          K += (m >>> 8 | g << 8) & 8191, $ += g >>> 5 | v;\n          var P = 0, G = P;\n          G += w * z, G += A * (5 * a), G += I * (5 * l), G += D * (5 * p), G += N * (5 * O), P = G >>> 13, G &= 8191, G += k * (5 * Q), G += j * (5 * J), G += T * (5 * R), G += K * (5 * _), G += $ * (5 * B), P += G >>> 13, G &= 8191;\n          var M = P;\n          M += w * B, M += A * z, M += I * (5 * a), M += D * (5 * l), M += N * (5 * p), P = M >>> 13, M &= 8191, M += k * (5 * O), M += j * (5 * Q), M += T * (5 * J), M += K * (5 * R), M += $ * (5 * _), P += M >>> 13, M &= 8191;\n          var H = P;\n          H += w * _, H += A * B, H += I * z, H += D * (5 * a), H += N * (5 * l), P = H >>> 13, H &= 8191, H += k * (5 * p), H += j * (5 * O), H += T * (5 * Q), H += K * (5 * J), H += $ * (5 * R), P += H >>> 13, H &= 8191;\n          var C = P;\n          C += w * R, C += A * _, C += I * B, C += D * z, C += N * (5 * a), P = C >>> 13, C &= 8191, C += k * (5 * l), C += j * (5 * p), C += T * (5 * O), C += K * (5 * Q), C += $ * (5 * J), P += C >>> 13, C &= 8191;\n          var q = P;\n          q += w * J, q += A * R, q += I * _, q += D * B, q += N * z, P = q >>> 13, q &= 8191, q += k * (5 * a), q += j * (5 * l), q += T * (5 * p), q += K * (5 * O), q += $ * (5 * Q), P += q >>> 13, q &= 8191;\n          var L = P;\n          L += w * Q, L += A * J, L += I * R, L += D * _, L += N * B, P = L >>> 13, L &= 8191, L += k * z, L += j * (5 * a), L += T * (5 * l), L += K * (5 * p), L += $ * (5 * O), P += L >>> 13, L &= 8191;\n          var y = P;\n          y += w * O, y += A * Q, y += I * J, y += D * R, y += N * _, P = y >>> 13, y &= 8191, y += k * B, y += j * z, y += T * (5 * a), y += K * (5 * l), y += $ * (5 * p), P += y >>> 13, y &= 8191;\n          var F = P;\n          F += w * p, F += A * O, F += I * Q, F += D * J, F += N * R, P = F >>> 13, F &= 8191, F += k * _, F += j * B, F += T * z, F += K * (5 * a), F += $ * (5 * l), P += F >>> 13, F &= 8191;\n          var W = P;\n          W += w * l, W += A * p, W += I * O, W += D * Q, W += N * J, P = W >>> 13, W &= 8191, W += k * R, W += j * _, W += T * B, W += K * z, W += $ * (5 * a), P += W >>> 13, W &= 8191;\n          var Y = P;\n          Y += w * a, Y += A * l, Y += I * p, Y += D * O, Y += N * Q, P = Y >>> 13, Y &= 8191, Y += k * J, Y += j * R, Y += T * _, Y += K * B, Y += $ * z, P += Y >>> 13, Y &= 8191, P = (P << 2) + P | 0, P = P + G | 0, G = P & 8191, P = P >>> 13, M += P, w = G, A = M, I = H, D = C, N = q, k = L, j = y, T = F, K = W, $ = Y, h += 16, d -= 16;\n        }\n        this._h[0] = w, this._h[1] = A, this._h[2] = I, this._h[3] = D, this._h[4] = N, this._h[5] = k, this._h[6] = j, this._h[7] = T, this._h[8] = K, this._h[9] = $;\n      }, o.prototype.finish = function(f, h) {\n        h === void 0 && (h = 0);\n        var d = new Uint16Array(10), v, w, A, I;\n        if (this._leftover) {\n          for (I = this._leftover, this._buffer[I++] = 1; I < 16; I++)\n            this._buffer[I] = 0;\n          this._fin = 1, this._blocks(this._buffer, 0, 16);\n        }\n        for (v = this._h[1] >>> 13, this._h[1] &= 8191, I = 2; I < 10; I++)\n          this._h[I] += v, v = this._h[I] >>> 13, this._h[I] &= 8191;\n        for (this._h[0] += v * 5, v = this._h[0] >>> 13, this._h[0] &= 8191, this._h[1] += v, v = this._h[1] >>> 13, this._h[1] &= 8191, this._h[2] += v, d[0] = this._h[0] + 5, v = d[0] >>> 13, d[0] &= 8191, I = 1; I < 10; I++)\n          d[I] = this._h[I] + v, v = d[I] >>> 13, d[I] &= 8191;\n        for (d[9] -= 8192, w = (v ^ 1) - 1, I = 0; I < 10; I++)\n          d[I] &= w;\n        for (w = ~w, I = 0; I < 10; I++)\n          this._h[I] = this._h[I] & w | d[I];\n        for (this._h[0] = (this._h[0] | this._h[1] << 13) & 65535, this._h[1] = (this._h[1] >>> 3 | this._h[2] << 10) & 65535, this._h[2] = (this._h[2] >>> 6 | this._h[3] << 7) & 65535, this._h[3] = (this._h[3] >>> 9 | this._h[4] << 4) & 65535, this._h[4] = (this._h[4] >>> 12 | this._h[5] << 1 | this._h[6] << 14) & 65535, this._h[5] = (this._h[6] >>> 2 | this._h[7] << 11) & 65535, this._h[6] = (this._h[7] >>> 5 | this._h[8] << 8) & 65535, this._h[7] = (this._h[8] >>> 8 | this._h[9] << 5) & 65535, A = this._h[0] + this._pad[0], this._h[0] = A & 65535, I = 1; I < 8; I++)\n          A = (this._h[I] + this._pad[I] | 0) + (A >>> 16) | 0, this._h[I] = A & 65535;\n        return f[h + 0] = this._h[0] >>> 0, f[h + 1] = this._h[0] >>> 8, f[h + 2] = this._h[1] >>> 0, f[h + 3] = this._h[1] >>> 8, f[h + 4] = this._h[2] >>> 0, f[h + 5] = this._h[2] >>> 8, f[h + 6] = this._h[3] >>> 0, f[h + 7] = this._h[3] >>> 8, f[h + 8] = this._h[4] >>> 0, f[h + 9] = this._h[4] >>> 8, f[h + 10] = this._h[5] >>> 0, f[h + 11] = this._h[5] >>> 8, f[h + 12] = this._h[6] >>> 0, f[h + 13] = this._h[6] >>> 8, f[h + 14] = this._h[7] >>> 0, f[h + 15] = this._h[7] >>> 8, this._finished = !0, this;\n      }, o.prototype.update = function(f) {\n        var h = 0, d = f.length, v;\n        if (this._leftover) {\n          v = 16 - this._leftover, v > d && (v = d);\n          for (var w = 0; w < v; w++)\n            this._buffer[this._leftover + w] = f[h + w];\n          if (d -= v, h += v, this._leftover += v, this._leftover < 16)\n            return this;\n          this._blocks(this._buffer, 0, 16), this._leftover = 0;\n        }\n        if (d >= 16 && (v = d - d % 16, this._blocks(f, h, v), h += v, d -= v), d) {\n          for (var w = 0; w < d; w++)\n            this._buffer[this._leftover + w] = f[h + w];\n          this._leftover += d;\n        }\n        return this;\n      }, o.prototype.digest = function() {\n        if (this._finished)\n          throw new Error(\"Poly1305 was finished\");\n        var f = new Uint8Array(16);\n        return this.finish(f), f;\n      }, o.prototype.clean = function() {\n        return t.wipe(this._buffer), t.wipe(this._r), t.wipe(this._h), t.wipe(this._pad), this._leftover = 0, this._fin = 0, this._finished = !0, this;\n      }, o;\n    }()\n  );\n  r.Poly1305 = i;\n  function n(o, f) {\n    var h = new i(o);\n    h.update(f);\n    var d = h.digest();\n    return h.clean(), d;\n  }\n  r.oneTimeAuth = n;\n  function s(o, f) {\n    return o.length !== r.DIGEST_LENGTH || f.length !== r.DIGEST_LENGTH ? !1 : e.equal(o, f);\n  }\n  r.equal = s;\n})(zu);\n(function(r) {\n  Object.defineProperty(r, \"__esModule\", { value: !0 });\n  var e = va, t = zu, i = nr, n = Ve, s = Mi;\n  r.KEY_LENGTH = 32, r.NONCE_LENGTH = 12, r.TAG_LENGTH = 16;\n  var o = new Uint8Array(16), f = (\n    /** @class */\n    function() {\n      function h(d) {\n        if (this.nonceLength = r.NONCE_LENGTH, this.tagLength = r.TAG_LENGTH, d.length !== r.KEY_LENGTH)\n          throw new Error(\"ChaCha20Poly1305 needs 32-byte key\");\n        this._key = new Uint8Array(d);\n      }\n      return h.prototype.seal = function(d, v, w, A) {\n        if (d.length > 16)\n          throw new Error(\"ChaCha20Poly1305: incorrect nonce length\");\n        var I = new Uint8Array(16);\n        I.set(d, I.length - d.length);\n        var D = new Uint8Array(32);\n        e.stream(this._key, I, D, 4);\n        var N = v.length + this.tagLength, k;\n        if (A) {\n          if (A.length !== N)\n            throw new Error(\"ChaCha20Poly1305: incorrect destination length\");\n          k = A;\n        } else\n          k = new Uint8Array(N);\n        return e.streamXOR(this._key, I, v, k, 4), this._authenticate(k.subarray(k.length - this.tagLength, k.length), D, k.subarray(0, k.length - this.tagLength), w), i.wipe(I), k;\n      }, h.prototype.open = function(d, v, w, A) {\n        if (d.length > 16)\n          throw new Error(\"ChaCha20Poly1305: incorrect nonce length\");\n        if (v.length < this.tagLength)\n          return null;\n        var I = new Uint8Array(16);\n        I.set(d, I.length - d.length);\n        var D = new Uint8Array(32);\n        e.stream(this._key, I, D, 4);\n        var N = new Uint8Array(this.tagLength);\n        if (this._authenticate(N, D, v.subarray(0, v.length - this.tagLength), w), !s.equal(N, v.subarray(v.length - this.tagLength, v.length)))\n          return null;\n        var k = v.length - this.tagLength, j;\n        if (A) {\n          if (A.length !== k)\n            throw new Error(\"ChaCha20Poly1305: incorrect destination length\");\n          j = A;\n        } else\n          j = new Uint8Array(k);\n        return e.streamXOR(this._key, I, v.subarray(0, v.length - this.tagLength), j, 4), i.wipe(I), j;\n      }, h.prototype.clean = function() {\n        return i.wipe(this._key), this;\n      }, h.prototype._authenticate = function(d, v, w, A) {\n        var I = new t.Poly1305(v);\n        A && (I.update(A), A.length % 16 > 0 && I.update(o.subarray(A.length % 16))), I.update(w), w.length % 16 > 0 && I.update(o.subarray(w.length % 16));\n        var D = new Uint8Array(8);\n        A && n.writeUint64LE(A.length, D), I.update(D), n.writeUint64LE(w.length, D), I.update(D);\n        for (var N = I.digest(), k = 0; k < N.length; k++)\n          d[k] = N[k];\n        I.clean(), i.wipe(N), i.wipe(D);\n      }, h;\n    }()\n  );\n  r.ChaCha20Poly1305 = f;\n})(Ko);\nvar ku = {}, ss = {}, Ho = {};\nObject.defineProperty(Ho, \"__esModule\", { value: !0 });\nfunction Kg(r) {\n  return typeof r.saveState < \"u\" && typeof r.restoreState < \"u\" && typeof r.cleanSavedState < \"u\";\n}\nHo.isSerializableHash = Kg;\nObject.defineProperty(ss, \"__esModule\", { value: !0 });\nvar Dr = Ho, Hg = Mi, Vg = nr, ju = (\n  /** @class */\n  function() {\n    function r(e, t) {\n      this._finished = !1, this._inner = new e(), this._outer = new e(), this.blockSize = this._outer.blockSize, this.digestLength = this._outer.digestLength;\n      var i = new Uint8Array(this.blockSize);\n      t.length > this.blockSize ? this._inner.update(t).finish(i).clean() : i.set(t);\n      for (var n = 0; n < i.length; n++)\n        i[n] ^= 54;\n      this._inner.update(i);\n      for (var n = 0; n < i.length; n++)\n        i[n] ^= 106;\n      this._outer.update(i), Dr.isSerializableHash(this._inner) && Dr.isSerializableHash(this._outer) && (this._innerKeyedState = this._inner.saveState(), this._outerKeyedState = this._outer.saveState()), Vg.wipe(i);\n    }\n    return r.prototype.reset = function() {\n      if (!Dr.isSerializableHash(this._inner) || !Dr.isSerializableHash(this._outer))\n        throw new Error(\"hmac: can't reset() because hash doesn't implement restoreState()\");\n      return this._inner.restoreState(this._innerKeyedState), this._outer.restoreState(this._outerKeyedState), this._finished = !1, this;\n    }, r.prototype.clean = function() {\n      Dr.isSerializableHash(this._inner) && this._inner.cleanSavedState(this._innerKeyedState), Dr.isSerializableHash(this._outer) && this._outer.cleanSavedState(this._outerKeyedState), this._inner.clean(), this._outer.clean();\n    }, r.prototype.update = function(e) {\n      return this._inner.update(e), this;\n    }, r.prototype.finish = function(e) {\n      return this._finished ? (this._outer.finish(e), this) : (this._inner.finish(e), this._outer.update(e.subarray(0, this.digestLength)).finish(e), this._finished = !0, this);\n    }, r.prototype.digest = function() {\n      var e = new Uint8Array(this.digestLength);\n      return this.finish(e), e;\n    }, r.prototype.saveState = function() {\n      if (!Dr.isSerializableHash(this._inner))\n        throw new Error(\"hmac: can't saveState() because hash doesn't implement it\");\n      return this._inner.saveState();\n    }, r.prototype.restoreState = function(e) {\n      if (!Dr.isSerializableHash(this._inner) || !Dr.isSerializableHash(this._outer))\n        throw new Error(\"hmac: can't restoreState() because hash doesn't implement it\");\n      return this._inner.restoreState(e), this._outer.restoreState(this._outerKeyedState), this._finished = !1, this;\n    }, r.prototype.cleanSavedState = function(e) {\n      if (!Dr.isSerializableHash(this._inner))\n        throw new Error(\"hmac: can't cleanSavedState() because hash doesn't implement it\");\n      this._inner.cleanSavedState(e);\n    }, r;\n  }()\n);\nss.HMAC = ju;\nfunction Wg(r, e, t) {\n  var i = new ju(r, e);\n  i.update(t);\n  var n = i.digest();\n  return i.clean(), n;\n}\nss.hmac = Wg;\nss.equal = Hg.equal;\nObject.defineProperty(ku, \"__esModule\", { value: !0 });\nvar vc = ss, bc = nr, Gg = (\n  /** @class */\n  function() {\n    function r(e, t, i, n) {\n      i === void 0 && (i = new Uint8Array(0)), this._counter = new Uint8Array(1), this._hash = e, this._info = n;\n      var s = vc.hmac(this._hash, i, t);\n      this._hmac = new vc.HMAC(e, s), this._buffer = new Uint8Array(this._hmac.digestLength), this._bufpos = this._buffer.length;\n    }\n    return r.prototype._fillBuffer = function() {\n      this._counter[0]++;\n      var e = this._counter[0];\n      if (e === 0)\n        throw new Error(\"hkdf: cannot expand more\");\n      this._hmac.reset(), e > 1 && this._hmac.update(this._buffer), this._info && this._hmac.update(this._info), this._hmac.update(this._counter), this._hmac.finish(this._buffer), this._bufpos = 0;\n    }, r.prototype.expand = function(e) {\n      for (var t = new Uint8Array(e), i = 0; i < t.length; i++)\n        this._bufpos === this._buffer.length && this._fillBuffer(), t[i] = this._buffer[this._bufpos++];\n      return t;\n    }, r.prototype.clean = function() {\n      this._hmac.clean(), bc.wipe(this._buffer), bc.wipe(this._counter), this._bufpos = 0;\n    }, r;\n  }()\n), Jg = ku.HKDF = Gg, as = {};\n(function(r) {\n  Object.defineProperty(r, \"__esModule\", { value: !0 });\n  var e = Ve, t = nr;\n  r.DIGEST_LENGTH = 32, r.BLOCK_SIZE = 64;\n  var i = (\n    /** @class */\n    function() {\n      function f() {\n        this.digestLength = r.DIGEST_LENGTH, this.blockSize = r.BLOCK_SIZE, this._state = new Int32Array(8), this._temp = new Int32Array(64), this._buffer = new Uint8Array(128), this._bufferLength = 0, this._bytesHashed = 0, this._finished = !1, this.reset();\n      }\n      return f.prototype._initState = function() {\n        this._state[0] = 1779033703, this._state[1] = 3144134277, this._state[2] = 1013904242, this._state[3] = 2773480762, this._state[4] = 1359893119, this._state[5] = 2600822924, this._state[6] = 528734635, this._state[7] = 1541459225;\n      }, f.prototype.reset = function() {\n        return this._initState(), this._bufferLength = 0, this._bytesHashed = 0, this._finished = !1, this;\n      }, f.prototype.clean = function() {\n        t.wipe(this._buffer), t.wipe(this._temp), this.reset();\n      }, f.prototype.update = function(h, d) {\n        if (d === void 0 && (d = h.length), this._finished)\n          throw new Error(\"SHA256: can't update because hash was finished.\");\n        var v = 0;\n        if (this._bytesHashed += d, this._bufferLength > 0) {\n          for (; this._bufferLength < this.blockSize && d > 0; )\n            this._buffer[this._bufferLength++] = h[v++], d--;\n          this._bufferLength === this.blockSize && (s(this._temp, this._state, this._buffer, 0, this.blockSize), this._bufferLength = 0);\n        }\n        for (d >= this.blockSize && (v = s(this._temp, this._state, h, v, d), d %= this.blockSize); d > 0; )\n          this._buffer[this._bufferLength++] = h[v++], d--;\n        return this;\n      }, f.prototype.finish = function(h) {\n        if (!this._finished) {\n          var d = this._bytesHashed, v = this._bufferLength, w = d / 536870912 | 0, A = d << 3, I = d % 64 < 56 ? 64 : 128;\n          this._buffer[v] = 128;\n          for (var D = v + 1; D < I - 8; D++)\n            this._buffer[D] = 0;\n          e.writeUint32BE(w, this._buffer, I - 8), e.writeUint32BE(A, this._buffer, I - 4), s(this._temp, this._state, this._buffer, 0, I), this._finished = !0;\n        }\n        for (var D = 0; D < this.digestLength / 4; D++)\n          e.writeUint32BE(this._state[D], h, D * 4);\n        return this;\n      }, f.prototype.digest = function() {\n        var h = new Uint8Array(this.digestLength);\n        return this.finish(h), h;\n      }, f.prototype.saveState = function() {\n        if (this._finished)\n          throw new Error(\"SHA256: cannot save finished state\");\n        return {\n          state: new Int32Array(this._state),\n          buffer: this._bufferLength > 0 ? new Uint8Array(this._buffer) : void 0,\n          bufferLength: this._bufferLength,\n          bytesHashed: this._bytesHashed\n        };\n      }, f.prototype.restoreState = function(h) {\n        return this._state.set(h.state), this._bufferLength = h.bufferLength, h.buffer && this._buffer.set(h.buffer), this._bytesHashed = h.bytesHashed, this._finished = !1, this;\n      }, f.prototype.cleanSavedState = function(h) {\n        t.wipe(h.state), h.buffer && t.wipe(h.buffer), h.bufferLength = 0, h.bytesHashed = 0;\n      }, f;\n    }()\n  );\n  r.SHA256 = i;\n  var n = new Int32Array([\n    1116352408,\n    1899447441,\n    3049323471,\n    3921009573,\n    961987163,\n    1508970993,\n    2453635748,\n    2870763221,\n    3624381080,\n    310598401,\n    607225278,\n    1426881987,\n    1925078388,\n    2162078206,\n    2614888103,\n    3248222580,\n    3835390401,\n    4022224774,\n    264347078,\n    604807628,\n    770255983,\n    1249150122,\n    1555081692,\n    1996064986,\n    2554220882,\n    2821834349,\n    2952996808,\n    3210313671,\n    3336571891,\n    3584528711,\n    113926993,\n    338241895,\n    666307205,\n    773529912,\n    1294757372,\n    1396182291,\n    1695183700,\n    1986661051,\n    2177026350,\n    2456956037,\n    2730485921,\n    2820302411,\n    3259730800,\n    3345764771,\n    3516065817,\n    3600352804,\n    4094571909,\n    275423344,\n    430227734,\n    506948616,\n    659060556,\n    883997877,\n    958139571,\n    1322822218,\n    1537002063,\n    1747873779,\n    1955562222,\n    2024104815,\n    2227730452,\n    2361852424,\n    2428436474,\n    2756734187,\n    3204031479,\n    3329325298\n  ]);\n  function s(f, h, d, v, w) {\n    for (; w >= 64; ) {\n      for (var A = h[0], I = h[1], D = h[2], N = h[3], k = h[4], j = h[5], T = h[6], K = h[7], $ = 0; $ < 16; $++) {\n        var z = v + $ * 4;\n        f[$] = e.readUint32BE(d, z);\n      }\n      for (var $ = 16; $ < 64; $++) {\n        var B = f[$ - 2], _ = (B >>> 17 | B << 32 - 17) ^ (B >>> 19 | B << 32 - 19) ^ B >>> 10;\n        B = f[$ - 15];\n        var R = (B >>> 7 | B << 32 - 7) ^ (B >>> 18 | B << 32 - 18) ^ B >>> 3;\n        f[$] = (_ + f[$ - 7] | 0) + (R + f[$ - 16] | 0);\n      }\n      for (var $ = 0; $ < 64; $++) {\n        var _ = (((k >>> 6 | k << 26) ^ (k >>> 11 | k << 21) ^ (k >>> 25 | k << 7)) + (k & j ^ ~k & T) | 0) + (K + (n[$] + f[$] | 0) | 0) | 0, R = ((A >>> 2 | A << 32 - 2) ^ (A >>> 13 | A << 32 - 13) ^ (A >>> 22 | A << 32 - 22)) + (A & I ^ A & D ^ I & D) | 0;\n        K = T, T = j, j = k, k = N + _ | 0, N = D, D = I, I = A, A = _ + R | 0;\n      }\n      h[0] += A, h[1] += I, h[2] += D, h[3] += N, h[4] += k, h[5] += j, h[6] += T, h[7] += K, v += 64, w -= 64;\n    }\n    return v;\n  }\n  function o(f) {\n    var h = new i();\n    h.update(f);\n    var d = h.digest();\n    return h.clean(), d;\n  }\n  r.hash = o;\n})(as);\nvar Vo = {};\n(function(r) {\n  Object.defineProperty(r, \"__esModule\", { value: !0 }), r.sharedKey = r.generateKeyPair = r.generateKeyPairFromSeed = r.scalarMultBase = r.scalarMult = r.SHARED_KEY_LENGTH = r.SECRET_KEY_LENGTH = r.PUBLIC_KEY_LENGTH = void 0;\n  const e = Ei, t = nr;\n  r.PUBLIC_KEY_LENGTH = 32, r.SECRET_KEY_LENGTH = 32, r.SHARED_KEY_LENGTH = 32;\n  function i($) {\n    const z = new Float64Array(16);\n    if ($)\n      for (let B = 0; B < $.length; B++)\n        z[B] = $[B];\n    return z;\n  }\n  const n = new Uint8Array(32);\n  n[0] = 9;\n  const s = i([56129, 1]);\n  function o($) {\n    let z = 1;\n    for (let B = 0; B < 16; B++) {\n      let _ = $[B] + z + 65535;\n      z = Math.floor(_ / 65536), $[B] = _ - z * 65536;\n    }\n    $[0] += z - 1 + 37 * (z - 1);\n  }\n  function f($, z, B) {\n    const _ = ~(B - 1);\n    for (let R = 0; R < 16; R++) {\n      const J = _ & ($[R] ^ z[R]);\n      $[R] ^= J, z[R] ^= J;\n    }\n  }\n  function h($, z) {\n    const B = i(), _ = i();\n    for (let R = 0; R < 16; R++)\n      _[R] = z[R];\n    o(_), o(_), o(_);\n    for (let R = 0; R < 2; R++) {\n      B[0] = _[0] - 65517;\n      for (let Q = 1; Q < 15; Q++)\n        B[Q] = _[Q] - 65535 - (B[Q - 1] >> 16 & 1), B[Q - 1] &= 65535;\n      B[15] = _[15] - 32767 - (B[14] >> 16 & 1);\n      const J = B[15] >> 16 & 1;\n      B[14] &= 65535, f(_, B, 1 - J);\n    }\n    for (let R = 0; R < 16; R++)\n      $[2 * R] = _[R] & 255, $[2 * R + 1] = _[R] >> 8;\n  }\n  function d($, z) {\n    for (let B = 0; B < 16; B++)\n      $[B] = z[2 * B] + (z[2 * B + 1] << 8);\n    $[15] &= 32767;\n  }\n  function v($, z, B) {\n    for (let _ = 0; _ < 16; _++)\n      $[_] = z[_] + B[_];\n  }\n  function w($, z, B) {\n    for (let _ = 0; _ < 16; _++)\n      $[_] = z[_] - B[_];\n  }\n  function A($, z, B) {\n    let _, R, J = 0, Q = 0, O = 0, p = 0, l = 0, a = 0, c = 0, b = 0, E = 0, S = 0, x = 0, u = 0, m = 0, g = 0, P = 0, G = 0, M = 0, H = 0, C = 0, q = 0, L = 0, y = 0, F = 0, W = 0, Y = 0, X = 0, ee = 0, we = 0, Me = 0, he = 0, Re = 0, xe = B[0], se = B[1], ge = B[2], le = B[3], ne = B[4], ue = B[5], fe = B[6], te = B[7], pe = B[8], _e = B[9], re = B[10], Ee = B[11], Se = B[12], oe = B[13], De = B[14], Ie = B[15];\n    _ = z[0], J += _ * xe, Q += _ * se, O += _ * ge, p += _ * le, l += _ * ne, a += _ * ue, c += _ * fe, b += _ * te, E += _ * pe, S += _ * _e, x += _ * re, u += _ * Ee, m += _ * Se, g += _ * oe, P += _ * De, G += _ * Ie, _ = z[1], Q += _ * xe, O += _ * se, p += _ * ge, l += _ * le, a += _ * ne, c += _ * ue, b += _ * fe, E += _ * te, S += _ * pe, x += _ * _e, u += _ * re, m += _ * Ee, g += _ * Se, P += _ * oe, G += _ * De, M += _ * Ie, _ = z[2], O += _ * xe, p += _ * se, l += _ * ge, a += _ * le, c += _ * ne, b += _ * ue, E += _ * fe, S += _ * te, x += _ * pe, u += _ * _e, m += _ * re, g += _ * Ee, P += _ * Se, G += _ * oe, M += _ * De, H += _ * Ie, _ = z[3], p += _ * xe, l += _ * se, a += _ * ge, c += _ * le, b += _ * ne, E += _ * ue, S += _ * fe, x += _ * te, u += _ * pe, m += _ * _e, g += _ * re, P += _ * Ee, G += _ * Se, M += _ * oe, H += _ * De, C += _ * Ie, _ = z[4], l += _ * xe, a += _ * se, c += _ * ge, b += _ * le, E += _ * ne, S += _ * ue, x += _ * fe, u += _ * te, m += _ * pe, g += _ * _e, P += _ * re, G += _ * Ee, M += _ * Se, H += _ * oe, C += _ * De, q += _ * Ie, _ = z[5], a += _ * xe, c += _ * se, b += _ * ge, E += _ * le, S += _ * ne, x += _ * ue, u += _ * fe, m += _ * te, g += _ * pe, P += _ * _e, G += _ * re, M += _ * Ee, H += _ * Se, C += _ * oe, q += _ * De, L += _ * Ie, _ = z[6], c += _ * xe, b += _ * se, E += _ * ge, S += _ * le, x += _ * ne, u += _ * ue, m += _ * fe, g += _ * te, P += _ * pe, G += _ * _e, M += _ * re, H += _ * Ee, C += _ * Se, q += _ * oe, L += _ * De, y += _ * Ie, _ = z[7], b += _ * xe, E += _ * se, S += _ * ge, x += _ * le, u += _ * ne, m += _ * ue, g += _ * fe, P += _ * te, G += _ * pe, M += _ * _e, H += _ * re, C += _ * Ee, q += _ * Se, L += _ * oe, y += _ * De, F += _ * Ie, _ = z[8], E += _ * xe, S += _ * se, x += _ * ge, u += _ * le, m += _ * ne, g += _ * ue, P += _ * fe, G += _ * te, M += _ * pe, H += _ * _e, C += _ * re, q += _ * Ee, L += _ * Se, y += _ * oe, F += _ * De, W += _ * Ie, _ = z[9], S += _ * xe, x += _ * se, u += _ * ge, m += _ * le, g += _ * ne, P += _ * ue, G += _ * fe, M += _ * te, H += _ * pe, C += _ * _e, q += _ * re, L += _ * Ee, y += _ * Se, F += _ * oe, W += _ * De, Y += _ * Ie, _ = z[10], x += _ * xe, u += _ * se, m += _ * ge, g += _ * le, P += _ * ne, G += _ * ue, M += _ * fe, H += _ * te, C += _ * pe, q += _ * _e, L += _ * re, y += _ * Ee, F += _ * Se, W += _ * oe, Y += _ * De, X += _ * Ie, _ = z[11], u += _ * xe, m += _ * se, g += _ * ge, P += _ * le, G += _ * ne, M += _ * ue, H += _ * fe, C += _ * te, q += _ * pe, L += _ * _e, y += _ * re, F += _ * Ee, W += _ * Se, Y += _ * oe, X += _ * De, ee += _ * Ie, _ = z[12], m += _ * xe, g += _ * se, P += _ * ge, G += _ * le, M += _ * ne, H += _ * ue, C += _ * fe, q += _ * te, L += _ * pe, y += _ * _e, F += _ * re, W += _ * Ee, Y += _ * Se, X += _ * oe, ee += _ * De, we += _ * Ie, _ = z[13], g += _ * xe, P += _ * se, G += _ * ge, M += _ * le, H += _ * ne, C += _ * ue, q += _ * fe, L += _ * te, y += _ * pe, F += _ * _e, W += _ * re, Y += _ * Ee, X += _ * Se, ee += _ * oe, we += _ * De, Me += _ * Ie, _ = z[14], P += _ * xe, G += _ * se, M += _ * ge, H += _ * le, C += _ * ne, q += _ * ue, L += _ * fe, y += _ * te, F += _ * pe, W += _ * _e, Y += _ * re, X += _ * Ee, ee += _ * Se, we += _ * oe, Me += _ * De, he += _ * Ie, _ = z[15], G += _ * xe, M += _ * se, H += _ * ge, C += _ * le, q += _ * ne, L += _ * ue, y += _ * fe, F += _ * te, W += _ * pe, Y += _ * _e, X += _ * re, ee += _ * Ee, we += _ * Se, Me += _ * oe, he += _ * De, Re += _ * Ie, J += 38 * M, Q += 38 * H, O += 38 * C, p += 38 * q, l += 38 * L, a += 38 * y, c += 38 * F, b += 38 * W, E += 38 * Y, S += 38 * X, x += 38 * ee, u += 38 * we, m += 38 * Me, g += 38 * he, P += 38 * Re, R = 1, _ = J + R + 65535, R = Math.floor(_ / 65536), J = _ - R * 65536, _ = Q + R + 65535, R = Math.floor(_ / 65536), Q = _ - R * 65536, _ = O + R + 65535, R = Math.floor(_ / 65536), O = _ - R * 65536, _ = p + R + 65535, R = Math.floor(_ / 65536), p = _ - R * 65536, _ = l + R + 65535, R = Math.floor(_ / 65536), l = _ - R * 65536, _ = a + R + 65535, R = Math.floor(_ / 65536), a = _ - R * 65536, _ = c + R + 65535, R = Math.floor(_ / 65536), c = _ - R * 65536, _ = b + R + 65535, R = Math.floor(_ / 65536), b = _ - R * 65536, _ = E + R + 65535, R = Math.floor(_ / 65536), E = _ - R * 65536, _ = S + R + 65535, R = Math.floor(_ / 65536), S = _ - R * 65536, _ = x + R + 65535, R = Math.floor(_ / 65536), x = _ - R * 65536, _ = u + R + 65535, R = Math.floor(_ / 65536), u = _ - R * 65536, _ = m + R + 65535, R = Math.floor(_ / 65536), m = _ - R * 65536, _ = g + R + 65535, R = Math.floor(_ / 65536), g = _ - R * 65536, _ = P + R + 65535, R = Math.floor(_ / 65536), P = _ - R * 65536, _ = G + R + 65535, R = Math.floor(_ / 65536), G = _ - R * 65536, J += R - 1 + 37 * (R - 1), R = 1, _ = J + R + 65535, R = Math.floor(_ / 65536), J = _ - R * 65536, _ = Q + R + 65535, R = Math.floor(_ / 65536), Q = _ - R * 65536, _ = O + R + 65535, R = Math.floor(_ / 65536), O = _ - R * 65536, _ = p + R + 65535, R = Math.floor(_ / 65536), p = _ - R * 65536, _ = l + R + 65535, R = Math.floor(_ / 65536), l = _ - R * 65536, _ = a + R + 65535, R = Math.floor(_ / 65536), a = _ - R * 65536, _ = c + R + 65535, R = Math.floor(_ / 65536), c = _ - R * 65536, _ = b + R + 65535, R = Math.floor(_ / 65536), b = _ - R * 65536, _ = E + R + 65535, R = Math.floor(_ / 65536), E = _ - R * 65536, _ = S + R + 65535, R = Math.floor(_ / 65536), S = _ - R * 65536, _ = x + R + 65535, R = Math.floor(_ / 65536), x = _ - R * 65536, _ = u + R + 65535, R = Math.floor(_ / 65536), u = _ - R * 65536, _ = m + R + 65535, R = Math.floor(_ / 65536), m = _ - R * 65536, _ = g + R + 65535, R = Math.floor(_ / 65536), g = _ - R * 65536, _ = P + R + 65535, R = Math.floor(_ / 65536), P = _ - R * 65536, _ = G + R + 65535, R = Math.floor(_ / 65536), G = _ - R * 65536, J += R - 1 + 37 * (R - 1), $[0] = J, $[1] = Q, $[2] = O, $[3] = p, $[4] = l, $[5] = a, $[6] = c, $[7] = b, $[8] = E, $[9] = S, $[10] = x, $[11] = u, $[12] = m, $[13] = g, $[14] = P, $[15] = G;\n  }\n  function I($, z) {\n    A($, z, z);\n  }\n  function D($, z) {\n    const B = i();\n    for (let _ = 0; _ < 16; _++)\n      B[_] = z[_];\n    for (let _ = 253; _ >= 0; _--)\n      I(B, B), _ !== 2 && _ !== 4 && A(B, B, z);\n    for (let _ = 0; _ < 16; _++)\n      $[_] = B[_];\n  }\n  function N($, z) {\n    const B = new Uint8Array(32), _ = new Float64Array(80), R = i(), J = i(), Q = i(), O = i(), p = i(), l = i();\n    for (let E = 0; E < 31; E++)\n      B[E] = $[E];\n    B[31] = $[31] & 127 | 64, B[0] &= 248, d(_, z);\n    for (let E = 0; E < 16; E++)\n      J[E] = _[E];\n    R[0] = O[0] = 1;\n    for (let E = 254; E >= 0; --E) {\n      const S = B[E >>> 3] >>> (E & 7) & 1;\n      f(R, J, S), f(Q, O, S), v(p, R, Q), w(R, R, Q), v(Q, J, O), w(J, J, O), I(O, p), I(l, R), A(R, Q, R), A(Q, J, p), v(p, R, Q), w(R, R, Q), I(J, R), w(Q, O, l), A(R, Q, s), v(R, R, O), A(Q, Q, R), A(R, O, l), A(O, J, _), I(J, p), f(R, J, S), f(Q, O, S);\n    }\n    for (let E = 0; E < 16; E++)\n      _[E + 16] = R[E], _[E + 32] = Q[E], _[E + 48] = J[E], _[E + 64] = O[E];\n    const a = _.subarray(32), c = _.subarray(16);\n    D(a, a), A(c, c, a);\n    const b = new Uint8Array(32);\n    return h(b, c), b;\n  }\n  r.scalarMult = N;\n  function k($) {\n    return N($, n);\n  }\n  r.scalarMultBase = k;\n  function j($) {\n    if ($.length !== r.SECRET_KEY_LENGTH)\n      throw new Error(`x25519: seed must be ${r.SECRET_KEY_LENGTH} bytes`);\n    const z = new Uint8Array($);\n    return {\n      publicKey: k(z),\n      secretKey: z\n    };\n  }\n  r.generateKeyPairFromSeed = j;\n  function T($) {\n    const z = (0, e.randomBytes)(32, $), B = j(z);\n    return (0, t.wipe)(z), B;\n  }\n  r.generateKeyPair = T;\n  function K($, z, B = !1) {\n    if ($.length !== r.PUBLIC_KEY_LENGTH)\n      throw new Error(\"X25519: incorrect secret key length\");\n    if (z.length !== r.PUBLIC_KEY_LENGTH)\n      throw new Error(\"X25519: incorrect public key length\");\n    const _ = N($, z);\n    if (B) {\n      let R = 0;\n      for (let J = 0; J < _.length; J++)\n        R |= _[J];\n      if (R === 0)\n        throw new Error(\"X25519: invalid shared key\");\n    }\n    return _;\n  }\n  r.sharedKey = K;\n})(Vo);\nvar Ku = {};\nconst Yg = \"elliptic\", Xg = \"6.6.1\", Zg = \"EC cryptography\", Qg = \"lib/elliptic.js\", e2 = [\n  \"lib\"\n], t2 = {\n  lint: \"eslint lib test\",\n  \"lint:fix\": \"npm run lint -- --fix\",\n  unit: \"istanbul test _mocha --reporter=spec test/index.js\",\n  test: \"npm run lint && npm run unit\",\n  version: \"grunt dist && git add dist/\"\n}, r2 = {\n  type: \"git\",\n  url: \"git@github.com:indutny/elliptic\"\n}, i2 = [\n  \"EC\",\n  \"Elliptic\",\n  \"curve\",\n  \"Cryptography\"\n], n2 = \"Fedor Indutny <fedor@indutny.com>\", s2 = \"MIT\", a2 = {\n  url: \"https://github.com/indutny/elliptic/issues\"\n}, o2 = \"https://github.com/indutny/elliptic\", f2 = {\n  brfs: \"^2.0.2\",\n  coveralls: \"^3.1.0\",\n  eslint: \"^7.6.0\",\n  grunt: \"^1.2.1\",\n  \"grunt-browserify\": \"^5.3.0\",\n  \"grunt-cli\": \"^1.3.2\",\n  \"grunt-contrib-connect\": \"^3.0.0\",\n  \"grunt-contrib-copy\": \"^1.0.0\",\n  \"grunt-contrib-uglify\": \"^5.0.0\",\n  \"grunt-mocha-istanbul\": \"^5.0.2\",\n  \"grunt-saucelabs\": \"^9.0.1\",\n  istanbul: \"^0.4.5\",\n  mocha: \"^8.0.1\"\n}, c2 = {\n  \"bn.js\": \"^4.11.9\",\n  brorand: \"^1.1.0\",\n  \"hash.js\": \"^1.0.0\",\n  \"hmac-drbg\": \"^1.0.1\",\n  inherits: \"^2.0.4\",\n  \"minimalistic-assert\": \"^1.0.1\",\n  \"minimalistic-crypto-utils\": \"^1.0.1\"\n}, h2 = {\n  name: Yg,\n  version: Xg,\n  description: Zg,\n  main: Qg,\n  files: e2,\n  scripts: t2,\n  repository: r2,\n  keywords: i2,\n  author: n2,\n  license: s2,\n  bugs: a2,\n  homepage: o2,\n  devDependencies: f2,\n  dependencies: c2\n};\nvar ar = {}, Wo = { exports: {} };\nWo.exports;\n(function(r) {\n  (function(e, t) {\n    function i(O, p) {\n      if (!O)\n        throw new Error(p || \"Assertion failed\");\n    }\n    function n(O, p) {\n      O.super_ = p;\n      var l = function() {\n      };\n      l.prototype = p.prototype, O.prototype = new l(), O.prototype.constructor = O;\n    }\n    function s(O, p, l) {\n      if (s.isBN(O))\n        return O;\n      this.negative = 0, this.words = null, this.length = 0, this.red = null, O !== null && ((p === \"le\" || p === \"be\") && (l = p, p = 10), this._init(O || 0, p || 10, l || \"be\"));\n    }\n    typeof e == \"object\" ? e.exports = s : t.BN = s, s.BN = s, s.wordSize = 26;\n    var o;\n    try {\n      typeof window < \"u\" && typeof window.Buffer < \"u\" ? o = window.Buffer : o = fa.Buffer;\n    } catch {\n    }\n    s.isBN = function(p) {\n      return p instanceof s ? !0 : p !== null && typeof p == \"object\" && p.constructor.wordSize === s.wordSize && Array.isArray(p.words);\n    }, s.max = function(p, l) {\n      return p.cmp(l) > 0 ? p : l;\n    }, s.min = function(p, l) {\n      return p.cmp(l) < 0 ? p : l;\n    }, s.prototype._init = function(p, l, a) {\n      if (typeof p == \"number\")\n        return this._initNumber(p, l, a);\n      if (typeof p == \"object\")\n        return this._initArray(p, l, a);\n      l === \"hex\" && (l = 16), i(l === (l | 0) && l >= 2 && l <= 36), p = p.toString().replace(/\\s+/g, \"\");\n      var c = 0;\n      p[0] === \"-\" && (c++, this.negative = 1), c < p.length && (l === 16 ? this._parseHex(p, c, a) : (this._parseBase(p, l, c), a === \"le\" && this._initArray(this.toArray(), l, a)));\n    }, s.prototype._initNumber = function(p, l, a) {\n      p < 0 && (this.negative = 1, p = -p), p < 67108864 ? (this.words = [p & 67108863], this.length = 1) : p < 4503599627370496 ? (this.words = [\n        p & 67108863,\n        p / 67108864 & 67108863\n      ], this.length = 2) : (i(p < 9007199254740992), this.words = [\n        p & 67108863,\n        p / 67108864 & 67108863,\n        1\n      ], this.length = 3), a === \"le\" && this._initArray(this.toArray(), l, a);\n    }, s.prototype._initArray = function(p, l, a) {\n      if (i(typeof p.length == \"number\"), p.length <= 0)\n        return this.words = [0], this.length = 1, this;\n      this.length = Math.ceil(p.length / 3), this.words = new Array(this.length);\n      for (var c = 0; c < this.length; c++)\n        this.words[c] = 0;\n      var b, E, S = 0;\n      if (a === \"be\")\n        for (c = p.length - 1, b = 0; c >= 0; c -= 3)\n          E = p[c] | p[c - 1] << 8 | p[c - 2] << 16, this.words[b] |= E << S & 67108863, this.words[b + 1] = E >>> 26 - S & 67108863, S += 24, S >= 26 && (S -= 26, b++);\n      else if (a === \"le\")\n        for (c = 0, b = 0; c < p.length; c += 3)\n          E = p[c] | p[c + 1] << 8 | p[c + 2] << 16, this.words[b] |= E << S & 67108863, this.words[b + 1] = E >>> 26 - S & 67108863, S += 24, S >= 26 && (S -= 26, b++);\n      return this.strip();\n    };\n    function f(O, p) {\n      var l = O.charCodeAt(p);\n      return l >= 65 && l <= 70 ? l - 55 : l >= 97 && l <= 102 ? l - 87 : l - 48 & 15;\n    }\n    function h(O, p, l) {\n      var a = f(O, l);\n      return l - 1 >= p && (a |= f(O, l - 1) << 4), a;\n    }\n    s.prototype._parseHex = function(p, l, a) {\n      this.length = Math.ceil((p.length - l) / 6), this.words = new Array(this.length);\n      for (var c = 0; c < this.length; c++)\n        this.words[c] = 0;\n      var b = 0, E = 0, S;\n      if (a === \"be\")\n        for (c = p.length - 1; c >= l; c -= 2)\n          S = h(p, l, c) << b, this.words[E] |= S & 67108863, b >= 18 ? (b -= 18, E += 1, this.words[E] |= S >>> 26) : b += 8;\n      else {\n        var x = p.length - l;\n        for (c = x % 2 === 0 ? l + 1 : l; c < p.length; c += 2)\n          S = h(p, l, c) << b, this.words[E] |= S & 67108863, b >= 18 ? (b -= 18, E += 1, this.words[E] |= S >>> 26) : b += 8;\n      }\n      this.strip();\n    };\n    function d(O, p, l, a) {\n      for (var c = 0, b = Math.min(O.length, l), E = p; E < b; E++) {\n        var S = O.charCodeAt(E) - 48;\n        c *= a, S >= 49 ? c += S - 49 + 10 : S >= 17 ? c += S - 17 + 10 : c += S;\n      }\n      return c;\n    }\n    s.prototype._parseBase = function(p, l, a) {\n      this.words = [0], this.length = 1;\n      for (var c = 0, b = 1; b <= 67108863; b *= l)\n        c++;\n      c--, b = b / l | 0;\n      for (var E = p.length - a, S = E % c, x = Math.min(E, E - S) + a, u = 0, m = a; m < x; m += c)\n        u = d(p, m, m + c, l), this.imuln(b), this.words[0] + u < 67108864 ? this.words[0] += u : this._iaddn(u);\n      if (S !== 0) {\n        var g = 1;\n        for (u = d(p, m, p.length, l), m = 0; m < S; m++)\n          g *= l;\n        this.imuln(g), this.words[0] + u < 67108864 ? this.words[0] += u : this._iaddn(u);\n      }\n      this.strip();\n    }, s.prototype.copy = function(p) {\n      p.words = new Array(this.length);\n      for (var l = 0; l < this.length; l++)\n        p.words[l] = this.words[l];\n      p.length = this.length, p.negative = this.negative, p.red = this.red;\n    }, s.prototype.clone = function() {\n      var p = new s(null);\n      return this.copy(p), p;\n    }, s.prototype._expand = function(p) {\n      for (; this.length < p; )\n        this.words[this.length++] = 0;\n      return this;\n    }, s.prototype.strip = function() {\n      for (; this.length > 1 && this.words[this.length - 1] === 0; )\n        this.length--;\n      return this._normSign();\n    }, s.prototype._normSign = function() {\n      return this.length === 1 && this.words[0] === 0 && (this.negative = 0), this;\n    }, s.prototype.inspect = function() {\n      return (this.red ? \"<BN-R: \" : \"<BN: \") + this.toString(16) + \">\";\n    };\n    var v = [\n      \"\",\n      \"0\",\n      \"00\",\n      \"000\",\n      \"0000\",\n      \"00000\",\n      \"000000\",\n      \"0000000\",\n      \"00000000\",\n      \"000000000\",\n      \"0000000000\",\n      \"00000000000\",\n      \"000000000000\",\n      \"0000000000000\",\n      \"00000000000000\",\n      \"000000000000000\",\n      \"0000000000000000\",\n      \"00000000000000000\",\n      \"000000000000000000\",\n      \"0000000000000000000\",\n      \"00000000000000000000\",\n      \"000000000000000000000\",\n      \"0000000000000000000000\",\n      \"00000000000000000000000\",\n      \"000000000000000000000000\",\n      \"0000000000000000000000000\"\n    ], w = [\n      0,\n      0,\n      25,\n      16,\n      12,\n      11,\n      10,\n      9,\n      8,\n      8,\n      7,\n      7,\n      7,\n      7,\n      6,\n      6,\n      6,\n      6,\n      6,\n      6,\n      6,\n      5,\n      5,\n      5,\n      5,\n      5,\n      5,\n      5,\n      5,\n      5,\n      5,\n      5,\n      5,\n      5,\n      5,\n      5,\n      5\n    ], A = [\n      0,\n      0,\n      33554432,\n      43046721,\n      16777216,\n      48828125,\n      60466176,\n      40353607,\n      16777216,\n      43046721,\n      1e7,\n      19487171,\n      35831808,\n      62748517,\n      7529536,\n      11390625,\n      16777216,\n      24137569,\n      34012224,\n      47045881,\n      64e6,\n      4084101,\n      5153632,\n      6436343,\n      7962624,\n      9765625,\n      11881376,\n      14348907,\n      17210368,\n      20511149,\n      243e5,\n      28629151,\n      33554432,\n      39135393,\n      45435424,\n      52521875,\n      60466176\n    ];\n    s.prototype.toString = function(p, l) {\n      p = p || 10, l = l | 0 || 1;\n      var a;\n      if (p === 16 || p === \"hex\") {\n        a = \"\";\n        for (var c = 0, b = 0, E = 0; E < this.length; E++) {\n          var S = this.words[E], x = ((S << c | b) & 16777215).toString(16);\n          b = S >>> 24 - c & 16777215, c += 2, c >= 26 && (c -= 26, E--), b !== 0 || E !== this.length - 1 ? a = v[6 - x.length] + x + a : a = x + a;\n        }\n        for (b !== 0 && (a = b.toString(16) + a); a.length % l !== 0; )\n          a = \"0\" + a;\n        return this.negative !== 0 && (a = \"-\" + a), a;\n      }\n      if (p === (p | 0) && p >= 2 && p <= 36) {\n        var u = w[p], m = A[p];\n        a = \"\";\n        var g = this.clone();\n        for (g.negative = 0; !g.isZero(); ) {\n          var P = g.modn(m).toString(p);\n          g = g.idivn(m), g.isZero() ? a = P + a : a = v[u - P.length] + P + a;\n        }\n        for (this.isZero() && (a = \"0\" + a); a.length % l !== 0; )\n          a = \"0\" + a;\n        return this.negative !== 0 && (a = \"-\" + a), a;\n      }\n      i(!1, \"Base should be between 2 and 36\");\n    }, s.prototype.toNumber = function() {\n      var p = this.words[0];\n      return this.length === 2 ? p += this.words[1] * 67108864 : this.length === 3 && this.words[2] === 1 ? p += 4503599627370496 + this.words[1] * 67108864 : this.length > 2 && i(!1, \"Number can only safely store up to 53 bits\"), this.negative !== 0 ? -p : p;\n    }, s.prototype.toJSON = function() {\n      return this.toString(16);\n    }, s.prototype.toBuffer = function(p, l) {\n      return i(typeof o < \"u\"), this.toArrayLike(o, p, l);\n    }, s.prototype.toArray = function(p, l) {\n      return this.toArrayLike(Array, p, l);\n    }, s.prototype.toArrayLike = function(p, l, a) {\n      var c = this.byteLength(), b = a || Math.max(1, c);\n      i(c <= b, \"byte array longer than desired length\"), i(b > 0, \"Requested array length <= 0\"), this.strip();\n      var E = l === \"le\", S = new p(b), x, u, m = this.clone();\n      if (E) {\n        for (u = 0; !m.isZero(); u++)\n          x = m.andln(255), m.iushrn(8), S[u] = x;\n        for (; u < b; u++)\n          S[u] = 0;\n      } else {\n        for (u = 0; u < b - c; u++)\n          S[u] = 0;\n        for (u = 0; !m.isZero(); u++)\n          x = m.andln(255), m.iushrn(8), S[b - u - 1] = x;\n      }\n      return S;\n    }, Math.clz32 ? s.prototype._countBits = function(p) {\n      return 32 - Math.clz32(p);\n    } : s.prototype._countBits = function(p) {\n      var l = p, a = 0;\n      return l >= 4096 && (a += 13, l >>>= 13), l >= 64 && (a += 7, l >>>= 7), l >= 8 && (a += 4, l >>>= 4), l >= 2 && (a += 2, l >>>= 2), a + l;\n    }, s.prototype._zeroBits = function(p) {\n      if (p === 0)\n        return 26;\n      var l = p, a = 0;\n      return l & 8191 || (a += 13, l >>>= 13), l & 127 || (a += 7, l >>>= 7), l & 15 || (a += 4, l >>>= 4), l & 3 || (a += 2, l >>>= 2), l & 1 || a++, a;\n    }, s.prototype.bitLength = function() {\n      var p = this.words[this.length - 1], l = this._countBits(p);\n      return (this.length - 1) * 26 + l;\n    };\n    function I(O) {\n      for (var p = new Array(O.bitLength()), l = 0; l < p.length; l++) {\n        var a = l / 26 | 0, c = l % 26;\n        p[l] = (O.words[a] & 1 << c) >>> c;\n      }\n      return p;\n    }\n    s.prototype.zeroBits = function() {\n      if (this.isZero())\n        return 0;\n      for (var p = 0, l = 0; l < this.length; l++) {\n        var a = this._zeroBits(this.words[l]);\n        if (p += a, a !== 26)\n          break;\n      }\n      return p;\n    }, s.prototype.byteLength = function() {\n      return Math.ceil(this.bitLength() / 8);\n    }, s.prototype.toTwos = function(p) {\n      return this.negative !== 0 ? this.abs().inotn(p).iaddn(1) : this.clone();\n    }, s.prototype.fromTwos = function(p) {\n      return this.testn(p - 1) ? this.notn(p).iaddn(1).ineg() : this.clone();\n    }, s.prototype.isNeg = function() {\n      return this.negative !== 0;\n    }, s.prototype.neg = function() {\n      return this.clone().ineg();\n    }, s.prototype.ineg = function() {\n      return this.isZero() || (this.negative ^= 1), this;\n    }, s.prototype.iuor = function(p) {\n      for (; this.length < p.length; )\n        this.words[this.length++] = 0;\n      for (var l = 0; l < p.length; l++)\n        this.words[l] = this.words[l] | p.words[l];\n      return this.strip();\n    }, s.prototype.ior = function(p) {\n      return i((this.negative | p.negative) === 0), this.iuor(p);\n    }, s.prototype.or = function(p) {\n      return this.length > p.length ? this.clone().ior(p) : p.clone().ior(this);\n    }, s.prototype.uor = function(p) {\n      return this.length > p.length ? this.clone().iuor(p) : p.clone().iuor(this);\n    }, s.prototype.iuand = function(p) {\n      var l;\n      this.length > p.length ? l = p : l = this;\n      for (var a = 0; a < l.length; a++)\n        this.words[a] = this.words[a] & p.words[a];\n      return this.length = l.length, this.strip();\n    }, s.prototype.iand = function(p) {\n      return i((this.negative | p.negative) === 0), this.iuand(p);\n    }, s.prototype.and = function(p) {\n      return this.length > p.length ? this.clone().iand(p) : p.clone().iand(this);\n    }, s.prototype.uand = function(p) {\n      return this.length > p.length ? this.clone().iuand(p) : p.clone().iuand(this);\n    }, s.prototype.iuxor = function(p) {\n      var l, a;\n      this.length > p.length ? (l = this, a = p) : (l = p, a = this);\n      for (var c = 0; c < a.length; c++)\n        this.words[c] = l.words[c] ^ a.words[c];\n      if (this !== l)\n        for (; c < l.length; c++)\n          this.words[c] = l.words[c];\n      return this.length = l.length, this.strip();\n    }, s.prototype.ixor = function(p) {\n      return i((this.negative | p.negative) === 0), this.iuxor(p);\n    }, s.prototype.xor = function(p) {\n      return this.length > p.length ? this.clone().ixor(p) : p.clone().ixor(this);\n    }, s.prototype.uxor = function(p) {\n      return this.length > p.length ? this.clone().iuxor(p) : p.clone().iuxor(this);\n    }, s.prototype.inotn = function(p) {\n      i(typeof p == \"number\" && p >= 0);\n      var l = Math.ceil(p / 26) | 0, a = p % 26;\n      this._expand(l), a > 0 && l--;\n      for (var c = 0; c < l; c++)\n        this.words[c] = ~this.words[c] & 67108863;\n      return a > 0 && (this.words[c] = ~this.words[c] & 67108863 >> 26 - a), this.strip();\n    }, s.prototype.notn = function(p) {\n      return this.clone().inotn(p);\n    }, s.prototype.setn = function(p, l) {\n      i(typeof p == \"number\" && p >= 0);\n      var a = p / 26 | 0, c = p % 26;\n      return this._expand(a + 1), l ? this.words[a] = this.words[a] | 1 << c : this.words[a] = this.words[a] & ~(1 << c), this.strip();\n    }, s.prototype.iadd = function(p) {\n      var l;\n      if (this.negative !== 0 && p.negative === 0)\n        return this.negative = 0, l = this.isub(p), this.negative ^= 1, this._normSign();\n      if (this.negative === 0 && p.negative !== 0)\n        return p.negative = 0, l = this.isub(p), p.negative = 1, l._normSign();\n      var a, c;\n      this.length > p.length ? (a = this, c = p) : (a = p, c = this);\n      for (var b = 0, E = 0; E < c.length; E++)\n        l = (a.words[E] | 0) + (c.words[E] | 0) + b, this.words[E] = l & 67108863, b = l >>> 26;\n      for (; b !== 0 && E < a.length; E++)\n        l = (a.words[E] | 0) + b, this.words[E] = l & 67108863, b = l >>> 26;\n      if (this.length = a.length, b !== 0)\n        this.words[this.length] = b, this.length++;\n      else if (a !== this)\n        for (; E < a.length; E++)\n          this.words[E] = a.words[E];\n      return this;\n    }, s.prototype.add = function(p) {\n      var l;\n      return p.negative !== 0 && this.negative === 0 ? (p.negative = 0, l = this.sub(p), p.negative ^= 1, l) : p.negative === 0 && this.negative !== 0 ? (this.negative = 0, l = p.sub(this), this.negative = 1, l) : this.length > p.length ? this.clone().iadd(p) : p.clone().iadd(this);\n    }, s.prototype.isub = function(p) {\n      if (p.negative !== 0) {\n        p.negative = 0;\n        var l = this.iadd(p);\n        return p.negative = 1, l._normSign();\n      } else if (this.negative !== 0)\n        return this.negative = 0, this.iadd(p), this.negative = 1, this._normSign();\n      var a = this.cmp(p);\n      if (a === 0)\n        return this.negative = 0, this.length = 1, this.words[0] = 0, this;\n      var c, b;\n      a > 0 ? (c = this, b = p) : (c = p, b = this);\n      for (var E = 0, S = 0; S < b.length; S++)\n        l = (c.words[S] | 0) - (b.words[S] | 0) + E, E = l >> 26, this.words[S] = l & 67108863;\n      for (; E !== 0 && S < c.length; S++)\n        l = (c.words[S] | 0) + E, E = l >> 26, this.words[S] = l & 67108863;\n      if (E === 0 && S < c.length && c !== this)\n        for (; S < c.length; S++)\n          this.words[S] = c.words[S];\n      return this.length = Math.max(this.length, S), c !== this && (this.negative = 1), this.strip();\n    }, s.prototype.sub = function(p) {\n      return this.clone().isub(p);\n    };\n    function D(O, p, l) {\n      l.negative = p.negative ^ O.negative;\n      var a = O.length + p.length | 0;\n      l.length = a, a = a - 1 | 0;\n      var c = O.words[0] | 0, b = p.words[0] | 0, E = c * b, S = E & 67108863, x = E / 67108864 | 0;\n      l.words[0] = S;\n      for (var u = 1; u < a; u++) {\n        for (var m = x >>> 26, g = x & 67108863, P = Math.min(u, p.length - 1), G = Math.max(0, u - O.length + 1); G <= P; G++) {\n          var M = u - G | 0;\n          c = O.words[M] | 0, b = p.words[G] | 0, E = c * b + g, m += E / 67108864 | 0, g = E & 67108863;\n        }\n        l.words[u] = g | 0, x = m | 0;\n      }\n      return x !== 0 ? l.words[u] = x | 0 : l.length--, l.strip();\n    }\n    var N = function(p, l, a) {\n      var c = p.words, b = l.words, E = a.words, S = 0, x, u, m, g = c[0] | 0, P = g & 8191, G = g >>> 13, M = c[1] | 0, H = M & 8191, C = M >>> 13, q = c[2] | 0, L = q & 8191, y = q >>> 13, F = c[3] | 0, W = F & 8191, Y = F >>> 13, X = c[4] | 0, ee = X & 8191, we = X >>> 13, Me = c[5] | 0, he = Me & 8191, Re = Me >>> 13, xe = c[6] | 0, se = xe & 8191, ge = xe >>> 13, le = c[7] | 0, ne = le & 8191, ue = le >>> 13, fe = c[8] | 0, te = fe & 8191, pe = fe >>> 13, _e = c[9] | 0, re = _e & 8191, Ee = _e >>> 13, Se = b[0] | 0, oe = Se & 8191, De = Se >>> 13, Ie = b[1] | 0, Pe = Ie & 8191, Ge = Ie >>> 13, Ye = b[2] | 0, Ae = Ye & 8191, Ze = Ye >>> 13, et = b[3] | 0, Ne = et & 8191, Ce = et >>> 13, Te = b[4] | 0, de = Te & 8191, $e = Te >>> 13, Le = b[5] | 0, ce = Le & 8191, Ue = Le >>> 13, ze = b[6] | 0, ye = ze & 8191, Be = ze >>> 13, ke = b[7] | 0, ve = ke & 8191, Fe = ke >>> 13, Oe = b[8] | 0, me = Oe & 8191, je = Oe >>> 13, rt = b[9] | 0, qe = rt & 8191, it = rt >>> 13;\n      a.negative = p.negative ^ l.negative, a.length = 19, x = Math.imul(P, oe), u = Math.imul(P, De), u = u + Math.imul(G, oe) | 0, m = Math.imul(G, De);\n      var Je = (S + x | 0) + ((u & 8191) << 13) | 0;\n      S = (m + (u >>> 13) | 0) + (Je >>> 26) | 0, Je &= 67108863, x = Math.imul(H, oe), u = Math.imul(H, De), u = u + Math.imul(C, oe) | 0, m = Math.imul(C, De), x = x + Math.imul(P, Pe) | 0, u = u + Math.imul(P, Ge) | 0, u = u + Math.imul(G, Pe) | 0, m = m + Math.imul(G, Ge) | 0;\n      var tt = (S + x | 0) + ((u & 8191) << 13) | 0;\n      S = (m + (u >>> 13) | 0) + (tt >>> 26) | 0, tt &= 67108863, x = Math.imul(L, oe), u = Math.imul(L, De), u = u + Math.imul(y, oe) | 0, m = Math.imul(y, De), x = x + Math.imul(H, Pe) | 0, u = u + Math.imul(H, Ge) | 0, u = u + Math.imul(C, Pe) | 0, m = m + Math.imul(C, Ge) | 0, x = x + Math.imul(P, Ae) | 0, u = u + Math.imul(P, Ze) | 0, u = u + Math.imul(G, Ae) | 0, m = m + Math.imul(G, Ze) | 0;\n      var jt = (S + x | 0) + ((u & 8191) << 13) | 0;\n      S = (m + (u >>> 13) | 0) + (jt >>> 26) | 0, jt &= 67108863, x = Math.imul(W, oe), u = Math.imul(W, De), u = u + Math.imul(Y, oe) | 0, m = Math.imul(Y, De), x = x + Math.imul(L, Pe) | 0, u = u + Math.imul(L, Ge) | 0, u = u + Math.imul(y, Pe) | 0, m = m + Math.imul(y, Ge) | 0, x = x + Math.imul(H, Ae) | 0, u = u + Math.imul(H, Ze) | 0, u = u + Math.imul(C, Ae) | 0, m = m + Math.imul(C, Ze) | 0, x = x + Math.imul(P, Ne) | 0, u = u + Math.imul(P, Ce) | 0, u = u + Math.imul(G, Ne) | 0, m = m + Math.imul(G, Ce) | 0;\n      var Kt = (S + x | 0) + ((u & 8191) << 13) | 0;\n      S = (m + (u >>> 13) | 0) + (Kt >>> 26) | 0, Kt &= 67108863, x = Math.imul(ee, oe), u = Math.imul(ee, De), u = u + Math.imul(we, oe) | 0, m = Math.imul(we, De), x = x + Math.imul(W, Pe) | 0, u = u + Math.imul(W, Ge) | 0, u = u + Math.imul(Y, Pe) | 0, m = m + Math.imul(Y, Ge) | 0, x = x + Math.imul(L, Ae) | 0, u = u + Math.imul(L, Ze) | 0, u = u + Math.imul(y, Ae) | 0, m = m + Math.imul(y, Ze) | 0, x = x + Math.imul(H, Ne) | 0, u = u + Math.imul(H, Ce) | 0, u = u + Math.imul(C, Ne) | 0, m = m + Math.imul(C, Ce) | 0, x = x + Math.imul(P, de) | 0, u = u + Math.imul(P, $e) | 0, u = u + Math.imul(G, de) | 0, m = m + Math.imul(G, $e) | 0;\n      var Ht = (S + x | 0) + ((u & 8191) << 13) | 0;\n      S = (m + (u >>> 13) | 0) + (Ht >>> 26) | 0, Ht &= 67108863, x = Math.imul(he, oe), u = Math.imul(he, De), u = u + Math.imul(Re, oe) | 0, m = Math.imul(Re, De), x = x + Math.imul(ee, Pe) | 0, u = u + Math.imul(ee, Ge) | 0, u = u + Math.imul(we, Pe) | 0, m = m + Math.imul(we, Ge) | 0, x = x + Math.imul(W, Ae) | 0, u = u + Math.imul(W, Ze) | 0, u = u + Math.imul(Y, Ae) | 0, m = m + Math.imul(Y, Ze) | 0, x = x + Math.imul(L, Ne) | 0, u = u + Math.imul(L, Ce) | 0, u = u + Math.imul(y, Ne) | 0, m = m + Math.imul(y, Ce) | 0, x = x + Math.imul(H, de) | 0, u = u + Math.imul(H, $e) | 0, u = u + Math.imul(C, de) | 0, m = m + Math.imul(C, $e) | 0, x = x + Math.imul(P, ce) | 0, u = u + Math.imul(P, Ue) | 0, u = u + Math.imul(G, ce) | 0, m = m + Math.imul(G, Ue) | 0;\n      var Vt = (S + x | 0) + ((u & 8191) << 13) | 0;\n      S = (m + (u >>> 13) | 0) + (Vt >>> 26) | 0, Vt &= 67108863, x = Math.imul(se, oe), u = Math.imul(se, De), u = u + Math.imul(ge, oe) | 0, m = Math.imul(ge, De), x = x + Math.imul(he, Pe) | 0, u = u + Math.imul(he, Ge) | 0, u = u + Math.imul(Re, Pe) | 0, m = m + Math.imul(Re, Ge) | 0, x = x + Math.imul(ee, Ae) | 0, u = u + Math.imul(ee, Ze) | 0, u = u + Math.imul(we, Ae) | 0, m = m + Math.imul(we, Ze) | 0, x = x + Math.imul(W, Ne) | 0, u = u + Math.imul(W, Ce) | 0, u = u + Math.imul(Y, Ne) | 0, m = m + Math.imul(Y, Ce) | 0, x = x + Math.imul(L, de) | 0, u = u + Math.imul(L, $e) | 0, u = u + Math.imul(y, de) | 0, m = m + Math.imul(y, $e) | 0, x = x + Math.imul(H, ce) | 0, u = u + Math.imul(H, Ue) | 0, u = u + Math.imul(C, ce) | 0, m = m + Math.imul(C, Ue) | 0, x = x + Math.imul(P, ye) | 0, u = u + Math.imul(P, Be) | 0, u = u + Math.imul(G, ye) | 0, m = m + Math.imul(G, Be) | 0;\n      var gt = (S + x | 0) + ((u & 8191) << 13) | 0;\n      S = (m + (u >>> 13) | 0) + (gt >>> 26) | 0, gt &= 67108863, x = Math.imul(ne, oe), u = Math.imul(ne, De), u = u + Math.imul(ue, oe) | 0, m = Math.imul(ue, De), x = x + Math.imul(se, Pe) | 0, u = u + Math.imul(se, Ge) | 0, u = u + Math.imul(ge, Pe) | 0, m = m + Math.imul(ge, Ge) | 0, x = x + Math.imul(he, Ae) | 0, u = u + Math.imul(he, Ze) | 0, u = u + Math.imul(Re, Ae) | 0, m = m + Math.imul(Re, Ze) | 0, x = x + Math.imul(ee, Ne) | 0, u = u + Math.imul(ee, Ce) | 0, u = u + Math.imul(we, Ne) | 0, m = m + Math.imul(we, Ce) | 0, x = x + Math.imul(W, de) | 0, u = u + Math.imul(W, $e) | 0, u = u + Math.imul(Y, de) | 0, m = m + Math.imul(Y, $e) | 0, x = x + Math.imul(L, ce) | 0, u = u + Math.imul(L, Ue) | 0, u = u + Math.imul(y, ce) | 0, m = m + Math.imul(y, Ue) | 0, x = x + Math.imul(H, ye) | 0, u = u + Math.imul(H, Be) | 0, u = u + Math.imul(C, ye) | 0, m = m + Math.imul(C, Be) | 0, x = x + Math.imul(P, ve) | 0, u = u + Math.imul(P, Fe) | 0, u = u + Math.imul(G, ve) | 0, m = m + Math.imul(G, Fe) | 0;\n      var Vr = (S + x | 0) + ((u & 8191) << 13) | 0;\n      S = (m + (u >>> 13) | 0) + (Vr >>> 26) | 0, Vr &= 67108863, x = Math.imul(te, oe), u = Math.imul(te, De), u = u + Math.imul(pe, oe) | 0, m = Math.imul(pe, De), x = x + Math.imul(ne, Pe) | 0, u = u + Math.imul(ne, Ge) | 0, u = u + Math.imul(ue, Pe) | 0, m = m + Math.imul(ue, Ge) | 0, x = x + Math.imul(se, Ae) | 0, u = u + Math.imul(se, Ze) | 0, u = u + Math.imul(ge, Ae) | 0, m = m + Math.imul(ge, Ze) | 0, x = x + Math.imul(he, Ne) | 0, u = u + Math.imul(he, Ce) | 0, u = u + Math.imul(Re, Ne) | 0, m = m + Math.imul(Re, Ce) | 0, x = x + Math.imul(ee, de) | 0, u = u + Math.imul(ee, $e) | 0, u = u + Math.imul(we, de) | 0, m = m + Math.imul(we, $e) | 0, x = x + Math.imul(W, ce) | 0, u = u + Math.imul(W, Ue) | 0, u = u + Math.imul(Y, ce) | 0, m = m + Math.imul(Y, Ue) | 0, x = x + Math.imul(L, ye) | 0, u = u + Math.imul(L, Be) | 0, u = u + Math.imul(y, ye) | 0, m = m + Math.imul(y, Be) | 0, x = x + Math.imul(H, ve) | 0, u = u + Math.imul(H, Fe) | 0, u = u + Math.imul(C, ve) | 0, m = m + Math.imul(C, Fe) | 0, x = x + Math.imul(P, me) | 0, u = u + Math.imul(P, je) | 0, u = u + Math.imul(G, me) | 0, m = m + Math.imul(G, je) | 0;\n      var Wr = (S + x | 0) + ((u & 8191) << 13) | 0;\n      S = (m + (u >>> 13) | 0) + (Wr >>> 26) | 0, Wr &= 67108863, x = Math.imul(re, oe), u = Math.imul(re, De), u = u + Math.imul(Ee, oe) | 0, m = Math.imul(Ee, De), x = x + Math.imul(te, Pe) | 0, u = u + Math.imul(te, Ge) | 0, u = u + Math.imul(pe, Pe) | 0, m = m + Math.imul(pe, Ge) | 0, x = x + Math.imul(ne, Ae) | 0, u = u + Math.imul(ne, Ze) | 0, u = u + Math.imul(ue, Ae) | 0, m = m + Math.imul(ue, Ze) | 0, x = x + Math.imul(se, Ne) | 0, u = u + Math.imul(se, Ce) | 0, u = u + Math.imul(ge, Ne) | 0, m = m + Math.imul(ge, Ce) | 0, x = x + Math.imul(he, de) | 0, u = u + Math.imul(he, $e) | 0, u = u + Math.imul(Re, de) | 0, m = m + Math.imul(Re, $e) | 0, x = x + Math.imul(ee, ce) | 0, u = u + Math.imul(ee, Ue) | 0, u = u + Math.imul(we, ce) | 0, m = m + Math.imul(we, Ue) | 0, x = x + Math.imul(W, ye) | 0, u = u + Math.imul(W, Be) | 0, u = u + Math.imul(Y, ye) | 0, m = m + Math.imul(Y, Be) | 0, x = x + Math.imul(L, ve) | 0, u = u + Math.imul(L, Fe) | 0, u = u + Math.imul(y, ve) | 0, m = m + Math.imul(y, Fe) | 0, x = x + Math.imul(H, me) | 0, u = u + Math.imul(H, je) | 0, u = u + Math.imul(C, me) | 0, m = m + Math.imul(C, je) | 0, x = x + Math.imul(P, qe) | 0, u = u + Math.imul(P, it) | 0, u = u + Math.imul(G, qe) | 0, m = m + Math.imul(G, it) | 0;\n      var Gr = (S + x | 0) + ((u & 8191) << 13) | 0;\n      S = (m + (u >>> 13) | 0) + (Gr >>> 26) | 0, Gr &= 67108863, x = Math.imul(re, Pe), u = Math.imul(re, Ge), u = u + Math.imul(Ee, Pe) | 0, m = Math.imul(Ee, Ge), x = x + Math.imul(te, Ae) | 0, u = u + Math.imul(te, Ze) | 0, u = u + Math.imul(pe, Ae) | 0, m = m + Math.imul(pe, Ze) | 0, x = x + Math.imul(ne, Ne) | 0, u = u + Math.imul(ne, Ce) | 0, u = u + Math.imul(ue, Ne) | 0, m = m + Math.imul(ue, Ce) | 0, x = x + Math.imul(se, de) | 0, u = u + Math.imul(se, $e) | 0, u = u + Math.imul(ge, de) | 0, m = m + Math.imul(ge, $e) | 0, x = x + Math.imul(he, ce) | 0, u = u + Math.imul(he, Ue) | 0, u = u + Math.imul(Re, ce) | 0, m = m + Math.imul(Re, Ue) | 0, x = x + Math.imul(ee, ye) | 0, u = u + Math.imul(ee, Be) | 0, u = u + Math.imul(we, ye) | 0, m = m + Math.imul(we, Be) | 0, x = x + Math.imul(W, ve) | 0, u = u + Math.imul(W, Fe) | 0, u = u + Math.imul(Y, ve) | 0, m = m + Math.imul(Y, Fe) | 0, x = x + Math.imul(L, me) | 0, u = u + Math.imul(L, je) | 0, u = u + Math.imul(y, me) | 0, m = m + Math.imul(y, je) | 0, x = x + Math.imul(H, qe) | 0, u = u + Math.imul(H, it) | 0, u = u + Math.imul(C, qe) | 0, m = m + Math.imul(C, it) | 0;\n      var Jr = (S + x | 0) + ((u & 8191) << 13) | 0;\n      S = (m + (u >>> 13) | 0) + (Jr >>> 26) | 0, Jr &= 67108863, x = Math.imul(re, Ae), u = Math.imul(re, Ze), u = u + Math.imul(Ee, Ae) | 0, m = Math.imul(Ee, Ze), x = x + Math.imul(te, Ne) | 0, u = u + Math.imul(te, Ce) | 0, u = u + Math.imul(pe, Ne) | 0, m = m + Math.imul(pe, Ce) | 0, x = x + Math.imul(ne, de) | 0, u = u + Math.imul(ne, $e) | 0, u = u + Math.imul(ue, de) | 0, m = m + Math.imul(ue, $e) | 0, x = x + Math.imul(se, ce) | 0, u = u + Math.imul(se, Ue) | 0, u = u + Math.imul(ge, ce) | 0, m = m + Math.imul(ge, Ue) | 0, x = x + Math.imul(he, ye) | 0, u = u + Math.imul(he, Be) | 0, u = u + Math.imul(Re, ye) | 0, m = m + Math.imul(Re, Be) | 0, x = x + Math.imul(ee, ve) | 0, u = u + Math.imul(ee, Fe) | 0, u = u + Math.imul(we, ve) | 0, m = m + Math.imul(we, Fe) | 0, x = x + Math.imul(W, me) | 0, u = u + Math.imul(W, je) | 0, u = u + Math.imul(Y, me) | 0, m = m + Math.imul(Y, je) | 0, x = x + Math.imul(L, qe) | 0, u = u + Math.imul(L, it) | 0, u = u + Math.imul(y, qe) | 0, m = m + Math.imul(y, it) | 0;\n      var Yr = (S + x | 0) + ((u & 8191) << 13) | 0;\n      S = (m + (u >>> 13) | 0) + (Yr >>> 26) | 0, Yr &= 67108863, x = Math.imul(re, Ne), u = Math.imul(re, Ce), u = u + Math.imul(Ee, Ne) | 0, m = Math.imul(Ee, Ce), x = x + Math.imul(te, de) | 0, u = u + Math.imul(te, $e) | 0, u = u + Math.imul(pe, de) | 0, m = m + Math.imul(pe, $e) | 0, x = x + Math.imul(ne, ce) | 0, u = u + Math.imul(ne, Ue) | 0, u = u + Math.imul(ue, ce) | 0, m = m + Math.imul(ue, Ue) | 0, x = x + Math.imul(se, ye) | 0, u = u + Math.imul(se, Be) | 0, u = u + Math.imul(ge, ye) | 0, m = m + Math.imul(ge, Be) | 0, x = x + Math.imul(he, ve) | 0, u = u + Math.imul(he, Fe) | 0, u = u + Math.imul(Re, ve) | 0, m = m + Math.imul(Re, Fe) | 0, x = x + Math.imul(ee, me) | 0, u = u + Math.imul(ee, je) | 0, u = u + Math.imul(we, me) | 0, m = m + Math.imul(we, je) | 0, x = x + Math.imul(W, qe) | 0, u = u + Math.imul(W, it) | 0, u = u + Math.imul(Y, qe) | 0, m = m + Math.imul(Y, it) | 0;\n      var or = (S + x | 0) + ((u & 8191) << 13) | 0;\n      S = (m + (u >>> 13) | 0) + (or >>> 26) | 0, or &= 67108863, x = Math.imul(re, de), u = Math.imul(re, $e), u = u + Math.imul(Ee, de) | 0, m = Math.imul(Ee, $e), x = x + Math.imul(te, ce) | 0, u = u + Math.imul(te, Ue) | 0, u = u + Math.imul(pe, ce) | 0, m = m + Math.imul(pe, Ue) | 0, x = x + Math.imul(ne, ye) | 0, u = u + Math.imul(ne, Be) | 0, u = u + Math.imul(ue, ye) | 0, m = m + Math.imul(ue, Be) | 0, x = x + Math.imul(se, ve) | 0, u = u + Math.imul(se, Fe) | 0, u = u + Math.imul(ge, ve) | 0, m = m + Math.imul(ge, Fe) | 0, x = x + Math.imul(he, me) | 0, u = u + Math.imul(he, je) | 0, u = u + Math.imul(Re, me) | 0, m = m + Math.imul(Re, je) | 0, x = x + Math.imul(ee, qe) | 0, u = u + Math.imul(ee, it) | 0, u = u + Math.imul(we, qe) | 0, m = m + Math.imul(we, it) | 0;\n      var Xr = (S + x | 0) + ((u & 8191) << 13) | 0;\n      S = (m + (u >>> 13) | 0) + (Xr >>> 26) | 0, Xr &= 67108863, x = Math.imul(re, ce), u = Math.imul(re, Ue), u = u + Math.imul(Ee, ce) | 0, m = Math.imul(Ee, Ue), x = x + Math.imul(te, ye) | 0, u = u + Math.imul(te, Be) | 0, u = u + Math.imul(pe, ye) | 0, m = m + Math.imul(pe, Be) | 0, x = x + Math.imul(ne, ve) | 0, u = u + Math.imul(ne, Fe) | 0, u = u + Math.imul(ue, ve) | 0, m = m + Math.imul(ue, Fe) | 0, x = x + Math.imul(se, me) | 0, u = u + Math.imul(se, je) | 0, u = u + Math.imul(ge, me) | 0, m = m + Math.imul(ge, je) | 0, x = x + Math.imul(he, qe) | 0, u = u + Math.imul(he, it) | 0, u = u + Math.imul(Re, qe) | 0, m = m + Math.imul(Re, it) | 0;\n      var Zr = (S + x | 0) + ((u & 8191) << 13) | 0;\n      S = (m + (u >>> 13) | 0) + (Zr >>> 26) | 0, Zr &= 67108863, x = Math.imul(re, ye), u = Math.imul(re, Be), u = u + Math.imul(Ee, ye) | 0, m = Math.imul(Ee, Be), x = x + Math.imul(te, ve) | 0, u = u + Math.imul(te, Fe) | 0, u = u + Math.imul(pe, ve) | 0, m = m + Math.imul(pe, Fe) | 0, x = x + Math.imul(ne, me) | 0, u = u + Math.imul(ne, je) | 0, u = u + Math.imul(ue, me) | 0, m = m + Math.imul(ue, je) | 0, x = x + Math.imul(se, qe) | 0, u = u + Math.imul(se, it) | 0, u = u + Math.imul(ge, qe) | 0, m = m + Math.imul(ge, it) | 0;\n      var $t = (S + x | 0) + ((u & 8191) << 13) | 0;\n      S = (m + (u >>> 13) | 0) + ($t >>> 26) | 0, $t &= 67108863, x = Math.imul(re, ve), u = Math.imul(re, Fe), u = u + Math.imul(Ee, ve) | 0, m = Math.imul(Ee, Fe), x = x + Math.imul(te, me) | 0, u = u + Math.imul(te, je) | 0, u = u + Math.imul(pe, me) | 0, m = m + Math.imul(pe, je) | 0, x = x + Math.imul(ne, qe) | 0, u = u + Math.imul(ne, it) | 0, u = u + Math.imul(ue, qe) | 0, m = m + Math.imul(ue, it) | 0;\n      var Qr = (S + x | 0) + ((u & 8191) << 13) | 0;\n      S = (m + (u >>> 13) | 0) + (Qr >>> 26) | 0, Qr &= 67108863, x = Math.imul(re, me), u = Math.imul(re, je), u = u + Math.imul(Ee, me) | 0, m = Math.imul(Ee, je), x = x + Math.imul(te, qe) | 0, u = u + Math.imul(te, it) | 0, u = u + Math.imul(pe, qe) | 0, m = m + Math.imul(pe, it) | 0;\n      var ei = (S + x | 0) + ((u & 8191) << 13) | 0;\n      S = (m + (u >>> 13) | 0) + (ei >>> 26) | 0, ei &= 67108863, x = Math.imul(re, qe), u = Math.imul(re, it), u = u + Math.imul(Ee, qe) | 0, m = Math.imul(Ee, it);\n      var ti = (S + x | 0) + ((u & 8191) << 13) | 0;\n      return S = (m + (u >>> 13) | 0) + (ti >>> 26) | 0, ti &= 67108863, E[0] = Je, E[1] = tt, E[2] = jt, E[3] = Kt, E[4] = Ht, E[5] = Vt, E[6] = gt, E[7] = Vr, E[8] = Wr, E[9] = Gr, E[10] = Jr, E[11] = Yr, E[12] = or, E[13] = Xr, E[14] = Zr, E[15] = $t, E[16] = Qr, E[17] = ei, E[18] = ti, S !== 0 && (E[19] = S, a.length++), a;\n    };\n    Math.imul || (N = D);\n    function k(O, p, l) {\n      l.negative = p.negative ^ O.negative, l.length = O.length + p.length;\n      for (var a = 0, c = 0, b = 0; b < l.length - 1; b++) {\n        var E = c;\n        c = 0;\n        for (var S = a & 67108863, x = Math.min(b, p.length - 1), u = Math.max(0, b - O.length + 1); u <= x; u++) {\n          var m = b - u, g = O.words[m] | 0, P = p.words[u] | 0, G = g * P, M = G & 67108863;\n          E = E + (G / 67108864 | 0) | 0, M = M + S | 0, S = M & 67108863, E = E + (M >>> 26) | 0, c += E >>> 26, E &= 67108863;\n        }\n        l.words[b] = S, a = E, E = c;\n      }\n      return a !== 0 ? l.words[b] = a : l.length--, l.strip();\n    }\n    function j(O, p, l) {\n      var a = new T();\n      return a.mulp(O, p, l);\n    }\n    s.prototype.mulTo = function(p, l) {\n      var a, c = this.length + p.length;\n      return this.length === 10 && p.length === 10 ? a = N(this, p, l) : c < 63 ? a = D(this, p, l) : c < 1024 ? a = k(this, p, l) : a = j(this, p, l), a;\n    };\n    function T(O, p) {\n      this.x = O, this.y = p;\n    }\n    T.prototype.makeRBT = function(p) {\n      for (var l = new Array(p), a = s.prototype._countBits(p) - 1, c = 0; c < p; c++)\n        l[c] = this.revBin(c, a, p);\n      return l;\n    }, T.prototype.revBin = function(p, l, a) {\n      if (p === 0 || p === a - 1)\n        return p;\n      for (var c = 0, b = 0; b < l; b++)\n        c |= (p & 1) << l - b - 1, p >>= 1;\n      return c;\n    }, T.prototype.permute = function(p, l, a, c, b, E) {\n      for (var S = 0; S < E; S++)\n        c[S] = l[p[S]], b[S] = a[p[S]];\n    }, T.prototype.transform = function(p, l, a, c, b, E) {\n      this.permute(E, p, l, a, c, b);\n      for (var S = 1; S < b; S <<= 1)\n        for (var x = S << 1, u = Math.cos(2 * Math.PI / x), m = Math.sin(2 * Math.PI / x), g = 0; g < b; g += x)\n          for (var P = u, G = m, M = 0; M < S; M++) {\n            var H = a[g + M], C = c[g + M], q = a[g + M + S], L = c[g + M + S], y = P * q - G * L;\n            L = P * L + G * q, q = y, a[g + M] = H + q, c[g + M] = C + L, a[g + M + S] = H - q, c[g + M + S] = C - L, M !== x && (y = u * P - m * G, G = u * G + m * P, P = y);\n          }\n    }, T.prototype.guessLen13b = function(p, l) {\n      var a = Math.max(l, p) | 1, c = a & 1, b = 0;\n      for (a = a / 2 | 0; a; a = a >>> 1)\n        b++;\n      return 1 << b + 1 + c;\n    }, T.prototype.conjugate = function(p, l, a) {\n      if (!(a <= 1))\n        for (var c = 0; c < a / 2; c++) {\n          var b = p[c];\n          p[c] = p[a - c - 1], p[a - c - 1] = b, b = l[c], l[c] = -l[a - c - 1], l[a - c - 1] = -b;\n        }\n    }, T.prototype.normalize13b = function(p, l) {\n      for (var a = 0, c = 0; c < l / 2; c++) {\n        var b = Math.round(p[2 * c + 1] / l) * 8192 + Math.round(p[2 * c] / l) + a;\n        p[c] = b & 67108863, b < 67108864 ? a = 0 : a = b / 67108864 | 0;\n      }\n      return p;\n    }, T.prototype.convert13b = function(p, l, a, c) {\n      for (var b = 0, E = 0; E < l; E++)\n        b = b + (p[E] | 0), a[2 * E] = b & 8191, b = b >>> 13, a[2 * E + 1] = b & 8191, b = b >>> 13;\n      for (E = 2 * l; E < c; ++E)\n        a[E] = 0;\n      i(b === 0), i((b & -8192) === 0);\n    }, T.prototype.stub = function(p) {\n      for (var l = new Array(p), a = 0; a < p; a++)\n        l[a] = 0;\n      return l;\n    }, T.prototype.mulp = function(p, l, a) {\n      var c = 2 * this.guessLen13b(p.length, l.length), b = this.makeRBT(c), E = this.stub(c), S = new Array(c), x = new Array(c), u = new Array(c), m = new Array(c), g = new Array(c), P = new Array(c), G = a.words;\n      G.length = c, this.convert13b(p.words, p.length, S, c), this.convert13b(l.words, l.length, m, c), this.transform(S, E, x, u, c, b), this.transform(m, E, g, P, c, b);\n      for (var M = 0; M < c; M++) {\n        var H = x[M] * g[M] - u[M] * P[M];\n        u[M] = x[M] * P[M] + u[M] * g[M], x[M] = H;\n      }\n      return this.conjugate(x, u, c), this.transform(x, u, G, E, c, b), this.conjugate(G, E, c), this.normalize13b(G, c), a.negative = p.negative ^ l.negative, a.length = p.length + l.length, a.strip();\n    }, s.prototype.mul = function(p) {\n      var l = new s(null);\n      return l.words = new Array(this.length + p.length), this.mulTo(p, l);\n    }, s.prototype.mulf = function(p) {\n      var l = new s(null);\n      return l.words = new Array(this.length + p.length), j(this, p, l);\n    }, s.prototype.imul = function(p) {\n      return this.clone().mulTo(p, this);\n    }, s.prototype.imuln = function(p) {\n      i(typeof p == \"number\"), i(p < 67108864);\n      for (var l = 0, a = 0; a < this.length; a++) {\n        var c = (this.words[a] | 0) * p, b = (c & 67108863) + (l & 67108863);\n        l >>= 26, l += c / 67108864 | 0, l += b >>> 26, this.words[a] = b & 67108863;\n      }\n      return l !== 0 && (this.words[a] = l, this.length++), this;\n    }, s.prototype.muln = function(p) {\n      return this.clone().imuln(p);\n    }, s.prototype.sqr = function() {\n      return this.mul(this);\n    }, s.prototype.isqr = function() {\n      return this.imul(this.clone());\n    }, s.prototype.pow = function(p) {\n      var l = I(p);\n      if (l.length === 0)\n        return new s(1);\n      for (var a = this, c = 0; c < l.length && l[c] === 0; c++, a = a.sqr())\n        ;\n      if (++c < l.length)\n        for (var b = a.sqr(); c < l.length; c++, b = b.sqr())\n          l[c] !== 0 && (a = a.mul(b));\n      return a;\n    }, s.prototype.iushln = function(p) {\n      i(typeof p == \"number\" && p >= 0);\n      var l = p % 26, a = (p - l) / 26, c = 67108863 >>> 26 - l << 26 - l, b;\n      if (l !== 0) {\n        var E = 0;\n        for (b = 0; b < this.length; b++) {\n          var S = this.words[b] & c, x = (this.words[b] | 0) - S << l;\n          this.words[b] = x | E, E = S >>> 26 - l;\n        }\n        E && (this.words[b] = E, this.length++);\n      }\n      if (a !== 0) {\n        for (b = this.length - 1; b >= 0; b--)\n          this.words[b + a] = this.words[b];\n        for (b = 0; b < a; b++)\n          this.words[b] = 0;\n        this.length += a;\n      }\n      return this.strip();\n    }, s.prototype.ishln = function(p) {\n      return i(this.negative === 0), this.iushln(p);\n    }, s.prototype.iushrn = function(p, l, a) {\n      i(typeof p == \"number\" && p >= 0);\n      var c;\n      l ? c = (l - l % 26) / 26 : c = 0;\n      var b = p % 26, E = Math.min((p - b) / 26, this.length), S = 67108863 ^ 67108863 >>> b << b, x = a;\n      if (c -= E, c = Math.max(0, c), x) {\n        for (var u = 0; u < E; u++)\n          x.words[u] = this.words[u];\n        x.length = E;\n      }\n      if (E !== 0)\n        if (this.length > E)\n          for (this.length -= E, u = 0; u < this.length; u++)\n            this.words[u] = this.words[u + E];\n        else\n          this.words[0] = 0, this.length = 1;\n      var m = 0;\n      for (u = this.length - 1; u >= 0 && (m !== 0 || u >= c); u--) {\n        var g = this.words[u] | 0;\n        this.words[u] = m << 26 - b | g >>> b, m = g & S;\n      }\n      return x && m !== 0 && (x.words[x.length++] = m), this.length === 0 && (this.words[0] = 0, this.length = 1), this.strip();\n    }, s.prototype.ishrn = function(p, l, a) {\n      return i(this.negative === 0), this.iushrn(p, l, a);\n    }, s.prototype.shln = function(p) {\n      return this.clone().ishln(p);\n    }, s.prototype.ushln = function(p) {\n      return this.clone().iushln(p);\n    }, s.prototype.shrn = function(p) {\n      return this.clone().ishrn(p);\n    }, s.prototype.ushrn = function(p) {\n      return this.clone().iushrn(p);\n    }, s.prototype.testn = function(p) {\n      i(typeof p == \"number\" && p >= 0);\n      var l = p % 26, a = (p - l) / 26, c = 1 << l;\n      if (this.length <= a)\n        return !1;\n      var b = this.words[a];\n      return !!(b & c);\n    }, s.prototype.imaskn = function(p) {\n      i(typeof p == \"number\" && p >= 0);\n      var l = p % 26, a = (p - l) / 26;\n      if (i(this.negative === 0, \"imaskn works only with positive numbers\"), this.length <= a)\n        return this;\n      if (l !== 0 && a++, this.length = Math.min(a, this.length), l !== 0) {\n        var c = 67108863 ^ 67108863 >>> l << l;\n        this.words[this.length - 1] &= c;\n      }\n      return this.strip();\n    }, s.prototype.maskn = function(p) {\n      return this.clone().imaskn(p);\n    }, s.prototype.iaddn = function(p) {\n      return i(typeof p == \"number\"), i(p < 67108864), p < 0 ? this.isubn(-p) : this.negative !== 0 ? this.length === 1 && (this.words[0] | 0) < p ? (this.words[0] = p - (this.words[0] | 0), this.negative = 0, this) : (this.negative = 0, this.isubn(p), this.negative = 1, this) : this._iaddn(p);\n    }, s.prototype._iaddn = function(p) {\n      this.words[0] += p;\n      for (var l = 0; l < this.length && this.words[l] >= 67108864; l++)\n        this.words[l] -= 67108864, l === this.length - 1 ? this.words[l + 1] = 1 : this.words[l + 1]++;\n      return this.length = Math.max(this.length, l + 1), this;\n    }, s.prototype.isubn = function(p) {\n      if (i(typeof p == \"number\"), i(p < 67108864), p < 0)\n        return this.iaddn(-p);\n      if (this.negative !== 0)\n        return this.negative = 0, this.iaddn(p), this.negative = 1, this;\n      if (this.words[0] -= p, this.length === 1 && this.words[0] < 0)\n        this.words[0] = -this.words[0], this.negative = 1;\n      else\n        for (var l = 0; l < this.length && this.words[l] < 0; l++)\n          this.words[l] += 67108864, this.words[l + 1] -= 1;\n      return this.strip();\n    }, s.prototype.addn = function(p) {\n      return this.clone().iaddn(p);\n    }, s.prototype.subn = function(p) {\n      return this.clone().isubn(p);\n    }, s.prototype.iabs = function() {\n      return this.negative = 0, this;\n    }, s.prototype.abs = function() {\n      return this.clone().iabs();\n    }, s.prototype._ishlnsubmul = function(p, l, a) {\n      var c = p.length + a, b;\n      this._expand(c);\n      var E, S = 0;\n      for (b = 0; b < p.length; b++) {\n        E = (this.words[b + a] | 0) + S;\n        var x = (p.words[b] | 0) * l;\n        E -= x & 67108863, S = (E >> 26) - (x / 67108864 | 0), this.words[b + a] = E & 67108863;\n      }\n      for (; b < this.length - a; b++)\n        E = (this.words[b + a] | 0) + S, S = E >> 26, this.words[b + a] = E & 67108863;\n      if (S === 0)\n        return this.strip();\n      for (i(S === -1), S = 0, b = 0; b < this.length; b++)\n        E = -(this.words[b] | 0) + S, S = E >> 26, this.words[b] = E & 67108863;\n      return this.negative = 1, this.strip();\n    }, s.prototype._wordDiv = function(p, l) {\n      var a = this.length - p.length, c = this.clone(), b = p, E = b.words[b.length - 1] | 0, S = this._countBits(E);\n      a = 26 - S, a !== 0 && (b = b.ushln(a), c.iushln(a), E = b.words[b.length - 1] | 0);\n      var x = c.length - b.length, u;\n      if (l !== \"mod\") {\n        u = new s(null), u.length = x + 1, u.words = new Array(u.length);\n        for (var m = 0; m < u.length; m++)\n          u.words[m] = 0;\n      }\n      var g = c.clone()._ishlnsubmul(b, 1, x);\n      g.negative === 0 && (c = g, u && (u.words[x] = 1));\n      for (var P = x - 1; P >= 0; P--) {\n        var G = (c.words[b.length + P] | 0) * 67108864 + (c.words[b.length + P - 1] | 0);\n        for (G = Math.min(G / E | 0, 67108863), c._ishlnsubmul(b, G, P); c.negative !== 0; )\n          G--, c.negative = 0, c._ishlnsubmul(b, 1, P), c.isZero() || (c.negative ^= 1);\n        u && (u.words[P] = G);\n      }\n      return u && u.strip(), c.strip(), l !== \"div\" && a !== 0 && c.iushrn(a), {\n        div: u || null,\n        mod: c\n      };\n    }, s.prototype.divmod = function(p, l, a) {\n      if (i(!p.isZero()), this.isZero())\n        return {\n          div: new s(0),\n          mod: new s(0)\n        };\n      var c, b, E;\n      return this.negative !== 0 && p.negative === 0 ? (E = this.neg().divmod(p, l), l !== \"mod\" && (c = E.div.neg()), l !== \"div\" && (b = E.mod.neg(), a && b.negative !== 0 && b.iadd(p)), {\n        div: c,\n        mod: b\n      }) : this.negative === 0 && p.negative !== 0 ? (E = this.divmod(p.neg(), l), l !== \"mod\" && (c = E.div.neg()), {\n        div: c,\n        mod: E.mod\n      }) : this.negative & p.negative ? (E = this.neg().divmod(p.neg(), l), l !== \"div\" && (b = E.mod.neg(), a && b.negative !== 0 && b.isub(p)), {\n        div: E.div,\n        mod: b\n      }) : p.length > this.length || this.cmp(p) < 0 ? {\n        div: new s(0),\n        mod: this\n      } : p.length === 1 ? l === \"div\" ? {\n        div: this.divn(p.words[0]),\n        mod: null\n      } : l === \"mod\" ? {\n        div: null,\n        mod: new s(this.modn(p.words[0]))\n      } : {\n        div: this.divn(p.words[0]),\n        mod: new s(this.modn(p.words[0]))\n      } : this._wordDiv(p, l);\n    }, s.prototype.div = function(p) {\n      return this.divmod(p, \"div\", !1).div;\n    }, s.prototype.mod = function(p) {\n      return this.divmod(p, \"mod\", !1).mod;\n    }, s.prototype.umod = function(p) {\n      return this.divmod(p, \"mod\", !0).mod;\n    }, s.prototype.divRound = function(p) {\n      var l = this.divmod(p);\n      if (l.mod.isZero())\n        return l.div;\n      var a = l.div.negative !== 0 ? l.mod.isub(p) : l.mod, c = p.ushrn(1), b = p.andln(1), E = a.cmp(c);\n      return E < 0 || b === 1 && E === 0 ? l.div : l.div.negative !== 0 ? l.div.isubn(1) : l.div.iaddn(1);\n    }, s.prototype.modn = function(p) {\n      i(p <= 67108863);\n      for (var l = (1 << 26) % p, a = 0, c = this.length - 1; c >= 0; c--)\n        a = (l * a + (this.words[c] | 0)) % p;\n      return a;\n    }, s.prototype.idivn = function(p) {\n      i(p <= 67108863);\n      for (var l = 0, a = this.length - 1; a >= 0; a--) {\n        var c = (this.words[a] | 0) + l * 67108864;\n        this.words[a] = c / p | 0, l = c % p;\n      }\n      return this.strip();\n    }, s.prototype.divn = function(p) {\n      return this.clone().idivn(p);\n    }, s.prototype.egcd = function(p) {\n      i(p.negative === 0), i(!p.isZero());\n      var l = this, a = p.clone();\n      l.negative !== 0 ? l = l.umod(p) : l = l.clone();\n      for (var c = new s(1), b = new s(0), E = new s(0), S = new s(1), x = 0; l.isEven() && a.isEven(); )\n        l.iushrn(1), a.iushrn(1), ++x;\n      for (var u = a.clone(), m = l.clone(); !l.isZero(); ) {\n        for (var g = 0, P = 1; !(l.words[0] & P) && g < 26; ++g, P <<= 1)\n          ;\n        if (g > 0)\n          for (l.iushrn(g); g-- > 0; )\n            (c.isOdd() || b.isOdd()) && (c.iadd(u), b.isub(m)), c.iushrn(1), b.iushrn(1);\n        for (var G = 0, M = 1; !(a.words[0] & M) && G < 26; ++G, M <<= 1)\n          ;\n        if (G > 0)\n          for (a.iushrn(G); G-- > 0; )\n            (E.isOdd() || S.isOdd()) && (E.iadd(u), S.isub(m)), E.iushrn(1), S.iushrn(1);\n        l.cmp(a) >= 0 ? (l.isub(a), c.isub(E), b.isub(S)) : (a.isub(l), E.isub(c), S.isub(b));\n      }\n      return {\n        a: E,\n        b: S,\n        gcd: a.iushln(x)\n      };\n    }, s.prototype._invmp = function(p) {\n      i(p.negative === 0), i(!p.isZero());\n      var l = this, a = p.clone();\n      l.negative !== 0 ? l = l.umod(p) : l = l.clone();\n      for (var c = new s(1), b = new s(0), E = a.clone(); l.cmpn(1) > 0 && a.cmpn(1) > 0; ) {\n        for (var S = 0, x = 1; !(l.words[0] & x) && S < 26; ++S, x <<= 1)\n          ;\n        if (S > 0)\n          for (l.iushrn(S); S-- > 0; )\n            c.isOdd() && c.iadd(E), c.iushrn(1);\n        for (var u = 0, m = 1; !(a.words[0] & m) && u < 26; ++u, m <<= 1)\n          ;\n        if (u > 0)\n          for (a.iushrn(u); u-- > 0; )\n            b.isOdd() && b.iadd(E), b.iushrn(1);\n        l.cmp(a) >= 0 ? (l.isub(a), c.isub(b)) : (a.isub(l), b.isub(c));\n      }\n      var g;\n      return l.cmpn(1) === 0 ? g = c : g = b, g.cmpn(0) < 0 && g.iadd(p), g;\n    }, s.prototype.gcd = function(p) {\n      if (this.isZero())\n        return p.abs();\n      if (p.isZero())\n        return this.abs();\n      var l = this.clone(), a = p.clone();\n      l.negative = 0, a.negative = 0;\n      for (var c = 0; l.isEven() && a.isEven(); c++)\n        l.iushrn(1), a.iushrn(1);\n      do {\n        for (; l.isEven(); )\n          l.iushrn(1);\n        for (; a.isEven(); )\n          a.iushrn(1);\n        var b = l.cmp(a);\n        if (b < 0) {\n          var E = l;\n          l = a, a = E;\n        } else if (b === 0 || a.cmpn(1) === 0)\n          break;\n        l.isub(a);\n      } while (!0);\n      return a.iushln(c);\n    }, s.prototype.invm = function(p) {\n      return this.egcd(p).a.umod(p);\n    }, s.prototype.isEven = function() {\n      return (this.words[0] & 1) === 0;\n    }, s.prototype.isOdd = function() {\n      return (this.words[0] & 1) === 1;\n    }, s.prototype.andln = function(p) {\n      return this.words[0] & p;\n    }, s.prototype.bincn = function(p) {\n      i(typeof p == \"number\");\n      var l = p % 26, a = (p - l) / 26, c = 1 << l;\n      if (this.length <= a)\n        return this._expand(a + 1), this.words[a] |= c, this;\n      for (var b = c, E = a; b !== 0 && E < this.length; E++) {\n        var S = this.words[E] | 0;\n        S += b, b = S >>> 26, S &= 67108863, this.words[E] = S;\n      }\n      return b !== 0 && (this.words[E] = b, this.length++), this;\n    }, s.prototype.isZero = function() {\n      return this.length === 1 && this.words[0] === 0;\n    }, s.prototype.cmpn = function(p) {\n      var l = p < 0;\n      if (this.negative !== 0 && !l)\n        return -1;\n      if (this.negative === 0 && l)\n        return 1;\n      this.strip();\n      var a;\n      if (this.length > 1)\n        a = 1;\n      else {\n        l && (p = -p), i(p <= 67108863, \"Number is too big\");\n        var c = this.words[0] | 0;\n        a = c === p ? 0 : c < p ? -1 : 1;\n      }\n      return this.negative !== 0 ? -a | 0 : a;\n    }, s.prototype.cmp = function(p) {\n      if (this.negative !== 0 && p.negative === 0)\n        return -1;\n      if (this.negative === 0 && p.negative !== 0)\n        return 1;\n      var l = this.ucmp(p);\n      return this.negative !== 0 ? -l | 0 : l;\n    }, s.prototype.ucmp = function(p) {\n      if (this.length > p.length)\n        return 1;\n      if (this.length < p.length)\n        return -1;\n      for (var l = 0, a = this.length - 1; a >= 0; a--) {\n        var c = this.words[a] | 0, b = p.words[a] | 0;\n        if (c !== b) {\n          c < b ? l = -1 : c > b && (l = 1);\n          break;\n        }\n      }\n      return l;\n    }, s.prototype.gtn = function(p) {\n      return this.cmpn(p) === 1;\n    }, s.prototype.gt = function(p) {\n      return this.cmp(p) === 1;\n    }, s.prototype.gten = function(p) {\n      return this.cmpn(p) >= 0;\n    }, s.prototype.gte = function(p) {\n      return this.cmp(p) >= 0;\n    }, s.prototype.ltn = function(p) {\n      return this.cmpn(p) === -1;\n    }, s.prototype.lt = function(p) {\n      return this.cmp(p) === -1;\n    }, s.prototype.lten = function(p) {\n      return this.cmpn(p) <= 0;\n    }, s.prototype.lte = function(p) {\n      return this.cmp(p) <= 0;\n    }, s.prototype.eqn = function(p) {\n      return this.cmpn(p) === 0;\n    }, s.prototype.eq = function(p) {\n      return this.cmp(p) === 0;\n    }, s.red = function(p) {\n      return new J(p);\n    }, s.prototype.toRed = function(p) {\n      return i(!this.red, \"Already a number in reduction context\"), i(this.negative === 0, \"red works only with positives\"), p.convertTo(this)._forceRed(p);\n    }, s.prototype.fromRed = function() {\n      return i(this.red, \"fromRed works only with numbers in reduction context\"), this.red.convertFrom(this);\n    }, s.prototype._forceRed = function(p) {\n      return this.red = p, this;\n    }, s.prototype.forceRed = function(p) {\n      return i(!this.red, \"Already a number in reduction context\"), this._forceRed(p);\n    }, s.prototype.redAdd = function(p) {\n      return i(this.red, \"redAdd works only with red numbers\"), this.red.add(this, p);\n    }, s.prototype.redIAdd = function(p) {\n      return i(this.red, \"redIAdd works only with red numbers\"), this.red.iadd(this, p);\n    }, s.prototype.redSub = function(p) {\n      return i(this.red, \"redSub works only with red numbers\"), this.red.sub(this, p);\n    }, s.prototype.redISub = function(p) {\n      return i(this.red, \"redISub works only with red numbers\"), this.red.isub(this, p);\n    }, s.prototype.redShl = function(p) {\n      return i(this.red, \"redShl works only with red numbers\"), this.red.shl(this, p);\n    }, s.prototype.redMul = function(p) {\n      return i(this.red, \"redMul works only with red numbers\"), this.red._verify2(this, p), this.red.mul(this, p);\n    }, s.prototype.redIMul = function(p) {\n      return i(this.red, \"redMul works only with red numbers\"), this.red._verify2(this, p), this.red.imul(this, p);\n    }, s.prototype.redSqr = function() {\n      return i(this.red, \"redSqr works only with red numbers\"), this.red._verify1(this), this.red.sqr(this);\n    }, s.prototype.redISqr = function() {\n      return i(this.red, \"redISqr works only with red numbers\"), this.red._verify1(this), this.red.isqr(this);\n    }, s.prototype.redSqrt = function() {\n      return i(this.red, \"redSqrt works only with red numbers\"), this.red._verify1(this), this.red.sqrt(this);\n    }, s.prototype.redInvm = function() {\n      return i(this.red, \"redInvm works only with red numbers\"), this.red._verify1(this), this.red.invm(this);\n    }, s.prototype.redNeg = function() {\n      return i(this.red, \"redNeg works only with red numbers\"), this.red._verify1(this), this.red.neg(this);\n    }, s.prototype.redPow = function(p) {\n      return i(this.red && !p.red, \"redPow(normalNum)\"), this.red._verify1(this), this.red.pow(this, p);\n    };\n    var K = {\n      k256: null,\n      p224: null,\n      p192: null,\n      p25519: null\n    };\n    function $(O, p) {\n      this.name = O, this.p = new s(p, 16), this.n = this.p.bitLength(), this.k = new s(1).iushln(this.n).isub(this.p), this.tmp = this._tmp();\n    }\n    $.prototype._tmp = function() {\n      var p = new s(null);\n      return p.words = new Array(Math.ceil(this.n / 13)), p;\n    }, $.prototype.ireduce = function(p) {\n      var l = p, a;\n      do\n        this.split(l, this.tmp), l = this.imulK(l), l = l.iadd(this.tmp), a = l.bitLength();\n      while (a > this.n);\n      var c = a < this.n ? -1 : l.ucmp(this.p);\n      return c === 0 ? (l.words[0] = 0, l.length = 1) : c > 0 ? l.isub(this.p) : l.strip !== void 0 ? l.strip() : l._strip(), l;\n    }, $.prototype.split = function(p, l) {\n      p.iushrn(this.n, 0, l);\n    }, $.prototype.imulK = function(p) {\n      return p.imul(this.k);\n    };\n    function z() {\n      $.call(\n        this,\n        \"k256\",\n        \"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f\"\n      );\n    }\n    n(z, $), z.prototype.split = function(p, l) {\n      for (var a = 4194303, c = Math.min(p.length, 9), b = 0; b < c; b++)\n        l.words[b] = p.words[b];\n      if (l.length = c, p.length <= 9) {\n        p.words[0] = 0, p.length = 1;\n        return;\n      }\n      var E = p.words[9];\n      for (l.words[l.length++] = E & a, b = 10; b < p.length; b++) {\n        var S = p.words[b] | 0;\n        p.words[b - 10] = (S & a) << 4 | E >>> 22, E = S;\n      }\n      E >>>= 22, p.words[b - 10] = E, E === 0 && p.length > 10 ? p.length -= 10 : p.length -= 9;\n    }, z.prototype.imulK = function(p) {\n      p.words[p.length] = 0, p.words[p.length + 1] = 0, p.length += 2;\n      for (var l = 0, a = 0; a < p.length; a++) {\n        var c = p.words[a] | 0;\n        l += c * 977, p.words[a] = l & 67108863, l = c * 64 + (l / 67108864 | 0);\n      }\n      return p.words[p.length - 1] === 0 && (p.length--, p.words[p.length - 1] === 0 && p.length--), p;\n    };\n    function B() {\n      $.call(\n        this,\n        \"p224\",\n        \"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001\"\n      );\n    }\n    n(B, $);\n    function _() {\n      $.call(\n        this,\n        \"p192\",\n        \"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff\"\n      );\n    }\n    n(_, $);\n    function R() {\n      $.call(\n        this,\n        \"25519\",\n        \"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed\"\n      );\n    }\n    n(R, $), R.prototype.imulK = function(p) {\n      for (var l = 0, a = 0; a < p.length; a++) {\n        var c = (p.words[a] | 0) * 19 + l, b = c & 67108863;\n        c >>>= 26, p.words[a] = b, l = c;\n      }\n      return l !== 0 && (p.words[p.length++] = l), p;\n    }, s._prime = function(p) {\n      if (K[p])\n        return K[p];\n      var l;\n      if (p === \"k256\")\n        l = new z();\n      else if (p === \"p224\")\n        l = new B();\n      else if (p === \"p192\")\n        l = new _();\n      else if (p === \"p25519\")\n        l = new R();\n      else\n        throw new Error(\"Unknown prime \" + p);\n      return K[p] = l, l;\n    };\n    function J(O) {\n      if (typeof O == \"string\") {\n        var p = s._prime(O);\n        this.m = p.p, this.prime = p;\n      } else\n        i(O.gtn(1), \"modulus must be greater than 1\"), this.m = O, this.prime = null;\n    }\n    J.prototype._verify1 = function(p) {\n      i(p.negative === 0, \"red works only with positives\"), i(p.red, \"red works only with red numbers\");\n    }, J.prototype._verify2 = function(p, l) {\n      i((p.negative | l.negative) === 0, \"red works only with positives\"), i(\n        p.red && p.red === l.red,\n        \"red works only with red numbers\"\n      );\n    }, J.prototype.imod = function(p) {\n      return this.prime ? this.prime.ireduce(p)._forceRed(this) : p.umod(this.m)._forceRed(this);\n    }, J.prototype.neg = function(p) {\n      return p.isZero() ? p.clone() : this.m.sub(p)._forceRed(this);\n    }, J.prototype.add = function(p, l) {\n      this._verify2(p, l);\n      var a = p.add(l);\n      return a.cmp(this.m) >= 0 && a.isub(this.m), a._forceRed(this);\n    }, J.prototype.iadd = function(p, l) {\n      this._verify2(p, l);\n      var a = p.iadd(l);\n      return a.cmp(this.m) >= 0 && a.isub(this.m), a;\n    }, J.prototype.sub = function(p, l) {\n      this._verify2(p, l);\n      var a = p.sub(l);\n      return a.cmpn(0) < 0 && a.iadd(this.m), a._forceRed(this);\n    }, J.prototype.isub = function(p, l) {\n      this._verify2(p, l);\n      var a = p.isub(l);\n      return a.cmpn(0) < 0 && a.iadd(this.m), a;\n    }, J.prototype.shl = function(p, l) {\n      return this._verify1(p), this.imod(p.ushln(l));\n    }, J.prototype.imul = function(p, l) {\n      return this._verify2(p, l), this.imod(p.imul(l));\n    }, J.prototype.mul = function(p, l) {\n      return this._verify2(p, l), this.imod(p.mul(l));\n    }, J.prototype.isqr = function(p) {\n      return this.imul(p, p.clone());\n    }, J.prototype.sqr = function(p) {\n      return this.mul(p, p);\n    }, J.prototype.sqrt = function(p) {\n      if (p.isZero())\n        return p.clone();\n      var l = this.m.andln(3);\n      if (i(l % 2 === 1), l === 3) {\n        var a = this.m.add(new s(1)).iushrn(2);\n        return this.pow(p, a);\n      }\n      for (var c = this.m.subn(1), b = 0; !c.isZero() && c.andln(1) === 0; )\n        b++, c.iushrn(1);\n      i(!c.isZero());\n      var E = new s(1).toRed(this), S = E.redNeg(), x = this.m.subn(1).iushrn(1), u = this.m.bitLength();\n      for (u = new s(2 * u * u).toRed(this); this.pow(u, x).cmp(S) !== 0; )\n        u.redIAdd(S);\n      for (var m = this.pow(u, c), g = this.pow(p, c.addn(1).iushrn(1)), P = this.pow(p, c), G = b; P.cmp(E) !== 0; ) {\n        for (var M = P, H = 0; M.cmp(E) !== 0; H++)\n          M = M.redSqr();\n        i(H < G);\n        var C = this.pow(m, new s(1).iushln(G - H - 1));\n        g = g.redMul(C), m = C.redSqr(), P = P.redMul(m), G = H;\n      }\n      return g;\n    }, J.prototype.invm = function(p) {\n      var l = p._invmp(this.m);\n      return l.negative !== 0 ? (l.negative = 0, this.imod(l).redNeg()) : this.imod(l);\n    }, J.prototype.pow = function(p, l) {\n      if (l.isZero())\n        return new s(1).toRed(this);\n      if (l.cmpn(1) === 0)\n        return p.clone();\n      var a = 4, c = new Array(1 << a);\n      c[0] = new s(1).toRed(this), c[1] = p;\n      for (var b = 2; b < c.length; b++)\n        c[b] = this.mul(c[b - 1], p);\n      var E = c[0], S = 0, x = 0, u = l.bitLength() % 26;\n      for (u === 0 && (u = 26), b = l.length - 1; b >= 0; b--) {\n        for (var m = l.words[b], g = u - 1; g >= 0; g--) {\n          var P = m >> g & 1;\n          if (E !== c[0] && (E = this.sqr(E)), P === 0 && S === 0) {\n            x = 0;\n            continue;\n          }\n          S <<= 1, S |= P, x++, !(x !== a && (b !== 0 || g !== 0)) && (E = this.mul(E, c[S]), x = 0, S = 0);\n        }\n        u = 26;\n      }\n      return E;\n    }, J.prototype.convertTo = function(p) {\n      var l = p.umod(this.m);\n      return l === p ? l.clone() : l;\n    }, J.prototype.convertFrom = function(p) {\n      var l = p.clone();\n      return l.red = null, l;\n    }, s.mont = function(p) {\n      return new Q(p);\n    };\n    function Q(O) {\n      J.call(this, O), this.shift = this.m.bitLength(), this.shift % 26 !== 0 && (this.shift += 26 - this.shift % 26), this.r = new s(1).iushln(this.shift), this.r2 = this.imod(this.r.sqr()), this.rinv = this.r._invmp(this.m), this.minv = this.rinv.mul(this.r).isubn(1).div(this.m), this.minv = this.minv.umod(this.r), this.minv = this.r.sub(this.minv);\n    }\n    n(Q, J), Q.prototype.convertTo = function(p) {\n      return this.imod(p.ushln(this.shift));\n    }, Q.prototype.convertFrom = function(p) {\n      var l = this.imod(p.mul(this.rinv));\n      return l.red = null, l;\n    }, Q.prototype.imul = function(p, l) {\n      if (p.isZero() || l.isZero())\n        return p.words[0] = 0, p.length = 1, p;\n      var a = p.imul(l), c = a.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), b = a.isub(c).iushrn(this.shift), E = b;\n      return b.cmp(this.m) >= 0 ? E = b.isub(this.m) : b.cmpn(0) < 0 && (E = b.iadd(this.m)), E._forceRed(this);\n    }, Q.prototype.mul = function(p, l) {\n      if (p.isZero() || l.isZero())\n        return new s(0)._forceRed(this);\n      var a = p.mul(l), c = a.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m), b = a.isub(c).iushrn(this.shift), E = b;\n      return b.cmp(this.m) >= 0 ? E = b.isub(this.m) : b.cmpn(0) < 0 && (E = b.iadd(this.m)), E._forceRed(this);\n    }, Q.prototype.invm = function(p) {\n      var l = this.imod(p._invmp(this.m).mul(this.r2));\n      return l._forceRed(this);\n    };\n  })(r, _lastConnected_e9351912_js__WEBPACK_IMPORTED_MODULE_0__.c);\n})(Wo);\nvar li = Wo.exports, Go = {};\n(function(r) {\n  var e = r;\n  function t(s, o) {\n    if (Array.isArray(s))\n      return s.slice();\n    if (!s)\n      return [];\n    var f = [];\n    if (typeof s != \"string\") {\n      for (var h = 0; h < s.length; h++)\n        f[h] = s[h] | 0;\n      return f;\n    }\n    if (o === \"hex\") {\n      s = s.replace(/[^a-z0-9]+/ig, \"\"), s.length % 2 !== 0 && (s = \"0\" + s);\n      for (var h = 0; h < s.length; h += 2)\n        f.push(parseInt(s[h] + s[h + 1], 16));\n    } else\n      for (var h = 0; h < s.length; h++) {\n        var d = s.charCodeAt(h), v = d >> 8, w = d & 255;\n        v ? f.push(v, w) : f.push(w);\n      }\n    return f;\n  }\n  e.toArray = t;\n  function i(s) {\n    return s.length === 1 ? \"0\" + s : s;\n  }\n  e.zero2 = i;\n  function n(s) {\n    for (var o = \"\", f = 0; f < s.length; f++)\n      o += i(s[f].toString(16));\n    return o;\n  }\n  e.toHex = n, e.encode = function(o, f) {\n    return f === \"hex\" ? n(o) : o;\n  };\n})(Go);\n(function(r) {\n  var e = r, t = li, i = Yi, n = Go;\n  e.assert = i, e.toArray = n.toArray, e.zero2 = n.zero2, e.toHex = n.toHex, e.encode = n.encode;\n  function s(v, w, A) {\n    var I = new Array(Math.max(v.bitLength(), A) + 1), D;\n    for (D = 0; D < I.length; D += 1)\n      I[D] = 0;\n    var N = 1 << w + 1, k = v.clone();\n    for (D = 0; D < I.length; D++) {\n      var j, T = k.andln(N - 1);\n      k.isOdd() ? (T > (N >> 1) - 1 ? j = (N >> 1) - T : j = T, k.isubn(j)) : j = 0, I[D] = j, k.iushrn(1);\n    }\n    return I;\n  }\n  e.getNAF = s;\n  function o(v, w) {\n    var A = [\n      [],\n      []\n    ];\n    v = v.clone(), w = w.clone();\n    for (var I = 0, D = 0, N; v.cmpn(-I) > 0 || w.cmpn(-D) > 0; ) {\n      var k = v.andln(3) + I & 3, j = w.andln(3) + D & 3;\n      k === 3 && (k = -1), j === 3 && (j = -1);\n      var T;\n      k & 1 ? (N = v.andln(7) + I & 7, (N === 3 || N === 5) && j === 2 ? T = -k : T = k) : T = 0, A[0].push(T);\n      var K;\n      j & 1 ? (N = w.andln(7) + D & 7, (N === 3 || N === 5) && k === 2 ? K = -j : K = j) : K = 0, A[1].push(K), 2 * I === T + 1 && (I = 1 - I), 2 * D === K + 1 && (D = 1 - D), v.iushrn(1), w.iushrn(1);\n    }\n    return A;\n  }\n  e.getJSF = o;\n  function f(v, w, A) {\n    var I = \"_\" + w;\n    v.prototype[w] = function() {\n      return this[I] !== void 0 ? this[I] : this[I] = A.call(this);\n    };\n  }\n  e.cachedProperty = f;\n  function h(v) {\n    return typeof v == \"string\" ? e.toArray(v, \"hex\") : v;\n  }\n  e.parseBytes = h;\n  function d(v) {\n    return new t(v, \"hex\", \"le\");\n  }\n  e.intFromLE = d;\n})(ar);\nvar Jo = { exports: {} }, Ja;\nJo.exports = function(e) {\n  return Ja || (Ja = new yi(null)), Ja.generate(e);\n};\nfunction yi(r) {\n  this.rand = r;\n}\nJo.exports.Rand = yi;\nyi.prototype.generate = function(e) {\n  return this._rand(e);\n};\nyi.prototype._rand = function(e) {\n  if (this.rand.getBytes)\n    return this.rand.getBytes(e);\n  for (var t = new Uint8Array(e), i = 0; i < t.length; i++)\n    t[i] = this.rand.getByte();\n  return t;\n};\nif (typeof self == \"object\")\n  self.crypto && self.crypto.getRandomValues ? yi.prototype._rand = function(e) {\n    var t = new Uint8Array(e);\n    return self.crypto.getRandomValues(t), t;\n  } : self.msCrypto && self.msCrypto.getRandomValues ? yi.prototype._rand = function(e) {\n    var t = new Uint8Array(e);\n    return self.msCrypto.getRandomValues(t), t;\n  } : typeof window == \"object\" && (yi.prototype._rand = function() {\n    throw new Error(\"Not implemented yet\");\n  });\nelse\n  try {\n    var gc = fa;\n    if (typeof gc.randomBytes != \"function\")\n      throw new Error(\"Not supported\");\n    yi.prototype._rand = function(e) {\n      return gc.randomBytes(e);\n    };\n  } catch {\n  }\nvar Hu = Jo.exports, Yo = {}, Ni = li, os = ar, Hs = os.getNAF, u2 = os.getJSF, Vs = os.assert;\nfunction Ii(r, e) {\n  this.type = r, this.p = new Ni(e.p, 16), this.red = e.prime ? Ni.red(e.prime) : Ni.mont(this.p), this.zero = new Ni(0).toRed(this.red), this.one = new Ni(1).toRed(this.red), this.two = new Ni(2).toRed(this.red), this.n = e.n && new Ni(e.n, 16), this.g = e.g && this.pointFromJSON(e.g, e.gRed), this._wnafT1 = new Array(4), this._wnafT2 = new Array(4), this._wnafT3 = new Array(4), this._wnafT4 = new Array(4), this._bitLength = this.n ? this.n.bitLength() : 0;\n  var t = this.n && this.p.div(this.n);\n  !t || t.cmpn(100) > 0 ? this.redN = null : (this._maxwellTrick = !0, this.redN = this.n.toRed(this.red));\n}\nvar ba = Ii;\nIi.prototype.point = function() {\n  throw new Error(\"Not implemented\");\n};\nIi.prototype.validate = function() {\n  throw new Error(\"Not implemented\");\n};\nIi.prototype._fixedNafMul = function(e, t) {\n  Vs(e.precomputed);\n  var i = e._getDoubles(), n = Hs(t, 1, this._bitLength), s = (1 << i.step + 1) - (i.step % 2 === 0 ? 2 : 1);\n  s /= 3;\n  var o = [], f, h;\n  for (f = 0; f < n.length; f += i.step) {\n    h = 0;\n    for (var d = f + i.step - 1; d >= f; d--)\n      h = (h << 1) + n[d];\n    o.push(h);\n  }\n  for (var v = this.jpoint(null, null, null), w = this.jpoint(null, null, null), A = s; A > 0; A--) {\n    for (f = 0; f < o.length; f++)\n      h = o[f], h === A ? w = w.mixedAdd(i.points[f]) : h === -A && (w = w.mixedAdd(i.points[f].neg()));\n    v = v.add(w);\n  }\n  return v.toP();\n};\nIi.prototype._wnafMul = function(e, t) {\n  var i = 4, n = e._getNAFPoints(i);\n  i = n.wnd;\n  for (var s = n.points, o = Hs(t, i, this._bitLength), f = this.jpoint(null, null, null), h = o.length - 1; h >= 0; h--) {\n    for (var d = 0; h >= 0 && o[h] === 0; h--)\n      d++;\n    if (h >= 0 && d++, f = f.dblp(d), h < 0)\n      break;\n    var v = o[h];\n    Vs(v !== 0), e.type === \"affine\" ? v > 0 ? f = f.mixedAdd(s[v - 1 >> 1]) : f = f.mixedAdd(s[-v - 1 >> 1].neg()) : v > 0 ? f = f.add(s[v - 1 >> 1]) : f = f.add(s[-v - 1 >> 1].neg());\n  }\n  return e.type === \"affine\" ? f.toP() : f;\n};\nIi.prototype._wnafMulAdd = function(e, t, i, n, s) {\n  var o = this._wnafT1, f = this._wnafT2, h = this._wnafT3, d = 0, v, w, A;\n  for (v = 0; v < n; v++) {\n    A = t[v];\n    var I = A._getNAFPoints(e);\n    o[v] = I.wnd, f[v] = I.points;\n  }\n  for (v = n - 1; v >= 1; v -= 2) {\n    var D = v - 1, N = v;\n    if (o[D] !== 1 || o[N] !== 1) {\n      h[D] = Hs(i[D], o[D], this._bitLength), h[N] = Hs(i[N], o[N], this._bitLength), d = Math.max(h[D].length, d), d = Math.max(h[N].length, d);\n      continue;\n    }\n    var k = [\n      t[D],\n      /* 1 */\n      null,\n      /* 3 */\n      null,\n      /* 5 */\n      t[N]\n      /* 7 */\n    ];\n    t[D].y.cmp(t[N].y) === 0 ? (k[1] = t[D].add(t[N]), k[2] = t[D].toJ().mixedAdd(t[N].neg())) : t[D].y.cmp(t[N].y.redNeg()) === 0 ? (k[1] = t[D].toJ().mixedAdd(t[N]), k[2] = t[D].add(t[N].neg())) : (k[1] = t[D].toJ().mixedAdd(t[N]), k[2] = t[D].toJ().mixedAdd(t[N].neg()));\n    var j = [\n      -3,\n      /* -1 -1 */\n      -1,\n      /* -1 0 */\n      -5,\n      /* -1 1 */\n      -7,\n      /* 0 -1 */\n      0,\n      /* 0 0 */\n      7,\n      /* 0 1 */\n      5,\n      /* 1 -1 */\n      1,\n      /* 1 0 */\n      3\n      /* 1 1 */\n    ], T = u2(i[D], i[N]);\n    for (d = Math.max(T[0].length, d), h[D] = new Array(d), h[N] = new Array(d), w = 0; w < d; w++) {\n      var K = T[0][w] | 0, $ = T[1][w] | 0;\n      h[D][w] = j[(K + 1) * 3 + ($ + 1)], h[N][w] = 0, f[D] = k;\n    }\n  }\n  var z = this.jpoint(null, null, null), B = this._wnafT4;\n  for (v = d; v >= 0; v--) {\n    for (var _ = 0; v >= 0; ) {\n      var R = !0;\n      for (w = 0; w < n; w++)\n        B[w] = h[w][v] | 0, B[w] !== 0 && (R = !1);\n      if (!R)\n        break;\n      _++, v--;\n    }\n    if (v >= 0 && _++, z = z.dblp(_), v < 0)\n      break;\n    for (w = 0; w < n; w++) {\n      var J = B[w];\n      J !== 0 && (J > 0 ? A = f[w][J - 1 >> 1] : J < 0 && (A = f[w][-J - 1 >> 1].neg()), A.type === \"affine\" ? z = z.mixedAdd(A) : z = z.add(A));\n    }\n  }\n  for (v = 0; v < n; v++)\n    f[v] = null;\n  return s ? z : z.toP();\n};\nfunction gr(r, e) {\n  this.curve = r, this.type = e, this.precomputed = null;\n}\nIi.BasePoint = gr;\ngr.prototype.eq = function() {\n  throw new Error(\"Not implemented\");\n};\ngr.prototype.validate = function() {\n  return this.curve.validate(this);\n};\nIi.prototype.decodePoint = function(e, t) {\n  e = os.toArray(e, t);\n  var i = this.p.byteLength();\n  if ((e[0] === 4 || e[0] === 6 || e[0] === 7) && e.length - 1 === 2 * i) {\n    e[0] === 6 ? Vs(e[e.length - 1] % 2 === 0) : e[0] === 7 && Vs(e[e.length - 1] % 2 === 1);\n    var n = this.point(\n      e.slice(1, 1 + i),\n      e.slice(1 + i, 1 + 2 * i)\n    );\n    return n;\n  } else if ((e[0] === 2 || e[0] === 3) && e.length - 1 === i)\n    return this.pointFromX(e.slice(1, 1 + i), e[0] === 3);\n  throw new Error(\"Unknown point format\");\n};\ngr.prototype.encodeCompressed = function(e) {\n  return this.encode(e, !0);\n};\ngr.prototype._encode = function(e) {\n  var t = this.curve.p.byteLength(), i = this.getX().toArray(\"be\", t);\n  return e ? [this.getY().isEven() ? 2 : 3].concat(i) : [4].concat(i, this.getY().toArray(\"be\", t));\n};\ngr.prototype.encode = function(e, t) {\n  return os.encode(this._encode(t), e);\n};\ngr.prototype.precompute = function(e) {\n  if (this.precomputed)\n    return this;\n  var t = {\n    doubles: null,\n    naf: null,\n    beta: null\n  };\n  return t.naf = this._getNAFPoints(8), t.doubles = this._getDoubles(4, e), t.beta = this._getBeta(), this.precomputed = t, this;\n};\ngr.prototype._hasDoubles = function(e) {\n  if (!this.precomputed)\n    return !1;\n  var t = this.precomputed.doubles;\n  return t ? t.points.length >= Math.ceil((e.bitLength() + 1) / t.step) : !1;\n};\ngr.prototype._getDoubles = function(e, t) {\n  if (this.precomputed && this.precomputed.doubles)\n    return this.precomputed.doubles;\n  for (var i = [this], n = this, s = 0; s < t; s += e) {\n    for (var o = 0; o < e; o++)\n      n = n.dbl();\n    i.push(n);\n  }\n  return {\n    step: e,\n    points: i\n  };\n};\ngr.prototype._getNAFPoints = function(e) {\n  if (this.precomputed && this.precomputed.naf)\n    return this.precomputed.naf;\n  for (var t = [this], i = (1 << e) - 1, n = i === 1 ? null : this.dbl(), s = 1; s < i; s++)\n    t[s] = t[s - 1].add(n);\n  return {\n    wnd: e,\n    points: t\n  };\n};\ngr.prototype._getBeta = function() {\n  return null;\n};\ngr.prototype.dblp = function(e) {\n  for (var t = this, i = 0; i < e; i++)\n    t = t.dbl();\n  return t;\n};\nvar d2 = ar, pt = li, Xo = ua, En = ba, l2 = d2.assert;\nfunction yr(r) {\n  En.call(this, \"short\", r), this.a = new pt(r.a, 16).toRed(this.red), this.b = new pt(r.b, 16).toRed(this.red), this.tinv = this.two.redInvm(), this.zeroA = this.a.fromRed().cmpn(0) === 0, this.threeA = this.a.fromRed().sub(this.p).cmpn(-3) === 0, this.endo = this._getEndomorphism(r), this._endoWnafT1 = new Array(4), this._endoWnafT2 = new Array(4);\n}\nXo(yr, En);\nvar p2 = yr;\nyr.prototype._getEndomorphism = function(e) {\n  if (!(!this.zeroA || !this.g || !this.n || this.p.modn(3) !== 1)) {\n    var t, i;\n    if (e.beta)\n      t = new pt(e.beta, 16).toRed(this.red);\n    else {\n      var n = this._getEndoRoots(this.p);\n      t = n[0].cmp(n[1]) < 0 ? n[0] : n[1], t = t.toRed(this.red);\n    }\n    if (e.lambda)\n      i = new pt(e.lambda, 16);\n    else {\n      var s = this._getEndoRoots(this.n);\n      this.g.mul(s[0]).x.cmp(this.g.x.redMul(t)) === 0 ? i = s[0] : (i = s[1], l2(this.g.mul(i).x.cmp(this.g.x.redMul(t)) === 0));\n    }\n    var o;\n    return e.basis ? o = e.basis.map(function(f) {\n      return {\n        a: new pt(f.a, 16),\n        b: new pt(f.b, 16)\n      };\n    }) : o = this._getEndoBasis(i), {\n      beta: t,\n      lambda: i,\n      basis: o\n    };\n  }\n};\nyr.prototype._getEndoRoots = function(e) {\n  var t = e === this.p ? this.red : pt.mont(e), i = new pt(2).toRed(t).redInvm(), n = i.redNeg(), s = new pt(3).toRed(t).redNeg().redSqrt().redMul(i), o = n.redAdd(s).fromRed(), f = n.redSub(s).fromRed();\n  return [o, f];\n};\nyr.prototype._getEndoBasis = function(e) {\n  for (var t = this.n.ushrn(Math.floor(this.n.bitLength() / 2)), i = e, n = this.n.clone(), s = new pt(1), o = new pt(0), f = new pt(0), h = new pt(1), d, v, w, A, I, D, N, k = 0, j, T; i.cmpn(0) !== 0; ) {\n    var K = n.div(i);\n    j = n.sub(K.mul(i)), T = f.sub(K.mul(s));\n    var $ = h.sub(K.mul(o));\n    if (!w && j.cmp(t) < 0)\n      d = N.neg(), v = s, w = j.neg(), A = T;\n    else if (w && ++k === 2)\n      break;\n    N = j, n = i, i = j, f = s, s = T, h = o, o = $;\n  }\n  I = j.neg(), D = T;\n  var z = w.sqr().add(A.sqr()), B = I.sqr().add(D.sqr());\n  return B.cmp(z) >= 0 && (I = d, D = v), w.negative && (w = w.neg(), A = A.neg()), I.negative && (I = I.neg(), D = D.neg()), [\n    { a: w, b: A },\n    { a: I, b: D }\n  ];\n};\nyr.prototype._endoSplit = function(e) {\n  var t = this.endo.basis, i = t[0], n = t[1], s = n.b.mul(e).divRound(this.n), o = i.b.neg().mul(e).divRound(this.n), f = s.mul(i.a), h = o.mul(n.a), d = s.mul(i.b), v = o.mul(n.b), w = e.sub(f).sub(h), A = d.add(v).neg();\n  return { k1: w, k2: A };\n};\nyr.prototype.pointFromX = function(e, t) {\n  e = new pt(e, 16), e.red || (e = e.toRed(this.red));\n  var i = e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b), n = i.redSqrt();\n  if (n.redSqr().redSub(i).cmp(this.zero) !== 0)\n    throw new Error(\"invalid point\");\n  var s = n.fromRed().isOdd();\n  return (t && !s || !t && s) && (n = n.redNeg()), this.point(e, n);\n};\nyr.prototype.validate = function(e) {\n  if (e.inf)\n    return !0;\n  var t = e.x, i = e.y, n = this.a.redMul(t), s = t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);\n  return i.redSqr().redISub(s).cmpn(0) === 0;\n};\nyr.prototype._endoWnafMulAdd = function(e, t, i) {\n  for (var n = this._endoWnafT1, s = this._endoWnafT2, o = 0; o < e.length; o++) {\n    var f = this._endoSplit(t[o]), h = e[o], d = h._getBeta();\n    f.k1.negative && (f.k1.ineg(), h = h.neg(!0)), f.k2.negative && (f.k2.ineg(), d = d.neg(!0)), n[o * 2] = h, n[o * 2 + 1] = d, s[o * 2] = f.k1, s[o * 2 + 1] = f.k2;\n  }\n  for (var v = this._wnafMulAdd(1, n, s, o * 2, i), w = 0; w < o * 2; w++)\n    n[w] = null, s[w] = null;\n  return v;\n};\nfunction Pt(r, e, t, i) {\n  En.BasePoint.call(this, r, \"affine\"), e === null && t === null ? (this.x = null, this.y = null, this.inf = !0) : (this.x = new pt(e, 16), this.y = new pt(t, 16), i && (this.x.forceRed(this.curve.red), this.y.forceRed(this.curve.red)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.inf = !1);\n}\nXo(Pt, En.BasePoint);\nyr.prototype.point = function(e, t, i) {\n  return new Pt(this, e, t, i);\n};\nyr.prototype.pointFromJSON = function(e, t) {\n  return Pt.fromJSON(this, e, t);\n};\nPt.prototype._getBeta = function() {\n  if (this.curve.endo) {\n    var e = this.precomputed;\n    if (e && e.beta)\n      return e.beta;\n    var t = this.curve.point(this.x.redMul(this.curve.endo.beta), this.y);\n    if (e) {\n      var i = this.curve, n = function(s) {\n        return i.point(s.x.redMul(i.endo.beta), s.y);\n      };\n      e.beta = t, t.precomputed = {\n        beta: null,\n        naf: e.naf && {\n          wnd: e.naf.wnd,\n          points: e.naf.points.map(n)\n        },\n        doubles: e.doubles && {\n          step: e.doubles.step,\n          points: e.doubles.points.map(n)\n        }\n      };\n    }\n    return t;\n  }\n};\nPt.prototype.toJSON = function() {\n  return this.precomputed ? [this.x, this.y, this.precomputed && {\n    doubles: this.precomputed.doubles && {\n      step: this.precomputed.doubles.step,\n      points: this.precomputed.doubles.points.slice(1)\n    },\n    naf: this.precomputed.naf && {\n      wnd: this.precomputed.naf.wnd,\n      points: this.precomputed.naf.points.slice(1)\n    }\n  }] : [this.x, this.y];\n};\nPt.fromJSON = function(e, t, i) {\n  typeof t == \"string\" && (t = JSON.parse(t));\n  var n = e.point(t[0], t[1], i);\n  if (!t[2])\n    return n;\n  function s(f) {\n    return e.point(f[0], f[1], i);\n  }\n  var o = t[2];\n  return n.precomputed = {\n    beta: null,\n    doubles: o.doubles && {\n      step: o.doubles.step,\n      points: [n].concat(o.doubles.points.map(s))\n    },\n    naf: o.naf && {\n      wnd: o.naf.wnd,\n      points: [n].concat(o.naf.points.map(s))\n    }\n  }, n;\n};\nPt.prototype.inspect = function() {\n  return this.isInfinity() ? \"<EC Point Infinity>\" : \"<EC Point x: \" + this.x.fromRed().toString(16, 2) + \" y: \" + this.y.fromRed().toString(16, 2) + \">\";\n};\nPt.prototype.isInfinity = function() {\n  return this.inf;\n};\nPt.prototype.add = function(e) {\n  if (this.inf)\n    return e;\n  if (e.inf)\n    return this;\n  if (this.eq(e))\n    return this.dbl();\n  if (this.neg().eq(e))\n    return this.curve.point(null, null);\n  if (this.x.cmp(e.x) === 0)\n    return this.curve.point(null, null);\n  var t = this.y.redSub(e.y);\n  t.cmpn(0) !== 0 && (t = t.redMul(this.x.redSub(e.x).redInvm()));\n  var i = t.redSqr().redISub(this.x).redISub(e.x), n = t.redMul(this.x.redSub(i)).redISub(this.y);\n  return this.curve.point(i, n);\n};\nPt.prototype.dbl = function() {\n  if (this.inf)\n    return this;\n  var e = this.y.redAdd(this.y);\n  if (e.cmpn(0) === 0)\n    return this.curve.point(null, null);\n  var t = this.curve.a, i = this.x.redSqr(), n = e.redInvm(), s = i.redAdd(i).redIAdd(i).redIAdd(t).redMul(n), o = s.redSqr().redISub(this.x.redAdd(this.x)), f = s.redMul(this.x.redSub(o)).redISub(this.y);\n  return this.curve.point(o, f);\n};\nPt.prototype.getX = function() {\n  return this.x.fromRed();\n};\nPt.prototype.getY = function() {\n  return this.y.fromRed();\n};\nPt.prototype.mul = function(e) {\n  return e = new pt(e, 16), this.isInfinity() ? this : this._hasDoubles(e) ? this.curve._fixedNafMul(this, e) : this.curve.endo ? this.curve._endoWnafMulAdd([this], [e]) : this.curve._wnafMul(this, e);\n};\nPt.prototype.mulAdd = function(e, t, i) {\n  var n = [this, t], s = [e, i];\n  return this.curve.endo ? this.curve._endoWnafMulAdd(n, s) : this.curve._wnafMulAdd(1, n, s, 2);\n};\nPt.prototype.jmulAdd = function(e, t, i) {\n  var n = [this, t], s = [e, i];\n  return this.curve.endo ? this.curve._endoWnafMulAdd(n, s, !0) : this.curve._wnafMulAdd(1, n, s, 2, !0);\n};\nPt.prototype.eq = function(e) {\n  return this === e || this.inf === e.inf && (this.inf || this.x.cmp(e.x) === 0 && this.y.cmp(e.y) === 0);\n};\nPt.prototype.neg = function(e) {\n  if (this.inf)\n    return this;\n  var t = this.curve.point(this.x, this.y.redNeg());\n  if (e && this.precomputed) {\n    var i = this.precomputed, n = function(s) {\n      return s.neg();\n    };\n    t.precomputed = {\n      naf: i.naf && {\n        wnd: i.naf.wnd,\n        points: i.naf.points.map(n)\n      },\n      doubles: i.doubles && {\n        step: i.doubles.step,\n        points: i.doubles.points.map(n)\n      }\n    };\n  }\n  return t;\n};\nPt.prototype.toJ = function() {\n  if (this.inf)\n    return this.curve.jpoint(null, null, null);\n  var e = this.curve.jpoint(this.x, this.y, this.curve.one);\n  return e;\n};\nfunction Tt(r, e, t, i) {\n  En.BasePoint.call(this, r, \"jacobian\"), e === null && t === null && i === null ? (this.x = this.curve.one, this.y = this.curve.one, this.z = new pt(0)) : (this.x = new pt(e, 16), this.y = new pt(t, 16), this.z = new pt(i, 16)), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)), this.zOne = this.z === this.curve.one;\n}\nXo(Tt, En.BasePoint);\nyr.prototype.jpoint = function(e, t, i) {\n  return new Tt(this, e, t, i);\n};\nTt.prototype.toP = function() {\n  if (this.isInfinity())\n    return this.curve.point(null, null);\n  var e = this.z.redInvm(), t = e.redSqr(), i = this.x.redMul(t), n = this.y.redMul(t).redMul(e);\n  return this.curve.point(i, n);\n};\nTt.prototype.neg = function() {\n  return this.curve.jpoint(this.x, this.y.redNeg(), this.z);\n};\nTt.prototype.add = function(e) {\n  if (this.isInfinity())\n    return e;\n  if (e.isInfinity())\n    return this;\n  var t = e.z.redSqr(), i = this.z.redSqr(), n = this.x.redMul(t), s = e.x.redMul(i), o = this.y.redMul(t.redMul(e.z)), f = e.y.redMul(i.redMul(this.z)), h = n.redSub(s), d = o.redSub(f);\n  if (h.cmpn(0) === 0)\n    return d.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();\n  var v = h.redSqr(), w = v.redMul(h), A = n.redMul(v), I = d.redSqr().redIAdd(w).redISub(A).redISub(A), D = d.redMul(A.redISub(I)).redISub(o.redMul(w)), N = this.z.redMul(e.z).redMul(h);\n  return this.curve.jpoint(I, D, N);\n};\nTt.prototype.mixedAdd = function(e) {\n  if (this.isInfinity())\n    return e.toJ();\n  if (e.isInfinity())\n    return this;\n  var t = this.z.redSqr(), i = this.x, n = e.x.redMul(t), s = this.y, o = e.y.redMul(t).redMul(this.z), f = i.redSub(n), h = s.redSub(o);\n  if (f.cmpn(0) === 0)\n    return h.cmpn(0) !== 0 ? this.curve.jpoint(null, null, null) : this.dbl();\n  var d = f.redSqr(), v = d.redMul(f), w = i.redMul(d), A = h.redSqr().redIAdd(v).redISub(w).redISub(w), I = h.redMul(w.redISub(A)).redISub(s.redMul(v)), D = this.z.redMul(f);\n  return this.curve.jpoint(A, I, D);\n};\nTt.prototype.dblp = function(e) {\n  if (e === 0)\n    return this;\n  if (this.isInfinity())\n    return this;\n  if (!e)\n    return this.dbl();\n  var t;\n  if (this.curve.zeroA || this.curve.threeA) {\n    var i = this;\n    for (t = 0; t < e; t++)\n      i = i.dbl();\n    return i;\n  }\n  var n = this.curve.a, s = this.curve.tinv, o = this.x, f = this.y, h = this.z, d = h.redSqr().redSqr(), v = f.redAdd(f);\n  for (t = 0; t < e; t++) {\n    var w = o.redSqr(), A = v.redSqr(), I = A.redSqr(), D = w.redAdd(w).redIAdd(w).redIAdd(n.redMul(d)), N = o.redMul(A), k = D.redSqr().redISub(N.redAdd(N)), j = N.redISub(k), T = D.redMul(j);\n    T = T.redIAdd(T).redISub(I);\n    var K = v.redMul(h);\n    t + 1 < e && (d = d.redMul(I)), o = k, h = K, v = T;\n  }\n  return this.curve.jpoint(o, v.redMul(s), h);\n};\nTt.prototype.dbl = function() {\n  return this.isInfinity() ? this : this.curve.zeroA ? this._zeroDbl() : this.curve.threeA ? this._threeDbl() : this._dbl();\n};\nTt.prototype._zeroDbl = function() {\n  var e, t, i;\n  if (this.zOne) {\n    var n = this.x.redSqr(), s = this.y.redSqr(), o = s.redSqr(), f = this.x.redAdd(s).redSqr().redISub(n).redISub(o);\n    f = f.redIAdd(f);\n    var h = n.redAdd(n).redIAdd(n), d = h.redSqr().redISub(f).redISub(f), v = o.redIAdd(o);\n    v = v.redIAdd(v), v = v.redIAdd(v), e = d, t = h.redMul(f.redISub(d)).redISub(v), i = this.y.redAdd(this.y);\n  } else {\n    var w = this.x.redSqr(), A = this.y.redSqr(), I = A.redSqr(), D = this.x.redAdd(A).redSqr().redISub(w).redISub(I);\n    D = D.redIAdd(D);\n    var N = w.redAdd(w).redIAdd(w), k = N.redSqr(), j = I.redIAdd(I);\n    j = j.redIAdd(j), j = j.redIAdd(j), e = k.redISub(D).redISub(D), t = N.redMul(D.redISub(e)).redISub(j), i = this.y.redMul(this.z), i = i.redIAdd(i);\n  }\n  return this.curve.jpoint(e, t, i);\n};\nTt.prototype._threeDbl = function() {\n  var e, t, i;\n  if (this.zOne) {\n    var n = this.x.redSqr(), s = this.y.redSqr(), o = s.redSqr(), f = this.x.redAdd(s).redSqr().redISub(n).redISub(o);\n    f = f.redIAdd(f);\n    var h = n.redAdd(n).redIAdd(n).redIAdd(this.curve.a), d = h.redSqr().redISub(f).redISub(f);\n    e = d;\n    var v = o.redIAdd(o);\n    v = v.redIAdd(v), v = v.redIAdd(v), t = h.redMul(f.redISub(d)).redISub(v), i = this.y.redAdd(this.y);\n  } else {\n    var w = this.z.redSqr(), A = this.y.redSqr(), I = this.x.redMul(A), D = this.x.redSub(w).redMul(this.x.redAdd(w));\n    D = D.redAdd(D).redIAdd(D);\n    var N = I.redIAdd(I);\n    N = N.redIAdd(N);\n    var k = N.redAdd(N);\n    e = D.redSqr().redISub(k), i = this.y.redAdd(this.z).redSqr().redISub(A).redISub(w);\n    var j = A.redSqr();\n    j = j.redIAdd(j), j = j.redIAdd(j), j = j.redIAdd(j), t = D.redMul(N.redISub(e)).redISub(j);\n  }\n  return this.curve.jpoint(e, t, i);\n};\nTt.prototype._dbl = function() {\n  var e = this.curve.a, t = this.x, i = this.y, n = this.z, s = n.redSqr().redSqr(), o = t.redSqr(), f = i.redSqr(), h = o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)), d = t.redAdd(t);\n  d = d.redIAdd(d);\n  var v = d.redMul(f), w = h.redSqr().redISub(v.redAdd(v)), A = v.redISub(w), I = f.redSqr();\n  I = I.redIAdd(I), I = I.redIAdd(I), I = I.redIAdd(I);\n  var D = h.redMul(A).redISub(I), N = i.redAdd(i).redMul(n);\n  return this.curve.jpoint(w, D, N);\n};\nTt.prototype.trpl = function() {\n  if (!this.curve.zeroA)\n    return this.dbl().add(this);\n  var e = this.x.redSqr(), t = this.y.redSqr(), i = this.z.redSqr(), n = t.redSqr(), s = e.redAdd(e).redIAdd(e), o = s.redSqr(), f = this.x.redAdd(t).redSqr().redISub(e).redISub(n);\n  f = f.redIAdd(f), f = f.redAdd(f).redIAdd(f), f = f.redISub(o);\n  var h = f.redSqr(), d = n.redIAdd(n);\n  d = d.redIAdd(d), d = d.redIAdd(d), d = d.redIAdd(d);\n  var v = s.redIAdd(f).redSqr().redISub(o).redISub(h).redISub(d), w = t.redMul(v);\n  w = w.redIAdd(w), w = w.redIAdd(w);\n  var A = this.x.redMul(h).redISub(w);\n  A = A.redIAdd(A), A = A.redIAdd(A);\n  var I = this.y.redMul(v.redMul(d.redISub(v)).redISub(f.redMul(h)));\n  I = I.redIAdd(I), I = I.redIAdd(I), I = I.redIAdd(I);\n  var D = this.z.redAdd(f).redSqr().redISub(i).redISub(h);\n  return this.curve.jpoint(A, I, D);\n};\nTt.prototype.mul = function(e, t) {\n  return e = new pt(e, t), this.curve._wnafMul(this, e);\n};\nTt.prototype.eq = function(e) {\n  if (e.type === \"affine\")\n    return this.eq(e.toJ());\n  if (this === e)\n    return !0;\n  var t = this.z.redSqr(), i = e.z.redSqr();\n  if (this.x.redMul(i).redISub(e.x.redMul(t)).cmpn(0) !== 0)\n    return !1;\n  var n = t.redMul(this.z), s = i.redMul(e.z);\n  return this.y.redMul(s).redISub(e.y.redMul(n)).cmpn(0) === 0;\n};\nTt.prototype.eqXToP = function(e) {\n  var t = this.z.redSqr(), i = e.toRed(this.curve.red).redMul(t);\n  if (this.x.cmp(i) === 0)\n    return !0;\n  for (var n = e.clone(), s = this.curve.redN.redMul(t); ; ) {\n    if (n.iadd(this.curve.n), n.cmp(this.curve.p) >= 0)\n      return !1;\n    if (i.redIAdd(s), this.x.cmp(i) === 0)\n      return !0;\n  }\n};\nTt.prototype.inspect = function() {\n  return this.isInfinity() ? \"<EC JPoint Infinity>\" : \"<EC JPoint x: \" + this.x.toString(16, 2) + \" y: \" + this.y.toString(16, 2) + \" z: \" + this.z.toString(16, 2) + \">\";\n};\nTt.prototype.isInfinity = function() {\n  return this.z.cmpn(0) === 0;\n};\nvar on = li, Vu = ua, ga = ba, v2 = ar;\nfunction Sn(r) {\n  ga.call(this, \"mont\", r), this.a = new on(r.a, 16).toRed(this.red), this.b = new on(r.b, 16).toRed(this.red), this.i4 = new on(4).toRed(this.red).redInvm(), this.two = new on(2).toRed(this.red), this.a24 = this.i4.redMul(this.a.redAdd(this.two));\n}\nVu(Sn, ga);\nvar b2 = Sn;\nSn.prototype.validate = function(e) {\n  var t = e.normalize().x, i = t.redSqr(), n = i.redMul(t).redAdd(i.redMul(this.a)).redAdd(t), s = n.redSqrt();\n  return s.redSqr().cmp(n) === 0;\n};\nfunction At(r, e, t) {\n  ga.BasePoint.call(this, r, \"projective\"), e === null && t === null ? (this.x = this.curve.one, this.z = this.curve.zero) : (this.x = new on(e, 16), this.z = new on(t, 16), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)));\n}\nVu(At, ga.BasePoint);\nSn.prototype.decodePoint = function(e, t) {\n  return this.point(v2.toArray(e, t), 1);\n};\nSn.prototype.point = function(e, t) {\n  return new At(this, e, t);\n};\nSn.prototype.pointFromJSON = function(e) {\n  return At.fromJSON(this, e);\n};\nAt.prototype.precompute = function() {\n};\nAt.prototype._encode = function() {\n  return this.getX().toArray(\"be\", this.curve.p.byteLength());\n};\nAt.fromJSON = function(e, t) {\n  return new At(e, t[0], t[1] || e.one);\n};\nAt.prototype.inspect = function() {\n  return this.isInfinity() ? \"<EC Point Infinity>\" : \"<EC Point x: \" + this.x.fromRed().toString(16, 2) + \" z: \" + this.z.fromRed().toString(16, 2) + \">\";\n};\nAt.prototype.isInfinity = function() {\n  return this.z.cmpn(0) === 0;\n};\nAt.prototype.dbl = function() {\n  var e = this.x.redAdd(this.z), t = e.redSqr(), i = this.x.redSub(this.z), n = i.redSqr(), s = t.redSub(n), o = t.redMul(n), f = s.redMul(n.redAdd(this.curve.a24.redMul(s)));\n  return this.curve.point(o, f);\n};\nAt.prototype.add = function() {\n  throw new Error(\"Not supported on Montgomery curve\");\n};\nAt.prototype.diffAdd = function(e, t) {\n  var i = this.x.redAdd(this.z), n = this.x.redSub(this.z), s = e.x.redAdd(e.z), o = e.x.redSub(e.z), f = o.redMul(i), h = s.redMul(n), d = t.z.redMul(f.redAdd(h).redSqr()), v = t.x.redMul(f.redISub(h).redSqr());\n  return this.curve.point(d, v);\n};\nAt.prototype.mul = function(e) {\n  for (var t = e.clone(), i = this, n = this.curve.point(null, null), s = this, o = []; t.cmpn(0) !== 0; t.iushrn(1))\n    o.push(t.andln(1));\n  for (var f = o.length - 1; f >= 0; f--)\n    o[f] === 0 ? (i = i.diffAdd(n, s), n = n.dbl()) : (n = i.diffAdd(n, s), i = i.dbl());\n  return n;\n};\nAt.prototype.mulAdd = function() {\n  throw new Error(\"Not supported on Montgomery curve\");\n};\nAt.prototype.jumlAdd = function() {\n  throw new Error(\"Not supported on Montgomery curve\");\n};\nAt.prototype.eq = function(e) {\n  return this.getX().cmp(e.getX()) === 0;\n};\nAt.prototype.normalize = function() {\n  return this.x = this.x.redMul(this.z.redInvm()), this.z = this.curve.one, this;\n};\nAt.prototype.getX = function() {\n  return this.normalize(), this.x.fromRed();\n};\nvar g2 = ar, ci = li, Wu = ua, ya = ba, y2 = g2.assert;\nfunction Hr(r) {\n  this.twisted = (r.a | 0) !== 1, this.mOneA = this.twisted && (r.a | 0) === -1, this.extended = this.mOneA, ya.call(this, \"edwards\", r), this.a = new ci(r.a, 16).umod(this.red.m), this.a = this.a.toRed(this.red), this.c = new ci(r.c, 16).toRed(this.red), this.c2 = this.c.redSqr(), this.d = new ci(r.d, 16).toRed(this.red), this.dd = this.d.redAdd(this.d), y2(!this.twisted || this.c.fromRed().cmpn(1) === 0), this.oneC = (r.c | 0) === 1;\n}\nWu(Hr, ya);\nvar m2 = Hr;\nHr.prototype._mulA = function(e) {\n  return this.mOneA ? e.redNeg() : this.a.redMul(e);\n};\nHr.prototype._mulC = function(e) {\n  return this.oneC ? e : this.c.redMul(e);\n};\nHr.prototype.jpoint = function(e, t, i, n) {\n  return this.point(e, t, i, n);\n};\nHr.prototype.pointFromX = function(e, t) {\n  e = new ci(e, 16), e.red || (e = e.toRed(this.red));\n  var i = e.redSqr(), n = this.c2.redSub(this.a.redMul(i)), s = this.one.redSub(this.c2.redMul(this.d).redMul(i)), o = n.redMul(s.redInvm()), f = o.redSqrt();\n  if (f.redSqr().redSub(o).cmp(this.zero) !== 0)\n    throw new Error(\"invalid point\");\n  var h = f.fromRed().isOdd();\n  return (t && !h || !t && h) && (f = f.redNeg()), this.point(e, f);\n};\nHr.prototype.pointFromY = function(e, t) {\n  e = new ci(e, 16), e.red || (e = e.toRed(this.red));\n  var i = e.redSqr(), n = i.redSub(this.c2), s = i.redMul(this.d).redMul(this.c2).redSub(this.a), o = n.redMul(s.redInvm());\n  if (o.cmp(this.zero) === 0) {\n    if (t)\n      throw new Error(\"invalid point\");\n    return this.point(this.zero, e);\n  }\n  var f = o.redSqrt();\n  if (f.redSqr().redSub(o).cmp(this.zero) !== 0)\n    throw new Error(\"invalid point\");\n  return f.fromRed().isOdd() !== t && (f = f.redNeg()), this.point(f, e);\n};\nHr.prototype.validate = function(e) {\n  if (e.isInfinity())\n    return !0;\n  e.normalize();\n  var t = e.x.redSqr(), i = e.y.redSqr(), n = t.redMul(this.a).redAdd(i), s = this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(i)));\n  return n.cmp(s) === 0;\n};\nfunction ft(r, e, t, i, n) {\n  ya.BasePoint.call(this, r, \"projective\"), e === null && t === null && i === null ? (this.x = this.curve.zero, this.y = this.curve.one, this.z = this.curve.one, this.t = this.curve.zero, this.zOne = !0) : (this.x = new ci(e, 16), this.y = new ci(t, 16), this.z = i ? new ci(i, 16) : this.curve.one, this.t = n && new ci(n, 16), this.x.red || (this.x = this.x.toRed(this.curve.red)), this.y.red || (this.y = this.y.toRed(this.curve.red)), this.z.red || (this.z = this.z.toRed(this.curve.red)), this.t && !this.t.red && (this.t = this.t.toRed(this.curve.red)), this.zOne = this.z === this.curve.one, this.curve.extended && !this.t && (this.t = this.x.redMul(this.y), this.zOne || (this.t = this.t.redMul(this.z.redInvm()))));\n}\nWu(ft, ya.BasePoint);\nHr.prototype.pointFromJSON = function(e) {\n  return ft.fromJSON(this, e);\n};\nHr.prototype.point = function(e, t, i, n) {\n  return new ft(this, e, t, i, n);\n};\nft.fromJSON = function(e, t) {\n  return new ft(e, t[0], t[1], t[2]);\n};\nft.prototype.inspect = function() {\n  return this.isInfinity() ? \"<EC Point Infinity>\" : \"<EC Point x: \" + this.x.fromRed().toString(16, 2) + \" y: \" + this.y.fromRed().toString(16, 2) + \" z: \" + this.z.fromRed().toString(16, 2) + \">\";\n};\nft.prototype.isInfinity = function() {\n  return this.x.cmpn(0) === 0 && (this.y.cmp(this.z) === 0 || this.zOne && this.y.cmp(this.curve.c) === 0);\n};\nft.prototype._extDbl = function() {\n  var e = this.x.redSqr(), t = this.y.redSqr(), i = this.z.redSqr();\n  i = i.redIAdd(i);\n  var n = this.curve._mulA(e), s = this.x.redAdd(this.y).redSqr().redISub(e).redISub(t), o = n.redAdd(t), f = o.redSub(i), h = n.redSub(t), d = s.redMul(f), v = o.redMul(h), w = s.redMul(h), A = f.redMul(o);\n  return this.curve.point(d, v, A, w);\n};\nft.prototype._projDbl = function() {\n  var e = this.x.redAdd(this.y).redSqr(), t = this.x.redSqr(), i = this.y.redSqr(), n, s, o, f, h, d;\n  if (this.curve.twisted) {\n    f = this.curve._mulA(t);\n    var v = f.redAdd(i);\n    this.zOne ? (n = e.redSub(t).redSub(i).redMul(v.redSub(this.curve.two)), s = v.redMul(f.redSub(i)), o = v.redSqr().redSub(v).redSub(v)) : (h = this.z.redSqr(), d = v.redSub(h).redISub(h), n = e.redSub(t).redISub(i).redMul(d), s = v.redMul(f.redSub(i)), o = v.redMul(d));\n  } else\n    f = t.redAdd(i), h = this.curve._mulC(this.z).redSqr(), d = f.redSub(h).redSub(h), n = this.curve._mulC(e.redISub(f)).redMul(d), s = this.curve._mulC(f).redMul(t.redISub(i)), o = f.redMul(d);\n  return this.curve.point(n, s, o);\n};\nft.prototype.dbl = function() {\n  return this.isInfinity() ? this : this.curve.extended ? this._extDbl() : this._projDbl();\n};\nft.prototype._extAdd = function(e) {\n  var t = this.y.redSub(this.x).redMul(e.y.redSub(e.x)), i = this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)), n = this.t.redMul(this.curve.dd).redMul(e.t), s = this.z.redMul(e.z.redAdd(e.z)), o = i.redSub(t), f = s.redSub(n), h = s.redAdd(n), d = i.redAdd(t), v = o.redMul(f), w = h.redMul(d), A = o.redMul(d), I = f.redMul(h);\n  return this.curve.point(v, w, I, A);\n};\nft.prototype._projAdd = function(e) {\n  var t = this.z.redMul(e.z), i = t.redSqr(), n = this.x.redMul(e.x), s = this.y.redMul(e.y), o = this.curve.d.redMul(n).redMul(s), f = i.redSub(o), h = i.redAdd(o), d = this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(n).redISub(s), v = t.redMul(f).redMul(d), w, A;\n  return this.curve.twisted ? (w = t.redMul(h).redMul(s.redSub(this.curve._mulA(n))), A = f.redMul(h)) : (w = t.redMul(h).redMul(s.redSub(n)), A = this.curve._mulC(f).redMul(h)), this.curve.point(v, w, A);\n};\nft.prototype.add = function(e) {\n  return this.isInfinity() ? e : e.isInfinity() ? this : this.curve.extended ? this._extAdd(e) : this._projAdd(e);\n};\nft.prototype.mul = function(e) {\n  return this._hasDoubles(e) ? this.curve._fixedNafMul(this, e) : this.curve._wnafMul(this, e);\n};\nft.prototype.mulAdd = function(e, t, i) {\n  return this.curve._wnafMulAdd(1, [this, t], [e, i], 2, !1);\n};\nft.prototype.jmulAdd = function(e, t, i) {\n  return this.curve._wnafMulAdd(1, [this, t], [e, i], 2, !0);\n};\nft.prototype.normalize = function() {\n  if (this.zOne)\n    return this;\n  var e = this.z.redInvm();\n  return this.x = this.x.redMul(e), this.y = this.y.redMul(e), this.t && (this.t = this.t.redMul(e)), this.z = this.curve.one, this.zOne = !0, this;\n};\nft.prototype.neg = function() {\n  return this.curve.point(\n    this.x.redNeg(),\n    this.y,\n    this.z,\n    this.t && this.t.redNeg()\n  );\n};\nft.prototype.getX = function() {\n  return this.normalize(), this.x.fromRed();\n};\nft.prototype.getY = function() {\n  return this.normalize(), this.y.fromRed();\n};\nft.prototype.eq = function(e) {\n  return this === e || this.getX().cmp(e.getX()) === 0 && this.getY().cmp(e.getY()) === 0;\n};\nft.prototype.eqXToP = function(e) {\n  var t = e.toRed(this.curve.red).redMul(this.z);\n  if (this.x.cmp(t) === 0)\n    return !0;\n  for (var i = e.clone(), n = this.curve.redN.redMul(this.z); ; ) {\n    if (i.iadd(this.curve.n), i.cmp(this.curve.p) >= 0)\n      return !1;\n    if (t.redIAdd(n), this.x.cmp(t) === 0)\n      return !0;\n  }\n};\nft.prototype.toP = ft.prototype.normalize;\nft.prototype.mixedAdd = ft.prototype.add;\n(function(r) {\n  var e = r;\n  e.base = ba, e.short = p2, e.mont = b2, e.edwards = m2;\n})(Yo);\nvar ma = {}, Ya, yc;\nfunction w2() {\n  return yc || (yc = 1, Ya = {\n    doubles: {\n      step: 4,\n      points: [\n        [\n          \"e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a\",\n          \"f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821\"\n        ],\n        [\n          \"8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508\",\n          \"11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf\"\n        ],\n        [\n          \"175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739\",\n          \"d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695\"\n        ],\n        [\n          \"363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640\",\n          \"4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9\"\n        ],\n        [\n          \"8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c\",\n          \"4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36\"\n        ],\n        [\n          \"723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda\",\n          \"96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f\"\n        ],\n        [\n          \"eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa\",\n          \"5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999\"\n        ],\n        [\n          \"100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0\",\n          \"cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09\"\n        ],\n        [\n          \"e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d\",\n          \"9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d\"\n        ],\n        [\n          \"feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d\",\n          \"e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088\"\n        ],\n        [\n          \"da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1\",\n          \"9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d\"\n        ],\n        [\n          \"53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0\",\n          \"5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8\"\n        ],\n        [\n          \"8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047\",\n          \"10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a\"\n        ],\n        [\n          \"385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862\",\n          \"283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453\"\n        ],\n        [\n          \"6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7\",\n          \"7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160\"\n        ],\n        [\n          \"3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd\",\n          \"56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0\"\n        ],\n        [\n          \"85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83\",\n          \"7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6\"\n        ],\n        [\n          \"948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a\",\n          \"53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589\"\n        ],\n        [\n          \"6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8\",\n          \"bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17\"\n        ],\n        [\n          \"e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d\",\n          \"4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda\"\n        ],\n        [\n          \"e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725\",\n          \"7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd\"\n        ],\n        [\n          \"213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754\",\n          \"4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2\"\n        ],\n        [\n          \"4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c\",\n          \"17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6\"\n        ],\n        [\n          \"fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6\",\n          \"6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f\"\n        ],\n        [\n          \"76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39\",\n          \"c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01\"\n        ],\n        [\n          \"c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891\",\n          \"893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3\"\n        ],\n        [\n          \"d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b\",\n          \"febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f\"\n        ],\n        [\n          \"b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03\",\n          \"2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7\"\n        ],\n        [\n          \"e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d\",\n          \"eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78\"\n        ],\n        [\n          \"a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070\",\n          \"7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1\"\n        ],\n        [\n          \"90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4\",\n          \"e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150\"\n        ],\n        [\n          \"8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da\",\n          \"662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82\"\n        ],\n        [\n          \"e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11\",\n          \"1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc\"\n        ],\n        [\n          \"8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e\",\n          \"efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b\"\n        ],\n        [\n          \"e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41\",\n          \"2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51\"\n        ],\n        [\n          \"b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef\",\n          \"67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45\"\n        ],\n        [\n          \"d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8\",\n          \"db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120\"\n        ],\n        [\n          \"324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d\",\n          \"648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84\"\n        ],\n        [\n          \"4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96\",\n          \"35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d\"\n        ],\n        [\n          \"9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd\",\n          \"ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d\"\n        ],\n        [\n          \"6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5\",\n          \"9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8\"\n        ],\n        [\n          \"a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266\",\n          \"40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8\"\n        ],\n        [\n          \"7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71\",\n          \"34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac\"\n        ],\n        [\n          \"928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac\",\n          \"c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f\"\n        ],\n        [\n          \"85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751\",\n          \"1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962\"\n        ],\n        [\n          \"ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e\",\n          \"493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907\"\n        ],\n        [\n          \"827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241\",\n          \"c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec\"\n        ],\n        [\n          \"eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3\",\n          \"be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d\"\n        ],\n        [\n          \"e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f\",\n          \"4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414\"\n        ],\n        [\n          \"1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19\",\n          \"aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd\"\n        ],\n        [\n          \"146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be\",\n          \"b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0\"\n        ],\n        [\n          \"fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9\",\n          \"6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811\"\n        ],\n        [\n          \"da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2\",\n          \"8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1\"\n        ],\n        [\n          \"a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13\",\n          \"7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c\"\n        ],\n        [\n          \"174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c\",\n          \"ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73\"\n        ],\n        [\n          \"959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba\",\n          \"2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd\"\n        ],\n        [\n          \"d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151\",\n          \"e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405\"\n        ],\n        [\n          \"64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073\",\n          \"d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589\"\n        ],\n        [\n          \"8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458\",\n          \"38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e\"\n        ],\n        [\n          \"13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b\",\n          \"69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27\"\n        ],\n        [\n          \"bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366\",\n          \"d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1\"\n        ],\n        [\n          \"8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa\",\n          \"40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482\"\n        ],\n        [\n          \"8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0\",\n          \"620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945\"\n        ],\n        [\n          \"dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787\",\n          \"7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573\"\n        ],\n        [\n          \"f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e\",\n          \"ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82\"\n        ]\n      ]\n    },\n    naf: {\n      wnd: 7,\n      points: [\n        [\n          \"f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9\",\n          \"388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672\"\n        ],\n        [\n          \"2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4\",\n          \"d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6\"\n        ],\n        [\n          \"5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc\",\n          \"6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da\"\n        ],\n        [\n          \"acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe\",\n          \"cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37\"\n        ],\n        [\n          \"774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb\",\n          \"d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b\"\n        ],\n        [\n          \"f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8\",\n          \"ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81\"\n        ],\n        [\n          \"d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e\",\n          \"581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58\"\n        ],\n        [\n          \"defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34\",\n          \"4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77\"\n        ],\n        [\n          \"2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c\",\n          \"85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a\"\n        ],\n        [\n          \"352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5\",\n          \"321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c\"\n        ],\n        [\n          \"2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f\",\n          \"2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67\"\n        ],\n        [\n          \"9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714\",\n          \"73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402\"\n        ],\n        [\n          \"daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729\",\n          \"a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55\"\n        ],\n        [\n          \"c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db\",\n          \"2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482\"\n        ],\n        [\n          \"6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4\",\n          \"e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82\"\n        ],\n        [\n          \"1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5\",\n          \"b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396\"\n        ],\n        [\n          \"605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479\",\n          \"2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49\"\n        ],\n        [\n          \"62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d\",\n          \"80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf\"\n        ],\n        [\n          \"80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f\",\n          \"1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a\"\n        ],\n        [\n          \"7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb\",\n          \"d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7\"\n        ],\n        [\n          \"d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9\",\n          \"eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933\"\n        ],\n        [\n          \"49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963\",\n          \"758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a\"\n        ],\n        [\n          \"77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74\",\n          \"958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6\"\n        ],\n        [\n          \"f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530\",\n          \"e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37\"\n        ],\n        [\n          \"463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b\",\n          \"5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e\"\n        ],\n        [\n          \"f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247\",\n          \"cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6\"\n        ],\n        [\n          \"caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1\",\n          \"cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476\"\n        ],\n        [\n          \"2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120\",\n          \"4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40\"\n        ],\n        [\n          \"7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435\",\n          \"91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61\"\n        ],\n        [\n          \"754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18\",\n          \"673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683\"\n        ],\n        [\n          \"e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8\",\n          \"59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5\"\n        ],\n        [\n          \"186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb\",\n          \"3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b\"\n        ],\n        [\n          \"df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f\",\n          \"55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417\"\n        ],\n        [\n          \"5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143\",\n          \"efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868\"\n        ],\n        [\n          \"290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba\",\n          \"e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a\"\n        ],\n        [\n          \"af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45\",\n          \"f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6\"\n        ],\n        [\n          \"766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a\",\n          \"744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996\"\n        ],\n        [\n          \"59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e\",\n          \"c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e\"\n        ],\n        [\n          \"f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8\",\n          \"e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d\"\n        ],\n        [\n          \"7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c\",\n          \"30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2\"\n        ],\n        [\n          \"948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519\",\n          \"e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e\"\n        ],\n        [\n          \"7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab\",\n          \"100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437\"\n        ],\n        [\n          \"3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca\",\n          \"ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311\"\n        ],\n        [\n          \"d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf\",\n          \"8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4\"\n        ],\n        [\n          \"1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610\",\n          \"68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575\"\n        ],\n        [\n          \"733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4\",\n          \"f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d\"\n        ],\n        [\n          \"15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c\",\n          \"d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d\"\n        ],\n        [\n          \"a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940\",\n          \"edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629\"\n        ],\n        [\n          \"e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980\",\n          \"a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06\"\n        ],\n        [\n          \"311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3\",\n          \"66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374\"\n        ],\n        [\n          \"34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf\",\n          \"9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee\"\n        ],\n        [\n          \"f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63\",\n          \"4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1\"\n        ],\n        [\n          \"d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448\",\n          \"fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b\"\n        ],\n        [\n          \"32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf\",\n          \"5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661\"\n        ],\n        [\n          \"7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5\",\n          \"8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6\"\n        ],\n        [\n          \"ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6\",\n          \"8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e\"\n        ],\n        [\n          \"16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5\",\n          \"5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d\"\n        ],\n        [\n          \"eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99\",\n          \"f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc\"\n        ],\n        [\n          \"78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51\",\n          \"f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4\"\n        ],\n        [\n          \"494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5\",\n          \"42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c\"\n        ],\n        [\n          \"a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5\",\n          \"204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b\"\n        ],\n        [\n          \"c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997\",\n          \"4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913\"\n        ],\n        [\n          \"841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881\",\n          \"73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154\"\n        ],\n        [\n          \"5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5\",\n          \"39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865\"\n        ],\n        [\n          \"36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66\",\n          \"d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc\"\n        ],\n        [\n          \"336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726\",\n          \"ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224\"\n        ],\n        [\n          \"8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede\",\n          \"6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e\"\n        ],\n        [\n          \"1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94\",\n          \"60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6\"\n        ],\n        [\n          \"85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31\",\n          \"3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511\"\n        ],\n        [\n          \"29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51\",\n          \"b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b\"\n        ],\n        [\n          \"a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252\",\n          \"ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2\"\n        ],\n        [\n          \"4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5\",\n          \"cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c\"\n        ],\n        [\n          \"d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b\",\n          \"6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3\"\n        ],\n        [\n          \"ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4\",\n          \"322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d\"\n        ],\n        [\n          \"af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f\",\n          \"6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700\"\n        ],\n        [\n          \"e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889\",\n          \"2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4\"\n        ],\n        [\n          \"591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246\",\n          \"b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196\"\n        ],\n        [\n          \"11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984\",\n          \"998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4\"\n        ],\n        [\n          \"3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a\",\n          \"b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257\"\n        ],\n        [\n          \"cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030\",\n          \"bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13\"\n        ],\n        [\n          \"c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197\",\n          \"6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096\"\n        ],\n        [\n          \"c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593\",\n          \"c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38\"\n        ],\n        [\n          \"a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef\",\n          \"21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f\"\n        ],\n        [\n          \"347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38\",\n          \"60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448\"\n        ],\n        [\n          \"da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a\",\n          \"49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a\"\n        ],\n        [\n          \"c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111\",\n          \"5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4\"\n        ],\n        [\n          \"4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502\",\n          \"7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437\"\n        ],\n        [\n          \"3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea\",\n          \"be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7\"\n        ],\n        [\n          \"cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26\",\n          \"8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d\"\n        ],\n        [\n          \"b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986\",\n          \"39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a\"\n        ],\n        [\n          \"d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e\",\n          \"62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54\"\n        ],\n        [\n          \"48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4\",\n          \"25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77\"\n        ],\n        [\n          \"dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda\",\n          \"ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517\"\n        ],\n        [\n          \"6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859\",\n          \"cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10\"\n        ],\n        [\n          \"e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f\",\n          \"f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125\"\n        ],\n        [\n          \"eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c\",\n          \"6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e\"\n        ],\n        [\n          \"13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942\",\n          \"fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1\"\n        ],\n        [\n          \"ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a\",\n          \"1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2\"\n        ],\n        [\n          \"b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80\",\n          \"5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423\"\n        ],\n        [\n          \"ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d\",\n          \"438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8\"\n        ],\n        [\n          \"8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1\",\n          \"cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758\"\n        ],\n        [\n          \"52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63\",\n          \"c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375\"\n        ],\n        [\n          \"e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352\",\n          \"6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d\"\n        ],\n        [\n          \"7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193\",\n          \"ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec\"\n        ],\n        [\n          \"5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00\",\n          \"9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0\"\n        ],\n        [\n          \"32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58\",\n          \"ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c\"\n        ],\n        [\n          \"e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7\",\n          \"d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4\"\n        ],\n        [\n          \"8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8\",\n          \"c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f\"\n        ],\n        [\n          \"4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e\",\n          \"67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649\"\n        ],\n        [\n          \"3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d\",\n          \"cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826\"\n        ],\n        [\n          \"674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b\",\n          \"299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5\"\n        ],\n        [\n          \"d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f\",\n          \"f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87\"\n        ],\n        [\n          \"30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6\",\n          \"462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b\"\n        ],\n        [\n          \"be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297\",\n          \"62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc\"\n        ],\n        [\n          \"93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a\",\n          \"7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c\"\n        ],\n        [\n          \"b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c\",\n          \"ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f\"\n        ],\n        [\n          \"d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52\",\n          \"4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a\"\n        ],\n        [\n          \"d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb\",\n          \"bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46\"\n        ],\n        [\n          \"463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065\",\n          \"bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f\"\n        ],\n        [\n          \"7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917\",\n          \"603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03\"\n        ],\n        [\n          \"74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9\",\n          \"cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08\"\n        ],\n        [\n          \"30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3\",\n          \"553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8\"\n        ],\n        [\n          \"9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57\",\n          \"712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373\"\n        ],\n        [\n          \"176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66\",\n          \"ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3\"\n        ],\n        [\n          \"75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8\",\n          \"9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8\"\n        ],\n        [\n          \"809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721\",\n          \"9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1\"\n        ],\n        [\n          \"1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180\",\n          \"4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9\"\n        ]\n      ]\n    }\n  }), Ya;\n}\n(function(r) {\n  var e = r, t = ns, i = Yo, n = ar, s = n.assert;\n  function o(d) {\n    d.type === \"short\" ? this.curve = new i.short(d) : d.type === \"edwards\" ? this.curve = new i.edwards(d) : this.curve = new i.mont(d), this.g = this.curve.g, this.n = this.curve.n, this.hash = d.hash, s(this.g.validate(), \"Invalid curve\"), s(this.g.mul(this.n).isInfinity(), \"Invalid curve, G*N != O\");\n  }\n  e.PresetCurve = o;\n  function f(d, v) {\n    Object.defineProperty(e, d, {\n      configurable: !0,\n      enumerable: !0,\n      get: function() {\n        var w = new o(v);\n        return Object.defineProperty(e, d, {\n          configurable: !0,\n          enumerable: !0,\n          value: w\n        }), w;\n      }\n    });\n  }\n  f(\"p192\", {\n    type: \"short\",\n    prime: \"p192\",\n    p: \"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff\",\n    a: \"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc\",\n    b: \"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1\",\n    n: \"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831\",\n    hash: t.sha256,\n    gRed: !1,\n    g: [\n      \"188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012\",\n      \"07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811\"\n    ]\n  }), f(\"p224\", {\n    type: \"short\",\n    prime: \"p224\",\n    p: \"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001\",\n    a: \"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe\",\n    b: \"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4\",\n    n: \"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d\",\n    hash: t.sha256,\n    gRed: !1,\n    g: [\n      \"b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21\",\n      \"bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34\"\n    ]\n  }), f(\"p256\", {\n    type: \"short\",\n    prime: null,\n    p: \"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff\",\n    a: \"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc\",\n    b: \"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b\",\n    n: \"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551\",\n    hash: t.sha256,\n    gRed: !1,\n    g: [\n      \"6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296\",\n      \"4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5\"\n    ]\n  }), f(\"p384\", {\n    type: \"short\",\n    prime: null,\n    p: \"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff\",\n    a: \"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc\",\n    b: \"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef\",\n    n: \"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973\",\n    hash: t.sha384,\n    gRed: !1,\n    g: [\n      \"aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7\",\n      \"3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f\"\n    ]\n  }), f(\"p521\", {\n    type: \"short\",\n    prime: null,\n    p: \"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff\",\n    a: \"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc\",\n    b: \"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00\",\n    n: \"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409\",\n    hash: t.sha512,\n    gRed: !1,\n    g: [\n      \"000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66\",\n      \"00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650\"\n    ]\n  }), f(\"curve25519\", {\n    type: \"mont\",\n    prime: \"p25519\",\n    p: \"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed\",\n    a: \"76d06\",\n    b: \"1\",\n    n: \"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed\",\n    hash: t.sha256,\n    gRed: !1,\n    g: [\n      \"9\"\n    ]\n  }), f(\"ed25519\", {\n    type: \"edwards\",\n    prime: \"p25519\",\n    p: \"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed\",\n    a: \"-1\",\n    c: \"1\",\n    // -121665 * (121666^(-1)) (mod P)\n    d: \"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3\",\n    n: \"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed\",\n    hash: t.sha256,\n    gRed: !1,\n    g: [\n      \"216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a\",\n      // 4/5\n      \"6666666666666666666666666666666666666666666666666666666666666658\"\n    ]\n  });\n  var h;\n  try {\n    h = w2();\n  } catch {\n    h = void 0;\n  }\n  f(\"secp256k1\", {\n    type: \"short\",\n    prime: \"k256\",\n    p: \"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f\",\n    a: \"0\",\n    b: \"7\",\n    n: \"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141\",\n    h: \"1\",\n    hash: t.sha256,\n    // Precomputed endomorphism\n    beta: \"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee\",\n    lambda: \"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72\",\n    basis: [\n      {\n        a: \"3086d221a7d46bcde86c90e49284eb15\",\n        b: \"-e4437ed6010e88286f547fa90abfe4c3\"\n      },\n      {\n        a: \"114ca50f7a8e2f3f657c1108d9d44cfd8\",\n        b: \"3086d221a7d46bcde86c90e49284eb15\"\n      }\n    ],\n    gRed: !1,\n    g: [\n      \"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798\",\n      \"483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8\",\n      h\n    ]\n  });\n})(ma);\nvar _2 = ns, ki = Go, Gu = Yi;\nfunction xi(r) {\n  if (!(this instanceof xi))\n    return new xi(r);\n  this.hash = r.hash, this.predResist = !!r.predResist, this.outLen = this.hash.outSize, this.minEntropy = r.minEntropy || this.hash.hmacStrength, this._reseed = null, this.reseedInterval = null, this.K = null, this.V = null;\n  var e = ki.toArray(r.entropy, r.entropyEnc || \"hex\"), t = ki.toArray(r.nonce, r.nonceEnc || \"hex\"), i = ki.toArray(r.pers, r.persEnc || \"hex\");\n  Gu(\n    e.length >= this.minEntropy / 8,\n    \"Not enough entropy. Minimum is: \" + this.minEntropy + \" bits\"\n  ), this._init(e, t, i);\n}\nvar x2 = xi;\nxi.prototype._init = function(e, t, i) {\n  var n = e.concat(t).concat(i);\n  this.K = new Array(this.outLen / 8), this.V = new Array(this.outLen / 8);\n  for (var s = 0; s < this.V.length; s++)\n    this.K[s] = 0, this.V[s] = 1;\n  this._update(n), this._reseed = 1, this.reseedInterval = 281474976710656;\n};\nxi.prototype._hmac = function() {\n  return new _2.hmac(this.hash, this.K);\n};\nxi.prototype._update = function(e) {\n  var t = this._hmac().update(this.V).update([0]);\n  e && (t = t.update(e)), this.K = t.digest(), this.V = this._hmac().update(this.V).digest(), e && (this.K = this._hmac().update(this.V).update([1]).update(e).digest(), this.V = this._hmac().update(this.V).digest());\n};\nxi.prototype.reseed = function(e, t, i, n) {\n  typeof t != \"string\" && (n = i, i = t, t = null), e = ki.toArray(e, t), i = ki.toArray(i, n), Gu(\n    e.length >= this.minEntropy / 8,\n    \"Not enough entropy. Minimum is: \" + this.minEntropy + \" bits\"\n  ), this._update(e.concat(i || [])), this._reseed = 1;\n};\nxi.prototype.generate = function(e, t, i, n) {\n  if (this._reseed > this.reseedInterval)\n    throw new Error(\"Reseed is required\");\n  typeof t != \"string\" && (n = i, i = t, t = null), i && (i = ki.toArray(i, n || \"hex\"), this._update(i));\n  for (var s = []; s.length < e; )\n    this.V = this._hmac().update(this.V).digest(), s = s.concat(this.V);\n  var o = s.slice(0, e);\n  return this._update(i), this._reseed++, ki.encode(o, t);\n};\nvar E2 = li, S2 = ar, Mo = S2.assert;\nfunction Ut(r, e) {\n  this.ec = r, this.priv = null, this.pub = null, e.priv && this._importPrivate(e.priv, e.privEnc), e.pub && this._importPublic(e.pub, e.pubEnc);\n}\nvar M2 = Ut;\nUt.fromPublic = function(e, t, i) {\n  return t instanceof Ut ? t : new Ut(e, {\n    pub: t,\n    pubEnc: i\n  });\n};\nUt.fromPrivate = function(e, t, i) {\n  return t instanceof Ut ? t : new Ut(e, {\n    priv: t,\n    privEnc: i\n  });\n};\nUt.prototype.validate = function() {\n  var e = this.getPublic();\n  return e.isInfinity() ? { result: !1, reason: \"Invalid public key\" } : e.validate() ? e.mul(this.ec.curve.n).isInfinity() ? { result: !0, reason: null } : { result: !1, reason: \"Public key * N != O\" } : { result: !1, reason: \"Public key is not a point\" };\n};\nUt.prototype.getPublic = function(e, t) {\n  return typeof e == \"string\" && (t = e, e = null), this.pub || (this.pub = this.ec.g.mul(this.priv)), t ? this.pub.encode(t, e) : this.pub;\n};\nUt.prototype.getPrivate = function(e) {\n  return e === \"hex\" ? this.priv.toString(16, 2) : this.priv;\n};\nUt.prototype._importPrivate = function(e, t) {\n  this.priv = new E2(e, t || 16), this.priv = this.priv.umod(this.ec.curve.n);\n};\nUt.prototype._importPublic = function(e, t) {\n  if (e.x || e.y) {\n    this.ec.curve.type === \"mont\" ? Mo(e.x, \"Need x coordinate\") : (this.ec.curve.type === \"short\" || this.ec.curve.type === \"edwards\") && Mo(e.x && e.y, \"Need both x and y coordinate\"), this.pub = this.ec.curve.point(e.x, e.y);\n    return;\n  }\n  this.pub = this.ec.curve.decodePoint(e, t);\n};\nUt.prototype.derive = function(e) {\n  return e.validate() || Mo(e.validate(), \"public point not validated\"), e.mul(this.priv).getX();\n};\nUt.prototype.sign = function(e, t, i) {\n  return this.ec.sign(e, this, t, i);\n};\nUt.prototype.verify = function(e, t, i) {\n  return this.ec.verify(e, t, this, void 0, i);\n};\nUt.prototype.inspect = function() {\n  return \"<Key priv: \" + (this.priv && this.priv.toString(16, 2)) + \" pub: \" + (this.pub && this.pub.inspect()) + \" >\";\n};\nvar Ws = li, Zo = ar, I2 = Zo.assert;\nfunction wa(r, e) {\n  if (r instanceof wa)\n    return r;\n  this._importDER(r, e) || (I2(r.r && r.s, \"Signature without r or s\"), this.r = new Ws(r.r, 16), this.s = new Ws(r.s, 16), r.recoveryParam === void 0 ? this.recoveryParam = null : this.recoveryParam = r.recoveryParam);\n}\nvar A2 = wa;\nfunction D2() {\n  this.place = 0;\n}\nfunction Xa(r, e) {\n  var t = r[e.place++];\n  if (!(t & 128))\n    return t;\n  var i = t & 15;\n  if (i === 0 || i > 4 || r[e.place] === 0)\n    return !1;\n  for (var n = 0, s = 0, o = e.place; s < i; s++, o++)\n    n <<= 8, n |= r[o], n >>>= 0;\n  return n <= 127 ? !1 : (e.place = o, n);\n}\nfunction mc(r) {\n  for (var e = 0, t = r.length - 1; !r[e] && !(r[e + 1] & 128) && e < t; )\n    e++;\n  return e === 0 ? r : r.slice(e);\n}\nwa.prototype._importDER = function(e, t) {\n  e = Zo.toArray(e, t);\n  var i = new D2();\n  if (e[i.place++] !== 48)\n    return !1;\n  var n = Xa(e, i);\n  if (n === !1 || n + i.place !== e.length || e[i.place++] !== 2)\n    return !1;\n  var s = Xa(e, i);\n  if (s === !1 || e[i.place] & 128)\n    return !1;\n  var o = e.slice(i.place, s + i.place);\n  if (i.place += s, e[i.place++] !== 2)\n    return !1;\n  var f = Xa(e, i);\n  if (f === !1 || e.length !== f + i.place || e[i.place] & 128)\n    return !1;\n  var h = e.slice(i.place, f + i.place);\n  if (o[0] === 0)\n    if (o[1] & 128)\n      o = o.slice(1);\n    else\n      return !1;\n  if (h[0] === 0)\n    if (h[1] & 128)\n      h = h.slice(1);\n    else\n      return !1;\n  return this.r = new Ws(o), this.s = new Ws(h), this.recoveryParam = null, !0;\n};\nfunction Za(r, e) {\n  if (e < 128) {\n    r.push(e);\n    return;\n  }\n  var t = 1 + (Math.log(e) / Math.LN2 >>> 3);\n  for (r.push(t | 128); --t; )\n    r.push(e >>> (t << 3) & 255);\n  r.push(e);\n}\nwa.prototype.toDER = function(e) {\n  var t = this.r.toArray(), i = this.s.toArray();\n  for (t[0] & 128 && (t = [0].concat(t)), i[0] & 128 && (i = [0].concat(i)), t = mc(t), i = mc(i); !i[0] && !(i[1] & 128); )\n    i = i.slice(1);\n  var n = [2];\n  Za(n, t.length), n = n.concat(t), n.push(2), Za(n, i.length);\n  var s = n.concat(i), o = [48];\n  return Za(o, s.length), o = o.concat(s), Zo.encode(o, e);\n};\nvar Ir = li, Ju = x2, P2 = ar, Qa = ma, O2 = Hu, Fi = P2.assert, Qo = M2, _a = A2;\nfunction pr(r) {\n  if (!(this instanceof pr))\n    return new pr(r);\n  typeof r == \"string\" && (Fi(\n    Object.prototype.hasOwnProperty.call(Qa, r),\n    \"Unknown curve \" + r\n  ), r = Qa[r]), r instanceof Qa.PresetCurve && (r = { curve: r }), this.curve = r.curve.curve, this.n = this.curve.n, this.nh = this.n.ushrn(1), this.g = this.curve.g, this.g = r.curve.g, this.g.precompute(r.curve.n.bitLength() + 1), this.hash = r.hash || r.curve.hash;\n}\nvar R2 = pr;\npr.prototype.keyPair = function(e) {\n  return new Qo(this, e);\n};\npr.prototype.keyFromPrivate = function(e, t) {\n  return Qo.fromPrivate(this, e, t);\n};\npr.prototype.keyFromPublic = function(e, t) {\n  return Qo.fromPublic(this, e, t);\n};\npr.prototype.genKeyPair = function(e) {\n  e || (e = {});\n  for (var t = new Ju({\n    hash: this.hash,\n    pers: e.pers,\n    persEnc: e.persEnc || \"utf8\",\n    entropy: e.entropy || O2(this.hash.hmacStrength),\n    entropyEnc: e.entropy && e.entropyEnc || \"utf8\",\n    nonce: this.n.toArray()\n  }), i = this.n.byteLength(), n = this.n.sub(new Ir(2)); ; ) {\n    var s = new Ir(t.generate(i));\n    if (!(s.cmp(n) > 0))\n      return s.iaddn(1), this.keyFromPrivate(s);\n  }\n};\npr.prototype._truncateToN = function(e, t, i) {\n  var n;\n  if (Ir.isBN(e) || typeof e == \"number\")\n    e = new Ir(e, 16), n = e.byteLength();\n  else if (typeof e == \"object\")\n    n = e.length, e = new Ir(e, 16);\n  else {\n    var s = e.toString();\n    n = s.length + 1 >>> 1, e = new Ir(s, 16);\n  }\n  typeof i != \"number\" && (i = n * 8);\n  var o = i - this.n.bitLength();\n  return o > 0 && (e = e.ushrn(o)), !t && e.cmp(this.n) >= 0 ? e.sub(this.n) : e;\n};\npr.prototype.sign = function(e, t, i, n) {\n  if (typeof i == \"object\" && (n = i, i = null), n || (n = {}), typeof e != \"string\" && typeof e != \"number\" && !Ir.isBN(e)) {\n    Fi(\n      typeof e == \"object\" && e && typeof e.length == \"number\",\n      \"Expected message to be an array-like, a hex string, or a BN instance\"\n    ), Fi(e.length >>> 0 === e.length);\n    for (var s = 0; s < e.length; s++)\n      Fi((e[s] & 255) === e[s]);\n  }\n  t = this.keyFromPrivate(t, i), e = this._truncateToN(e, !1, n.msgBitLength), Fi(!e.isNeg(), \"Can not sign a negative message\");\n  var o = this.n.byteLength(), f = t.getPrivate().toArray(\"be\", o), h = e.toArray(\"be\", o);\n  Fi(new Ir(h).eq(e), \"Can not sign message\");\n  for (var d = new Ju({\n    hash: this.hash,\n    entropy: f,\n    nonce: h,\n    pers: n.pers,\n    persEnc: n.persEnc || \"utf8\"\n  }), v = this.n.sub(new Ir(1)), w = 0; ; w++) {\n    var A = n.k ? n.k(w) : new Ir(d.generate(this.n.byteLength()));\n    if (A = this._truncateToN(A, !0), !(A.cmpn(1) <= 0 || A.cmp(v) >= 0)) {\n      var I = this.g.mul(A);\n      if (!I.isInfinity()) {\n        var D = I.getX(), N = D.umod(this.n);\n        if (N.cmpn(0) !== 0) {\n          var k = A.invm(this.n).mul(N.mul(t.getPrivate()).iadd(e));\n          if (k = k.umod(this.n), k.cmpn(0) !== 0) {\n            var j = (I.getY().isOdd() ? 1 : 0) | (D.cmp(N) !== 0 ? 2 : 0);\n            return n.canonical && k.cmp(this.nh) > 0 && (k = this.n.sub(k), j ^= 1), new _a({ r: N, s: k, recoveryParam: j });\n          }\n        }\n      }\n    }\n  }\n};\npr.prototype.verify = function(e, t, i, n, s) {\n  s || (s = {}), e = this._truncateToN(e, !1, s.msgBitLength), i = this.keyFromPublic(i, n), t = new _a(t, \"hex\");\n  var o = t.r, f = t.s;\n  if (o.cmpn(1) < 0 || o.cmp(this.n) >= 0 || f.cmpn(1) < 0 || f.cmp(this.n) >= 0)\n    return !1;\n  var h = f.invm(this.n), d = h.mul(e).umod(this.n), v = h.mul(o).umod(this.n), w;\n  return this.curve._maxwellTrick ? (w = this.g.jmulAdd(d, i.getPublic(), v), w.isInfinity() ? !1 : w.eqXToP(o)) : (w = this.g.mulAdd(d, i.getPublic(), v), w.isInfinity() ? !1 : w.getX().umod(this.n).cmp(o) === 0);\n};\npr.prototype.recoverPubKey = function(r, e, t, i) {\n  Fi((3 & t) === t, \"The recovery param is more than two bits\"), e = new _a(e, i);\n  var n = this.n, s = new Ir(r), o = e.r, f = e.s, h = t & 1, d = t >> 1;\n  if (o.cmp(this.curve.p.umod(this.curve.n)) >= 0 && d)\n    throw new Error(\"Unable to find sencond key candinate\");\n  d ? o = this.curve.pointFromX(o.add(this.curve.n), h) : o = this.curve.pointFromX(o, h);\n  var v = e.r.invm(n), w = n.sub(s).mul(v).umod(n), A = f.mul(v).umod(n);\n  return this.g.mulAdd(w, o, A);\n};\npr.prototype.getKeyRecoveryParam = function(r, e, t, i) {\n  if (e = new _a(e, i), e.recoveryParam !== null)\n    return e.recoveryParam;\n  for (var n = 0; n < 4; n++) {\n    var s;\n    try {\n      s = this.recoverPubKey(r, e, n);\n    } catch {\n      continue;\n    }\n    if (s.eq(t))\n      return n;\n  }\n  throw new Error(\"Unable to find valid recovery factor\");\n};\nvar fs = ar, Yu = fs.assert, wc = fs.parseBytes, Mn = fs.cachedProperty;\nfunction It(r, e) {\n  this.eddsa = r, this._secret = wc(e.secret), r.isPoint(e.pub) ? this._pub = e.pub : this._pubBytes = wc(e.pub);\n}\nIt.fromPublic = function(e, t) {\n  return t instanceof It ? t : new It(e, { pub: t });\n};\nIt.fromSecret = function(e, t) {\n  return t instanceof It ? t : new It(e, { secret: t });\n};\nIt.prototype.secret = function() {\n  return this._secret;\n};\nMn(It, \"pubBytes\", function() {\n  return this.eddsa.encodePoint(this.pub());\n});\nMn(It, \"pub\", function() {\n  return this._pubBytes ? this.eddsa.decodePoint(this._pubBytes) : this.eddsa.g.mul(this.priv());\n});\nMn(It, \"privBytes\", function() {\n  var e = this.eddsa, t = this.hash(), i = e.encodingLength - 1, n = t.slice(0, e.encodingLength);\n  return n[0] &= 248, n[i] &= 127, n[i] |= 64, n;\n});\nMn(It, \"priv\", function() {\n  return this.eddsa.decodeInt(this.privBytes());\n});\nMn(It, \"hash\", function() {\n  return this.eddsa.hash().update(this.secret()).digest();\n});\nMn(It, \"messagePrefix\", function() {\n  return this.hash().slice(this.eddsa.encodingLength);\n});\nIt.prototype.sign = function(e) {\n  return Yu(this._secret, \"KeyPair can only verify\"), this.eddsa.sign(e, this);\n};\nIt.prototype.verify = function(e, t) {\n  return this.eddsa.verify(e, t, this);\n};\nIt.prototype.getSecret = function(e) {\n  return Yu(this._secret, \"KeyPair is public only\"), fs.encode(this.secret(), e);\n};\nIt.prototype.getPublic = function(e) {\n  return fs.encode(this.pubBytes(), e);\n};\nvar N2 = It, T2 = li, xa = ar, _c = xa.assert, Ea = xa.cachedProperty, C2 = xa.parseBytes;\nfunction Zi(r, e) {\n  this.eddsa = r, typeof e != \"object\" && (e = C2(e)), Array.isArray(e) && (_c(e.length === r.encodingLength * 2, \"Signature has invalid size\"), e = {\n    R: e.slice(0, r.encodingLength),\n    S: e.slice(r.encodingLength)\n  }), _c(e.R && e.S, \"Signature without R or S\"), r.isPoint(e.R) && (this._R = e.R), e.S instanceof T2 && (this._S = e.S), this._Rencoded = Array.isArray(e.R) ? e.R : e.Rencoded, this._Sencoded = Array.isArray(e.S) ? e.S : e.Sencoded;\n}\nEa(Zi, \"S\", function() {\n  return this.eddsa.decodeInt(this.Sencoded());\n});\nEa(Zi, \"R\", function() {\n  return this.eddsa.decodePoint(this.Rencoded());\n});\nEa(Zi, \"Rencoded\", function() {\n  return this.eddsa.encodePoint(this.R());\n});\nEa(Zi, \"Sencoded\", function() {\n  return this.eddsa.encodeInt(this.S());\n});\nZi.prototype.toBytes = function() {\n  return this.Rencoded().concat(this.Sencoded());\n};\nZi.prototype.toHex = function() {\n  return xa.encode(this.toBytes(), \"hex\").toUpperCase();\n};\nvar $2 = Zi, L2 = ns, F2 = ma, vn = ar, q2 = vn.assert, Xu = vn.parseBytes, Zu = N2, xc = $2;\nfunction Xt(r) {\n  if (q2(r === \"ed25519\", \"only tested with ed25519 so far\"), !(this instanceof Xt))\n    return new Xt(r);\n  r = F2[r].curve, this.curve = r, this.g = r.g, this.g.precompute(r.n.bitLength() + 1), this.pointClass = r.point().constructor, this.encodingLength = Math.ceil(r.n.bitLength() / 8), this.hash = L2.sha512;\n}\nvar U2 = Xt;\nXt.prototype.sign = function(e, t) {\n  e = Xu(e);\n  var i = this.keyFromSecret(t), n = this.hashInt(i.messagePrefix(), e), s = this.g.mul(n), o = this.encodePoint(s), f = this.hashInt(o, i.pubBytes(), e).mul(i.priv()), h = n.add(f).umod(this.curve.n);\n  return this.makeSignature({ R: s, S: h, Rencoded: o });\n};\nXt.prototype.verify = function(e, t, i) {\n  if (e = Xu(e), t = this.makeSignature(t), t.S().gte(t.eddsa.curve.n) || t.S().isNeg())\n    return !1;\n  var n = this.keyFromPublic(i), s = this.hashInt(t.Rencoded(), n.pubBytes(), e), o = this.g.mul(t.S()), f = t.R().add(n.pub().mul(s));\n  return f.eq(o);\n};\nXt.prototype.hashInt = function() {\n  for (var e = this.hash(), t = 0; t < arguments.length; t++)\n    e.update(arguments[t]);\n  return vn.intFromLE(e.digest()).umod(this.curve.n);\n};\nXt.prototype.keyFromPublic = function(e) {\n  return Zu.fromPublic(this, e);\n};\nXt.prototype.keyFromSecret = function(e) {\n  return Zu.fromSecret(this, e);\n};\nXt.prototype.makeSignature = function(e) {\n  return e instanceof xc ? e : new xc(this, e);\n};\nXt.prototype.encodePoint = function(e) {\n  var t = e.getY().toArray(\"le\", this.encodingLength);\n  return t[this.encodingLength - 1] |= e.getX().isOdd() ? 128 : 0, t;\n};\nXt.prototype.decodePoint = function(e) {\n  e = vn.parseBytes(e);\n  var t = e.length - 1, i = e.slice(0, t).concat(e[t] & -129), n = (e[t] & 128) !== 0, s = vn.intFromLE(i);\n  return this.curve.pointFromY(s, n);\n};\nXt.prototype.encodeInt = function(e) {\n  return e.toArray(\"le\", this.encodingLength);\n};\nXt.prototype.decodeInt = function(e) {\n  return vn.intFromLE(e);\n};\nXt.prototype.isPoint = function(e) {\n  return e instanceof this.pointClass;\n};\n(function(r) {\n  var e = r;\n  e.version = h2.version, e.utils = ar, e.rand = Hu, e.curve = Yo, e.curves = ma, e.ec = R2, e.eddsa = U2;\n})(Ku);\nconst z2 = { waku: { publish: \"waku_publish\", batchPublish: \"waku_batchPublish\", subscribe: \"waku_subscribe\", batchSubscribe: \"waku_batchSubscribe\", subscription: \"waku_subscription\", unsubscribe: \"waku_unsubscribe\", batchUnsubscribe: \"waku_batchUnsubscribe\", batchFetchMessages: \"waku_batchFetchMessages\" }, irn: { publish: \"irn_publish\", batchPublish: \"irn_batchPublish\", subscribe: \"irn_subscribe\", batchSubscribe: \"irn_batchSubscribe\", subscription: \"irn_subscription\", unsubscribe: \"irn_unsubscribe\", batchUnsubscribe: \"irn_batchUnsubscribe\", batchFetchMessages: \"irn_batchFetchMessages\" }, iridium: { publish: \"iridium_publish\", batchPublish: \"iridium_batchPublish\", subscribe: \"iridium_subscribe\", batchSubscribe: \"iridium_batchSubscribe\", subscription: \"iridium_subscription\", unsubscribe: \"iridium_unsubscribe\", batchUnsubscribe: \"iridium_batchUnsubscribe\", batchFetchMessages: \"iridium_batchFetchMessages\" } }, ef = \":\";\nfunction Ns(r) {\n  const [e, t] = r.split(ef);\n  return { namespace: e, reference: t };\n}\nfunction B2(r) {\n  const { namespace: e, reference: t } = r;\n  return [e, t].join(ef);\n}\nfunction k2(r) {\n  const [e, t, i] = r.split(ef);\n  return { namespace: e, reference: t, address: i };\n}\nfunction j2(r, e) {\n  const t = [];\n  return r.forEach((i) => {\n    const n = e(i);\n    t.includes(n) || t.push(n);\n  }), t;\n}\nfunction K2(r) {\n  const { namespace: e, reference: t } = k2(r);\n  return B2({ namespace: e, reference: t });\n}\nfunction H2(r) {\n  return j2(r, K2);\n}\nfunction Qu(r, e = []) {\n  const t = [];\n  return Object.keys(r).forEach((i) => {\n    if (e.length && !e.includes(i))\n      return;\n    const n = r[i];\n    t.push(...n.accounts);\n  }), t;\n}\nfunction ed(r, e = []) {\n  const t = [];\n  return Object.keys(r).forEach((i) => {\n    if (e.length && !e.includes(i))\n      return;\n    const n = r[i];\n    t.push(...H2(n.accounts));\n  }), t;\n}\nfunction V2(r, e = []) {\n  const t = [];\n  return Object.keys(r).forEach((i) => {\n    if (e.length && !e.includes(i))\n      return;\n    const n = r[i];\n    t.push(...tf(i, n));\n  }), t;\n}\nfunction tf(r, e) {\n  return r.includes(\":\") ? [r] : e.chains || [];\n}\nvar W2 = Object.defineProperty, Ec = Object.getOwnPropertySymbols, G2 = Object.prototype.hasOwnProperty, J2 = Object.prototype.propertyIsEnumerable, Sc = (r, e, t) => e in r ? W2(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : r[e] = t, Mc = (r, e) => {\n  for (var t in e || (e = {}))\n    G2.call(e, t) && Sc(r, t, e[t]);\n  if (Ec)\n    for (var t of Ec(e))\n      J2.call(e, t) && Sc(r, t, e[t]);\n  return r;\n};\nconst Y2 = \"ReactNative\", rr = { reactNative: \"react-native\", node: \"node\", browser: \"browser\", unknown: \"unknown\" }, X2 = \"js\";\nfunction Gs() {\n  return typeof process < \"u\" && typeof process.versions < \"u\" && typeof process.versions.node < \"u\";\n}\nfunction Ai() {\n  return !is() && !!$o() && navigator.product === Y2;\n}\nfunction Z2() {\n  return Ai() && typeof global < \"u\" && typeof (global == null ? void 0 : global.Platform) < \"u\" && (global == null ? void 0 : global.Platform.OS) === \"android\";\n}\nfunction Q2() {\n  return Ai() && typeof global < \"u\" && typeof (global == null ? void 0 : global.Platform) < \"u\" && (global == null ? void 0 : global.Platform.OS) === \"ios\";\n}\nfunction cs() {\n  return !Gs() && !!$o() && !!is();\n}\nfunction hs() {\n  return Ai() ? rr.reactNative : Gs() ? rr.node : cs() ? rr.browser : rr.unknown;\n}\nfunction Ic() {\n  var r;\n  try {\n    return Ai() && typeof global < \"u\" && typeof (global == null ? void 0 : global.Application) < \"u\" ? (r = global.Application) == null ? void 0 : r.applicationId : void 0;\n  } catch {\n    return;\n  }\n}\nfunction ey(r, e) {\n  let t = Yn.parse(r);\n  return t = Mc(Mc({}, t), e), r = Yn.stringify(t), r;\n}\nfunction td() {\n  return uu() || { name: \"\", description: \"\", url: \"\", icons: [\"\"] };\n}\nfunction ty() {\n  if (hs() === rr.reactNative && typeof global < \"u\" && typeof (global == null ? void 0 : global.Platform) < \"u\") {\n    const { OS: t, Version: i } = global.Platform;\n    return [t, i].join(\"-\");\n  }\n  const r = cu();\n  if (r === null)\n    return \"unknown\";\n  const e = r.os ? r.os.replace(\" \", \"\").toLowerCase() : \"unknown\";\n  return r.type === \"browser\" ? [e, r.name, r.version].join(\"-\") : [e, r.version].join(\"-\");\n}\nfunction ry() {\n  var r;\n  const e = hs();\n  return e === rr.browser ? [e, ((r = hu()) == null ? void 0 : r.host) || \"unknown\"].join(\":\") : e;\n}\nfunction rd(r, e, t) {\n  const i = ty(), n = ry();\n  return [[r, e].join(\"-\"), [X2, t].join(\"-\"), i, n].join(\"/\");\n}\nfunction iy({ protocol: r, version: e, relayUrl: t, sdkVersion: i, auth: n, projectId: s, useOnCloseEvent: o, bundleId: f, packageName: h }) {\n  const d = t.split(\"?\"), v = rd(r, e, i), w = { auth: n, ua: v, projectId: s, useOnCloseEvent: o || void 0, packageName: h || void 0, bundleId: f || void 0 }, A = ey(d[1] || \"\", w);\n  return d[0] + \"?\" + A;\n}\nfunction Ui(r, e) {\n  return r.filter((t) => e.includes(t)).length === r.length;\n}\nfunction id(r) {\n  return Object.fromEntries(r.entries());\n}\nfunction nd(r) {\n  return new Map(Object.entries(r));\n}\nfunction Li(r = ie.FIVE_MINUTES, e) {\n  const t = ie.toMiliseconds(r || ie.FIVE_MINUTES);\n  let i, n, s, o;\n  return { resolve: (f) => {\n    s && i && (clearTimeout(s), i(f), o = Promise.resolve(f));\n  }, reject: (f) => {\n    s && n && (clearTimeout(s), n(f));\n  }, done: () => new Promise((f, h) => {\n    if (o)\n      return f(o);\n    s = setTimeout(() => {\n      const d = new Error(e);\n      o = Promise.reject(d), h(d);\n    }, t), i = f, n = h;\n  }) };\n}\nfunction mi(r, e, t) {\n  return new Promise(async (i, n) => {\n    const s = setTimeout(() => n(new Error(t)), e);\n    try {\n      const o = await r;\n      i(o);\n    } catch (o) {\n      n(o);\n    }\n    clearTimeout(s);\n  });\n}\nfunction sd(r, e) {\n  if (typeof e == \"string\" && e.startsWith(`${r}:`))\n    return e;\n  if (r.toLowerCase() === \"topic\") {\n    if (typeof e != \"string\")\n      throw new Error('Value must be \"string\" for expirer target type: topic');\n    return `topic:${e}`;\n  } else if (r.toLowerCase() === \"id\") {\n    if (typeof e != \"number\")\n      throw new Error('Value must be \"number\" for expirer target type: id');\n    return `id:${e}`;\n  }\n  throw new Error(`Unknown expirer target type: ${r}`);\n}\nfunction ny(r) {\n  return sd(\"topic\", r);\n}\nfunction sy(r) {\n  return sd(\"id\", r);\n}\nfunction ad(r) {\n  const [e, t] = r.split(\":\"), i = { id: void 0, topic: void 0 };\n  if (e === \"topic\" && typeof t == \"string\")\n    i.topic = t;\n  else if (e === \"id\" && Number.isInteger(Number(t)))\n    i.id = Number(t);\n  else\n    throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${t}`);\n  return i;\n}\nfunction mt(r, e) {\n  return ie.fromMiliseconds((e || Date.now()) + ie.toMiliseconds(r));\n}\nfunction gi(r) {\n  return Date.now() >= ie.toMiliseconds(r);\n}\nfunction Xe(r, e) {\n  return `${r}${e ? `:${e}` : \"\"}`;\n}\nfunction ay(r = [], e = []) {\n  return [.../* @__PURE__ */ new Set([...r, ...e])];\n}\nasync function oy({ id: r, topic: e, wcDeepLink: t }) {\n  var i;\n  try {\n    if (!t)\n      return;\n    const n = typeof t == \"string\" ? JSON.parse(t) : t, s = n?.href;\n    if (typeof s != \"string\")\n      return;\n    const o = fy(s, r, e), f = hs();\n    if (f === rr.browser) {\n      if (!((i = is()) != null && i.hasFocus())) {\n        console.warn(\"Document does not have focus, skipping deeplink.\");\n        return;\n      }\n      o.startsWith(\"https://\") || o.startsWith(\"http://\") ? window.open(o, \"_blank\", \"noreferrer noopener\") : window.open(o, hy() ? \"_blank\" : \"_self\", \"noreferrer noopener\");\n    } else\n      f === rr.reactNative && typeof (global == null ? void 0 : global.Linking) < \"u\" && await global.Linking.openURL(o);\n  } catch (n) {\n    console.error(n);\n  }\n}\nfunction fy(r, e, t) {\n  const i = `requestId=${e}&sessionTopic=${t}`;\n  r.endsWith(\"/\") && (r = r.slice(0, -1));\n  let n = `${r}`;\n  if (r.startsWith(\"https://t.me\")) {\n    const s = r.includes(\"?\") ? \"&startapp=\" : \"?startapp=\";\n    n = `${n}${s}${uy(i, !0)}`;\n  } else\n    n = `${n}/wc?${i}`;\n  return n;\n}\nasync function cy(r, e) {\n  let t = \"\";\n  try {\n    if (cs() && (t = localStorage.getItem(e), t))\n      return t;\n    t = await r.getItem(e);\n  } catch (i) {\n    console.error(i);\n  }\n  return t;\n}\nfunction Ac(r, e) {\n  if (!r.includes(e))\n    return null;\n  const t = r.split(/([&,?,=])/), i = t.indexOf(e);\n  return t[i + 2];\n}\nfunction Dc() {\n  return typeof crypto < \"u\" && crypto != null && crypto.randomUUID ? crypto.randomUUID() : \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/gu, (r) => {\n    const e = Math.random() * 16 | 0;\n    return (r === \"x\" ? e : e & 3 | 8).toString(16);\n  });\n}\nfunction rf() {\n  return typeof process < \"u\" && process.env.IS_VITEST === \"true\";\n}\nfunction hy() {\n  return typeof window < \"u\" && (!!window.TelegramWebviewProxy || !!window.Telegram || !!window.TelegramWebviewProxyProto);\n}\nfunction uy(r, e = !1) {\n  const t = Buffer.from(r).toString(\"base64\");\n  return e ? t.replace(/[=]/g, \"\") : t;\n}\nfunction od(r) {\n  return Buffer.from(r, \"base64\").toString(\"utf-8\");\n}\nfunction dy(r) {\n  return new Promise((e) => setTimeout(e, r));\n}\nconst ly = \"https://rpc.walletconnect.org/v1\";\nasync function py(r, e, t, i, n, s) {\n  switch (t.t) {\n    case \"eip191\":\n      return vy(r, e, t.s);\n    case \"eip1271\":\n      return await by(r, e, t.s, i, n, s);\n    default:\n      throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${t.t}`);\n  }\n}\nfunction vy(r, e, t) {\n  return Lg(bu(e), t).toLowerCase() === r.toLowerCase();\n}\nasync function by(r, e, t, i, n, s) {\n  const o = Ns(i);\n  if (!o.namespace || !o.reference)\n    throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${i}`);\n  try {\n    const f = \"0x1626ba7e\", h = \"0000000000000000000000000000000000000000000000000000000000000040\", d = \"0000000000000000000000000000000000000000000000000000000000000041\", v = t.substring(2), w = bu(e).substring(2), A = f + w + h + d + v, I = await fetch(`${s || ly}/?chainId=${i}&projectId=${n}`, { method: \"POST\", body: JSON.stringify({ id: gy(), jsonrpc: \"2.0\", method: \"eth_call\", params: [{ to: r, data: A }, \"latest\"] }) }), { result: D } = await I.json();\n    return D ? D.slice(0, f.length).toLowerCase() === f.toLowerCase() : !1;\n  } catch (f) {\n    return console.error(\"isValidEip1271Signature: \", f), !1;\n  }\n}\nfunction gy() {\n  return Date.now() + Math.floor(Math.random() * 1e3);\n}\nvar yy = Object.defineProperty, my = Object.defineProperties, wy = Object.getOwnPropertyDescriptors, Pc = Object.getOwnPropertySymbols, _y = Object.prototype.hasOwnProperty, xy = Object.prototype.propertyIsEnumerable, Oc = (r, e, t) => e in r ? yy(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : r[e] = t, Ey = (r, e) => {\n  for (var t in e || (e = {}))\n    _y.call(e, t) && Oc(r, t, e[t]);\n  if (Pc)\n    for (var t of Pc(e))\n      xy.call(e, t) && Oc(r, t, e[t]);\n  return r;\n}, Sy = (r, e) => my(r, wy(e));\nconst My = \"did:pkh:\", nf = (r) => r?.split(\":\"), Iy = (r) => {\n  const e = r && nf(r);\n  if (e)\n    return r.includes(My) ? e[3] : e[1];\n}, Io = (r) => {\n  const e = r && nf(r);\n  if (e)\n    return e[2] + \":\" + e[3];\n}, Js = (r) => {\n  const e = r && nf(r);\n  if (e)\n    return e.pop();\n};\nasync function Rc(r) {\n  const { cacao: e, projectId: t } = r, { s: i, p: n } = e, s = fd(n, n.iss), o = Js(n.iss);\n  return await py(o, s, i, Io(n.iss), t);\n}\nconst fd = (r, e) => {\n  const t = `${r.domain} wants you to sign in with your Ethereum account:`, i = Js(e);\n  if (!r.aud && !r.uri)\n    throw new Error(\"Either `aud` or `uri` is required to construct the message\");\n  let n = r.statement || void 0;\n  const s = `URI: ${r.aud || r.uri}`, o = `Version: ${r.version}`, f = `Chain ID: ${Iy(e)}`, h = `Nonce: ${r.nonce}`, d = `Issued At: ${r.iat}`, v = r.exp ? `Expiration Time: ${r.exp}` : void 0, w = r.nbf ? `Not Before: ${r.nbf}` : void 0, A = r.requestId ? `Request ID: ${r.requestId}` : void 0, I = r.resources ? `Resources:${r.resources.map((N) => `\n- ${N}`).join(\"\")}` : void 0, D = Ts(r.resources);\n  if (D) {\n    const N = Xn(D);\n    n = $y(n, N);\n  }\n  return [t, i, \"\", n, \"\", s, o, f, h, d, v, w, A, I].filter((N) => N != null).join(`\n`);\n};\nfunction Ay(r) {\n  return Buffer.from(JSON.stringify(r)).toString(\"base64\");\n}\nfunction Dy(r) {\n  return JSON.parse(Buffer.from(r, \"base64\").toString(\"utf-8\"));\n}\nfunction Hi(r) {\n  if (!r)\n    throw new Error(\"No recap provided, value is undefined\");\n  if (!r.att)\n    throw new Error(\"No `att` property found\");\n  const e = Object.keys(r.att);\n  if (!(e != null && e.length))\n    throw new Error(\"No resources found in `att` property\");\n  e.forEach((t) => {\n    const i = r.att[t];\n    if (Array.isArray(i))\n      throw new Error(`Resource must be an object: ${t}`);\n    if (typeof i != \"object\")\n      throw new Error(`Resource must be an object: ${t}`);\n    if (!Object.keys(i).length)\n      throw new Error(`Resource object is empty: ${t}`);\n    Object.keys(i).forEach((n) => {\n      const s = i[n];\n      if (!Array.isArray(s))\n        throw new Error(`Ability limits ${n} must be an array of objects, found: ${s}`);\n      if (!s.length)\n        throw new Error(`Value of ${n} is empty array, must be an array with objects`);\n      s.forEach((o) => {\n        if (typeof o != \"object\")\n          throw new Error(`Ability limits (${n}) must be an array of objects, found: ${o}`);\n      });\n    });\n  });\n}\nfunction Py(r, e, t, i = {}) {\n  return t?.sort((n, s) => n.localeCompare(s)), { att: { [r]: Oy(e, t, i) } };\n}\nfunction Oy(r, e, t = {}) {\n  e = e?.sort((n, s) => n.localeCompare(s));\n  const i = e.map((n) => ({ [`${r}/${n}`]: [t] }));\n  return Object.assign({}, ...i);\n}\nfunction cd(r) {\n  return Hi(r), `urn:recap:${Ay(r).replace(/=/g, \"\")}`;\n}\nfunction Xn(r) {\n  const e = Dy(r.replace(\"urn:recap:\", \"\"));\n  return Hi(e), e;\n}\nfunction Ry(r, e, t) {\n  const i = Py(r, e, t);\n  return cd(i);\n}\nfunction Ny(r) {\n  return r && r.includes(\"urn:recap:\");\n}\nfunction Ty(r, e) {\n  const t = Xn(r), i = Xn(e), n = Cy(t, i);\n  return cd(n);\n}\nfunction Cy(r, e) {\n  Hi(r), Hi(e);\n  const t = Object.keys(r.att).concat(Object.keys(e.att)).sort((n, s) => n.localeCompare(s)), i = { att: {} };\n  return t.forEach((n) => {\n    var s, o;\n    Object.keys(((s = r.att) == null ? void 0 : s[n]) || {}).concat(Object.keys(((o = e.att) == null ? void 0 : o[n]) || {})).sort((f, h) => f.localeCompare(h)).forEach((f) => {\n      var h, d;\n      i.att[n] = Sy(Ey({}, i.att[n]), { [f]: ((h = r.att[n]) == null ? void 0 : h[f]) || ((d = e.att[n]) == null ? void 0 : d[f]) });\n    });\n  }), i;\n}\nfunction $y(r = \"\", e) {\n  Hi(e);\n  const t = \"I further authorize the stated URI to perform the following actions on my behalf: \";\n  if (r.includes(t))\n    return r;\n  const i = [];\n  let n = 0;\n  Object.keys(e.att).forEach((f) => {\n    const h = Object.keys(e.att[f]).map((w) => ({ ability: w.split(\"/\")[0], action: w.split(\"/\")[1] }));\n    h.sort((w, A) => w.action.localeCompare(A.action));\n    const d = {};\n    h.forEach((w) => {\n      d[w.ability] || (d[w.ability] = []), d[w.ability].push(w.action);\n    });\n    const v = Object.keys(d).map((w) => (n++, `(${n}) '${w}': '${d[w].join(\"', '\")}' for '${f}'.`));\n    i.push(v.join(\", \").replace(\".,\", \".\"));\n  });\n  const s = i.join(\" \"), o = `${t}${s}`;\n  return `${r ? r + \" \" : \"\"}${o}`;\n}\nfunction Nc(r) {\n  var e;\n  const t = Xn(r);\n  Hi(t);\n  const i = (e = t.att) == null ? void 0 : e.eip155;\n  return i ? Object.keys(i).map((n) => n.split(\"/\")[1]) : [];\n}\nfunction Tc(r) {\n  const e = Xn(r);\n  Hi(e);\n  const t = [];\n  return Object.values(e.att).forEach((i) => {\n    Object.values(i).forEach((n) => {\n      var s;\n      (s = n?.[0]) != null && s.chains && t.push(n[0].chains);\n    });\n  }), [...new Set(t.flat())];\n}\nfunction Ts(r) {\n  if (!r)\n    return;\n  const e = r?.[r.length - 1];\n  return Ny(e) ? e : void 0;\n}\nconst hd = \"base10\", Bt = \"base16\", wi = \"base64pad\", Ln = \"base64url\", us = \"utf8\", ud = 0, hi = 1, ds = 2, Ly = 0, Cc = 1, Kn = 12, sf = 32;\nfunction Fy() {\n  const r = Vo.generateKeyPair();\n  return { privateKey: Mt(r.secretKey, Bt), publicKey: Mt(r.publicKey, Bt) };\n}\nfunction Ao() {\n  const r = Ei.randomBytes(sf);\n  return Mt(r, Bt);\n}\nfunction qy(r, e) {\n  const t = Vo.sharedKey(St(r, Bt), St(e, Bt), !0), i = new Jg(as.SHA256, t).expand(sf);\n  return Mt(i, Bt);\n}\nfunction Cs(r) {\n  const e = as.hash(St(r, Bt));\n  return Mt(e, Bt);\n}\nfunction fi(r) {\n  const e = as.hash(St(r, us));\n  return Mt(e, Bt);\n}\nfunction dd(r) {\n  return St(`${r}`, hd);\n}\nfunction Vi(r) {\n  return Number(Mt(r, hd));\n}\nfunction Uy(r) {\n  const e = dd(typeof r.type < \"u\" ? r.type : ud);\n  if (Vi(e) === hi && typeof r.senderPublicKey > \"u\")\n    throw new Error(\"Missing sender public key for type 1 envelope\");\n  const t = typeof r.senderPublicKey < \"u\" ? St(r.senderPublicKey, Bt) : void 0, i = typeof r.iv < \"u\" ? St(r.iv, Bt) : Ei.randomBytes(Kn), n = new Ko.ChaCha20Poly1305(St(r.symKey, Bt)).seal(i, St(r.message, us));\n  return ld({ type: e, sealed: n, iv: i, senderPublicKey: t, encoding: r.encoding });\n}\nfunction zy(r, e) {\n  const t = dd(ds), i = Ei.randomBytes(Kn), n = St(r, us);\n  return ld({ type: t, sealed: n, iv: i, encoding: e });\n}\nfunction By(r) {\n  const e = new Ko.ChaCha20Poly1305(St(r.symKey, Bt)), { sealed: t, iv: i } = Zn({ encoded: r.encoded, encoding: r?.encoding }), n = e.open(i, t);\n  if (n === null)\n    throw new Error(\"Failed to decrypt\");\n  return Mt(n, us);\n}\nfunction ky(r, e) {\n  const { sealed: t } = Zn({ encoded: r, encoding: e });\n  return Mt(t, us);\n}\nfunction ld(r) {\n  const { encoding: e = wi } = r;\n  if (Vi(r.type) === ds)\n    return Mt(Ds([r.type, r.sealed]), e);\n  if (Vi(r.type) === hi) {\n    if (typeof r.senderPublicKey > \"u\")\n      throw new Error(\"Missing sender public key for type 1 envelope\");\n    return Mt(Ds([r.type, r.senderPublicKey, r.iv, r.sealed]), e);\n  }\n  return Mt(Ds([r.type, r.iv, r.sealed]), e);\n}\nfunction Zn(r) {\n  const { encoded: e, encoding: t = wi } = r, i = St(e, t), n = i.slice(Ly, Cc), s = Cc;\n  if (Vi(n) === hi) {\n    const d = s + sf, v = d + Kn, w = i.slice(s, d), A = i.slice(d, v), I = i.slice(v);\n    return { type: n, sealed: I, iv: A, senderPublicKey: w };\n  }\n  if (Vi(n) === ds) {\n    const d = i.slice(s), v = Ei.randomBytes(Kn);\n    return { type: n, sealed: d, iv: v };\n  }\n  const o = s + Kn, f = i.slice(s, o), h = i.slice(o);\n  return { type: n, sealed: h, iv: f };\n}\nfunction jy(r, e) {\n  const t = Zn({ encoded: r, encoding: e?.encoding });\n  return pd({ type: Vi(t.type), senderPublicKey: typeof t.senderPublicKey < \"u\" ? Mt(t.senderPublicKey, Bt) : void 0, receiverPublicKey: e?.receiverPublicKey });\n}\nfunction pd(r) {\n  const e = r?.type || ud;\n  if (e === hi) {\n    if (typeof r?.senderPublicKey > \"u\")\n      throw new Error(\"missing sender public key\");\n    if (typeof r?.receiverPublicKey > \"u\")\n      throw new Error(\"missing receiver public key\");\n  }\n  return { type: e, senderPublicKey: r?.senderPublicKey, receiverPublicKey: r?.receiverPublicKey };\n}\nfunction $c(r) {\n  return r.type === hi && typeof r.senderPublicKey == \"string\" && typeof r.receiverPublicKey == \"string\";\n}\nfunction Lc(r) {\n  return r.type === ds;\n}\nfunction Ky(r) {\n  return new Ku.ec(\"p256\").keyFromPublic({ x: Buffer.from(r.x, \"base64\").toString(\"hex\"), y: Buffer.from(r.y, \"base64\").toString(\"hex\") }, \"hex\");\n}\nfunction Hy(r) {\n  let e = r.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  const t = e.length % 4;\n  return t > 0 && (e += \"=\".repeat(4 - t)), e;\n}\nfunction Vy(r) {\n  return Buffer.from(Hy(r), \"base64\");\n}\nfunction Wy(r, e) {\n  const [t, i, n] = r.split(\".\"), s = Vy(n);\n  if (s.length !== 64)\n    throw new Error(\"Invalid signature length\");\n  const o = s.slice(0, 32).toString(\"hex\"), f = s.slice(32, 64).toString(\"hex\"), h = `${t}.${i}`, d = new as.SHA256().update(Buffer.from(h)).digest(), v = Ky(e), w = Buffer.from(d).toString(\"hex\");\n  if (!v.verify(w, { r: o, s: f }))\n    throw new Error(\"Invalid signature\");\n  return bo(r).payload;\n}\nconst Gy = \"irn\";\nfunction Ys(r) {\n  return r?.relay || { protocol: Gy };\n}\nfunction jn(r) {\n  const e = z2[r];\n  if (typeof e > \"u\")\n    throw new Error(`Relay Protocol not supported: ${r}`);\n  return e;\n}\nvar Jy = Object.defineProperty, Yy = Object.defineProperties, Xy = Object.getOwnPropertyDescriptors, Fc = Object.getOwnPropertySymbols, Zy = Object.prototype.hasOwnProperty, Qy = Object.prototype.propertyIsEnumerable, qc = (r, e, t) => e in r ? Jy(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : r[e] = t, Uc = (r, e) => {\n  for (var t in e || (e = {}))\n    Zy.call(e, t) && qc(r, t, e[t]);\n  if (Fc)\n    for (var t of Fc(e))\n      Qy.call(e, t) && qc(r, t, e[t]);\n  return r;\n}, em = (r, e) => Yy(r, Xy(e));\nfunction tm(r, e = \"-\") {\n  const t = {}, i = \"relay\" + e;\n  return Object.keys(r).forEach((n) => {\n    if (n.startsWith(i)) {\n      const s = n.replace(i, \"\"), o = r[n];\n      t[s] = o;\n    }\n  }), t;\n}\nfunction zc(r) {\n  if (!r.includes(\"wc:\")) {\n    const h = od(r);\n    h != null && h.includes(\"wc:\") && (r = h);\n  }\n  r = r.includes(\"wc://\") ? r.replace(\"wc://\", \"\") : r, r = r.includes(\"wc:\") ? r.replace(\"wc:\", \"\") : r;\n  const e = r.indexOf(\":\"), t = r.indexOf(\"?\") !== -1 ? r.indexOf(\"?\") : void 0, i = r.substring(0, e), n = r.substring(e + 1, t).split(\"@\"), s = typeof t < \"u\" ? r.substring(t) : \"\", o = Yn.parse(s), f = typeof o.methods == \"string\" ? o.methods.split(\",\") : void 0;\n  return { protocol: i, topic: rm(n[0]), version: parseInt(n[1], 10), symKey: o.symKey, relay: tm(o), methods: f, expiryTimestamp: o.expiryTimestamp ? parseInt(o.expiryTimestamp, 10) : void 0 };\n}\nfunction rm(r) {\n  return r.startsWith(\"//\") ? r.substring(2) : r;\n}\nfunction im(r, e = \"-\") {\n  const t = \"relay\", i = {};\n  return Object.keys(r).forEach((n) => {\n    const s = t + e + n;\n    r[n] && (i[s] = r[n]);\n  }), i;\n}\nfunction Bc(r) {\n  return `${r.protocol}:${r.topic}@${r.version}?` + Yn.stringify(Uc(em(Uc({ symKey: r.symKey }, im(r.relay)), { expiryTimestamp: r.expiryTimestamp }), r.methods ? { methods: r.methods.join(\",\") } : {}));\n}\nfunction Es(r, e, t) {\n  return `${r}?wc_ev=${t}&topic=${e}`;\n}\nfunction In(r) {\n  const e = [];\n  return r.forEach((t) => {\n    const [i, n] = t.split(\":\");\n    e.push(`${i}:${n}`);\n  }), e;\n}\nfunction nm(r) {\n  const e = [];\n  return Object.values(r).forEach((t) => {\n    e.push(...In(t.accounts));\n  }), e;\n}\nfunction sm(r, e) {\n  const t = [];\n  return Object.values(r).forEach((i) => {\n    In(i.accounts).includes(e) && t.push(...i.methods);\n  }), t;\n}\nfunction am(r, e) {\n  const t = [];\n  return Object.values(r).forEach((i) => {\n    In(i.accounts).includes(e) && t.push(...i.events);\n  }), t;\n}\nfunction om(r) {\n  const e = {};\n  return r?.forEach((t) => {\n    const [i, n] = t.split(\":\");\n    e[i] || (e[i] = { accounts: [], chains: [], events: [] }), e[i].accounts.push(t), e[i].chains.push(`${i}:${n}`);\n  }), e;\n}\nfunction kc(r, e) {\n  e = e.map((i) => i.replace(\"did:pkh:\", \"\"));\n  const t = om(e);\n  for (const [i, n] of Object.entries(t))\n    n.methods ? n.methods = ay(n.methods, r) : n.methods = r, n.events = [\"chainChanged\", \"accountsChanged\"];\n  return t;\n}\nconst fm = { INVALID_METHOD: { message: \"Invalid method.\", code: 1001 }, INVALID_EVENT: { message: \"Invalid event.\", code: 1002 }, INVALID_UPDATE_REQUEST: { message: \"Invalid update request.\", code: 1003 }, INVALID_EXTEND_REQUEST: { message: \"Invalid extend request.\", code: 1004 }, INVALID_SESSION_SETTLE_REQUEST: { message: \"Invalid session settle request.\", code: 1005 }, UNAUTHORIZED_METHOD: { message: \"Unauthorized method.\", code: 3001 }, UNAUTHORIZED_EVENT: { message: \"Unauthorized event.\", code: 3002 }, UNAUTHORIZED_UPDATE_REQUEST: { message: \"Unauthorized update request.\", code: 3003 }, UNAUTHORIZED_EXTEND_REQUEST: { message: \"Unauthorized extend request.\", code: 3004 }, USER_REJECTED: { message: \"User rejected.\", code: 5e3 }, USER_REJECTED_CHAINS: { message: \"User rejected chains.\", code: 5001 }, USER_REJECTED_METHODS: { message: \"User rejected methods.\", code: 5002 }, USER_REJECTED_EVENTS: { message: \"User rejected events.\", code: 5003 }, UNSUPPORTED_CHAINS: { message: \"Unsupported chains.\", code: 5100 }, UNSUPPORTED_METHODS: { message: \"Unsupported methods.\", code: 5101 }, UNSUPPORTED_EVENTS: { message: \"Unsupported events.\", code: 5102 }, UNSUPPORTED_ACCOUNTS: { message: \"Unsupported accounts.\", code: 5103 }, UNSUPPORTED_NAMESPACE_KEY: { message: \"Unsupported namespace key.\", code: 5104 }, USER_DISCONNECTED: { message: \"User disconnected.\", code: 6e3 }, SESSION_SETTLEMENT_FAILED: { message: \"Session settlement failed.\", code: 7e3 }, WC_METHOD_UNSUPPORTED: { message: \"Unsupported wc_ method.\", code: 10001 } }, cm = { NOT_INITIALIZED: { message: \"Not initialized.\", code: 1 }, NO_MATCHING_KEY: { message: \"No matching key.\", code: 2 }, RESTORE_WILL_OVERRIDE: { message: \"Restore will override.\", code: 3 }, RESUBSCRIBED: { message: \"Resubscribed.\", code: 4 }, MISSING_OR_INVALID: { message: \"Missing or invalid.\", code: 5 }, EXPIRED: { message: \"Expired.\", code: 6 }, UNKNOWN_TYPE: { message: \"Unknown type.\", code: 7 }, MISMATCHED_TOPIC: { message: \"Mismatched topic.\", code: 8 }, NON_CONFORMING_NAMESPACES: { message: \"Non conforming namespaces.\", code: 9 } };\nfunction ae(r, e) {\n  const { message: t, code: i } = cm[r];\n  return { message: e ? `${t} ${e}` : t, code: i };\n}\nfunction st(r, e) {\n  const { message: t, code: i } = fm[r];\n  return { message: e ? `${t} ${e}` : t, code: i };\n}\nfunction Sa(r, e) {\n  return Array.isArray(r) ? typeof e < \"u\" && r.length ? r.every(e) : !0 : !1;\n}\nfunction Xs(r) {\n  return Object.getPrototypeOf(r) === Object.prototype && Object.keys(r).length;\n}\nfunction zt(r) {\n  return typeof r > \"u\";\n}\nfunction bt(r, e) {\n  return e && zt(r) ? !0 : typeof r == \"string\" && !!r.trim().length;\n}\nfunction af(r, e) {\n  return e && zt(r) ? !0 : typeof r == \"number\" && !isNaN(r);\n}\nfunction hm(r, e) {\n  const { requiredNamespaces: t } = e, i = Object.keys(r.namespaces), n = Object.keys(t);\n  let s = !0;\n  return Ui(n, i) ? (i.forEach((o) => {\n    const { accounts: f, methods: h, events: d } = r.namespaces[o], v = In(f), w = t[o];\n    (!Ui(tf(o, w), v) || !Ui(w.methods, h) || !Ui(w.events, d)) && (s = !1);\n  }), s) : !1;\n}\nfunction Zs(r) {\n  return bt(r, !1) && r.includes(\":\") ? r.split(\":\").length === 2 : !1;\n}\nfunction um(r) {\n  if (bt(r, !1) && r.includes(\":\")) {\n    const e = r.split(\":\");\n    if (e.length === 3) {\n      const t = e[0] + \":\" + e[1];\n      return !!e[2] && Zs(t);\n    }\n  }\n  return !1;\n}\nfunction dm(r) {\n  function e(t) {\n    try {\n      return typeof new URL(t) < \"u\";\n    } catch {\n      return !1;\n    }\n  }\n  try {\n    if (bt(r, !1)) {\n      if (e(r))\n        return !0;\n      const t = od(r);\n      return e(t);\n    }\n  } catch {\n  }\n  return !1;\n}\nfunction lm(r) {\n  var e;\n  return (e = r?.proposer) == null ? void 0 : e.publicKey;\n}\nfunction pm(r) {\n  return r?.topic;\n}\nfunction vm(r, e) {\n  let t = null;\n  return bt(r?.publicKey, !1) || (t = ae(\"MISSING_OR_INVALID\", `${e} controller public key should be a string`)), t;\n}\nfunction jc(r) {\n  let e = !0;\n  return Sa(r) ? r.length && (e = r.every((t) => bt(t, !1))) : e = !1, e;\n}\nfunction bm(r, e, t) {\n  let i = null;\n  return Sa(e) && e.length ? e.forEach((n) => {\n    i || Zs(n) || (i = st(\"UNSUPPORTED_CHAINS\", `${t}, chain ${n} should be a string and conform to \"namespace:chainId\" format`));\n  }) : Zs(r) || (i = st(\"UNSUPPORTED_CHAINS\", `${t}, chains must be defined as \"namespace:chainId\" e.g. \"eip155:1\": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: [\"eip155:1\", \"eip155:5\"] }`)), i;\n}\nfunction gm(r, e, t) {\n  let i = null;\n  return Object.entries(r).forEach(([n, s]) => {\n    if (i)\n      return;\n    const o = bm(n, tf(n, s), `${e} ${t}`);\n    o && (i = o);\n  }), i;\n}\nfunction ym(r, e) {\n  let t = null;\n  return Sa(r) ? r.forEach((i) => {\n    t || um(i) || (t = st(\"UNSUPPORTED_ACCOUNTS\", `${e}, account ${i} should be a string and conform to \"namespace:chainId:address\" format`));\n  }) : t = st(\"UNSUPPORTED_ACCOUNTS\", `${e}, accounts should be an array of strings conforming to \"namespace:chainId:address\" format`), t;\n}\nfunction mm(r, e) {\n  let t = null;\n  return Object.values(r).forEach((i) => {\n    if (t)\n      return;\n    const n = ym(i?.accounts, `${e} namespace`);\n    n && (t = n);\n  }), t;\n}\nfunction wm(r, e) {\n  let t = null;\n  return jc(r?.methods) ? jc(r?.events) || (t = st(\"UNSUPPORTED_EVENTS\", `${e}, events should be an array of strings or empty array for no events`)) : t = st(\"UNSUPPORTED_METHODS\", `${e}, methods should be an array of strings or empty array for no methods`), t;\n}\nfunction vd(r, e) {\n  let t = null;\n  return Object.values(r).forEach((i) => {\n    if (t)\n      return;\n    const n = wm(i, `${e}, namespace`);\n    n && (t = n);\n  }), t;\n}\nfunction _m(r, e, t) {\n  let i = null;\n  if (r && Xs(r)) {\n    const n = vd(r, e);\n    n && (i = n);\n    const s = gm(r, e, t);\n    s && (i = s);\n  } else\n    i = ae(\"MISSING_OR_INVALID\", `${e}, ${t} should be an object with data`);\n  return i;\n}\nfunction eo(r, e) {\n  let t = null;\n  if (r && Xs(r)) {\n    const i = vd(r, e);\n    i && (t = i);\n    const n = mm(r, e);\n    n && (t = n);\n  } else\n    t = ae(\"MISSING_OR_INVALID\", `${e}, namespaces should be an object with data`);\n  return t;\n}\nfunction bd(r) {\n  return bt(r.protocol, !0);\n}\nfunction xm(r, e) {\n  let t = !1;\n  return e && !r ? t = !0 : r && Sa(r) && r.length && r.forEach((i) => {\n    t = bd(i);\n  }), t;\n}\nfunction Em(r) {\n  return typeof r == \"number\";\n}\nfunction Gt(r) {\n  return typeof r < \"u\" && typeof r !== null;\n}\nfunction Sm(r) {\n  return !(!r || typeof r != \"object\" || !r.code || !af(r.code, !1) || !r.message || !bt(r.message, !1));\n}\nfunction Mm(r) {\n  return !(zt(r) || !bt(r.method, !1));\n}\nfunction Im(r) {\n  return !(zt(r) || zt(r.result) && zt(r.error) || !af(r.id, !1) || !bt(r.jsonrpc, !1));\n}\nfunction Am(r) {\n  return !(zt(r) || !bt(r.name, !1));\n}\nfunction Kc(r, e) {\n  return !(!Zs(e) || !nm(r).includes(e));\n}\nfunction Dm(r, e, t) {\n  return bt(t, !1) ? sm(r, e).includes(t) : !1;\n}\nfunction Pm(r, e, t) {\n  return bt(t, !1) ? am(r, e).includes(t) : !1;\n}\nfunction Hc(r, e, t) {\n  let i = null;\n  const n = Om(r), s = Rm(e), o = Object.keys(n), f = Object.keys(s), h = Vc(Object.keys(r)), d = Vc(Object.keys(e)), v = h.filter((w) => !d.includes(w));\n  return v.length && (i = ae(\"NON_CONFORMING_NAMESPACES\", `${t} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${v.toString()}\n      Received: ${Object.keys(e).toString()}`)), Ui(o, f) || (i = ae(\"NON_CONFORMING_NAMESPACES\", `${t} namespaces chains don't satisfy required namespaces.\n      Required: ${o.toString()}\n      Approved: ${f.toString()}`)), Object.keys(e).forEach((w) => {\n    if (!w.includes(\":\") || i)\n      return;\n    const A = In(e[w].accounts);\n    A.includes(w) || (i = ae(\"NON_CONFORMING_NAMESPACES\", `${t} namespaces accounts don't satisfy namespace accounts for ${w}\n        Required: ${w}\n        Approved: ${A.toString()}`));\n  }), o.forEach((w) => {\n    i || (Ui(n[w].methods, s[w].methods) ? Ui(n[w].events, s[w].events) || (i = ae(\"NON_CONFORMING_NAMESPACES\", `${t} namespaces events don't satisfy namespace events for ${w}`)) : i = ae(\"NON_CONFORMING_NAMESPACES\", `${t} namespaces methods don't satisfy namespace methods for ${w}`));\n  }), i;\n}\nfunction Om(r) {\n  const e = {};\n  return Object.keys(r).forEach((t) => {\n    var i;\n    t.includes(\":\") ? e[t] = r[t] : (i = r[t].chains) == null || i.forEach((n) => {\n      e[n] = { methods: r[t].methods, events: r[t].events };\n    });\n  }), e;\n}\nfunction Vc(r) {\n  return [...new Set(r.map((e) => e.includes(\":\") ? e.split(\":\")[0] : e))];\n}\nfunction Rm(r) {\n  const e = {};\n  return Object.keys(r).forEach((t) => {\n    t.includes(\":\") ? e[t] = r[t] : In(r[t].accounts)?.forEach((n) => {\n      e[n] = { accounts: r[t].accounts.filter((s) => s.includes(`${n}:`)), methods: r[t].methods, events: r[t].events };\n    });\n  }), e;\n}\nfunction Nm(r, e) {\n  return af(r, !1) && r <= e.max && r >= e.min;\n}\nfunction Wc() {\n  const r = hs();\n  return new Promise((e) => {\n    switch (r) {\n      case rr.browser:\n        e(Tm());\n        break;\n      case rr.reactNative:\n        e(Cm());\n        break;\n      case rr.node:\n        e($m());\n        break;\n      default:\n        e(!0);\n    }\n  });\n}\nfunction Tm() {\n  return cs() && navigator?.onLine;\n}\nasync function Cm() {\n  return Ai() && typeof global < \"u\" && global != null && global.NetInfo ? (await (global == null ? void 0 : global.NetInfo.fetch()))?.isConnected : !0;\n}\nfunction $m() {\n  return !0;\n}\nfunction Lm(r) {\n  switch (hs()) {\n    case rr.browser:\n      Fm(r);\n      break;\n    case rr.reactNative:\n      qm(r);\n      break;\n  }\n}\nfunction Fm(r) {\n  !Ai() && cs() && (window.addEventListener(\"online\", () => r(!0)), window.addEventListener(\"offline\", () => r(!1)));\n}\nfunction qm(r) {\n  Ai() && typeof global < \"u\" && global != null && global.NetInfo && global?.NetInfo.addEventListener((e) => r(e?.isConnected));\n}\nconst to = {};\nclass Fn {\n  static get(e) {\n    return to[e];\n  }\n  static set(e, t) {\n    to[e] = t;\n  }\n  static delete(e) {\n    delete to[e];\n  }\n}\nconst Um = \"PARSE_ERROR\", zm = \"INVALID_REQUEST\", Bm = \"METHOD_NOT_FOUND\", km = \"INVALID_PARAMS\", gd = \"INTERNAL_ERROR\", of = \"SERVER_ERROR\", jm = [-32700, -32600, -32601, -32602, -32603], Hn = {\n  [Um]: { code: -32700, message: \"Parse error\" },\n  [zm]: { code: -32600, message: \"Invalid Request\" },\n  [Bm]: { code: -32601, message: \"Method not found\" },\n  [km]: { code: -32602, message: \"Invalid params\" },\n  [gd]: { code: -32603, message: \"Internal error\" },\n  [of]: { code: -32e3, message: \"Server error\" }\n}, yd = of;\nfunction Km(r) {\n  return jm.includes(r);\n}\nfunction Gc(r) {\n  return Object.keys(Hn).includes(r) ? Hn[r] : Hn[yd];\n}\nfunction Hm(r) {\n  const e = Object.values(Hn).find((t) => t.code === r);\n  return e || Hn[yd];\n}\nfunction Vm(r, e, t) {\n  return r.message.includes(\"getaddrinfo ENOTFOUND\") || r.message.includes(\"connect ECONNREFUSED\") ? new Error(`Unavailable ${t} RPC url at ${e}`) : r;\n}\nvar md = {}, ii = {}, Jc;\nfunction Wm() {\n  if (Jc)\n    return ii;\n  Jc = 1, Object.defineProperty(ii, \"__esModule\", { value: !0 }), ii.isBrowserCryptoAvailable = ii.getSubtleCrypto = ii.getBrowerCrypto = void 0;\n  function r() {\n    return (_lastConnected_e9351912_js__WEBPACK_IMPORTED_MODULE_0__.c === null || _lastConnected_e9351912_js__WEBPACK_IMPORTED_MODULE_0__.c === void 0 ? void 0 : _lastConnected_e9351912_js__WEBPACK_IMPORTED_MODULE_0__.c.crypto) || (_lastConnected_e9351912_js__WEBPACK_IMPORTED_MODULE_0__.c === null || _lastConnected_e9351912_js__WEBPACK_IMPORTED_MODULE_0__.c === void 0 ? void 0 : _lastConnected_e9351912_js__WEBPACK_IMPORTED_MODULE_0__.c.msCrypto) || {};\n  }\n  ii.getBrowerCrypto = r;\n  function e() {\n    const i = r();\n    return i.subtle || i.webkitSubtle;\n  }\n  ii.getSubtleCrypto = e;\n  function t() {\n    return !!r() && !!e();\n  }\n  return ii.isBrowserCryptoAvailable = t, ii;\n}\nvar ni = {}, Yc;\nfunction Gm() {\n  if (Yc)\n    return ni;\n  Yc = 1, Object.defineProperty(ni, \"__esModule\", { value: !0 }), ni.isBrowser = ni.isNode = ni.isReactNative = void 0;\n  function r() {\n    return typeof document > \"u\" && typeof navigator < \"u\" && navigator.product === \"ReactNative\";\n  }\n  ni.isReactNative = r;\n  function e() {\n    return typeof process < \"u\" && typeof process.versions < \"u\" && typeof process.versions.node < \"u\";\n  }\n  ni.isNode = e;\n  function t() {\n    return !r() && !e();\n  }\n  return ni.isBrowser = t, ni;\n}\n(function(r) {\n  Object.defineProperty(r, \"__esModule\", { value: !0 });\n  const e = Qn;\n  e.__exportStar(Wm(), r), e.__exportStar(Gm(), r);\n})(md);\nfunction oi(r = 3) {\n  const e = Date.now() * Math.pow(10, r), t = Math.floor(Math.random() * Math.pow(10, r));\n  return e + t;\n}\nfunction zi(r = 6) {\n  return BigInt(oi(r));\n}\nfunction Bi(r, e, t) {\n  return {\n    id: t || oi(),\n    jsonrpc: \"2.0\",\n    method: r,\n    params: e\n  };\n}\nfunction Ma(r, e) {\n  return {\n    id: r,\n    jsonrpc: \"2.0\",\n    result: e\n  };\n}\nfunction Ia(r, e, t) {\n  return {\n    id: r,\n    jsonrpc: \"2.0\",\n    error: Jm(e, t)\n  };\n}\nfunction Jm(r, e) {\n  return typeof r > \"u\" ? Gc(gd) : (typeof r == \"string\" && (r = Object.assign(Object.assign({}, Gc(of)), { message: r })), typeof e < \"u\" && (r.data = e), Km(r.code) && (r = Hm(r.code)), r);\n}\nclass wd {\n}\nlet Ym = class extends wd {\n  constructor(e) {\n    super();\n  }\n};\nclass Xm extends wd {\n  constructor() {\n    super();\n  }\n}\nlet Zm = class extends Xm {\n  constructor(e) {\n    super();\n  }\n};\nconst Qm = \"^wss?:\";\nfunction e3(r) {\n  const e = r.match(new RegExp(/^\\w+:/, \"gi\"));\n  if (!(!e || !e.length))\n    return e[0];\n}\nfunction t3(r, e) {\n  const t = e3(r);\n  return typeof t > \"u\" ? !1 : new RegExp(e).test(t);\n}\nfunction Xc(r) {\n  return t3(r, Qm);\n}\nfunction r3(r) {\n  return new RegExp(\"wss?://localhost(:d{2,5})?\").test(r);\n}\nfunction _d(r) {\n  return typeof r == \"object\" && \"id\" in r && \"jsonrpc\" in r && r.jsonrpc === \"2.0\";\n}\nfunction ff(r) {\n  return _d(r) && \"method\" in r;\n}\nfunction Aa(r) {\n  return _d(r) && (Rr(r) || dr(r));\n}\nfunction Rr(r) {\n  return \"result\" in r;\n}\nfunction dr(r) {\n  return \"error\" in r;\n}\nclass xd extends Zm {\n  constructor(e) {\n    super(e), this.events = new ir.EventEmitter(), this.hasRegisteredEventListeners = !1, this.connection = this.setConnection(e), this.connection.connected && this.registerEventListeners();\n  }\n  async connect(e = this.connection) {\n    await this.open(e);\n  }\n  async disconnect() {\n    await this.close();\n  }\n  on(e, t) {\n    this.events.on(e, t);\n  }\n  once(e, t) {\n    this.events.once(e, t);\n  }\n  off(e, t) {\n    this.events.off(e, t);\n  }\n  removeListener(e, t) {\n    this.events.removeListener(e, t);\n  }\n  async request(e, t) {\n    return this.requestStrict(Bi(e.method, e.params || [], e.id || zi().toString()), t);\n  }\n  async requestStrict(e, t) {\n    return new Promise(async (i, n) => {\n      if (!this.connection.connected)\n        try {\n          await this.open();\n        } catch (s) {\n          n(s);\n        }\n      this.events.on(`${e.id}`, (s) => {\n        dr(s) ? n(s.error) : i(s.result);\n      });\n      try {\n        await this.connection.send(e, t);\n      } catch (s) {\n        n(s);\n      }\n    });\n  }\n  setConnection(e = this.connection) {\n    return e;\n  }\n  onPayload(e) {\n    this.events.emit(\"payload\", e), Aa(e) ? this.events.emit(`${e.id}`, e) : this.events.emit(\"message\", { type: e.method, data: e.params });\n  }\n  onClose(e) {\n    e && e.code === 3e3 && this.events.emit(\"error\", new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason ? `(${e.reason})` : \"\"}`)), this.events.emit(\"disconnect\");\n  }\n  async open(e = this.connection) {\n    this.connection === e && this.connection.connected || (this.connection.connected && this.close(), typeof e == \"string\" && (await this.connection.open(e), e = this.connection), this.connection = this.setConnection(e), await this.connection.open(), this.registerEventListeners(), this.events.emit(\"connect\"));\n  }\n  async close() {\n    await this.connection.close();\n  }\n  registerEventListeners() {\n    this.hasRegisteredEventListeners || (this.connection.on(\"payload\", (e) => this.onPayload(e)), this.connection.on(\"close\", (e) => this.onClose(e)), this.connection.on(\"error\", (e) => this.events.emit(\"error\", e)), this.connection.on(\"register_error\", (e) => this.onClose()), this.hasRegisteredEventListeners = !0);\n  }\n}\nconst i3 = () => typeof WebSocket < \"u\" ? WebSocket : typeof global < \"u\" && typeof global.WebSocket < \"u\" ? global.WebSocket : typeof window < \"u\" && typeof window.WebSocket < \"u\" ? window.WebSocket : typeof self < \"u\" && typeof self.WebSocket < \"u\" ? self.WebSocket : require(\"ws\"), n3 = () => typeof WebSocket < \"u\" || typeof global < \"u\" && typeof global.WebSocket < \"u\" || typeof window < \"u\" && typeof window.WebSocket < \"u\" || typeof self < \"u\" && typeof self.WebSocket < \"u\", Zc = (r) => r.split(\"?\")[0], Qc = 10, s3 = i3();\nclass a3 {\n  constructor(e) {\n    if (this.url = e, this.events = new ir.EventEmitter(), this.registering = !1, !Xc(e))\n      throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);\n    this.url = e;\n  }\n  get connected() {\n    return typeof this.socket < \"u\";\n  }\n  get connecting() {\n    return this.registering;\n  }\n  on(e, t) {\n    this.events.on(e, t);\n  }\n  once(e, t) {\n    this.events.once(e, t);\n  }\n  off(e, t) {\n    this.events.off(e, t);\n  }\n  removeListener(e, t) {\n    this.events.removeListener(e, t);\n  }\n  async open(e = this.url) {\n    await this.register(e);\n  }\n  async close() {\n    return new Promise((e, t) => {\n      if (typeof this.socket > \"u\") {\n        t(new Error(\"Connection already closed\"));\n        return;\n      }\n      this.socket.onclose = (i) => {\n        this.onClose(i), e();\n      }, this.socket.close();\n    });\n  }\n  async send(e) {\n    typeof this.socket > \"u\" && (this.socket = await this.register());\n    try {\n      this.socket.send(ji(e));\n    } catch (t) {\n      this.onError(e.id, t);\n    }\n  }\n  register(e = this.url) {\n    if (!Xc(e))\n      throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);\n    if (this.registering) {\n      const t = this.events.getMaxListeners();\n      return (this.events.listenerCount(\"register_error\") >= t || this.events.listenerCount(\"open\") >= t) && this.events.setMaxListeners(t + 1), new Promise((i, n) => {\n        this.events.once(\"register_error\", (s) => {\n          this.resetMaxListeners(), n(s);\n        }), this.events.once(\"open\", () => {\n          if (this.resetMaxListeners(), typeof this.socket > \"u\")\n            return n(new Error(\"WebSocket connection is missing or invalid\"));\n          i(this.socket);\n        });\n      });\n    }\n    return this.url = e, this.registering = !0, new Promise((t, i) => {\n      const n = md.isReactNative() ? void 0 : { rejectUnauthorized: !r3(e) }, s = new s3(e, [], n);\n      n3() ? s.onerror = (o) => {\n        const f = o;\n        i(this.emitError(f.error));\n      } : s.on(\"error\", (o) => {\n        i(this.emitError(o));\n      }), s.onopen = () => {\n        this.onOpen(s), t(s);\n      };\n    });\n  }\n  onOpen(e) {\n    e.onmessage = (t) => this.onPayload(t), e.onclose = (t) => this.onClose(t), this.socket = e, this.registering = !1, this.events.emit(\"open\");\n  }\n  onClose(e) {\n    this.socket = void 0, this.registering = !1, this.events.emit(\"close\", e);\n  }\n  onPayload(e) {\n    if (typeof e.data > \"u\")\n      return;\n    const t = typeof e.data == \"string\" ? un(e.data) : e.data;\n    this.events.emit(\"payload\", t);\n  }\n  onError(e, t) {\n    const i = this.parseError(t), n = i.message || i.toString(), s = Ia(e, n);\n    this.events.emit(\"payload\", s);\n  }\n  parseError(e, t = this.url) {\n    return Vm(e, Zc(t), \"WS\");\n  }\n  resetMaxListeners() {\n    this.events.getMaxListeners() > Qc && this.events.setMaxListeners(Qc);\n  }\n  emitError(e) {\n    const t = this.parseError(new Error(e?.message || `WebSocket connection failed for host: ${Zc(this.url)}`));\n    return this.events.emit(\"register_error\", t), t;\n  }\n}\nvar Qs = { exports: {} };\nQs.exports;\n(function(r, e) {\n  var t = 200, i = \"__lodash_hash_undefined__\", n = 1, s = 2, o = 9007199254740991, f = \"[object Arguments]\", h = \"[object Array]\", d = \"[object AsyncFunction]\", v = \"[object Boolean]\", w = \"[object Date]\", A = \"[object Error]\", I = \"[object Function]\", D = \"[object GeneratorFunction]\", N = \"[object Map]\", k = \"[object Number]\", j = \"[object Null]\", T = \"[object Object]\", K = \"[object Promise]\", $ = \"[object Proxy]\", z = \"[object RegExp]\", B = \"[object Set]\", _ = \"[object String]\", R = \"[object Symbol]\", J = \"[object Undefined]\", Q = \"[object WeakMap]\", O = \"[object ArrayBuffer]\", p = \"[object DataView]\", l = \"[object Float32Array]\", a = \"[object Float64Array]\", c = \"[object Int8Array]\", b = \"[object Int16Array]\", E = \"[object Int32Array]\", S = \"[object Uint8Array]\", x = \"[object Uint8ClampedArray]\", u = \"[object Uint16Array]\", m = \"[object Uint32Array]\", g = /[\\\\^$.*+?()[\\]{}|]/g, P = /^\\[object .+?Constructor\\]$/, G = /^(?:0|[1-9]\\d*)$/, M = {};\n  M[l] = M[a] = M[c] = M[b] = M[E] = M[S] = M[x] = M[u] = M[m] = !0, M[f] = M[h] = M[O] = M[v] = M[p] = M[w] = M[A] = M[I] = M[N] = M[k] = M[T] = M[z] = M[B] = M[_] = M[Q] = !1;\n  var H = typeof _lastConnected_e9351912_js__WEBPACK_IMPORTED_MODULE_0__.c == \"object\" && _lastConnected_e9351912_js__WEBPACK_IMPORTED_MODULE_0__.c && _lastConnected_e9351912_js__WEBPACK_IMPORTED_MODULE_0__.c.Object === Object && _lastConnected_e9351912_js__WEBPACK_IMPORTED_MODULE_0__.c, C = typeof self == \"object\" && self && self.Object === Object && self, q = H || C || Function(\"return this\")(), L = e && !e.nodeType && e, y = L && !0 && r && !r.nodeType && r, F = y && y.exports === L, W = F && H.process, Y = function() {\n    try {\n      return W && W.binding && W.binding(\"util\");\n    } catch {\n    }\n  }(), X = Y && Y.isTypedArray;\n  function ee(U, V) {\n    for (var Z = -1, be = U == null ? 0 : U.length, ct = 0, We = []; ++Z < be; ) {\n      var dt = U[Z];\n      V(dt, Z, U) && (We[ct++] = dt);\n    }\n    return We;\n  }\n  function we(U, V) {\n    for (var Z = -1, be = V.length, ct = U.length; ++Z < be; )\n      U[ct + Z] = V[Z];\n    return U;\n  }\n  function Me(U, V) {\n    for (var Z = -1, be = U == null ? 0 : U.length; ++Z < be; )\n      if (V(U[Z], Z, U))\n        return !0;\n    return !1;\n  }\n  function he(U, V) {\n    for (var Z = -1, be = Array(U); ++Z < U; )\n      be[Z] = V(Z);\n    return be;\n  }\n  function Re(U) {\n    return function(V) {\n      return U(V);\n    };\n  }\n  function xe(U, V) {\n    return U.has(V);\n  }\n  function se(U, V) {\n    return U?.[V];\n  }\n  function ge(U) {\n    var V = -1, Z = Array(U.size);\n    return U.forEach(function(be, ct) {\n      Z[++V] = [ct, be];\n    }), Z;\n  }\n  function le(U, V) {\n    return function(Z) {\n      return U(V(Z));\n    };\n  }\n  function ne(U) {\n    var V = -1, Z = Array(U.size);\n    return U.forEach(function(be) {\n      Z[++V] = be;\n    }), Z;\n  }\n  var ue = Array.prototype, fe = Function.prototype, te = Object.prototype, pe = q[\"__core-js_shared__\"], _e = fe.toString, re = te.hasOwnProperty, Ee = function() {\n    var U = /[^.]+$/.exec(pe && pe.keys && pe.keys.IE_PROTO || \"\");\n    return U ? \"Symbol(src)_1.\" + U : \"\";\n  }(), Se = te.toString, oe = RegExp(\n    \"^\" + _e.call(re).replace(g, \"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, \"$1.*?\") + \"$\"\n  ), De = F ? q.Buffer : void 0, Ie = q.Symbol, Pe = q.Uint8Array, Ge = te.propertyIsEnumerable, Ye = ue.splice, Ae = Ie ? Ie.toStringTag : void 0, Ze = Object.getOwnPropertySymbols, et = De ? De.isBuffer : void 0, Ne = le(Object.keys, Object), Ce = en(q, \"DataView\"), Te = en(q, \"Map\"), de = en(q, \"Promise\"), $e = en(q, \"Set\"), Le = en(q, \"WeakMap\"), ce = en(Object, \"create\"), Ue = Di(Ce), ze = Di(Te), ye = Di(de), Be = Di($e), ke = Di(Le), ve = Ie ? Ie.prototype : void 0, Fe = ve ? ve.valueOf : void 0;\n  function Oe(U) {\n    var V = -1, Z = U == null ? 0 : U.length;\n    for (this.clear(); ++V < Z; ) {\n      var be = U[V];\n      this.set(be[0], be[1]);\n    }\n  }\n  function me() {\n    this.__data__ = ce ? ce(null) : {}, this.size = 0;\n  }\n  function je(U) {\n    var V = this.has(U) && delete this.__data__[U];\n    return this.size -= V ? 1 : 0, V;\n  }\n  function rt(U) {\n    var V = this.__data__;\n    if (ce) {\n      var Z = V[U];\n      return Z === i ? void 0 : Z;\n    }\n    return re.call(V, U) ? V[U] : void 0;\n  }\n  function qe(U) {\n    var V = this.__data__;\n    return ce ? V[U] !== void 0 : re.call(V, U);\n  }\n  function it(U, V) {\n    var Z = this.__data__;\n    return this.size += this.has(U) ? 0 : 1, Z[U] = ce && V === void 0 ? i : V, this;\n  }\n  Oe.prototype.clear = me, Oe.prototype.delete = je, Oe.prototype.get = rt, Oe.prototype.has = qe, Oe.prototype.set = it;\n  function Je(U) {\n    var V = -1, Z = U == null ? 0 : U.length;\n    for (this.clear(); ++V < Z; ) {\n      var be = U[V];\n      this.set(be[0], be[1]);\n    }\n  }\n  function tt() {\n    this.__data__ = [], this.size = 0;\n  }\n  function jt(U) {\n    var V = this.__data__, Z = ps(V, U);\n    if (Z < 0)\n      return !1;\n    var be = V.length - 1;\n    return Z == be ? V.pop() : Ye.call(V, Z, 1), --this.size, !0;\n  }\n  function Kt(U) {\n    var V = this.__data__, Z = ps(V, U);\n    return Z < 0 ? void 0 : V[Z][1];\n  }\n  function Ht(U) {\n    return ps(this.__data__, U) > -1;\n  }\n  function Vt(U, V) {\n    var Z = this.__data__, be = ps(Z, U);\n    return be < 0 ? (++this.size, Z.push([U, V])) : Z[be][1] = V, this;\n  }\n  Je.prototype.clear = tt, Je.prototype.delete = jt, Je.prototype.get = Kt, Je.prototype.has = Ht, Je.prototype.set = Vt;\n  function gt(U) {\n    var V = -1, Z = U == null ? 0 : U.length;\n    for (this.clear(); ++V < Z; ) {\n      var be = U[V];\n      this.set(be[0], be[1]);\n    }\n  }\n  function Vr() {\n    this.size = 0, this.__data__ = {\n      hash: new Oe(),\n      map: new (Te || Je)(),\n      string: new Oe()\n    };\n  }\n  function Wr(U) {\n    var V = vs(this, U).delete(U);\n    return this.size -= V ? 1 : 0, V;\n  }\n  function Gr(U) {\n    return vs(this, U).get(U);\n  }\n  function Jr(U) {\n    return vs(this, U).has(U);\n  }\n  function Yr(U, V) {\n    var Z = vs(this, U), be = Z.size;\n    return Z.set(U, V), this.size += Z.size == be ? 0 : 1, this;\n  }\n  gt.prototype.clear = Vr, gt.prototype.delete = Wr, gt.prototype.get = Gr, gt.prototype.has = Jr, gt.prototype.set = Yr;\n  function or(U) {\n    var V = -1, Z = U == null ? 0 : U.length;\n    for (this.__data__ = new gt(); ++V < Z; )\n      this.add(U[V]);\n  }\n  function Xr(U) {\n    return this.__data__.set(U, i), this;\n  }\n  function Zr(U) {\n    return this.__data__.has(U);\n  }\n  or.prototype.add = or.prototype.push = Xr, or.prototype.has = Zr;\n  function $t(U) {\n    var V = this.__data__ = new Je(U);\n    this.size = V.size;\n  }\n  function Qr() {\n    this.__data__ = new Je(), this.size = 0;\n  }\n  function ei(U) {\n    var V = this.__data__, Z = V.delete(U);\n    return this.size = V.size, Z;\n  }\n  function ti(U) {\n    return this.__data__.get(U);\n  }\n  function An(U) {\n    return this.__data__.has(U);\n  }\n  function Dn(U, V) {\n    var Z = this.__data__;\n    if (Z instanceof Je) {\n      var be = Z.__data__;\n      if (!Te || be.length < t - 1)\n        return be.push([U, V]), this.size = ++Z.size, this;\n      Z = this.__data__ = new gt(be);\n    }\n    return Z.set(U, V), this.size = Z.size, this;\n  }\n  $t.prototype.clear = Qr, $t.prototype.delete = ei, $t.prototype.get = ti, $t.prototype.has = An, $t.prototype.set = Dn;\n  function kd(U, V) {\n    var Z = bs(U), be = !Z && il(U), ct = !Z && !be && Ra(U), We = !Z && !be && !ct && yf(U), dt = Z || be || ct || We, wt = dt ? he(U.length, String) : [], Ot = wt.length;\n    for (var ut in U)\n      (V || re.call(U, ut)) && !(dt && // Safari 9 has enumerable `arguments.length` in strict mode.\n      (ut == \"length\" || // Node.js 0.10 has enumerable non-index properties on buffers.\n      ct && (ut == \"offset\" || ut == \"parent\") || // PhantomJS 2 has enumerable non-index properties on typed arrays.\n      We && (ut == \"buffer\" || ut == \"byteLength\" || ut == \"byteOffset\") || // Skip index properties.\n      Zd(ut, Ot))) && wt.push(ut);\n    return wt;\n  }\n  function ps(U, V) {\n    for (var Z = U.length; Z--; )\n      if (pf(U[Z][0], V))\n        return Z;\n    return -1;\n  }\n  function jd(U, V, Z) {\n    var be = V(U);\n    return bs(U) ? be : we(be, Z(U));\n  }\n  function Pn(U) {\n    return U == null ? U === void 0 ? J : j : Ae && Ae in Object(U) ? Yd(U) : rl(U);\n  }\n  function hf(U) {\n    return On(U) && Pn(U) == f;\n  }\n  function uf(U, V, Z, be, ct) {\n    return U === V ? !0 : U == null || V == null || !On(U) && !On(V) ? U !== U && V !== V : Kd(U, V, Z, be, uf, ct);\n  }\n  function Kd(U, V, Z, be, ct, We) {\n    var dt = bs(U), wt = bs(V), Ot = dt ? h : pi(U), ut = wt ? h : pi(V);\n    Ot = Ot == f ? T : Ot, ut = ut == f ? T : ut;\n    var Qt = Ot == T, mr = ut == T, Lt = Ot == ut;\n    if (Lt && Ra(U)) {\n      if (!Ra(V))\n        return !1;\n      dt = !0, Qt = !1;\n    }\n    if (Lt && !Qt)\n      return We || (We = new $t()), dt || yf(U) ? df(U, V, Z, be, ct, We) : Gd(U, V, Ot, Z, be, ct, We);\n    if (!(Z & n)) {\n      var fr = Qt && re.call(U, \"__wrapped__\"), cr = mr && re.call(V, \"__wrapped__\");\n      if (fr || cr) {\n        var vi = fr ? U.value() : U, ri = cr ? V.value() : V;\n        return We || (We = new $t()), ct(vi, ri, Z, be, We);\n      }\n    }\n    return Lt ? (We || (We = new $t()), Jd(U, V, Z, be, ct, We)) : !1;\n  }\n  function Hd(U) {\n    if (!gf(U) || el(U))\n      return !1;\n    var V = vf(U) ? oe : P;\n    return V.test(Di(U));\n  }\n  function Vd(U) {\n    return On(U) && bf(U.length) && !!M[Pn(U)];\n  }\n  function Wd(U) {\n    if (!tl(U))\n      return Ne(U);\n    var V = [];\n    for (var Z in Object(U))\n      re.call(U, Z) && Z != \"constructor\" && V.push(Z);\n    return V;\n  }\n  function df(U, V, Z, be, ct, We) {\n    var dt = Z & n, wt = U.length, Ot = V.length;\n    if (wt != Ot && !(dt && Ot > wt))\n      return !1;\n    var ut = We.get(U);\n    if (ut && We.get(V))\n      return ut == V;\n    var Qt = -1, mr = !0, Lt = Z & s ? new or() : void 0;\n    for (We.set(U, V), We.set(V, U); ++Qt < wt; ) {\n      var fr = U[Qt], cr = V[Qt];\n      if (be)\n        var vi = dt ? be(cr, fr, Qt, V, U, We) : be(fr, cr, Qt, U, V, We);\n      if (vi !== void 0) {\n        if (vi)\n          continue;\n        mr = !1;\n        break;\n      }\n      if (Lt) {\n        if (!Me(V, function(ri, Pi) {\n          if (!xe(Lt, Pi) && (fr === ri || ct(fr, ri, Z, be, We)))\n            return Lt.push(Pi);\n        })) {\n          mr = !1;\n          break;\n        }\n      } else if (!(fr === cr || ct(fr, cr, Z, be, We))) {\n        mr = !1;\n        break;\n      }\n    }\n    return We.delete(U), We.delete(V), mr;\n  }\n  function Gd(U, V, Z, be, ct, We, dt) {\n    switch (Z) {\n      case p:\n        if (U.byteLength != V.byteLength || U.byteOffset != V.byteOffset)\n          return !1;\n        U = U.buffer, V = V.buffer;\n      case O:\n        return !(U.byteLength != V.byteLength || !We(new Pe(U), new Pe(V)));\n      case v:\n      case w:\n      case k:\n        return pf(+U, +V);\n      case A:\n        return U.name == V.name && U.message == V.message;\n      case z:\n      case _:\n        return U == V + \"\";\n      case N:\n        var wt = ge;\n      case B:\n        var Ot = be & n;\n        if (wt || (wt = ne), U.size != V.size && !Ot)\n          return !1;\n        var ut = dt.get(U);\n        if (ut)\n          return ut == V;\n        be |= s, dt.set(U, V);\n        var Qt = df(wt(U), wt(V), be, ct, We, dt);\n        return dt.delete(U), Qt;\n      case R:\n        if (Fe)\n          return Fe.call(U) == Fe.call(V);\n    }\n    return !1;\n  }\n  function Jd(U, V, Z, be, ct, We) {\n    var dt = Z & n, wt = lf(U), Ot = wt.length, ut = lf(V), Qt = ut.length;\n    if (Ot != Qt && !dt)\n      return !1;\n    for (var mr = Ot; mr--; ) {\n      var Lt = wt[mr];\n      if (!(dt ? Lt in V : re.call(V, Lt)))\n        return !1;\n    }\n    var fr = We.get(U);\n    if (fr && We.get(V))\n      return fr == V;\n    var cr = !0;\n    We.set(U, V), We.set(V, U);\n    for (var vi = dt; ++mr < Ot; ) {\n      Lt = wt[mr];\n      var ri = U[Lt], Pi = V[Lt];\n      if (be)\n        var mf = dt ? be(Pi, ri, Lt, V, U, We) : be(ri, Pi, Lt, U, V, We);\n      if (!(mf === void 0 ? ri === Pi || ct(ri, Pi, Z, be, We) : mf)) {\n        cr = !1;\n        break;\n      }\n      vi || (vi = Lt == \"constructor\");\n    }\n    if (cr && !vi) {\n      var gs = U.constructor, ys = V.constructor;\n      gs != ys && \"constructor\" in U && \"constructor\" in V && !(typeof gs == \"function\" && gs instanceof gs && typeof ys == \"function\" && ys instanceof ys) && (cr = !1);\n    }\n    return We.delete(U), We.delete(V), cr;\n  }\n  function lf(U) {\n    return jd(U, al, Xd);\n  }\n  function vs(U, V) {\n    var Z = U.__data__;\n    return Qd(V) ? Z[typeof V == \"string\" ? \"string\" : \"hash\"] : Z.map;\n  }\n  function en(U, V) {\n    var Z = se(U, V);\n    return Hd(Z) ? Z : void 0;\n  }\n  function Yd(U) {\n    var V = re.call(U, Ae), Z = U[Ae];\n    try {\n      U[Ae] = void 0;\n      var be = !0;\n    } catch {\n    }\n    var ct = Se.call(U);\n    return be && (V ? U[Ae] = Z : delete U[Ae]), ct;\n  }\n  var Xd = Ze ? function(U) {\n    return U == null ? [] : (U = Object(U), ee(Ze(U), function(V) {\n      return Ge.call(U, V);\n    }));\n  } : ol, pi = Pn;\n  (Ce && pi(new Ce(new ArrayBuffer(1))) != p || Te && pi(new Te()) != N || de && pi(de.resolve()) != K || $e && pi(new $e()) != B || Le && pi(new Le()) != Q) && (pi = function(U) {\n    var V = Pn(U), Z = V == T ? U.constructor : void 0, be = Z ? Di(Z) : \"\";\n    if (be)\n      switch (be) {\n        case Ue:\n          return p;\n        case ze:\n          return N;\n        case ye:\n          return K;\n        case Be:\n          return B;\n        case ke:\n          return Q;\n      }\n    return V;\n  });\n  function Zd(U, V) {\n    return V = V ?? o, !!V && (typeof U == \"number\" || G.test(U)) && U > -1 && U % 1 == 0 && U < V;\n  }\n  function Qd(U) {\n    var V = typeof U;\n    return V == \"string\" || V == \"number\" || V == \"symbol\" || V == \"boolean\" ? U !== \"__proto__\" : U === null;\n  }\n  function el(U) {\n    return !!Ee && Ee in U;\n  }\n  function tl(U) {\n    var V = U && U.constructor, Z = typeof V == \"function\" && V.prototype || te;\n    return U === Z;\n  }\n  function rl(U) {\n    return Se.call(U);\n  }\n  function Di(U) {\n    if (U != null) {\n      try {\n        return _e.call(U);\n      } catch {\n      }\n      try {\n        return U + \"\";\n      } catch {\n      }\n    }\n    return \"\";\n  }\n  function pf(U, V) {\n    return U === V || U !== U && V !== V;\n  }\n  var il = hf(function() {\n    return arguments;\n  }()) ? hf : function(U) {\n    return On(U) && re.call(U, \"callee\") && !Ge.call(U, \"callee\");\n  }, bs = Array.isArray;\n  function nl(U) {\n    return U != null && bf(U.length) && !vf(U);\n  }\n  var Ra = et || fl;\n  function sl(U, V) {\n    return uf(U, V);\n  }\n  function vf(U) {\n    if (!gf(U))\n      return !1;\n    var V = Pn(U);\n    return V == I || V == D || V == d || V == $;\n  }\n  function bf(U) {\n    return typeof U == \"number\" && U > -1 && U % 1 == 0 && U <= o;\n  }\n  function gf(U) {\n    var V = typeof U;\n    return U != null && (V == \"object\" || V == \"function\");\n  }\n  function On(U) {\n    return U != null && typeof U == \"object\";\n  }\n  var yf = X ? Re(X) : Vd;\n  function al(U) {\n    return nl(U) ? kd(U) : Wd(U);\n  }\n  function ol() {\n    return [];\n  }\n  function fl() {\n    return !1;\n  }\n  r.exports = sl;\n})(Qs, Qs.exports);\nvar o3 = Qs.exports;\nconst f3 = /* @__PURE__ */ (0,_lastConnected_e9351912_js__WEBPACK_IMPORTED_MODULE_0__.d)(o3), Ed = \"wc\", Sd = 2, ea = \"core\", jr = `${Ed}@2:${ea}:`, c3 = { name: ea, logger: \"error\" }, h3 = { database: \":memory:\" }, u3 = \"crypto\", eh = \"client_ed25519_seed\", d3 = ie.ONE_DAY, l3 = \"keychain\", p3 = \"0.3\", v3 = \"messages\", b3 = \"0.3\", th = ie.SIX_HOURS, g3 = \"publisher\", Md = \"irn\", y3 = \"error\", Id = \"wss://relay.walletconnect.org\", m3 = \"relayer\", Et = { message: \"relayer_message\", message_ack: \"relayer_message_ack\", connect: \"relayer_connect\", disconnect: \"relayer_disconnect\", error: \"relayer_error\", connection_stalled: \"relayer_connection_stalled\", transport_closed: \"relayer_transport_closed\", publish: \"relayer_publish\" }, w3 = \"_subscription\", hr = { payload: \"payload\", connect: \"connect\", disconnect: \"disconnect\", error: \"error\" }, _3 = 0.1, Do = \"2.17.3\", at = { link_mode: \"link_mode\", relay: \"relay\" }, x3 = \"0.3\", E3 = \"WALLETCONNECT_CLIENT_ID\", rh = \"WALLETCONNECT_LINK_MODE_APPS\", er = { created: \"subscription_created\", deleted: \"subscription_deleted\", expired: \"subscription_expired\", disabled: \"subscription_disabled\", sync: \"subscription_sync\", resubscribed: \"subscription_resubscribed\" }, S3 = \"subscription\", M3 = \"0.3\", I3 = ie.FIVE_SECONDS * 1e3, A3 = \"pairing\", D3 = \"0.3\", qn = { wc_pairingDelete: { req: { ttl: ie.ONE_DAY, prompt: !1, tag: 1e3 }, res: { ttl: ie.ONE_DAY, prompt: !1, tag: 1001 } }, wc_pairingPing: { req: { ttl: ie.THIRTY_SECONDS, prompt: !1, tag: 1002 }, res: { ttl: ie.THIRTY_SECONDS, prompt: !1, tag: 1003 } }, unregistered_method: { req: { ttl: ie.ONE_DAY, prompt: !1, tag: 0 }, res: { ttl: ie.ONE_DAY, prompt: !1, tag: 0 } } }, qi = { create: \"pairing_create\", expire: \"pairing_expire\", delete: \"pairing_delete\", ping: \"pairing_ping\" }, _r = { created: \"history_created\", updated: \"history_updated\", deleted: \"history_deleted\", sync: \"history_sync\" }, P3 = \"history\", O3 = \"0.3\", R3 = \"expirer\", ur = { created: \"expirer_created\", deleted: \"expirer_deleted\", expired: \"expirer_expired\", sync: \"expirer_sync\" }, N3 = \"0.3\", T3 = \"verify-api\", C3 = \"https://verify.walletconnect.com\", Ad = \"https://verify.walletconnect.org\", Vn = Ad, $3 = `${Vn}/v3`, L3 = [C3, Ad], F3 = \"echo\", q3 = \"https://echo.walletconnect.com\", Or = { pairing_started: \"pairing_started\", pairing_uri_validation_success: \"pairing_uri_validation_success\", pairing_uri_not_expired: \"pairing_uri_not_expired\", store_new_pairing: \"store_new_pairing\", subscribing_pairing_topic: \"subscribing_pairing_topic\", subscribe_pairing_topic_success: \"subscribe_pairing_topic_success\", existing_pairing: \"existing_pairing\", pairing_not_expired: \"pairing_not_expired\", emit_inactive_pairing: \"emit_inactive_pairing\", emit_session_proposal: \"emit_session_proposal\", subscribing_to_pairing_topic: \"subscribing_to_pairing_topic\" }, ai = { no_wss_connection: \"no_wss_connection\", no_internet_connection: \"no_internet_connection\", malformed_pairing_uri: \"malformed_pairing_uri\", active_pairing_already_exists: \"active_pairing_already_exists\", subscribe_pairing_topic_failure: \"subscribe_pairing_topic_failure\", pairing_expired: \"pairing_expired\", proposal_expired: \"proposal_expired\", proposal_listener_not_found: \"proposal_listener_not_found\" }, xr = { session_approve_started: \"session_approve_started\", proposal_not_expired: \"proposal_not_expired\", session_namespaces_validation_success: \"session_namespaces_validation_success\", create_session_topic: \"create_session_topic\", subscribing_session_topic: \"subscribing_session_topic\", subscribe_session_topic_success: \"subscribe_session_topic_success\", publishing_session_approve: \"publishing_session_approve\", session_approve_publish_success: \"session_approve_publish_success\", store_session: \"store_session\", publishing_session_settle: \"publishing_session_settle\", session_settle_publish_success: \"session_settle_publish_success\" }, Ti = { no_internet_connection: \"no_internet_connection\", no_wss_connection: \"no_wss_connection\", proposal_expired: \"proposal_expired\", subscribe_session_topic_failure: \"subscribe_session_topic_failure\", session_approve_publish_failure: \"session_approve_publish_failure\", session_settle_publish_failure: \"session_settle_publish_failure\", session_approve_namespace_validation_failure: \"session_approve_namespace_validation_failure\", proposal_not_found: \"proposal_not_found\" }, Ci = { authenticated_session_approve_started: \"authenticated_session_approve_started\", authenticated_session_not_expired: \"authenticated_session_not_expired\", chains_caip2_compliant: \"chains_caip2_compliant\", chains_evm_compliant: \"chains_evm_compliant\", create_authenticated_session_topic: \"create_authenticated_session_topic\", cacaos_verified: \"cacaos_verified\", store_authenticated_session: \"store_authenticated_session\", subscribing_authenticated_session_topic: \"subscribing_authenticated_session_topic\", subscribe_authenticated_session_topic_success: \"subscribe_authenticated_session_topic_success\", publishing_authenticated_session_approve: \"publishing_authenticated_session_approve\", authenticated_session_approve_publish_success: \"authenticated_session_approve_publish_success\" }, Un = { no_internet_connection: \"no_internet_connection\", no_wss_connection: \"no_wss_connection\", missing_session_authenticate_request: \"missing_session_authenticate_request\", session_authenticate_request_expired: \"session_authenticate_request_expired\", chains_caip2_compliant_failure: \"chains_caip2_compliant_failure\", chains_evm_compliant_failure: \"chains_evm_compliant_failure\", invalid_cacao: \"invalid_cacao\", subscribe_authenticated_session_topic_failure: \"subscribe_authenticated_session_topic_failure\", authenticated_session_approve_publish_failure: \"authenticated_session_approve_publish_failure\", authenticated_session_pending_request_not_found: \"authenticated_session_pending_request_not_found\" }, U3 = 0.1, z3 = \"event-client\", B3 = 86400, k3 = \"https://pulse.walletconnect.org/batch\";\nfunction j3(r, e) {\n  if (r.length >= 255)\n    throw new TypeError(\"Alphabet too long\");\n  for (var t = new Uint8Array(256), i = 0; i < t.length; i++)\n    t[i] = 255;\n  for (var n = 0; n < r.length; n++) {\n    var s = r.charAt(n), o = s.charCodeAt(0);\n    if (t[o] !== 255)\n      throw new TypeError(s + \" is ambiguous\");\n    t[o] = n;\n  }\n  var f = r.length, h = r.charAt(0), d = Math.log(f) / Math.log(256), v = Math.log(256) / Math.log(f);\n  function w(D) {\n    if (D instanceof Uint8Array || (ArrayBuffer.isView(D) ? D = new Uint8Array(D.buffer, D.byteOffset, D.byteLength) : Array.isArray(D) && (D = Uint8Array.from(D))), !(D instanceof Uint8Array))\n      throw new TypeError(\"Expected Uint8Array\");\n    if (D.length === 0)\n      return \"\";\n    for (var N = 0, k = 0, j = 0, T = D.length; j !== T && D[j] === 0; )\n      j++, N++;\n    for (var K = (T - j) * v + 1 >>> 0, $ = new Uint8Array(K); j !== T; ) {\n      for (var z = D[j], B = 0, _ = K - 1; (z !== 0 || B < k) && _ !== -1; _--, B++)\n        z += 256 * $[_] >>> 0, $[_] = z % f >>> 0, z = z / f >>> 0;\n      if (z !== 0)\n        throw new Error(\"Non-zero carry\");\n      k = B, j++;\n    }\n    for (var R = K - k; R !== K && $[R] === 0; )\n      R++;\n    for (var J = h.repeat(N); R < K; ++R)\n      J += r.charAt($[R]);\n    return J;\n  }\n  function A(D) {\n    if (typeof D != \"string\")\n      throw new TypeError(\"Expected String\");\n    if (D.length === 0)\n      return new Uint8Array();\n    var N = 0;\n    if (D[N] !== \" \") {\n      for (var k = 0, j = 0; D[N] === h; )\n        k++, N++;\n      for (var T = (D.length - N) * d + 1 >>> 0, K = new Uint8Array(T); D[N]; ) {\n        var $ = t[D.charCodeAt(N)];\n        if ($ === 255)\n          return;\n        for (var z = 0, B = T - 1; ($ !== 0 || z < j) && B !== -1; B--, z++)\n          $ += f * K[B] >>> 0, K[B] = $ % 256 >>> 0, $ = $ / 256 >>> 0;\n        if ($ !== 0)\n          throw new Error(\"Non-zero carry\");\n        j = z, N++;\n      }\n      if (D[N] !== \" \") {\n        for (var _ = T - j; _ !== T && K[_] === 0; )\n          _++;\n        for (var R = new Uint8Array(k + (T - _)), J = k; _ !== T; )\n          R[J++] = K[_++];\n        return R;\n      }\n    }\n  }\n  function I(D) {\n    var N = A(D);\n    if (N)\n      return N;\n    throw new Error(`Non-${e} character`);\n  }\n  return { encode: w, decodeUnsafe: A, decode: I };\n}\nvar K3 = j3, H3 = K3;\nconst Dd = (r) => {\n  if (r instanceof Uint8Array && r.constructor.name === \"Uint8Array\")\n    return r;\n  if (r instanceof ArrayBuffer)\n    return new Uint8Array(r);\n  if (ArrayBuffer.isView(r))\n    return new Uint8Array(r.buffer, r.byteOffset, r.byteLength);\n  throw new Error(\"Unknown type, must be binary type\");\n}, V3 = (r) => new TextEncoder().encode(r), W3 = (r) => new TextDecoder().decode(r);\nclass G3 {\n  constructor(e, t, i) {\n    this.name = e, this.prefix = t, this.baseEncode = i;\n  }\n  encode(e) {\n    if (e instanceof Uint8Array)\n      return `${this.prefix}${this.baseEncode(e)}`;\n    throw Error(\"Unknown type, must be binary type\");\n  }\n}\nclass J3 {\n  constructor(e, t, i) {\n    if (this.name = e, this.prefix = t, t.codePointAt(0) === void 0)\n      throw new Error(\"Invalid prefix character\");\n    this.prefixCodePoint = t.codePointAt(0), this.baseDecode = i;\n  }\n  decode(e) {\n    if (typeof e == \"string\") {\n      if (e.codePointAt(0) !== this.prefixCodePoint)\n        throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);\n      return this.baseDecode(e.slice(this.prefix.length));\n    } else\n      throw Error(\"Can only multibase decode strings\");\n  }\n  or(e) {\n    return Pd(this, e);\n  }\n}\nclass Y3 {\n  constructor(e) {\n    this.decoders = e;\n  }\n  or(e) {\n    return Pd(this, e);\n  }\n  decode(e) {\n    const t = e[0], i = this.decoders[t];\n    if (i)\n      return i.decode(e);\n    throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`);\n  }\n}\nconst Pd = (r, e) => new Y3({ ...r.decoders || { [r.prefix]: r }, ...e.decoders || { [e.prefix]: e } });\nclass X3 {\n  constructor(e, t, i, n) {\n    this.name = e, this.prefix = t, this.baseEncode = i, this.baseDecode = n, this.encoder = new G3(e, t, i), this.decoder = new J3(e, t, n);\n  }\n  encode(e) {\n    return this.encoder.encode(e);\n  }\n  decode(e) {\n    return this.decoder.decode(e);\n  }\n}\nconst Da = ({ name: r, prefix: e, encode: t, decode: i }) => new X3(r, e, t, i), ls = ({ prefix: r, name: e, alphabet: t }) => {\n  const { encode: i, decode: n } = H3(t, e);\n  return Da({ prefix: r, name: e, encode: i, decode: (s) => Dd(n(s)) });\n}, Z3 = (r, e, t, i) => {\n  const n = {};\n  for (let v = 0; v < e.length; ++v)\n    n[e[v]] = v;\n  let s = r.length;\n  for (; r[s - 1] === \"=\"; )\n    --s;\n  const o = new Uint8Array(s * t / 8 | 0);\n  let f = 0, h = 0, d = 0;\n  for (let v = 0; v < s; ++v) {\n    const w = n[r[v]];\n    if (w === void 0)\n      throw new SyntaxError(`Non-${i} character`);\n    h = h << t | w, f += t, f >= 8 && (f -= 8, o[d++] = 255 & h >> f);\n  }\n  if (f >= t || 255 & h << 8 - f)\n    throw new SyntaxError(\"Unexpected end of data\");\n  return o;\n}, Q3 = (r, e, t) => {\n  const i = e[e.length - 1] === \"=\", n = (1 << t) - 1;\n  let s = \"\", o = 0, f = 0;\n  for (let h = 0; h < r.length; ++h)\n    for (f = f << 8 | r[h], o += 8; o > t; )\n      o -= t, s += e[n & f >> o];\n  if (o && (s += e[n & f << t - o]), i)\n    for (; s.length * t & 7; )\n      s += \"=\";\n  return s;\n}, Ct = ({ name: r, prefix: e, bitsPerChar: t, alphabet: i }) => Da({ prefix: e, name: r, encode(n) {\n  return Q3(n, i, t);\n}, decode(n) {\n  return Z3(n, i, t, r);\n} }), e6 = Da({ prefix: \"\\0\", name: \"identity\", encode: (r) => W3(r), decode: (r) => V3(r) });\nvar t6 = Object.freeze({ __proto__: null, identity: e6 });\nconst r6 = Ct({ prefix: \"0\", name: \"base2\", alphabet: \"01\", bitsPerChar: 1 });\nvar i6 = Object.freeze({ __proto__: null, base2: r6 });\nconst n6 = Ct({ prefix: \"7\", name: \"base8\", alphabet: \"01234567\", bitsPerChar: 3 });\nvar s6 = Object.freeze({ __proto__: null, base8: n6 });\nconst a6 = ls({ prefix: \"9\", name: \"base10\", alphabet: \"0123456789\" });\nvar o6 = Object.freeze({ __proto__: null, base10: a6 });\nconst f6 = Ct({ prefix: \"f\", name: \"base16\", alphabet: \"0123456789abcdef\", bitsPerChar: 4 }), c6 = Ct({ prefix: \"F\", name: \"base16upper\", alphabet: \"0123456789ABCDEF\", bitsPerChar: 4 });\nvar h6 = Object.freeze({ __proto__: null, base16: f6, base16upper: c6 });\nconst u6 = Ct({ prefix: \"b\", name: \"base32\", alphabet: \"abcdefghijklmnopqrstuvwxyz234567\", bitsPerChar: 5 }), d6 = Ct({ prefix: \"B\", name: \"base32upper\", alphabet: \"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\", bitsPerChar: 5 }), l6 = Ct({ prefix: \"c\", name: \"base32pad\", alphabet: \"abcdefghijklmnopqrstuvwxyz234567=\", bitsPerChar: 5 }), p6 = Ct({ prefix: \"C\", name: \"base32padupper\", alphabet: \"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=\", bitsPerChar: 5 }), v6 = Ct({ prefix: \"v\", name: \"base32hex\", alphabet: \"0123456789abcdefghijklmnopqrstuv\", bitsPerChar: 5 }), b6 = Ct({ prefix: \"V\", name: \"base32hexupper\", alphabet: \"0123456789ABCDEFGHIJKLMNOPQRSTUV\", bitsPerChar: 5 }), g6 = Ct({ prefix: \"t\", name: \"base32hexpad\", alphabet: \"0123456789abcdefghijklmnopqrstuv=\", bitsPerChar: 5 }), y6 = Ct({ prefix: \"T\", name: \"base32hexpadupper\", alphabet: \"0123456789ABCDEFGHIJKLMNOPQRSTUV=\", bitsPerChar: 5 }), m6 = Ct({ prefix: \"h\", name: \"base32z\", alphabet: \"ybndrfg8ejkmcpqxot1uwisza345h769\", bitsPerChar: 5 });\nvar w6 = Object.freeze({ __proto__: null, base32: u6, base32upper: d6, base32pad: l6, base32padupper: p6, base32hex: v6, base32hexupper: b6, base32hexpad: g6, base32hexpadupper: y6, base32z: m6 });\nconst _6 = ls({ prefix: \"k\", name: \"base36\", alphabet: \"0123456789abcdefghijklmnopqrstuvwxyz\" }), x6 = ls({ prefix: \"K\", name: \"base36upper\", alphabet: \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\" });\nvar E6 = Object.freeze({ __proto__: null, base36: _6, base36upper: x6 });\nconst S6 = ls({ name: \"base58btc\", prefix: \"z\", alphabet: \"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\" }), M6 = ls({ name: \"base58flickr\", prefix: \"Z\", alphabet: \"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\" });\nvar I6 = Object.freeze({ __proto__: null, base58btc: S6, base58flickr: M6 });\nconst A6 = Ct({ prefix: \"m\", name: \"base64\", alphabet: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\", bitsPerChar: 6 }), D6 = Ct({ prefix: \"M\", name: \"base64pad\", alphabet: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\", bitsPerChar: 6 }), P6 = Ct({ prefix: \"u\", name: \"base64url\", alphabet: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\", bitsPerChar: 6 }), O6 = Ct({ prefix: \"U\", name: \"base64urlpad\", alphabet: \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=\", bitsPerChar: 6 });\nvar R6 = Object.freeze({ __proto__: null, base64: A6, base64pad: D6, base64url: P6, base64urlpad: O6 });\nconst Od = Array.from(\"\"), N6 = Od.reduce((r, e, t) => (r[t] = e, r), []), T6 = Od.reduce((r, e, t) => (r[e.codePointAt(0)] = t, r), []);\nfunction C6(r) {\n  return r.reduce((e, t) => (e += N6[t], e), \"\");\n}\nfunction $6(r) {\n  const e = [];\n  for (const t of r) {\n    const i = T6[t.codePointAt(0)];\n    if (i === void 0)\n      throw new Error(`Non-base256emoji character: ${t}`);\n    e.push(i);\n  }\n  return new Uint8Array(e);\n}\nconst L6 = Da({ prefix: \"\", name: \"base256emoji\", encode: C6, decode: $6 });\nvar F6 = Object.freeze({ __proto__: null, base256emoji: L6 }), q6 = Rd, ih = 128, U6 = 127, z6 = ~U6, B6 = Math.pow(2, 31);\nfunction Rd(r, e, t) {\n  e = e || [], t = t || 0;\n  for (var i = t; r >= B6; )\n    e[t++] = r & 255 | ih, r /= 128;\n  for (; r & z6; )\n    e[t++] = r & 255 | ih, r >>>= 7;\n  return e[t] = r | 0, Rd.bytes = t - i + 1, e;\n}\nvar k6 = Po, j6 = 128, nh = 127;\nfunction Po(r, i) {\n  var t = 0, i = i || 0, n = 0, s = i, o, f = r.length;\n  do {\n    if (s >= f)\n      throw Po.bytes = 0, new RangeError(\"Could not decode varint\");\n    o = r[s++], t += n < 28 ? (o & nh) << n : (o & nh) * Math.pow(2, n), n += 7;\n  } while (o >= j6);\n  return Po.bytes = s - i, t;\n}\nvar K6 = Math.pow(2, 7), H6 = Math.pow(2, 14), V6 = Math.pow(2, 21), W6 = Math.pow(2, 28), G6 = Math.pow(2, 35), J6 = Math.pow(2, 42), Y6 = Math.pow(2, 49), X6 = Math.pow(2, 56), Z6 = Math.pow(2, 63), Q6 = function(r) {\n  return r < K6 ? 1 : r < H6 ? 2 : r < V6 ? 3 : r < W6 ? 4 : r < G6 ? 5 : r < J6 ? 6 : r < Y6 ? 7 : r < X6 ? 8 : r < Z6 ? 9 : 10;\n}, ew = { encode: q6, decode: k6, encodingLength: Q6 }, Nd = ew;\nconst sh = (r, e, t = 0) => (Nd.encode(r, e, t), e), ah = (r) => Nd.encodingLength(r), Oo = (r, e) => {\n  const t = e.byteLength, i = ah(r), n = i + ah(t), s = new Uint8Array(n + t);\n  return sh(r, s, 0), sh(t, s, i), s.set(e, n), new tw(r, t, e, s);\n};\nclass tw {\n  constructor(e, t, i, n) {\n    this.code = e, this.size = t, this.digest = i, this.bytes = n;\n  }\n}\nconst Td = ({ name: r, code: e, encode: t }) => new rw(r, e, t);\nclass rw {\n  constructor(e, t, i) {\n    this.name = e, this.code = t, this.encode = i;\n  }\n  digest(e) {\n    if (e instanceof Uint8Array) {\n      const t = this.encode(e);\n      return t instanceof Uint8Array ? Oo(this.code, t) : t.then((i) => Oo(this.code, i));\n    } else\n      throw Error(\"Unknown type, must be binary type\");\n  }\n}\nconst Cd = (r) => async (e) => new Uint8Array(await crypto.subtle.digest(r, e)), iw = Td({ name: \"sha2-256\", code: 18, encode: Cd(\"SHA-256\") }), nw = Td({ name: \"sha2-512\", code: 19, encode: Cd(\"SHA-512\") });\nvar sw = Object.freeze({ __proto__: null, sha256: iw, sha512: nw });\nconst $d = 0, aw = \"identity\", Ld = Dd, ow = (r) => Oo($d, Ld(r)), fw = { code: $d, name: aw, encode: Ld, digest: ow };\nvar cw = Object.freeze({ __proto__: null, identity: fw });\nnew TextEncoder(), new TextDecoder();\nconst oh = { ...t6, ...i6, ...s6, ...o6, ...h6, ...w6, ...E6, ...I6, ...R6, ...F6 };\n({ ...sw, ...cw });\nfunction hw(r = 0) {\n  return globalThis.Buffer != null && globalThis.Buffer.allocUnsafe != null ? globalThis.Buffer.allocUnsafe(r) : new Uint8Array(r);\n}\nfunction Fd(r, e, t, i) {\n  return { name: r, prefix: e, encoder: { name: r, prefix: e, encode: t }, decoder: { decode: i } };\n}\nconst fh = Fd(\"utf8\", \"u\", (r) => \"u\" + new TextDecoder(\"utf8\").decode(r), (r) => new TextEncoder().encode(r.substring(1))), ro = Fd(\"ascii\", \"a\", (r) => {\n  let e = \"a\";\n  for (let t = 0; t < r.length; t++)\n    e += String.fromCharCode(r[t]);\n  return e;\n}, (r) => {\n  r = r.substring(1);\n  const e = hw(r.length);\n  for (let t = 0; t < r.length; t++)\n    e[t] = r.charCodeAt(t);\n  return e;\n}), uw = { utf8: fh, \"utf-8\": fh, hex: oh.base16, latin1: ro, ascii: ro, binary: ro, ...oh };\nfunction dw(r, e = \"utf8\") {\n  const t = uw[e];\n  if (!t)\n    throw new Error(`Unsupported encoding \"${e}\"`);\n  return (e === \"utf8\" || e === \"utf-8\") && globalThis.Buffer != null && globalThis.Buffer.from != null ? globalThis.Buffer.from(r, \"utf8\") : t.decoder.decode(`${t.prefix}${r}`);\n}\nclass lw {\n  constructor(e, t) {\n    this.core = e, this.logger = t, this.keychain = /* @__PURE__ */ new Map(), this.name = l3, this.version = p3, this.initialized = !1, this.storagePrefix = jr, this.init = async () => {\n      if (!this.initialized) {\n        const i = await this.getKeyChain();\n        typeof i < \"u\" && (this.keychain = i), this.initialized = !0;\n      }\n    }, this.has = (i) => (this.isInitialized(), this.keychain.has(i)), this.set = async (i, n) => {\n      this.isInitialized(), this.keychain.set(i, n), await this.persist();\n    }, this.get = (i) => {\n      this.isInitialized();\n      const n = this.keychain.get(i);\n      if (typeof n > \"u\") {\n        const { message: s } = ae(\"NO_MATCHING_KEY\", `${this.name}: ${i}`);\n        throw new Error(s);\n      }\n      return n;\n    }, this.del = async (i) => {\n      this.isInitialized(), this.keychain.delete(i), await this.persist();\n    }, this.core = e, this.logger = kt(t, this.name);\n  }\n  get context() {\n    return Zt(this.logger);\n  }\n  get storageKey() {\n    return this.storagePrefix + this.version + this.core.customStoragePrefix + \"//\" + this.name;\n  }\n  async setKeyChain(e) {\n    await this.core.storage.setItem(this.storageKey, id(e));\n  }\n  async getKeyChain() {\n    const e = await this.core.storage.getItem(this.storageKey);\n    return typeof e < \"u\" ? nd(e) : void 0;\n  }\n  async persist() {\n    await this.setKeyChain(this.keychain);\n  }\n  isInitialized() {\n    if (!this.initialized) {\n      const { message: e } = ae(\"NOT_INITIALIZED\", this.name);\n      throw new Error(e);\n    }\n  }\n}\nclass pw {\n  constructor(e, t, i) {\n    this.core = e, this.logger = t, this.name = u3, this.randomSessionIdentifier = Ao(), this.initialized = !1, this.init = async () => {\n      this.initialized || (await this.keychain.init(), this.initialized = !0);\n    }, this.hasKeys = (n) => (this.isInitialized(), this.keychain.has(n)), this.getClientId = async () => {\n      this.isInitialized();\n      const n = await this.getClientSeed(), s = Hf(n);\n      return fu(s.publicKey);\n    }, this.generateKeyPair = () => {\n      this.isInitialized();\n      const n = Fy();\n      return this.setPrivateKey(n.publicKey, n.privateKey);\n    }, this.signJWT = async (n) => {\n      this.isInitialized();\n      const s = await this.getClientSeed(), o = Hf(s), f = this.randomSessionIdentifier;\n      return await ev(f, n, d3, o);\n    }, this.generateSharedKey = (n, s, o) => {\n      this.isInitialized();\n      const f = this.getPrivateKey(n), h = qy(f, s);\n      return this.setSymKey(h, o);\n    }, this.setSymKey = async (n, s) => {\n      this.isInitialized();\n      const o = s || Cs(n);\n      return await this.keychain.set(o, n), o;\n    }, this.deleteKeyPair = async (n) => {\n      this.isInitialized(), await this.keychain.del(n);\n    }, this.deleteSymKey = async (n) => {\n      this.isInitialized(), await this.keychain.del(n);\n    }, this.encode = async (n, s, o) => {\n      this.isInitialized();\n      const f = pd(o), h = ji(s);\n      if (Lc(f))\n        return zy(h, o?.encoding);\n      if ($c(f)) {\n        const A = f.senderPublicKey, I = f.receiverPublicKey;\n        n = await this.generateSharedKey(A, I);\n      }\n      const d = this.getSymKey(n), { type: v, senderPublicKey: w } = f;\n      return Uy({ type: v, symKey: d, message: h, senderPublicKey: w, encoding: o?.encoding });\n    }, this.decode = async (n, s, o) => {\n      this.isInitialized();\n      const f = jy(s, o);\n      if (Lc(f)) {\n        const h = ky(s, o?.encoding);\n        return un(h);\n      }\n      if ($c(f)) {\n        const h = f.receiverPublicKey, d = f.senderPublicKey;\n        n = await this.generateSharedKey(h, d);\n      }\n      try {\n        const h = this.getSymKey(n), d = By({ symKey: h, encoded: s, encoding: o?.encoding });\n        return un(d);\n      } catch (h) {\n        this.logger.error(`Failed to decode message from topic: '${n}', clientId: '${await this.getClientId()}'`), this.logger.error(h);\n      }\n    }, this.getPayloadType = (n, s = wi) => {\n      const o = Zn({ encoded: n, encoding: s });\n      return Vi(o.type);\n    }, this.getPayloadSenderPublicKey = (n, s = wi) => {\n      const o = Zn({ encoded: n, encoding: s });\n      return o.senderPublicKey ? Mt(o.senderPublicKey, Bt) : void 0;\n    }, this.core = e, this.logger = kt(t, this.name), this.keychain = i || new lw(this.core, this.logger);\n  }\n  get context() {\n    return Zt(this.logger);\n  }\n  async setPrivateKey(e, t) {\n    return await this.keychain.set(e, t), e;\n  }\n  getPrivateKey(e) {\n    return this.keychain.get(e);\n  }\n  async getClientSeed() {\n    let e = \"\";\n    try {\n      e = this.keychain.get(eh);\n    } catch {\n      e = Ao(), await this.keychain.set(eh, e);\n    }\n    return dw(e, \"base16\");\n  }\n  getSymKey(e) {\n    return this.keychain.get(e);\n  }\n  isInitialized() {\n    if (!this.initialized) {\n      const { message: e } = ae(\"NOT_INITIALIZED\", this.name);\n      throw new Error(e);\n    }\n  }\n}\nclass vw extends sp {\n  constructor(e, t) {\n    super(e, t), this.logger = e, this.core = t, this.messages = /* @__PURE__ */ new Map(), this.name = v3, this.version = b3, this.initialized = !1, this.storagePrefix = jr, this.init = async () => {\n      if (!this.initialized) {\n        this.logger.trace(\"Initialized\");\n        try {\n          const i = await this.getRelayerMessages();\n          typeof i < \"u\" && (this.messages = i), this.logger.debug(`Successfully Restored records for ${this.name}`), this.logger.trace({ type: \"method\", method: \"restore\", size: this.messages.size });\n        } catch (i) {\n          this.logger.debug(`Failed to Restore records for ${this.name}`), this.logger.error(i);\n        } finally {\n          this.initialized = !0;\n        }\n      }\n    }, this.set = async (i, n) => {\n      this.isInitialized();\n      const s = fi(n);\n      let o = this.messages.get(i);\n      return typeof o > \"u\" && (o = {}), typeof o[s] < \"u\" || (o[s] = n, this.messages.set(i, o), await this.persist()), s;\n    }, this.get = (i) => {\n      this.isInitialized();\n      let n = this.messages.get(i);\n      return typeof n > \"u\" && (n = {}), n;\n    }, this.has = (i, n) => {\n      this.isInitialized();\n      const s = this.get(i), o = fi(n);\n      return typeof s[o] < \"u\";\n    }, this.del = async (i) => {\n      this.isInitialized(), this.messages.delete(i), await this.persist();\n    }, this.logger = kt(e, this.name), this.core = t;\n  }\n  get context() {\n    return Zt(this.logger);\n  }\n  get storageKey() {\n    return this.storagePrefix + this.version + this.core.customStoragePrefix + \"//\" + this.name;\n  }\n  async setRelayerMessages(e) {\n    await this.core.storage.setItem(this.storageKey, id(e));\n  }\n  async getRelayerMessages() {\n    const e = await this.core.storage.getItem(this.storageKey);\n    return typeof e < \"u\" ? nd(e) : void 0;\n  }\n  async persist() {\n    await this.setRelayerMessages(this.messages);\n  }\n  isInitialized() {\n    if (!this.initialized) {\n      const { message: e } = ae(\"NOT_INITIALIZED\", this.name);\n      throw new Error(e);\n    }\n  }\n}\nvar bw = Object.defineProperty, gw = Object.defineProperties, yw = Object.getOwnPropertyDescriptors, ch = Object.getOwnPropertySymbols, mw = Object.prototype.hasOwnProperty, ww = Object.prototype.propertyIsEnumerable, hh = (r, e, t) => e in r ? bw(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : r[e] = t, uh = (r, e) => {\n  for (var t in e || (e = {}))\n    mw.call(e, t) && hh(r, t, e[t]);\n  if (ch)\n    for (var t of ch(e))\n      ww.call(e, t) && hh(r, t, e[t]);\n  return r;\n}, dh = (r, e) => gw(r, yw(e));\nclass _w extends ap {\n  constructor(e, t) {\n    super(e, t), this.relayer = e, this.logger = t, this.events = new ir.EventEmitter(), this.name = g3, this.queue = /* @__PURE__ */ new Map(), this.publishTimeout = ie.toMiliseconds(ie.ONE_MINUTE), this.initialPublishTimeout = ie.toMiliseconds(ie.ONE_SECOND * 15), this.needsTransportRestart = !1, this.publish = async (i, n, s) => {\n      var o;\n      this.logger.debug(\"Publishing Payload\"), this.logger.trace({ type: \"method\", method: \"publish\", params: { topic: i, message: n, opts: s } });\n      const f = s?.ttl || th, h = Ys(s), d = s?.prompt || !1, v = s?.tag || 0, w = s?.id || zi().toString(), A = { topic: i, message: n, opts: { ttl: f, relay: h, prompt: d, tag: v, id: w, attestation: s?.attestation } }, I = `Failed to publish payload, please try again. id:${w} tag:${v}`;\n      try {\n        const D = new Promise(async (N) => {\n          const k = ({ id: T }) => {\n            A.opts.id === T && (this.removeRequestFromQueue(T), this.relayer.events.removeListener(Et.publish, k), N(A));\n          };\n          this.relayer.events.on(Et.publish, k);\n          const j = mi(new Promise((T, K) => {\n            this.rpcPublish({ topic: i, message: n, ttl: f, prompt: d, tag: v, id: w, attestation: s?.attestation }).then(T).catch(($) => {\n              this.logger.warn($, $?.message), K($);\n            });\n          }), this.initialPublishTimeout, `Failed initial publish, retrying.... id:${w} tag:${v}`);\n          try {\n            await j, this.events.removeListener(Et.publish, k);\n          } catch (T) {\n            this.queue.set(w, dh(uh({}, A), { attempt: 1 })), this.logger.warn(T, T?.message);\n          }\n        });\n        this.logger.trace({ type: \"method\", method: \"publish\", params: { id: w, topic: i, message: n, opts: s } }), await mi(D, this.publishTimeout, I);\n      } catch (D) {\n        if (this.logger.debug(\"Failed to Publish Payload\"), this.logger.error(D), (o = s?.internal) != null && o.throwOnFailedPublish)\n          throw D;\n      } finally {\n        this.queue.delete(w);\n      }\n    }, this.on = (i, n) => {\n      this.events.on(i, n);\n    }, this.once = (i, n) => {\n      this.events.once(i, n);\n    }, this.off = (i, n) => {\n      this.events.off(i, n);\n    }, this.removeListener = (i, n) => {\n      this.events.removeListener(i, n);\n    }, this.relayer = e, this.logger = kt(t, this.name), this.registerEventListeners();\n  }\n  get context() {\n    return Zt(this.logger);\n  }\n  async rpcPublish(e) {\n    var t, i, n, s;\n    const { topic: o, message: f, ttl: h = th, prompt: d, tag: v, id: w, attestation: A } = e, I = { method: jn(Ys().protocol).publish, params: { topic: o, message: f, ttl: h, prompt: d, tag: v, attestation: A }, id: w };\n    zt((t = I.params) == null ? void 0 : t.prompt) && ((i = I.params) == null || delete i.prompt), zt((n = I.params) == null ? void 0 : n.tag) && ((s = I.params) == null || delete s.tag), this.logger.debug(\"Outgoing Relay Payload\"), this.logger.trace({ type: \"message\", direction: \"outgoing\", request: I });\n    const D = await this.relayer.request(I);\n    return this.relayer.events.emit(Et.publish, e), this.logger.debug(\"Successfully Published Payload\"), D;\n  }\n  removeRequestFromQueue(e) {\n    this.queue.delete(e);\n  }\n  checkQueue() {\n    this.queue.forEach(async (e, t) => {\n      const i = e.attempt + 1;\n      this.queue.set(t, dh(uh({}, e), { attempt: i }));\n      const { topic: n, message: s, opts: o, attestation: f } = e;\n      this.logger.warn({}, `Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${i}`), await this.rpcPublish({ topic: n, message: s, ttl: o.ttl, prompt: o.prompt, tag: o.tag, id: o.id, attestation: f }), this.logger.warn({}, `Publisher: queue->published: ${e.opts.id}`);\n    });\n  }\n  registerEventListeners() {\n    this.relayer.core.heartbeat.on(gn.pulse, () => {\n      if (this.needsTransportRestart) {\n        this.needsTransportRestart = !1, this.relayer.events.emit(Et.connection_stalled);\n        return;\n      }\n      this.checkQueue();\n    }), this.relayer.on(Et.message_ack, (e) => {\n      this.removeRequestFromQueue(e.id.toString());\n    });\n  }\n}\nclass xw {\n  constructor() {\n    this.map = /* @__PURE__ */ new Map(), this.set = (e, t) => {\n      const i = this.get(e);\n      this.exists(e, t) || this.map.set(e, [...i, t]);\n    }, this.get = (e) => this.map.get(e) || [], this.exists = (e, t) => this.get(e).includes(t), this.delete = (e, t) => {\n      if (typeof t > \"u\") {\n        this.map.delete(e);\n        return;\n      }\n      if (!this.map.has(e))\n        return;\n      const i = this.get(e);\n      if (!this.exists(e, t))\n        return;\n      const n = i.filter((s) => s !== t);\n      if (!n.length) {\n        this.map.delete(e);\n        return;\n      }\n      this.map.set(e, n);\n    }, this.clear = () => {\n      this.map.clear();\n    };\n  }\n  get topics() {\n    return Array.from(this.map.keys());\n  }\n}\nvar Ew = Object.defineProperty, Sw = Object.defineProperties, Mw = Object.getOwnPropertyDescriptors, lh = Object.getOwnPropertySymbols, Iw = Object.prototype.hasOwnProperty, Aw = Object.prototype.propertyIsEnumerable, ph = (r, e, t) => e in r ? Ew(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : r[e] = t, zn = (r, e) => {\n  for (var t in e || (e = {}))\n    Iw.call(e, t) && ph(r, t, e[t]);\n  if (lh)\n    for (var t of lh(e))\n      Aw.call(e, t) && ph(r, t, e[t]);\n  return r;\n}, io = (r, e) => Sw(r, Mw(e));\nclass Dw extends cp {\n  constructor(e, t) {\n    super(e, t), this.relayer = e, this.logger = t, this.subscriptions = /* @__PURE__ */ new Map(), this.topicMap = new xw(), this.events = new ir.EventEmitter(), this.name = S3, this.version = M3, this.pending = /* @__PURE__ */ new Map(), this.cached = [], this.initialized = !1, this.pendingSubscriptionWatchLabel = \"pending_sub_watch_label\", this.pollingInterval = 20, this.storagePrefix = jr, this.subscribeTimeout = ie.toMiliseconds(ie.ONE_MINUTE), this.initialSubscribeTimeout = ie.toMiliseconds(ie.ONE_SECOND * 15), this.batchSubscribeTopicsLimit = 500, this.init = async () => {\n      this.initialized || (this.logger.trace(\"Initialized\"), this.registerEventListeners(), this.clientId = await this.relayer.core.crypto.getClientId(), await this.restore()), this.initialized = !0;\n    }, this.subscribe = async (i, n) => {\n      this.isInitialized(), this.logger.debug(\"Subscribing Topic\"), this.logger.trace({ type: \"method\", method: \"subscribe\", params: { topic: i, opts: n } });\n      try {\n        const s = Ys(n), o = { topic: i, relay: s, transportType: n?.transportType };\n        this.pending.set(i, o);\n        const f = await this.rpcSubscribe(i, s, n);\n        return typeof f == \"string\" && (this.onSubscribe(f, o), this.logger.debug(\"Successfully Subscribed Topic\"), this.logger.trace({ type: \"method\", method: \"subscribe\", params: { topic: i, opts: n } })), f;\n      } catch (s) {\n        throw this.logger.debug(\"Failed to Subscribe Topic\"), this.logger.error(s), s;\n      }\n    }, this.unsubscribe = async (i, n) => {\n      await this.restartToComplete(), this.isInitialized(), typeof n?.id < \"u\" ? await this.unsubscribeById(i, n.id, n) : await this.unsubscribeByTopic(i, n);\n    }, this.isSubscribed = async (i) => {\n      if (this.topics.includes(i))\n        return !0;\n      const n = `${this.pendingSubscriptionWatchLabel}_${i}`;\n      return await new Promise((s, o) => {\n        const f = new ie.Watch();\n        f.start(n);\n        const h = setInterval(() => {\n          (!this.pending.has(i) && this.topics.includes(i) || this.cached.some((d) => d.topic === i)) && (clearInterval(h), f.stop(n), s(!0)), f.elapsed(n) >= I3 && (clearInterval(h), f.stop(n), o(new Error(\"Subscription resolution timeout\")));\n        }, this.pollingInterval);\n      }).catch(() => !1);\n    }, this.on = (i, n) => {\n      this.events.on(i, n);\n    }, this.once = (i, n) => {\n      this.events.once(i, n);\n    }, this.off = (i, n) => {\n      this.events.off(i, n);\n    }, this.removeListener = (i, n) => {\n      this.events.removeListener(i, n);\n    }, this.start = async () => {\n      await this.onConnect();\n    }, this.stop = async () => {\n      await this.onDisconnect();\n    }, this.restart = async () => {\n      await this.restore(), await this.onRestart();\n    }, this.checkPending = async () => {\n      if (this.pending.size === 0 && (!this.initialized || !this.relayer.connected))\n        return;\n      const i = [];\n      this.pending.forEach((n) => {\n        i.push(n);\n      }), await this.batchSubscribe(i);\n    }, this.registerEventListeners = () => {\n      this.relayer.core.heartbeat.on(gn.pulse, async () => {\n        await this.checkPending();\n      }), this.events.on(er.created, async (i) => {\n        const n = er.created;\n        this.logger.info(`Emitting ${n}`), this.logger.debug({ type: \"event\", event: n, data: i }), await this.persist();\n      }), this.events.on(er.deleted, async (i) => {\n        const n = er.deleted;\n        this.logger.info(`Emitting ${n}`), this.logger.debug({ type: \"event\", event: n, data: i }), await this.persist();\n      });\n    }, this.relayer = e, this.logger = kt(t, this.name), this.clientId = \"\";\n  }\n  get context() {\n    return Zt(this.logger);\n  }\n  get storageKey() {\n    return this.storagePrefix + this.version + this.relayer.core.customStoragePrefix + \"//\" + this.name;\n  }\n  get length() {\n    return this.subscriptions.size;\n  }\n  get ids() {\n    return Array.from(this.subscriptions.keys());\n  }\n  get values() {\n    return Array.from(this.subscriptions.values());\n  }\n  get topics() {\n    return this.topicMap.topics;\n  }\n  hasSubscription(e, t) {\n    let i = !1;\n    try {\n      i = this.getSubscription(e).topic === t;\n    } catch {\n    }\n    return i;\n  }\n  reset() {\n    this.cached = [], this.initialized = !0;\n  }\n  onDisable() {\n    this.cached = this.values, this.subscriptions.clear(), this.topicMap.clear();\n  }\n  async unsubscribeByTopic(e, t) {\n    const i = this.topicMap.get(e);\n    await Promise.all(i.map(async (n) => await this.unsubscribeById(e, n, t)));\n  }\n  async unsubscribeById(e, t, i) {\n    this.logger.debug(\"Unsubscribing Topic\"), this.logger.trace({ type: \"method\", method: \"unsubscribe\", params: { topic: e, id: t, opts: i } });\n    try {\n      const n = Ys(i);\n      await this.rpcUnsubscribe(e, t, n);\n      const s = st(\"USER_DISCONNECTED\", `${this.name}, ${e}`);\n      await this.onUnsubscribe(e, t, s), this.logger.debug(\"Successfully Unsubscribed Topic\"), this.logger.trace({ type: \"method\", method: \"unsubscribe\", params: { topic: e, id: t, opts: i } });\n    } catch (n) {\n      throw this.logger.debug(\"Failed to Unsubscribe Topic\"), this.logger.error(n), n;\n    }\n  }\n  async rpcSubscribe(e, t, i) {\n    var n;\n    i?.transportType === at.relay && await this.restartToComplete();\n    const s = { method: jn(t.protocol).subscribe, params: { topic: e } };\n    this.logger.debug(\"Outgoing Relay Payload\"), this.logger.trace({ type: \"payload\", direction: \"outgoing\", request: s });\n    const o = (n = i?.internal) == null ? void 0 : n.throwOnFailedPublish;\n    try {\n      const f = this.getSubscriptionId(e);\n      if (i?.transportType === at.link_mode)\n        return setTimeout(() => {\n          (this.relayer.connected || this.relayer.connecting) && this.relayer.request(s).catch((v) => this.logger.warn(v));\n        }, ie.toMiliseconds(ie.ONE_SECOND)), f;\n      const h = new Promise(async (v) => {\n        const w = (A) => {\n          A.topic === e && (this.events.removeListener(er.created, w), v(A.id));\n        };\n        this.events.on(er.created, w);\n        try {\n          const A = await mi(new Promise((I, D) => {\n            this.relayer.request(s).catch((N) => {\n              this.logger.warn(N, N?.message), D(N);\n            }).then(I);\n          }), this.initialSubscribeTimeout, `Subscribing to ${e} failed, please try again`);\n          this.events.removeListener(er.created, w), v(A);\n        } catch {\n        }\n      }), d = await mi(h, this.subscribeTimeout, `Subscribing to ${e} failed, please try again`);\n      if (!d && o)\n        throw new Error(`Subscribing to ${e} failed, please try again`);\n      return d ? f : null;\n    } catch (f) {\n      if (this.logger.debug(\"Outgoing Relay Subscribe Payload stalled\"), this.relayer.events.emit(Et.connection_stalled), o)\n        throw f;\n    }\n    return null;\n  }\n  async rpcBatchSubscribe(e) {\n    if (!e.length)\n      return;\n    const t = e[0].relay, i = { method: jn(t.protocol).batchSubscribe, params: { topics: e.map((n) => n.topic) } };\n    this.logger.debug(\"Outgoing Relay Payload\"), this.logger.trace({ type: \"payload\", direction: \"outgoing\", request: i });\n    try {\n      await await mi(new Promise((n) => {\n        this.relayer.request(i).catch((s) => this.logger.warn(s)).then(n);\n      }), this.subscribeTimeout, \"rpcBatchSubscribe failed, please try again\");\n    } catch {\n      this.relayer.events.emit(Et.connection_stalled);\n    }\n  }\n  async rpcBatchFetchMessages(e) {\n    if (!e.length)\n      return;\n    const t = e[0].relay, i = { method: jn(t.protocol).batchFetchMessages, params: { topics: e.map((s) => s.topic) } };\n    this.logger.debug(\"Outgoing Relay Payload\"), this.logger.trace({ type: \"payload\", direction: \"outgoing\", request: i });\n    let n;\n    try {\n      n = await await mi(new Promise((s, o) => {\n        this.relayer.request(i).catch((f) => {\n          this.logger.warn(f), o(f);\n        }).then(s);\n      }), this.subscribeTimeout, \"rpcBatchFetchMessages failed, please try again\");\n    } catch {\n      this.relayer.events.emit(Et.connection_stalled);\n    }\n    return n;\n  }\n  rpcUnsubscribe(e, t, i) {\n    const n = { method: jn(i.protocol).unsubscribe, params: { topic: e, id: t } };\n    return this.logger.debug(\"Outgoing Relay Payload\"), this.logger.trace({ type: \"payload\", direction: \"outgoing\", request: n }), this.relayer.request(n);\n  }\n  onSubscribe(e, t) {\n    this.setSubscription(e, io(zn({}, t), { id: e })), this.pending.delete(t.topic);\n  }\n  onBatchSubscribe(e) {\n    e.length && e.forEach((t) => {\n      this.setSubscription(t.id, zn({}, t)), this.pending.delete(t.topic);\n    });\n  }\n  async onUnsubscribe(e, t, i) {\n    this.events.removeAllListeners(t), this.hasSubscription(t, e) && this.deleteSubscription(t, i), await this.relayer.messages.del(e);\n  }\n  async setRelayerSubscriptions(e) {\n    await this.relayer.core.storage.setItem(this.storageKey, e);\n  }\n  async getRelayerSubscriptions() {\n    return await this.relayer.core.storage.getItem(this.storageKey);\n  }\n  setSubscription(e, t) {\n    this.logger.debug(\"Setting subscription\"), this.logger.trace({ type: \"method\", method: \"setSubscription\", id: e, subscription: t }), this.addSubscription(e, t);\n  }\n  addSubscription(e, t) {\n    this.subscriptions.set(e, zn({}, t)), this.topicMap.set(t.topic, e), this.events.emit(er.created, t);\n  }\n  getSubscription(e) {\n    this.logger.debug(\"Getting subscription\"), this.logger.trace({ type: \"method\", method: \"getSubscription\", id: e });\n    const t = this.subscriptions.get(e);\n    if (!t) {\n      const { message: i } = ae(\"NO_MATCHING_KEY\", `${this.name}: ${e}`);\n      throw new Error(i);\n    }\n    return t;\n  }\n  deleteSubscription(e, t) {\n    this.logger.debug(\"Deleting subscription\"), this.logger.trace({ type: \"method\", method: \"deleteSubscription\", id: e, reason: t });\n    const i = this.getSubscription(e);\n    this.subscriptions.delete(e), this.topicMap.delete(i.topic, e), this.events.emit(er.deleted, io(zn({}, i), { reason: t }));\n  }\n  async persist() {\n    await this.setRelayerSubscriptions(this.values), this.events.emit(er.sync);\n  }\n  async onRestart() {\n    if (this.cached.length) {\n      const e = [...this.cached], t = Math.ceil(this.cached.length / this.batchSubscribeTopicsLimit);\n      for (let i = 0; i < t; i++) {\n        const n = e.splice(0, this.batchSubscribeTopicsLimit);\n        await this.batchSubscribe(n);\n      }\n    }\n    this.events.emit(er.resubscribed);\n  }\n  async restore() {\n    try {\n      const e = await this.getRelayerSubscriptions();\n      if (typeof e > \"u\" || !e.length)\n        return;\n      if (this.subscriptions.size) {\n        const { message: t } = ae(\"RESTORE_WILL_OVERRIDE\", this.name);\n        throw this.logger.error(t), this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`), new Error(t);\n      }\n      this.cached = e, this.logger.debug(`Successfully Restored subscriptions for ${this.name}`), this.logger.trace({ type: \"method\", method: \"restore\", subscriptions: this.values });\n    } catch (e) {\n      this.logger.debug(`Failed to Restore subscriptions for ${this.name}`), this.logger.error(e);\n    }\n  }\n  async batchSubscribe(e) {\n    e.length && (await this.rpcBatchSubscribe(e), this.onBatchSubscribe(e.map((t) => io(zn({}, t), { id: this.getSubscriptionId(t.topic) }))));\n  }\n  async batchFetchMessages(e) {\n    if (!e.length)\n      return;\n    this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);\n    const t = await this.rpcBatchFetchMessages(e);\n    t && t.messages && (await dy(ie.toMiliseconds(ie.ONE_SECOND)), await this.relayer.handleBatchMessageEvents(t.messages));\n  }\n  async onConnect() {\n    await this.restart(), this.reset();\n  }\n  onDisconnect() {\n    this.onDisable();\n  }\n  isInitialized() {\n    if (!this.initialized) {\n      const { message: e } = ae(\"NOT_INITIALIZED\", this.name);\n      throw new Error(e);\n    }\n  }\n  async restartToComplete() {\n    !this.relayer.connected && !this.relayer.connecting && await this.relayer.transportOpen();\n  }\n  getSubscriptionId(e) {\n    return fi(e + this.clientId);\n  }\n}\nvar Pw = Object.defineProperty, vh = Object.getOwnPropertySymbols, Ow = Object.prototype.hasOwnProperty, Rw = Object.prototype.propertyIsEnumerable, bh = (r, e, t) => e in r ? Pw(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : r[e] = t, gh = (r, e) => {\n  for (var t in e || (e = {}))\n    Ow.call(e, t) && bh(r, t, e[t]);\n  if (vh)\n    for (var t of vh(e))\n      Rw.call(e, t) && bh(r, t, e[t]);\n  return r;\n};\nclass Nw extends op {\n  constructor(e) {\n    super(e), this.protocol = \"wc\", this.version = 2, this.events = new ir.EventEmitter(), this.name = m3, this.transportExplicitlyClosed = !1, this.initialized = !1, this.connectionAttemptInProgress = !1, this.hasExperiencedNetworkDisruption = !1, this.heartBeatTimeout = ie.toMiliseconds(ie.THIRTY_SECONDS + ie.FIVE_SECONDS), this.requestsInFlight = [], this.connectTimeout = ie.toMiliseconds(ie.ONE_SECOND * 15), this.request = async (t) => {\n      var i, n;\n      this.logger.debug(\"Publishing Request Payload\");\n      const s = t.id || zi().toString();\n      await this.toEstablishConnection();\n      try {\n        this.logger.trace({ id: s, method: t.method, topic: (i = t.params) == null ? void 0 : i.topic }, \"relayer.request - publishing...\");\n        const o = `${s}:${((n = t.params) == null ? void 0 : n.tag) || \"\"}`;\n        this.requestsInFlight.push(o);\n        const f = await this.provider.request(t);\n        return this.requestsInFlight = this.requestsInFlight.filter((h) => h !== o), f;\n      } catch (o) {\n        throw this.logger.debug(`Failed to Publish Request: ${s}`), o;\n      }\n    }, this.resetPingTimeout = () => {\n      if (Gs())\n        try {\n          clearTimeout(this.pingTimeout), this.pingTimeout = setTimeout(() => {\n            var t, i, n;\n            this.logger.debug({}, \"pingTimeout: Connection stalled, terminating...\"), (n = (i = (t = this.provider) == null ? void 0 : t.connection) == null ? void 0 : i.socket) == null || n.terminate();\n          }, this.heartBeatTimeout);\n        } catch (t) {\n          this.logger.warn(t, t?.message);\n        }\n    }, this.onPayloadHandler = (t) => {\n      this.onProviderPayload(t), this.resetPingTimeout();\n    }, this.onConnectHandler = () => {\n      this.logger.warn({}, \"Relayer connected \"), this.startPingTimeout(), this.events.emit(Et.connect);\n    }, this.onDisconnectHandler = () => {\n      this.logger.warn({}, \"Relayer disconnected \"), this.requestsInFlight = [], this.onProviderDisconnect();\n    }, this.onProviderErrorHandler = (t) => {\n      this.logger.fatal(t, `Fatal socket error: ${t?.message}`), this.events.emit(Et.error, t), this.logger.fatal(\"Fatal socket error received, closing transport\"), this.transportClose();\n    }, this.registerProviderListeners = () => {\n      this.provider.on(hr.payload, this.onPayloadHandler), this.provider.on(hr.connect, this.onConnectHandler), this.provider.on(hr.disconnect, this.onDisconnectHandler), this.provider.on(hr.error, this.onProviderErrorHandler);\n    }, this.core = e.core, this.logger = typeof e.logger < \"u\" && typeof e.logger != \"string\" ? kt(e.logger, this.name) : na(To({ level: e.logger || y3 })), this.messages = new vw(this.logger, e.core), this.subscriber = new Dw(this, this.logger), this.publisher = new _w(this, this.logger), this.relayUrl = e?.relayUrl || Id, this.projectId = e.projectId, Z2() ? this.packageName = Ic() : Q2() && (this.bundleId = Ic()), this.provider = {};\n  }\n  async init() {\n    if (this.logger.trace(\"Initialized\"), this.registerEventListeners(), await Promise.all([this.messages.init(), this.subscriber.init()]), this.initialized = !0, this.subscriber.cached.length > 0)\n      try {\n        await this.transportOpen();\n      } catch (e) {\n        this.logger.warn(e, e?.message);\n      }\n  }\n  get context() {\n    return Zt(this.logger);\n  }\n  get connected() {\n    var e, t, i;\n    return ((i = (t = (e = this.provider) == null ? void 0 : e.connection) == null ? void 0 : t.socket) == null ? void 0 : i.readyState) === 1;\n  }\n  get connecting() {\n    var e, t, i;\n    return ((i = (t = (e = this.provider) == null ? void 0 : e.connection) == null ? void 0 : t.socket) == null ? void 0 : i.readyState) === 0;\n  }\n  async publish(e, t, i) {\n    this.isInitialized(), await this.publisher.publish(e, t, i), await this.recordMessageEvent({ topic: e, message: t, publishedAt: Date.now(), transportType: at.relay });\n  }\n  async subscribe(e, t) {\n    var i, n, s;\n    this.isInitialized(), (!(t != null && t.transportType) || t?.transportType === \"relay\") && await this.toEstablishConnection();\n    const o = typeof ((i = t?.internal) == null ? void 0 : i.throwOnFailedPublish) > \"u\" ? !0 : (n = t?.internal) == null ? void 0 : n.throwOnFailedPublish;\n    let f = ((s = this.subscriber.topicMap.get(e)) == null ? void 0 : s[0]) || \"\", h;\n    const d = (v) => {\n      v.topic === e && (this.subscriber.off(er.created, d), h());\n    };\n    return await Promise.all([new Promise((v) => {\n      h = v, this.subscriber.on(er.created, d);\n    }), new Promise(async (v, w) => {\n      f = await this.subscriber.subscribe(e, gh({ internal: { throwOnFailedPublish: o } }, t)).catch((A) => {\n        o && w(A);\n      }) || f, v();\n    })]), f;\n  }\n  async unsubscribe(e, t) {\n    this.isInitialized(), await this.subscriber.unsubscribe(e, t);\n  }\n  on(e, t) {\n    this.events.on(e, t);\n  }\n  once(e, t) {\n    this.events.once(e, t);\n  }\n  off(e, t) {\n    this.events.off(e, t);\n  }\n  removeListener(e, t) {\n    this.events.removeListener(e, t);\n  }\n  async transportDisconnect() {\n    this.provider.disconnect && (this.hasExperiencedNetworkDisruption || this.connected) ? await mi(this.provider.disconnect(), 2e3, \"provider.disconnect()\").catch(() => this.onProviderDisconnect()) : this.onProviderDisconnect();\n  }\n  async transportClose() {\n    this.transportExplicitlyClosed = !0, await this.transportDisconnect();\n  }\n  async transportOpen(e) {\n    if (this.connectPromise ? (this.logger.debug({}, \"Waiting for existing connection attempt to resolve...\"), await this.connectPromise, this.logger.debug({}, \"Existing connection attempt resolved\")) : (this.connectPromise = new Promise(async (t, i) => {\n      await this.connect(e).then(t).catch(i).finally(() => {\n        this.connectPromise = void 0;\n      });\n    }), await this.connectPromise), !this.connected)\n      throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`);\n  }\n  async restartTransport(e) {\n    this.logger.debug({}, \"Restarting transport...\"), !this.connectionAttemptInProgress && (this.relayUrl = e || this.relayUrl, await this.confirmOnlineStateOrThrow(), await this.transportClose(), await this.transportOpen());\n  }\n  async confirmOnlineStateOrThrow() {\n    if (!await Wc())\n      throw new Error(\"No internet connection detected. Please restart your network and try again.\");\n  }\n  async handleBatchMessageEvents(e) {\n    if (e?.length === 0) {\n      this.logger.trace(\"Batch message events is empty. Ignoring...\");\n      return;\n    }\n    const t = e.sort((i, n) => i.publishedAt - n.publishedAt);\n    this.logger.debug(`Batch of ${t.length} message events sorted`);\n    for (const i of t)\n      try {\n        await this.onMessageEvent(i);\n      } catch (n) {\n        this.logger.warn(n, \"Error while processing batch message event: \" + n?.message);\n      }\n    this.logger.trace(`Batch of ${t.length} message events processed`);\n  }\n  async onLinkMessageEvent(e, t) {\n    const { topic: i } = e;\n    if (!t.sessionExists) {\n      const n = mt(ie.FIVE_MINUTES), s = { topic: i, expiry: n, relay: { protocol: \"irn\" }, active: !1 };\n      await this.core.pairing.pairings.set(i, s);\n    }\n    this.events.emit(Et.message, e), await this.recordMessageEvent(e);\n  }\n  async connect(e) {\n    await this.confirmOnlineStateOrThrow(), e && e !== this.relayUrl && (this.relayUrl = e, await this.transportDisconnect()), this.connectionAttemptInProgress = !0, this.transportExplicitlyClosed = !1;\n    let t = 1;\n    for (; t < 6; ) {\n      try {\n        this.logger.debug({}, `Connecting to ${this.relayUrl}, attempt: ${t}...`), await this.createProvider(), await new Promise(async (i, n) => {\n          const s = () => {\n            n(new Error(\"Connection interrupted while trying to subscribe\"));\n          };\n          this.provider.once(hr.disconnect, s), await mi(new Promise((o, f) => {\n            this.provider.connect().then(o).catch(f);\n          }), this.connectTimeout, `Socket stalled when trying to connect to ${this.relayUrl}`).catch((o) => {\n            n(o);\n          }).finally(() => {\n            this.provider.off(hr.disconnect, s), clearTimeout(this.reconnectTimeout), this.reconnectTimeout = void 0;\n          }), await new Promise(async (o, f) => {\n            const h = () => {\n              f(new Error(\"Connection interrupted while trying to subscribe\"));\n            };\n            this.provider.once(hr.disconnect, h), await this.subscriber.start().then(o).catch(f).finally(() => {\n              this.provider.off(hr.disconnect, h);\n            });\n          }), this.hasExperiencedNetworkDisruption = !1, i();\n        });\n      } catch (i) {\n        await this.subscriber.stop();\n        const n = i;\n        this.logger.warn({}, n.message), this.hasExperiencedNetworkDisruption = !0;\n      } finally {\n        this.connectionAttemptInProgress = !1;\n      }\n      if (this.connected) {\n        this.logger.debug({}, `Connected to ${this.relayUrl} successfully on attempt: ${t}`);\n        break;\n      }\n      await new Promise((i) => setTimeout(i, ie.toMiliseconds(t * 1))), t++;\n    }\n  }\n  startPingTimeout() {\n    var e, t, i, n, s;\n    if (Gs())\n      try {\n        (t = (e = this.provider) == null ? void 0 : e.connection) != null && t.socket && ((s = (n = (i = this.provider) == null ? void 0 : i.connection) == null ? void 0 : n.socket) == null || s.on(\"ping\", () => {\n          this.resetPingTimeout();\n        })), this.resetPingTimeout();\n      } catch (o) {\n        this.logger.warn(o, o?.message);\n      }\n  }\n  async createProvider() {\n    this.provider.connection && this.unregisterProviderListeners();\n    const e = await this.core.crypto.signJWT(this.relayUrl);\n    this.provider = new xd(new a3(iy({ sdkVersion: Do, protocol: this.protocol, version: this.version, relayUrl: this.relayUrl, projectId: this.projectId, auth: e, useOnCloseEvent: !0, bundleId: this.bundleId, packageName: this.packageName }))), this.registerProviderListeners();\n  }\n  async recordMessageEvent(e) {\n    const { topic: t, message: i } = e;\n    await this.messages.set(t, i);\n  }\n  async shouldIgnoreMessageEvent(e) {\n    const { topic: t, message: i } = e;\n    if (!i || i.length === 0)\n      return this.logger.warn(`Ignoring invalid/empty message: ${i}`), !0;\n    if (!await this.subscriber.isSubscribed(t))\n      return this.logger.warn(`Ignoring message for non-subscribed topic ${t}`), !0;\n    const n = this.messages.has(t, i);\n    return n && this.logger.warn(`Ignoring duplicate message: ${i}`), n;\n  }\n  async onProviderPayload(e) {\n    if (this.logger.debug(\"Incoming Relay Payload\"), this.logger.trace({ type: \"payload\", direction: \"incoming\", payload: e }), ff(e)) {\n      if (!e.method.endsWith(w3))\n        return;\n      const t = e.params, { topic: i, message: n, publishedAt: s, attestation: o } = t.data, f = { topic: i, message: n, publishedAt: s, transportType: at.relay, attestation: o };\n      this.logger.debug(\"Emitting Relayer Payload\"), this.logger.trace(gh({ type: \"event\", event: t.id }, f)), this.events.emit(t.id, f), await this.acknowledgePayload(e), await this.onMessageEvent(f);\n    } else\n      Aa(e) && this.events.emit(Et.message_ack, e);\n  }\n  async onMessageEvent(e) {\n    await this.shouldIgnoreMessageEvent(e) || (this.events.emit(Et.message, e), await this.recordMessageEvent(e));\n  }\n  async acknowledgePayload(e) {\n    const t = Ma(e.id, !0);\n    await this.provider.connection.send(t);\n  }\n  unregisterProviderListeners() {\n    this.provider.off(hr.payload, this.onPayloadHandler), this.provider.off(hr.connect, this.onConnectHandler), this.provider.off(hr.disconnect, this.onDisconnectHandler), this.provider.off(hr.error, this.onProviderErrorHandler), clearTimeout(this.pingTimeout);\n  }\n  async registerEventListeners() {\n    let e = await Wc();\n    Lm(async (t) => {\n      e !== t && (e = t, t ? await this.transportOpen().catch((i) => this.logger.error(i, i?.message)) : (this.hasExperiencedNetworkDisruption = !0, await this.transportDisconnect(), this.transportExplicitlyClosed = !1));\n    });\n  }\n  async onProviderDisconnect() {\n    await this.subscriber.stop(), clearTimeout(this.pingTimeout), this.events.emit(Et.disconnect), this.connectionAttemptInProgress = !1, !this.transportExplicitlyClosed && (this.reconnectTimeout || this.connectPromise || (this.reconnectTimeout = setTimeout(async () => {\n      clearTimeout(this.reconnectTimeout), await this.transportOpen().catch((e) => this.logger.error(e, e?.message));\n    }, ie.toMiliseconds(_3))));\n  }\n  isInitialized() {\n    if (!this.initialized) {\n      const { message: e } = ae(\"NOT_INITIALIZED\", this.name);\n      throw new Error(e);\n    }\n  }\n  async toEstablishConnection() {\n    await this.confirmOnlineStateOrThrow(), !this.connected && await this.transportOpen();\n  }\n}\nvar Tw = Object.defineProperty, yh = Object.getOwnPropertySymbols, Cw = Object.prototype.hasOwnProperty, $w = Object.prototype.propertyIsEnumerable, mh = (r, e, t) => e in r ? Tw(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : r[e] = t, wh = (r, e) => {\n  for (var t in e || (e = {}))\n    Cw.call(e, t) && mh(r, t, e[t]);\n  if (yh)\n    for (var t of yh(e))\n      $w.call(e, t) && mh(r, t, e[t]);\n  return r;\n};\nclass Qi extends fp {\n  constructor(e, t, i, n = jr, s = void 0) {\n    super(e, t, i, n), this.core = e, this.logger = t, this.name = i, this.map = /* @__PURE__ */ new Map(), this.version = x3, this.cached = [], this.initialized = !1, this.storagePrefix = jr, this.recentlyDeleted = [], this.recentlyDeletedLimit = 200, this.init = async () => {\n      this.initialized || (this.logger.trace(\"Initialized\"), await this.restore(), this.cached.forEach((o) => {\n        this.getKey && o !== null && !zt(o) ? this.map.set(this.getKey(o), o) : lm(o) ? this.map.set(o.id, o) : pm(o) && this.map.set(o.topic, o);\n      }), this.cached = [], this.initialized = !0);\n    }, this.set = async (o, f) => {\n      this.isInitialized(), this.map.has(o) ? await this.update(o, f) : (this.logger.debug(\"Setting value\"), this.logger.trace({ type: \"method\", method: \"set\", key: o, value: f }), this.map.set(o, f), await this.persist());\n    }, this.get = (o) => (this.isInitialized(), this.logger.debug(\"Getting value\"), this.logger.trace({ type: \"method\", method: \"get\", key: o }), this.getData(o)), this.getAll = (o) => (this.isInitialized(), o ? this.values.filter((f) => Object.keys(o).every((h) => f3(f[h], o[h]))) : this.values), this.update = async (o, f) => {\n      this.isInitialized(), this.logger.debug(\"Updating value\"), this.logger.trace({ type: \"method\", method: \"update\", key: o, update: f });\n      const h = wh(wh({}, this.getData(o)), f);\n      this.map.set(o, h), await this.persist();\n    }, this.delete = async (o, f) => {\n      this.isInitialized(), this.map.has(o) && (this.logger.debug(\"Deleting value\"), this.logger.trace({ type: \"method\", method: \"delete\", key: o, reason: f }), this.map.delete(o), this.addToRecentlyDeleted(o), await this.persist());\n    }, this.logger = kt(t, this.name), this.storagePrefix = n, this.getKey = s;\n  }\n  get context() {\n    return Zt(this.logger);\n  }\n  get storageKey() {\n    return this.storagePrefix + this.version + this.core.customStoragePrefix + \"//\" + this.name;\n  }\n  get length() {\n    return this.map.size;\n  }\n  get keys() {\n    return Array.from(this.map.keys());\n  }\n  get values() {\n    return Array.from(this.map.values());\n  }\n  addToRecentlyDeleted(e) {\n    this.recentlyDeleted.push(e), this.recentlyDeleted.length >= this.recentlyDeletedLimit && this.recentlyDeleted.splice(0, this.recentlyDeletedLimit / 2);\n  }\n  async setDataStore(e) {\n    await this.core.storage.setItem(this.storageKey, e);\n  }\n  async getDataStore() {\n    return await this.core.storage.getItem(this.storageKey);\n  }\n  getData(e) {\n    const t = this.map.get(e);\n    if (!t) {\n      if (this.recentlyDeleted.includes(e)) {\n        const { message: n } = ae(\"MISSING_OR_INVALID\", `Record was recently deleted - ${this.name}: ${e}`);\n        throw this.logger.error(n), new Error(n);\n      }\n      const { message: i } = ae(\"NO_MATCHING_KEY\", `${this.name}: ${e}`);\n      throw this.logger.error(i), new Error(i);\n    }\n    return t;\n  }\n  async persist() {\n    await this.setDataStore(this.values);\n  }\n  async restore() {\n    try {\n      const e = await this.getDataStore();\n      if (typeof e > \"u\" || !e.length)\n        return;\n      if (this.map.size) {\n        const { message: t } = ae(\"RESTORE_WILL_OVERRIDE\", this.name);\n        throw this.logger.error(t), new Error(t);\n      }\n      this.cached = e, this.logger.debug(`Successfully Restored value for ${this.name}`), this.logger.trace({ type: \"method\", method: \"restore\", value: this.values });\n    } catch (e) {\n      this.logger.debug(`Failed to Restore value for ${this.name}`), this.logger.error(e);\n    }\n  }\n  isInitialized() {\n    if (!this.initialized) {\n      const { message: e } = ae(\"NOT_INITIALIZED\", this.name);\n      throw new Error(e);\n    }\n  }\n}\nclass Lw {\n  constructor(e, t) {\n    this.core = e, this.logger = t, this.name = A3, this.version = D3, this.events = new zh(), this.initialized = !1, this.storagePrefix = jr, this.ignoredPayloadTypes = [hi], this.registeredMethods = [], this.init = async () => {\n      this.initialized || (await this.pairings.init(), await this.cleanup(), this.registerRelayerEvents(), this.registerExpirerEvents(), this.initialized = !0, this.logger.trace(\"Initialized\"));\n    }, this.register = ({ methods: i }) => {\n      this.isInitialized(), this.registeredMethods = [.../* @__PURE__ */ new Set([...this.registeredMethods, ...i])];\n    }, this.create = async (i) => {\n      this.isInitialized();\n      const n = Ao(), s = await this.core.crypto.setSymKey(n), o = mt(ie.FIVE_MINUTES), f = { protocol: Md }, h = { topic: s, expiry: o, relay: f, active: !1, methods: i?.methods }, d = Bc({ protocol: this.core.protocol, version: this.core.version, topic: s, symKey: n, relay: f, expiryTimestamp: o, methods: i?.methods });\n      return this.events.emit(qi.create, h), this.core.expirer.set(s, o), await this.pairings.set(s, h), await this.core.relayer.subscribe(s, { transportType: i?.transportType }), { topic: s, uri: d };\n    }, this.pair = async (i) => {\n      this.isInitialized();\n      const n = this.core.eventClient.createEvent({ properties: { topic: i?.uri, trace: [Or.pairing_started] } });\n      this.isValidPair(i, n);\n      const { topic: s, symKey: o, relay: f, expiryTimestamp: h, methods: d } = zc(i.uri);\n      n.props.properties.topic = s, n.addTrace(Or.pairing_uri_validation_success), n.addTrace(Or.pairing_uri_not_expired);\n      let v;\n      if (this.pairings.keys.includes(s)) {\n        if (v = this.pairings.get(s), n.addTrace(Or.existing_pairing), v.active)\n          throw n.setError(ai.active_pairing_already_exists), new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);\n        n.addTrace(Or.pairing_not_expired);\n      }\n      const w = h || mt(ie.FIVE_MINUTES), A = { topic: s, relay: f, expiry: w, active: !1, methods: d };\n      this.core.expirer.set(s, w), await this.pairings.set(s, A), n.addTrace(Or.store_new_pairing), i.activatePairing && await this.activate({ topic: s }), this.events.emit(qi.create, A), n.addTrace(Or.emit_inactive_pairing), this.core.crypto.keychain.has(s) || await this.core.crypto.setSymKey(o, s), n.addTrace(Or.subscribing_pairing_topic);\n      try {\n        await this.core.relayer.confirmOnlineStateOrThrow();\n      } catch {\n        n.setError(ai.no_internet_connection);\n      }\n      try {\n        await this.core.relayer.subscribe(s, { relay: f });\n      } catch (I) {\n        throw n.setError(ai.subscribe_pairing_topic_failure), I;\n      }\n      return n.addTrace(Or.subscribe_pairing_topic_success), A;\n    }, this.activate = async ({ topic: i }) => {\n      this.isInitialized();\n      const n = mt(ie.THIRTY_DAYS);\n      this.core.expirer.set(i, n), await this.pairings.update(i, { active: !0, expiry: n });\n    }, this.ping = async (i) => {\n      this.isInitialized(), await this.isValidPing(i);\n      const { topic: n } = i;\n      if (this.pairings.keys.includes(n)) {\n        const s = await this.sendRequest(n, \"wc_pairingPing\", {}), { done: o, resolve: f, reject: h } = Li();\n        this.events.once(Xe(\"pairing_ping\", s), ({ error: d }) => {\n          d ? h(d) : f();\n        }), await o();\n      }\n    }, this.updateExpiry = async ({ topic: i, expiry: n }) => {\n      this.isInitialized(), await this.pairings.update(i, { expiry: n });\n    }, this.updateMetadata = async ({ topic: i, metadata: n }) => {\n      this.isInitialized(), await this.pairings.update(i, { peerMetadata: n });\n    }, this.getPairings = () => (this.isInitialized(), this.pairings.values), this.disconnect = async (i) => {\n      this.isInitialized(), await this.isValidDisconnect(i);\n      const { topic: n } = i;\n      this.pairings.keys.includes(n) && (await this.sendRequest(n, \"wc_pairingDelete\", st(\"USER_DISCONNECTED\")), await this.deletePairing(n));\n    }, this.formatUriFromPairing = (i) => {\n      this.isInitialized();\n      const { topic: n, relay: s, expiry: o, methods: f } = i, h = this.core.crypto.keychain.get(n);\n      return Bc({ protocol: this.core.protocol, version: this.core.version, topic: n, symKey: h, relay: s, expiryTimestamp: o, methods: f });\n    }, this.sendRequest = async (i, n, s) => {\n      const o = Bi(n, s), f = await this.core.crypto.encode(i, o), h = qn[n].req;\n      return this.core.history.set(i, o), this.core.relayer.publish(i, f, h), o.id;\n    }, this.sendResult = async (i, n, s) => {\n      const o = Ma(i, s), f = await this.core.crypto.encode(n, o), h = await this.core.history.get(n, i), d = qn[h.request.method].res;\n      await this.core.relayer.publish(n, f, d), await this.core.history.resolve(o);\n    }, this.sendError = async (i, n, s) => {\n      const o = Ia(i, s), f = await this.core.crypto.encode(n, o), h = await this.core.history.get(n, i), d = qn[h.request.method] ? qn[h.request.method].res : qn.unregistered_method.res;\n      await this.core.relayer.publish(n, f, d), await this.core.history.resolve(o);\n    }, this.deletePairing = async (i, n) => {\n      await this.core.relayer.unsubscribe(i), await Promise.all([this.pairings.delete(i, st(\"USER_DISCONNECTED\")), this.core.crypto.deleteSymKey(i), n ? Promise.resolve() : this.core.expirer.del(i)]);\n    }, this.cleanup = async () => {\n      const i = this.pairings.getAll().filter((n) => gi(n.expiry));\n      await Promise.all(i.map((n) => this.deletePairing(n.topic)));\n    }, this.onRelayEventRequest = (i) => {\n      const { topic: n, payload: s } = i;\n      switch (s.method) {\n        case \"wc_pairingPing\":\n          return this.onPairingPingRequest(n, s);\n        case \"wc_pairingDelete\":\n          return this.onPairingDeleteRequest(n, s);\n        default:\n          return this.onUnknownRpcMethodRequest(n, s);\n      }\n    }, this.onRelayEventResponse = async (i) => {\n      const { topic: n, payload: s } = i, o = (await this.core.history.get(n, s.id)).request.method;\n      switch (o) {\n        case \"wc_pairingPing\":\n          return this.onPairingPingResponse(n, s);\n        default:\n          return this.onUnknownRpcMethodResponse(o);\n      }\n    }, this.onPairingPingRequest = async (i, n) => {\n      const { id: s } = n;\n      try {\n        this.isValidPing({ topic: i }), await this.sendResult(s, i, !0), this.events.emit(qi.ping, { id: s, topic: i });\n      } catch (o) {\n        await this.sendError(s, i, o), this.logger.error(o);\n      }\n    }, this.onPairingPingResponse = (i, n) => {\n      const { id: s } = n;\n      setTimeout(() => {\n        Rr(n) ? this.events.emit(Xe(\"pairing_ping\", s), {}) : dr(n) && this.events.emit(Xe(\"pairing_ping\", s), { error: n.error });\n      }, 500);\n    }, this.onPairingDeleteRequest = async (i, n) => {\n      const { id: s } = n;\n      try {\n        this.isValidDisconnect({ topic: i }), await this.deletePairing(i), this.events.emit(qi.delete, { id: s, topic: i });\n      } catch (o) {\n        await this.sendError(s, i, o), this.logger.error(o);\n      }\n    }, this.onUnknownRpcMethodRequest = async (i, n) => {\n      const { id: s, method: o } = n;\n      try {\n        if (this.registeredMethods.includes(o))\n          return;\n        const f = st(\"WC_METHOD_UNSUPPORTED\", o);\n        await this.sendError(s, i, f), this.logger.error(f);\n      } catch (f) {\n        await this.sendError(s, i, f), this.logger.error(f);\n      }\n    }, this.onUnknownRpcMethodResponse = (i) => {\n      this.registeredMethods.includes(i) || this.logger.error(st(\"WC_METHOD_UNSUPPORTED\", i));\n    }, this.isValidPair = (i, n) => {\n      var s;\n      if (!Gt(i)) {\n        const { message: f } = ae(\"MISSING_OR_INVALID\", `pair() params: ${i}`);\n        throw n.setError(ai.malformed_pairing_uri), new Error(f);\n      }\n      if (!dm(i.uri)) {\n        const { message: f } = ae(\"MISSING_OR_INVALID\", `pair() uri: ${i.uri}`);\n        throw n.setError(ai.malformed_pairing_uri), new Error(f);\n      }\n      const o = zc(i?.uri);\n      if (!((s = o?.relay) != null && s.protocol)) {\n        const { message: f } = ae(\"MISSING_OR_INVALID\", \"pair() uri#relay-protocol\");\n        throw n.setError(ai.malformed_pairing_uri), new Error(f);\n      }\n      if (!(o != null && o.symKey)) {\n        const { message: f } = ae(\"MISSING_OR_INVALID\", \"pair() uri#symKey\");\n        throw n.setError(ai.malformed_pairing_uri), new Error(f);\n      }\n      if (o != null && o.expiryTimestamp && ie.toMiliseconds(o?.expiryTimestamp) < Date.now()) {\n        n.setError(ai.pairing_expired);\n        const { message: f } = ae(\"EXPIRED\", \"pair() URI has expired. Please try again with a new connection URI.\");\n        throw new Error(f);\n      }\n    }, this.isValidPing = async (i) => {\n      if (!Gt(i)) {\n        const { message: s } = ae(\"MISSING_OR_INVALID\", `ping() params: ${i}`);\n        throw new Error(s);\n      }\n      const { topic: n } = i;\n      await this.isValidPairingTopic(n);\n    }, this.isValidDisconnect = async (i) => {\n      if (!Gt(i)) {\n        const { message: s } = ae(\"MISSING_OR_INVALID\", `disconnect() params: ${i}`);\n        throw new Error(s);\n      }\n      const { topic: n } = i;\n      await this.isValidPairingTopic(n);\n    }, this.isValidPairingTopic = async (i) => {\n      if (!bt(i, !1)) {\n        const { message: n } = ae(\"MISSING_OR_INVALID\", `pairing topic should be a string: ${i}`);\n        throw new Error(n);\n      }\n      if (!this.pairings.keys.includes(i)) {\n        const { message: n } = ae(\"NO_MATCHING_KEY\", `pairing topic doesn't exist: ${i}`);\n        throw new Error(n);\n      }\n      if (gi(this.pairings.get(i).expiry)) {\n        await this.deletePairing(i);\n        const { message: n } = ae(\"EXPIRED\", `pairing topic: ${i}`);\n        throw new Error(n);\n      }\n    }, this.core = e, this.logger = kt(t, this.name), this.pairings = new Qi(this.core, this.logger, this.name, this.storagePrefix);\n  }\n  get context() {\n    return Zt(this.logger);\n  }\n  isInitialized() {\n    if (!this.initialized) {\n      const { message: e } = ae(\"NOT_INITIALIZED\", this.name);\n      throw new Error(e);\n    }\n  }\n  registerRelayerEvents() {\n    this.core.relayer.on(Et.message, async (e) => {\n      const { topic: t, message: i, transportType: n } = e;\n      if (!this.pairings.keys.includes(t) || n === at.link_mode || this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))\n        return;\n      const s = await this.core.crypto.decode(t, i);\n      try {\n        ff(s) ? (this.core.history.set(t, s), this.onRelayEventRequest({ topic: t, payload: s })) : Aa(s) && (await this.core.history.resolve(s), await this.onRelayEventResponse({ topic: t, payload: s }), this.core.history.delete(t, s.id));\n      } catch (o) {\n        this.logger.error(o);\n      }\n    });\n  }\n  registerExpirerEvents() {\n    this.core.expirer.on(ur.expired, async (e) => {\n      const { topic: t } = ad(e.target);\n      t && this.pairings.keys.includes(t) && (await this.deletePairing(t, !0), this.events.emit(qi.expire, { topic: t }));\n    });\n  }\n}\nclass Fw extends np {\n  constructor(e, t) {\n    super(e, t), this.core = e, this.logger = t, this.records = /* @__PURE__ */ new Map(), this.events = new ir.EventEmitter(), this.name = P3, this.version = O3, this.cached = [], this.initialized = !1, this.storagePrefix = jr, this.init = async () => {\n      this.initialized || (this.logger.trace(\"Initialized\"), await this.restore(), this.cached.forEach((i) => this.records.set(i.id, i)), this.cached = [], this.registerEventListeners(), this.initialized = !0);\n    }, this.set = (i, n, s) => {\n      if (this.isInitialized(), this.logger.debug(\"Setting JSON-RPC request history record\"), this.logger.trace({ type: \"method\", method: \"set\", topic: i, request: n, chainId: s }), this.records.has(n.id))\n        return;\n      const o = { id: n.id, topic: i, request: { method: n.method, params: n.params || null }, chainId: s, expiry: mt(ie.THIRTY_DAYS) };\n      this.records.set(o.id, o), this.persist(), this.events.emit(_r.created, o);\n    }, this.resolve = async (i) => {\n      if (this.isInitialized(), this.logger.debug(\"Updating JSON-RPC response history record\"), this.logger.trace({ type: \"method\", method: \"update\", response: i }), !this.records.has(i.id))\n        return;\n      const n = await this.getRecord(i.id);\n      typeof n.response > \"u\" && (n.response = dr(i) ? { error: i.error } : { result: i.result }, this.records.set(n.id, n), this.persist(), this.events.emit(_r.updated, n));\n    }, this.get = async (i, n) => (this.isInitialized(), this.logger.debug(\"Getting record\"), this.logger.trace({ type: \"method\", method: \"get\", topic: i, id: n }), await this.getRecord(n)), this.delete = (i, n) => {\n      this.isInitialized(), this.logger.debug(\"Deleting record\"), this.logger.trace({ type: \"method\", method: \"delete\", id: n }), this.values.forEach((s) => {\n        if (s.topic === i) {\n          if (typeof n < \"u\" && s.id !== n)\n            return;\n          this.records.delete(s.id), this.events.emit(_r.deleted, s);\n        }\n      }), this.persist();\n    }, this.exists = async (i, n) => (this.isInitialized(), this.records.has(n) ? (await this.getRecord(n)).topic === i : !1), this.on = (i, n) => {\n      this.events.on(i, n);\n    }, this.once = (i, n) => {\n      this.events.once(i, n);\n    }, this.off = (i, n) => {\n      this.events.off(i, n);\n    }, this.removeListener = (i, n) => {\n      this.events.removeListener(i, n);\n    }, this.logger = kt(t, this.name);\n  }\n  get context() {\n    return Zt(this.logger);\n  }\n  get storageKey() {\n    return this.storagePrefix + this.version + this.core.customStoragePrefix + \"//\" + this.name;\n  }\n  get size() {\n    return this.records.size;\n  }\n  get keys() {\n    return Array.from(this.records.keys());\n  }\n  get values() {\n    return Array.from(this.records.values());\n  }\n  get pending() {\n    const e = [];\n    return this.values.forEach((t) => {\n      if (typeof t.response < \"u\")\n        return;\n      const i = { topic: t.topic, request: Bi(t.request.method, t.request.params, t.id), chainId: t.chainId };\n      return e.push(i);\n    }), e;\n  }\n  async setJsonRpcRecords(e) {\n    await this.core.storage.setItem(this.storageKey, e);\n  }\n  async getJsonRpcRecords() {\n    return await this.core.storage.getItem(this.storageKey);\n  }\n  getRecord(e) {\n    this.isInitialized();\n    const t = this.records.get(e);\n    if (!t) {\n      const { message: i } = ae(\"NO_MATCHING_KEY\", `${this.name}: ${e}`);\n      throw new Error(i);\n    }\n    return t;\n  }\n  async persist() {\n    await this.setJsonRpcRecords(this.values), this.events.emit(_r.sync);\n  }\n  async restore() {\n    try {\n      const e = await this.getJsonRpcRecords();\n      if (typeof e > \"u\" || !e.length)\n        return;\n      if (this.records.size) {\n        const { message: t } = ae(\"RESTORE_WILL_OVERRIDE\", this.name);\n        throw this.logger.error(t), new Error(t);\n      }\n      this.cached = e, this.logger.debug(`Successfully Restored records for ${this.name}`), this.logger.trace({ type: \"method\", method: \"restore\", records: this.values });\n    } catch (e) {\n      this.logger.debug(`Failed to Restore records for ${this.name}`), this.logger.error(e);\n    }\n  }\n  registerEventListeners() {\n    this.events.on(_r.created, (e) => {\n      const t = _r.created;\n      this.logger.info(`Emitting ${t}`), this.logger.debug({ type: \"event\", event: t, record: e });\n    }), this.events.on(_r.updated, (e) => {\n      const t = _r.updated;\n      this.logger.info(`Emitting ${t}`), this.logger.debug({ type: \"event\", event: t, record: e });\n    }), this.events.on(_r.deleted, (e) => {\n      const t = _r.deleted;\n      this.logger.info(`Emitting ${t}`), this.logger.debug({ type: \"event\", event: t, record: e });\n    }), this.core.heartbeat.on(gn.pulse, () => {\n      this.cleanup();\n    });\n  }\n  cleanup() {\n    try {\n      this.isInitialized();\n      let e = !1;\n      this.records.forEach((t) => {\n        ie.toMiliseconds(t.expiry || 0) - Date.now() <= 0 && (this.logger.info(`Deleting expired history log: ${t.id}`), this.records.delete(t.id), this.events.emit(_r.deleted, t, !1), e = !0);\n      }), e && this.persist();\n    } catch (e) {\n      this.logger.warn(e);\n    }\n  }\n  isInitialized() {\n    if (!this.initialized) {\n      const { message: e } = ae(\"NOT_INITIALIZED\", this.name);\n      throw new Error(e);\n    }\n  }\n}\nclass qw extends hp {\n  constructor(e, t) {\n    super(e, t), this.core = e, this.logger = t, this.expirations = /* @__PURE__ */ new Map(), this.events = new ir.EventEmitter(), this.name = R3, this.version = N3, this.cached = [], this.initialized = !1, this.storagePrefix = jr, this.init = async () => {\n      this.initialized || (this.logger.trace(\"Initialized\"), await this.restore(), this.cached.forEach((i) => this.expirations.set(i.target, i)), this.cached = [], this.registerEventListeners(), this.initialized = !0);\n    }, this.has = (i) => {\n      try {\n        const n = this.formatTarget(i);\n        return typeof this.getExpiration(n) < \"u\";\n      } catch {\n        return !1;\n      }\n    }, this.set = (i, n) => {\n      this.isInitialized();\n      const s = this.formatTarget(i), o = { target: s, expiry: n };\n      this.expirations.set(s, o), this.checkExpiry(s, o), this.events.emit(ur.created, { target: s, expiration: o });\n    }, this.get = (i) => {\n      this.isInitialized();\n      const n = this.formatTarget(i);\n      return this.getExpiration(n);\n    }, this.del = (i) => {\n      if (this.isInitialized(), this.has(i)) {\n        const n = this.formatTarget(i), s = this.getExpiration(n);\n        this.expirations.delete(n), this.events.emit(ur.deleted, { target: n, expiration: s });\n      }\n    }, this.on = (i, n) => {\n      this.events.on(i, n);\n    }, this.once = (i, n) => {\n      this.events.once(i, n);\n    }, this.off = (i, n) => {\n      this.events.off(i, n);\n    }, this.removeListener = (i, n) => {\n      this.events.removeListener(i, n);\n    }, this.logger = kt(t, this.name);\n  }\n  get context() {\n    return Zt(this.logger);\n  }\n  get storageKey() {\n    return this.storagePrefix + this.version + this.core.customStoragePrefix + \"//\" + this.name;\n  }\n  get length() {\n    return this.expirations.size;\n  }\n  get keys() {\n    return Array.from(this.expirations.keys());\n  }\n  get values() {\n    return Array.from(this.expirations.values());\n  }\n  formatTarget(e) {\n    if (typeof e == \"string\")\n      return ny(e);\n    if (typeof e == \"number\")\n      return sy(e);\n    const { message: t } = ae(\"UNKNOWN_TYPE\", `Target type: ${typeof e}`);\n    throw new Error(t);\n  }\n  async setExpirations(e) {\n    await this.core.storage.setItem(this.storageKey, e);\n  }\n  async getExpirations() {\n    return await this.core.storage.getItem(this.storageKey);\n  }\n  async persist() {\n    await this.setExpirations(this.values), this.events.emit(ur.sync);\n  }\n  async restore() {\n    try {\n      const e = await this.getExpirations();\n      if (typeof e > \"u\" || !e.length)\n        return;\n      if (this.expirations.size) {\n        const { message: t } = ae(\"RESTORE_WILL_OVERRIDE\", this.name);\n        throw this.logger.error(t), new Error(t);\n      }\n      this.cached = e, this.logger.debug(`Successfully Restored expirations for ${this.name}`), this.logger.trace({ type: \"method\", method: \"restore\", expirations: this.values });\n    } catch (e) {\n      this.logger.debug(`Failed to Restore expirations for ${this.name}`), this.logger.error(e);\n    }\n  }\n  getExpiration(e) {\n    const t = this.expirations.get(e);\n    if (!t) {\n      const { message: i } = ae(\"NO_MATCHING_KEY\", `${this.name}: ${e}`);\n      throw this.logger.warn(i), new Error(i);\n    }\n    return t;\n  }\n  checkExpiry(e, t) {\n    const { expiry: i } = t;\n    ie.toMiliseconds(i) - Date.now() <= 0 && this.expire(e, t);\n  }\n  expire(e, t) {\n    this.expirations.delete(e), this.events.emit(ur.expired, { target: e, expiration: t });\n  }\n  checkExpirations() {\n    this.core.relayer.connected && this.expirations.forEach((e, t) => this.checkExpiry(t, e));\n  }\n  registerEventListeners() {\n    this.core.heartbeat.on(gn.pulse, () => this.checkExpirations()), this.events.on(ur.created, (e) => {\n      const t = ur.created;\n      this.logger.info(`Emitting ${t}`), this.logger.debug({ type: \"event\", event: t, data: e }), this.persist();\n    }), this.events.on(ur.expired, (e) => {\n      const t = ur.expired;\n      this.logger.info(`Emitting ${t}`), this.logger.debug({ type: \"event\", event: t, data: e }), this.persist();\n    }), this.events.on(ur.deleted, (e) => {\n      const t = ur.deleted;\n      this.logger.info(`Emitting ${t}`), this.logger.debug({ type: \"event\", event: t, data: e }), this.persist();\n    });\n  }\n  isInitialized() {\n    if (!this.initialized) {\n      const { message: e } = ae(\"NOT_INITIALIZED\", this.name);\n      throw new Error(e);\n    }\n  }\n}\nclass Uw extends up {\n  constructor(e, t, i) {\n    super(e, t, i), this.core = e, this.logger = t, this.store = i, this.name = T3, this.verifyUrlV3 = $3, this.storagePrefix = jr, this.version = Sd, this.init = async () => {\n      var n;\n      this.isDevEnv || (this.publicKey = await this.store.getItem(this.storeKey), this.publicKey && ie.toMiliseconds((n = this.publicKey) == null ? void 0 : n.expiresAt) < Date.now() && (this.logger.debug(\"verify v2 public key expired\"), await this.removePublicKey()));\n    }, this.register = async (n) => {\n      if (!cs() || this.isDevEnv)\n        return;\n      const s = window.location.origin, { id: o, decryptedId: f } = n, h = `${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${f}`;\n      try {\n        const d = is(), v = this.startAbortTimer(ie.ONE_SECOND * 5), w = await new Promise((A, I) => {\n          const D = () => {\n            window.removeEventListener(\"message\", k), d.body.removeChild(N), I(\"attestation aborted\");\n          };\n          this.abortController.signal.addEventListener(\"abort\", D);\n          const N = d.createElement(\"iframe\");\n          N.src = h, N.style.display = \"none\", N.addEventListener(\"error\", D, { signal: this.abortController.signal });\n          const k = (j) => {\n            if (j.data && typeof j.data == \"string\")\n              try {\n                const T = JSON.parse(j.data);\n                if (T.type === \"verify_attestation\") {\n                  if (bo(T.attestation).payload.id !== o)\n                    return;\n                  clearInterval(v), d.body.removeChild(N), this.abortController.signal.removeEventListener(\"abort\", D), window.removeEventListener(\"message\", k), A(T.attestation === null ? \"\" : T.attestation);\n                }\n              } catch (T) {\n                this.logger.warn(T);\n              }\n          };\n          d.body.appendChild(N), window.addEventListener(\"message\", k, { signal: this.abortController.signal });\n        });\n        return this.logger.debug(\"jwt attestation\", w), w;\n      } catch (d) {\n        this.logger.warn(d);\n      }\n      return \"\";\n    }, this.resolve = async (n) => {\n      if (this.isDevEnv)\n        return \"\";\n      const { attestationId: s, hash: o, encryptedId: f } = n;\n      if (s === \"\") {\n        this.logger.debug(\"resolve: attestationId is empty, skipping\");\n        return;\n      }\n      if (s) {\n        if (bo(s).payload.id !== f)\n          return;\n        const d = await this.isValidJwtAttestation(s);\n        if (d) {\n          if (!d.isVerified) {\n            this.logger.warn(\"resolve: jwt attestation: origin url not verified\");\n            return;\n          }\n          return d;\n        }\n      }\n      if (!o)\n        return;\n      const h = this.getVerifyUrl(n?.verifyUrl);\n      return this.fetchAttestation(o, h);\n    }, this.fetchAttestation = async (n, s) => {\n      this.logger.debug(`resolving attestation: ${n} from url: ${s}`);\n      const o = this.startAbortTimer(ie.ONE_SECOND * 5), f = await fetch(`${s}/attestation/${n}?v2Supported=true`, { signal: this.abortController.signal });\n      return clearTimeout(o), f.status === 200 ? await f.json() : void 0;\n    }, this.getVerifyUrl = (n) => {\n      let s = n || Vn;\n      return L3.includes(s) || (this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Vn}`), s = Vn), s;\n    }, this.fetchPublicKey = async () => {\n      try {\n        this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);\n        const n = this.startAbortTimer(ie.FIVE_SECONDS), s = await fetch(`${this.verifyUrlV3}/public-key`, { signal: this.abortController.signal });\n        return clearTimeout(n), await s.json();\n      } catch (n) {\n        this.logger.warn(n);\n      }\n    }, this.persistPublicKey = async (n) => {\n      this.logger.debug(\"persisting public key to local storage\", n), await this.store.setItem(this.storeKey, n), this.publicKey = n;\n    }, this.removePublicKey = async () => {\n      this.logger.debug(\"removing verify v2 public key from storage\"), await this.store.removeItem(this.storeKey), this.publicKey = void 0;\n    }, this.isValidJwtAttestation = async (n) => {\n      const s = await this.getPublicKey();\n      try {\n        if (s)\n          return this.validateAttestation(n, s);\n      } catch (f) {\n        this.logger.error(f), this.logger.warn(\"error validating attestation\");\n      }\n      const o = await this.fetchAndPersistPublicKey();\n      try {\n        if (o)\n          return this.validateAttestation(n, o);\n      } catch (f) {\n        this.logger.error(f), this.logger.warn(\"error validating attestation\");\n      }\n    }, this.getPublicKey = async () => this.publicKey ? this.publicKey : await this.fetchAndPersistPublicKey(), this.fetchAndPersistPublicKey = async () => {\n      if (this.fetchPromise)\n        return await this.fetchPromise, this.publicKey;\n      this.fetchPromise = new Promise(async (s) => {\n        const o = await this.fetchPublicKey();\n        o && (await this.persistPublicKey(o), s(o));\n      });\n      const n = await this.fetchPromise;\n      return this.fetchPromise = void 0, n;\n    }, this.validateAttestation = (n, s) => {\n      const o = Wy(n, s.publicKey), f = { hasExpired: ie.toMiliseconds(o.exp) < Date.now(), payload: o };\n      if (f.hasExpired)\n        throw this.logger.warn(\"resolve: jwt attestation expired\"), new Error(\"JWT attestation expired\");\n      return { origin: f.payload.origin, isScam: f.payload.isScam, isVerified: f.payload.isVerified };\n    }, this.logger = kt(t, this.name), this.abortController = new AbortController(), this.isDevEnv = rf(), this.init();\n  }\n  get storeKey() {\n    return this.storagePrefix + this.version + this.core.customStoragePrefix + \"//verify:public:key\";\n  }\n  get context() {\n    return Zt(this.logger);\n  }\n  startAbortTimer(e) {\n    return this.abortController = new AbortController(), setTimeout(() => this.abortController.abort(), ie.toMiliseconds(e));\n  }\n}\nclass zw extends dp {\n  constructor(e, t) {\n    super(e, t), this.projectId = e, this.logger = t, this.context = F3, this.registerDeviceToken = async (i) => {\n      const { clientId: n, token: s, notificationType: o, enableEncrypted: f = !1 } = i, h = `${q3}/${this.projectId}/clients`;\n      await fetch(h, { method: \"POST\", headers: { \"Content-Type\": \"application/json\" }, body: JSON.stringify({ client_id: n, type: o, token: s, always_raw: f }) });\n    }, this.logger = kt(t, this.context);\n  }\n}\nvar Bw = Object.defineProperty, _h = Object.getOwnPropertySymbols, kw = Object.prototype.hasOwnProperty, jw = Object.prototype.propertyIsEnumerable, xh = (r, e, t) => e in r ? Bw(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : r[e] = t, Bn = (r, e) => {\n  for (var t in e || (e = {}))\n    kw.call(e, t) && xh(r, t, e[t]);\n  if (_h)\n    for (var t of _h(e))\n      jw.call(e, t) && xh(r, t, e[t]);\n  return r;\n};\nclass Kw extends lp {\n  constructor(e, t, i = !0) {\n    super(e, t, i), this.core = e, this.logger = t, this.context = z3, this.storagePrefix = jr, this.storageVersion = U3, this.events = /* @__PURE__ */ new Map(), this.shouldPersist = !1, this.init = async () => {\n      if (!rf())\n        try {\n          const n = { eventId: Dc(), timestamp: Date.now(), domain: this.getAppDomain(), props: { event: \"INIT\", type: \"\", properties: { client_id: await this.core.crypto.getClientId(), user_agent: rd(this.core.relayer.protocol, this.core.relayer.version, Do) } } };\n          await this.sendEvent([n]);\n        } catch (n) {\n          this.logger.warn(n);\n        }\n    }, this.createEvent = (n) => {\n      const { event: s = \"ERROR\", type: o = \"\", properties: { topic: f, trace: h } } = n, d = Dc(), v = this.core.projectId || \"\", w = Date.now(), A = Bn({ eventId: d, timestamp: w, props: { event: s, type: o, properties: { topic: f, trace: h } }, bundleId: v, domain: this.getAppDomain() }, this.setMethods(d));\n      return this.telemetryEnabled && (this.events.set(d, A), this.shouldPersist = !0), A;\n    }, this.getEvent = (n) => {\n      const { eventId: s, topic: o } = n;\n      if (s)\n        return this.events.get(s);\n      const f = Array.from(this.events.values()).find((h) => h.props.properties.topic === o);\n      if (f)\n        return Bn(Bn({}, f), this.setMethods(f.eventId));\n    }, this.deleteEvent = (n) => {\n      const { eventId: s } = n;\n      this.events.delete(s), this.shouldPersist = !0;\n    }, this.setEventListeners = () => {\n      this.core.heartbeat.on(gn.pulse, async () => {\n        this.shouldPersist && await this.persist(), this.events.forEach((n) => {\n          ie.fromMiliseconds(Date.now()) - ie.fromMiliseconds(n.timestamp) > B3 && (this.events.delete(n.eventId), this.shouldPersist = !0);\n        });\n      });\n    }, this.setMethods = (n) => ({ addTrace: (s) => this.addTrace(n, s), setError: (s) => this.setError(n, s) }), this.addTrace = (n, s) => {\n      const o = this.events.get(n);\n      o && (o.props.properties.trace.push(s), this.events.set(n, o), this.shouldPersist = !0);\n    }, this.setError = (n, s) => {\n      const o = this.events.get(n);\n      o && (o.props.type = s, o.timestamp = Date.now(), this.events.set(n, o), this.shouldPersist = !0);\n    }, this.persist = async () => {\n      await this.core.storage.setItem(this.storageKey, Array.from(this.events.values())), this.shouldPersist = !1;\n    }, this.restore = async () => {\n      try {\n        const n = await this.core.storage.getItem(this.storageKey) || [];\n        if (!n.length)\n          return;\n        n.forEach((s) => {\n          this.events.set(s.eventId, Bn(Bn({}, s), this.setMethods(s.eventId)));\n        });\n      } catch (n) {\n        this.logger.warn(n);\n      }\n    }, this.submit = async () => {\n      if (!this.telemetryEnabled || this.events.size === 0)\n        return;\n      const n = [];\n      for (const [s, o] of this.events)\n        o.props.type && n.push(o);\n      if (n.length !== 0)\n        try {\n          if ((await this.sendEvent(n)).ok)\n            for (const s of n)\n              this.events.delete(s.eventId), this.shouldPersist = !0;\n        } catch (s) {\n          this.logger.warn(s);\n        }\n    }, this.sendEvent = async (n) => {\n      const s = this.getAppDomain() ? \"\" : \"&sp=desktop\";\n      return await fetch(`${k3}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${Do}${s}`, { method: \"POST\", body: JSON.stringify(n) });\n    }, this.getAppDomain = () => td().url, this.logger = kt(t, this.context), this.telemetryEnabled = i, i ? this.restore().then(async () => {\n      await this.submit(), this.setEventListeners();\n    }) : this.persist();\n  }\n  get storageKey() {\n    return this.storagePrefix + this.storageVersion + this.core.customStoragePrefix + \"//\" + this.context;\n  }\n}\nvar Hw = Object.defineProperty, Eh = Object.getOwnPropertySymbols, Vw = Object.prototype.hasOwnProperty, Ww = Object.prototype.propertyIsEnumerable, Sh = (r, e, t) => e in r ? Hw(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : r[e] = t, Mh = (r, e) => {\n  for (var t in e || (e = {}))\n    Vw.call(e, t) && Sh(r, t, e[t]);\n  if (Eh)\n    for (var t of Eh(e))\n      Ww.call(e, t) && Sh(r, t, e[t]);\n  return r;\n};\nlet Gw = class qd extends ip {\n  constructor(e) {\n    var t;\n    super(e), this.protocol = Ed, this.version = Sd, this.name = ea, this.events = new ir.EventEmitter(), this.initialized = !1, this.on = (o, f) => this.events.on(o, f), this.once = (o, f) => this.events.once(o, f), this.off = (o, f) => this.events.off(o, f), this.removeListener = (o, f) => this.events.removeListener(o, f), this.dispatchEnvelope = ({ topic: o, message: f, sessionExists: h }) => {\n      if (!o || !f)\n        return;\n      const d = { topic: o, message: f, publishedAt: Date.now(), transportType: at.link_mode };\n      this.relayer.onLinkMessageEvent(d, { sessionExists: h });\n    }, this.projectId = e?.projectId, this.relayUrl = e?.relayUrl || Id, this.customStoragePrefix = e != null && e.customStoragePrefix ? `:${e.customStoragePrefix}` : \"\";\n    const i = To({ level: typeof e?.logger == \"string\" && e.logger ? e.logger : c3.logger, name: ea }), { logger: n, chunkLoggerController: s } = rp({ opts: i, maxSizeInBytes: e?.maxLogBlobSizeInBytes, loggerOverride: e?.logger });\n    this.logChunkController = s, (t = this.logChunkController) != null && t.downloadLogsBlobInBrowser && (window.downloadLogsBlobInBrowser = async () => {\n      var o, f;\n      (o = this.logChunkController) != null && o.downloadLogsBlobInBrowser && ((f = this.logChunkController) == null || f.downloadLogsBlobInBrowser({ clientId: await this.crypto.getClientId() }));\n    }), this.logger = kt(n, this.name), this.heartbeat = new Gl(), this.crypto = new pw(this, this.logger, e?.keychain), this.history = new Fw(this, this.logger), this.expirer = new qw(this, this.logger), this.storage = e != null && e.storage ? e.storage : new D0(Mh(Mh({}, h3), e?.storageOptions)), this.relayer = new Nw({ core: this, logger: this.logger, relayUrl: this.relayUrl, projectId: this.projectId }), this.pairing = new Lw(this, this.logger), this.verify = new Uw(this, this.logger, this.storage), this.echoClient = new zw(this.projectId || \"\", this.logger), this.linkModeSupportedApps = [], this.eventClient = new Kw(this, this.logger, e?.telemetryEnabled);\n  }\n  static async init(e) {\n    const t = new qd(e);\n    await t.initialize();\n    const i = await t.crypto.getClientId();\n    return await t.storage.setItem(E3, i), t;\n  }\n  get context() {\n    return Zt(this.logger);\n  }\n  async start() {\n    this.initialized || await this.initialize();\n  }\n  async getLogsBlob() {\n    var e;\n    return (e = this.logChunkController) == null ? void 0 : e.logsToBlob({ clientId: await this.crypto.getClientId() });\n  }\n  async addLinkModeSupportedApp(e) {\n    this.linkModeSupportedApps.includes(e) || (this.linkModeSupportedApps.push(e), await this.storage.setItem(rh, this.linkModeSupportedApps));\n  }\n  async initialize() {\n    this.logger.trace(\"Initialized\");\n    try {\n      await this.crypto.init(), await this.history.init(), await this.expirer.init(), await this.relayer.init(), await this.heartbeat.init(), await this.pairing.init(), this.eventClient.init(), this.linkModeSupportedApps = await this.storage.getItem(rh) || [], this.initialized = !0, this.logger.info(\"Core Initialization Success\");\n    } catch (e) {\n      throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`, e), this.logger.error(e.message), e;\n    }\n  }\n};\nconst Jw = Gw, Ud = \"wc\", zd = 2, Bd = \"client\", cf = `${Ud}@${zd}:${Bd}:`, no = { name: Bd, logger: \"error\", controller: !1, relayUrl: \"wss://relay.walletconnect.org\" }, Ih = \"WALLETCONNECT_DEEPLINK_CHOICE\", Yw = \"proposal\", Xw = \"Proposal expired\", Zw = \"session\", sn = ie.SEVEN_DAYS, Qw = \"engine\", _t = { wc_sessionPropose: { req: { ttl: ie.FIVE_MINUTES, prompt: !0, tag: 1100 }, res: { ttl: ie.FIVE_MINUTES, prompt: !1, tag: 1101 }, reject: { ttl: ie.FIVE_MINUTES, prompt: !1, tag: 1120 }, autoReject: { ttl: ie.FIVE_MINUTES, prompt: !1, tag: 1121 } }, wc_sessionSettle: { req: { ttl: ie.FIVE_MINUTES, prompt: !1, tag: 1102 }, res: { ttl: ie.FIVE_MINUTES, prompt: !1, tag: 1103 } }, wc_sessionUpdate: { req: { ttl: ie.ONE_DAY, prompt: !1, tag: 1104 }, res: { ttl: ie.ONE_DAY, prompt: !1, tag: 1105 } }, wc_sessionExtend: { req: { ttl: ie.ONE_DAY, prompt: !1, tag: 1106 }, res: { ttl: ie.ONE_DAY, prompt: !1, tag: 1107 } }, wc_sessionRequest: { req: { ttl: ie.FIVE_MINUTES, prompt: !0, tag: 1108 }, res: { ttl: ie.FIVE_MINUTES, prompt: !1, tag: 1109 } }, wc_sessionEvent: { req: { ttl: ie.FIVE_MINUTES, prompt: !0, tag: 1110 }, res: { ttl: ie.FIVE_MINUTES, prompt: !1, tag: 1111 } }, wc_sessionDelete: { req: { ttl: ie.ONE_DAY, prompt: !1, tag: 1112 }, res: { ttl: ie.ONE_DAY, prompt: !1, tag: 1113 } }, wc_sessionPing: { req: { ttl: ie.ONE_DAY, prompt: !1, tag: 1114 }, res: { ttl: ie.ONE_DAY, prompt: !1, tag: 1115 } }, wc_sessionAuthenticate: { req: { ttl: ie.ONE_HOUR, prompt: !0, tag: 1116 }, res: { ttl: ie.ONE_HOUR, prompt: !1, tag: 1117 }, reject: { ttl: ie.FIVE_MINUTES, prompt: !1, tag: 1118 }, autoReject: { ttl: ie.FIVE_MINUTES, prompt: !1, tag: 1119 } } }, so = { min: ie.FIVE_MINUTES, max: ie.SEVEN_DAYS }, Pr = { idle: \"IDLE\", active: \"ACTIVE\" }, e5 = \"request\", t5 = [\"wc_sessionPropose\", \"wc_sessionRequest\", \"wc_authRequest\", \"wc_sessionAuthenticate\"], r5 = \"wc\", i5 = \"auth\", n5 = \"authKeys\", s5 = \"pairingTopics\", a5 = \"requests\", Pa = `${r5}@${1.5}:${i5}:`, $s = `${Pa}:PUB_KEY`;\nvar o5 = Object.defineProperty, f5 = Object.defineProperties, c5 = Object.getOwnPropertyDescriptors, Ah = Object.getOwnPropertySymbols, h5 = Object.prototype.hasOwnProperty, u5 = Object.prototype.propertyIsEnumerable, Dh = (r, e, t) => e in r ? o5(r, e, { enumerable: !0, configurable: !0, writable: !0, value: t }) : r[e] = t, lt = (r, e) => {\n  for (var t in e || (e = {}))\n    h5.call(e, t) && Dh(r, t, e[t]);\n  if (Ah)\n    for (var t of Ah(e))\n      u5.call(e, t) && Dh(r, t, e[t]);\n  return r;\n}, Er = (r, e) => f5(r, c5(e));\nclass d5 extends vp {\n  constructor(e) {\n    super(e), this.name = Qw, this.events = new zh(), this.initialized = !1, this.requestQueue = { state: Pr.idle, queue: [] }, this.sessionRequestQueue = { state: Pr.idle, queue: [] }, this.requestQueueDelay = ie.ONE_SECOND, this.expectedPairingMethodMap = /* @__PURE__ */ new Map(), this.recentlyDeletedMap = /* @__PURE__ */ new Map(), this.recentlyDeletedLimit = 200, this.relayMessageCache = [], this.init = async () => {\n      this.initialized || (await this.cleanup(), this.registerRelayerEvents(), this.registerExpirerEvents(), this.registerPairingEvents(), await this.registerLinkModeListeners(), this.client.core.pairing.register({ methods: Object.keys(_t) }), this.initialized = !0, setTimeout(() => {\n        this.sessionRequestQueue.queue = this.getPendingSessionRequests(), this.processSessionRequestQueue();\n      }, ie.toMiliseconds(this.requestQueueDelay)));\n    }, this.connect = async (t) => {\n      this.isInitialized(), await this.confirmOnlineStateOrThrow();\n      const i = Er(lt({}, t), { requiredNamespaces: t.requiredNamespaces || {}, optionalNamespaces: t.optionalNamespaces || {} });\n      await this.isValidConnect(i);\n      const { pairingTopic: n, requiredNamespaces: s, optionalNamespaces: o, sessionProperties: f, relays: h } = i;\n      let d = n, v, w = !1;\n      try {\n        d && (w = this.client.core.pairing.pairings.get(d).active);\n      } catch ($) {\n        throw this.client.logger.error(`connect() -> pairing.get(${d}) failed`), $;\n      }\n      if (!d || !w) {\n        const { topic: $, uri: z } = await this.client.core.pairing.create();\n        d = $, v = z;\n      }\n      if (!d) {\n        const { message: $ } = ae(\"NO_MATCHING_KEY\", `connect() pairing topic: ${d}`);\n        throw new Error($);\n      }\n      const A = await this.client.core.crypto.generateKeyPair(), I = _t.wc_sessionPropose.req.ttl || ie.FIVE_MINUTES, D = mt(I), N = lt({ requiredNamespaces: s, optionalNamespaces: o, relays: h ?? [{ protocol: Md }], proposer: { publicKey: A, metadata: this.client.metadata }, expiryTimestamp: D, pairingTopic: d }, f && { sessionProperties: f }), { reject: k, resolve: j, done: T } = Li(I, Xw);\n      this.events.once(Xe(\"session_connect\"), async ({ error: $, session: z }) => {\n        if ($)\n          k($);\n        else if (z) {\n          z.self.publicKey = A;\n          const B = Er(lt({}, z), { pairingTopic: N.pairingTopic, requiredNamespaces: N.requiredNamespaces, optionalNamespaces: N.optionalNamespaces, transportType: at.relay });\n          await this.client.session.set(z.topic, B), await this.setExpiry(z.topic, z.expiry), d && await this.client.core.pairing.updateMetadata({ topic: d, metadata: z.peer.metadata }), this.cleanupDuplicatePairings(B), j(B);\n        }\n      });\n      const K = await this.sendRequest({ topic: d, method: \"wc_sessionPropose\", params: N, throwOnFailedPublish: !0 });\n      return await this.setProposal(K, lt({ id: K }, N)), { uri: v, approval: T };\n    }, this.pair = async (t) => {\n      this.isInitialized(), await this.confirmOnlineStateOrThrow();\n      try {\n        return await this.client.core.pairing.pair(t);\n      } catch (i) {\n        throw this.client.logger.error(\"pair() failed\"), i;\n      }\n    }, this.approve = async (t) => {\n      var i, n, s;\n      const o = this.client.core.eventClient.createEvent({ properties: { topic: (i = t?.id) == null ? void 0 : i.toString(), trace: [xr.session_approve_started] } });\n      try {\n        this.isInitialized(), await this.confirmOnlineStateOrThrow();\n      } catch (R) {\n        throw o.setError(Ti.no_internet_connection), R;\n      }\n      try {\n        await this.isValidProposalId(t?.id);\n      } catch (R) {\n        throw this.client.logger.error(`approve() -> proposal.get(${t?.id}) failed`), o.setError(Ti.proposal_not_found), R;\n      }\n      try {\n        await this.isValidApprove(t);\n      } catch (R) {\n        throw this.client.logger.error(\"approve() -> isValidApprove() failed\"), o.setError(Ti.session_approve_namespace_validation_failure), R;\n      }\n      const { id: f, relayProtocol: h, namespaces: d, sessionProperties: v, sessionConfig: w } = t, A = this.client.proposal.get(f);\n      this.client.core.eventClient.deleteEvent({ eventId: o.eventId });\n      const { pairingTopic: I, proposer: D, requiredNamespaces: N, optionalNamespaces: k } = A;\n      let j = (n = this.client.core.eventClient) == null ? void 0 : n.getEvent({ topic: I });\n      j || (j = (s = this.client.core.eventClient) == null ? void 0 : s.createEvent({ type: xr.session_approve_started, properties: { topic: I, trace: [xr.session_approve_started, xr.session_namespaces_validation_success] } }));\n      const T = await this.client.core.crypto.generateKeyPair(), K = D.publicKey, $ = await this.client.core.crypto.generateSharedKey(T, K), z = lt(lt({ relay: { protocol: h ?? \"irn\" }, namespaces: d, controller: { publicKey: T, metadata: this.client.metadata }, expiry: mt(sn) }, v && { sessionProperties: v }), w && { sessionConfig: w }), B = at.relay;\n      j.addTrace(xr.subscribing_session_topic);\n      try {\n        await this.client.core.relayer.subscribe($, { transportType: B });\n      } catch (R) {\n        throw j.setError(Ti.subscribe_session_topic_failure), R;\n      }\n      j.addTrace(xr.subscribe_session_topic_success);\n      const _ = Er(lt({}, z), { topic: $, requiredNamespaces: N, optionalNamespaces: k, pairingTopic: I, acknowledged: !1, self: z.controller, peer: { publicKey: D.publicKey, metadata: D.metadata }, controller: T, transportType: at.relay });\n      await this.client.session.set($, _), j.addTrace(xr.store_session);\n      try {\n        j.addTrace(xr.publishing_session_settle), await this.sendRequest({ topic: $, method: \"wc_sessionSettle\", params: z, throwOnFailedPublish: !0 }).catch((R) => {\n          throw j?.setError(Ti.session_settle_publish_failure), R;\n        }), j.addTrace(xr.session_settle_publish_success), j.addTrace(xr.publishing_session_approve), await this.sendResult({ id: f, topic: I, result: { relay: { protocol: h ?? \"irn\" }, responderPublicKey: T }, throwOnFailedPublish: !0 }).catch((R) => {\n          throw j?.setError(Ti.session_approve_publish_failure), R;\n        }), j.addTrace(xr.session_approve_publish_success);\n      } catch (R) {\n        throw this.client.logger.error(R), this.client.session.delete($, st(\"USER_DISCONNECTED\")), await this.client.core.relayer.unsubscribe($), R;\n      }\n      return this.client.core.eventClient.deleteEvent({ eventId: j.eventId }), await this.client.core.pairing.updateMetadata({ topic: I, metadata: D.metadata }), await this.client.proposal.delete(f, st(\"USER_DISCONNECTED\")), await this.client.core.pairing.activate({ topic: I }), await this.setExpiry($, mt(sn)), { topic: $, acknowledged: () => Promise.resolve(this.client.session.get($)) };\n    }, this.reject = async (t) => {\n      this.isInitialized(), await this.confirmOnlineStateOrThrow();\n      try {\n        await this.isValidReject(t);\n      } catch (o) {\n        throw this.client.logger.error(\"reject() -> isValidReject() failed\"), o;\n      }\n      const { id: i, reason: n } = t;\n      let s;\n      try {\n        s = this.client.proposal.get(i).pairingTopic;\n      } catch (o) {\n        throw this.client.logger.error(`reject() -> proposal.get(${i}) failed`), o;\n      }\n      s && (await this.sendError({ id: i, topic: s, error: n, rpcOpts: _t.wc_sessionPropose.reject }), await this.client.proposal.delete(i, st(\"USER_DISCONNECTED\")));\n    }, this.update = async (t) => {\n      this.isInitialized(), await this.confirmOnlineStateOrThrow();\n      try {\n        await this.isValidUpdate(t);\n      } catch (w) {\n        throw this.client.logger.error(\"update() -> isValidUpdate() failed\"), w;\n      }\n      const { topic: i, namespaces: n } = t, { done: s, resolve: o, reject: f } = Li(), h = oi(), d = zi().toString(), v = this.client.session.get(i).namespaces;\n      return this.events.once(Xe(\"session_update\", h), ({ error: w }) => {\n        w ? f(w) : o();\n      }), await this.client.session.update(i, { namespaces: n }), await this.sendRequest({ topic: i, method: \"wc_sessionUpdate\", params: { namespaces: n }, throwOnFailedPublish: !0, clientRpcId: h, relayRpcId: d }).catch((w) => {\n        this.client.logger.error(w), this.client.session.update(i, { namespaces: v }), f(w);\n      }), { acknowledged: s };\n    }, this.extend = async (t) => {\n      this.isInitialized(), await this.confirmOnlineStateOrThrow();\n      try {\n        await this.isValidExtend(t);\n      } catch (h) {\n        throw this.client.logger.error(\"extend() -> isValidExtend() failed\"), h;\n      }\n      const { topic: i } = t, n = oi(), { done: s, resolve: o, reject: f } = Li();\n      return this.events.once(Xe(\"session_extend\", n), ({ error: h }) => {\n        h ? f(h) : o();\n      }), await this.setExpiry(i, mt(sn)), this.sendRequest({ topic: i, method: \"wc_sessionExtend\", params: {}, clientRpcId: n, throwOnFailedPublish: !0 }).catch((h) => {\n        f(h);\n      }), { acknowledged: s };\n    }, this.request = async (t) => {\n      this.isInitialized();\n      try {\n        await this.isValidRequest(t);\n      } catch (D) {\n        throw this.client.logger.error(\"request() -> isValidRequest() failed\"), D;\n      }\n      const { chainId: i, request: n, topic: s, expiry: o = _t.wc_sessionRequest.req.ttl } = t, f = this.client.session.get(s);\n      f?.transportType === at.relay && await this.confirmOnlineStateOrThrow();\n      const h = oi(), d = zi().toString(), { done: v, resolve: w, reject: A } = Li(o, \"Request expired. Please try again.\");\n      this.events.once(Xe(\"session_request\", h), ({ error: D, result: N }) => {\n        D ? A(D) : w(N);\n      });\n      const I = this.getAppLinkIfEnabled(f.peer.metadata, f.transportType);\n      return I ? (await this.sendRequest({ clientRpcId: h, relayRpcId: d, topic: s, method: \"wc_sessionRequest\", params: { request: Er(lt({}, n), { expiryTimestamp: mt(o) }), chainId: i }, expiry: o, throwOnFailedPublish: !0, appLink: I }).catch((D) => A(D)), this.client.events.emit(\"session_request_sent\", { topic: s, request: n, chainId: i, id: h }), await v()) : await Promise.all([new Promise(async (D) => {\n        await this.sendRequest({ clientRpcId: h, relayRpcId: d, topic: s, method: \"wc_sessionRequest\", params: { request: Er(lt({}, n), { expiryTimestamp: mt(o) }), chainId: i }, expiry: o, throwOnFailedPublish: !0 }).catch((N) => A(N)), this.client.events.emit(\"session_request_sent\", { topic: s, request: n, chainId: i, id: h }), D();\n      }), new Promise(async (D) => {\n        var N;\n        if (!((N = f.sessionConfig) != null && N.disableDeepLink)) {\n          const k = await cy(this.client.core.storage, Ih);\n          await oy({ id: h, topic: s, wcDeepLink: k });\n        }\n        D();\n      }), v()]).then((D) => D[2]);\n    }, this.respond = async (t) => {\n      this.isInitialized(), await this.isValidRespond(t);\n      const { topic: i, response: n } = t, { id: s } = n, o = this.client.session.get(i);\n      o.transportType === at.relay && await this.confirmOnlineStateOrThrow();\n      const f = this.getAppLinkIfEnabled(o.peer.metadata, o.transportType);\n      Rr(n) ? await this.sendResult({ id: s, topic: i, result: n.result, throwOnFailedPublish: !0, appLink: f }) : dr(n) && await this.sendError({ id: s, topic: i, error: n.error, appLink: f }), this.cleanupAfterResponse(t);\n    }, this.ping = async (t) => {\n      this.isInitialized(), await this.confirmOnlineStateOrThrow();\n      try {\n        await this.isValidPing(t);\n      } catch (n) {\n        throw this.client.logger.error(\"ping() -> isValidPing() failed\"), n;\n      }\n      const { topic: i } = t;\n      if (this.client.session.keys.includes(i)) {\n        const n = oi(), s = zi().toString(), { done: o, resolve: f, reject: h } = Li();\n        this.events.once(Xe(\"session_ping\", n), ({ error: d }) => {\n          d ? h(d) : f();\n        }), await Promise.all([this.sendRequest({ topic: i, method: \"wc_sessionPing\", params: {}, throwOnFailedPublish: !0, clientRpcId: n, relayRpcId: s }), o()]);\n      } else\n        this.client.core.pairing.pairings.keys.includes(i) && await this.client.core.pairing.ping({ topic: i });\n    }, this.emit = async (t) => {\n      this.isInitialized(), await this.confirmOnlineStateOrThrow(), await this.isValidEmit(t);\n      const { topic: i, event: n, chainId: s } = t, o = zi().toString(), f = oi();\n      await this.sendRequest({ topic: i, method: \"wc_sessionEvent\", params: { event: n, chainId: s }, throwOnFailedPublish: !0, relayRpcId: o, clientRpcId: f });\n    }, this.disconnect = async (t) => {\n      this.isInitialized(), await this.confirmOnlineStateOrThrow(), await this.isValidDisconnect(t);\n      const { topic: i } = t;\n      if (this.client.session.keys.includes(i))\n        await this.sendRequest({ topic: i, method: \"wc_sessionDelete\", params: st(\"USER_DISCONNECTED\"), throwOnFailedPublish: !0 }), await this.deleteSession({ topic: i, emitEvent: !1 });\n      else if (this.client.core.pairing.pairings.keys.includes(i))\n        await this.client.core.pairing.disconnect({ topic: i });\n      else {\n        const { message: n } = ae(\"MISMATCHED_TOPIC\", `Session or pairing topic not found: ${i}`);\n        throw new Error(n);\n      }\n    }, this.find = (t) => (this.isInitialized(), this.client.session.getAll().filter((i) => hm(i, t))), this.getPendingSessionRequests = () => this.client.pendingRequest.getAll(), this.authenticate = async (t, i) => {\n      var n;\n      this.isInitialized(), this.isValidAuthenticate(t);\n      const s = i && this.client.core.linkModeSupportedApps.includes(i) && ((n = this.client.metadata.redirect) == null ? void 0 : n.linkMode), o = s ? at.link_mode : at.relay;\n      o === at.relay && await this.confirmOnlineStateOrThrow();\n      const { chains: f, statement: h = \"\", uri: d, domain: v, nonce: w, type: A, exp: I, nbf: D, methods: N = [], expiry: k } = t, j = [...t.resources || []], { topic: T, uri: K } = await this.client.core.pairing.create({ methods: [\"wc_sessionAuthenticate\"], transportType: o });\n      this.client.logger.info({ message: \"Generated new pairing\", pairing: { topic: T, uri: K } });\n      const $ = await this.client.core.crypto.generateKeyPair(), z = Cs($);\n      if (await Promise.all([this.client.auth.authKeys.set($s, { responseTopic: z, publicKey: $ }), this.client.auth.pairingTopics.set(z, { topic: z, pairingTopic: T })]), await this.client.core.relayer.subscribe(z, { transportType: o }), this.client.logger.info(`sending request to new pairing topic: ${T}`), N.length > 0) {\n        const { namespace: S } = Ns(f[0]);\n        let x = Ry(S, \"request\", N);\n        Ts(j) && (x = Ty(x, j.pop())), j.push(x);\n      }\n      const B = k && k > _t.wc_sessionAuthenticate.req.ttl ? k : _t.wc_sessionAuthenticate.req.ttl, _ = { authPayload: { type: A ?? \"caip122\", chains: f, statement: h, aud: d, domain: v, version: \"1\", nonce: w, iat: (/* @__PURE__ */ new Date()).toISOString(), exp: I, nbf: D, resources: j }, requester: { publicKey: $, metadata: this.client.metadata }, expiryTimestamp: mt(B) }, R = { eip155: { chains: f, methods: [.../* @__PURE__ */ new Set([\"personal_sign\", ...N])], events: [\"chainChanged\", \"accountsChanged\"] } }, J = { requiredNamespaces: {}, optionalNamespaces: R, relays: [{ protocol: \"irn\" }], pairingTopic: T, proposer: { publicKey: $, metadata: this.client.metadata }, expiryTimestamp: mt(_t.wc_sessionPropose.req.ttl) }, { done: Q, resolve: O, reject: p } = Li(B, \"Request expired\"), l = async ({ error: S, session: x }) => {\n        if (this.events.off(Xe(\"session_request\", c), a), S)\n          p(S);\n        else if (x) {\n          x.self.publicKey = $, await this.client.session.set(x.topic, x), await this.setExpiry(x.topic, x.expiry), T && await this.client.core.pairing.updateMetadata({ topic: T, metadata: x.peer.metadata });\n          const u = this.client.session.get(x.topic);\n          await this.deleteProposal(b), O({ session: u });\n        }\n      }, a = async (S) => {\n        var x, u, m;\n        if (await this.deletePendingAuthRequest(c, { message: \"fulfilled\", code: 0 }), S.error) {\n          const q = st(\"WC_METHOD_UNSUPPORTED\", \"wc_sessionAuthenticate\");\n          return S.error.code === q.code ? void 0 : (this.events.off(Xe(\"session_connect\"), l), p(S.error.message));\n        }\n        await this.deleteProposal(b), this.events.off(Xe(\"session_connect\"), l);\n        const { cacaos: g, responder: P } = S.result, G = [], M = [];\n        for (const q of g) {\n          await Rc({ cacao: q, projectId: this.client.core.projectId }) || (this.client.logger.error(q, \"Signature verification failed\"), p(st(\"SESSION_SETTLEMENT_FAILED\", \"Signature verification failed\")));\n          const { p: L } = q, y = Ts(L.resources), F = [Io(L.iss)], W = Js(L.iss);\n          if (y) {\n            const Y = Nc(y), X = Tc(y);\n            G.push(...Y), F.push(...X);\n          }\n          for (const Y of F)\n            M.push(`${Y}:${W}`);\n        }\n        const H = await this.client.core.crypto.generateSharedKey($, P.publicKey);\n        let C;\n        G.length > 0 && (C = { topic: H, acknowledged: !0, self: { publicKey: $, metadata: this.client.metadata }, peer: P, controller: P.publicKey, expiry: mt(sn), requiredNamespaces: {}, optionalNamespaces: {}, relay: { protocol: \"irn\" }, pairingTopic: T, namespaces: kc([...new Set(G)], [...new Set(M)]), transportType: o }, await this.client.core.relayer.subscribe(H, { transportType: o }), await this.client.session.set(H, C), T && await this.client.core.pairing.updateMetadata({ topic: T, metadata: P.metadata }), C = this.client.session.get(H)), (x = this.client.metadata.redirect) != null && x.linkMode && (u = P.metadata.redirect) != null && u.linkMode && (m = P.metadata.redirect) != null && m.universal && i && (this.client.core.addLinkModeSupportedApp(P.metadata.redirect.universal), this.client.session.update(H, { transportType: at.link_mode })), O({ auths: g, session: C });\n      }, c = oi(), b = oi();\n      this.events.once(Xe(\"session_connect\"), l), this.events.once(Xe(\"session_request\", c), a);\n      let E;\n      try {\n        if (s) {\n          const S = Bi(\"wc_sessionAuthenticate\", _, c);\n          this.client.core.history.set(T, S);\n          const x = await this.client.core.crypto.encode(\"\", S, { type: ds, encoding: Ln });\n          E = Es(i, T, x);\n        } else\n          await Promise.all([this.sendRequest({ topic: T, method: \"wc_sessionAuthenticate\", params: _, expiry: t.expiry, throwOnFailedPublish: !0, clientRpcId: c }), this.sendRequest({ topic: T, method: \"wc_sessionPropose\", params: J, expiry: _t.wc_sessionPropose.req.ttl, throwOnFailedPublish: !0, clientRpcId: b })]);\n      } catch (S) {\n        throw this.events.off(Xe(\"session_connect\"), l), this.events.off(Xe(\"session_request\", c), a), S;\n      }\n      return await this.setProposal(b, lt({ id: b }, J)), await this.setAuthRequest(c, { request: Er(lt({}, _), { verifyContext: {} }), pairingTopic: T, transportType: o }), { uri: E ?? K, response: Q };\n    }, this.approveSessionAuthenticate = async (t) => {\n      const { id: i, auths: n } = t, s = this.client.core.eventClient.createEvent({ properties: { topic: i.toString(), trace: [Ci.authenticated_session_approve_started] } });\n      try {\n        this.isInitialized();\n      } catch (k) {\n        throw s.setError(Un.no_internet_connection), k;\n      }\n      const o = this.getPendingAuthRequest(i);\n      if (!o)\n        throw s.setError(Un.authenticated_session_pending_request_not_found), new Error(`Could not find pending auth request with id ${i}`);\n      const f = o.transportType || at.relay;\n      f === at.relay && await this.confirmOnlineStateOrThrow();\n      const h = o.requester.publicKey, d = await this.client.core.crypto.generateKeyPair(), v = Cs(h), w = { type: hi, receiverPublicKey: h, senderPublicKey: d }, A = [], I = [];\n      for (const k of n) {\n        if (!await Rc({ cacao: k, projectId: this.client.core.projectId })) {\n          s.setError(Un.invalid_cacao);\n          const z = st(\"SESSION_SETTLEMENT_FAILED\", \"Signature verification failed\");\n          throw await this.sendError({ id: i, topic: v, error: z, encodeOpts: w }), new Error(z.message);\n        }\n        s.addTrace(Ci.cacaos_verified);\n        const { p: j } = k, T = Ts(j.resources), K = [Io(j.iss)], $ = Js(j.iss);\n        if (T) {\n          const z = Nc(T), B = Tc(T);\n          A.push(...z), K.push(...B);\n        }\n        for (const z of K)\n          I.push(`${z}:${$}`);\n      }\n      const D = await this.client.core.crypto.generateSharedKey(d, h);\n      s.addTrace(Ci.create_authenticated_session_topic);\n      let N;\n      if (A?.length > 0) {\n        N = { topic: D, acknowledged: !0, self: { publicKey: d, metadata: this.client.metadata }, peer: { publicKey: h, metadata: o.requester.metadata }, controller: h, expiry: mt(sn), authentication: n, requiredNamespaces: {}, optionalNamespaces: {}, relay: { protocol: \"irn\" }, pairingTopic: o.pairingTopic, namespaces: kc([...new Set(A)], [...new Set(I)]), transportType: f }, s.addTrace(Ci.subscribing_authenticated_session_topic);\n        try {\n          await this.client.core.relayer.subscribe(D, { transportType: f });\n        } catch (k) {\n          throw s.setError(Un.subscribe_authenticated_session_topic_failure), k;\n        }\n        s.addTrace(Ci.subscribe_authenticated_session_topic_success), await this.client.session.set(D, N), s.addTrace(Ci.store_authenticated_session), await this.client.core.pairing.updateMetadata({ topic: o.pairingTopic, metadata: o.requester.metadata });\n      }\n      s.addTrace(Ci.publishing_authenticated_session_approve);\n      try {\n        await this.sendResult({ topic: v, id: i, result: { cacaos: n, responder: { publicKey: d, metadata: this.client.metadata } }, encodeOpts: w, throwOnFailedPublish: !0, appLink: this.getAppLinkIfEnabled(o.requester.metadata, f) });\n      } catch (k) {\n        throw s.setError(Un.authenticated_session_approve_publish_failure), k;\n      }\n      return await this.client.auth.requests.delete(i, { message: \"fulfilled\", code: 0 }), await this.client.core.pairing.activate({ topic: o.pairingTopic }), this.client.core.eventClient.deleteEvent({ eventId: s.eventId }), { session: N };\n    }, this.rejectSessionAuthenticate = async (t) => {\n      this.isInitialized();\n      const { id: i, reason: n } = t, s = this.getPendingAuthRequest(i);\n      if (!s)\n        throw new Error(`Could not find pending auth request with id ${i}`);\n      s.transportType === at.relay && await this.confirmOnlineStateOrThrow();\n      const o = s.requester.publicKey, f = await this.client.core.crypto.generateKeyPair(), h = Cs(o), d = { type: hi, receiverPublicKey: o, senderPublicKey: f };\n      await this.sendError({ id: i, topic: h, error: n, encodeOpts: d, rpcOpts: _t.wc_sessionAuthenticate.reject, appLink: this.getAppLinkIfEnabled(s.requester.metadata, s.transportType) }), await this.client.auth.requests.delete(i, { message: \"rejected\", code: 0 }), await this.client.proposal.delete(i, st(\"USER_DISCONNECTED\"));\n    }, this.formatAuthMessage = (t) => {\n      this.isInitialized();\n      const { request: i, iss: n } = t;\n      return fd(i, n);\n    }, this.processRelayMessageCache = () => {\n      setTimeout(async () => {\n        if (this.relayMessageCache.length !== 0)\n          for (; this.relayMessageCache.length > 0; )\n            try {\n              const t = this.relayMessageCache.shift();\n              t && await this.onRelayMessage(t);\n            } catch (t) {\n              this.client.logger.error(t);\n            }\n      }, 50);\n    }, this.cleanupDuplicatePairings = async (t) => {\n      if (t.pairingTopic)\n        try {\n          const i = this.client.core.pairing.pairings.get(t.pairingTopic), n = this.client.core.pairing.pairings.getAll().filter((s) => {\n            var o, f;\n            return ((o = s.peerMetadata) == null ? void 0 : o.url) && ((f = s.peerMetadata) == null ? void 0 : f.url) === t.peer.metadata.url && s.topic && s.topic !== i.topic;\n          });\n          if (n.length === 0)\n            return;\n          this.client.logger.info(`Cleaning up ${n.length} duplicate pairing(s)`), await Promise.all(n.map((s) => this.client.core.pairing.disconnect({ topic: s.topic }))), this.client.logger.info(\"Duplicate pairings clean up finished\");\n        } catch (i) {\n          this.client.logger.error(i);\n        }\n    }, this.deleteSession = async (t) => {\n      var i;\n      const { topic: n, expirerHasDeleted: s = !1, emitEvent: o = !0, id: f = 0 } = t, { self: h } = this.client.session.get(n);\n      await this.client.core.relayer.unsubscribe(n), await this.client.session.delete(n, st(\"USER_DISCONNECTED\")), this.addToRecentlyDeleted(n, \"session\"), this.client.core.crypto.keychain.has(h.publicKey) && await this.client.core.crypto.deleteKeyPair(h.publicKey), this.client.core.crypto.keychain.has(n) && await this.client.core.crypto.deleteSymKey(n), s || this.client.core.expirer.del(n), this.client.core.storage.removeItem(Ih).catch((d) => this.client.logger.warn(d)), this.getPendingSessionRequests().forEach((d) => {\n        d.topic === n && this.deletePendingSessionRequest(d.id, st(\"USER_DISCONNECTED\"));\n      }), n === ((i = this.sessionRequestQueue.queue[0]) == null ? void 0 : i.topic) && (this.sessionRequestQueue.state = Pr.idle), o && this.client.events.emit(\"session_delete\", { id: f, topic: n });\n    }, this.deleteProposal = async (t, i) => {\n      if (i)\n        try {\n          const n = this.client.proposal.get(t);\n          this.client.core.eventClient.getEvent({ topic: n.pairingTopic })?.setError(Ti.proposal_expired);\n        } catch {\n        }\n      await Promise.all([this.client.proposal.delete(t, st(\"USER_DISCONNECTED\")), i ? Promise.resolve() : this.client.core.expirer.del(t)]), this.addToRecentlyDeleted(t, \"proposal\");\n    }, this.deletePendingSessionRequest = async (t, i, n = !1) => {\n      await Promise.all([this.client.pendingRequest.delete(t, i), n ? Promise.resolve() : this.client.core.expirer.del(t)]), this.addToRecentlyDeleted(t, \"request\"), this.sessionRequestQueue.queue = this.sessionRequestQueue.queue.filter((s) => s.id !== t), n && (this.sessionRequestQueue.state = Pr.idle, this.client.events.emit(\"session_request_expire\", { id: t }));\n    }, this.deletePendingAuthRequest = async (t, i, n = !1) => {\n      await Promise.all([this.client.auth.requests.delete(t, i), n ? Promise.resolve() : this.client.core.expirer.del(t)]);\n    }, this.setExpiry = async (t, i) => {\n      this.client.session.keys.includes(t) && (this.client.core.expirer.set(t, i), await this.client.session.update(t, { expiry: i }));\n    }, this.setProposal = async (t, i) => {\n      this.client.core.expirer.set(t, mt(_t.wc_sessionPropose.req.ttl)), await this.client.proposal.set(t, i);\n    }, this.setAuthRequest = async (t, i) => {\n      const { request: n, pairingTopic: s, transportType: o = at.relay } = i;\n      this.client.core.expirer.set(t, n.expiryTimestamp), await this.client.auth.requests.set(t, { authPayload: n.authPayload, requester: n.requester, expiryTimestamp: n.expiryTimestamp, id: t, pairingTopic: s, verifyContext: n.verifyContext, transportType: o });\n    }, this.setPendingSessionRequest = async (t) => {\n      const { id: i, topic: n, params: s, verifyContext: o } = t, f = s.request.expiryTimestamp || mt(_t.wc_sessionRequest.req.ttl);\n      this.client.core.expirer.set(i, f), await this.client.pendingRequest.set(i, { id: i, topic: n, params: s, verifyContext: o });\n    }, this.sendRequest = async (t) => {\n      const { topic: i, method: n, params: s, expiry: o, relayRpcId: f, clientRpcId: h, throwOnFailedPublish: d, appLink: v } = t, w = Bi(n, s, h);\n      let A;\n      const I = !!v;\n      try {\n        const k = I ? Ln : wi;\n        A = await this.client.core.crypto.encode(i, w, { encoding: k });\n      } catch (k) {\n        throw await this.cleanup(), this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${i} failed`), k;\n      }\n      let D;\n      if (t5.includes(n)) {\n        const k = fi(JSON.stringify(w)), j = fi(A);\n        D = await this.client.core.verify.register({ id: j, decryptedId: k });\n      }\n      const N = _t[n].req;\n      if (N.attestation = D, o && (N.ttl = o), f && (N.id = f), this.client.core.history.set(i, w), I) {\n        const k = Es(v, i, A);\n        await global.Linking.openURL(k, this.client.name);\n      } else {\n        const k = _t[n].req;\n        o && (k.ttl = o), f && (k.id = f), d ? (k.internal = Er(lt({}, k.internal), { throwOnFailedPublish: !0 }), await this.client.core.relayer.publish(i, A, k)) : this.client.core.relayer.publish(i, A, k).catch((j) => this.client.logger.error(j));\n      }\n      return w.id;\n    }, this.sendResult = async (t) => {\n      const { id: i, topic: n, result: s, throwOnFailedPublish: o, encodeOpts: f, appLink: h } = t, d = Ma(i, s);\n      let v;\n      const w = h && typeof (global == null ? void 0 : global.Linking) < \"u\";\n      try {\n        const I = w ? Ln : wi;\n        v = await this.client.core.crypto.encode(n, d, Er(lt({}, f || {}), { encoding: I }));\n      } catch (I) {\n        throw await this.cleanup(), this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${n} failed`), I;\n      }\n      let A;\n      try {\n        A = await this.client.core.history.get(n, i);\n      } catch (I) {\n        throw this.client.logger.error(`sendResult() -> history.get(${n}, ${i}) failed`), I;\n      }\n      if (w) {\n        const I = Es(h, n, v);\n        await global.Linking.openURL(I, this.client.name);\n      } else {\n        const I = _t[A.request.method].res;\n        o ? (I.internal = Er(lt({}, I.internal), { throwOnFailedPublish: !0 }), await this.client.core.relayer.publish(n, v, I)) : this.client.core.relayer.publish(n, v, I).catch((D) => this.client.logger.error(D));\n      }\n      await this.client.core.history.resolve(d);\n    }, this.sendError = async (t) => {\n      const { id: i, topic: n, error: s, encodeOpts: o, rpcOpts: f, appLink: h } = t, d = Ia(i, s);\n      let v;\n      const w = h && typeof (global == null ? void 0 : global.Linking) < \"u\";\n      try {\n        const I = w ? Ln : wi;\n        v = await this.client.core.crypto.encode(n, d, Er(lt({}, o || {}), { encoding: I }));\n      } catch (I) {\n        throw await this.cleanup(), this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${n} failed`), I;\n      }\n      let A;\n      try {\n        A = await this.client.core.history.get(n, i);\n      } catch (I) {\n        throw this.client.logger.error(`sendError() -> history.get(${n}, ${i}) failed`), I;\n      }\n      if (w) {\n        const I = Es(h, n, v);\n        await global.Linking.openURL(I, this.client.name);\n      } else {\n        const I = f || _t[A.request.method].res;\n        this.client.core.relayer.publish(n, v, I);\n      }\n      await this.client.core.history.resolve(d);\n    }, this.cleanup = async () => {\n      const t = [], i = [];\n      this.client.session.getAll().forEach((n) => {\n        let s = !1;\n        gi(n.expiry) && (s = !0), this.client.core.crypto.keychain.has(n.topic) || (s = !0), s && t.push(n.topic);\n      }), this.client.proposal.getAll().forEach((n) => {\n        gi(n.expiryTimestamp) && i.push(n.id);\n      }), await Promise.all([...t.map((n) => this.deleteSession({ topic: n })), ...i.map((n) => this.deleteProposal(n))]);\n    }, this.onRelayEventRequest = async (t) => {\n      this.requestQueue.queue.push(t), await this.processRequestsQueue();\n    }, this.processRequestsQueue = async () => {\n      if (this.requestQueue.state === Pr.active) {\n        this.client.logger.info(\"Request queue already active, skipping...\");\n        return;\n      }\n      for (this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`); this.requestQueue.queue.length > 0; ) {\n        this.requestQueue.state = Pr.active;\n        const t = this.requestQueue.queue.shift();\n        if (t)\n          try {\n            await this.processRequest(t);\n          } catch (i) {\n            this.client.logger.warn(i);\n          }\n      }\n      this.requestQueue.state = Pr.idle;\n    }, this.processRequest = async (t) => {\n      const { topic: i, payload: n, attestation: s, transportType: o, encryptedId: f } = t, h = n.method;\n      if (!this.shouldIgnorePairingRequest({ topic: i, requestMethod: h }))\n        switch (h) {\n          case \"wc_sessionPropose\":\n            return await this.onSessionProposeRequest({ topic: i, payload: n, attestation: s, encryptedId: f });\n          case \"wc_sessionSettle\":\n            return await this.onSessionSettleRequest(i, n);\n          case \"wc_sessionUpdate\":\n            return await this.onSessionUpdateRequest(i, n);\n          case \"wc_sessionExtend\":\n            return await this.onSessionExtendRequest(i, n);\n          case \"wc_sessionPing\":\n            return await this.onSessionPingRequest(i, n);\n          case \"wc_sessionDelete\":\n            return await this.onSessionDeleteRequest(i, n);\n          case \"wc_sessionRequest\":\n            return await this.onSessionRequest({ topic: i, payload: n, attestation: s, encryptedId: f, transportType: o });\n          case \"wc_sessionEvent\":\n            return await this.onSessionEventRequest(i, n);\n          case \"wc_sessionAuthenticate\":\n            return await this.onSessionAuthenticateRequest({ topic: i, payload: n, attestation: s, encryptedId: f, transportType: o });\n          default:\n            return this.client.logger.info(`Unsupported request method ${h}`);\n        }\n    }, this.onRelayEventResponse = async (t) => {\n      const { topic: i, payload: n, transportType: s } = t, o = (await this.client.core.history.get(i, n.id)).request.method;\n      switch (o) {\n        case \"wc_sessionPropose\":\n          return this.onSessionProposeResponse(i, n, s);\n        case \"wc_sessionSettle\":\n          return this.onSessionSettleResponse(i, n);\n        case \"wc_sessionUpdate\":\n          return this.onSessionUpdateResponse(i, n);\n        case \"wc_sessionExtend\":\n          return this.onSessionExtendResponse(i, n);\n        case \"wc_sessionPing\":\n          return this.onSessionPingResponse(i, n);\n        case \"wc_sessionRequest\":\n          return this.onSessionRequestResponse(i, n);\n        case \"wc_sessionAuthenticate\":\n          return this.onSessionAuthenticateResponse(i, n);\n        default:\n          return this.client.logger.info(`Unsupported response method ${o}`);\n      }\n    }, this.onRelayEventUnknownPayload = (t) => {\n      const { topic: i } = t, { message: n } = ae(\"MISSING_OR_INVALID\", `Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`);\n      throw new Error(n);\n    }, this.shouldIgnorePairingRequest = (t) => {\n      const { topic: i, requestMethod: n } = t, s = this.expectedPairingMethodMap.get(i);\n      return !s || s.includes(n) ? !1 : !!(s.includes(\"wc_sessionAuthenticate\") && this.client.events.listenerCount(\"session_authenticate\") > 0);\n    }, this.onSessionProposeRequest = async (t) => {\n      const { topic: i, payload: n, attestation: s, encryptedId: o } = t, { params: f, id: h } = n;\n      try {\n        const d = this.client.core.eventClient.getEvent({ topic: i });\n        this.client.events.listenerCount(\"session_proposal\") === 0 && (console.warn(\"No listener for session_proposal event\"), d?.setError(ai.proposal_listener_not_found)), this.isValidConnect(lt({}, n.params));\n        const v = f.expiryTimestamp || mt(_t.wc_sessionPropose.req.ttl), w = lt({ id: h, pairingTopic: i, expiryTimestamp: v }, f);\n        await this.setProposal(h, w);\n        const A = await this.getVerifyContext({ attestationId: s, hash: fi(JSON.stringify(n)), encryptedId: o, metadata: w.proposer.metadata });\n        d?.addTrace(Or.emit_session_proposal), this.client.events.emit(\"session_proposal\", { id: h, params: w, verifyContext: A });\n      } catch (d) {\n        await this.sendError({ id: h, topic: i, error: d, rpcOpts: _t.wc_sessionPropose.autoReject }), this.client.logger.error(d);\n      }\n    }, this.onSessionProposeResponse = async (t, i, n) => {\n      const { id: s } = i;\n      if (Rr(i)) {\n        const { result: o } = i;\n        this.client.logger.trace({ type: \"method\", method: \"onSessionProposeResponse\", result: o });\n        const f = this.client.proposal.get(s);\n        this.client.logger.trace({ type: \"method\", method: \"onSessionProposeResponse\", proposal: f });\n        const h = f.proposer.publicKey;\n        this.client.logger.trace({ type: \"method\", method: \"onSessionProposeResponse\", selfPublicKey: h });\n        const d = o.responderPublicKey;\n        this.client.logger.trace({ type: \"method\", method: \"onSessionProposeResponse\", peerPublicKey: d });\n        const v = await this.client.core.crypto.generateSharedKey(h, d);\n        this.client.logger.trace({ type: \"method\", method: \"onSessionProposeResponse\", sessionTopic: v });\n        const w = await this.client.core.relayer.subscribe(v, { transportType: n });\n        this.client.logger.trace({ type: \"method\", method: \"onSessionProposeResponse\", subscriptionId: w }), await this.client.core.pairing.activate({ topic: t });\n      } else if (dr(i)) {\n        await this.client.proposal.delete(s, st(\"USER_DISCONNECTED\"));\n        const o = Xe(\"session_connect\");\n        if (this.events.listenerCount(o) === 0)\n          throw new Error(`emitting ${o} without any listeners, 954`);\n        this.events.emit(Xe(\"session_connect\"), { error: i.error });\n      }\n    }, this.onSessionSettleRequest = async (t, i) => {\n      const { id: n, params: s } = i;\n      try {\n        this.isValidSessionSettleRequest(s);\n        const { relay: o, controller: f, expiry: h, namespaces: d, sessionProperties: v, sessionConfig: w } = i.params, A = Er(lt(lt({ topic: t, relay: o, expiry: h, namespaces: d, acknowledged: !0, pairingTopic: \"\", requiredNamespaces: {}, optionalNamespaces: {}, controller: f.publicKey, self: { publicKey: \"\", metadata: this.client.metadata }, peer: { publicKey: f.publicKey, metadata: f.metadata } }, v && { sessionProperties: v }), w && { sessionConfig: w }), { transportType: at.relay }), I = Xe(\"session_connect\");\n        if (this.events.listenerCount(I) === 0)\n          throw new Error(`emitting ${I} without any listeners 997`);\n        this.events.emit(Xe(\"session_connect\"), { session: A }), await this.sendResult({ id: i.id, topic: t, result: !0, throwOnFailedPublish: !0 });\n      } catch (o) {\n        await this.sendError({ id: n, topic: t, error: o }), this.client.logger.error(o);\n      }\n    }, this.onSessionSettleResponse = async (t, i) => {\n      const { id: n } = i;\n      Rr(i) ? (await this.client.session.update(t, { acknowledged: !0 }), this.events.emit(Xe(\"session_approve\", n), {})) : dr(i) && (await this.client.session.delete(t, st(\"USER_DISCONNECTED\")), this.events.emit(Xe(\"session_approve\", n), { error: i.error }));\n    }, this.onSessionUpdateRequest = async (t, i) => {\n      const { params: n, id: s } = i;\n      try {\n        const o = `${t}_session_update`, f = Fn.get(o);\n        if (f && this.isRequestOutOfSync(f, s)) {\n          this.client.logger.warn(`Discarding out of sync request - ${s}`), this.sendError({ id: s, topic: t, error: st(\"INVALID_UPDATE_REQUEST\") });\n          return;\n        }\n        this.isValidUpdate(lt({ topic: t }, n));\n        try {\n          Fn.set(o, s), await this.client.session.update(t, { namespaces: n.namespaces }), await this.sendResult({ id: s, topic: t, result: !0, throwOnFailedPublish: !0 });\n        } catch (h) {\n          throw Fn.delete(o), h;\n        }\n        this.client.events.emit(\"session_update\", { id: s, topic: t, params: n });\n      } catch (o) {\n        await this.sendError({ id: s, topic: t, error: o }), this.client.logger.error(o);\n      }\n    }, this.isRequestOutOfSync = (t, i) => i.toString().slice(0, -3) < t.toString().slice(0, -3), this.onSessionUpdateResponse = (t, i) => {\n      const { id: n } = i, s = Xe(\"session_update\", n);\n      if (this.events.listenerCount(s) === 0)\n        throw new Error(`emitting ${s} without any listeners`);\n      Rr(i) ? this.events.emit(Xe(\"session_update\", n), {}) : dr(i) && this.events.emit(Xe(\"session_update\", n), { error: i.error });\n    }, this.onSessionExtendRequest = async (t, i) => {\n      const { id: n } = i;\n      try {\n        this.isValidExtend({ topic: t }), await this.setExpiry(t, mt(sn)), await this.sendResult({ id: n, topic: t, result: !0, throwOnFailedPublish: !0 }), this.client.events.emit(\"session_extend\", { id: n, topic: t });\n      } catch (s) {\n        await this.sendError({ id: n, topic: t, error: s }), this.client.logger.error(s);\n      }\n    }, this.onSessionExtendResponse = (t, i) => {\n      const { id: n } = i, s = Xe(\"session_extend\", n);\n      if (this.events.listenerCount(s) === 0)\n        throw new Error(`emitting ${s} without any listeners`);\n      Rr(i) ? this.events.emit(Xe(\"session_extend\", n), {}) : dr(i) && this.events.emit(Xe(\"session_extend\", n), { error: i.error });\n    }, this.onSessionPingRequest = async (t, i) => {\n      const { id: n } = i;\n      try {\n        this.isValidPing({ topic: t }), await this.sendResult({ id: n, topic: t, result: !0, throwOnFailedPublish: !0 }), this.client.events.emit(\"session_ping\", { id: n, topic: t });\n      } catch (s) {\n        await this.sendError({ id: n, topic: t, error: s }), this.client.logger.error(s);\n      }\n    }, this.onSessionPingResponse = (t, i) => {\n      const { id: n } = i, s = Xe(\"session_ping\", n);\n      if (this.events.listenerCount(s) === 0)\n        throw new Error(`emitting ${s} without any listeners`);\n      setTimeout(() => {\n        Rr(i) ? this.events.emit(Xe(\"session_ping\", n), {}) : dr(i) && this.events.emit(Xe(\"session_ping\", n), { error: i.error });\n      }, 500);\n    }, this.onSessionDeleteRequest = async (t, i) => {\n      const { id: n } = i;\n      try {\n        this.isValidDisconnect({ topic: t, reason: i.params }), Promise.all([new Promise((s) => {\n          this.client.core.relayer.once(Et.publish, async () => {\n            s(await this.deleteSession({ topic: t, id: n }));\n          });\n        }), this.sendResult({ id: n, topic: t, result: !0, throwOnFailedPublish: !0 }), this.cleanupPendingSentRequestsForTopic({ topic: t, error: st(\"USER_DISCONNECTED\") })]).catch((s) => this.client.logger.error(s));\n      } catch (s) {\n        this.client.logger.error(s);\n      }\n    }, this.onSessionRequest = async (t) => {\n      var i, n, s;\n      const { topic: o, payload: f, attestation: h, encryptedId: d, transportType: v } = t, { id: w, params: A } = f;\n      try {\n        await this.isValidRequest(lt({ topic: o }, A));\n        const I = this.client.session.get(o), D = await this.getVerifyContext({ attestationId: h, hash: fi(JSON.stringify(Bi(\"wc_sessionRequest\", A, w))), encryptedId: d, metadata: I.peer.metadata, transportType: v }), N = { id: w, topic: o, params: A, verifyContext: D };\n        await this.setPendingSessionRequest(N), v === at.link_mode && (i = I.peer.metadata.redirect) != null && i.universal && this.client.core.addLinkModeSupportedApp((n = I.peer.metadata.redirect) == null ? void 0 : n.universal), (s = this.client.signConfig) != null && s.disableRequestQueue ? this.emitSessionRequest(N) : (this.addSessionRequestToSessionRequestQueue(N), this.processSessionRequestQueue());\n      } catch (I) {\n        await this.sendError({ id: w, topic: o, error: I }), this.client.logger.error(I);\n      }\n    }, this.onSessionRequestResponse = (t, i) => {\n      const { id: n } = i, s = Xe(\"session_request\", n);\n      if (this.events.listenerCount(s) === 0)\n        throw new Error(`emitting ${s} without any listeners`);\n      Rr(i) ? this.events.emit(Xe(\"session_request\", n), { result: i.result }) : dr(i) && this.events.emit(Xe(\"session_request\", n), { error: i.error });\n    }, this.onSessionEventRequest = async (t, i) => {\n      const { id: n, params: s } = i;\n      try {\n        const o = `${t}_session_event_${s.event.name}`, f = Fn.get(o);\n        if (f && this.isRequestOutOfSync(f, n)) {\n          this.client.logger.info(`Discarding out of sync request - ${n}`);\n          return;\n        }\n        this.isValidEmit(lt({ topic: t }, s)), this.client.events.emit(\"session_event\", { id: n, topic: t, params: s }), Fn.set(o, n);\n      } catch (o) {\n        await this.sendError({ id: n, topic: t, error: o }), this.client.logger.error(o);\n      }\n    }, this.onSessionAuthenticateResponse = (t, i) => {\n      const { id: n } = i;\n      this.client.logger.trace({ type: \"method\", method: \"onSessionAuthenticateResponse\", topic: t, payload: i }), Rr(i) ? this.events.emit(Xe(\"session_request\", n), { result: i.result }) : dr(i) && this.events.emit(Xe(\"session_request\", n), { error: i.error });\n    }, this.onSessionAuthenticateRequest = async (t) => {\n      var i;\n      const { topic: n, payload: s, attestation: o, encryptedId: f, transportType: h } = t;\n      try {\n        const { requester: d, authPayload: v, expiryTimestamp: w } = s.params, A = await this.getVerifyContext({ attestationId: o, hash: fi(JSON.stringify(s)), encryptedId: f, metadata: d.metadata, transportType: h }), I = { requester: d, pairingTopic: n, id: s.id, authPayload: v, verifyContext: A, expiryTimestamp: w };\n        await this.setAuthRequest(s.id, { request: I, pairingTopic: n, transportType: h }), h === at.link_mode && (i = d.metadata.redirect) != null && i.universal && this.client.core.addLinkModeSupportedApp(d.metadata.redirect.universal), this.client.events.emit(\"session_authenticate\", { topic: n, params: s.params, id: s.id, verifyContext: A });\n      } catch (d) {\n        this.client.logger.error(d);\n        const v = s.params.requester.publicKey, w = await this.client.core.crypto.generateKeyPair(), A = this.getAppLinkIfEnabled(s.params.requester.metadata, h), I = { type: hi, receiverPublicKey: v, senderPublicKey: w };\n        await this.sendError({ id: s.id, topic: n, error: d, encodeOpts: I, rpcOpts: _t.wc_sessionAuthenticate.autoReject, appLink: A });\n      }\n    }, this.addSessionRequestToSessionRequestQueue = (t) => {\n      this.sessionRequestQueue.queue.push(t);\n    }, this.cleanupAfterResponse = (t) => {\n      this.deletePendingSessionRequest(t.response.id, { message: \"fulfilled\", code: 0 }), setTimeout(() => {\n        this.sessionRequestQueue.state = Pr.idle, this.processSessionRequestQueue();\n      }, ie.toMiliseconds(this.requestQueueDelay));\n    }, this.cleanupPendingSentRequestsForTopic = ({ topic: t, error: i }) => {\n      const n = this.client.core.history.pending;\n      n.length > 0 && n.filter((s) => s.topic === t && s.request.method === \"wc_sessionRequest\").forEach((s) => {\n        const o = s.request.id, f = Xe(\"session_request\", o);\n        if (this.events.listenerCount(f) === 0)\n          throw new Error(`emitting ${f} without any listeners`);\n        this.events.emit(Xe(\"session_request\", s.request.id), { error: i });\n      });\n    }, this.processSessionRequestQueue = () => {\n      if (this.sessionRequestQueue.state === Pr.active) {\n        this.client.logger.info(\"session request queue is already active.\");\n        return;\n      }\n      const t = this.sessionRequestQueue.queue[0];\n      if (!t) {\n        this.client.logger.info(\"session request queue is empty.\");\n        return;\n      }\n      try {\n        this.sessionRequestQueue.state = Pr.active, this.emitSessionRequest(t);\n      } catch (i) {\n        this.client.logger.error(i);\n      }\n    }, this.emitSessionRequest = (t) => {\n      this.client.events.emit(\"session_request\", t);\n    }, this.onPairingCreated = (t) => {\n      if (t.methods && this.expectedPairingMethodMap.set(t.topic, t.methods), t.active)\n        return;\n      const i = this.client.proposal.getAll().find((n) => n.pairingTopic === t.topic);\n      i && this.onSessionProposeRequest({ topic: t.topic, payload: Bi(\"wc_sessionPropose\", { requiredNamespaces: i.requiredNamespaces, optionalNamespaces: i.optionalNamespaces, relays: i.relays, proposer: i.proposer, sessionProperties: i.sessionProperties }, i.id) });\n    }, this.isValidConnect = async (t) => {\n      if (!Gt(t)) {\n        const { message: h } = ae(\"MISSING_OR_INVALID\", `connect() params: ${JSON.stringify(t)}`);\n        throw new Error(h);\n      }\n      const { pairingTopic: i, requiredNamespaces: n, optionalNamespaces: s, sessionProperties: o, relays: f } = t;\n      if (zt(i) || await this.isValidPairingTopic(i), !xm(f, !0)) {\n        const { message: h } = ae(\"MISSING_OR_INVALID\", `connect() relays: ${f}`);\n        throw new Error(h);\n      }\n      !zt(n) && Xs(n) !== 0 && this.validateNamespaces(n, \"requiredNamespaces\"), !zt(s) && Xs(s) !== 0 && this.validateNamespaces(s, \"optionalNamespaces\"), zt(o) || this.validateSessionProps(o, \"sessionProperties\");\n    }, this.validateNamespaces = (t, i) => {\n      const n = _m(t, \"connect()\", i);\n      if (n)\n        throw new Error(n.message);\n    }, this.isValidApprove = async (t) => {\n      if (!Gt(t))\n        throw new Error(ae(\"MISSING_OR_INVALID\", `approve() params: ${t}`).message);\n      const { id: i, namespaces: n, relayProtocol: s, sessionProperties: o } = t;\n      this.checkRecentlyDeleted(i), await this.isValidProposalId(i);\n      const f = this.client.proposal.get(i), h = eo(n, \"approve()\");\n      if (h)\n        throw new Error(h.message);\n      const d = Hc(f.requiredNamespaces, n, \"approve()\");\n      if (d)\n        throw new Error(d.message);\n      if (!bt(s, !0)) {\n        const { message: v } = ae(\"MISSING_OR_INVALID\", `approve() relayProtocol: ${s}`);\n        throw new Error(v);\n      }\n      zt(o) || this.validateSessionProps(o, \"sessionProperties\");\n    }, this.isValidReject = async (t) => {\n      if (!Gt(t)) {\n        const { message: s } = ae(\"MISSING_OR_INVALID\", `reject() params: ${t}`);\n        throw new Error(s);\n      }\n      const { id: i, reason: n } = t;\n      if (this.checkRecentlyDeleted(i), await this.isValidProposalId(i), !Sm(n)) {\n        const { message: s } = ae(\"MISSING_OR_INVALID\", `reject() reason: ${JSON.stringify(n)}`);\n        throw new Error(s);\n      }\n    }, this.isValidSessionSettleRequest = (t) => {\n      if (!Gt(t)) {\n        const { message: d } = ae(\"MISSING_OR_INVALID\", `onSessionSettleRequest() params: ${t}`);\n        throw new Error(d);\n      }\n      const { relay: i, controller: n, namespaces: s, expiry: o } = t;\n      if (!bd(i)) {\n        const { message: d } = ae(\"MISSING_OR_INVALID\", \"onSessionSettleRequest() relay protocol should be a string\");\n        throw new Error(d);\n      }\n      const f = vm(n, \"onSessionSettleRequest()\");\n      if (f)\n        throw new Error(f.message);\n      const h = eo(s, \"onSessionSettleRequest()\");\n      if (h)\n        throw new Error(h.message);\n      if (gi(o)) {\n        const { message: d } = ae(\"EXPIRED\", \"onSessionSettleRequest()\");\n        throw new Error(d);\n      }\n    }, this.isValidUpdate = async (t) => {\n      if (!Gt(t)) {\n        const { message: h } = ae(\"MISSING_OR_INVALID\", `update() params: ${t}`);\n        throw new Error(h);\n      }\n      const { topic: i, namespaces: n } = t;\n      this.checkRecentlyDeleted(i), await this.isValidSessionTopic(i);\n      const s = this.client.session.get(i), o = eo(n, \"update()\");\n      if (o)\n        throw new Error(o.message);\n      const f = Hc(s.requiredNamespaces, n, \"update()\");\n      if (f)\n        throw new Error(f.message);\n    }, this.isValidExtend = async (t) => {\n      if (!Gt(t)) {\n        const { message: n } = ae(\"MISSING_OR_INVALID\", `extend() params: ${t}`);\n        throw new Error(n);\n      }\n      const { topic: i } = t;\n      this.checkRecentlyDeleted(i), await this.isValidSessionTopic(i);\n    }, this.isValidRequest = async (t) => {\n      if (!Gt(t)) {\n        const { message: h } = ae(\"MISSING_OR_INVALID\", `request() params: ${t}`);\n        throw new Error(h);\n      }\n      const { topic: i, request: n, chainId: s, expiry: o } = t;\n      this.checkRecentlyDeleted(i), await this.isValidSessionTopic(i);\n      const { namespaces: f } = this.client.session.get(i);\n      if (!Kc(f, s)) {\n        const { message: h } = ae(\"MISSING_OR_INVALID\", `request() chainId: ${s}`);\n        throw new Error(h);\n      }\n      if (!Mm(n)) {\n        const { message: h } = ae(\"MISSING_OR_INVALID\", `request() ${JSON.stringify(n)}`);\n        throw new Error(h);\n      }\n      if (!Dm(f, s, n.method)) {\n        const { message: h } = ae(\"MISSING_OR_INVALID\", `request() method: ${n.method}`);\n        throw new Error(h);\n      }\n      if (o && !Nm(o, so)) {\n        const { message: h } = ae(\"MISSING_OR_INVALID\", `request() expiry: ${o}. Expiry must be a number (in seconds) between ${so.min} and ${so.max}`);\n        throw new Error(h);\n      }\n    }, this.isValidRespond = async (t) => {\n      var i;\n      if (!Gt(t)) {\n        const { message: o } = ae(\"MISSING_OR_INVALID\", `respond() params: ${t}`);\n        throw new Error(o);\n      }\n      const { topic: n, response: s } = t;\n      try {\n        await this.isValidSessionTopic(n);\n      } catch (o) {\n        throw (i = t?.response) != null && i.id && this.cleanupAfterResponse(t), o;\n      }\n      if (!Im(s)) {\n        const { message: o } = ae(\"MISSING_OR_INVALID\", `respond() response: ${JSON.stringify(s)}`);\n        throw new Error(o);\n      }\n    }, this.isValidPing = async (t) => {\n      if (!Gt(t)) {\n        const { message: n } = ae(\"MISSING_OR_INVALID\", `ping() params: ${t}`);\n        throw new Error(n);\n      }\n      const { topic: i } = t;\n      await this.isValidSessionOrPairingTopic(i);\n    }, this.isValidEmit = async (t) => {\n      if (!Gt(t)) {\n        const { message: f } = ae(\"MISSING_OR_INVALID\", `emit() params: ${t}`);\n        throw new Error(f);\n      }\n      const { topic: i, event: n, chainId: s } = t;\n      await this.isValidSessionTopic(i);\n      const { namespaces: o } = this.client.session.get(i);\n      if (!Kc(o, s)) {\n        const { message: f } = ae(\"MISSING_OR_INVALID\", `emit() chainId: ${s}`);\n        throw new Error(f);\n      }\n      if (!Am(n)) {\n        const { message: f } = ae(\"MISSING_OR_INVALID\", `emit() event: ${JSON.stringify(n)}`);\n        throw new Error(f);\n      }\n      if (!Pm(o, s, n.name)) {\n        const { message: f } = ae(\"MISSING_OR_INVALID\", `emit() event: ${JSON.stringify(n)}`);\n        throw new Error(f);\n      }\n    }, this.isValidDisconnect = async (t) => {\n      if (!Gt(t)) {\n        const { message: n } = ae(\"MISSING_OR_INVALID\", `disconnect() params: ${t}`);\n        throw new Error(n);\n      }\n      const { topic: i } = t;\n      await this.isValidSessionOrPairingTopic(i);\n    }, this.isValidAuthenticate = (t) => {\n      const { chains: i, uri: n, domain: s, nonce: o } = t;\n      if (!Array.isArray(i) || i.length === 0)\n        throw new Error(\"chains is required and must be a non-empty array\");\n      if (!bt(n, !1))\n        throw new Error(\"uri is required parameter\");\n      if (!bt(s, !1))\n        throw new Error(\"domain is required parameter\");\n      if (!bt(o, !1))\n        throw new Error(\"nonce is required parameter\");\n      if ([...new Set(i.map((h) => Ns(h).namespace))].length > 1)\n        throw new Error(\"Multi-namespace requests are not supported. Please request single namespace only.\");\n      const { namespace: f } = Ns(i[0]);\n      if (f !== \"eip155\")\n        throw new Error(\"Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.\");\n    }, this.getVerifyContext = async (t) => {\n      const { attestationId: i, hash: n, encryptedId: s, metadata: o, transportType: f } = t, h = { verified: { verifyUrl: o.verifyUrl || Vn, validation: \"UNKNOWN\", origin: o.url || \"\" } };\n      try {\n        if (f === at.link_mode) {\n          const v = this.getAppLinkIfEnabled(o, f);\n          return h.verified.validation = v && new URL(v).origin === new URL(o.url).origin ? \"VALID\" : \"INVALID\", h;\n        }\n        const d = await this.client.core.verify.resolve({ attestationId: i, hash: n, encryptedId: s, verifyUrl: o.verifyUrl });\n        d && (h.verified.origin = d.origin, h.verified.isScam = d.isScam, h.verified.validation = d.origin === new URL(o.url).origin ? \"VALID\" : \"INVALID\");\n      } catch (d) {\n        this.client.logger.warn(d);\n      }\n      return this.client.logger.debug(`Verify context: ${JSON.stringify(h)}`), h;\n    }, this.validateSessionProps = (t, i) => {\n      Object.values(t).forEach((n) => {\n        if (!bt(n, !1)) {\n          const { message: s } = ae(\"MISSING_OR_INVALID\", `${i} must be in Record<string, string> format. Received: ${JSON.stringify(n)}`);\n          throw new Error(s);\n        }\n      });\n    }, this.getPendingAuthRequest = (t) => {\n      const i = this.client.auth.requests.get(t);\n      return typeof i == \"object\" ? i : void 0;\n    }, this.addToRecentlyDeleted = (t, i) => {\n      if (this.recentlyDeletedMap.set(t, i), this.recentlyDeletedMap.size >= this.recentlyDeletedLimit) {\n        let n = 0;\n        const s = this.recentlyDeletedLimit / 2;\n        for (const o of this.recentlyDeletedMap.keys()) {\n          if (n++ >= s)\n            break;\n          this.recentlyDeletedMap.delete(o);\n        }\n      }\n    }, this.checkRecentlyDeleted = (t) => {\n      const i = this.recentlyDeletedMap.get(t);\n      if (i) {\n        const { message: n } = ae(\"MISSING_OR_INVALID\", `Record was recently deleted - ${i}: ${t}`);\n        throw new Error(n);\n      }\n    }, this.isLinkModeEnabled = (t, i) => {\n      var n, s, o, f, h, d, v, w, A;\n      return !t || i !== at.link_mode ? !1 : ((s = (n = this.client.metadata) == null ? void 0 : n.redirect) == null ? void 0 : s.linkMode) === !0 && ((f = (o = this.client.metadata) == null ? void 0 : o.redirect) == null ? void 0 : f.universal) !== void 0 && ((d = (h = this.client.metadata) == null ? void 0 : h.redirect) == null ? void 0 : d.universal) !== \"\" && ((v = t?.redirect) == null ? void 0 : v.universal) !== void 0 && ((w = t?.redirect) == null ? void 0 : w.universal) !== \"\" && ((A = t?.redirect) == null ? void 0 : A.linkMode) === !0 && this.client.core.linkModeSupportedApps.includes(t.redirect.universal) && typeof (global == null ? void 0 : global.Linking) < \"u\";\n    }, this.getAppLinkIfEnabled = (t, i) => {\n      var n;\n      return this.isLinkModeEnabled(t, i) ? (n = t?.redirect) == null ? void 0 : n.universal : void 0;\n    }, this.handleLinkModeMessage = ({ url: t }) => {\n      if (!t || !t.includes(\"wc_ev\") || !t.includes(\"topic\"))\n        return;\n      const i = Ac(t, \"topic\") || \"\", n = decodeURIComponent(Ac(t, \"wc_ev\") || \"\"), s = this.client.session.keys.includes(i);\n      s && this.client.session.update(i, { transportType: at.link_mode }), this.client.core.dispatchEnvelope({ topic: i, message: n, sessionExists: s });\n    }, this.registerLinkModeListeners = async () => {\n      var t;\n      if (rf() || Ai() && (t = this.client.metadata.redirect) != null && t.linkMode) {\n        const i = global == null ? void 0 : global.Linking;\n        if (typeof i < \"u\") {\n          i.addEventListener(\"url\", this.handleLinkModeMessage, this.client.name);\n          const n = await i.getInitialURL();\n          n && setTimeout(() => {\n            this.handleLinkModeMessage({ url: n });\n          }, 50);\n        }\n      }\n    };\n  }\n  isInitialized() {\n    if (!this.initialized) {\n      const { message: e } = ae(\"NOT_INITIALIZED\", this.name);\n      throw new Error(e);\n    }\n  }\n  async confirmOnlineStateOrThrow() {\n    await this.client.core.relayer.confirmOnlineStateOrThrow();\n  }\n  registerRelayerEvents() {\n    this.client.core.relayer.on(Et.message, (e) => {\n      !this.initialized || this.relayMessageCache.length > 0 ? this.relayMessageCache.push(e) : this.onRelayMessage(e);\n    });\n  }\n  async onRelayMessage(e) {\n    const { topic: t, message: i, attestation: n, transportType: s } = e, { publicKey: o } = this.client.auth.authKeys.keys.includes($s) ? this.client.auth.authKeys.get($s) : { responseTopic: void 0, publicKey: void 0 }, f = await this.client.core.crypto.decode(t, i, { receiverPublicKey: o, encoding: s === at.link_mode ? Ln : wi });\n    try {\n      ff(f) ? (this.client.core.history.set(t, f), this.onRelayEventRequest({ topic: t, payload: f, attestation: n, transportType: s, encryptedId: fi(i) })) : Aa(f) ? (await this.client.core.history.resolve(f), await this.onRelayEventResponse({ topic: t, payload: f, transportType: s }), this.client.core.history.delete(t, f.id)) : this.onRelayEventUnknownPayload({ topic: t, payload: f, transportType: s });\n    } catch (h) {\n      this.client.logger.error(h);\n    }\n  }\n  registerExpirerEvents() {\n    this.client.core.expirer.on(ur.expired, async (e) => {\n      const { topic: t, id: i } = ad(e.target);\n      if (i && this.client.pendingRequest.keys.includes(i))\n        return await this.deletePendingSessionRequest(i, ae(\"EXPIRED\"), !0);\n      if (i && this.client.auth.requests.keys.includes(i))\n        return await this.deletePendingAuthRequest(i, ae(\"EXPIRED\"), !0);\n      t ? this.client.session.keys.includes(t) && (await this.deleteSession({ topic: t, expirerHasDeleted: !0 }), this.client.events.emit(\"session_expire\", { topic: t })) : i && (await this.deleteProposal(i, !0), this.client.events.emit(\"proposal_expire\", { id: i }));\n    });\n  }\n  registerPairingEvents() {\n    this.client.core.pairing.events.on(qi.create, (e) => this.onPairingCreated(e)), this.client.core.pairing.events.on(qi.delete, (e) => {\n      this.addToRecentlyDeleted(e.topic, \"pairing\");\n    });\n  }\n  isValidPairingTopic(e) {\n    if (!bt(e, !1)) {\n      const { message: t } = ae(\"MISSING_OR_INVALID\", `pairing topic should be a string: ${e}`);\n      throw new Error(t);\n    }\n    if (!this.client.core.pairing.pairings.keys.includes(e)) {\n      const { message: t } = ae(\"NO_MATCHING_KEY\", `pairing topic doesn't exist: ${e}`);\n      throw new Error(t);\n    }\n    if (gi(this.client.core.pairing.pairings.get(e).expiry)) {\n      const { message: t } = ae(\"EXPIRED\", `pairing topic: ${e}`);\n      throw new Error(t);\n    }\n  }\n  async isValidSessionTopic(e) {\n    if (!bt(e, !1)) {\n      const { message: t } = ae(\"MISSING_OR_INVALID\", `session topic should be a string: ${e}`);\n      throw new Error(t);\n    }\n    if (this.checkRecentlyDeleted(e), !this.client.session.keys.includes(e)) {\n      const { message: t } = ae(\"NO_MATCHING_KEY\", `session topic doesn't exist: ${e}`);\n      throw new Error(t);\n    }\n    if (gi(this.client.session.get(e).expiry)) {\n      await this.deleteSession({ topic: e });\n      const { message: t } = ae(\"EXPIRED\", `session topic: ${e}`);\n      throw new Error(t);\n    }\n    if (!this.client.core.crypto.keychain.has(e)) {\n      const { message: t } = ae(\"MISSING_OR_INVALID\", `session topic does not exist in keychain: ${e}`);\n      throw await this.deleteSession({ topic: e }), new Error(t);\n    }\n  }\n  async isValidSessionOrPairingTopic(e) {\n    if (this.checkRecentlyDeleted(e), this.client.session.keys.includes(e))\n      await this.isValidSessionTopic(e);\n    else if (this.client.core.pairing.pairings.keys.includes(e))\n      this.isValidPairingTopic(e);\n    else if (bt(e, !1)) {\n      const { message: t } = ae(\"NO_MATCHING_KEY\", `session or pairing topic doesn't exist: ${e}`);\n      throw new Error(t);\n    } else {\n      const { message: t } = ae(\"MISSING_OR_INVALID\", `session or pairing topic should be a string: ${e}`);\n      throw new Error(t);\n    }\n  }\n  async isValidProposalId(e) {\n    if (!Em(e)) {\n      const { message: t } = ae(\"MISSING_OR_INVALID\", `proposal id should be a number: ${e}`);\n      throw new Error(t);\n    }\n    if (!this.client.proposal.keys.includes(e)) {\n      const { message: t } = ae(\"NO_MATCHING_KEY\", `proposal id doesn't exist: ${e}`);\n      throw new Error(t);\n    }\n    if (gi(this.client.proposal.get(e).expiryTimestamp)) {\n      await this.deleteProposal(e);\n      const { message: t } = ae(\"EXPIRED\", `proposal id: ${e}`);\n      throw new Error(t);\n    }\n  }\n}\nclass l5 extends Qi {\n  constructor(e, t) {\n    super(e, t, Yw, cf), this.core = e, this.logger = t;\n  }\n}\nclass p5 extends Qi {\n  constructor(e, t) {\n    super(e, t, Zw, cf), this.core = e, this.logger = t;\n  }\n}\nclass v5 extends Qi {\n  constructor(e, t) {\n    super(e, t, e5, cf, (i) => i.id), this.core = e, this.logger = t;\n  }\n}\nclass b5 extends Qi {\n  constructor(e, t) {\n    super(e, t, n5, Pa, () => $s), this.core = e, this.logger = t;\n  }\n}\nclass g5 extends Qi {\n  constructor(e, t) {\n    super(e, t, s5, Pa), this.core = e, this.logger = t;\n  }\n}\nclass y5 extends Qi {\n  constructor(e, t) {\n    super(e, t, a5, Pa, (i) => i.id), this.core = e, this.logger = t;\n  }\n}\nclass m5 {\n  constructor(e, t) {\n    this.core = e, this.logger = t, this.authKeys = new b5(this.core, this.logger), this.pairingTopics = new g5(this.core, this.logger), this.requests = new y5(this.core, this.logger);\n  }\n  async init() {\n    await this.authKeys.init(), await this.pairingTopics.init(), await this.requests.init();\n  }\n}\nclass Oa extends pp {\n  constructor(e) {\n    super(e), this.protocol = Ud, this.version = zd, this.name = no.name, this.events = new ir.EventEmitter(), this.on = (i, n) => this.events.on(i, n), this.once = (i, n) => this.events.once(i, n), this.off = (i, n) => this.events.off(i, n), this.removeListener = (i, n) => this.events.removeListener(i, n), this.removeAllListeners = (i) => this.events.removeAllListeners(i), this.connect = async (i) => {\n      try {\n        return await this.engine.connect(i);\n      } catch (n) {\n        throw this.logger.error(n.message), n;\n      }\n    }, this.pair = async (i) => {\n      try {\n        return await this.engine.pair(i);\n      } catch (n) {\n        throw this.logger.error(n.message), n;\n      }\n    }, this.approve = async (i) => {\n      try {\n        return await this.engine.approve(i);\n      } catch (n) {\n        throw this.logger.error(n.message), n;\n      }\n    }, this.reject = async (i) => {\n      try {\n        return await this.engine.reject(i);\n      } catch (n) {\n        throw this.logger.error(n.message), n;\n      }\n    }, this.update = async (i) => {\n      try {\n        return await this.engine.update(i);\n      } catch (n) {\n        throw this.logger.error(n.message), n;\n      }\n    }, this.extend = async (i) => {\n      try {\n        return await this.engine.extend(i);\n      } catch (n) {\n        throw this.logger.error(n.message), n;\n      }\n    }, this.request = async (i) => {\n      try {\n        return await this.engine.request(i);\n      } catch (n) {\n        throw this.logger.error(n.message), n;\n      }\n    }, this.respond = async (i) => {\n      try {\n        return await this.engine.respond(i);\n      } catch (n) {\n        throw this.logger.error(n.message), n;\n      }\n    }, this.ping = async (i) => {\n      try {\n        return await this.engine.ping(i);\n      } catch (n) {\n        throw this.logger.error(n.message), n;\n      }\n    }, this.emit = async (i) => {\n      try {\n        return await this.engine.emit(i);\n      } catch (n) {\n        throw this.logger.error(n.message), n;\n      }\n    }, this.disconnect = async (i) => {\n      try {\n        return await this.engine.disconnect(i);\n      } catch (n) {\n        throw this.logger.error(n.message), n;\n      }\n    }, this.find = (i) => {\n      try {\n        return this.engine.find(i);\n      } catch (n) {\n        throw this.logger.error(n.message), n;\n      }\n    }, this.getPendingSessionRequests = () => {\n      try {\n        return this.engine.getPendingSessionRequests();\n      } catch (i) {\n        throw this.logger.error(i.message), i;\n      }\n    }, this.authenticate = async (i, n) => {\n      try {\n        return await this.engine.authenticate(i, n);\n      } catch (s) {\n        throw this.logger.error(s.message), s;\n      }\n    }, this.formatAuthMessage = (i) => {\n      try {\n        return this.engine.formatAuthMessage(i);\n      } catch (n) {\n        throw this.logger.error(n.message), n;\n      }\n    }, this.approveSessionAuthenticate = async (i) => {\n      try {\n        return await this.engine.approveSessionAuthenticate(i);\n      } catch (n) {\n        throw this.logger.error(n.message), n;\n      }\n    }, this.rejectSessionAuthenticate = async (i) => {\n      try {\n        return await this.engine.rejectSessionAuthenticate(i);\n      } catch (n) {\n        throw this.logger.error(n.message), n;\n      }\n    }, this.name = e?.name || no.name, this.metadata = e?.metadata || td(), this.signConfig = e?.signConfig;\n    const t = typeof e?.logger < \"u\" && typeof e?.logger != \"string\" ? e.logger : na(To({ level: e?.logger || no.logger }));\n    this.core = e?.core || new Jw(e), this.logger = kt(t, this.name), this.session = new p5(this.core, this.logger), this.proposal = new l5(this.core, this.logger), this.pendingRequest = new v5(this.core, this.logger), this.engine = new d5(this), this.auth = new m5(this.core, this.logger);\n  }\n  static async init(e) {\n    const t = new Oa(e);\n    return await t.initialize(), t;\n  }\n  get context() {\n    return Zt(this.logger);\n  }\n  get pairing() {\n    return this.core.pairing.pairings;\n  }\n  async initialize() {\n    this.logger.trace(\"Initialized\");\n    try {\n      await this.core.start(), await this.session.init(), await this.proposal.init(), await this.pendingRequest.init(), await this.auth.init(), await this.engine.init(), this.logger.info(\"SignClient Initialization Success\"), setTimeout(() => {\n        this.engine.processRelayMessageCache();\n      }, ie.toMiliseconds(ie.ONE_SECOND));\n    } catch (e) {\n      throw this.logger.info(\"SignClient Initialization Failure\"), this.logger.error(e.message), e;\n    }\n  }\n}\nconst w5 = () => {\n  const e = cu()?.os?.toLowerCase();\n  return e?.includes(\"android\") ? \"android\" : e?.toLowerCase().includes(\"ios\") || e?.toLowerCase().includes(\"mac\") && navigator.maxTouchPoints > 1 ? \"ios\" : \"desktop\";\n}, Ss = w5(), _5 = {\n  position: \"fixed\",\n  top: \"0\",\n  left: \"0\",\n  right: \"0\",\n  bottom: \"0\",\n  backgroundColor: \"rgba(0,0,0,0.8)\",\n  backdropFilter: \"blur(10px)\",\n  zIndex: \"9999\",\n  display: \"flex\",\n  alignItems: \"center\",\n  justifyContent: \"center\",\n  flexDirection: \"column\",\n  color: \"white\",\n  fontWeight: \"500\",\n  fontFamily: \"'Barlow', sans-serif\"\n}, x5 = {\n  width: \"840px\",\n  height: \"540px\",\n  zIndex: \"99999\",\n  backgroundColor: \"white\",\n  border: \"none\",\n  outline: \"none\",\n  borderRadius: \"40px\",\n  boxShadow: \"0px 4px 40px 0px rgb(0 0 0), 0px 4px 8px 0px rgb(0 0 0 / 25%)\",\n  position: \"fixed\",\n  top: \"50%\",\n  left: \"50%\",\n  transform: \"translate(-50%,-50%)\"\n}, E5 = `\n  <div id=\"argent-mobile-modal-container\" style=\"position: relative\">\n    <iframe class=\"argent-iframe\" allow=\"clipboard-write\"></iframe>\n    <div class=\"argent-close-button\" style=\"position: absolute; top: 24px; right: 24px; cursor: pointer;\">\n      <svg width=\"32\" height=\"32\" viewBox=\"0 0 32 32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n        <circle cx=\"16\" cy=\"16\" r=\"16\" fill=\"#F5F3F0\"/>\n        <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M22.2462 9.75382C22.7018 10.2094 22.7018 10.9481 22.2462 11.4037L17.6499 16L22.2462 20.5963C22.7018 21.0519 22.7018 21.7906 22.2462 22.2462C21.7905 22.7018 21.0519 22.7018 20.5962 22.2462L16 17.6499L11.4039 22.246C10.9482 22.7017 10.2096 22.7017 9.75394 22.246C9.29833 21.7904 9.29833 21.0517 9.75394 20.5961L14.3501 16L9.75394 11.4039C9.29833 10.9483 9.29833 10.2096 9.75394 9.75396C10.2096 9.29835 10.9482 9.29835 11.4039 9.75396L16 14.3501L20.5962 9.75382C21.0519 9.29821 21.7905 9.29821 22.2462 9.75382Z\" fill=\"#333332\"/>\n      </svg>\n    </div>\n  </div>\n`;\nclass S5 {\n  constructor() {\n    He(this, \"bridgeUrl\", \"https://login.argent.xyz\");\n    He(this, \"mobileUrl\", \"argent://\");\n    He(this, \"type\", \"overlay\");\n    He(this, \"wcUri\");\n    He(this, \"overlay\");\n    He(this, \"popupWindow\");\n    He(this, \"closingTimeout\");\n    He(this, \"close\", () => {\n      this.overlay?.remove(), this.popupWindow?.close(), this.overlay = void 0, this.popupWindow = void 0;\n    });\n  }\n  showConnectionModal(e) {\n    const t = encodeURIComponent(e), i = encodeURIComponent(window.location.href);\n    this.showModal({\n      desktop: `${this.bridgeUrl}?wc=${t}&href=${i}&device=desktop`,\n      ios: `${this.mobileUrl}app/wc?uri=${t}&href=${i}&device=mobile`,\n      android: `${this.mobileUrl}app/wc?uri=${t}&href=${i}&device=mobile`\n    });\n  }\n  showApprovalModal(e) {\n    if (Ss === \"desktop\") {\n      this.showModal({\n        desktop: `${this.bridgeUrl}?action=sign`,\n        ios: \"\",\n        android: \"\"\n      });\n      return;\n    }\n    const t = encodeURIComponent(window.location.href);\n    this.showModal({\n      desktop: `${this.bridgeUrl}?action=sign&device=desktop&href=${t}`,\n      ios: `${this.mobileUrl}app/wc/request?href=${t}&device=mobile`,\n      android: `${this.mobileUrl}app/wc/request?href=${t}&device=mobile`\n    });\n  }\n  closeModal(e) {\n    e ? (this.overlay?.querySelector(\"iframe\")?.contentWindow?.postMessage(\"argent-login.success\", \"*\"), this.popupWindow?.postMessage(\"argent-login.success\", \"*\"), this.closingTimeout = setTimeout(this.close, 3400)) : this.close();\n  }\n  showModal(e) {\n    if (clearTimeout(this.closingTimeout), (this.overlay || this.popupWindow) && this.close(), Ss === \"android\" || Ss === \"ios\") {\n      const s = document.createElement(\"button\");\n      s.style.display = \"none\", s.addEventListener(\"click\", () => {\n        window.location.href = e[Ss];\n      }), s.click();\n      return;\n    }\n    if (this.type === \"window\") {\n      const s = \"menubar=no,location=no,resizable=no,scrollbars=no,status=no,width=840,height=540\";\n      this.popupWindow = window.open(e.desktop, \"_blank\", s) || void 0;\n      return;\n    }\n    const t = document.createElement(\"div\");\n    t.innerHTML = E5, t.id = \"argent-mobile-modal-overlay\";\n    for (const [s, o] of Object.entries(_5))\n      t.style[s] = o;\n    document.body.appendChild(t), t.addEventListener(\"click\", () => this.closeModal()), this.overlay = t;\n    const i = t.querySelector(\"iframe\");\n    i.setAttribute(\"src\", e.desktop);\n    for (const [s, o] of Object.entries(x5))\n      i.style[s] = o;\n    t.querySelector(\n      \".argent-close-button\"\n    ).addEventListener(\"click\", () => this.closeModal());\n  }\n}\nconst Nr = new S5(), ta = starknet__WEBPACK_IMPORTED_MODULE_1__.constants.NetworkName, M5 = async ({\n  projectId: r,\n  chainId: e,\n  name: t,\n  description: i,\n  rpcUrl: n,\n  bridgeUrl: s = I5(e),\n  mobileUrl: o = A5(e),\n  modalType: f = \"overlay\",\n  url: h,\n  icons: d,\n  walletConnect: v\n}, w) => {\n  if (!s)\n    throw new Error(\"bridgeUrl is required\");\n  if (!o)\n    throw new Error(\"mobileUrl is required\");\n  Nr.bridgeUrl = s, Nr.mobileUrl = o, Nr.type = f;\n  const A = {\n    projectId: r,\n    metadata: {\n      name: t ?? \"Unknown dapp\",\n      description: i ?? \"Unknown dapp description\",\n      url: h ?? \"#\",\n      icons: d ?? [],\n      ...v?.metadata\n    }\n  }, I = await Oa.init(A), D = new starknet__WEBPACK_IMPORTED_MODULE_1__.RpcProvider({ nodeUrl: n }), N = new w({ client: I, chainId: e, rpcUrl: n, provider: D });\n  I.on(\"session_event\", (k) => {\n  }), I.on(\"session_update\", ({ topic: k, params: j }) => {\n    const { namespaces: T } = j, K = I.session.get(k);\n    N.updateSession({ ...K, namespaces: T });\n  }), I.on(\"session_delete\", () => {\n  });\n  try {\n    const k = I.session.getAll().find(N.isValidSession);\n    if (k)\n      return N.updateSession(k), N;\n    const j = { requiredNamespaces: N.getRequiredNamespaces() };\n    (0,_index_d4f30f2e_js__WEBPACK_IMPORTED_MODULE_2__.r)(), await new Promise(($) => setTimeout($, 200));\n    const { uri: T, approval: K } = await I.connect(j);\n    if (T) {\n      Nr.showConnectionModal(T), Nr.wcUri = T;\n      const $ = await K();\n      N.updateSession($), Nr.closeModal(\"animateSuccess\");\n    }\n    return N;\n  } catch {\n    return console.error(\"@argent/login::error\"), Nr.closeModal(), null;\n  }\n}, I5 = (r) => {\n  if (!r)\n    throw new Error(\n      `Unknown or unsupported chainId (${r}), either specify a supported chain or set bridgeUrl.`\n    );\n  const e = parseInt(`${r}`);\n  if (String(r).startsWith(ta.SN_SEPOLIA) || e === 11155111)\n    return \"https://mobile-login.hydrogen.argent47.net\";\n  if (String(r).startsWith(ta.SN_MAIN) || e === 1)\n    return \"https://login.argent.xyz\";\n}, A5 = (r) => {\n  if (!r)\n    throw new Error(\n      `Unknown or unsupported chainId (${r}), either specify a supported chain or set mobileUrl.`\n    );\n  const e = parseInt(`${r}`);\n  if (String(r).startsWith(ta.SN_SEPOLIA) || e === 11155111)\n    return \"argent-dev://\";\n  if (String(r).startsWith(ta.SN_MAIN) || e === 1)\n    return \"argent://\";\n};\nfunction D5(r) {\n  return typeof r < \"u\" && typeof r.context < \"u\";\n}\nconst Tr = { init: \"signer_init\", uri: \"signer_uri\", created: \"signer_created\", updated: \"signer_updated\", deleted: \"signer_deleted\", event: \"signer_event\" };\nclass P5 extends Ym {\n  constructor(e) {\n    super(), this.events = new ir.EventEmitter(), this.pending = !1, this.initializing = !1, this.requiredNamespaces = e?.requiredNamespaces || {}, this.opts = e?.client;\n  }\n  get connected() {\n    return typeof this.session < \"u\";\n  }\n  get connecting() {\n    return this.pending;\n  }\n  get chains() {\n    return this.session ? ed(this.session.namespaces) : V2(this.requiredNamespaces);\n  }\n  get accounts() {\n    return this.session ? Qu(this.session.namespaces) : [];\n  }\n  on(e, t) {\n    this.events.on(e, t);\n  }\n  once(e, t) {\n    this.events.once(e, t);\n  }\n  off(e, t) {\n    this.events.off(e, t);\n  }\n  removeListener(e, t) {\n    this.events.removeListener(e, t);\n  }\n  async open() {\n    if (this.pending)\n      return new Promise((e, t) => {\n        this.events.once(\"open\", () => {\n          if (this.events.once(\"open_error\", (i) => {\n            t(i);\n          }), typeof this.client > \"u\")\n            return t(new Error(\"Sign Client not initialized\"));\n          e();\n        });\n      });\n    try {\n      this.pending = !0;\n      const e = await this.register(), t = e.find({ requiredNamespaces: this.requiredNamespaces });\n      if (t.length)\n        return this.onOpen(t[0]);\n      const { uri: i, approval: n } = await e.connect({ requiredNamespaces: this.requiredNamespaces });\n      this.events.emit(Tr.uri, { uri: i }), this.session = await n(), this.events.emit(Tr.created, this.session), this.onOpen();\n    } catch (e) {\n      throw this.events.emit(\"open_error\", e), e;\n    }\n  }\n  async close() {\n    typeof this.session > \"u\" || (await (await this.register()).disconnect({ topic: this.session.topic, reason: st(\"USER_DISCONNECTED\") }), this.onClose());\n  }\n  async send(e, t) {\n    if (typeof this.client > \"u\" && (this.client = await this.register(), this.connected || await this.open()), typeof this.session > \"u\")\n      throw new Error(\"Signer connection is missing session\");\n    this.client.request({ topic: this.session.topic, request: e, chainId: t?.chainId }).then((i) => this.events.emit(\"payload\", Ma(e.id, i))).catch((i) => this.events.emit(\"payload\", Ia(e.id, i.message)));\n  }\n  async register(e = this.opts) {\n    if (typeof this.client < \"u\")\n      return this.client;\n    if (this.initializing)\n      return new Promise((t, i) => {\n        this.events.once(\"register_error\", (n) => {\n          i(n);\n        }), this.events.once(Tr.init, () => {\n          if (typeof this.client > \"u\")\n            return i(new Error(\"Sign Client not initialized\"));\n          t(this.client);\n        });\n      });\n    if (D5(e))\n      return this.client = e, this.registerEventListeners(), this.client;\n    try {\n      return this.initializing = !0, this.client = await Oa.init(e), this.initializing = !1, this.registerEventListeners(), this.events.emit(Tr.init), this.client;\n    } catch (t) {\n      throw this.events.emit(\"register_error\", t), t;\n    }\n  }\n  onOpen(e) {\n    this.pending = !1, e && (this.session = e), this.events.emit(\"open\");\n  }\n  onClose() {\n    this.pending = !1, this.client && (this.client = void 0), this.events.emit(\"close\");\n  }\n  registerEventListeners() {\n    typeof this.client < \"u\" && (this.client.on(\"session_event\", (e) => {\n      var t;\n      this.session && ((t = this.session) == null ? void 0 : t.topic) !== e.topic || this.events.emit(Tr.event, e.params);\n    }), this.client.on(\"session_update\", (e) => {\n      var t;\n      typeof this.client < \"u\" && (this.session && ((t = this.session) == null ? void 0 : t.topic) !== e.topic || (this.session = this.client.session.get(e.topic), this.events.emit(Tr.updated, this.session)));\n    }), this.client.on(\"session_delete\", (e) => {\n      var t;\n      this.session && (this.session && ((t = this.session) == null ? void 0 : t.topic) !== e.topic || (this.onClose(), this.events.emit(Tr.deleted, this.session), this.session = void 0));\n    }));\n  }\n}\nclass O5 {\n  constructor() {\n    He(this, \"accounts\", []);\n    He(this, \"eventEmitter\", new ir.EventEmitter());\n    He(this, \"updateSession\", (e) => {\n      if (!this.isValidSession(e))\n        throw console.warn(\n          \"updateSession incompatible session\",\n          e,\n          \"for adapter\",\n          this.formatChainId(this.chainId)\n        ), new Error(\"Invalid session\");\n      this.session = e;\n      const t = ed(e.namespaces, [this.namespace]);\n      this.setChainIds(t);\n      const i = Qu(e.namespaces, [\n        this.namespace\n      ]);\n      this.setAccounts(i);\n    });\n    He(this, \"isValidSession\", ({\n      namespaces: e,\n      requiredNamespaces: t\n    }) => {\n      const i = this.formatChainId(this.chainId);\n      return t ? !!t[this.namespace]?.chains?.includes(i) : !!e?.[this.namespace]?.accounts.some(\n        (n) => n.startsWith(i)\n      );\n    });\n  }\n  getRequiredNamespaces() {\n    const e = [this.formatChainId(this.chainId)];\n    return {\n      [this.namespace]: { chains: e, methods: this.methods, events: this.events }\n    };\n  }\n  isCompatibleChainId(e) {\n    return typeof e == \"string\" ? e.startsWith(`${this.namespace}:`) : !1;\n  }\n  setChainIds(e) {\n    const i = e.filter((n) => this.isCompatibleChainId(n)).map((n) => this.parseChainId(n)).filter((n) => n !== this.chainId);\n    i.length && (this.chainId = i[0], this.eventEmitter.emit(\"chainChanged\", this.chainId));\n  }\n  setChainId(e) {\n    if (this.isCompatibleChainId(e)) {\n      const t = this.parseChainId(e);\n      this.chainId = t, this.eventEmitter.emit(\"chainChanged\", this.chainId);\n    }\n  }\n  parseAccountId(e) {\n    const [t, i, n] = e.split(\":\");\n    return { chainId: `${t}:${i}`, address: n };\n  }\n  getSignerConnection(e) {\n    return new P5({\n      requiredNamespaces: {\n        [this.namespace]: {\n          chains: this.rpc.chains,\n          methods: this.rpc.methods,\n          events: this.rpc.events\n        }\n      },\n      client: e\n    });\n  }\n  registerEventListeners() {\n    this.rpcProvider.on(\"connect\", () => {\n      const { chains: e, accounts: t } = this.signerConnection;\n      e?.length && this.setChainIds(e), t?.length && this.setAccounts(t);\n    }), this.signerConnection.on(Tr.created, this.updateSession), this.signerConnection.on(Tr.updated, this.updateSession), this.signerConnection.on(Tr.event, (e) => {\n      if (!this.rpc.chains.includes(e.chainId))\n        return;\n      const { event: t } = e;\n      t.name === \"accountsChanged\" ? (this.accounts = t.data, this.eventEmitter.emit(\"accountsChanged\", this.accounts)) : t.name === \"chainChanged\" ? this.setChainId(t.data) : this.eventEmitter.emit(t.name, t.data);\n    }), this.rpcProvider.on(\"disconnect\", () => {\n      this.eventEmitter.emit(\"disconnect\");\n    });\n  }\n}\nclass Ph extends starknet__WEBPACK_IMPORTED_MODULE_1__.Account {\n  constructor(e, t, i, n) {\n    super(e, t, i), this.wallet = n;\n  }\n  async execute(e, t, i = {}) {\n    const n = Array.isArray(e) ? e : [e], s = t === void 0 || Array.isArray(t) ? i : t;\n    return await this.wallet.wallet_requestAddInvokeTransaction({\n      accountAddress: this.address,\n      executionRequest: { calls: n, invocationDetails: s }\n    });\n  }\n  async declare(e, t) {\n    throw new Error(\"Not supported via Argent Login\");\n  }\n  async deployAccount(e, t) {\n    throw new Error(\"Not supported via Argent Login\");\n  }\n}\nclass R5 {\n  constructor(e) {\n    this.wallet = e;\n  }\n  async getPubKey() {\n    throw new Error(\"Not supported via Argent Login\");\n  }\n  async signMessage(e, t) {\n    const { signature: i } = await this.wallet.wallet_signTypedData({\n      accountAddress: t,\n      typedData: e\n    });\n    return i;\n  }\n  async signTransaction(e, t, i) {\n    throw new Error(\"Not supported via Argent Login\");\n  }\n  async signDeployAccountTransaction(e) {\n    throw new Error(\"Not supported via Argent Login\");\n  }\n  async signDeclareTransaction(e) {\n    throw new Error(\"Not supported via Argent Login\");\n  }\n}\nconst N5 = (r) => r.replace(/^SN_/, \"SN\"), T5 = (r) => r.replace(/^SN/, \"SN_\");\nclass C5 extends O5 {\n  // TODO: improve typing\n  constructor({ client: t, chainId: i, rpcUrl: n, provider: s }) {\n    super();\n    He(this, \"id\", \"argentMobile\");\n    He(this, \"name\", \"Argent Mobile\");\n    He(this, \"version\", \"0.1.0\");\n    He(this, \"icon\", \"\");\n    He(this, \"provider\");\n    He(this, \"signer\");\n    He(this, \"account\");\n    He(this, \"selectedAddress\", \"\");\n    // NamespaceAdapter\n    He(this, \"namespace\", \"starknet\");\n    He(this, \"methods\", [\n      \"starknet_supportedSpecs\",\n      \"starknet_signTypedData\",\n      \"starknet_requestAddInvokeTransaction\",\n      \"wallet_supportedSpecs\",\n      \"wallet_signTypedData\",\n      \"wallet_addInvokeTransaction\"\n    ]);\n    He(this, \"events\", [\"chainChanged\", \"accountsChanged\"]);\n    He(this, \"remoteSigner\");\n    He(this, \"signerConnection\");\n    He(this, \"rpcProvider\");\n    He(this, \"chainId\");\n    He(this, \"client\");\n    He(this, \"session\");\n    He(this, \"rpc\");\n    He(this, \"walletRpc\");\n    He(this, \"handleRequest\");\n    // StarknetWindowObject\n    He(this, \"request\", async (t) => {\n      if (!this.session)\n        throw new Error(\"No session\");\n      let i = t.type;\n      (i === \"wallet_addInvokeTransaction\" || i === \"wallet_supportedSpecs\" || i === \"wallet_signTypedData\") && (i = i.replace(\"wallet_\", \"starknet_\"));\n      const n = this.handleRequest[i];\n      if (n)\n        return n(t.params);\n      throw new Error(`Not implemented: .request() for ${t.type}`);\n    });\n    He(this, \"on\", (t, i) => {\n      this.eventEmitter.on(t, i);\n    });\n    He(this, \"off\", (t, i) => {\n      this.eventEmitter.off(t, i);\n    });\n    He(this, \"handleRequestChainId\", () => this.chainId === starknet__WEBPACK_IMPORTED_MODULE_1__.constants.NetworkName.SN_SEPOLIA ? starknet__WEBPACK_IMPORTED_MODULE_1__.constants.StarknetChainId.SN_SEPOLIA : starknet__WEBPACK_IMPORTED_MODULE_1__.constants.StarknetChainId.SN_MAIN);\n    He(this, \"handleRequestAccounts\", () => this.accounts);\n    He(this, \"handleGetPermissions\", async () => await this.isPreauthorized() ? [\"accounts\"] : []);\n    He(this, \"handleAddInvokeTransaction\", async (t) => {\n      const { calls: i } = t;\n      return await this.requestWallet({\n        method: \"starknet_requestAddInvokeTransaction\",\n        params: {\n          accountAddress: this.account.address,\n          executionRequest: {\n            // will be removed when argent mobile will support entry_point and contract_address\n            calls: i?.map(({ contract_address: n, entry_point: s, ...o }) => ({\n              ...o,\n              contractAddress: n,\n              entrypoint: s\n            }))\n          }\n        }\n      });\n    });\n    He(this, \"handleSignTypedData\", async (t) => {\n      const i = {\n        accountAddress: this.account.address,\n        typedData: t\n      }, n = await this.requestWallet({\n        method: \"starknet_signTypedData\",\n        params: i\n      });\n      return \"signature\" in n ? n.signature : n;\n    });\n    He(this, \"handleSupportedSpecs\", async () => await this.requestWallet({\n      method: \"starknet_supportedSpecs\",\n      params: {}\n    }));\n    this.chainId = String(i ?? starknet__WEBPACK_IMPORTED_MODULE_1__.constants.NetworkName.SN_MAIN), this.rpc = {\n      chains: i ? [this.formatChainId(this.chainId)] : [],\n      methods: this.methods,\n      events: this.events\n    }, this.signerConnection = this.getSignerConnection(t), this.rpcProvider = new xd(this.signerConnection), this.client = t, this.registerEventListeners(), this.walletRpc = new Proxy({}, {\n      get: (o, f) => (h) => this.requestWallet({ method: f, params: h })\n    }), this.remoteSigner = new R5(this.walletRpc), this.provider = s || new starknet__WEBPACK_IMPORTED_MODULE_1__.RpcProvider({ nodeUrl: n }), this.account = new Ph(\n      this.provider,\n      \"\",\n      this.remoteSigner,\n      this.walletRpc\n    ), this.handleRequest = Object.freeze({\n      wallet_requestChainId: this.handleRequestChainId,\n      wallet_requestAccounts: this.handleRequestAccounts,\n      wallet_getPermissions: this.handleGetPermissions,\n      starknet_addInvokeTransaction: this.handleAddInvokeTransaction,\n      starknet_signTypedData: this.handleSignTypedData,\n      starknet_supportedSpecs: this.handleSupportedSpecs,\n      wallet_addInvokeTransaction: this.handleAddInvokeTransaction,\n      wallet_signTypedData: this.handleSignTypedData,\n      wallet_supportedSpecs: this.handleSupportedSpecs\n    });\n  }\n  getNetworkName(t) {\n    if (t === \"SN_SEPOLIA\")\n      return starknet__WEBPACK_IMPORTED_MODULE_1__.constants.NetworkName.SN_SEPOLIA;\n    if (t === \"SN_MAIN\")\n      return starknet__WEBPACK_IMPORTED_MODULE_1__.constants.NetworkName.SN_MAIN;\n    throw new Error(`Unknown starknet.js network name for chainId ${t}`);\n  }\n  async enable() {\n    return await this.rpcProvider.connect(), this.accounts;\n  }\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n  // @ts-ignore\n  get isConnected() {\n    return !0;\n  }\n  async isPreauthorized() {\n    return !!this.client.session.getAll().find(this.isValidSession);\n  }\n  async requestWallet(t) {\n    if (!this.session)\n      throw new Error(\"No session\");\n    try {\n      const { topic: i } = this.session, n = this.formatChainId(this.chainId);\n      Nr.showApprovalModal(t);\n      const s = await this.client.request({ topic: i, chainId: n, request: t });\n      return Nr.closeModal(\"animateSuccess\"), s;\n    } catch (i) {\n      throw Nr.closeModal(), i instanceof Error || i && i.message !== void 0 ? new Error(i.message) : new Error(\"Unknown error on requestWallet\");\n    }\n  }\n  // NamespaceAdapter\n  get isConnecting() {\n    return this.signerConnection.connecting;\n  }\n  async disable() {\n    await this.rpcProvider.disconnect();\n  }\n  get isWalletConnect() {\n    return !0;\n  }\n  // NamespaceAdapter private methods\n  registerEventListeners() {\n    super.registerEventListeners(), this.eventEmitter.on(\"chainChanged\", (t) => {\n      throw new Error(\"Not implemented: chainChanged\");\n    });\n  }\n  formatChainId(t) {\n    return `${this.namespace}:${N5(t)}`;\n  }\n  parseChainId(t) {\n    return T5(t.split(\":\")[1]);\n  }\n  setAccounts(t) {\n    this.accounts = t.filter(\n      (s) => this.parseChainId(this.parseAccountId(s).chainId) === this.chainId\n    ).map((s) => this.parseAccountId(s).address);\n    const { address: i } = this.parseAccountId(t[0]), n = i.startsWith(\"0x\") ? i : `0x${i}`;\n    this.account = new Ph(\n      this.provider,\n      n,\n      this.remoteSigner,\n      this.walletRpc\n    ), this.eventEmitter.emit(\"accountsChanged\", this.accounts), this.selectedAddress = n;\n  }\n}\nconst o4 = async (r) => M5(r, C5);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9zdGFya25ldGtpdEAyLjEwLjRfYnVmZmVydXRpbEA0LjAuOV9zdGFya25ldEA2LjI0LjFfZW5jb2RpbmdAMC4xLjEzX190eXBlc2NyaXB0QDUuOC4zX3V0Zi04LXZhbGlkYXRlQDYuMC41X3pvZEAzLjI1LjUwL25vZGVfbW9kdWxlcy9zdGFya25ldGtpdC9kaXN0L2luZGV4LTFjMWQyYjEwLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0EsMENBQTBDLDBEQUEwRDtBQUNwRztBQUN3RTtBQUNLO0FBQy9CO0FBQ2xCO0FBQ2M7QUFDYjtBQUM3QixXQUFXLGFBQWE7QUFDeEI7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHNCQUFzQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxPQUFPO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNERBQTREO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsUUFBUTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixjQUFjO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixRQUFRO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsT0FBTztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsa0JBQWtCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGNBQWM7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixVQUFVLCtCQUErQixVQUFVO0FBQ3JFLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQiw2REFBRTtBQUM3QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsZ0JBQWdCO0FBQ3pEO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsT0FBTztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxjQUFjO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsUUFBUTtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLEdBQUcscUJBQXFCO0FBQ3hCLGVBQWUsdUNBQXVDO0FBQ3REO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFEO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxtREFBbUQ7QUFDOUQ7QUFDQSxJQUFJO0FBQ0osVUFBVTtBQUNWLElBQUk7QUFDSjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHNCQUFzQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxPQUFPO0FBQ3REO0FBQ0EsdUNBQXVDLE9BQU87QUFDOUMsb0RBQW9ELE9BQU87QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsMEJBQTBCLDJDQUEyQztBQUNyRSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEZBQTRGO0FBQzVGO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxtQkFBbUI7QUFDN0IsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLG1FQUFtRSxVQUFVO0FBQzdFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyx3QkFBd0IsaUJBQWlCLHlCQUF5Qiw2REFBRTtBQUNyRSxXQUFXLFNBQVM7QUFDcEI7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELFdBQVc7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFdBQVcsU0FBUyxTQUFTO0FBQzdCO0FBQ0Esa0VBQWtFLFdBQVc7QUFDN0U7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLDZDQUE2QyxXQUFXO0FBQ3hELEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxXQUFXO0FBQ3hEO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxXQUFXO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLFdBQVc7QUFDeEQ7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsV0FBVztBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsRUFBRTtBQUM5RCwrQkFBK0IscUJBQXFCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELEVBQUU7QUFDOUQ7QUFDQSwrQkFBK0IsZ0NBQWdDO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELEVBQUU7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxXQUFXO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLFdBQVc7QUFDeEQsR0FBRztBQUNIO0FBQ0E7QUFDQSwyQ0FBMkMsV0FBVztBQUN0RDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixFQUFFLE9BQU8sRUFBRSxVQUFVLEVBQUUsYUFBYSxFQUFFLGFBQWEsRUFBRSxnQkFBZ0IsRUFBRSxhQUFhLEVBQUUsZ0JBQWdCLEVBQUUsT0FBTyxFQUFFLDZMQUE2TCxXQUFXLEtBQUssTUFBTSxLQUFLO0FBQ2hXO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsRUFBRTtBQUN0QztBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLE1BQU07QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixNQUFNO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0EsY0FBYyxzQkFBc0I7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsbUhBQW1ILG9CQUFvQjtBQUN2STtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsY0FBYyw0QkFBNEI7QUFDMUM7QUFDQSxLQUFLO0FBQ0wscUJBQXFCO0FBQ3JCO0FBQ0EsY0FBYyw0QkFBNEI7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTCx3QkFBd0I7QUFDeEI7QUFDQSxjQUFjLDRCQUE0QjtBQUMxQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsOEJBQThCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNEJBQTRCO0FBQzFDO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNEJBQTRCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDhCQUE4QjtBQUM5QixzQ0FBc0MsZUFBZTtBQUNyRCxjQUFjLDRCQUE0QjtBQUMxQztBQUNBLEtBQUs7QUFDTDtBQUNBLDJCQUEyQjtBQUMzQixzQ0FBc0MsZUFBZTtBQUNyRCxjQUFjLDRCQUE0QjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsd0JBQXdCO0FBQ3hCO0FBQ0EsS0FBSztBQUNMLHdCQUF3QjtBQUN4QjtBQUNBLEtBQUs7QUFDTDtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsRUFBRTtBQUNoRDtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsS0FBSztBQUNMO0FBQ0Esb0JBQW9CO0FBQ3BCLG1CQUFtQjtBQUNuQixzQkFBc0I7QUFDdEIsbUJBQW1CO0FBQ25CLG1CQUFtQjtBQUNuQixzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EseUJBQXlCLElBQUksNk9BQTZPO0FBQzFRO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNERBQTRELFNBQVM7QUFDckU7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQiw2Q0FBNkMsT0FBTztBQUNwRDtBQUNBLHVFQUF1RTtBQUN2RTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsYUFBYSwyQkFBMkIsR0FBRztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJJQUEySSxTQUFTO0FBQ3BKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNIO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxVQUFVO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFLE9BQU87QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxJQUFJLHdEQUF3RDtBQUNsRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGNBQWM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLGdDQUFnQztBQUMzQztBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixjQUFjO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDZEQUFFLGFBQWEsZUFBZTtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5RUFBeUUsR0FBRyxZQUFZLE9BQU87QUFDL0YsV0FBVywwQ0FBMEM7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxZQUFZO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwrREFBK0Q7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixrQkFBa0Isa0JBQWtCLDBCQUEwQjtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELDJDQUEyQztBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdRQUFnUSwwREFBMEQ7QUFDMVQsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxpQkFBaUIsUUFBUSw2QkFBNkI7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsRUFBRSxHQUFHLEVBQUU7QUFDOUI7QUFDQTtBQUNBLHVDQUF1QyxZQUFZO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1CQUFtQixhQUFhLGlDQUFpQyxnREFBZ0QsMEJBQTBCLEdBQUc7QUFDeko7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLG1CQUFtQixhQUFhLGdCQUFnQjtBQUMzRDtBQUNBO0FBQ0Esa0ZBQWtGLHdEQUF3RDtBQUMxSTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFNBQVMsU0FBUztBQUM3QiwwQ0FBMEMsV0FBVztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsY0FBYztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLDBDQUEwQyxXQUFXO0FBQ3JEO0FBQ0Esa0JBQWtCLGNBQWM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLENBQUMsd0JBQXdCLGlCQUFpQix5QkFBeUIsNkRBQUU7QUFDckUsMENBQTBDLFdBQVc7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsY0FBYztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLFdBQVc7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLDJDQUEyQyxXQUFXO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCwwQ0FBMEMsV0FBVztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLFFBQVE7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLGVBQWU7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLFFBQVE7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGVBQWU7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQyxXQUFXO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxPQUFPO0FBQ2xCO0FBQ0Esc0JBQXNCLHVCQUF1QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsMkNBQTJDLFdBQVc7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsNENBQTRDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLHFJQUFxSSxPQUFPO0FBQzVJO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLFdBQVc7QUFDekM7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDJCQUEyQjtBQUNuRDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxTUFBcU0sVUFBVTtBQUMvTSxzQkFBc0IsUUFBUTtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsUUFBUTtBQUM5QjtBQUNBO0FBQ0EsMEJBQTBCLFFBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSwyQ0FBMkMsV0FBVztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGNBQWM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0Esb0JBQW9CLE9BQU87QUFDM0I7QUFDQSxzQkFBc0IsUUFBUTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFFBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsUUFBUTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtB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RztBQUNIO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQyx3QkFBd0IsaUJBQWlCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxDQUFDLHdCQUF3QixpQkFBaUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUMsd0JBQXdCLGlCQUFpQjtBQUMxQztBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUMsd0JBQXdCLGlCQUFpQjtBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdCQUF3QixpQkFBaUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdCQUF3QixpQkFBaUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdCQUF3QixpQkFBaUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxDQUFDLHdCQUF3Qixp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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLGtCQUFrQixHQUFHO0FBQ3hCO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGNBQWM7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsaUJBQWlCLG1EQUFtRCxjQUFjO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwwQkFBMEI7QUFDaEQ7QUFDQTtBQUNBLGVBQWUsWUFBWTtBQUMzQjtBQUNBLGVBQWUsWUFBWTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsNEJBQTRCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsUUFBUTtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCxPQUFPO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxjQUFjO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsNkJBQTZCLGNBQWM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixjQUFjO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFD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QUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsUUFBUTtBQUN0QztBQUNBLFNBQVMsY0FBYztBQUN2QjtBQUNBO0FBQ0EsY0FBYyxjQUFjO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsUUFBUTtBQUN0QztBQUNBLFNBQVMsY0FBYztBQUN2QjtBQUNBO0FBQ0EsOENBQThDLGNBQWM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsUUFBUTtBQUN0QztBQUNBLFNBQVMsY0FBYztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGNBQWM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdJQUFnSSxRQUFRO0FBQ3hJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJEO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLG1CQUFtQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGNBQWM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMkNBQTJDLHlEQUF5RCwyQkFBMkIsSUFBSSw0Q0FBNEMsSUFBSTtBQUMvTTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxPQUFPO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHFDQUFxQztBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsS0FBSztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUdBQW1HLHdCQUF3QjtBQUMzSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsVUFBVTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLHlEQUF5RDtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RDtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHLHVDQUF1QztBQUMxQztBQUNBO0FB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QUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSwyQ0FBMkMsV0FBVztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsY0FBYztBQUN0RDtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTDtBQUNBO0FBQ0EsQ0FBQztBQUNELFdBQVcsU0FBUztBQUNwQiwwQ0FBMEMsV0FBVztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxXQUFXO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGNBQWM7QUFDcEM7QUFDQTtBQUNBLHNCQUFzQixjQUFjO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLFdBQVc7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QSw4Q0FBOEMscUJBQXFCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsY0FBYztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxTQUFTO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixpQkFBaUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLFFBQVE7QUFDOUM7QUFDQTtBQUNBLDJCQUEyQixjQUFjO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGlCQUFpQjtBQUN2QztBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsUUFBUTtBQUN2QztBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsY0FBYztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELE9BQU87QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsZUFBZTtBQUM1QztBQUNBO0FBQ0Esc0ZBQXNGLE9BQU87QUFDN0Y7QUFDQTtBQUNBO0FBQ0EsOENBQThDLE9BQU87QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxzQkFBc0IsaUJBQWlCO0FBQ3ZDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTCxhQUFhLGlCQUFpQjtBQUM5QjtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWEsc0RBQXNEO0FBQ25FO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGlCQUFpQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsb0JBQW9CO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLGFBQWE7QUFDMUM7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLG9CQUFvQjtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGFBQWE7QUFDakM7QUFDQSxlQUFlLE9BQU87QUFDdEI7QUFDQSxRQUFRO0FBQ1Isb0JBQW9CLFdBQVc7QUFDL0I7QUFDQSxvQkFBb0IsYUFBYTtBQUNqQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9EQUFvRCxjQUFjO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsaUJBQWlCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0wsYUFBYSx3QkFBd0I7QUFDckM7QUFDQSxzQkFBc0IsY0FBYztBQUNwQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxzQkFBc0IsY0FBYztBQUNwQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxzQkFBc0IsY0FBYztBQUNwQztBQUNBO0FBQ0EsZUFBZSxjQUFjO0FBQzdCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLE9BQU87QUFDN0I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsY0FBYztBQUMzQztBQUNBLGFBQWEseUJBQXlCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxjQUFjO0FBQzdCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsY0FBYztBQUMzQztBQUNBLGFBQWEseUJBQXlCO0FBQ3RDO0FBQ0E7QUFDQSxlQUFlLGNBQWM7QUFDN0I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLE9BQU87QUFDN0IsbUhBQW1ILFFBQVE7QUFDM0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msa0JBQWtCO0FBQ3REO0FBQ0E7QUFDQSxxR0FBcUcsUUFBUTtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSxPQUFPO0FBQ2xGO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLDZCQUE2QixPQUFPO0FBQ3BDO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsc0JBQXNCLE9BQU87QUFDN0I7QUFDQSxLQUFLO0FBQ0w7QUFDQSxzQkFBc0IsT0FBTztBQUM3QixrR0FBa0csT0FBTztBQUN6Ryx3Q0FBd0MsT0FBTztBQUMvQztBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSwwQkFBMEIsR0FBRztBQUM3QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0Esd0JBQXdCLFdBQVc7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDZCQUE2QixXQUFXO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDZCQUE2QixPQUFPO0FBQ3BDO0FBQ0Esc0JBQXNCLE9BQU87QUFDN0I7QUFDQTtBQUNBLEtBQUs7QUFDTCx3Q0FBd0MsT0FBTztBQUMvQztBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxzQkFBc0IsT0FBTztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSw2QkFBNkIsaUJBQWlCO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw0QkFBNEI7QUFDNUQ7QUFDQTtBQUNBLDhCQUE4QixjQUFjO0FBQzVDO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaUJBQWlCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxRQUFRO0FBQzFDO0FBQ0Esb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixPQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsaUJBQWlCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLCtCQUErQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0Esc0JBQXNCLDhDQUE4QztBQUNwRTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHNDQUFzQztBQUM5RDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixjQUFjO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxxQkFBcUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLGlCQUFpQjtBQUN2RDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsY0FBYztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixRQUFRO0FBQ2xDO0FBQ0EseUVBQXlFLGtCQUFrQjtBQUMzRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSw4REFBOEQsUUFBUTtBQUN0RTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMkNBQTJDLFFBQVE7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsOEVBQThFLDBCQUEwQjtBQUN4RztBQUNBLDZDQUE2QyxhQUFhO0FBQzFELCtCQUErQiw2QkFBNkI7QUFDNUQ7QUFDQTtBQUNBLDRCQUE0QixTQUFTO0FBQ3JDO0FBQ0EsK0JBQStCLDZCQUE2QjtBQUM1RDtBQUNBO0FBQ0EsNEJBQTRCLFNBQVM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsZ0NBQWdDO0FBQzFGLCtCQUErQiw2QkFBNkI7QUFDNUQ7QUFDQTtBQUNBLDRCQUE0QixTQUFTO0FBQ3JDO0FBQ0EsK0JBQStCLDZCQUE2QjtBQUM1RDtBQUNBO0FBQ0EsNEJBQTRCLFNBQVM7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsMEJBQTBCO0FBQ2hEO0FBQ0E7QUFDQSxlQUFlLFlBQVk7QUFDM0I7QUFDQSxlQUFlLFlBQVk7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDRCQUE0QjtBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLFFBQVE7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsT0FBTztBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsY0FBYztBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDZCQUE2QixjQUFjO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsY0FBYztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsaUNBQWlDO0FBQzNFO0FBQ0E7QUFD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QWlCO0FBQzNNO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sWUFBWTtBQUNsQixNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsY0FBYztBQUM1RTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsV0FBVztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLE9BQU87QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJEO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0ZBQXdGLGlCQUFpQjtBQUN6RztBQUNBLDZCQUE2QixRQUFRO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRTtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixLQUFLO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsV0FBVztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLE1BQU07QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLFdBQVc7QUFDakM7QUFD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RjtBQUNBO0FBQ0E7QUFDQSxjQUFjLGFBQWEsc0RBQXNELEVBQUU7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLGFBQWEsZ0NBQWdDLEVBQUU7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FB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SztBQUNMLCtCQUErQiwrQ0FBRTtBQUNqQztBQUNBO0FBQ0E7QUFDQSxLQUFLLHNMQUFzTDtBQUMzTCxpREFBaUQsc0JBQXNCO0FBQ3ZFLEtBQUssd0VBQXdFLGlEQUFFLEdBQUcsWUFBWTtBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGFBQWEsK0NBQUU7QUFDZjtBQUNBLGFBQWEsK0NBQUU7QUFDZixvRUFBb0UsRUFBRTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsV0FBVztBQUN6QjtBQUNBLDRDQUE0QyxrQ0FBa0M7QUFDOUU7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsY0FBYyxlQUFlLEdBQUcsTUFBTTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxhQUFhLCtEQUErRCxFQUFFO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy8ucG5wbS9zdGFya25ldGtpdEAyLjEwLjRfYnVmZmVydXRpbEA0LjAuOV9zdGFya25ldEA2LjI0LjFfZW5jb2RpbmdAMC4xLjEzX190eXBlc2NyaXB0QDUuOC4zX3V0Zi04LXZhbGlkYXRlQDYuMC41X3pvZEAzLjI1LjUwL25vZGVfbW9kdWxlcy9zdGFya25ldGtpdC9kaXN0L2luZGV4LTFjMWQyYjEwLmpzPzNkZGYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGNsID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIGhsID0gKHIsIGUsIHQpID0+IGUgaW4gciA/IGNsKHIsIGUsIHsgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCwgdmFsdWU6IHQgfSkgOiByW2VdID0gdDtcbnZhciBIZSA9IChyLCBlLCB0KSA9PiAoaGwociwgdHlwZW9mIGUgIT0gXCJzeW1ib2xcIiA/IGUgKyBcIlwiIDogZSwgdCksIHQpO1xuaW1wb3J0IHsgZCBhcyBibiwgZyBhcyBPaCwgYyBhcyB0ciB9IGZyb20gXCIuL2xhc3RDb25uZWN0ZWQtZTkzNTE5MTIuanNcIjtcbmltcG9ydCB7IGNvbnN0YW50cyBhcyAkaSwgUnBjUHJvdmlkZXIgYXMgUmgsIEFjY291bnQgYXMgdWwgfSBmcm9tIFwic3RhcmtuZXRcIjtcbmltcG9ydCB7IHIgYXMgZGwgfSBmcm9tIFwiLi9pbmRleC1kNGYzMGYyZS5qc1wiO1xuaW1wb3J0IFwiLi9jb3JlLWQyMWQyZTk2LmpzXCI7XG5pbXBvcnQgXCIuL2dldFN0YXJrbmV0Q2hhaW5JZC03YzRiMzE2My5qc1wiO1xuaW1wb3J0IFwiLi9pbmRleC05YmI0OGY4YS5qc1wiO1xudmFyIFJvID0geyBleHBvcnRzOiB7fSB9LCBmbiA9IHR5cGVvZiBSZWZsZWN0ID09IFwib2JqZWN0XCIgPyBSZWZsZWN0IDogbnVsbCwgd2YgPSBmbiAmJiB0eXBlb2YgZm4uYXBwbHkgPT0gXCJmdW5jdGlvblwiID8gZm4uYXBwbHkgOiBmdW5jdGlvbihlLCB0LCBpKSB7XG4gIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChlLCB0LCBpKTtcbn0sIE1zO1xuZm4gJiYgdHlwZW9mIGZuLm93bktleXMgPT0gXCJmdW5jdGlvblwiID8gTXMgPSBmbi5vd25LZXlzIDogT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA/IE1zID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSkuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSkpO1xufSA6IE1zID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSk7XG59O1xuZnVuY3Rpb24gbGwocikge1xuICBjb25zb2xlICYmIGNvbnNvbGUud2FybiAmJiBjb25zb2xlLndhcm4ocik7XG59XG52YXIgTmggPSBOdW1iZXIuaXNOYU4gfHwgZnVuY3Rpb24oZSkge1xuICByZXR1cm4gZSAhPT0gZTtcbn07XG5mdW5jdGlvbiBudCgpIHtcbiAgbnQuaW5pdC5jYWxsKHRoaXMpO1xufVxuUm8uZXhwb3J0cyA9IG50O1xuUm8uZXhwb3J0cy5vbmNlID0gZ2w7XG5udC5FdmVudEVtaXR0ZXIgPSBudDtcbm50LnByb3RvdHlwZS5fZXZlbnRzID0gdm9pZCAwO1xubnQucHJvdG90eXBlLl9ldmVudHNDb3VudCA9IDA7XG5udC5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHZvaWQgMDtcbnZhciBfZiA9IDEwO1xuZnVuY3Rpb24gcmEocikge1xuICBpZiAodHlwZW9mIHIgIT0gXCJmdW5jdGlvblwiKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2Ygcik7XG59XG5PYmplY3QuZGVmaW5lUHJvcGVydHkobnQsIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiLCB7XG4gIGVudW1lcmFibGU6ICEwLFxuICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBfZjtcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbihyKSB7XG4gICAgaWYgKHR5cGVvZiByICE9IFwibnVtYmVyXCIgfHwgciA8IDAgfHwgTmgocikpXG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyByICsgXCIuXCIpO1xuICAgIF9mID0gcjtcbiAgfVxufSk7XG5udC5pbml0ID0gZnVuY3Rpb24oKSB7XG4gICh0aGlzLl9ldmVudHMgPT09IHZvaWQgMCB8fCB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSAmJiAodGhpcy5fZXZlbnRzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCksIHRoaXMuX2V2ZW50c0NvdW50ID0gMCksIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB2b2lkIDA7XG59O1xubnQucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKHR5cGVvZiBlICE9IFwibnVtYmVyXCIgfHwgZSA8IDAgfHwgTmgoZSkpXG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgZSArIFwiLlwiKTtcbiAgcmV0dXJuIHRoaXMuX21heExpc3RlbmVycyA9IGUsIHRoaXM7XG59O1xuZnVuY3Rpb24gVGgocikge1xuICByZXR1cm4gci5fbWF4TGlzdGVuZXJzID09PSB2b2lkIDAgPyBudC5kZWZhdWx0TWF4TGlzdGVuZXJzIDogci5fbWF4TGlzdGVuZXJzO1xufVxubnQucHJvdG90eXBlLmdldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gVGgodGhpcyk7XG59O1xubnQucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbihlKSB7XG4gIGZvciAodmFyIHQgPSBbXSwgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXG4gICAgdC5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIHZhciBuID0gZSA9PT0gXCJlcnJvclwiLCBzID0gdGhpcy5fZXZlbnRzO1xuICBpZiAocyAhPT0gdm9pZCAwKVxuICAgIG4gPSBuICYmIHMuZXJyb3IgPT09IHZvaWQgMDtcbiAgZWxzZSBpZiAoIW4pXG4gICAgcmV0dXJuICExO1xuICBpZiAobikge1xuICAgIHZhciBvO1xuICAgIGlmICh0Lmxlbmd0aCA+IDAgJiYgKG8gPSB0WzBdKSwgbyBpbnN0YW5jZW9mIEVycm9yKVxuICAgICAgdGhyb3cgbztcbiAgICB2YXIgZiA9IG5ldyBFcnJvcihcIlVuaGFuZGxlZCBlcnJvci5cIiArIChvID8gXCIgKFwiICsgby5tZXNzYWdlICsgXCIpXCIgOiBcIlwiKSk7XG4gICAgdGhyb3cgZi5jb250ZXh0ID0gbywgZjtcbiAgfVxuICB2YXIgaCA9IHNbZV07XG4gIGlmIChoID09PSB2b2lkIDApXG4gICAgcmV0dXJuICExO1xuICBpZiAodHlwZW9mIGggPT0gXCJmdW5jdGlvblwiKVxuICAgIHdmKGgsIHRoaXMsIHQpO1xuICBlbHNlXG4gICAgZm9yICh2YXIgZCA9IGgubGVuZ3RoLCB2ID0gcWgoaCwgZCksIGkgPSAwOyBpIDwgZDsgKytpKVxuICAgICAgd2YodltpXSwgdGhpcywgdCk7XG4gIHJldHVybiAhMDtcbn07XG5mdW5jdGlvbiBDaChyLCBlLCB0LCBpKSB7XG4gIHZhciBuLCBzLCBvO1xuICBpZiAocmEodCksIHMgPSByLl9ldmVudHMsIHMgPT09IHZvaWQgMCA/IChzID0gci5fZXZlbnRzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCksIHIuX2V2ZW50c0NvdW50ID0gMCkgOiAocy5uZXdMaXN0ZW5lciAhPT0gdm9pZCAwICYmIChyLmVtaXQoXG4gICAgXCJuZXdMaXN0ZW5lclwiLFxuICAgIGUsXG4gICAgdC5saXN0ZW5lciA/IHQubGlzdGVuZXIgOiB0XG4gICksIHMgPSByLl9ldmVudHMpLCBvID0gc1tlXSksIG8gPT09IHZvaWQgMClcbiAgICBvID0gc1tlXSA9IHQsICsrci5fZXZlbnRzQ291bnQ7XG4gIGVsc2UgaWYgKHR5cGVvZiBvID09IFwiZnVuY3Rpb25cIiA/IG8gPSBzW2VdID0gaSA/IFt0LCBvXSA6IFtvLCB0XSA6IGkgPyBvLnVuc2hpZnQodCkgOiBvLnB1c2godCksIG4gPSBUaChyKSwgbiA+IDAgJiYgby5sZW5ndGggPiBuICYmICFvLndhcm5lZCkge1xuICAgIG8ud2FybmVkID0gITA7XG4gICAgdmFyIGYgPSBuZXcgRXJyb3IoXCJQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuIFwiICsgby5sZW5ndGggKyBcIiBcIiArIFN0cmluZyhlKSArIFwiIGxpc3RlbmVycyBhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXRcIik7XG4gICAgZi5uYW1lID0gXCJNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmdcIiwgZi5lbWl0dGVyID0gciwgZi50eXBlID0gZSwgZi5jb3VudCA9IG8ubGVuZ3RoLCBsbChmKTtcbiAgfVxuICByZXR1cm4gcjtcbn1cbm50LnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgcmV0dXJuIENoKHRoaXMsIGUsIHQsICExKTtcbn07XG5udC5wcm90b3R5cGUub24gPSBudC5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5udC5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyID0gZnVuY3Rpb24oZSwgdCkge1xuICByZXR1cm4gQ2godGhpcywgZSwgdCwgITApO1xufTtcbmZ1bmN0aW9uIHBsKCkge1xuICBpZiAoIXRoaXMuZmlyZWQpXG4gICAgcmV0dXJuIHRoaXMudGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHRoaXMudHlwZSwgdGhpcy53cmFwRm4pLCB0aGlzLmZpcmVkID0gITAsIGFyZ3VtZW50cy5sZW5ndGggPT09IDAgPyB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpIDogdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJndW1lbnRzKTtcbn1cbmZ1bmN0aW9uICRoKHIsIGUsIHQpIHtcbiAgdmFyIGkgPSB7IGZpcmVkOiAhMSwgd3JhcEZuOiB2b2lkIDAsIHRhcmdldDogciwgdHlwZTogZSwgbGlzdGVuZXI6IHQgfSwgbiA9IHBsLmJpbmQoaSk7XG4gIHJldHVybiBuLmxpc3RlbmVyID0gdCwgaS53cmFwRm4gPSBuLCBuO1xufVxubnQucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbihlLCB0KSB7XG4gIHJldHVybiByYSh0KSwgdGhpcy5vbihlLCAkaCh0aGlzLCBlLCB0KSksIHRoaXM7XG59O1xubnQucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBmdW5jdGlvbihlLCB0KSB7XG4gIHJldHVybiByYSh0KSwgdGhpcy5wcmVwZW5kTGlzdGVuZXIoZSwgJGgodGhpcywgZSwgdCkpLCB0aGlzO1xufTtcbm50LnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgdmFyIGksIG4sIHMsIG8sIGY7XG4gIGlmIChyYSh0KSwgbiA9IHRoaXMuX2V2ZW50cywgbiA9PT0gdm9pZCAwKVxuICAgIHJldHVybiB0aGlzO1xuICBpZiAoaSA9IG5bZV0sIGkgPT09IHZvaWQgMClcbiAgICByZXR1cm4gdGhpcztcbiAgaWYgKGkgPT09IHQgfHwgaS5saXN0ZW5lciA9PT0gdClcbiAgICAtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwID8gdGhpcy5fZXZlbnRzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCkgOiAoZGVsZXRlIG5bZV0sIG4ucmVtb3ZlTGlzdGVuZXIgJiYgdGhpcy5lbWl0KFwicmVtb3ZlTGlzdGVuZXJcIiwgZSwgaS5saXN0ZW5lciB8fCB0KSk7XG4gIGVsc2UgaWYgKHR5cGVvZiBpICE9IFwiZnVuY3Rpb25cIikge1xuICAgIGZvciAocyA9IC0xLCBvID0gaS5sZW5ndGggLSAxOyBvID49IDA7IG8tLSlcbiAgICAgIGlmIChpW29dID09PSB0IHx8IGlbb10ubGlzdGVuZXIgPT09IHQpIHtcbiAgICAgICAgZiA9IGlbb10ubGlzdGVuZXIsIHMgPSBvO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICBpZiAocyA8IDApXG4gICAgICByZXR1cm4gdGhpcztcbiAgICBzID09PSAwID8gaS5zaGlmdCgpIDogdmwoaSwgcyksIGkubGVuZ3RoID09PSAxICYmIChuW2VdID0gaVswXSksIG4ucmVtb3ZlTGlzdGVuZXIgIT09IHZvaWQgMCAmJiB0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLCBlLCBmIHx8IHQpO1xuICB9XG4gIHJldHVybiB0aGlzO1xufTtcbm50LnByb3RvdHlwZS5vZmYgPSBudC5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5udC5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCwgaSwgbjtcbiAgaWYgKGkgPSB0aGlzLl9ldmVudHMsIGkgPT09IHZvaWQgMClcbiAgICByZXR1cm4gdGhpcztcbiAgaWYgKGkucmVtb3ZlTGlzdGVuZXIgPT09IHZvaWQgMClcbiAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA9PT0gMCA/ICh0aGlzLl9ldmVudHMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSwgdGhpcy5fZXZlbnRzQ291bnQgPSAwKSA6IGlbZV0gIT09IHZvaWQgMCAmJiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMCA/IHRoaXMuX2V2ZW50cyA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpIDogZGVsZXRlIGlbZV0pLCB0aGlzO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHZhciBzID0gT2JqZWN0LmtleXMoaSksIG87XG4gICAgZm9yIChuID0gMDsgbiA8IHMubGVuZ3RoOyArK24pXG4gICAgICBvID0gc1tuXSwgbyAhPT0gXCJyZW1vdmVMaXN0ZW5lclwiICYmIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKG8pO1xuICAgIHJldHVybiB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcInJlbW92ZUxpc3RlbmVyXCIpLCB0aGlzLl9ldmVudHMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSwgdGhpcy5fZXZlbnRzQ291bnQgPSAwLCB0aGlzO1xuICB9XG4gIGlmICh0ID0gaVtlXSwgdHlwZW9mIHQgPT0gXCJmdW5jdGlvblwiKVxuICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoZSwgdCk7XG4gIGVsc2UgaWYgKHQgIT09IHZvaWQgMClcbiAgICBmb3IgKG4gPSB0Lmxlbmd0aCAtIDE7IG4gPj0gMDsgbi0tKVxuICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcihlLCB0W25dKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuZnVuY3Rpb24gTGgociwgZSwgdCkge1xuICB2YXIgaSA9IHIuX2V2ZW50cztcbiAgaWYgKGkgPT09IHZvaWQgMClcbiAgICByZXR1cm4gW107XG4gIHZhciBuID0gaVtlXTtcbiAgcmV0dXJuIG4gPT09IHZvaWQgMCA/IFtdIDogdHlwZW9mIG4gPT0gXCJmdW5jdGlvblwiID8gdCA/IFtuLmxpc3RlbmVyIHx8IG5dIDogW25dIDogdCA/IGJsKG4pIDogcWgobiwgbi5sZW5ndGgpO1xufVxubnQucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIExoKHRoaXMsIGUsICEwKTtcbn07XG5udC5wcm90b3R5cGUucmF3TGlzdGVuZXJzID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gTGgodGhpcywgZSwgITEpO1xufTtcbm50Lmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihyLCBlKSB7XG4gIHJldHVybiB0eXBlb2Ygci5saXN0ZW5lckNvdW50ID09IFwiZnVuY3Rpb25cIiA/IHIubGlzdGVuZXJDb3VudChlKSA6IEZoLmNhbGwociwgZSk7XG59O1xubnQucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBGaDtcbmZ1bmN0aW9uIEZoKHIpIHtcbiAgdmFyIGUgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChlICE9PSB2b2lkIDApIHtcbiAgICB2YXIgdCA9IGVbcl07XG4gICAgaWYgKHR5cGVvZiB0ID09IFwiZnVuY3Rpb25cIilcbiAgICAgIHJldHVybiAxO1xuICAgIGlmICh0ICE9PSB2b2lkIDApXG4gICAgICByZXR1cm4gdC5sZW5ndGg7XG4gIH1cbiAgcmV0dXJuIDA7XG59XG5udC5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQgPiAwID8gTXModGhpcy5fZXZlbnRzKSA6IFtdO1xufTtcbmZ1bmN0aW9uIHFoKHIsIGUpIHtcbiAgZm9yICh2YXIgdCA9IG5ldyBBcnJheShlKSwgaSA9IDA7IGkgPCBlOyArK2kpXG4gICAgdFtpXSA9IHJbaV07XG4gIHJldHVybiB0O1xufVxuZnVuY3Rpb24gdmwociwgZSkge1xuICBmb3IgKDsgZSArIDEgPCByLmxlbmd0aDsgZSsrKVxuICAgIHJbZV0gPSByW2UgKyAxXTtcbiAgci5wb3AoKTtcbn1cbmZ1bmN0aW9uIGJsKHIpIHtcbiAgZm9yICh2YXIgZSA9IG5ldyBBcnJheShyLmxlbmd0aCksIHQgPSAwOyB0IDwgZS5sZW5ndGg7ICsrdClcbiAgICBlW3RdID0gclt0XS5saXN0ZW5lciB8fCByW3RdO1xuICByZXR1cm4gZTtcbn1cbmZ1bmN0aW9uIGdsKHIsIGUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsIGkpIHtcbiAgICBmdW5jdGlvbiBuKG8pIHtcbiAgICAgIHIucmVtb3ZlTGlzdGVuZXIoZSwgcyksIGkobyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHMoKSB7XG4gICAgICB0eXBlb2Ygci5yZW1vdmVMaXN0ZW5lciA9PSBcImZ1bmN0aW9uXCIgJiYgci5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsIG4pLCB0KFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgfVxuICAgIFVoKHIsIGUsIHMsIHsgb25jZTogITAgfSksIGUgIT09IFwiZXJyb3JcIiAmJiB5bChyLCBuLCB7IG9uY2U6ICEwIH0pO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHlsKHIsIGUsIHQpIHtcbiAgdHlwZW9mIHIub24gPT0gXCJmdW5jdGlvblwiICYmIFVoKHIsIFwiZXJyb3JcIiwgZSwgdCk7XG59XG5mdW5jdGlvbiBVaChyLCBlLCB0LCBpKSB7XG4gIGlmICh0eXBlb2Ygci5vbiA9PSBcImZ1bmN0aW9uXCIpXG4gICAgaS5vbmNlID8gci5vbmNlKGUsIHQpIDogci5vbihlLCB0KTtcbiAgZWxzZSBpZiAodHlwZW9mIHIuYWRkRXZlbnRMaXN0ZW5lciA9PSBcImZ1bmN0aW9uXCIpXG4gICAgci5hZGRFdmVudExpc3RlbmVyKGUsIGZ1bmN0aW9uIG4ocykge1xuICAgICAgaS5vbmNlICYmIHIucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLCBuKSwgdChzKTtcbiAgICB9KTtcbiAgZWxzZVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImVtaXR0ZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRXZlbnRFbWl0dGVyLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2Ygcik7XG59XG52YXIgaXIgPSBSby5leHBvcnRzO1xuY29uc3QgemggPSAvKiBAX19QVVJFX18gKi8gYm4oaXIpO1xudmFyIGllID0ge307XG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbnZhciBhbyA9IGZ1bmN0aW9uKHIsIGUpIHtcbiAgcmV0dXJuIGFvID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24odCwgaSkge1xuICAgIHQuX19wcm90b19fID0gaTtcbiAgfSB8fCBmdW5jdGlvbih0LCBpKSB7XG4gICAgZm9yICh2YXIgbiBpbiBpKVxuICAgICAgaS5oYXNPd25Qcm9wZXJ0eShuKSAmJiAodFtuXSA9IGlbbl0pO1xuICB9LCBhbyhyLCBlKTtcbn07XG5mdW5jdGlvbiBtbChyLCBlKSB7XG4gIGFvKHIsIGUpO1xuICBmdW5jdGlvbiB0KCkge1xuICAgIHRoaXMuY29uc3RydWN0b3IgPSByO1xuICB9XG4gIHIucHJvdG90eXBlID0gZSA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoZSkgOiAodC5wcm90b3R5cGUgPSBlLnByb3RvdHlwZSwgbmV3IHQoKSk7XG59XG52YXIgb28gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG9vID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbihlKSB7XG4gICAgZm9yICh2YXIgdCwgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICB0ID0gYXJndW1lbnRzW2ldO1xuICAgICAgZm9yICh2YXIgcyBpbiB0KVxuICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCwgcykgJiYgKGVbc10gPSB0W3NdKTtcbiAgICB9XG4gICAgcmV0dXJuIGU7XG4gIH0sIG9vLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59O1xuZnVuY3Rpb24gd2wociwgZSkge1xuICB2YXIgdCA9IHt9O1xuICBmb3IgKHZhciBpIGluIHIpXG4gICAgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsIGkpICYmIGUuaW5kZXhPZihpKSA8IDAgJiYgKHRbaV0gPSByW2ldKTtcbiAgaWYgKHIgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PSBcImZ1bmN0aW9uXCIpXG4gICAgZm9yICh2YXIgbiA9IDAsIGkgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHIpOyBuIDwgaS5sZW5ndGg7IG4rKylcbiAgICAgIGUuaW5kZXhPZihpW25dKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHIsIGlbbl0pICYmICh0W2lbbl1dID0gcltpW25dXSk7XG4gIHJldHVybiB0O1xufVxuZnVuY3Rpb24gX2wociwgZSwgdCwgaSkge1xuICB2YXIgbiA9IGFyZ3VtZW50cy5sZW5ndGgsIHMgPSBuIDwgMyA/IGUgOiBpID09PSBudWxsID8gaSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSwgdCkgOiBpLCBvO1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PSBcImZ1bmN0aW9uXCIpXG4gICAgcyA9IFJlZmxlY3QuZGVjb3JhdGUociwgZSwgdCwgaSk7XG4gIGVsc2VcbiAgICBmb3IgKHZhciBmID0gci5sZW5ndGggLSAxOyBmID49IDA7IGYtLSlcbiAgICAgIChvID0gcltmXSkgJiYgKHMgPSAobiA8IDMgPyBvKHMpIDogbiA+IDMgPyBvKGUsIHQsIHMpIDogbyhlLCB0KSkgfHwgcyk7XG4gIHJldHVybiBuID4gMyAmJiBzICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLCB0LCBzKSwgcztcbn1cbmZ1bmN0aW9uIHhsKHIsIGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKHQsIGkpIHtcbiAgICBlKHQsIGksIHIpO1xuICB9O1xufVxuZnVuY3Rpb24gRWwociwgZSkge1xuICBpZiAodHlwZW9mIFJlZmxlY3QgPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PSBcImZ1bmN0aW9uXCIpXG4gICAgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEociwgZSk7XG59XG5mdW5jdGlvbiBTbChyLCBlLCB0LCBpKSB7XG4gIGZ1bmN0aW9uIG4ocykge1xuICAgIHJldHVybiBzIGluc3RhbmNlb2YgdCA/IHMgOiBuZXcgdChmdW5jdGlvbihvKSB7XG4gICAgICBvKHMpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBuZXcgKHQgfHwgKHQgPSBQcm9taXNlKSkoZnVuY3Rpb24ocywgbykge1xuICAgIGZ1bmN0aW9uIGYodikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZChpLm5leHQodikpO1xuICAgICAgfSBjYXRjaCAodykge1xuICAgICAgICBvKHcpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBoKHYpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGQoaS50aHJvdyh2KSk7XG4gICAgICB9IGNhdGNoICh3KSB7XG4gICAgICAgIG8odyk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGQodikge1xuICAgICAgdi5kb25lID8gcyh2LnZhbHVlKSA6IG4odi52YWx1ZSkudGhlbihmLCBoKTtcbiAgICB9XG4gICAgZCgoaSA9IGkuYXBwbHkociwgZSB8fCBbXSkpLm5leHQoKSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gTWwociwgZSkge1xuICB2YXIgdCA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkge1xuICAgIGlmIChzWzBdICYgMSlcbiAgICAgIHRocm93IHNbMV07XG4gICAgcmV0dXJuIHNbMV07XG4gIH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGksIG4sIHMsIG87XG4gIHJldHVybiBvID0geyBuZXh0OiBmKDApLCB0aHJvdzogZigxKSwgcmV0dXJuOiBmKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT0gXCJmdW5jdGlvblwiICYmIChvW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSksIG87XG4gIGZ1bmN0aW9uIGYoZCkge1xuICAgIHJldHVybiBmdW5jdGlvbih2KSB7XG4gICAgICByZXR1cm4gaChbZCwgdl0pO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gaChkKSB7XG4gICAgaWYgKGkpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcbiAgICBmb3IgKDsgdDsgKVxuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGkgPSAxLCBuICYmIChzID0gZFswXSAmIDIgPyBuLnJldHVybiA6IGRbMF0gPyBuLnRocm93IHx8ICgocyA9IG4ucmV0dXJuKSAmJiBzLmNhbGwobiksIDApIDogbi5uZXh0KSAmJiAhKHMgPSBzLmNhbGwobiwgZFsxXSkpLmRvbmUpXG4gICAgICAgICAgcmV0dXJuIHM7XG4gICAgICAgIHN3aXRjaCAobiA9IDAsIHMgJiYgKGQgPSBbZFswXSAmIDIsIHMudmFsdWVdKSwgZFswXSkge1xuICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBzID0gZDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgIHJldHVybiB0LmxhYmVsKyssIHsgdmFsdWU6IGRbMV0sIGRvbmU6ICExIH07XG4gICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgdC5sYWJlbCsrLCBuID0gZFsxXSwgZCA9IFswXTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgIGQgPSB0Lm9wcy5wb3AoKSwgdC50cnlzLnBvcCgpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGlmIChzID0gdC50cnlzLCAhKHMgPSBzLmxlbmd0aCA+IDAgJiYgc1tzLmxlbmd0aCAtIDFdKSAmJiAoZFswXSA9PT0gNiB8fCBkWzBdID09PSAyKSkge1xuICAgICAgICAgICAgICB0ID0gMDtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZFswXSA9PT0gMyAmJiAoIXMgfHwgZFsxXSA+IHNbMF0gJiYgZFsxXSA8IHNbM10pKSB7XG4gICAgICAgICAgICAgIHQubGFiZWwgPSBkWzFdO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkWzBdID09PSA2ICYmIHQubGFiZWwgPCBzWzFdKSB7XG4gICAgICAgICAgICAgIHQubGFiZWwgPSBzWzFdLCBzID0gZDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocyAmJiB0LmxhYmVsIDwgc1syXSkge1xuICAgICAgICAgICAgICB0LmxhYmVsID0gc1syXSwgdC5vcHMucHVzaChkKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzWzJdICYmIHQub3BzLnBvcCgpLCB0LnRyeXMucG9wKCk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBkID0gZS5jYWxsKHIsIHQpO1xuICAgICAgfSBjYXRjaCAodikge1xuICAgICAgICBkID0gWzYsIHZdLCBuID0gMDtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIGkgPSBzID0gMDtcbiAgICAgIH1cbiAgICBpZiAoZFswXSAmIDUpXG4gICAgICB0aHJvdyBkWzFdO1xuICAgIHJldHVybiB7IHZhbHVlOiBkWzBdID8gZFsxXSA6IHZvaWQgMCwgZG9uZTogITAgfTtcbiAgfVxufVxuZnVuY3Rpb24gSWwociwgZSwgdCwgaSkge1xuICBpID09PSB2b2lkIDAgJiYgKGkgPSB0KSwgcltpXSA9IGVbdF07XG59XG5mdW5jdGlvbiBBbChyLCBlKSB7XG4gIGZvciAodmFyIHQgaW4gcilcbiAgICB0ICE9PSBcImRlZmF1bHRcIiAmJiAhZS5oYXNPd25Qcm9wZXJ0eSh0KSAmJiAoZVt0XSA9IHJbdF0pO1xufVxuZnVuY3Rpb24gZm8ocikge1xuICB2YXIgZSA9IHR5cGVvZiBTeW1ib2wgPT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgdCA9IGUgJiYgcltlXSwgaSA9IDA7XG4gIGlmICh0KVxuICAgIHJldHVybiB0LmNhbGwocik7XG4gIGlmIChyICYmIHR5cGVvZiByLmxlbmd0aCA9PSBcIm51bWJlclwiKVxuICAgIHJldHVybiB7XG4gICAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHIgJiYgaSA+PSByLmxlbmd0aCAmJiAociA9IHZvaWQgMCksIHsgdmFsdWU6IHIgJiYgcltpKytdLCBkb25lOiAhciB9O1xuICAgICAgfVxuICAgIH07XG4gIHRocm93IG5ldyBUeXBlRXJyb3IoZSA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbn1cbmZ1bmN0aW9uIEJoKHIsIGUpIHtcbiAgdmFyIHQgPSB0eXBlb2YgU3ltYm9sID09IFwiZnVuY3Rpb25cIiAmJiByW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghdClcbiAgICByZXR1cm4gcjtcbiAgdmFyIGkgPSB0LmNhbGwociksIG4sIHMgPSBbXSwgbztcbiAgdHJ5IHtcbiAgICBmb3IgKDsgKGUgPT09IHZvaWQgMCB8fCBlLS0gPiAwKSAmJiAhKG4gPSBpLm5leHQoKSkuZG9uZTsgKVxuICAgICAgcy5wdXNoKG4udmFsdWUpO1xuICB9IGNhdGNoIChmKSB7XG4gICAgbyA9IHsgZXJyb3I6IGYgfTtcbiAgfSBmaW5hbGx5IHtcbiAgICB0cnkge1xuICAgICAgbiAmJiAhbi5kb25lICYmICh0ID0gaS5yZXR1cm4pICYmIHQuY2FsbChpKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKG8pXG4gICAgICAgIHRocm93IG8uZXJyb3I7XG4gICAgfVxuICB9XG4gIHJldHVybiBzO1xufVxuZnVuY3Rpb24gRGwoKSB7XG4gIGZvciAodmFyIHIgPSBbXSwgZSA9IDA7IGUgPCBhcmd1bWVudHMubGVuZ3RoOyBlKyspXG4gICAgciA9IHIuY29uY2F0KEJoKGFyZ3VtZW50c1tlXSkpO1xuICByZXR1cm4gcjtcbn1cbmZ1bmN0aW9uIFBsKCkge1xuICBmb3IgKHZhciByID0gMCwgZSA9IDAsIHQgPSBhcmd1bWVudHMubGVuZ3RoOyBlIDwgdDsgZSsrKVxuICAgIHIgKz0gYXJndW1lbnRzW2VdLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IEFycmF5KHIpLCBuID0gMCwgZSA9IDA7IGUgPCB0OyBlKyspXG4gICAgZm9yICh2YXIgcyA9IGFyZ3VtZW50c1tlXSwgbyA9IDAsIGYgPSBzLmxlbmd0aDsgbyA8IGY7IG8rKywgbisrKVxuICAgICAgaVtuXSA9IHNbb107XG4gIHJldHVybiBpO1xufVxuZnVuY3Rpb24gV24ocikge1xuICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIFduID8gKHRoaXMudiA9IHIsIHRoaXMpIDogbmV3IFduKHIpO1xufVxuZnVuY3Rpb24gT2wociwgZSwgdCkge1xuICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBpID0gdC5hcHBseShyLCBlIHx8IFtdKSwgbiwgcyA9IFtdO1xuICByZXR1cm4gbiA9IHt9LCBvKFwibmV4dFwiKSwgbyhcInRocm93XCIpLCBvKFwicmV0dXJuXCIpLCBuW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LCBuO1xuICBmdW5jdGlvbiBvKEEpIHtcbiAgICBpW0FdICYmIChuW0FdID0gZnVuY3Rpb24oSSkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKEQsIE4pIHtcbiAgICAgICAgcy5wdXNoKFtBLCBJLCBELCBOXSkgPiAxIHx8IGYoQSwgSSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBmKEEsIEkpIHtcbiAgICB0cnkge1xuICAgICAgaChpW0FdKEkpKTtcbiAgICB9IGNhdGNoIChEKSB7XG4gICAgICB3KHNbMF1bM10sIEQpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBoKEEpIHtcbiAgICBBLnZhbHVlIGluc3RhbmNlb2YgV24gPyBQcm9taXNlLnJlc29sdmUoQS52YWx1ZS52KS50aGVuKGQsIHYpIDogdyhzWzBdWzJdLCBBKTtcbiAgfVxuICBmdW5jdGlvbiBkKEEpIHtcbiAgICBmKFwibmV4dFwiLCBBKTtcbiAgfVxuICBmdW5jdGlvbiB2KEEpIHtcbiAgICBmKFwidGhyb3dcIiwgQSk7XG4gIH1cbiAgZnVuY3Rpb24gdyhBLCBJKSB7XG4gICAgQShJKSwgcy5zaGlmdCgpLCBzLmxlbmd0aCAmJiBmKHNbMF1bMF0sIHNbMF1bMV0pO1xuICB9XG59XG5mdW5jdGlvbiBSbChyKSB7XG4gIHZhciBlLCB0O1xuICByZXR1cm4gZSA9IHt9LCBpKFwibmV4dFwiKSwgaShcInRocm93XCIsIGZ1bmN0aW9uKG4pIHtcbiAgICB0aHJvdyBuO1xuICB9KSwgaShcInJldHVyblwiKSwgZVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sIGU7XG4gIGZ1bmN0aW9uIGkobiwgcykge1xuICAgIGVbbl0gPSByW25dID8gZnVuY3Rpb24obykge1xuICAgICAgcmV0dXJuICh0ID0gIXQpID8geyB2YWx1ZTogV24ocltuXShvKSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IHMgPyBzKG8pIDogbztcbiAgICB9IDogcztcbiAgfVxufVxuZnVuY3Rpb24gTmwocikge1xuICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBlID0gcltTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIHQ7XG4gIHJldHVybiBlID8gZS5jYWxsKHIpIDogKHIgPSB0eXBlb2YgZm8gPT0gXCJmdW5jdGlvblwiID8gZm8ocikgOiByW1N5bWJvbC5pdGVyYXRvcl0oKSwgdCA9IHt9LCBpKFwibmV4dFwiKSwgaShcInRocm93XCIpLCBpKFwicmV0dXJuXCIpLCB0W1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LCB0KTtcbiAgZnVuY3Rpb24gaShzKSB7XG4gICAgdFtzXSA9IHJbc10gJiYgZnVuY3Rpb24obykge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKGYsIGgpIHtcbiAgICAgICAgbyA9IHJbc10obyksIG4oZiwgaCwgby5kb25lLCBvLnZhbHVlKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gbihzLCBvLCBmLCBoKSB7XG4gICAgUHJvbWlzZS5yZXNvbHZlKGgpLnRoZW4oZnVuY3Rpb24oZCkge1xuICAgICAgcyh7IHZhbHVlOiBkLCBkb25lOiBmIH0pO1xuICAgIH0sIG8pO1xuICB9XG59XG5mdW5jdGlvbiBUbChyLCBlKSB7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkociwgXCJyYXdcIiwgeyB2YWx1ZTogZSB9KSA6IHIucmF3ID0gZSwgcjtcbn1cbmZ1bmN0aW9uIENsKHIpIHtcbiAgaWYgKHIgJiYgci5fX2VzTW9kdWxlKVxuICAgIHJldHVybiByO1xuICB2YXIgZSA9IHt9O1xuICBpZiAociAhPSBudWxsKVxuICAgIGZvciAodmFyIHQgaW4gcilcbiAgICAgIE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsIHQpICYmIChlW3RdID0gclt0XSk7XG4gIHJldHVybiBlLmRlZmF1bHQgPSByLCBlO1xufVxuZnVuY3Rpb24gJGwocikge1xuICByZXR1cm4gciAmJiByLl9fZXNNb2R1bGUgPyByIDogeyBkZWZhdWx0OiByIH07XG59XG5mdW5jdGlvbiBMbChyLCBlKSB7XG4gIGlmICghZS5oYXMocikpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XG4gIHJldHVybiBlLmdldChyKTtcbn1cbmZ1bmN0aW9uIEZsKHIsIGUsIHQpIHtcbiAgaWYgKCFlLmhhcyhyKSlcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcbiAgcmV0dXJuIGUuc2V0KHIsIHQpLCB0O1xufVxuY29uc3QgcWwgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgX19wcm90b19fOiBudWxsLFxuICBnZXQgX19hc3NpZ24oKSB7XG4gICAgcmV0dXJuIG9vO1xuICB9LFxuICBfX2FzeW5jRGVsZWdhdG9yOiBSbCxcbiAgX19hc3luY0dlbmVyYXRvcjogT2wsXG4gIF9fYXN5bmNWYWx1ZXM6IE5sLFxuICBfX2F3YWl0OiBXbixcbiAgX19hd2FpdGVyOiBTbCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZEdldDogTGwsXG4gIF9fY2xhc3NQcml2YXRlRmllbGRTZXQ6IEZsLFxuICBfX2NyZWF0ZUJpbmRpbmc6IElsLFxuICBfX2RlY29yYXRlOiBfbCxcbiAgX19leHBvcnRTdGFyOiBBbCxcbiAgX19leHRlbmRzOiBtbCxcbiAgX19nZW5lcmF0b3I6IE1sLFxuICBfX2ltcG9ydERlZmF1bHQ6ICRsLFxuICBfX2ltcG9ydFN0YXI6IENsLFxuICBfX21ha2VUZW1wbGF0ZU9iamVjdDogVGwsXG4gIF9fbWV0YWRhdGE6IEVsLFxuICBfX3BhcmFtOiB4bCxcbiAgX19yZWFkOiBCaCxcbiAgX19yZXN0OiB3bCxcbiAgX19zcHJlYWQ6IERsLFxuICBfX3NwcmVhZEFycmF5czogUGwsXG4gIF9fdmFsdWVzOiBmb1xufSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pKSwgUW4gPSAvKiBAX19QVVJFX18gKi8gT2gocWwpO1xudmFyIE5hID0ge30sIFJuID0ge30sIHhmO1xuZnVuY3Rpb24gVWwoKSB7XG4gIGlmICh4ZilcbiAgICByZXR1cm4gUm47XG4gIHhmID0gMSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJuLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIFJuLmRlbGF5ID0gdm9pZCAwO1xuICBmdW5jdGlvbiByKGUpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHQpID0+IHtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0KCEwKTtcbiAgICAgIH0sIGUpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBSbi5kZWxheSA9IHIsIFJuO1xufVxudmFyIE9pID0ge30sIFRhID0ge30sIFJpID0ge30sIEVmO1xuZnVuY3Rpb24gemwoKSB7XG4gIHJldHVybiBFZiB8fCAoRWYgPSAxLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmksIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgUmkuT05FX1RIT1VTQU5EID0gUmkuT05FX0hVTkRSRUQgPSB2b2lkIDAsIFJpLk9ORV9IVU5EUkVEID0gMTAwLCBSaS5PTkVfVEhPVVNBTkQgPSAxZTMpLCBSaTtcbn1cbnZhciBDYSA9IHt9LCBTZjtcbmZ1bmN0aW9uIEJsKCkge1xuICByZXR1cm4gU2YgfHwgKFNmID0gMSwgZnVuY3Rpb24ocikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIHIuT05FX1lFQVIgPSByLkZPVVJfV0VFS1MgPSByLlRIUkVFX1dFRUtTID0gci5UV09fV0VFS1MgPSByLk9ORV9XRUVLID0gci5USElSVFlfREFZUyA9IHIuU0VWRU5fREFZUyA9IHIuRklWRV9EQVlTID0gci5USFJFRV9EQVlTID0gci5PTkVfREFZID0gci5UV0VOVFlfRk9VUl9IT1VSUyA9IHIuVFdFTFZFX0hPVVJTID0gci5TSVhfSE9VUlMgPSByLlRIUkVFX0hPVVJTID0gci5PTkVfSE9VUiA9IHIuU0lYVFlfTUlOVVRFUyA9IHIuVEhJUlRZX01JTlVURVMgPSByLlRFTl9NSU5VVEVTID0gci5GSVZFX01JTlVURVMgPSByLk9ORV9NSU5VVEUgPSByLlNJWFRZX1NFQ09ORFMgPSByLlRISVJUWV9TRUNPTkRTID0gci5URU5fU0VDT05EUyA9IHIuRklWRV9TRUNPTkRTID0gci5PTkVfU0VDT05EID0gdm9pZCAwLCByLk9ORV9TRUNPTkQgPSAxLCByLkZJVkVfU0VDT05EUyA9IDUsIHIuVEVOX1NFQ09ORFMgPSAxMCwgci5USElSVFlfU0VDT05EUyA9IDMwLCByLlNJWFRZX1NFQ09ORFMgPSA2MCwgci5PTkVfTUlOVVRFID0gci5TSVhUWV9TRUNPTkRTLCByLkZJVkVfTUlOVVRFUyA9IHIuT05FX01JTlVURSAqIDUsIHIuVEVOX01JTlVURVMgPSByLk9ORV9NSU5VVEUgKiAxMCwgci5USElSVFlfTUlOVVRFUyA9IHIuT05FX01JTlVURSAqIDMwLCByLlNJWFRZX01JTlVURVMgPSByLk9ORV9NSU5VVEUgKiA2MCwgci5PTkVfSE9VUiA9IHIuU0lYVFlfTUlOVVRFUywgci5USFJFRV9IT1VSUyA9IHIuT05FX0hPVVIgKiAzLCByLlNJWF9IT1VSUyA9IHIuT05FX0hPVVIgKiA2LCByLlRXRUxWRV9IT1VSUyA9IHIuT05FX0hPVVIgKiAxMiwgci5UV0VOVFlfRk9VUl9IT1VSUyA9IHIuT05FX0hPVVIgKiAyNCwgci5PTkVfREFZID0gci5UV0VOVFlfRk9VUl9IT1VSUywgci5USFJFRV9EQVlTID0gci5PTkVfREFZICogMywgci5GSVZFX0RBWVMgPSByLk9ORV9EQVkgKiA1LCByLlNFVkVOX0RBWVMgPSByLk9ORV9EQVkgKiA3LCByLlRISVJUWV9EQVlTID0gci5PTkVfREFZICogMzAsIHIuT05FX1dFRUsgPSByLlNFVkVOX0RBWVMsIHIuVFdPX1dFRUtTID0gci5PTkVfV0VFSyAqIDIsIHIuVEhSRUVfV0VFS1MgPSByLk9ORV9XRUVLICogMywgci5GT1VSX1dFRUtTID0gci5PTkVfV0VFSyAqIDQsIHIuT05FX1lFQVIgPSByLk9ORV9EQVkgKiAzNjU7XG4gIH0oQ2EpKSwgQ2E7XG59XG52YXIgTWY7XG5mdW5jdGlvbiBraCgpIHtcbiAgcmV0dXJuIE1mIHx8IChNZiA9IDEsIGZ1bmN0aW9uKHIpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkociwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuICAgIGNvbnN0IGUgPSBRbjtcbiAgICBlLl9fZXhwb3J0U3Rhcih6bCgpLCByKSwgZS5fX2V4cG9ydFN0YXIoQmwoKSwgcik7XG4gIH0oVGEpKSwgVGE7XG59XG52YXIgSWY7XG5mdW5jdGlvbiBrbCgpIHtcbiAgaWYgKElmKVxuICAgIHJldHVybiBPaTtcbiAgSWYgPSAxLCBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2ksIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgT2kuZnJvbU1pbGlzZWNvbmRzID0gT2kudG9NaWxpc2Vjb25kcyA9IHZvaWQgMDtcbiAgY29uc3QgciA9IGtoKCk7XG4gIGZ1bmN0aW9uIGUoaSkge1xuICAgIHJldHVybiBpICogci5PTkVfVEhPVVNBTkQ7XG4gIH1cbiAgT2kudG9NaWxpc2Vjb25kcyA9IGU7XG4gIGZ1bmN0aW9uIHQoaSkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKGkgLyByLk9ORV9USE9VU0FORCk7XG4gIH1cbiAgcmV0dXJuIE9pLmZyb21NaWxpc2Vjb25kcyA9IHQsIE9pO1xufVxudmFyIEFmO1xuZnVuY3Rpb24gamwoKSB7XG4gIHJldHVybiBBZiB8fCAoQWYgPSAxLCBmdW5jdGlvbihyKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbiAgICBjb25zdCBlID0gUW47XG4gICAgZS5fX2V4cG9ydFN0YXIoVWwoKSwgciksIGUuX19leHBvcnRTdGFyKGtsKCksIHIpO1xuICB9KE5hKSksIE5hO1xufVxudmFyIHRuID0ge30sIERmO1xuZnVuY3Rpb24gS2woKSB7XG4gIGlmIChEZilcbiAgICByZXR1cm4gdG47XG4gIERmID0gMSwgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRuLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIHRuLldhdGNoID0gdm9pZCAwO1xuICBjbGFzcyByIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgIHRoaXMudGltZXN0YW1wcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gICAgfVxuICAgIHN0YXJ0KHQpIHtcbiAgICAgIGlmICh0aGlzLnRpbWVzdGFtcHMuaGFzKHQpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFdhdGNoIGFscmVhZHkgc3RhcnRlZCBmb3IgbGFiZWw6ICR7dH1gKTtcbiAgICAgIHRoaXMudGltZXN0YW1wcy5zZXQodCwgeyBzdGFydGVkOiBEYXRlLm5vdygpIH0pO1xuICAgIH1cbiAgICBzdG9wKHQpIHtcbiAgICAgIGNvbnN0IGkgPSB0aGlzLmdldCh0KTtcbiAgICAgIGlmICh0eXBlb2YgaS5lbGFwc2VkIDwgXCJ1XCIpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgV2F0Y2ggYWxyZWFkeSBzdG9wcGVkIGZvciBsYWJlbDogJHt0fWApO1xuICAgICAgY29uc3QgbiA9IERhdGUubm93KCkgLSBpLnN0YXJ0ZWQ7XG4gICAgICB0aGlzLnRpbWVzdGFtcHMuc2V0KHQsIHsgc3RhcnRlZDogaS5zdGFydGVkLCBlbGFwc2VkOiBuIH0pO1xuICAgIH1cbiAgICBnZXQodCkge1xuICAgICAgY29uc3QgaSA9IHRoaXMudGltZXN0YW1wcy5nZXQodCk7XG4gICAgICBpZiAodHlwZW9mIGkgPiBcInVcIilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyB0aW1lc3RhbXAgZm91bmQgZm9yIGxhYmVsOiAke3R9YCk7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gICAgZWxhcHNlZCh0KSB7XG4gICAgICBjb25zdCBpID0gdGhpcy5nZXQodCk7XG4gICAgICByZXR1cm4gaS5lbGFwc2VkIHx8IERhdGUubm93KCkgLSBpLnN0YXJ0ZWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiB0bi5XYXRjaCA9IHIsIHRuLmRlZmF1bHQgPSByLCB0bjtcbn1cbnZhciAkYSA9IHt9LCBObiA9IHt9LCBQZjtcbmZ1bmN0aW9uIEhsKCkge1xuICBpZiAoUGYpXG4gICAgcmV0dXJuIE5uO1xuICBQZiA9IDEsIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShObiwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pLCBObi5JV2F0Y2ggPSB2b2lkIDA7XG4gIGNsYXNzIHIge1xuICB9XG4gIHJldHVybiBObi5JV2F0Y2ggPSByLCBObjtcbn1cbnZhciBPZjtcbmZ1bmN0aW9uIFZsKCkge1xuICByZXR1cm4gT2YgfHwgKE9mID0gMSwgZnVuY3Rpb24ocikge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIFFuLl9fZXhwb3J0U3RhcihIbCgpLCByKTtcbiAgfSgkYSkpLCAkYTtcbn1cbihmdW5jdGlvbihyKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG4gIGNvbnN0IGUgPSBRbjtcbiAgZS5fX2V4cG9ydFN0YXIoamwoKSwgciksIGUuX19leHBvcnRTdGFyKEtsKCksIHIpLCBlLl9fZXhwb3J0U3RhcihWbCgpLCByKSwgZS5fX2V4cG9ydFN0YXIoa2goKSwgcik7XG59KShpZSk7XG5jbGFzcyBXaSB7XG59XG5sZXQgV2wgPSBjbGFzcyBleHRlbmRzIFdpIHtcbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHN1cGVyKCk7XG4gIH1cbn07XG5jb25zdCBSZiA9IGllLkZJVkVfU0VDT05EUywgZ24gPSB7IHB1bHNlOiBcImhlYXJ0YmVhdF9wdWxzZVwiIH07XG5sZXQgR2wgPSBjbGFzcyBqaCBleHRlbmRzIFdsIHtcbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHN1cGVyKGUpLCB0aGlzLmV2ZW50cyA9IG5ldyBpci5FdmVudEVtaXR0ZXIoKSwgdGhpcy5pbnRlcnZhbCA9IFJmLCB0aGlzLmludGVydmFsID0gZT8uaW50ZXJ2YWwgfHwgUmY7XG4gIH1cbiAgc3RhdGljIGFzeW5jIGluaXQoZSkge1xuICAgIGNvbnN0IHQgPSBuZXcgamgoZSk7XG4gICAgcmV0dXJuIGF3YWl0IHQuaW5pdCgpLCB0O1xuICB9XG4gIGFzeW5jIGluaXQoKSB7XG4gICAgYXdhaXQgdGhpcy5pbml0aWFsaXplKCk7XG4gIH1cbiAgc3RvcCgpIHtcbiAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxSZWYpO1xuICB9XG4gIG9uKGUsIHQpIHtcbiAgICB0aGlzLmV2ZW50cy5vbihlLCB0KTtcbiAgfVxuICBvbmNlKGUsIHQpIHtcbiAgICB0aGlzLmV2ZW50cy5vbmNlKGUsIHQpO1xuICB9XG4gIG9mZihlLCB0KSB7XG4gICAgdGhpcy5ldmVudHMub2ZmKGUsIHQpO1xuICB9XG4gIHJlbW92ZUxpc3RlbmVyKGUsIHQpIHtcbiAgICB0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihlLCB0KTtcbiAgfVxuICBhc3luYyBpbml0aWFsaXplKCkge1xuICAgIHRoaXMuaW50ZXJ2YWxSZWYgPSBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLnB1bHNlKCksIGllLnRvTWlsaXNlY29uZHModGhpcy5pbnRlcnZhbCkpO1xuICB9XG4gIHB1bHNlKCkge1xuICAgIHRoaXMuZXZlbnRzLmVtaXQoZ24ucHVsc2UpO1xuICB9XG59O1xuY29uc3QgSmwgPSAvXCIoPzpffFxcXFx1MHsyfTVbRmZdKXsyfSg/OnB8XFxcXHUwezJ9NzApKD86cnxcXFxcdTB7Mn03MikoPzpvfFxcXFx1MHsyfTZbRmZdKSg/OnR8XFxcXHUwezJ9NzQpKD86b3xcXFxcdTB7Mn02W0ZmXSkoPzpffFxcXFx1MHsyfTVbRmZdKXsyfVwiXFxzKjovLCBZbCA9IC9cIig/OmN8XFxcXHUwMDYzKSg/Om98XFxcXHUwMDZbRmZdKSg/Om58XFxcXHUwMDZbRWVdKSg/OnN8XFxcXHUwMDczKSg/OnR8XFxcXHUwMDc0KSg/OnJ8XFxcXHUwMDcyKSg/OnV8XFxcXHUwMDc1KSg/OmN8XFxcXHUwMDYzKSg/OnR8XFxcXHUwMDc0KSg/Om98XFxcXHUwMDZbRmZdKSg/OnJ8XFxcXHUwMDcyKVwiXFxzKjovLCBYbCA9IC9eXFxzKltcIlt7XXxeXFxzKi0/XFxkezEsMTZ9KFxcLlxcZHsxLDE3fSk/KFtFZV1bKy1dP1xcZCspP1xccyokLztcbmZ1bmN0aW9uIFpsKHIsIGUpIHtcbiAgaWYgKHIgPT09IFwiX19wcm90b19fXCIgfHwgciA9PT0gXCJjb25zdHJ1Y3RvclwiICYmIGUgJiYgdHlwZW9mIGUgPT0gXCJvYmplY3RcIiAmJiBcInByb3RvdHlwZVwiIGluIGUpIHtcbiAgICBRbChyKTtcbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIGU7XG59XG5mdW5jdGlvbiBRbChyKSB7XG4gIGNvbnNvbGUud2FybihgW2Rlc3RyXSBEcm9wcGluZyBcIiR7cn1cIiBrZXkgdG8gcHJldmVudCBwcm90b3R5cGUgcG9sbHV0aW9uLmApO1xufVxuZnVuY3Rpb24gbXMociwgZSA9IHt9KSB7XG4gIGlmICh0eXBlb2YgciAhPSBcInN0cmluZ1wiKVxuICAgIHJldHVybiByO1xuICBjb25zdCB0ID0gci50cmltKCk7XG4gIGlmIChcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9wcmVmZXItYXRcbiAgICByWzBdID09PSAnXCInICYmIHIuZW5kc1dpdGgoJ1wiJykgJiYgIXIuaW5jbHVkZXMoXCJcXFxcXCIpXG4gIClcbiAgICByZXR1cm4gdC5zbGljZSgxLCAtMSk7XG4gIGlmICh0Lmxlbmd0aCA8PSA5KSB7XG4gICAgY29uc3QgaSA9IHQudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoaSA9PT0gXCJ0cnVlXCIpXG4gICAgICByZXR1cm4gITA7XG4gICAgaWYgKGkgPT09IFwiZmFsc2VcIilcbiAgICAgIHJldHVybiAhMTtcbiAgICBpZiAoaSA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgIHJldHVybjtcbiAgICBpZiAoaSA9PT0gXCJudWxsXCIpXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAoaSA9PT0gXCJuYW5cIilcbiAgICAgIHJldHVybiBOdW1iZXIuTmFOO1xuICAgIGlmIChpID09PSBcImluZmluaXR5XCIpXG4gICAgICByZXR1cm4gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIGlmIChpID09PSBcIi1pbmZpbml0eVwiKVxuICAgICAgcmV0dXJuIE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcbiAgfVxuICBpZiAoIVhsLnRlc3QocikpIHtcbiAgICBpZiAoZS5zdHJpY3QpXG4gICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJbZGVzdHJdIEludmFsaWQgSlNPTlwiKTtcbiAgICByZXR1cm4gcjtcbiAgfVxuICB0cnkge1xuICAgIGlmIChKbC50ZXN0KHIpIHx8IFlsLnRlc3QocikpIHtcbiAgICAgIGlmIChlLnN0cmljdClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW2Rlc3RyXSBQb3NzaWJsZSBwcm90b3R5cGUgcG9sbHV0aW9uXCIpO1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UociwgWmwpO1xuICAgIH1cbiAgICByZXR1cm4gSlNPTi5wYXJzZShyKTtcbiAgfSBjYXRjaCAoaSkge1xuICAgIGlmIChlLnN0cmljdClcbiAgICAgIHRocm93IGk7XG4gICAgcmV0dXJuIHI7XG4gIH1cbn1cbmZ1bmN0aW9uIGUwKHIpIHtcbiAgcmV0dXJuICFyIHx8IHR5cGVvZiByLnRoZW4gIT0gXCJmdW5jdGlvblwiID8gUHJvbWlzZS5yZXNvbHZlKHIpIDogcjtcbn1cbmZ1bmN0aW9uIHh0KHIsIC4uLmUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZTAociguLi5lKSk7XG4gIH0gY2F0Y2ggKHQpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QodCk7XG4gIH1cbn1cbmZ1bmN0aW9uIHQwKHIpIHtcbiAgY29uc3QgZSA9IHR5cGVvZiByO1xuICByZXR1cm4gciA9PT0gbnVsbCB8fCBlICE9PSBcIm9iamVjdFwiICYmIGUgIT09IFwiZnVuY3Rpb25cIjtcbn1cbmZ1bmN0aW9uIHIwKHIpIHtcbiAgY29uc3QgZSA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihyKTtcbiAgcmV0dXJuICFlIHx8IGUuaXNQcm90b3R5cGVPZihPYmplY3QpO1xufVxuZnVuY3Rpb24gSXMocikge1xuICBpZiAodDAocikpXG4gICAgcmV0dXJuIFN0cmluZyhyKTtcbiAgaWYgKHIwKHIpIHx8IEFycmF5LmlzQXJyYXkocikpXG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpO1xuICBpZiAodHlwZW9mIHIudG9KU09OID09IFwiZnVuY3Rpb25cIilcbiAgICByZXR1cm4gSXMoci50b0pTT04oKSk7XG4gIHRocm93IG5ldyBFcnJvcihcIlt1bnN0b3JhZ2VdIENhbm5vdCBzdHJpbmdpZnkgdmFsdWUhXCIpO1xufVxuY29uc3QgY28gPSBcImJhc2U2NDpcIjtcbmZ1bmN0aW9uIGkwKHIpIHtcbiAgcmV0dXJuIHR5cGVvZiByID09IFwic3RyaW5nXCIgPyByIDogY28gKyBhMChyKTtcbn1cbmZ1bmN0aW9uIG4wKHIpIHtcbiAgcmV0dXJuIHR5cGVvZiByICE9IFwic3RyaW5nXCIgfHwgIXIuc3RhcnRzV2l0aChjbykgPyByIDogczAoci5zbGljZShjby5sZW5ndGgpKTtcbn1cbmZ1bmN0aW9uIHMwKHIpIHtcbiAgcmV0dXJuIGdsb2JhbFRoaXMuQnVmZmVyID8gQnVmZmVyLmZyb20ociwgXCJiYXNlNjRcIikgOiBVaW50OEFycmF5LmZyb20oXG4gICAgZ2xvYmFsVGhpcy5hdG9iKHIpLFxuICAgIChlKSA9PiBlLmNvZGVQb2ludEF0KDApXG4gICk7XG59XG5mdW5jdGlvbiBhMChyKSB7XG4gIHJldHVybiBnbG9iYWxUaGlzLkJ1ZmZlciA/IEJ1ZmZlci5mcm9tKHIpLnRvU3RyaW5nKFwiYmFzZTY0XCIpIDogZ2xvYmFsVGhpcy5idG9hKFN0cmluZy5mcm9tQ29kZVBvaW50KC4uLnIpKTtcbn1cbmZ1bmN0aW9uIFd0KHIpIHtcbiAgcmV0dXJuIHIgJiYgci5zcGxpdChcIj9cIilbMF0/LnJlcGxhY2UoL1svXFxcXF0vZywgXCI6XCIpLnJlcGxhY2UoLzorL2csIFwiOlwiKS5yZXBsYWNlKC9eOnw6JC9nLCBcIlwiKSB8fCBcIlwiO1xufVxuZnVuY3Rpb24gbzAoLi4ucikge1xuICByZXR1cm4gV3Qoci5qb2luKFwiOlwiKSk7XG59XG5mdW5jdGlvbiB3cyhyKSB7XG4gIHJldHVybiByID0gV3QociksIHIgPyByICsgXCI6XCIgOiBcIlwiO1xufVxuY29uc3QgZjAgPSBcIm1lbW9yeVwiLCBjMCA9ICgpID0+IHtcbiAgY29uc3QgciA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIHJldHVybiB7XG4gICAgbmFtZTogZjAsXG4gICAgZ2V0SW5zdGFuY2U6ICgpID0+IHIsXG4gICAgaGFzSXRlbShlKSB7XG4gICAgICByZXR1cm4gci5oYXMoZSk7XG4gICAgfSxcbiAgICBnZXRJdGVtKGUpIHtcbiAgICAgIHJldHVybiByLmdldChlKSA/PyBudWxsO1xuICAgIH0sXG4gICAgZ2V0SXRlbVJhdyhlKSB7XG4gICAgICByZXR1cm4gci5nZXQoZSkgPz8gbnVsbDtcbiAgICB9LFxuICAgIHNldEl0ZW0oZSwgdCkge1xuICAgICAgci5zZXQoZSwgdCk7XG4gICAgfSxcbiAgICBzZXRJdGVtUmF3KGUsIHQpIHtcbiAgICAgIHIuc2V0KGUsIHQpO1xuICAgIH0sXG4gICAgcmVtb3ZlSXRlbShlKSB7XG4gICAgICByLmRlbGV0ZShlKTtcbiAgICB9LFxuICAgIGdldEtleXMoKSB7XG4gICAgICByZXR1cm4gWy4uLnIua2V5cygpXTtcbiAgICB9LFxuICAgIGNsZWFyKCkge1xuICAgICAgci5jbGVhcigpO1xuICAgIH0sXG4gICAgZGlzcG9zZSgpIHtcbiAgICAgIHIuY2xlYXIoKTtcbiAgICB9XG4gIH07XG59O1xuZnVuY3Rpb24gaDAociA9IHt9KSB7XG4gIGNvbnN0IGUgPSB7XG4gICAgbW91bnRzOiB7IFwiXCI6IHIuZHJpdmVyIHx8IGMwKCkgfSxcbiAgICBtb3VudHBvaW50czogW1wiXCJdLFxuICAgIHdhdGNoaW5nOiAhMSxcbiAgICB3YXRjaExpc3RlbmVyczogW10sXG4gICAgdW53YXRjaDoge31cbiAgfSwgdCA9IChkKSA9PiB7XG4gICAgZm9yIChjb25zdCB2IG9mIGUubW91bnRwb2ludHMpXG4gICAgICBpZiAoZC5zdGFydHNXaXRoKHYpKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGJhc2U6IHYsXG4gICAgICAgICAgcmVsYXRpdmVLZXk6IGQuc2xpY2Uodi5sZW5ndGgpLFxuICAgICAgICAgIGRyaXZlcjogZS5tb3VudHNbdl1cbiAgICAgICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgYmFzZTogXCJcIixcbiAgICAgIHJlbGF0aXZlS2V5OiBkLFxuICAgICAgZHJpdmVyOiBlLm1vdW50c1tcIlwiXVxuICAgIH07XG4gIH0sIGkgPSAoZCwgdikgPT4gZS5tb3VudHBvaW50cy5maWx0ZXIoXG4gICAgKHcpID0+IHcuc3RhcnRzV2l0aChkKSB8fCB2ICYmIGQuc3RhcnRzV2l0aCh3KVxuICApLm1hcCgodykgPT4gKHtcbiAgICByZWxhdGl2ZUJhc2U6IGQubGVuZ3RoID4gdy5sZW5ndGggPyBkLnNsaWNlKHcubGVuZ3RoKSA6IHZvaWQgMCxcbiAgICBtb3VudHBvaW50OiB3LFxuICAgIGRyaXZlcjogZS5tb3VudHNbd11cbiAgfSkpLCBuID0gKGQsIHYpID0+IHtcbiAgICBpZiAoZS53YXRjaGluZykge1xuICAgICAgdiA9IFd0KHYpO1xuICAgICAgZm9yIChjb25zdCB3IG9mIGUud2F0Y2hMaXN0ZW5lcnMpXG4gICAgICAgIHcoZCwgdik7XG4gICAgfVxuICB9LCBzID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghZS53YXRjaGluZykge1xuICAgICAgZS53YXRjaGluZyA9ICEwO1xuICAgICAgZm9yIChjb25zdCBkIGluIGUubW91bnRzKVxuICAgICAgICBlLnVud2F0Y2hbZF0gPSBhd2FpdCBOZihcbiAgICAgICAgICBlLm1vdW50c1tkXSxcbiAgICAgICAgICBuLFxuICAgICAgICAgIGRcbiAgICAgICAgKTtcbiAgICB9XG4gIH0sIG8gPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKGUud2F0Y2hpbmcpIHtcbiAgICAgIGZvciAoY29uc3QgZCBpbiBlLnVud2F0Y2gpXG4gICAgICAgIGF3YWl0IGUudW53YXRjaFtkXSgpO1xuICAgICAgZS51bndhdGNoID0ge30sIGUud2F0Y2hpbmcgPSAhMTtcbiAgICB9XG4gIH0sIGYgPSAoZCwgdiwgdykgPT4ge1xuICAgIGNvbnN0IEEgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCBJID0gKEQpID0+IHtcbiAgICAgIGxldCBOID0gQS5nZXQoRC5iYXNlKTtcbiAgICAgIHJldHVybiBOIHx8IChOID0ge1xuICAgICAgICBkcml2ZXI6IEQuZHJpdmVyLFxuICAgICAgICBiYXNlOiBELmJhc2UsXG4gICAgICAgIGl0ZW1zOiBbXVxuICAgICAgfSwgQS5zZXQoRC5iYXNlLCBOKSksIE47XG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IEQgb2YgZCkge1xuICAgICAgY29uc3QgTiA9IHR5cGVvZiBEID09IFwic3RyaW5nXCIsIGsgPSBXdChOID8gRCA6IEQua2V5KSwgaiA9IE4gPyB2b2lkIDAgOiBELnZhbHVlLCBUID0gTiB8fCAhRC5vcHRpb25zID8gdiA6IHsgLi4udiwgLi4uRC5vcHRpb25zIH0sIEsgPSB0KGspO1xuICAgICAgSShLKS5pdGVtcy5wdXNoKHtcbiAgICAgICAga2V5OiBrLFxuICAgICAgICB2YWx1ZTogaixcbiAgICAgICAgcmVsYXRpdmVLZXk6IEsucmVsYXRpdmVLZXksXG4gICAgICAgIG9wdGlvbnM6IFRcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoWy4uLkEudmFsdWVzKCldLm1hcCgoRCkgPT4gdyhEKSkpLnRoZW4oXG4gICAgICAoRCkgPT4gRC5mbGF0KClcbiAgICApO1xuICB9LCBoID0ge1xuICAgIC8vIEl0ZW1cbiAgICBoYXNJdGVtKGQsIHYgPSB7fSkge1xuICAgICAgZCA9IFd0KGQpO1xuICAgICAgY29uc3QgeyByZWxhdGl2ZUtleTogdywgZHJpdmVyOiBBIH0gPSB0KGQpO1xuICAgICAgcmV0dXJuIHh0KEEuaGFzSXRlbSwgdywgdik7XG4gICAgfSxcbiAgICBnZXRJdGVtKGQsIHYgPSB7fSkge1xuICAgICAgZCA9IFd0KGQpO1xuICAgICAgY29uc3QgeyByZWxhdGl2ZUtleTogdywgZHJpdmVyOiBBIH0gPSB0KGQpO1xuICAgICAgcmV0dXJuIHh0KEEuZ2V0SXRlbSwgdywgdikudGhlbihcbiAgICAgICAgKEkpID0+IG1zKEkpXG4gICAgICApO1xuICAgIH0sXG4gICAgZ2V0SXRlbXMoZCwgdiA9IHt9KSB7XG4gICAgICByZXR1cm4gZihkLCB2LCAodykgPT4gdy5kcml2ZXIuZ2V0SXRlbXMgPyB4dChcbiAgICAgICAgdy5kcml2ZXIuZ2V0SXRlbXMsXG4gICAgICAgIHcuaXRlbXMubWFwKChBKSA9PiAoe1xuICAgICAgICAgIGtleTogQS5yZWxhdGl2ZUtleSxcbiAgICAgICAgICBvcHRpb25zOiBBLm9wdGlvbnNcbiAgICAgICAgfSkpLFxuICAgICAgICB2XG4gICAgICApLnRoZW4oXG4gICAgICAgIChBKSA9PiBBLm1hcCgoSSkgPT4gKHtcbiAgICAgICAgICBrZXk6IG8wKHcuYmFzZSwgSS5rZXkpLFxuICAgICAgICAgIHZhbHVlOiBtcyhJLnZhbHVlKVxuICAgICAgICB9KSlcbiAgICAgICkgOiBQcm9taXNlLmFsbChcbiAgICAgICAgdy5pdGVtcy5tYXAoKEEpID0+IHh0KFxuICAgICAgICAgIHcuZHJpdmVyLmdldEl0ZW0sXG4gICAgICAgICAgQS5yZWxhdGl2ZUtleSxcbiAgICAgICAgICBBLm9wdGlvbnNcbiAgICAgICAgKS50aGVuKChJKSA9PiAoe1xuICAgICAgICAgIGtleTogQS5rZXksXG4gICAgICAgICAgdmFsdWU6IG1zKEkpXG4gICAgICAgIH0pKSlcbiAgICAgICkpO1xuICAgIH0sXG4gICAgZ2V0SXRlbVJhdyhkLCB2ID0ge30pIHtcbiAgICAgIGQgPSBXdChkKTtcbiAgICAgIGNvbnN0IHsgcmVsYXRpdmVLZXk6IHcsIGRyaXZlcjogQSB9ID0gdChkKTtcbiAgICAgIHJldHVybiBBLmdldEl0ZW1SYXcgPyB4dChBLmdldEl0ZW1SYXcsIHcsIHYpIDogeHQoQS5nZXRJdGVtLCB3LCB2KS50aGVuKFxuICAgICAgICAoSSkgPT4gbjAoSSlcbiAgICAgICk7XG4gICAgfSxcbiAgICBhc3luYyBzZXRJdGVtKGQsIHYsIHcgPSB7fSkge1xuICAgICAgaWYgKHYgPT09IHZvaWQgMClcbiAgICAgICAgcmV0dXJuIGgucmVtb3ZlSXRlbShkKTtcbiAgICAgIGQgPSBXdChkKTtcbiAgICAgIGNvbnN0IHsgcmVsYXRpdmVLZXk6IEEsIGRyaXZlcjogSSB9ID0gdChkKTtcbiAgICAgIEkuc2V0SXRlbSAmJiAoYXdhaXQgeHQoSS5zZXRJdGVtLCBBLCBJcyh2KSwgdyksIEkud2F0Y2ggfHwgbihcInVwZGF0ZVwiLCBkKSk7XG4gICAgfSxcbiAgICBhc3luYyBzZXRJdGVtcyhkLCB2KSB7XG4gICAgICBhd2FpdCBmKGQsIHYsIGFzeW5jICh3KSA9PiB7XG4gICAgICAgIGlmICh3LmRyaXZlci5zZXRJdGVtcylcbiAgICAgICAgICByZXR1cm4geHQoXG4gICAgICAgICAgICB3LmRyaXZlci5zZXRJdGVtcyxcbiAgICAgICAgICAgIHcuaXRlbXMubWFwKChBKSA9PiAoe1xuICAgICAgICAgICAgICBrZXk6IEEucmVsYXRpdmVLZXksXG4gICAgICAgICAgICAgIHZhbHVlOiBJcyhBLnZhbHVlKSxcbiAgICAgICAgICAgICAgb3B0aW9uczogQS5vcHRpb25zXG4gICAgICAgICAgICB9KSksXG4gICAgICAgICAgICB2XG4gICAgICAgICAgKTtcbiAgICAgICAgdy5kcml2ZXIuc2V0SXRlbSAmJiBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICB3Lml0ZW1zLm1hcCgoQSkgPT4geHQoXG4gICAgICAgICAgICB3LmRyaXZlci5zZXRJdGVtLFxuICAgICAgICAgICAgQS5yZWxhdGl2ZUtleSxcbiAgICAgICAgICAgIElzKEEudmFsdWUpLFxuICAgICAgICAgICAgQS5vcHRpb25zXG4gICAgICAgICAgKSlcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgYXN5bmMgc2V0SXRlbVJhdyhkLCB2LCB3ID0ge30pIHtcbiAgICAgIGlmICh2ID09PSB2b2lkIDApXG4gICAgICAgIHJldHVybiBoLnJlbW92ZUl0ZW0oZCwgdyk7XG4gICAgICBkID0gV3QoZCk7XG4gICAgICBjb25zdCB7IHJlbGF0aXZlS2V5OiBBLCBkcml2ZXI6IEkgfSA9IHQoZCk7XG4gICAgICBpZiAoSS5zZXRJdGVtUmF3KVxuICAgICAgICBhd2FpdCB4dChJLnNldEl0ZW1SYXcsIEEsIHYsIHcpO1xuICAgICAgZWxzZSBpZiAoSS5zZXRJdGVtKVxuICAgICAgICBhd2FpdCB4dChJLnNldEl0ZW0sIEEsIGkwKHYpLCB3KTtcbiAgICAgIGVsc2VcbiAgICAgICAgcmV0dXJuO1xuICAgICAgSS53YXRjaCB8fCBuKFwidXBkYXRlXCIsIGQpO1xuICAgIH0sXG4gICAgYXN5bmMgcmVtb3ZlSXRlbShkLCB2ID0ge30pIHtcbiAgICAgIHR5cGVvZiB2ID09IFwiYm9vbGVhblwiICYmICh2ID0geyByZW1vdmVNZXRhOiB2IH0pLCBkID0gV3QoZCk7XG4gICAgICBjb25zdCB7IHJlbGF0aXZlS2V5OiB3LCBkcml2ZXI6IEEgfSA9IHQoZCk7XG4gICAgICBBLnJlbW92ZUl0ZW0gJiYgKGF3YWl0IHh0KEEucmVtb3ZlSXRlbSwgdywgdiksICh2LnJlbW92ZU1ldGEgfHwgdi5yZW1vdmVNYXRhKSAmJiBhd2FpdCB4dChBLnJlbW92ZUl0ZW0sIHcgKyBcIiRcIiwgdiksIEEud2F0Y2ggfHwgbihcInJlbW92ZVwiLCBkKSk7XG4gICAgfSxcbiAgICAvLyBNZXRhXG4gICAgYXN5bmMgZ2V0TWV0YShkLCB2ID0ge30pIHtcbiAgICAgIHR5cGVvZiB2ID09IFwiYm9vbGVhblwiICYmICh2ID0geyBuYXRpdmVPbmx5OiB2IH0pLCBkID0gV3QoZCk7XG4gICAgICBjb25zdCB7IHJlbGF0aXZlS2V5OiB3LCBkcml2ZXI6IEEgfSA9IHQoZCksIEkgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIGlmIChBLmdldE1ldGEgJiYgT2JqZWN0LmFzc2lnbihJLCBhd2FpdCB4dChBLmdldE1ldGEsIHcsIHYpKSwgIXYubmF0aXZlT25seSkge1xuICAgICAgICBjb25zdCBEID0gYXdhaXQgeHQoXG4gICAgICAgICAgQS5nZXRJdGVtLFxuICAgICAgICAgIHcgKyBcIiRcIixcbiAgICAgICAgICB2XG4gICAgICAgICkudGhlbigoTikgPT4gbXMoTikpO1xuICAgICAgICBEICYmIHR5cGVvZiBEID09IFwib2JqZWN0XCIgJiYgKHR5cGVvZiBELmF0aW1lID09IFwic3RyaW5nXCIgJiYgKEQuYXRpbWUgPSBuZXcgRGF0ZShELmF0aW1lKSksIHR5cGVvZiBELm10aW1lID09IFwic3RyaW5nXCIgJiYgKEQubXRpbWUgPSBuZXcgRGF0ZShELm10aW1lKSksIE9iamVjdC5hc3NpZ24oSSwgRCkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIEk7XG4gICAgfSxcbiAgICBzZXRNZXRhKGQsIHYsIHcgPSB7fSkge1xuICAgICAgcmV0dXJuIHRoaXMuc2V0SXRlbShkICsgXCIkXCIsIHYsIHcpO1xuICAgIH0sXG4gICAgcmVtb3ZlTWV0YShkLCB2ID0ge30pIHtcbiAgICAgIHJldHVybiB0aGlzLnJlbW92ZUl0ZW0oZCArIFwiJFwiLCB2KTtcbiAgICB9LFxuICAgIC8vIEtleXNcbiAgICBhc3luYyBnZXRLZXlzKGQsIHYgPSB7fSkge1xuICAgICAgZCA9IHdzKGQpO1xuICAgICAgY29uc3QgdyA9IGkoZCwgITApO1xuICAgICAgbGV0IEEgPSBbXTtcbiAgICAgIGNvbnN0IEkgPSBbXTtcbiAgICAgIGZvciAoY29uc3QgRCBvZiB3KSB7XG4gICAgICAgIGNvbnN0IE4gPSBhd2FpdCB4dChcbiAgICAgICAgICBELmRyaXZlci5nZXRLZXlzLFxuICAgICAgICAgIEQucmVsYXRpdmVCYXNlLFxuICAgICAgICAgIHZcbiAgICAgICAgKTtcbiAgICAgICAgZm9yIChjb25zdCBrIG9mIE4pIHtcbiAgICAgICAgICBjb25zdCBqID0gRC5tb3VudHBvaW50ICsgV3Qoayk7XG4gICAgICAgICAgQS5zb21lKChUKSA9PiBqLnN0YXJ0c1dpdGgoVCkpIHx8IEkucHVzaChqKTtcbiAgICAgICAgfVxuICAgICAgICBBID0gW1xuICAgICAgICAgIEQubW91bnRwb2ludCxcbiAgICAgICAgICAuLi5BLmZpbHRlcigoaykgPT4gIWsuc3RhcnRzV2l0aChELm1vdW50cG9pbnQpKVxuICAgICAgICBdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGQgPyBJLmZpbHRlcihcbiAgICAgICAgKEQpID0+IEQuc3RhcnRzV2l0aChkKSAmJiBEW0QubGVuZ3RoIC0gMV0gIT09IFwiJFwiXG4gICAgICApIDogSS5maWx0ZXIoKEQpID0+IERbRC5sZW5ndGggLSAxXSAhPT0gXCIkXCIpO1xuICAgIH0sXG4gICAgLy8gVXRpbHNcbiAgICBhc3luYyBjbGVhcihkLCB2ID0ge30pIHtcbiAgICAgIGQgPSB3cyhkKSwgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIGkoZCwgITEpLm1hcChhc3luYyAodykgPT4ge1xuICAgICAgICAgIGlmICh3LmRyaXZlci5jbGVhcilcbiAgICAgICAgICAgIHJldHVybiB4dCh3LmRyaXZlci5jbGVhciwgdy5yZWxhdGl2ZUJhc2UsIHYpO1xuICAgICAgICAgIGlmICh3LmRyaXZlci5yZW1vdmVJdGVtKSB7XG4gICAgICAgICAgICBjb25zdCBBID0gYXdhaXQgdy5kcml2ZXIuZ2V0S2V5cyh3LnJlbGF0aXZlQmFzZSB8fCBcIlwiLCB2KTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgICAgICAgICAgQS5tYXAoKEkpID0+IHcuZHJpdmVyLnJlbW92ZUl0ZW0oSSwgdikpXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSxcbiAgICBhc3luYyBkaXNwb3NlKCkge1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgIE9iamVjdC52YWx1ZXMoZS5tb3VudHMpLm1hcCgoZCkgPT4gVGYoZCkpXG4gICAgICApO1xuICAgIH0sXG4gICAgYXN5bmMgd2F0Y2goZCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHMoKSwgZS53YXRjaExpc3RlbmVycy5wdXNoKGQpLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGUud2F0Y2hMaXN0ZW5lcnMgPSBlLndhdGNoTGlzdGVuZXJzLmZpbHRlcihcbiAgICAgICAgICAodikgPT4gdiAhPT0gZFxuICAgICAgICApLCBlLndhdGNoTGlzdGVuZXJzLmxlbmd0aCA9PT0gMCAmJiBhd2FpdCBvKCk7XG4gICAgICB9O1xuICAgIH0sXG4gICAgYXN5bmMgdW53YXRjaCgpIHtcbiAgICAgIGUud2F0Y2hMaXN0ZW5lcnMgPSBbXSwgYXdhaXQgbygpO1xuICAgIH0sXG4gICAgLy8gTW91bnRcbiAgICBtb3VudChkLCB2KSB7XG4gICAgICBpZiAoZCA9IHdzKGQpLCBkICYmIGUubW91bnRzW2RdKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGFscmVhZHkgbW91bnRlZCBhdCAke2R9YCk7XG4gICAgICByZXR1cm4gZCAmJiAoZS5tb3VudHBvaW50cy5wdXNoKGQpLCBlLm1vdW50cG9pbnRzLnNvcnQoKHcsIEEpID0+IEEubGVuZ3RoIC0gdy5sZW5ndGgpKSwgZS5tb3VudHNbZF0gPSB2LCBlLndhdGNoaW5nICYmIFByb21pc2UucmVzb2x2ZShOZih2LCBuLCBkKSkudGhlbigodykgPT4ge1xuICAgICAgICBlLnVud2F0Y2hbZF0gPSB3O1xuICAgICAgfSkuY2F0Y2goY29uc29sZS5lcnJvciksIGg7XG4gICAgfSxcbiAgICBhc3luYyB1bm1vdW50KGQsIHYgPSAhMCkge1xuICAgICAgZCA9IHdzKGQpLCAhKCFkIHx8ICFlLm1vdW50c1tkXSkgJiYgKGUud2F0Y2hpbmcgJiYgZCBpbiBlLnVud2F0Y2ggJiYgKGUudW53YXRjaFtkXT8uKCksIGRlbGV0ZSBlLnVud2F0Y2hbZF0pLCB2ICYmIGF3YWl0IFRmKGUubW91bnRzW2RdKSwgZS5tb3VudHBvaW50cyA9IGUubW91bnRwb2ludHMuZmlsdGVyKCh3KSA9PiB3ICE9PSBkKSwgZGVsZXRlIGUubW91bnRzW2RdKTtcbiAgICB9LFxuICAgIGdldE1vdW50KGQgPSBcIlwiKSB7XG4gICAgICBkID0gV3QoZCkgKyBcIjpcIjtcbiAgICAgIGNvbnN0IHYgPSB0KGQpO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZHJpdmVyOiB2LmRyaXZlcixcbiAgICAgICAgYmFzZTogdi5iYXNlXG4gICAgICB9O1xuICAgIH0sXG4gICAgZ2V0TW91bnRzKGQgPSBcIlwiLCB2ID0ge30pIHtcbiAgICAgIHJldHVybiBkID0gV3QoZCksIGkoZCwgdi5wYXJlbnRzKS5tYXAoKEEpID0+ICh7XG4gICAgICAgIGRyaXZlcjogQS5kcml2ZXIsXG4gICAgICAgIGJhc2U6IEEubW91bnRwb2ludFxuICAgICAgfSkpO1xuICAgIH0sXG4gICAgLy8gQWxpYXNlc1xuICAgIGtleXM6IChkLCB2ID0ge30pID0+IGguZ2V0S2V5cyhkLCB2KSxcbiAgICBnZXQ6IChkLCB2ID0ge30pID0+IGguZ2V0SXRlbShkLCB2KSxcbiAgICBzZXQ6IChkLCB2LCB3ID0ge30pID0+IGguc2V0SXRlbShkLCB2LCB3KSxcbiAgICBoYXM6IChkLCB2ID0ge30pID0+IGguaGFzSXRlbShkLCB2KSxcbiAgICBkZWw6IChkLCB2ID0ge30pID0+IGgucmVtb3ZlSXRlbShkLCB2KSxcbiAgICByZW1vdmU6IChkLCB2ID0ge30pID0+IGgucmVtb3ZlSXRlbShkLCB2KVxuICB9O1xuICByZXR1cm4gaDtcbn1cbmZ1bmN0aW9uIE5mKHIsIGUsIHQpIHtcbiAgcmV0dXJuIHIud2F0Y2ggPyByLndhdGNoKChpLCBuKSA9PiBlKGksIHQgKyBuKSkgOiAoKSA9PiB7XG4gIH07XG59XG5hc3luYyBmdW5jdGlvbiBUZihyKSB7XG4gIHR5cGVvZiByLmRpc3Bvc2UgPT0gXCJmdW5jdGlvblwiICYmIGF3YWl0IHh0KHIuZGlzcG9zZSk7XG59XG5mdW5jdGlvbiBHaShyKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgoZSwgdCkgPT4ge1xuICAgIHIub25jb21wbGV0ZSA9IHIub25zdWNjZXNzID0gKCkgPT4gZShyLnJlc3VsdCksIHIub25hYm9ydCA9IHIub25lcnJvciA9ICgpID0+IHQoci5lcnJvcik7XG4gIH0pO1xufVxuZnVuY3Rpb24gS2gociwgZSkge1xuICBjb25zdCB0ID0gaW5kZXhlZERCLm9wZW4ocik7XG4gIHQub251cGdyYWRlbmVlZGVkID0gKCkgPT4gdC5yZXN1bHQuY3JlYXRlT2JqZWN0U3RvcmUoZSk7XG4gIGNvbnN0IGkgPSBHaSh0KTtcbiAgcmV0dXJuIChuLCBzKSA9PiBpLnRoZW4oKG8pID0+IHMoby50cmFuc2FjdGlvbihlLCBuKS5vYmplY3RTdG9yZShlKSkpO1xufVxubGV0IExhO1xuZnVuY3Rpb24gZXMoKSB7XG4gIHJldHVybiBMYSB8fCAoTGEgPSBLaChcImtleXZhbC1zdG9yZVwiLCBcImtleXZhbFwiKSksIExhO1xufVxuZnVuY3Rpb24gQ2YociwgZSA9IGVzKCkpIHtcbiAgcmV0dXJuIGUoXCJyZWFkb25seVwiLCAodCkgPT4gR2kodC5nZXQocikpKTtcbn1cbmZ1bmN0aW9uIHUwKHIsIGUsIHQgPSBlcygpKSB7XG4gIHJldHVybiB0KFwicmVhZHdyaXRlXCIsIChpKSA9PiAoaS5wdXQoZSwgciksIEdpKGkudHJhbnNhY3Rpb24pKSk7XG59XG5mdW5jdGlvbiBkMChyLCBlID0gZXMoKSkge1xuICByZXR1cm4gZShcInJlYWR3cml0ZVwiLCAodCkgPT4gKHQuZGVsZXRlKHIpLCBHaSh0LnRyYW5zYWN0aW9uKSkpO1xufVxuZnVuY3Rpb24gbDAociA9IGVzKCkpIHtcbiAgcmV0dXJuIHIoXCJyZWFkd3JpdGVcIiwgKGUpID0+IChlLmNsZWFyKCksIEdpKGUudHJhbnNhY3Rpb24pKSk7XG59XG5mdW5jdGlvbiBwMChyLCBlKSB7XG4gIHJldHVybiByLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLnJlc3VsdCAmJiAoZSh0aGlzLnJlc3VsdCksIHRoaXMucmVzdWx0LmNvbnRpbnVlKCkpO1xuICB9LCBHaShyLnRyYW5zYWN0aW9uKTtcbn1cbmZ1bmN0aW9uIHYwKHIgPSBlcygpKSB7XG4gIHJldHVybiByKFwicmVhZG9ubHlcIiwgKGUpID0+IHtcbiAgICBpZiAoZS5nZXRBbGxLZXlzKVxuICAgICAgcmV0dXJuIEdpKGUuZ2V0QWxsS2V5cygpKTtcbiAgICBjb25zdCB0ID0gW107XG4gICAgcmV0dXJuIHAwKGUsIChpKSA9PiB0LnB1c2goaS5rZXkpKS50aGVuKCgpID0+IHQpO1xuICB9KTtcbn1cbmNvbnN0IGIwID0gKHIpID0+IEpTT04uc3RyaW5naWZ5KHIsIChlLCB0KSA9PiB0eXBlb2YgdCA9PSBcImJpZ2ludFwiID8gdC50b1N0cmluZygpICsgXCJuXCIgOiB0KSwgZzAgPSAocikgPT4ge1xuICBjb25zdCBlID0gLyhbXFxbOl0pPyhcXGR7MTcsfXwoPzpbOV0oPzpbMS05XTA3MTk5MjU0NzQwOTkxfDBbMS05XTcxOTkyNTQ3NDA5OTF8MDBbOC05XTE5OTI1NDc0MDk5MXwwMDdbMi05XTk5MjU0NzQwOTkxfDAwNzE5OVszLTldNTQ3NDA5OTF8MDA3MTk5Mls2LTldNDc0MDk5MXwwMDcxOTkyNVs1LTldNzQwOTkxfDAwNzE5OTI1NFs4LTldNDA5OTF8MDA3MTk5MjU0N1s1LTldMDk5MXwwMDcxOTkyNTQ3NFsxLTldOTkxfDAwNzE5OTI1NDc0MDk5WzItOV0pKSkoWyxcXH1cXF1dKS9nLCB0ID0gci5yZXBsYWNlKGUsICckMVwiJDJuXCIkMycpO1xuICByZXR1cm4gSlNPTi5wYXJzZSh0LCAoaSwgbikgPT4gdHlwZW9mIG4gPT0gXCJzdHJpbmdcIiAmJiBuLm1hdGNoKC9eXFxkK24kLykgPyBCaWdJbnQobi5zdWJzdHJpbmcoMCwgbi5sZW5ndGggLSAxKSkgOiBuKTtcbn07XG5mdW5jdGlvbiB1bihyKSB7XG4gIGlmICh0eXBlb2YgciAhPSBcInN0cmluZ1wiKVxuICAgIHRocm93IG5ldyBFcnJvcihgQ2Fubm90IHNhZmUganNvbiBwYXJzZSB2YWx1ZSBvZiB0eXBlICR7dHlwZW9mIHJ9YCk7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGcwKHIpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gcjtcbiAgfVxufVxuZnVuY3Rpb24gamkocikge1xuICByZXR1cm4gdHlwZW9mIHIgPT0gXCJzdHJpbmdcIiA/IHIgOiBiMChyKSB8fCBcIlwiO1xufVxuY29uc3QgeTAgPSBcImlkYi1rZXl2YWxcIjtcbnZhciBtMCA9IChyID0ge30pID0+IHtcbiAgY29uc3QgZSA9IHIuYmFzZSAmJiByLmJhc2UubGVuZ3RoID4gMCA/IGAke3IuYmFzZX06YCA6IFwiXCIsIHQgPSAobikgPT4gZSArIG47XG4gIGxldCBpO1xuICByZXR1cm4gci5kYk5hbWUgJiYgci5zdG9yZU5hbWUgJiYgKGkgPSBLaChyLmRiTmFtZSwgci5zdG9yZU5hbWUpKSwgeyBuYW1lOiB5MCwgb3B0aW9uczogciwgYXN5bmMgaGFzSXRlbShuKSB7XG4gICAgcmV0dXJuICEodHlwZW9mIGF3YWl0IENmKHQobiksIGkpID4gXCJ1XCIpO1xuICB9LCBhc3luYyBnZXRJdGVtKG4pIHtcbiAgICByZXR1cm4gYXdhaXQgQ2YodChuKSwgaSkgPz8gbnVsbDtcbiAgfSwgc2V0SXRlbShuLCBzKSB7XG4gICAgcmV0dXJuIHUwKHQobiksIHMsIGkpO1xuICB9LCByZW1vdmVJdGVtKG4pIHtcbiAgICByZXR1cm4gZDAodChuKSwgaSk7XG4gIH0sIGdldEtleXMoKSB7XG4gICAgcmV0dXJuIHYwKGkpO1xuICB9LCBjbGVhcigpIHtcbiAgICByZXR1cm4gbDAoaSk7XG4gIH0gfTtcbn07XG5jb25zdCB3MCA9IFwiV0FMTEVUX0NPTk5FQ1RfVjJfSU5ERVhFRF9EQlwiLCBfMCA9IFwia2V5dmFsdWVzdG9yYWdlXCI7XG5sZXQgeDAgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuaW5kZXhlZERiID0gaDAoeyBkcml2ZXI6IG0wKHsgZGJOYW1lOiB3MCwgc3RvcmVOYW1lOiBfMCB9KSB9KTtcbiAgfVxuICBhc3luYyBnZXRLZXlzKCkge1xuICAgIHJldHVybiB0aGlzLmluZGV4ZWREYi5nZXRLZXlzKCk7XG4gIH1cbiAgYXN5bmMgZ2V0RW50cmllcygpIHtcbiAgICByZXR1cm4gKGF3YWl0IHRoaXMuaW5kZXhlZERiLmdldEl0ZW1zKGF3YWl0IHRoaXMuaW5kZXhlZERiLmdldEtleXMoKSkpLm1hcCgoZSkgPT4gW2Uua2V5LCBlLnZhbHVlXSk7XG4gIH1cbiAgYXN5bmMgZ2V0SXRlbShlKSB7XG4gICAgY29uc3QgdCA9IGF3YWl0IHRoaXMuaW5kZXhlZERiLmdldEl0ZW0oZSk7XG4gICAgaWYgKHQgIT09IG51bGwpXG4gICAgICByZXR1cm4gdDtcbiAgfVxuICBhc3luYyBzZXRJdGVtKGUsIHQpIHtcbiAgICBhd2FpdCB0aGlzLmluZGV4ZWREYi5zZXRJdGVtKGUsIGppKHQpKTtcbiAgfVxuICBhc3luYyByZW1vdmVJdGVtKGUpIHtcbiAgICBhd2FpdCB0aGlzLmluZGV4ZWREYi5yZW1vdmVJdGVtKGUpO1xuICB9XG59O1xudmFyIEZhID0gdHlwZW9mIGdsb2JhbFRoaXMgPCBcInVcIiA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93IDwgXCJ1XCIgPyB3aW5kb3cgOiB0eXBlb2YgZ2xvYmFsIDwgXCJ1XCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiA8IFwidVwiID8gc2VsZiA6IHt9LCBBcyA9IHsgZXhwb3J0czoge30gfTtcbihmdW5jdGlvbigpIHtcbiAgbGV0IHI7XG4gIGZ1bmN0aW9uIGUoKSB7XG4gIH1cbiAgciA9IGUsIHIucHJvdG90eXBlLmdldEl0ZW0gPSBmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuIHRoaXMuaGFzT3duUHJvcGVydHkodCkgPyBTdHJpbmcodGhpc1t0XSkgOiBudWxsO1xuICB9LCByLnByb3RvdHlwZS5zZXRJdGVtID0gZnVuY3Rpb24odCwgaSkge1xuICAgIHRoaXNbdF0gPSBTdHJpbmcoaSk7XG4gIH0sIHIucHJvdG90eXBlLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbih0KSB7XG4gICAgZGVsZXRlIHRoaXNbdF07XG4gIH0sIHIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgdCA9IHRoaXM7XG4gICAgT2JqZWN0LmtleXModCkuZm9yRWFjaChmdW5jdGlvbihpKSB7XG4gICAgICB0W2ldID0gdm9pZCAwLCBkZWxldGUgdFtpXTtcbiAgICB9KTtcbiAgfSwgci5wcm90b3R5cGUua2V5ID0gZnVuY3Rpb24odCkge1xuICAgIHJldHVybiB0ID0gdCB8fCAwLCBPYmplY3Qua2V5cyh0aGlzKVt0XTtcbiAgfSwgci5wcm90b3R5cGUuX19kZWZpbmVHZXR0ZXJfXyhcImxlbmd0aFwiLCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcykubGVuZ3RoO1xuICB9KSwgdHlwZW9mIEZhIDwgXCJ1XCIgJiYgRmEubG9jYWxTdG9yYWdlID8gQXMuZXhwb3J0cyA9IEZhLmxvY2FsU3RvcmFnZSA6IHR5cGVvZiB3aW5kb3cgPCBcInVcIiAmJiB3aW5kb3cubG9jYWxTdG9yYWdlID8gQXMuZXhwb3J0cyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UgOiBBcy5leHBvcnRzID0gbmV3IGUoKTtcbn0pKCk7XG5mdW5jdGlvbiBFMChyKSB7XG4gIHZhciBlO1xuICByZXR1cm4gW3JbMF0sIHVuKChlID0gclsxXSkgIT0gbnVsbCA/IGUgOiBcIlwiKV07XG59XG5sZXQgUzAgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMubG9jYWxTdG9yYWdlID0gQXMuZXhwb3J0cztcbiAgfVxuICBhc3luYyBnZXRLZXlzKCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmxvY2FsU3RvcmFnZSk7XG4gIH1cbiAgYXN5bmMgZ2V0RW50cmllcygpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy5sb2NhbFN0b3JhZ2UpLm1hcChFMCk7XG4gIH1cbiAgYXN5bmMgZ2V0SXRlbShlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMubG9jYWxTdG9yYWdlLmdldEl0ZW0oZSk7XG4gICAgaWYgKHQgIT09IG51bGwpXG4gICAgICByZXR1cm4gdW4odCk7XG4gIH1cbiAgYXN5bmMgc2V0SXRlbShlLCB0KSB7XG4gICAgdGhpcy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShlLCBqaSh0KSk7XG4gIH1cbiAgYXN5bmMgcmVtb3ZlSXRlbShlKSB7XG4gICAgdGhpcy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShlKTtcbiAgfVxufTtcbmNvbnN0IE0wID0gXCJ3Y19zdG9yYWdlX3ZlcnNpb25cIiwgJGYgPSAxLCBJMCA9IGFzeW5jIChyLCBlLCB0KSA9PiB7XG4gIGNvbnN0IGkgPSBNMCwgbiA9IGF3YWl0IGUuZ2V0SXRlbShpKTtcbiAgaWYgKG4gJiYgbiA+PSAkZikge1xuICAgIHQoZSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHMgPSBhd2FpdCByLmdldEtleXMoKTtcbiAgaWYgKCFzLmxlbmd0aCkge1xuICAgIHQoZSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IG8gPSBbXTtcbiAgZm9yICg7IHMubGVuZ3RoOyApIHtcbiAgICBjb25zdCBmID0gcy5zaGlmdCgpO1xuICAgIGlmICghZilcbiAgICAgIGNvbnRpbnVlO1xuICAgIGNvbnN0IGggPSBmLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKGguaW5jbHVkZXMoXCJ3Y0BcIikgfHwgaC5pbmNsdWRlcyhcIndhbGxldGNvbm5lY3RcIikgfHwgaC5pbmNsdWRlcyhcIndjX1wiKSB8fCBoLmluY2x1ZGVzKFwid2FsbGV0X2Nvbm5lY3RcIikpIHtcbiAgICAgIGNvbnN0IGQgPSBhd2FpdCByLmdldEl0ZW0oZik7XG4gICAgICBhd2FpdCBlLnNldEl0ZW0oZiwgZCksIG8ucHVzaChmKTtcbiAgICB9XG4gIH1cbiAgYXdhaXQgZS5zZXRJdGVtKGksICRmKSwgdChlKSwgQTAociwgbyk7XG59LCBBMCA9IGFzeW5jIChyLCBlKSA9PiB7XG4gIGUubGVuZ3RoICYmIGUuZm9yRWFjaChhc3luYyAodCkgPT4ge1xuICAgIGF3YWl0IHIucmVtb3ZlSXRlbSh0KTtcbiAgfSk7XG59O1xubGV0IEQwID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmluaXRpYWxpemVkID0gITEsIHRoaXMuc2V0SW5pdGlhbGl6ZWQgPSAodCkgPT4ge1xuICAgICAgdGhpcy5zdG9yYWdlID0gdCwgdGhpcy5pbml0aWFsaXplZCA9ICEwO1xuICAgIH07XG4gICAgY29uc3QgZSA9IG5ldyBTMCgpO1xuICAgIHRoaXMuc3RvcmFnZSA9IGU7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHQgPSBuZXcgeDAoKTtcbiAgICAgIEkwKGUsIHQsIHRoaXMuc2V0SW5pdGlhbGl6ZWQpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgdGhpcy5pbml0aWFsaXplZCA9ICEwO1xuICAgIH1cbiAgfVxuICBhc3luYyBnZXRLZXlzKCkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmluaXRpYWxpemUoKSwgdGhpcy5zdG9yYWdlLmdldEtleXMoKTtcbiAgfVxuICBhc3luYyBnZXRFbnRyaWVzKCkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmluaXRpYWxpemUoKSwgdGhpcy5zdG9yYWdlLmdldEVudHJpZXMoKTtcbiAgfVxuICBhc3luYyBnZXRJdGVtKGUpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5pbml0aWFsaXplKCksIHRoaXMuc3RvcmFnZS5nZXRJdGVtKGUpO1xuICB9XG4gIGFzeW5jIHNldEl0ZW0oZSwgdCkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmluaXRpYWxpemUoKSwgdGhpcy5zdG9yYWdlLnNldEl0ZW0oZSwgdCk7XG4gIH1cbiAgYXN5bmMgcmVtb3ZlSXRlbShlKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZSgpLCB0aGlzLnN0b3JhZ2UucmVtb3ZlSXRlbShlKTtcbiAgfVxuICBhc3luYyBpbml0aWFsaXplKCkge1xuICAgIHRoaXMuaW5pdGlhbGl6ZWQgfHwgYXdhaXQgbmV3IFByb21pc2UoKGUpID0+IHtcbiAgICAgIGNvbnN0IHQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgJiYgKGNsZWFySW50ZXJ2YWwodCksIGUoKSk7XG4gICAgICB9LCAyMCk7XG4gICAgfSk7XG4gIH1cbn07XG5mdW5jdGlvbiBQMChyKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHIpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gJ1wiW0NpcmN1bGFyXVwiJztcbiAgfVxufVxudmFyIE8wID0gUjA7XG5mdW5jdGlvbiBSMChyLCBlLCB0KSB7XG4gIHZhciBpID0gdCAmJiB0LnN0cmluZ2lmeSB8fCBQMCwgbiA9IDE7XG4gIGlmICh0eXBlb2YgciA9PSBcIm9iamVjdFwiICYmIHIgIT09IG51bGwpIHtcbiAgICB2YXIgcyA9IGUubGVuZ3RoICsgbjtcbiAgICBpZiAocyA9PT0gMSlcbiAgICAgIHJldHVybiByO1xuICAgIHZhciBvID0gbmV3IEFycmF5KHMpO1xuICAgIG9bMF0gPSBpKHIpO1xuICAgIGZvciAodmFyIGYgPSAxOyBmIDwgczsgZisrKVxuICAgICAgb1tmXSA9IGkoZVtmXSk7XG4gICAgcmV0dXJuIG8uam9pbihcIiBcIik7XG4gIH1cbiAgaWYgKHR5cGVvZiByICE9IFwic3RyaW5nXCIpXG4gICAgcmV0dXJuIHI7XG4gIHZhciBoID0gZS5sZW5ndGg7XG4gIGlmIChoID09PSAwKVxuICAgIHJldHVybiByO1xuICBmb3IgKHZhciBkID0gXCJcIiwgdiA9IDEgLSBuLCB3ID0gLTEsIEEgPSByICYmIHIubGVuZ3RoIHx8IDAsIEkgPSAwOyBJIDwgQTsgKSB7XG4gICAgaWYgKHIuY2hhckNvZGVBdChJKSA9PT0gMzcgJiYgSSArIDEgPCBBKSB7XG4gICAgICBzd2l0Y2ggKHcgPSB3ID4gLTEgPyB3IDogMCwgci5jaGFyQ29kZUF0KEkgKyAxKSkge1xuICAgICAgICBjYXNlIDEwMDpcbiAgICAgICAgY2FzZSAxMDI6XG4gICAgICAgICAgaWYgKHYgPj0gaCB8fCBlW3ZdID09IG51bGwpXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB3IDwgSSAmJiAoZCArPSByLnNsaWNlKHcsIEkpKSwgZCArPSBOdW1iZXIoZVt2XSksIHcgPSBJICsgMiwgSSsrO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEwNTpcbiAgICAgICAgICBpZiAodiA+PSBoIHx8IGVbdl0gPT0gbnVsbClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIHcgPCBJICYmIChkICs9IHIuc2xpY2UodywgSSkpLCBkICs9IE1hdGguZmxvb3IoTnVtYmVyKGVbdl0pKSwgdyA9IEkgKyAyLCBJKys7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNzk6XG4gICAgICAgIGNhc2UgMTExOlxuICAgICAgICBjYXNlIDEwNjpcbiAgICAgICAgICBpZiAodiA+PSBoIHx8IGVbdl0gPT09IHZvaWQgMClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIHcgPCBJICYmIChkICs9IHIuc2xpY2UodywgSSkpO1xuICAgICAgICAgIHZhciBEID0gdHlwZW9mIGVbdl07XG4gICAgICAgICAgaWYgKEQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGQgKz0gXCInXCIgKyBlW3ZdICsgXCInXCIsIHcgPSBJICsgMiwgSSsrO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChEID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIGQgKz0gZVt2XS5uYW1lIHx8IFwiPGFub255bW91cz5cIiwgdyA9IEkgKyAyLCBJKys7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZCArPSBpKGVbdl0pLCB3ID0gSSArIDIsIEkrKztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMTU6XG4gICAgICAgICAgaWYgKHYgPj0gaClcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIHcgPCBJICYmIChkICs9IHIuc2xpY2UodywgSSkpLCBkICs9IFN0cmluZyhlW3ZdKSwgdyA9IEkgKyAyLCBJKys7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzc6XG4gICAgICAgICAgdyA8IEkgJiYgKGQgKz0gci5zbGljZSh3LCBJKSksIGQgKz0gXCIlXCIsIHcgPSBJICsgMiwgSSsrLCB2LS07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICArK3Y7XG4gICAgfVxuICAgICsrSTtcbiAgfVxuICByZXR1cm4gdyA9PT0gLTEgPyByIDogKHcgPCBBICYmIChkICs9IHIuc2xpY2UodykpLCBkKTtcbn1cbmNvbnN0IExmID0gTzA7XG52YXIgYW4gPSAkcjtcbmNvbnN0IEduID0gQjAoKS5jb25zb2xlIHx8IHt9LCBOMCA9IHtcbiAgbWFwSHR0cFJlcXVlc3Q6IF9zLFxuICBtYXBIdHRwUmVzcG9uc2U6IF9zLFxuICB3cmFwUmVxdWVzdFNlcmlhbGl6ZXI6IHFhLFxuICB3cmFwUmVzcG9uc2VTZXJpYWxpemVyOiBxYSxcbiAgd3JhcEVycm9yU2VyaWFsaXplcjogcWEsXG4gIHJlcTogX3MsXG4gIHJlczogX3MsXG4gIGVycjogRjBcbn07XG5mdW5jdGlvbiBUMChyLCBlKSB7XG4gIHJldHVybiBBcnJheS5pc0FycmF5KHIpID8gci5maWx0ZXIoZnVuY3Rpb24oaSkge1xuICAgIHJldHVybiBpICE9PSBcIiFzdGRTZXJpYWxpemVycy5lcnJcIjtcbiAgfSkgOiByID09PSAhMCA/IE9iamVjdC5rZXlzKGUpIDogITE7XG59XG5mdW5jdGlvbiAkcihyKSB7XG4gIHIgPSByIHx8IHt9LCByLmJyb3dzZXIgPSByLmJyb3dzZXIgfHwge307XG4gIGNvbnN0IGUgPSByLmJyb3dzZXIudHJhbnNtaXQ7XG4gIGlmIChlICYmIHR5cGVvZiBlLnNlbmQgIT0gXCJmdW5jdGlvblwiKVxuICAgIHRocm93IEVycm9yKFwicGlubzogdHJhbnNtaXQgb3B0aW9uIG11c3QgaGF2ZSBhIHNlbmQgZnVuY3Rpb25cIik7XG4gIGNvbnN0IHQgPSByLmJyb3dzZXIud3JpdGUgfHwgR247XG4gIHIuYnJvd3Nlci53cml0ZSAmJiAoci5icm93c2VyLmFzT2JqZWN0ID0gITApO1xuICBjb25zdCBpID0gci5zZXJpYWxpemVycyB8fCB7fSwgbiA9IFQwKHIuYnJvd3Nlci5zZXJpYWxpemUsIGkpO1xuICBsZXQgcyA9IHIuYnJvd3Nlci5zZXJpYWxpemU7XG4gIEFycmF5LmlzQXJyYXkoci5icm93c2VyLnNlcmlhbGl6ZSkgJiYgci5icm93c2VyLnNlcmlhbGl6ZS5pbmRleE9mKFwiIXN0ZFNlcmlhbGl6ZXJzLmVyclwiKSA+IC0xICYmIChzID0gITEpO1xuICBjb25zdCBvID0gW1wiZXJyb3JcIiwgXCJmYXRhbFwiLCBcIndhcm5cIiwgXCJpbmZvXCIsIFwiZGVidWdcIiwgXCJ0cmFjZVwiXTtcbiAgdHlwZW9mIHQgPT0gXCJmdW5jdGlvblwiICYmICh0LmVycm9yID0gdC5mYXRhbCA9IHQud2FybiA9IHQuaW5mbyA9IHQuZGVidWcgPSB0LnRyYWNlID0gdCksIHIuZW5hYmxlZCA9PT0gITEgJiYgKHIubGV2ZWwgPSBcInNpbGVudFwiKTtcbiAgY29uc3QgZiA9IHIubGV2ZWwgfHwgXCJpbmZvXCIsIGggPSBPYmplY3QuY3JlYXRlKHQpO1xuICBoLmxvZyB8fCAoaC5sb2cgPSBKbiksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLCBcImxldmVsVmFsXCIsIHtcbiAgICBnZXQ6IHZcbiAgfSksIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShoLCBcImxldmVsXCIsIHtcbiAgICBnZXQ6IHcsXG4gICAgc2V0OiBBXG4gIH0pO1xuICBjb25zdCBkID0ge1xuICAgIHRyYW5zbWl0OiBlLFxuICAgIHNlcmlhbGl6ZTogbixcbiAgICBhc09iamVjdDogci5icm93c2VyLmFzT2JqZWN0LFxuICAgIGxldmVsczogbyxcbiAgICB0aW1lc3RhbXA6IHEwKHIpXG4gIH07XG4gIGgubGV2ZWxzID0gJHIubGV2ZWxzLCBoLmxldmVsID0gZiwgaC5zZXRNYXhMaXN0ZW5lcnMgPSBoLmdldE1heExpc3RlbmVycyA9IGguZW1pdCA9IGguYWRkTGlzdGVuZXIgPSBoLm9uID0gaC5wcmVwZW5kTGlzdGVuZXIgPSBoLm9uY2UgPSBoLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBoLnJlbW92ZUxpc3RlbmVyID0gaC5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBoLmxpc3RlbmVycyA9IGgubGlzdGVuZXJDb3VudCA9IGguZXZlbnROYW1lcyA9IGgud3JpdGUgPSBoLmZsdXNoID0gSm4sIGguc2VyaWFsaXplcnMgPSBpLCBoLl9zZXJpYWxpemUgPSBuLCBoLl9zdGRFcnJTZXJpYWxpemUgPSBzLCBoLmNoaWxkID0gSSwgZSAmJiAoaC5fbG9nRXZlbnQgPSBobygpKTtcbiAgZnVuY3Rpb24gdigpIHtcbiAgICByZXR1cm4gdGhpcy5sZXZlbCA9PT0gXCJzaWxlbnRcIiA/IDEgLyAwIDogdGhpcy5sZXZlbHMudmFsdWVzW3RoaXMubGV2ZWxdO1xuICB9XG4gIGZ1bmN0aW9uIHcoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2xldmVsO1xuICB9XG4gIGZ1bmN0aW9uIEEoRCkge1xuICAgIGlmIChEICE9PSBcInNpbGVudFwiICYmICF0aGlzLmxldmVscy52YWx1ZXNbRF0pXG4gICAgICB0aHJvdyBFcnJvcihcInVua25vd24gbGV2ZWwgXCIgKyBEKTtcbiAgICB0aGlzLl9sZXZlbCA9IEQsIHJuKGQsIGgsIFwiZXJyb3JcIiwgXCJsb2dcIiksIHJuKGQsIGgsIFwiZmF0YWxcIiwgXCJlcnJvclwiKSwgcm4oZCwgaCwgXCJ3YXJuXCIsIFwiZXJyb3JcIiksIHJuKGQsIGgsIFwiaW5mb1wiLCBcImxvZ1wiKSwgcm4oZCwgaCwgXCJkZWJ1Z1wiLCBcImxvZ1wiKSwgcm4oZCwgaCwgXCJ0cmFjZVwiLCBcImxvZ1wiKTtcbiAgfVxuICBmdW5jdGlvbiBJKEQsIE4pIHtcbiAgICBpZiAoIUQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtaXNzaW5nIGJpbmRpbmdzIGZvciBjaGlsZCBQaW5vXCIpO1xuICAgIE4gPSBOIHx8IHt9LCBuICYmIEQuc2VyaWFsaXplcnMgJiYgKE4uc2VyaWFsaXplcnMgPSBELnNlcmlhbGl6ZXJzKTtcbiAgICBjb25zdCBrID0gTi5zZXJpYWxpemVycztcbiAgICBpZiAobiAmJiBrKSB7XG4gICAgICB2YXIgaiA9IE9iamVjdC5hc3NpZ24oe30sIGksIGspLCBUID0gci5icm93c2VyLnNlcmlhbGl6ZSA9PT0gITAgPyBPYmplY3Qua2V5cyhqKSA6IG47XG4gICAgICBkZWxldGUgRC5zZXJpYWxpemVycywgaWEoW0RdLCBULCBqLCB0aGlzLl9zdGRFcnJTZXJpYWxpemUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBLKCQpIHtcbiAgICAgIHRoaXMuX2NoaWxkTGV2ZWwgPSAoJC5fY2hpbGRMZXZlbCB8IDApICsgMSwgdGhpcy5lcnJvciA9IG5uKCQsIEQsIFwiZXJyb3JcIiksIHRoaXMuZmF0YWwgPSBubigkLCBELCBcImZhdGFsXCIpLCB0aGlzLndhcm4gPSBubigkLCBELCBcIndhcm5cIiksIHRoaXMuaW5mbyA9IG5uKCQsIEQsIFwiaW5mb1wiKSwgdGhpcy5kZWJ1ZyA9IG5uKCQsIEQsIFwiZGVidWdcIiksIHRoaXMudHJhY2UgPSBubigkLCBELCBcInRyYWNlXCIpLCBqICYmICh0aGlzLnNlcmlhbGl6ZXJzID0gaiwgdGhpcy5fc2VyaWFsaXplID0gVCksIGUgJiYgKHRoaXMuX2xvZ0V2ZW50ID0gaG8oXG4gICAgICAgIFtdLmNvbmNhdCgkLl9sb2dFdmVudC5iaW5kaW5ncywgRClcbiAgICAgICkpO1xuICAgIH1cbiAgICByZXR1cm4gSy5wcm90b3R5cGUgPSB0aGlzLCBuZXcgSyh0aGlzKTtcbiAgfVxuICByZXR1cm4gaDtcbn1cbiRyLmxldmVscyA9IHtcbiAgdmFsdWVzOiB7XG4gICAgZmF0YWw6IDYwLFxuICAgIGVycm9yOiA1MCxcbiAgICB3YXJuOiA0MCxcbiAgICBpbmZvOiAzMCxcbiAgICBkZWJ1ZzogMjAsXG4gICAgdHJhY2U6IDEwXG4gIH0sXG4gIGxhYmVsczoge1xuICAgIDEwOiBcInRyYWNlXCIsXG4gICAgMjA6IFwiZGVidWdcIixcbiAgICAzMDogXCJpbmZvXCIsXG4gICAgNDA6IFwid2FyblwiLFxuICAgIDUwOiBcImVycm9yXCIsXG4gICAgNjA6IFwiZmF0YWxcIlxuICB9XG59O1xuJHIuc3RkU2VyaWFsaXplcnMgPSBOMDtcbiRyLnN0ZFRpbWVGdW5jdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB7IG51bGxUaW1lOiBIaCwgZXBvY2hUaW1lOiBWaCwgdW5peFRpbWU6IFUwLCBpc29UaW1lOiB6MCB9KTtcbmZ1bmN0aW9uIHJuKHIsIGUsIHQsIGkpIHtcbiAgY29uc3QgbiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihlKTtcbiAgZVt0XSA9IGUubGV2ZWxWYWwgPiBlLmxldmVscy52YWx1ZXNbdF0gPyBKbiA6IG5bdF0gPyBuW3RdIDogR25bdF0gfHwgR25baV0gfHwgSm4sIEMwKHIsIGUsIHQpO1xufVxuZnVuY3Rpb24gQzAociwgZSwgdCkge1xuICAhci50cmFuc21pdCAmJiBlW3RdID09PSBKbiB8fCAoZVt0XSA9IGZ1bmN0aW9uKGkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBjb25zdCBzID0gci50aW1lc3RhbXAoKSwgbyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKSwgZiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZiAmJiBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykgPT09IEduID8gR24gOiB0aGlzO1xuICAgICAgZm9yICh2YXIgaCA9IDA7IGggPCBvLmxlbmd0aDsgaCsrKVxuICAgICAgICBvW2hdID0gYXJndW1lbnRzW2hdO1xuICAgICAgaWYgKHIuc2VyaWFsaXplICYmICFyLmFzT2JqZWN0ICYmIGlhKG8sIHRoaXMuX3NlcmlhbGl6ZSwgdGhpcy5zZXJpYWxpemVycywgdGhpcy5fc3RkRXJyU2VyaWFsaXplKSwgci5hc09iamVjdCA/IGkuY2FsbChmLCAkMCh0aGlzLCB0LCBvLCBzKSkgOiBpLmFwcGx5KGYsIG8pLCByLnRyYW5zbWl0KSB7XG4gICAgICAgIGNvbnN0IGQgPSByLnRyYW5zbWl0LmxldmVsIHx8IGUubGV2ZWwsIHYgPSAkci5sZXZlbHMudmFsdWVzW2RdLCB3ID0gJHIubGV2ZWxzLnZhbHVlc1t0XTtcbiAgICAgICAgaWYgKHcgPCB2KVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgTDAodGhpcywge1xuICAgICAgICAgIHRzOiBzLFxuICAgICAgICAgIG1ldGhvZExldmVsOiB0LFxuICAgICAgICAgIG1ldGhvZFZhbHVlOiB3LFxuICAgICAgICAgIHRyYW5zbWl0TGV2ZWw6IGQsXG4gICAgICAgICAgdHJhbnNtaXRWYWx1ZTogJHIubGV2ZWxzLnZhbHVlc1tyLnRyYW5zbWl0LmxldmVsIHx8IGUubGV2ZWxdLFxuICAgICAgICAgIHNlbmQ6IHIudHJhbnNtaXQuc2VuZCxcbiAgICAgICAgICB2YWw6IGUubGV2ZWxWYWxcbiAgICAgICAgfSwgbyk7XG4gICAgICB9XG4gICAgfTtcbiAgfShlW3RdKSk7XG59XG5mdW5jdGlvbiAkMChyLCBlLCB0LCBpKSB7XG4gIHIuX3NlcmlhbGl6ZSAmJiBpYSh0LCByLl9zZXJpYWxpemUsIHIuc2VyaWFsaXplcnMsIHIuX3N0ZEVyclNlcmlhbGl6ZSk7XG4gIGNvbnN0IG4gPSB0LnNsaWNlKCk7XG4gIGxldCBzID0gblswXTtcbiAgY29uc3QgbyA9IHt9O1xuICBpICYmIChvLnRpbWUgPSBpKSwgby5sZXZlbCA9ICRyLmxldmVscy52YWx1ZXNbZV07XG4gIGxldCBmID0gKHIuX2NoaWxkTGV2ZWwgfCAwKSArIDE7XG4gIGlmIChmIDwgMSAmJiAoZiA9IDEpLCBzICE9PSBudWxsICYmIHR5cGVvZiBzID09IFwib2JqZWN0XCIpIHtcbiAgICBmb3IgKDsgZi0tICYmIHR5cGVvZiBuWzBdID09IFwib2JqZWN0XCI7IClcbiAgICAgIE9iamVjdC5hc3NpZ24obywgbi5zaGlmdCgpKTtcbiAgICBzID0gbi5sZW5ndGggPyBMZihuLnNoaWZ0KCksIG4pIDogdm9pZCAwO1xuICB9IGVsc2VcbiAgICB0eXBlb2YgcyA9PSBcInN0cmluZ1wiICYmIChzID0gTGYobi5zaGlmdCgpLCBuKSk7XG4gIHJldHVybiBzICE9PSB2b2lkIDAgJiYgKG8ubXNnID0gcyksIG87XG59XG5mdW5jdGlvbiBpYShyLCBlLCB0LCBpKSB7XG4gIGZvciAoY29uc3QgbiBpbiByKVxuICAgIGlmIChpICYmIHJbbl0gaW5zdGFuY2VvZiBFcnJvcilcbiAgICAgIHJbbl0gPSAkci5zdGRTZXJpYWxpemVycy5lcnIocltuXSk7XG4gICAgZWxzZSBpZiAodHlwZW9mIHJbbl0gPT0gXCJvYmplY3RcIiAmJiAhQXJyYXkuaXNBcnJheShyW25dKSlcbiAgICAgIGZvciAoY29uc3QgcyBpbiByW25dKVxuICAgICAgICBlICYmIGUuaW5kZXhPZihzKSA+IC0xICYmIHMgaW4gdCAmJiAocltuXVtzXSA9IHRbc10ocltuXVtzXSkpO1xufVxuZnVuY3Rpb24gbm4ociwgZSwgdCkge1xuICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgaSA9IG5ldyBBcnJheSgxICsgYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgaVswXSA9IGU7XG4gICAgZm9yICh2YXIgbiA9IDE7IG4gPCBpLmxlbmd0aDsgbisrKVxuICAgICAgaVtuXSA9IGFyZ3VtZW50c1tuIC0gMV07XG4gICAgcmV0dXJuIHJbdF0uYXBwbHkodGhpcywgaSk7XG4gIH07XG59XG5mdW5jdGlvbiBMMChyLCBlLCB0KSB7XG4gIGNvbnN0IGkgPSBlLnNlbmQsIG4gPSBlLnRzLCBzID0gZS5tZXRob2RMZXZlbCwgbyA9IGUubWV0aG9kVmFsdWUsIGYgPSBlLnZhbCwgaCA9IHIuX2xvZ0V2ZW50LmJpbmRpbmdzO1xuICBpYShcbiAgICB0LFxuICAgIHIuX3NlcmlhbGl6ZSB8fCBPYmplY3Qua2V5cyhyLnNlcmlhbGl6ZXJzKSxcbiAgICByLnNlcmlhbGl6ZXJzLFxuICAgIHIuX3N0ZEVyclNlcmlhbGl6ZSA9PT0gdm9pZCAwID8gITAgOiByLl9zdGRFcnJTZXJpYWxpemVcbiAgKSwgci5fbG9nRXZlbnQudHMgPSBuLCByLl9sb2dFdmVudC5tZXNzYWdlcyA9IHQuZmlsdGVyKGZ1bmN0aW9uKGQpIHtcbiAgICByZXR1cm4gaC5pbmRleE9mKGQpID09PSAtMTtcbiAgfSksIHIuX2xvZ0V2ZW50LmxldmVsLmxhYmVsID0gcywgci5fbG9nRXZlbnQubGV2ZWwudmFsdWUgPSBvLCBpKHMsIHIuX2xvZ0V2ZW50LCBmKSwgci5fbG9nRXZlbnQgPSBobyhoKTtcbn1cbmZ1bmN0aW9uIGhvKHIpIHtcbiAgcmV0dXJuIHtcbiAgICB0czogMCxcbiAgICBtZXNzYWdlczogW10sXG4gICAgYmluZGluZ3M6IHIgfHwgW10sXG4gICAgbGV2ZWw6IHsgbGFiZWw6IFwiXCIsIHZhbHVlOiAwIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIEYwKHIpIHtcbiAgY29uc3QgZSA9IHtcbiAgICB0eXBlOiByLmNvbnN0cnVjdG9yLm5hbWUsXG4gICAgbXNnOiByLm1lc3NhZ2UsXG4gICAgc3RhY2s6IHIuc3RhY2tcbiAgfTtcbiAgZm9yIChjb25zdCB0IGluIHIpXG4gICAgZVt0XSA9PT0gdm9pZCAwICYmIChlW3RdID0gclt0XSk7XG4gIHJldHVybiBlO1xufVxuZnVuY3Rpb24gcTAocikge1xuICByZXR1cm4gdHlwZW9mIHIudGltZXN0YW1wID09IFwiZnVuY3Rpb25cIiA/IHIudGltZXN0YW1wIDogci50aW1lc3RhbXAgPT09ICExID8gSGggOiBWaDtcbn1cbmZ1bmN0aW9uIF9zKCkge1xuICByZXR1cm4ge307XG59XG5mdW5jdGlvbiBxYShyKSB7XG4gIHJldHVybiByO1xufVxuZnVuY3Rpb24gSm4oKSB7XG59XG5mdW5jdGlvbiBIaCgpIHtcbiAgcmV0dXJuICExO1xufVxuZnVuY3Rpb24gVmgoKSB7XG4gIHJldHVybiBEYXRlLm5vdygpO1xufVxuZnVuY3Rpb24gVTAoKSB7XG4gIHJldHVybiBNYXRoLnJvdW5kKERhdGUubm93KCkgLyAxZTMpO1xufVxuZnVuY3Rpb24gejAoKSB7XG4gIHJldHVybiBuZXcgRGF0ZShEYXRlLm5vdygpKS50b0lTT1N0cmluZygpO1xufVxuZnVuY3Rpb24gQjAoKSB7XG4gIGZ1bmN0aW9uIHIoZSkge1xuICAgIHJldHVybiB0eXBlb2YgZSA8IFwidVwiICYmIGU7XG4gIH1cbiAgdHJ5IHtcbiAgICByZXR1cm4gdHlwZW9mIGdsb2JhbFRoaXMgPCBcInVcIiB8fCBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0LnByb3RvdHlwZSwgXCJnbG9iYWxUaGlzXCIsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBkZWxldGUgT2JqZWN0LnByb3RvdHlwZS5nbG9iYWxUaGlzLCB0aGlzLmdsb2JhbFRoaXMgPSB0aGlzO1xuICAgICAgfSxcbiAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICB9KSwgZ2xvYmFsVGhpcztcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIHIoc2VsZikgfHwgcih3aW5kb3cpIHx8IHIodGhpcykgfHwge307XG4gIH1cbn1cbmNvbnN0IG5hID0gLyogQF9fUFVSRV9fICovIGJuKGFuKSwgazAgPSB7IGxldmVsOiBcImluZm9cIiB9LCB0cyA9IFwiY3VzdG9tX2NvbnRleHRcIiwgTm8gPSAxZTMgKiAxMDI0O1xubGV0IGowID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgdGhpcy5ub2RlVmFsdWUgPSBlLCB0aGlzLnNpemVJbkJ5dGVzID0gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHRoaXMubm9kZVZhbHVlKS5sZW5ndGgsIHRoaXMubmV4dCA9IG51bGw7XG4gIH1cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLm5vZGVWYWx1ZTtcbiAgfVxuICBnZXQgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5zaXplSW5CeXRlcztcbiAgfVxufSwgRmYgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICB0aGlzLmhlYWQgPSBudWxsLCB0aGlzLnRhaWwgPSBudWxsLCB0aGlzLmxlbmd0aEluTm9kZXMgPSAwLCB0aGlzLm1heFNpemVJbkJ5dGVzID0gZSwgdGhpcy5zaXplSW5CeXRlcyA9IDA7XG4gIH1cbiAgYXBwZW5kKGUpIHtcbiAgICBjb25zdCB0ID0gbmV3IGowKGUpO1xuICAgIGlmICh0LnNpemUgPiB0aGlzLm1heFNpemVJbkJ5dGVzKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBbTGlua2VkTGlzdF0gVmFsdWUgdG9vIGJpZyB0byBpbnNlcnQgaW50byBsaXN0OiAke2V9IHdpdGggc2l6ZSAke3Quc2l6ZX1gKTtcbiAgICBmb3IgKDsgdGhpcy5zaXplICsgdC5zaXplID4gdGhpcy5tYXhTaXplSW5CeXRlczsgKVxuICAgICAgdGhpcy5zaGlmdCgpO1xuICAgIHRoaXMuaGVhZCA/ICh0aGlzLnRhaWwgJiYgKHRoaXMudGFpbC5uZXh0ID0gdCksIHRoaXMudGFpbCA9IHQpIDogKHRoaXMuaGVhZCA9IHQsIHRoaXMudGFpbCA9IHQpLCB0aGlzLmxlbmd0aEluTm9kZXMrKywgdGhpcy5zaXplSW5CeXRlcyArPSB0LnNpemU7XG4gIH1cbiAgc2hpZnQoKSB7XG4gICAgaWYgKCF0aGlzLmhlYWQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgZSA9IHRoaXMuaGVhZDtcbiAgICB0aGlzLmhlYWQgPSB0aGlzLmhlYWQubmV4dCwgdGhpcy5oZWFkIHx8ICh0aGlzLnRhaWwgPSBudWxsKSwgdGhpcy5sZW5ndGhJbk5vZGVzLS0sIHRoaXMuc2l6ZUluQnl0ZXMgLT0gZS5zaXplO1xuICB9XG4gIHRvQXJyYXkoKSB7XG4gICAgY29uc3QgZSA9IFtdO1xuICAgIGxldCB0ID0gdGhpcy5oZWFkO1xuICAgIGZvciAoOyB0ICE9PSBudWxsOyApXG4gICAgICBlLnB1c2godC52YWx1ZSksIHQgPSB0Lm5leHQ7XG4gICAgcmV0dXJuIGU7XG4gIH1cbiAgZ2V0IGxlbmd0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5sZW5ndGhJbk5vZGVzO1xuICB9XG4gIGdldCBzaXplKCkge1xuICAgIHJldHVybiB0aGlzLnNpemVJbkJ5dGVzO1xuICB9XG4gIHRvT3JkZXJlZEFycmF5KCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMpO1xuICB9XG4gIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgIGxldCBlID0gdGhpcy5oZWFkO1xuICAgIHJldHVybiB7IG5leHQ6ICgpID0+IHtcbiAgICAgIGlmICghZSlcbiAgICAgICAgcmV0dXJuIHsgZG9uZTogITAsIHZhbHVlOiBudWxsIH07XG4gICAgICBjb25zdCB0ID0gZS52YWx1ZTtcbiAgICAgIHJldHVybiBlID0gZS5uZXh0LCB7IGRvbmU6ICExLCB2YWx1ZTogdCB9O1xuICAgIH0gfTtcbiAgfVxufSwgV2ggPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGUsIHQgPSBObykge1xuICAgIHRoaXMubGV2ZWwgPSBlID8/IFwiZXJyb3JcIiwgdGhpcy5sZXZlbFZhbHVlID0gYW4ubGV2ZWxzLnZhbHVlc1t0aGlzLmxldmVsXSwgdGhpcy5NQVhfTE9HX1NJWkVfSU5fQllURVMgPSB0LCB0aGlzLmxvZ3MgPSBuZXcgRmYodGhpcy5NQVhfTE9HX1NJWkVfSU5fQllURVMpO1xuICB9XG4gIGZvcndhcmRUb0NvbnNvbGUoZSwgdCkge1xuICAgIHQgPT09IGFuLmxldmVscy52YWx1ZXMuZXJyb3IgPyBjb25zb2xlLmVycm9yKGUpIDogdCA9PT0gYW4ubGV2ZWxzLnZhbHVlcy53YXJuID8gY29uc29sZS53YXJuKGUpIDogdCA9PT0gYW4ubGV2ZWxzLnZhbHVlcy5kZWJ1ZyA/IGNvbnNvbGUuZGVidWcoZSkgOiB0ID09PSBhbi5sZXZlbHMudmFsdWVzLnRyYWNlID8gY29uc29sZS50cmFjZShlKSA6IGNvbnNvbGUubG9nKGUpO1xuICB9XG4gIGFwcGVuZFRvTG9ncyhlKSB7XG4gICAgdGhpcy5sb2dzLmFwcGVuZChqaSh7IHRpbWVzdGFtcDogKC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpKS50b0lTT1N0cmluZygpLCBsb2c6IGUgfSkpO1xuICAgIGNvbnN0IHQgPSB0eXBlb2YgZSA9PSBcInN0cmluZ1wiID8gSlNPTi5wYXJzZShlKS5sZXZlbCA6IGUubGV2ZWw7XG4gICAgdCA+PSB0aGlzLmxldmVsVmFsdWUgJiYgdGhpcy5mb3J3YXJkVG9Db25zb2xlKGUsIHQpO1xuICB9XG4gIGdldExvZ3MoKSB7XG4gICAgcmV0dXJuIHRoaXMubG9ncztcbiAgfVxuICBjbGVhckxvZ3MoKSB7XG4gICAgdGhpcy5sb2dzID0gbmV3IEZmKHRoaXMuTUFYX0xPR19TSVpFX0lOX0JZVEVTKTtcbiAgfVxuICBnZXRMb2dBcnJheSgpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmxvZ3MpO1xuICB9XG4gIGxvZ3NUb0Jsb2IoZSkge1xuICAgIGNvbnN0IHQgPSB0aGlzLmdldExvZ0FycmF5KCk7XG4gICAgcmV0dXJuIHQucHVzaChqaSh7IGV4dHJhTWV0YWRhdGE6IGUgfSkpLCBuZXcgQmxvYih0LCB7IHR5cGU6IFwiYXBwbGljYXRpb24vanNvblwiIH0pO1xuICB9XG59O1xuY2xhc3MgSzAge1xuICBjb25zdHJ1Y3RvcihlLCB0ID0gTm8pIHtcbiAgICB0aGlzLmJhc2VDaHVua0xvZ2dlciA9IG5ldyBXaChlLCB0KTtcbiAgfVxuICB3cml0ZShlKSB7XG4gICAgdGhpcy5iYXNlQ2h1bmtMb2dnZXIuYXBwZW5kVG9Mb2dzKGUpO1xuICB9XG4gIGdldExvZ3MoKSB7XG4gICAgcmV0dXJuIHRoaXMuYmFzZUNodW5rTG9nZ2VyLmdldExvZ3MoKTtcbiAgfVxuICBjbGVhckxvZ3MoKSB7XG4gICAgdGhpcy5iYXNlQ2h1bmtMb2dnZXIuY2xlYXJMb2dzKCk7XG4gIH1cbiAgZ2V0TG9nQXJyYXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuYmFzZUNodW5rTG9nZ2VyLmdldExvZ0FycmF5KCk7XG4gIH1cbiAgbG9nc1RvQmxvYihlKSB7XG4gICAgcmV0dXJuIHRoaXMuYmFzZUNodW5rTG9nZ2VyLmxvZ3NUb0Jsb2IoZSk7XG4gIH1cbiAgZG93bmxvYWRMb2dzQmxvYkluQnJvd3NlcihlKSB7XG4gICAgY29uc3QgdCA9IFVSTC5jcmVhdGVPYmplY3RVUkwodGhpcy5sb2dzVG9CbG9iKGUpKSwgaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO1xuICAgIGkuaHJlZiA9IHQsIGkuZG93bmxvYWQgPSBgd2FsbGV0Y29ubmVjdC1sb2dzLSR7KC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpKS50b0lTT1N0cmluZygpfS50eHRgLCBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGkpLCBpLmNsaWNrKCksIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoaSksIFVSTC5yZXZva2VPYmplY3RVUkwodCk7XG4gIH1cbn1cbmNsYXNzIEgwIHtcbiAgY29uc3RydWN0b3IoZSwgdCA9IE5vKSB7XG4gICAgdGhpcy5iYXNlQ2h1bmtMb2dnZXIgPSBuZXcgV2goZSwgdCk7XG4gIH1cbiAgd3JpdGUoZSkge1xuICAgIHRoaXMuYmFzZUNodW5rTG9nZ2VyLmFwcGVuZFRvTG9ncyhlKTtcbiAgfVxuICBnZXRMb2dzKCkge1xuICAgIHJldHVybiB0aGlzLmJhc2VDaHVua0xvZ2dlci5nZXRMb2dzKCk7XG4gIH1cbiAgY2xlYXJMb2dzKCkge1xuICAgIHRoaXMuYmFzZUNodW5rTG9nZ2VyLmNsZWFyTG9ncygpO1xuICB9XG4gIGdldExvZ0FycmF5KCkge1xuICAgIHJldHVybiB0aGlzLmJhc2VDaHVua0xvZ2dlci5nZXRMb2dBcnJheSgpO1xuICB9XG4gIGxvZ3NUb0Jsb2IoZSkge1xuICAgIHJldHVybiB0aGlzLmJhc2VDaHVua0xvZ2dlci5sb2dzVG9CbG9iKGUpO1xuICB9XG59XG52YXIgVjAgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIFcwID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMsIEcwID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsIHFmID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scywgSjAgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LCBZMCA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsIFVmID0gKHIsIGUsIHQpID0+IGUgaW4gciA/IFYwKHIsIGUsIHsgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCwgdmFsdWU6IHQgfSkgOiByW2VdID0gdCwgTHMgPSAociwgZSkgPT4ge1xuICBmb3IgKHZhciB0IGluIGUgfHwgKGUgPSB7fSkpXG4gICAgSjAuY2FsbChlLCB0KSAmJiBVZihyLCB0LCBlW3RdKTtcbiAgaWYgKHFmKVxuICAgIGZvciAodmFyIHQgb2YgcWYoZSkpXG4gICAgICBZMC5jYWxsKGUsIHQpICYmIFVmKHIsIHQsIGVbdF0pO1xuICByZXR1cm4gcjtcbn0sIEZzID0gKHIsIGUpID0+IFcwKHIsIEcwKGUpKTtcbmZ1bmN0aW9uIFRvKHIpIHtcbiAgcmV0dXJuIEZzKExzKHt9LCByKSwgeyBsZXZlbDogcj8ubGV2ZWwgfHwgazAubGV2ZWwgfSk7XG59XG5mdW5jdGlvbiBYMChyLCBlID0gdHMpIHtcbiAgcmV0dXJuIHJbZV0gfHwgXCJcIjtcbn1cbmZ1bmN0aW9uIFowKHIsIGUsIHQgPSB0cykge1xuICByZXR1cm4gclt0XSA9IGUsIHI7XG59XG5mdW5jdGlvbiBadChyLCBlID0gdHMpIHtcbiAgbGV0IHQgPSBcIlwiO1xuICByZXR1cm4gdHlwZW9mIHIuYmluZGluZ3MgPiBcInVcIiA/IHQgPSBYMChyLCBlKSA6IHQgPSByLmJpbmRpbmdzKCkuY29udGV4dCB8fCBcIlwiLCB0O1xufVxuZnVuY3Rpb24gUTAociwgZSwgdCA9IHRzKSB7XG4gIGNvbnN0IGkgPSBadChyLCB0KTtcbiAgcmV0dXJuIGkudHJpbSgpID8gYCR7aX0vJHtlfWAgOiBlO1xufVxuZnVuY3Rpb24ga3QociwgZSwgdCA9IHRzKSB7XG4gIGNvbnN0IGkgPSBRMChyLCBlLCB0KSwgbiA9IHIuY2hpbGQoeyBjb250ZXh0OiBpIH0pO1xuICByZXR1cm4gWjAobiwgaSwgdCk7XG59XG5mdW5jdGlvbiBlcChyKSB7XG4gIHZhciBlLCB0O1xuICBjb25zdCBpID0gbmV3IEswKChlID0gci5vcHRzKSA9PSBudWxsID8gdm9pZCAwIDogZS5sZXZlbCwgci5tYXhTaXplSW5CeXRlcyk7XG4gIHJldHVybiB7IGxvZ2dlcjogbmEoRnMoTHMoe30sIHIub3B0cyksIHsgbGV2ZWw6IFwidHJhY2VcIiwgYnJvd3NlcjogRnMoTHMoe30sICh0ID0gci5vcHRzKSA9PSBudWxsID8gdm9pZCAwIDogdC5icm93c2VyKSwgeyB3cml0ZTogKG4pID0+IGkud3JpdGUobikgfSkgfSkpLCBjaHVua0xvZ2dlckNvbnRyb2xsZXI6IGkgfTtcbn1cbmZ1bmN0aW9uIHRwKHIpIHtcbiAgdmFyIGU7XG4gIGNvbnN0IHQgPSBuZXcgSDAoKGUgPSByLm9wdHMpID09IG51bGwgPyB2b2lkIDAgOiBlLmxldmVsLCByLm1heFNpemVJbkJ5dGVzKTtcbiAgcmV0dXJuIHsgbG9nZ2VyOiBuYShGcyhMcyh7fSwgci5vcHRzKSwgeyBsZXZlbDogXCJ0cmFjZVwiIH0pLCB0KSwgY2h1bmtMb2dnZXJDb250cm9sbGVyOiB0IH07XG59XG5mdW5jdGlvbiBycChyKSB7XG4gIHJldHVybiB0eXBlb2Ygci5sb2dnZXJPdmVycmlkZSA8IFwidVwiICYmIHR5cGVvZiByLmxvZ2dlck92ZXJyaWRlICE9IFwic3RyaW5nXCIgPyB7IGxvZ2dlcjogci5sb2dnZXJPdmVycmlkZSwgY2h1bmtMb2dnZXJDb250cm9sbGVyOiBudWxsIH0gOiB0eXBlb2Ygd2luZG93IDwgXCJ1XCIgPyBlcChyKSA6IHRwKHIpO1xufVxubGV0IGlwID0gY2xhc3MgZXh0ZW5kcyBXaSB7XG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICBzdXBlcigpLCB0aGlzLm9wdHMgPSBlLCB0aGlzLnByb3RvY29sID0gXCJ3Y1wiLCB0aGlzLnZlcnNpb24gPSAyO1xuICB9XG59LCBucCA9IGNsYXNzIGV4dGVuZHMgV2kge1xuICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgc3VwZXIoKSwgdGhpcy5jb3JlID0gZSwgdGhpcy5sb2dnZXIgPSB0LCB0aGlzLnJlY29yZHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICB9XG59O1xuY2xhc3Mgc3Age1xuICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgdGhpcy5sb2dnZXIgPSBlLCB0aGlzLmNvcmUgPSB0O1xuICB9XG59XG5sZXQgYXAgPSBjbGFzcyBleHRlbmRzIFdpIHtcbiAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgIHN1cGVyKCksIHRoaXMucmVsYXllciA9IGUsIHRoaXMubG9nZ2VyID0gdDtcbiAgfVxufTtcbmNsYXNzIG9wIGV4dGVuZHMgV2kge1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxufVxuY2xhc3MgZnAge1xuICBjb25zdHJ1Y3RvcihlLCB0LCBpLCBuKSB7XG4gICAgdGhpcy5jb3JlID0gZSwgdGhpcy5sb2dnZXIgPSB0LCB0aGlzLm5hbWUgPSBpO1xuICB9XG59XG5sZXQgY3AgPSBjbGFzcyBleHRlbmRzIFdpIHtcbiAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgIHN1cGVyKCksIHRoaXMucmVsYXllciA9IGUsIHRoaXMubG9nZ2VyID0gdDtcbiAgfVxufSwgaHAgPSBjbGFzcyBleHRlbmRzIFdpIHtcbiAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgIHN1cGVyKCksIHRoaXMuY29yZSA9IGUsIHRoaXMubG9nZ2VyID0gdDtcbiAgfVxufSwgdXAgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGUsIHQsIGkpIHtcbiAgICB0aGlzLmNvcmUgPSBlLCB0aGlzLmxvZ2dlciA9IHQsIHRoaXMuc3RvcmUgPSBpO1xuICB9XG59LCBkcCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgIHRoaXMucHJvamVjdElkID0gZSwgdGhpcy5sb2dnZXIgPSB0O1xuICB9XG59LCBscCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoZSwgdCwgaSkge1xuICAgIHRoaXMuY29yZSA9IGUsIHRoaXMubG9nZ2VyID0gdCwgdGhpcy50ZWxlbWV0cnlFbmFibGVkID0gaTtcbiAgfVxufSwgcHAgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICB0aGlzLm9wdHMgPSBlLCB0aGlzLnByb3RvY29sID0gXCJ3Y1wiLCB0aGlzLnZlcnNpb24gPSAyO1xuICB9XG59LCB2cCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHRoaXMuY2xpZW50ID0gZTtcbiAgfVxufTtcbnZhciBDbyA9IHt9LCBFaSA9IHt9LCBzYSA9IHt9LCBhYSA9IHt9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGFhLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG5hYS5Ccm93c2VyUmFuZG9tU291cmNlID0gdm9pZCAwO1xuY29uc3QgemYgPSA2NTUzNjtcbmNsYXNzIGJwIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5pc0F2YWlsYWJsZSA9ICExLCB0aGlzLmlzSW5zdGFudGlhdGVkID0gITE7XG4gICAgY29uc3QgZSA9IHR5cGVvZiBzZWxmIDwgXCJ1XCIgPyBzZWxmLmNyeXB0byB8fCBzZWxmLm1zQ3J5cHRvIDogbnVsbDtcbiAgICBlICYmIGUuZ2V0UmFuZG9tVmFsdWVzICE9PSB2b2lkIDAgJiYgKHRoaXMuX2NyeXB0byA9IGUsIHRoaXMuaXNBdmFpbGFibGUgPSAhMCwgdGhpcy5pc0luc3RhbnRpYXRlZCA9ICEwKTtcbiAgfVxuICByYW5kb21CeXRlcyhlKSB7XG4gICAgaWYgKCF0aGlzLmlzQXZhaWxhYmxlIHx8ICF0aGlzLl9jcnlwdG8pXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCcm93c2VyIHJhbmRvbSBieXRlIGdlbmVyYXRvciBpcyBub3QgYXZhaWxhYmxlLlwiKTtcbiAgICBjb25zdCB0ID0gbmV3IFVpbnQ4QXJyYXkoZSk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0Lmxlbmd0aDsgaSArPSB6ZilcbiAgICAgIHRoaXMuX2NyeXB0by5nZXRSYW5kb21WYWx1ZXModC5zdWJhcnJheShpLCBpICsgTWF0aC5taW4odC5sZW5ndGggLSBpLCB6ZikpKTtcbiAgICByZXR1cm4gdDtcbiAgfVxufVxuYWEuQnJvd3NlclJhbmRvbVNvdXJjZSA9IGJwO1xuZnVuY3Rpb24gZ3Aocikge1xuICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBkeW5hbWljYWxseSByZXF1aXJlIFwiJyArIHIgKyAnXCIuIFBsZWFzZSBjb25maWd1cmUgdGhlIGR5bmFtaWNSZXF1aXJlVGFyZ2V0cyBvci9hbmQgaWdub3JlRHluYW1pY1JlcXVpcmVzIG9wdGlvbiBvZiBAcm9sbHVwL3BsdWdpbi1jb21tb25qcyBhcHByb3ByaWF0ZWx5IGZvciB0aGlzIHJlcXVpcmUgY2FsbCB0byB3b3JrLicpO1xufVxudmFyIG9hID0ge30sIG5yID0ge307XG5PYmplY3QuZGVmaW5lUHJvcGVydHkobnIsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbmZ1bmN0aW9uIHlwKHIpIHtcbiAgZm9yICh2YXIgZSA9IDA7IGUgPCByLmxlbmd0aDsgZSsrKVxuICAgIHJbZV0gPSAwO1xuICByZXR1cm4gcjtcbn1cbm5yLndpcGUgPSB5cDtcbmNvbnN0IG1wID0ge30sIHdwID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5mcmVlemUoLyogQF9fUFVSRV9fICovIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgZGVmYXVsdDogbXBcbn0sIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KSksIGZhID0gLyogQF9fUFVSRV9fICovIE9oKHdwKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xub2EuTm9kZVJhbmRvbVNvdXJjZSA9IHZvaWQgMDtcbmNvbnN0IF9wID0gbnI7XG5jbGFzcyB4cCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGlmICh0aGlzLmlzQXZhaWxhYmxlID0gITEsIHRoaXMuaXNJbnN0YW50aWF0ZWQgPSAhMSwgdHlwZW9mIGdwIDwgXCJ1XCIpIHtcbiAgICAgIGNvbnN0IGUgPSBmYTtcbiAgICAgIGUgJiYgZS5yYW5kb21CeXRlcyAmJiAodGhpcy5fY3J5cHRvID0gZSwgdGhpcy5pc0F2YWlsYWJsZSA9ICEwLCB0aGlzLmlzSW5zdGFudGlhdGVkID0gITApO1xuICAgIH1cbiAgfVxuICByYW5kb21CeXRlcyhlKSB7XG4gICAgaWYgKCF0aGlzLmlzQXZhaWxhYmxlIHx8ICF0aGlzLl9jcnlwdG8pXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb2RlLmpzIHJhbmRvbSBieXRlIGdlbmVyYXRvciBpcyBub3QgYXZhaWxhYmxlLlwiKTtcbiAgICBsZXQgdCA9IHRoaXMuX2NyeXB0by5yYW5kb21CeXRlcyhlKTtcbiAgICBpZiAodC5sZW5ndGggIT09IGUpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb2RlUmFuZG9tU291cmNlOiBnb3QgZmV3ZXIgYnl0ZXMgdGhhbiByZXF1ZXN0ZWRcIik7XG4gICAgY29uc3QgaSA9IG5ldyBVaW50OEFycmF5KGUpO1xuICAgIGZvciAobGV0IG4gPSAwOyBuIDwgaS5sZW5ndGg7IG4rKylcbiAgICAgIGlbbl0gPSB0W25dO1xuICAgIHJldHVybiAoMCwgX3Aud2lwZSkodCksIGk7XG4gIH1cbn1cbm9hLk5vZGVSYW5kb21Tb3VyY2UgPSB4cDtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShzYSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuc2EuU3lzdGVtUmFuZG9tU291cmNlID0gdm9pZCAwO1xuY29uc3QgRXAgPSBhYSwgU3AgPSBvYTtcbmNsYXNzIE1wIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgaWYgKHRoaXMuaXNBdmFpbGFibGUgPSAhMSwgdGhpcy5uYW1lID0gXCJcIiwgdGhpcy5fc291cmNlID0gbmV3IEVwLkJyb3dzZXJSYW5kb21Tb3VyY2UoKSwgdGhpcy5fc291cmNlLmlzQXZhaWxhYmxlKSB7XG4gICAgICB0aGlzLmlzQXZhaWxhYmxlID0gITAsIHRoaXMubmFtZSA9IFwiQnJvd3NlclwiO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodGhpcy5fc291cmNlID0gbmV3IFNwLk5vZGVSYW5kb21Tb3VyY2UoKSwgdGhpcy5fc291cmNlLmlzQXZhaWxhYmxlKSB7XG4gICAgICB0aGlzLmlzQXZhaWxhYmxlID0gITAsIHRoaXMubmFtZSA9IFwiTm9kZVwiO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICByYW5kb21CeXRlcyhlKSB7XG4gICAgaWYgKCF0aGlzLmlzQXZhaWxhYmxlKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU3lzdGVtIHJhbmRvbSBieXRlIGdlbmVyYXRvciBpcyBub3QgYXZhaWxhYmxlLlwiKTtcbiAgICByZXR1cm4gdGhpcy5fc291cmNlLnJhbmRvbUJ5dGVzKGUpO1xuICB9XG59XG5zYS5TeXN0ZW1SYW5kb21Tb3VyY2UgPSBNcDtcbnZhciBWZSA9IHt9LCBHaCA9IHt9O1xuKGZ1bmN0aW9uKHIpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbiAgZnVuY3Rpb24gZShmLCBoKSB7XG4gICAgdmFyIGQgPSBmID4+PiAxNiAmIDY1NTM1LCB2ID0gZiAmIDY1NTM1LCB3ID0gaCA+Pj4gMTYgJiA2NTUzNSwgQSA9IGggJiA2NTUzNTtcbiAgICByZXR1cm4gdiAqIEEgKyAoZCAqIEEgKyB2ICogdyA8PCAxNiA+Pj4gMCkgfCAwO1xuICB9XG4gIHIubXVsID0gTWF0aC5pbXVsIHx8IGU7XG4gIGZ1bmN0aW9uIHQoZiwgaCkge1xuICAgIHJldHVybiBmICsgaCB8IDA7XG4gIH1cbiAgci5hZGQgPSB0O1xuICBmdW5jdGlvbiBpKGYsIGgpIHtcbiAgICByZXR1cm4gZiAtIGggfCAwO1xuICB9XG4gIHIuc3ViID0gaTtcbiAgZnVuY3Rpb24gbihmLCBoKSB7XG4gICAgcmV0dXJuIGYgPDwgaCB8IGYgPj4+IDMyIC0gaDtcbiAgfVxuICByLnJvdGwgPSBuO1xuICBmdW5jdGlvbiBzKGYsIGgpIHtcbiAgICByZXR1cm4gZiA8PCAzMiAtIGggfCBmID4+PiBoO1xuICB9XG4gIHIucm90ciA9IHM7XG4gIGZ1bmN0aW9uIG8oZikge1xuICAgIHJldHVybiB0eXBlb2YgZiA9PSBcIm51bWJlclwiICYmIGlzRmluaXRlKGYpICYmIE1hdGguZmxvb3IoZikgPT09IGY7XG4gIH1cbiAgci5pc0ludGVnZXIgPSBOdW1iZXIuaXNJbnRlZ2VyIHx8IG8sIHIuTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTEsIHIuaXNTYWZlSW50ZWdlciA9IGZ1bmN0aW9uKGYpIHtcbiAgICByZXR1cm4gci5pc0ludGVnZXIoZikgJiYgZiA+PSAtci5NQVhfU0FGRV9JTlRFR0VSICYmIGYgPD0gci5NQVhfU0FGRV9JTlRFR0VSO1xuICB9O1xufSkoR2gpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFZlLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG52YXIgSmggPSBHaDtcbmZ1bmN0aW9uIElwKHIsIGUpIHtcbiAgcmV0dXJuIGUgPT09IHZvaWQgMCAmJiAoZSA9IDApLCAocltlICsgMF0gPDwgOCB8IHJbZSArIDFdKSA8PCAxNiA+PiAxNjtcbn1cblZlLnJlYWRJbnQxNkJFID0gSXA7XG5mdW5jdGlvbiBBcChyLCBlKSB7XG4gIHJldHVybiBlID09PSB2b2lkIDAgJiYgKGUgPSAwKSwgKHJbZSArIDBdIDw8IDggfCByW2UgKyAxXSkgPj4+IDA7XG59XG5WZS5yZWFkVWludDE2QkUgPSBBcDtcbmZ1bmN0aW9uIERwKHIsIGUpIHtcbiAgcmV0dXJuIGUgPT09IHZvaWQgMCAmJiAoZSA9IDApLCAocltlICsgMV0gPDwgOCB8IHJbZV0pIDw8IDE2ID4+IDE2O1xufVxuVmUucmVhZEludDE2TEUgPSBEcDtcbmZ1bmN0aW9uIFBwKHIsIGUpIHtcbiAgcmV0dXJuIGUgPT09IHZvaWQgMCAmJiAoZSA9IDApLCAocltlICsgMV0gPDwgOCB8IHJbZV0pID4+PiAwO1xufVxuVmUucmVhZFVpbnQxNkxFID0gUHA7XG5mdW5jdGlvbiBZaChyLCBlLCB0KSB7XG4gIHJldHVybiBlID09PSB2b2lkIDAgJiYgKGUgPSBuZXcgVWludDhBcnJheSgyKSksIHQgPT09IHZvaWQgMCAmJiAodCA9IDApLCBlW3QgKyAwXSA9IHIgPj4+IDgsIGVbdCArIDFdID0gciA+Pj4gMCwgZTtcbn1cblZlLndyaXRlVWludDE2QkUgPSBZaDtcblZlLndyaXRlSW50MTZCRSA9IFloO1xuZnVuY3Rpb24gWGgociwgZSwgdCkge1xuICByZXR1cm4gZSA9PT0gdm9pZCAwICYmIChlID0gbmV3IFVpbnQ4QXJyYXkoMikpLCB0ID09PSB2b2lkIDAgJiYgKHQgPSAwKSwgZVt0ICsgMF0gPSByID4+PiAwLCBlW3QgKyAxXSA9IHIgPj4+IDgsIGU7XG59XG5WZS53cml0ZVVpbnQxNkxFID0gWGg7XG5WZS53cml0ZUludDE2TEUgPSBYaDtcbmZ1bmN0aW9uIHVvKHIsIGUpIHtcbiAgcmV0dXJuIGUgPT09IHZvaWQgMCAmJiAoZSA9IDApLCByW2VdIDw8IDI0IHwgcltlICsgMV0gPDwgMTYgfCByW2UgKyAyXSA8PCA4IHwgcltlICsgM107XG59XG5WZS5yZWFkSW50MzJCRSA9IHVvO1xuZnVuY3Rpb24gbG8ociwgZSkge1xuICByZXR1cm4gZSA9PT0gdm9pZCAwICYmIChlID0gMCksIChyW2VdIDw8IDI0IHwgcltlICsgMV0gPDwgMTYgfCByW2UgKyAyXSA8PCA4IHwgcltlICsgM10pID4+PiAwO1xufVxuVmUucmVhZFVpbnQzMkJFID0gbG87XG5mdW5jdGlvbiBwbyhyLCBlKSB7XG4gIHJldHVybiBlID09PSB2b2lkIDAgJiYgKGUgPSAwKSwgcltlICsgM10gPDwgMjQgfCByW2UgKyAyXSA8PCAxNiB8IHJbZSArIDFdIDw8IDggfCByW2VdO1xufVxuVmUucmVhZEludDMyTEUgPSBwbztcbmZ1bmN0aW9uIHZvKHIsIGUpIHtcbiAgcmV0dXJuIGUgPT09IHZvaWQgMCAmJiAoZSA9IDApLCAocltlICsgM10gPDwgMjQgfCByW2UgKyAyXSA8PCAxNiB8IHJbZSArIDFdIDw8IDggfCByW2VdKSA+Pj4gMDtcbn1cblZlLnJlYWRVaW50MzJMRSA9IHZvO1xuZnVuY3Rpb24gcXMociwgZSwgdCkge1xuICByZXR1cm4gZSA9PT0gdm9pZCAwICYmIChlID0gbmV3IFVpbnQ4QXJyYXkoNCkpLCB0ID09PSB2b2lkIDAgJiYgKHQgPSAwKSwgZVt0ICsgMF0gPSByID4+PiAyNCwgZVt0ICsgMV0gPSByID4+PiAxNiwgZVt0ICsgMl0gPSByID4+PiA4LCBlW3QgKyAzXSA9IHIgPj4+IDAsIGU7XG59XG5WZS53cml0ZVVpbnQzMkJFID0gcXM7XG5WZS53cml0ZUludDMyQkUgPSBxcztcbmZ1bmN0aW9uIFVzKHIsIGUsIHQpIHtcbiAgcmV0dXJuIGUgPT09IHZvaWQgMCAmJiAoZSA9IG5ldyBVaW50OEFycmF5KDQpKSwgdCA9PT0gdm9pZCAwICYmICh0ID0gMCksIGVbdCArIDBdID0gciA+Pj4gMCwgZVt0ICsgMV0gPSByID4+PiA4LCBlW3QgKyAyXSA9IHIgPj4+IDE2LCBlW3QgKyAzXSA9IHIgPj4+IDI0LCBlO1xufVxuVmUud3JpdGVVaW50MzJMRSA9IFVzO1xuVmUud3JpdGVJbnQzMkxFID0gVXM7XG5mdW5jdGlvbiBPcChyLCBlKSB7XG4gIGUgPT09IHZvaWQgMCAmJiAoZSA9IDApO1xuICB2YXIgdCA9IHVvKHIsIGUpLCBpID0gdW8ociwgZSArIDQpO1xuICByZXR1cm4gdCAqIDQyOTQ5NjcyOTYgKyBpIC0gKGkgPj4gMzEpICogNDI5NDk2NzI5Njtcbn1cblZlLnJlYWRJbnQ2NEJFID0gT3A7XG5mdW5jdGlvbiBScChyLCBlKSB7XG4gIGUgPT09IHZvaWQgMCAmJiAoZSA9IDApO1xuICB2YXIgdCA9IGxvKHIsIGUpLCBpID0gbG8ociwgZSArIDQpO1xuICByZXR1cm4gdCAqIDQyOTQ5NjcyOTYgKyBpO1xufVxuVmUucmVhZFVpbnQ2NEJFID0gUnA7XG5mdW5jdGlvbiBOcChyLCBlKSB7XG4gIGUgPT09IHZvaWQgMCAmJiAoZSA9IDApO1xuICB2YXIgdCA9IHBvKHIsIGUpLCBpID0gcG8ociwgZSArIDQpO1xuICByZXR1cm4gaSAqIDQyOTQ5NjcyOTYgKyB0IC0gKHQgPj4gMzEpICogNDI5NDk2NzI5Njtcbn1cblZlLnJlYWRJbnQ2NExFID0gTnA7XG5mdW5jdGlvbiBUcChyLCBlKSB7XG4gIGUgPT09IHZvaWQgMCAmJiAoZSA9IDApO1xuICB2YXIgdCA9IHZvKHIsIGUpLCBpID0gdm8ociwgZSArIDQpO1xuICByZXR1cm4gaSAqIDQyOTQ5NjcyOTYgKyB0O1xufVxuVmUucmVhZFVpbnQ2NExFID0gVHA7XG5mdW5jdGlvbiBaaChyLCBlLCB0KSB7XG4gIHJldHVybiBlID09PSB2b2lkIDAgJiYgKGUgPSBuZXcgVWludDhBcnJheSg4KSksIHQgPT09IHZvaWQgMCAmJiAodCA9IDApLCBxcyhyIC8gNDI5NDk2NzI5NiA+Pj4gMCwgZSwgdCksIHFzKHIgPj4+IDAsIGUsIHQgKyA0KSwgZTtcbn1cblZlLndyaXRlVWludDY0QkUgPSBaaDtcblZlLndyaXRlSW50NjRCRSA9IFpoO1xuZnVuY3Rpb24gUWgociwgZSwgdCkge1xuICByZXR1cm4gZSA9PT0gdm9pZCAwICYmIChlID0gbmV3IFVpbnQ4QXJyYXkoOCkpLCB0ID09PSB2b2lkIDAgJiYgKHQgPSAwKSwgVXMociA+Pj4gMCwgZSwgdCksIFVzKHIgLyA0Mjk0OTY3Mjk2ID4+PiAwLCBlLCB0ICsgNCksIGU7XG59XG5WZS53cml0ZVVpbnQ2NExFID0gUWg7XG5WZS53cml0ZUludDY0TEUgPSBRaDtcbmZ1bmN0aW9uIENwKHIsIGUsIHQpIHtcbiAgaWYgKHQgPT09IHZvaWQgMCAmJiAodCA9IDApLCByICUgOCAhPT0gMClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJyZWFkVWludEJFIHN1cHBvcnRzIG9ubHkgYml0TGVuZ3RocyBkaXZpc2libGUgYnkgOFwiKTtcbiAgaWYgKHIgLyA4ID4gZS5sZW5ndGggLSB0KVxuICAgIHRocm93IG5ldyBFcnJvcihcInJlYWRVaW50QkU6IGFycmF5IGlzIHRvbyBzaG9ydCBmb3IgdGhlIGdpdmVuIGJpdExlbmd0aFwiKTtcbiAgZm9yICh2YXIgaSA9IDAsIG4gPSAxLCBzID0gciAvIDggKyB0IC0gMTsgcyA+PSB0OyBzLS0pXG4gICAgaSArPSBlW3NdICogbiwgbiAqPSAyNTY7XG4gIHJldHVybiBpO1xufVxuVmUucmVhZFVpbnRCRSA9IENwO1xuZnVuY3Rpb24gJHAociwgZSwgdCkge1xuICBpZiAodCA9PT0gdm9pZCAwICYmICh0ID0gMCksIHIgJSA4ICE9PSAwKVxuICAgIHRocm93IG5ldyBFcnJvcihcInJlYWRVaW50TEUgc3VwcG9ydHMgb25seSBiaXRMZW5ndGhzIGRpdmlzaWJsZSBieSA4XCIpO1xuICBpZiAociAvIDggPiBlLmxlbmd0aCAtIHQpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwicmVhZFVpbnRMRTogYXJyYXkgaXMgdG9vIHNob3J0IGZvciB0aGUgZ2l2ZW4gYml0TGVuZ3RoXCIpO1xuICBmb3IgKHZhciBpID0gMCwgbiA9IDEsIHMgPSB0OyBzIDwgdCArIHIgLyA4OyBzKyspXG4gICAgaSArPSBlW3NdICogbiwgbiAqPSAyNTY7XG4gIHJldHVybiBpO1xufVxuVmUucmVhZFVpbnRMRSA9ICRwO1xuZnVuY3Rpb24gTHAociwgZSwgdCwgaSkge1xuICBpZiAodCA9PT0gdm9pZCAwICYmICh0ID0gbmV3IFVpbnQ4QXJyYXkociAvIDgpKSwgaSA9PT0gdm9pZCAwICYmIChpID0gMCksIHIgJSA4ICE9PSAwKVxuICAgIHRocm93IG5ldyBFcnJvcihcIndyaXRlVWludEJFIHN1cHBvcnRzIG9ubHkgYml0TGVuZ3RocyBkaXZpc2libGUgYnkgOFwiKTtcbiAgaWYgKCFKaC5pc1NhZmVJbnRlZ2VyKGUpKVxuICAgIHRocm93IG5ldyBFcnJvcihcIndyaXRlVWludEJFIHZhbHVlIG11c3QgYmUgYW4gaW50ZWdlclwiKTtcbiAgZm9yICh2YXIgbiA9IDEsIHMgPSByIC8gOCArIGkgLSAxOyBzID49IGk7IHMtLSlcbiAgICB0W3NdID0gZSAvIG4gJiAyNTUsIG4gKj0gMjU2O1xuICByZXR1cm4gdDtcbn1cblZlLndyaXRlVWludEJFID0gTHA7XG5mdW5jdGlvbiBGcChyLCBlLCB0LCBpKSB7XG4gIGlmICh0ID09PSB2b2lkIDAgJiYgKHQgPSBuZXcgVWludDhBcnJheShyIC8gOCkpLCBpID09PSB2b2lkIDAgJiYgKGkgPSAwKSwgciAlIDggIT09IDApXG4gICAgdGhyb3cgbmV3IEVycm9yKFwid3JpdGVVaW50TEUgc3VwcG9ydHMgb25seSBiaXRMZW5ndGhzIGRpdmlzaWJsZSBieSA4XCIpO1xuICBpZiAoIUpoLmlzU2FmZUludGVnZXIoZSkpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwid3JpdGVVaW50TEUgdmFsdWUgbXVzdCBiZSBhbiBpbnRlZ2VyXCIpO1xuICBmb3IgKHZhciBuID0gMSwgcyA9IGk7IHMgPCBpICsgciAvIDg7IHMrKylcbiAgICB0W3NdID0gZSAvIG4gJiAyNTUsIG4gKj0gMjU2O1xuICByZXR1cm4gdDtcbn1cblZlLndyaXRlVWludExFID0gRnA7XG5mdW5jdGlvbiBxcChyLCBlKSB7XG4gIGUgPT09IHZvaWQgMCAmJiAoZSA9IDApO1xuICB2YXIgdCA9IG5ldyBEYXRhVmlldyhyLmJ1ZmZlciwgci5ieXRlT2Zmc2V0LCByLmJ5dGVMZW5ndGgpO1xuICByZXR1cm4gdC5nZXRGbG9hdDMyKGUpO1xufVxuVmUucmVhZEZsb2F0MzJCRSA9IHFwO1xuZnVuY3Rpb24gVXAociwgZSkge1xuICBlID09PSB2b2lkIDAgJiYgKGUgPSAwKTtcbiAgdmFyIHQgPSBuZXcgRGF0YVZpZXcoci5idWZmZXIsIHIuYnl0ZU9mZnNldCwgci5ieXRlTGVuZ3RoKTtcbiAgcmV0dXJuIHQuZ2V0RmxvYXQzMihlLCAhMCk7XG59XG5WZS5yZWFkRmxvYXQzMkxFID0gVXA7XG5mdW5jdGlvbiB6cChyLCBlKSB7XG4gIGUgPT09IHZvaWQgMCAmJiAoZSA9IDApO1xuICB2YXIgdCA9IG5ldyBEYXRhVmlldyhyLmJ1ZmZlciwgci5ieXRlT2Zmc2V0LCByLmJ5dGVMZW5ndGgpO1xuICByZXR1cm4gdC5nZXRGbG9hdDY0KGUpO1xufVxuVmUucmVhZEZsb2F0NjRCRSA9IHpwO1xuZnVuY3Rpb24gQnAociwgZSkge1xuICBlID09PSB2b2lkIDAgJiYgKGUgPSAwKTtcbiAgdmFyIHQgPSBuZXcgRGF0YVZpZXcoci5idWZmZXIsIHIuYnl0ZU9mZnNldCwgci5ieXRlTGVuZ3RoKTtcbiAgcmV0dXJuIHQuZ2V0RmxvYXQ2NChlLCAhMCk7XG59XG5WZS5yZWFkRmxvYXQ2NExFID0gQnA7XG5mdW5jdGlvbiBrcChyLCBlLCB0KSB7XG4gIGUgPT09IHZvaWQgMCAmJiAoZSA9IG5ldyBVaW50OEFycmF5KDQpKSwgdCA9PT0gdm9pZCAwICYmICh0ID0gMCk7XG4gIHZhciBpID0gbmV3IERhdGFWaWV3KGUuYnVmZmVyLCBlLmJ5dGVPZmZzZXQsIGUuYnl0ZUxlbmd0aCk7XG4gIHJldHVybiBpLnNldEZsb2F0MzIodCwgciksIGU7XG59XG5WZS53cml0ZUZsb2F0MzJCRSA9IGtwO1xuZnVuY3Rpb24ganAociwgZSwgdCkge1xuICBlID09PSB2b2lkIDAgJiYgKGUgPSBuZXcgVWludDhBcnJheSg0KSksIHQgPT09IHZvaWQgMCAmJiAodCA9IDApO1xuICB2YXIgaSA9IG5ldyBEYXRhVmlldyhlLmJ1ZmZlciwgZS5ieXRlT2Zmc2V0LCBlLmJ5dGVMZW5ndGgpO1xuICByZXR1cm4gaS5zZXRGbG9hdDMyKHQsIHIsICEwKSwgZTtcbn1cblZlLndyaXRlRmxvYXQzMkxFID0ganA7XG5mdW5jdGlvbiBLcChyLCBlLCB0KSB7XG4gIGUgPT09IHZvaWQgMCAmJiAoZSA9IG5ldyBVaW50OEFycmF5KDgpKSwgdCA9PT0gdm9pZCAwICYmICh0ID0gMCk7XG4gIHZhciBpID0gbmV3IERhdGFWaWV3KGUuYnVmZmVyLCBlLmJ5dGVPZmZzZXQsIGUuYnl0ZUxlbmd0aCk7XG4gIHJldHVybiBpLnNldEZsb2F0NjQodCwgciksIGU7XG59XG5WZS53cml0ZUZsb2F0NjRCRSA9IEtwO1xuZnVuY3Rpb24gSHAociwgZSwgdCkge1xuICBlID09PSB2b2lkIDAgJiYgKGUgPSBuZXcgVWludDhBcnJheSg4KSksIHQgPT09IHZvaWQgMCAmJiAodCA9IDApO1xuICB2YXIgaSA9IG5ldyBEYXRhVmlldyhlLmJ1ZmZlciwgZS5ieXRlT2Zmc2V0LCBlLmJ5dGVMZW5ndGgpO1xuICByZXR1cm4gaS5zZXRGbG9hdDY0KHQsIHIsICEwKSwgZTtcbn1cblZlLndyaXRlRmxvYXQ2NExFID0gSHA7XG4oZnVuY3Rpb24ocikge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkociwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pLCByLnJhbmRvbVN0cmluZ0ZvckVudHJvcHkgPSByLnJhbmRvbVN0cmluZyA9IHIucmFuZG9tVWludDMyID0gci5yYW5kb21CeXRlcyA9IHIuZGVmYXVsdFJhbmRvbVNvdXJjZSA9IHZvaWQgMDtcbiAgY29uc3QgZSA9IHNhLCB0ID0gVmUsIGkgPSBucjtcbiAgci5kZWZhdWx0UmFuZG9tU291cmNlID0gbmV3IGUuU3lzdGVtUmFuZG9tU291cmNlKCk7XG4gIGZ1bmN0aW9uIG4oZCwgdiA9IHIuZGVmYXVsdFJhbmRvbVNvdXJjZSkge1xuICAgIHJldHVybiB2LnJhbmRvbUJ5dGVzKGQpO1xuICB9XG4gIHIucmFuZG9tQnl0ZXMgPSBuO1xuICBmdW5jdGlvbiBzKGQgPSByLmRlZmF1bHRSYW5kb21Tb3VyY2UpIHtcbiAgICBjb25zdCB2ID0gbig0LCBkKSwgdyA9ICgwLCB0LnJlYWRVaW50MzJMRSkodik7XG4gICAgcmV0dXJuICgwLCBpLndpcGUpKHYpLCB3O1xuICB9XG4gIHIucmFuZG9tVWludDMyID0gcztcbiAgY29uc3QgbyA9IFwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIjtcbiAgZnVuY3Rpb24gZihkLCB2ID0gbywgdyA9IHIuZGVmYXVsdFJhbmRvbVNvdXJjZSkge1xuICAgIGlmICh2Lmxlbmd0aCA8IDIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJyYW5kb21TdHJpbmcgY2hhcnNldCBpcyB0b28gc2hvcnRcIik7XG4gICAgaWYgKHYubGVuZ3RoID4gMjU2KVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwicmFuZG9tU3RyaW5nIGNoYXJzZXQgaXMgdG9vIGxvbmdcIik7XG4gICAgbGV0IEEgPSBcIlwiO1xuICAgIGNvbnN0IEkgPSB2Lmxlbmd0aCwgRCA9IDI1NiAtIDI1NiAlIEk7XG4gICAgZm9yICg7IGQgPiAwOyApIHtcbiAgICAgIGNvbnN0IE4gPSBuKE1hdGguY2VpbChkICogMjU2IC8gRCksIHcpO1xuICAgICAgZm9yIChsZXQgayA9IDA7IGsgPCBOLmxlbmd0aCAmJiBkID4gMDsgaysrKSB7XG4gICAgICAgIGNvbnN0IGogPSBOW2tdO1xuICAgICAgICBqIDwgRCAmJiAoQSArPSB2LmNoYXJBdChqICUgSSksIGQtLSk7XG4gICAgICB9XG4gICAgICAoMCwgaS53aXBlKShOKTtcbiAgICB9XG4gICAgcmV0dXJuIEE7XG4gIH1cbiAgci5yYW5kb21TdHJpbmcgPSBmO1xuICBmdW5jdGlvbiBoKGQsIHYgPSBvLCB3ID0gci5kZWZhdWx0UmFuZG9tU291cmNlKSB7XG4gICAgY29uc3QgQSA9IE1hdGguY2VpbChkIC8gKE1hdGgubG9nKHYubGVuZ3RoKSAvIE1hdGguTE4yKSk7XG4gICAgcmV0dXJuIGYoQSwgdiwgdyk7XG4gIH1cbiAgci5yYW5kb21TdHJpbmdGb3JFbnRyb3B5ID0gaDtcbn0pKEVpKTtcbnZhciBldSA9IHt9O1xuKGZ1bmN0aW9uKHIpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbiAgdmFyIGUgPSBWZSwgdCA9IG5yO1xuICByLkRJR0VTVF9MRU5HVEggPSA2NCwgci5CTE9DS19TSVpFID0gMTI4O1xuICB2YXIgaSA9IChcbiAgICAvKiogQGNsYXNzICovXG4gICAgZnVuY3Rpb24oKSB7XG4gICAgICBmdW5jdGlvbiBmKCkge1xuICAgICAgICB0aGlzLmRpZ2VzdExlbmd0aCA9IHIuRElHRVNUX0xFTkdUSCwgdGhpcy5ibG9ja1NpemUgPSByLkJMT0NLX1NJWkUsIHRoaXMuX3N0YXRlSGkgPSBuZXcgSW50MzJBcnJheSg4KSwgdGhpcy5fc3RhdGVMbyA9IG5ldyBJbnQzMkFycmF5KDgpLCB0aGlzLl90ZW1wSGkgPSBuZXcgSW50MzJBcnJheSgxNiksIHRoaXMuX3RlbXBMbyA9IG5ldyBJbnQzMkFycmF5KDE2KSwgdGhpcy5fYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoMjU2KSwgdGhpcy5fYnVmZmVyTGVuZ3RoID0gMCwgdGhpcy5fYnl0ZXNIYXNoZWQgPSAwLCB0aGlzLl9maW5pc2hlZCA9ICExLCB0aGlzLnJlc2V0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZi5wcm90b3R5cGUuX2luaXRTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9zdGF0ZUhpWzBdID0gMTc3OTAzMzcwMywgdGhpcy5fc3RhdGVIaVsxXSA9IDMxNDQxMzQyNzcsIHRoaXMuX3N0YXRlSGlbMl0gPSAxMDEzOTA0MjQyLCB0aGlzLl9zdGF0ZUhpWzNdID0gMjc3MzQ4MDc2MiwgdGhpcy5fc3RhdGVIaVs0XSA9IDEzNTk4OTMxMTksIHRoaXMuX3N0YXRlSGlbNV0gPSAyNjAwODIyOTI0LCB0aGlzLl9zdGF0ZUhpWzZdID0gNTI4NzM0NjM1LCB0aGlzLl9zdGF0ZUhpWzddID0gMTU0MTQ1OTIyNSwgdGhpcy5fc3RhdGVMb1swXSA9IDQwODkyMzU3MjAsIHRoaXMuX3N0YXRlTG9bMV0gPSAyMjI3ODczNTk1LCB0aGlzLl9zdGF0ZUxvWzJdID0gNDI3MTE3NTcyMywgdGhpcy5fc3RhdGVMb1szXSA9IDE1OTU3NTAxMjksIHRoaXMuX3N0YXRlTG9bNF0gPSAyOTE3NTY1MTM3LCB0aGlzLl9zdGF0ZUxvWzVdID0gNzI1NTExMTk5LCB0aGlzLl9zdGF0ZUxvWzZdID0gNDIxNTM4OTU0NywgdGhpcy5fc3RhdGVMb1s3XSA9IDMyNzAzMzIwOTtcbiAgICAgIH0sIGYucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbml0U3RhdGUoKSwgdGhpcy5fYnVmZmVyTGVuZ3RoID0gMCwgdGhpcy5fYnl0ZXNIYXNoZWQgPSAwLCB0aGlzLl9maW5pc2hlZCA9ICExLCB0aGlzO1xuICAgICAgfSwgZi5wcm90b3R5cGUuY2xlYW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdC53aXBlKHRoaXMuX2J1ZmZlciksIHQud2lwZSh0aGlzLl90ZW1wSGkpLCB0LndpcGUodGhpcy5fdGVtcExvKSwgdGhpcy5yZXNldCgpO1xuICAgICAgfSwgZi5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oaCwgZCkge1xuICAgICAgICBpZiAoZCA9PT0gdm9pZCAwICYmIChkID0gaC5sZW5ndGgpLCB0aGlzLl9maW5pc2hlZClcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTSEE1MTI6IGNhbid0IHVwZGF0ZSBiZWNhdXNlIGhhc2ggd2FzIGZpbmlzaGVkLlwiKTtcbiAgICAgICAgdmFyIHYgPSAwO1xuICAgICAgICBpZiAodGhpcy5fYnl0ZXNIYXNoZWQgKz0gZCwgdGhpcy5fYnVmZmVyTGVuZ3RoID4gMCkge1xuICAgICAgICAgIGZvciAoOyB0aGlzLl9idWZmZXJMZW5ndGggPCByLkJMT0NLX1NJWkUgJiYgZCA+IDA7IClcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9idWZmZXJMZW5ndGgrK10gPSBoW3YrK10sIGQtLTtcbiAgICAgICAgICB0aGlzLl9idWZmZXJMZW5ndGggPT09IHRoaXMuYmxvY2tTaXplICYmIChzKHRoaXMuX3RlbXBIaSwgdGhpcy5fdGVtcExvLCB0aGlzLl9zdGF0ZUhpLCB0aGlzLl9zdGF0ZUxvLCB0aGlzLl9idWZmZXIsIDAsIHRoaXMuYmxvY2tTaXplKSwgdGhpcy5fYnVmZmVyTGVuZ3RoID0gMCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChkID49IHRoaXMuYmxvY2tTaXplICYmICh2ID0gcyh0aGlzLl90ZW1wSGksIHRoaXMuX3RlbXBMbywgdGhpcy5fc3RhdGVIaSwgdGhpcy5fc3RhdGVMbywgaCwgdiwgZCksIGQgJT0gdGhpcy5ibG9ja1NpemUpOyBkID4gMDsgKVxuICAgICAgICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9idWZmZXJMZW5ndGgrK10gPSBoW3YrK10sIGQtLTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LCBmLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbihoKSB7XG4gICAgICAgIGlmICghdGhpcy5fZmluaXNoZWQpIHtcbiAgICAgICAgICB2YXIgZCA9IHRoaXMuX2J5dGVzSGFzaGVkLCB2ID0gdGhpcy5fYnVmZmVyTGVuZ3RoLCB3ID0gZCAvIDUzNjg3MDkxMiB8IDAsIEEgPSBkIDw8IDMsIEkgPSBkICUgMTI4IDwgMTEyID8gMTI4IDogMjU2O1xuICAgICAgICAgIHRoaXMuX2J1ZmZlclt2XSA9IDEyODtcbiAgICAgICAgICBmb3IgKHZhciBEID0gdiArIDE7IEQgPCBJIC0gODsgRCsrKVxuICAgICAgICAgICAgdGhpcy5fYnVmZmVyW0RdID0gMDtcbiAgICAgICAgICBlLndyaXRlVWludDMyQkUodywgdGhpcy5fYnVmZmVyLCBJIC0gOCksIGUud3JpdGVVaW50MzJCRShBLCB0aGlzLl9idWZmZXIsIEkgLSA0KSwgcyh0aGlzLl90ZW1wSGksIHRoaXMuX3RlbXBMbywgdGhpcy5fc3RhdGVIaSwgdGhpcy5fc3RhdGVMbywgdGhpcy5fYnVmZmVyLCAwLCBJKSwgdGhpcy5fZmluaXNoZWQgPSAhMDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBEID0gMDsgRCA8IHRoaXMuZGlnZXN0TGVuZ3RoIC8gODsgRCsrKVxuICAgICAgICAgIGUud3JpdGVVaW50MzJCRSh0aGlzLl9zdGF0ZUhpW0RdLCBoLCBEICogOCksIGUud3JpdGVVaW50MzJCRSh0aGlzLl9zdGF0ZUxvW0RdLCBoLCBEICogOCArIDQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sIGYucHJvdG90eXBlLmRpZ2VzdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaCA9IG5ldyBVaW50OEFycmF5KHRoaXMuZGlnZXN0TGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluaXNoKGgpLCBoO1xuICAgICAgfSwgZi5wcm90b3R5cGUuc2F2ZVN0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLl9maW5pc2hlZClcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTSEEyNTY6IGNhbm5vdCBzYXZlIGZpbmlzaGVkIHN0YXRlXCIpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN0YXRlSGk6IG5ldyBJbnQzMkFycmF5KHRoaXMuX3N0YXRlSGkpLFxuICAgICAgICAgIHN0YXRlTG86IG5ldyBJbnQzMkFycmF5KHRoaXMuX3N0YXRlTG8pLFxuICAgICAgICAgIGJ1ZmZlcjogdGhpcy5fYnVmZmVyTGVuZ3RoID4gMCA/IG5ldyBVaW50OEFycmF5KHRoaXMuX2J1ZmZlcikgOiB2b2lkIDAsXG4gICAgICAgICAgYnVmZmVyTGVuZ3RoOiB0aGlzLl9idWZmZXJMZW5ndGgsXG4gICAgICAgICAgYnl0ZXNIYXNoZWQ6IHRoaXMuX2J5dGVzSGFzaGVkXG4gICAgICAgIH07XG4gICAgICB9LCBmLnByb3RvdHlwZS5yZXN0b3JlU3RhdGUgPSBmdW5jdGlvbihoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZUhpLnNldChoLnN0YXRlSGkpLCB0aGlzLl9zdGF0ZUxvLnNldChoLnN0YXRlTG8pLCB0aGlzLl9idWZmZXJMZW5ndGggPSBoLmJ1ZmZlckxlbmd0aCwgaC5idWZmZXIgJiYgdGhpcy5fYnVmZmVyLnNldChoLmJ1ZmZlciksIHRoaXMuX2J5dGVzSGFzaGVkID0gaC5ieXRlc0hhc2hlZCwgdGhpcy5fZmluaXNoZWQgPSAhMSwgdGhpcztcbiAgICAgIH0sIGYucHJvdG90eXBlLmNsZWFuU2F2ZWRTdGF0ZSA9IGZ1bmN0aW9uKGgpIHtcbiAgICAgICAgdC53aXBlKGguc3RhdGVIaSksIHQud2lwZShoLnN0YXRlTG8pLCBoLmJ1ZmZlciAmJiB0LndpcGUoaC5idWZmZXIpLCBoLmJ1ZmZlckxlbmd0aCA9IDAsIGguYnl0ZXNIYXNoZWQgPSAwO1xuICAgICAgfSwgZjtcbiAgICB9KClcbiAgKTtcbiAgci5TSEE1MTIgPSBpO1xuICB2YXIgbiA9IG5ldyBJbnQzMkFycmF5KFtcbiAgICAxMTE2MzUyNDA4LFxuICAgIDM2MDk3Njc0NTgsXG4gICAgMTg5OTQ0NzQ0MSxcbiAgICA2MDI4OTE3MjUsXG4gICAgMzA0OTMyMzQ3MSxcbiAgICAzOTY0NDg0Mzk5LFxuICAgIDM5MjEwMDk1NzMsXG4gICAgMjE3MzI5NTU0OCxcbiAgICA5NjE5ODcxNjMsXG4gICAgNDA4MTYyODQ3MixcbiAgICAxNTA4OTcwOTkzLFxuICAgIDMwNTM4MzQyNjUsXG4gICAgMjQ1MzYzNTc0OCxcbiAgICAyOTM3NjcxNTc5LFxuICAgIDI4NzA3NjMyMjEsXG4gICAgMzY2NDYwOTU2MCxcbiAgICAzNjI0MzgxMDgwLFxuICAgIDI3MzQ4ODMzOTQsXG4gICAgMzEwNTk4NDAxLFxuICAgIDExNjQ5OTY1NDIsXG4gICAgNjA3MjI1Mjc4LFxuICAgIDEzMjM2MTA3NjQsXG4gICAgMTQyNjg4MTk4NyxcbiAgICAzNTkwMzA0OTk0LFxuICAgIDE5MjUwNzgzODgsXG4gICAgNDA2ODE4MjM4MyxcbiAgICAyMTYyMDc4MjA2LFxuICAgIDk5MTMzNjExMyxcbiAgICAyNjE0ODg4MTAzLFxuICAgIDYzMzgwMzMxNyxcbiAgICAzMjQ4MjIyNTgwLFxuICAgIDM0Nzk3NzQ4NjgsXG4gICAgMzgzNTM5MDQwMSxcbiAgICAyNjY2NjEzNDU4LFxuICAgIDQwMjIyMjQ3NzQsXG4gICAgOTQ0NzExMTM5LFxuICAgIDI2NDM0NzA3OCxcbiAgICAyMzQxMjYyNzczLFxuICAgIDYwNDgwNzYyOCxcbiAgICAyMDA3ODAwOTMzLFxuICAgIDc3MDI1NTk4MyxcbiAgICAxNDk1OTkwOTAxLFxuICAgIDEyNDkxNTAxMjIsXG4gICAgMTg1NjQzMTIzNSxcbiAgICAxNTU1MDgxNjkyLFxuICAgIDMxNzUyMTgxMzIsXG4gICAgMTk5NjA2NDk4NixcbiAgICAyMTk4OTUwODM3LFxuICAgIDI1NTQyMjA4ODIsXG4gICAgMzk5OTcxOTMzOSxcbiAgICAyODIxODM0MzQ5LFxuICAgIDc2Njc4NDAxNixcbiAgICAyOTUyOTk2ODA4LFxuICAgIDI1NjY1OTQ4NzksXG4gICAgMzIxMDMxMzY3MSxcbiAgICAzMjAzMzM3OTU2LFxuICAgIDMzMzY1NzE4OTEsXG4gICAgMTAzNDQ1NzAyNixcbiAgICAzNTg0NTI4NzExLFxuICAgIDI0NjY5NDg5MDEsXG4gICAgMTEzOTI2OTkzLFxuICAgIDM3NTgzMjYzODMsXG4gICAgMzM4MjQxODk1LFxuICAgIDE2ODcxNzkzNixcbiAgICA2NjYzMDcyMDUsXG4gICAgMTE4ODE3OTk2NCxcbiAgICA3NzM1Mjk5MTIsXG4gICAgMTU0NjA0NTczNCxcbiAgICAxMjk0NzU3MzcyLFxuICAgIDE1MjI4MDU0ODUsXG4gICAgMTM5NjE4MjI5MSxcbiAgICAyNjQzODMzODIzLFxuICAgIDE2OTUxODM3MDAsXG4gICAgMjM0MzUyNzM5MCxcbiAgICAxOTg2NjYxMDUxLFxuICAgIDEwMTQ0Nzc0ODAsXG4gICAgMjE3NzAyNjM1MCxcbiAgICAxMjA2NzU5MTQyLFxuICAgIDI0NTY5NTYwMzcsXG4gICAgMzQ0MDc3NjI3LFxuICAgIDI3MzA0ODU5MjEsXG4gICAgMTI5MDg2MzQ2MCxcbiAgICAyODIwMzAyNDExLFxuICAgIDMxNTg0NTQyNzMsXG4gICAgMzI1OTczMDgwMCxcbiAgICAzNTA1OTUyNjU3LFxuICAgIDMzNDU3NjQ3NzEsXG4gICAgMTA2MjE3MDA4LFxuICAgIDM1MTYwNjU4MTcsXG4gICAgMzYwNjAwODM0NCxcbiAgICAzNjAwMzUyODA0LFxuICAgIDE0MzI3MjU3NzYsXG4gICAgNDA5NDU3MTkwOSxcbiAgICAxNDY3MDMxNTk0LFxuICAgIDI3NTQyMzM0NCxcbiAgICA4NTExNjk3MjAsXG4gICAgNDMwMjI3NzM0LFxuICAgIDMxMDA4MjM3NTIsXG4gICAgNTA2OTQ4NjE2LFxuICAgIDEzNjMyNTgxOTUsXG4gICAgNjU5MDYwNTU2LFxuICAgIDM3NTA2ODU1OTMsXG4gICAgODgzOTk3ODc3LFxuICAgIDM3ODUwNTAyODAsXG4gICAgOTU4MTM5NTcxLFxuICAgIDMzMTgzMDc0MjcsXG4gICAgMTMyMjgyMjIxOCxcbiAgICAzODEyNzIzNDAzLFxuICAgIDE1MzcwMDIwNjMsXG4gICAgMjAwMzAzNDk5NSxcbiAgICAxNzQ3ODczNzc5LFxuICAgIDM2MDIwMzY4OTksXG4gICAgMTk1NTU2MjIyMixcbiAgICAxNTc1OTkwMDEyLFxuICAgIDIwMjQxMDQ4MTUsXG4gICAgMTEyNTU5MjkyOCxcbiAgICAyMjI3NzMwNDUyLFxuICAgIDI3MTY5MDQzMDYsXG4gICAgMjM2MTg1MjQyNCxcbiAgICA0NDI3NzYwNDQsXG4gICAgMjQyODQzNjQ3NCxcbiAgICA1OTM2OTgzNDQsXG4gICAgMjc1NjczNDE4NyxcbiAgICAzNzMzMTEwMjQ5LFxuICAgIDMyMDQwMzE0NzksXG4gICAgMjk5OTM1MTU3MyxcbiAgICAzMzI5MzI1Mjk4LFxuICAgIDM4MTU5MjA0MjcsXG4gICAgMzM5MTU2OTYxNCxcbiAgICAzOTI4MzgzOTAwLFxuICAgIDM1MTUyNjcyNzEsXG4gICAgNTY2MjgwNzExLFxuICAgIDM5NDAxODc2MDYsXG4gICAgMzQ1NDA2OTUzNCxcbiAgICA0MTE4NjMwMjcxLFxuICAgIDQwMDAyMzk5OTIsXG4gICAgMTE2NDE4NDc0LFxuICAgIDE5MTQxMzg1NTQsXG4gICAgMTc0MjkyNDIxLFxuICAgIDI3MzEwNTUyNzAsXG4gICAgMjg5MzgwMzU2LFxuICAgIDMyMDM5OTMwMDYsXG4gICAgNDYwMzkzMjY5LFxuICAgIDMyMDYyMDMxNSxcbiAgICA2ODU0NzE3MzMsXG4gICAgNTg3NDk2ODM2LFxuICAgIDg1MjE0Mjk3MSxcbiAgICAxMDg2NzkyODUxLFxuICAgIDEwMTcwMzYyOTgsXG4gICAgMzY1NTQzMTAwLFxuICAgIDExMjYwMDA1ODAsXG4gICAgMjYxODI5NzY3NixcbiAgICAxMjg4MDMzNDcwLFxuICAgIDM0MDk4NTUxNTgsXG4gICAgMTUwMTUwNTk0OCxcbiAgICA0MjM0NTA5ODY2LFxuICAgIDE2MDcxNjc5MTUsXG4gICAgOTg3MTY3NDY4LFxuICAgIDE4MTY0MDIzMTYsXG4gICAgMTI0NjE4OTU5MVxuICBdKTtcbiAgZnVuY3Rpb24gcyhmLCBoLCBkLCB2LCB3LCBBLCBJKSB7XG4gICAgZm9yICh2YXIgRCA9IGRbMF0sIE4gPSBkWzFdLCBrID0gZFsyXSwgaiA9IGRbM10sIFQgPSBkWzRdLCBLID0gZFs1XSwgJCA9IGRbNl0sIHogPSBkWzddLCBCID0gdlswXSwgXyA9IHZbMV0sIFIgPSB2WzJdLCBKID0gdlszXSwgUSA9IHZbNF0sIE8gPSB2WzVdLCBwID0gdls2XSwgbCA9IHZbN10sIGEsIGMsIGIsIEUsIFMsIHgsIHUsIG07IEkgPj0gMTI4OyApIHtcbiAgICAgIGZvciAodmFyIGcgPSAwOyBnIDwgMTY7IGcrKykge1xuICAgICAgICB2YXIgUCA9IDggKiBnICsgQTtcbiAgICAgICAgZltnXSA9IGUucmVhZFVpbnQzMkJFKHcsIFApLCBoW2ddID0gZS5yZWFkVWludDMyQkUodywgUCArIDQpO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgZyA9IDA7IGcgPCA4MDsgZysrKSB7XG4gICAgICAgIHZhciBHID0gRCwgTSA9IE4sIEggPSBrLCBDID0gaiwgcSA9IFQsIEwgPSBLLCB5ID0gJCwgRiA9IHosIFcgPSBCLCBZID0gXywgWCA9IFIsIGVlID0gSiwgd2UgPSBRLCBNZSA9IE8sIGhlID0gcCwgUmUgPSBsO1xuICAgICAgICBpZiAoYSA9IHosIGMgPSBsLCBTID0gYyAmIDY1NTM1LCB4ID0gYyA+Pj4gMTYsIHUgPSBhICYgNjU1MzUsIG0gPSBhID4+PiAxNiwgYSA9IChUID4+PiAxNCB8IFEgPDwgMzIgLSAxNCkgXiAoVCA+Pj4gMTggfCBRIDw8IDMyIC0gMTgpIF4gKFEgPj4+IDQxIC0gMzIgfCBUIDw8IDMyIC0gKDQxIC0gMzIpKSwgYyA9IChRID4+PiAxNCB8IFQgPDwgMzIgLSAxNCkgXiAoUSA+Pj4gMTggfCBUIDw8IDMyIC0gMTgpIF4gKFQgPj4+IDQxIC0gMzIgfCBRIDw8IDMyIC0gKDQxIC0gMzIpKSwgUyArPSBjICYgNjU1MzUsIHggKz0gYyA+Pj4gMTYsIHUgKz0gYSAmIDY1NTM1LCBtICs9IGEgPj4+IDE2LCBhID0gVCAmIEsgXiB+VCAmICQsIGMgPSBRICYgTyBeIH5RICYgcCwgUyArPSBjICYgNjU1MzUsIHggKz0gYyA+Pj4gMTYsIHUgKz0gYSAmIDY1NTM1LCBtICs9IGEgPj4+IDE2LCBhID0gbltnICogMl0sIGMgPSBuW2cgKiAyICsgMV0sIFMgKz0gYyAmIDY1NTM1LCB4ICs9IGMgPj4+IDE2LCB1ICs9IGEgJiA2NTUzNSwgbSArPSBhID4+PiAxNiwgYSA9IGZbZyAlIDE2XSwgYyA9IGhbZyAlIDE2XSwgUyArPSBjICYgNjU1MzUsIHggKz0gYyA+Pj4gMTYsIHUgKz0gYSAmIDY1NTM1LCBtICs9IGEgPj4+IDE2LCB4ICs9IFMgPj4+IDE2LCB1ICs9IHggPj4+IDE2LCBtICs9IHUgPj4+IDE2LCBiID0gdSAmIDY1NTM1IHwgbSA8PCAxNiwgRSA9IFMgJiA2NTUzNSB8IHggPDwgMTYsIGEgPSBiLCBjID0gRSwgUyA9IGMgJiA2NTUzNSwgeCA9IGMgPj4+IDE2LCB1ID0gYSAmIDY1NTM1LCBtID0gYSA+Pj4gMTYsIGEgPSAoRCA+Pj4gMjggfCBCIDw8IDMyIC0gMjgpIF4gKEIgPj4+IDM0IC0gMzIgfCBEIDw8IDMyIC0gKDM0IC0gMzIpKSBeIChCID4+PiAzOSAtIDMyIHwgRCA8PCAzMiAtICgzOSAtIDMyKSksIGMgPSAoQiA+Pj4gMjggfCBEIDw8IDMyIC0gMjgpIF4gKEQgPj4+IDM0IC0gMzIgfCBCIDw8IDMyIC0gKDM0IC0gMzIpKSBeIChEID4+PiAzOSAtIDMyIHwgQiA8PCAzMiAtICgzOSAtIDMyKSksIFMgKz0gYyAmIDY1NTM1LCB4ICs9IGMgPj4+IDE2LCB1ICs9IGEgJiA2NTUzNSwgbSArPSBhID4+PiAxNiwgYSA9IEQgJiBOIF4gRCAmIGsgXiBOICYgaywgYyA9IEIgJiBfIF4gQiAmIFIgXiBfICYgUiwgUyArPSBjICYgNjU1MzUsIHggKz0gYyA+Pj4gMTYsIHUgKz0gYSAmIDY1NTM1LCBtICs9IGEgPj4+IDE2LCB4ICs9IFMgPj4+IDE2LCB1ICs9IHggPj4+IDE2LCBtICs9IHUgPj4+IDE2LCBGID0gdSAmIDY1NTM1IHwgbSA8PCAxNiwgUmUgPSBTICYgNjU1MzUgfCB4IDw8IDE2LCBhID0gQywgYyA9IGVlLCBTID0gYyAmIDY1NTM1LCB4ID0gYyA+Pj4gMTYsIHUgPSBhICYgNjU1MzUsIG0gPSBhID4+PiAxNiwgYSA9IGIsIGMgPSBFLCBTICs9IGMgJiA2NTUzNSwgeCArPSBjID4+PiAxNiwgdSArPSBhICYgNjU1MzUsIG0gKz0gYSA+Pj4gMTYsIHggKz0gUyA+Pj4gMTYsIHUgKz0geCA+Pj4gMTYsIG0gKz0gdSA+Pj4gMTYsIEMgPSB1ICYgNjU1MzUgfCBtIDw8IDE2LCBlZSA9IFMgJiA2NTUzNSB8IHggPDwgMTYsIE4gPSBHLCBrID0gTSwgaiA9IEgsIFQgPSBDLCBLID0gcSwgJCA9IEwsIHogPSB5LCBEID0gRiwgXyA9IFcsIFIgPSBZLCBKID0gWCwgUSA9IGVlLCBPID0gd2UsIHAgPSBNZSwgbCA9IGhlLCBCID0gUmUsIGcgJSAxNiA9PT0gMTUpXG4gICAgICAgICAgZm9yICh2YXIgUCA9IDA7IFAgPCAxNjsgUCsrKVxuICAgICAgICAgICAgYSA9IGZbUF0sIGMgPSBoW1BdLCBTID0gYyAmIDY1NTM1LCB4ID0gYyA+Pj4gMTYsIHUgPSBhICYgNjU1MzUsIG0gPSBhID4+PiAxNiwgYSA9IGZbKFAgKyA5KSAlIDE2XSwgYyA9IGhbKFAgKyA5KSAlIDE2XSwgUyArPSBjICYgNjU1MzUsIHggKz0gYyA+Pj4gMTYsIHUgKz0gYSAmIDY1NTM1LCBtICs9IGEgPj4+IDE2LCBiID0gZlsoUCArIDEpICUgMTZdLCBFID0gaFsoUCArIDEpICUgMTZdLCBhID0gKGIgPj4+IDEgfCBFIDw8IDMyIC0gMSkgXiAoYiA+Pj4gOCB8IEUgPDwgMzIgLSA4KSBeIGIgPj4+IDcsIGMgPSAoRSA+Pj4gMSB8IGIgPDwgMzIgLSAxKSBeIChFID4+PiA4IHwgYiA8PCAzMiAtIDgpIF4gKEUgPj4+IDcgfCBiIDw8IDMyIC0gNyksIFMgKz0gYyAmIDY1NTM1LCB4ICs9IGMgPj4+IDE2LCB1ICs9IGEgJiA2NTUzNSwgbSArPSBhID4+PiAxNiwgYiA9IGZbKFAgKyAxNCkgJSAxNl0sIEUgPSBoWyhQICsgMTQpICUgMTZdLCBhID0gKGIgPj4+IDE5IHwgRSA8PCAzMiAtIDE5KSBeIChFID4+PiA2MSAtIDMyIHwgYiA8PCAzMiAtICg2MSAtIDMyKSkgXiBiID4+PiA2LCBjID0gKEUgPj4+IDE5IHwgYiA8PCAzMiAtIDE5KSBeIChiID4+PiA2MSAtIDMyIHwgRSA8PCAzMiAtICg2MSAtIDMyKSkgXiAoRSA+Pj4gNiB8IGIgPDwgMzIgLSA2KSwgUyArPSBjICYgNjU1MzUsIHggKz0gYyA+Pj4gMTYsIHUgKz0gYSAmIDY1NTM1LCBtICs9IGEgPj4+IDE2LCB4ICs9IFMgPj4+IDE2LCB1ICs9IHggPj4+IDE2LCBtICs9IHUgPj4+IDE2LCBmW1BdID0gdSAmIDY1NTM1IHwgbSA8PCAxNiwgaFtQXSA9IFMgJiA2NTUzNSB8IHggPDwgMTY7XG4gICAgICB9XG4gICAgICBhID0gRCwgYyA9IEIsIFMgPSBjICYgNjU1MzUsIHggPSBjID4+PiAxNiwgdSA9IGEgJiA2NTUzNSwgbSA9IGEgPj4+IDE2LCBhID0gZFswXSwgYyA9IHZbMF0sIFMgKz0gYyAmIDY1NTM1LCB4ICs9IGMgPj4+IDE2LCB1ICs9IGEgJiA2NTUzNSwgbSArPSBhID4+PiAxNiwgeCArPSBTID4+PiAxNiwgdSArPSB4ID4+PiAxNiwgbSArPSB1ID4+PiAxNiwgZFswXSA9IEQgPSB1ICYgNjU1MzUgfCBtIDw8IDE2LCB2WzBdID0gQiA9IFMgJiA2NTUzNSB8IHggPDwgMTYsIGEgPSBOLCBjID0gXywgUyA9IGMgJiA2NTUzNSwgeCA9IGMgPj4+IDE2LCB1ID0gYSAmIDY1NTM1LCBtID0gYSA+Pj4gMTYsIGEgPSBkWzFdLCBjID0gdlsxXSwgUyArPSBjICYgNjU1MzUsIHggKz0gYyA+Pj4gMTYsIHUgKz0gYSAmIDY1NTM1LCBtICs9IGEgPj4+IDE2LCB4ICs9IFMgPj4+IDE2LCB1ICs9IHggPj4+IDE2LCBtICs9IHUgPj4+IDE2LCBkWzFdID0gTiA9IHUgJiA2NTUzNSB8IG0gPDwgMTYsIHZbMV0gPSBfID0gUyAmIDY1NTM1IHwgeCA8PCAxNiwgYSA9IGssIGMgPSBSLCBTID0gYyAmIDY1NTM1LCB4ID0gYyA+Pj4gMTYsIHUgPSBhICYgNjU1MzUsIG0gPSBhID4+PiAxNiwgYSA9IGRbMl0sIGMgPSB2WzJdLCBTICs9IGMgJiA2NTUzNSwgeCArPSBjID4+PiAxNiwgdSArPSBhICYgNjU1MzUsIG0gKz0gYSA+Pj4gMTYsIHggKz0gUyA+Pj4gMTYsIHUgKz0geCA+Pj4gMTYsIG0gKz0gdSA+Pj4gMTYsIGRbMl0gPSBrID0gdSAmIDY1NTM1IHwgbSA8PCAxNiwgdlsyXSA9IFIgPSBTICYgNjU1MzUgfCB4IDw8IDE2LCBhID0gaiwgYyA9IEosIFMgPSBjICYgNjU1MzUsIHggPSBjID4+PiAxNiwgdSA9IGEgJiA2NTUzNSwgbSA9IGEgPj4+IDE2LCBhID0gZFszXSwgYyA9IHZbM10sIFMgKz0gYyAmIDY1NTM1LCB4ICs9IGMgPj4+IDE2LCB1ICs9IGEgJiA2NTUzNSwgbSArPSBhID4+PiAxNiwgeCArPSBTID4+PiAxNiwgdSArPSB4ID4+PiAxNiwgbSArPSB1ID4+PiAxNiwgZFszXSA9IGogPSB1ICYgNjU1MzUgfCBtIDw8IDE2LCB2WzNdID0gSiA9IFMgJiA2NTUzNSB8IHggPDwgMTYsIGEgPSBULCBjID0gUSwgUyA9IGMgJiA2NTUzNSwgeCA9IGMgPj4+IDE2LCB1ID0gYSAmIDY1NTM1LCBtID0gYSA+Pj4gMTYsIGEgPSBkWzRdLCBjID0gdls0XSwgUyArPSBjICYgNjU1MzUsIHggKz0gYyA+Pj4gMTYsIHUgKz0gYSAmIDY1NTM1LCBtICs9IGEgPj4+IDE2LCB4ICs9IFMgPj4+IDE2LCB1ICs9IHggPj4+IDE2LCBtICs9IHUgPj4+IDE2LCBkWzRdID0gVCA9IHUgJiA2NTUzNSB8IG0gPDwgMTYsIHZbNF0gPSBRID0gUyAmIDY1NTM1IHwgeCA8PCAxNiwgYSA9IEssIGMgPSBPLCBTID0gYyAmIDY1NTM1LCB4ID0gYyA+Pj4gMTYsIHUgPSBhICYgNjU1MzUsIG0gPSBhID4+PiAxNiwgYSA9IGRbNV0sIGMgPSB2WzVdLCBTICs9IGMgJiA2NTUzNSwgeCArPSBjID4+PiAxNiwgdSArPSBhICYgNjU1MzUsIG0gKz0gYSA+Pj4gMTYsIHggKz0gUyA+Pj4gMTYsIHUgKz0geCA+Pj4gMTYsIG0gKz0gdSA+Pj4gMTYsIGRbNV0gPSBLID0gdSAmIDY1NTM1IHwgbSA8PCAxNiwgdls1XSA9IE8gPSBTICYgNjU1MzUgfCB4IDw8IDE2LCBhID0gJCwgYyA9IHAsIFMgPSBjICYgNjU1MzUsIHggPSBjID4+PiAxNiwgdSA9IGEgJiA2NTUzNSwgbSA9IGEgPj4+IDE2LCBhID0gZFs2XSwgYyA9IHZbNl0sIFMgKz0gYyAmIDY1NTM1LCB4ICs9IGMgPj4+IDE2LCB1ICs9IGEgJiA2NTUzNSwgbSArPSBhID4+PiAxNiwgeCArPSBTID4+PiAxNiwgdSArPSB4ID4+PiAxNiwgbSArPSB1ID4+PiAxNiwgZFs2XSA9ICQgPSB1ICYgNjU1MzUgfCBtIDw8IDE2LCB2WzZdID0gcCA9IFMgJiA2NTUzNSB8IHggPDwgMTYsIGEgPSB6LCBjID0gbCwgUyA9IGMgJiA2NTUzNSwgeCA9IGMgPj4+IDE2LCB1ID0gYSAmIDY1NTM1LCBtID0gYSA+Pj4gMTYsIGEgPSBkWzddLCBjID0gdls3XSwgUyArPSBjICYgNjU1MzUsIHggKz0gYyA+Pj4gMTYsIHUgKz0gYSAmIDY1NTM1LCBtICs9IGEgPj4+IDE2LCB4ICs9IFMgPj4+IDE2LCB1ICs9IHggPj4+IDE2LCBtICs9IHUgPj4+IDE2LCBkWzddID0geiA9IHUgJiA2NTUzNSB8IG0gPDwgMTYsIHZbN10gPSBsID0gUyAmIDY1NTM1IHwgeCA8PCAxNiwgQSArPSAxMjgsIEkgLT0gMTI4O1xuICAgIH1cbiAgICByZXR1cm4gQTtcbiAgfVxuICBmdW5jdGlvbiBvKGYpIHtcbiAgICB2YXIgaCA9IG5ldyBpKCk7XG4gICAgaC51cGRhdGUoZik7XG4gICAgdmFyIGQgPSBoLmRpZ2VzdCgpO1xuICAgIHJldHVybiBoLmNsZWFuKCksIGQ7XG4gIH1cbiAgci5oYXNoID0gbztcbn0pKGV1KTtcbihmdW5jdGlvbihyKSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSksIHIuY29udmVydFNlY3JldEtleVRvWDI1NTE5ID0gci5jb252ZXJ0UHVibGljS2V5VG9YMjU1MTkgPSByLnZlcmlmeSA9IHIuc2lnbiA9IHIuZXh0cmFjdFB1YmxpY0tleUZyb21TZWNyZXRLZXkgPSByLmdlbmVyYXRlS2V5UGFpciA9IHIuZ2VuZXJhdGVLZXlQYWlyRnJvbVNlZWQgPSByLlNFRURfTEVOR1RIID0gci5TRUNSRVRfS0VZX0xFTkdUSCA9IHIuUFVCTElDX0tFWV9MRU5HVEggPSByLlNJR05BVFVSRV9MRU5HVEggPSB2b2lkIDA7XG4gIGNvbnN0IGUgPSBFaSwgdCA9IGV1LCBpID0gbnI7XG4gIHIuU0lHTkFUVVJFX0xFTkdUSCA9IDY0LCByLlBVQkxJQ19LRVlfTEVOR1RIID0gMzIsIHIuU0VDUkVUX0tFWV9MRU5HVEggPSA2NCwgci5TRUVEX0xFTkdUSCA9IDMyO1xuICBmdW5jdGlvbiBuKEMpIHtcbiAgICBjb25zdCBxID0gbmV3IEZsb2F0NjRBcnJheSgxNik7XG4gICAgaWYgKEMpXG4gICAgICBmb3IgKGxldCBMID0gMDsgTCA8IEMubGVuZ3RoOyBMKyspXG4gICAgICAgIHFbTF0gPSBDW0xdO1xuICAgIHJldHVybiBxO1xuICB9XG4gIGNvbnN0IHMgPSBuZXcgVWludDhBcnJheSgzMik7XG4gIHNbMF0gPSA5O1xuICBjb25zdCBvID0gbigpLCBmID0gbihbMV0pLCBoID0gbihbXG4gICAgMzA4ODMsXG4gICAgNDk1MyxcbiAgICAxOTkxNCxcbiAgICAzMDE4NyxcbiAgICA1NTQ2NyxcbiAgICAxNjcwNSxcbiAgICAyNjM3LFxuICAgIDExMixcbiAgICA1OTU0NCxcbiAgICAzMDU4NSxcbiAgICAxNjUwNSxcbiAgICAzNjAzOSxcbiAgICA2NTEzOSxcbiAgICAxMTExOSxcbiAgICAyNzg4NixcbiAgICAyMDk5NVxuICBdKSwgZCA9IG4oW1xuICAgIDYxNzg1LFxuICAgIDk5MDYsXG4gICAgMzk4MjgsXG4gICAgNjAzNzQsXG4gICAgNDUzOTgsXG4gICAgMzM0MTEsXG4gICAgNTI3NCxcbiAgICAyMjQsXG4gICAgNTM1NTIsXG4gICAgNjExNzEsXG4gICAgMzMwMTAsXG4gICAgNjU0MixcbiAgICA2NDc0MyxcbiAgICAyMjIzOSxcbiAgICA1NTc3MixcbiAgICA5MjIyXG4gIF0pLCB2ID0gbihbXG4gICAgNTQ1NTQsXG4gICAgMzY2NDUsXG4gICAgMTE2MTYsXG4gICAgNTE1NDIsXG4gICAgNDI5MzAsXG4gICAgMzgxODEsXG4gICAgNTEwNDAsXG4gICAgMjY5MjQsXG4gICAgNTY0MTIsXG4gICAgNjQ5ODIsXG4gICAgNTc5MDUsXG4gICAgNDkzMTYsXG4gICAgMjE1MDIsXG4gICAgNTI1OTAsXG4gICAgMTQwMzUsXG4gICAgODU1M1xuICBdKSwgdyA9IG4oW1xuICAgIDI2MjAwLFxuICAgIDI2MjE0LFxuICAgIDI2MjE0LFxuICAgIDI2MjE0LFxuICAgIDI2MjE0LFxuICAgIDI2MjE0LFxuICAgIDI2MjE0LFxuICAgIDI2MjE0LFxuICAgIDI2MjE0LFxuICAgIDI2MjE0LFxuICAgIDI2MjE0LFxuICAgIDI2MjE0LFxuICAgIDI2MjE0LFxuICAgIDI2MjE0LFxuICAgIDI2MjE0LFxuICAgIDI2MjE0XG4gIF0pLCBBID0gbihbXG4gICAgNDExMzYsXG4gICAgMTg5NTgsXG4gICAgNjk1MSxcbiAgICA1MDQxNCxcbiAgICA1ODQ4OCxcbiAgICA0NDMzNSxcbiAgICA2MTUwLFxuICAgIDEyMDk5LFxuICAgIDU1MjA3LFxuICAgIDE1ODY3LFxuICAgIDE1MyxcbiAgICAxMTA4NSxcbiAgICA1NzA5OSxcbiAgICAyMDQxNyxcbiAgICA5MzQ0LFxuICAgIDExMTM5XG4gIF0pO1xuICBmdW5jdGlvbiBJKEMsIHEpIHtcbiAgICBmb3IgKGxldCBMID0gMDsgTCA8IDE2OyBMKyspXG4gICAgICBDW0xdID0gcVtMXSB8IDA7XG4gIH1cbiAgZnVuY3Rpb24gRChDKSB7XG4gICAgbGV0IHEgPSAxO1xuICAgIGZvciAobGV0IEwgPSAwOyBMIDwgMTY7IEwrKykge1xuICAgICAgbGV0IHkgPSBDW0xdICsgcSArIDY1NTM1O1xuICAgICAgcSA9IE1hdGguZmxvb3IoeSAvIDY1NTM2KSwgQ1tMXSA9IHkgLSBxICogNjU1MzY7XG4gICAgfVxuICAgIENbMF0gKz0gcSAtIDEgKyAzNyAqIChxIC0gMSk7XG4gIH1cbiAgZnVuY3Rpb24gTihDLCBxLCBMKSB7XG4gICAgY29uc3QgeSA9IH4oTCAtIDEpO1xuICAgIGZvciAobGV0IEYgPSAwOyBGIDwgMTY7IEYrKykge1xuICAgICAgY29uc3QgVyA9IHkgJiAoQ1tGXSBeIHFbRl0pO1xuICAgICAgQ1tGXSBePSBXLCBxW0ZdIF49IFc7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGsoQywgcSkge1xuICAgIGNvbnN0IEwgPSBuKCksIHkgPSBuKCk7XG4gICAgZm9yIChsZXQgRiA9IDA7IEYgPCAxNjsgRisrKVxuICAgICAgeVtGXSA9IHFbRl07XG4gICAgRCh5KSwgRCh5KSwgRCh5KTtcbiAgICBmb3IgKGxldCBGID0gMDsgRiA8IDI7IEYrKykge1xuICAgICAgTFswXSA9IHlbMF0gLSA2NTUxNztcbiAgICAgIGZvciAobGV0IFkgPSAxOyBZIDwgMTU7IFkrKylcbiAgICAgICAgTFtZXSA9IHlbWV0gLSA2NTUzNSAtIChMW1kgLSAxXSA+PiAxNiAmIDEpLCBMW1kgLSAxXSAmPSA2NTUzNTtcbiAgICAgIExbMTVdID0geVsxNV0gLSAzMjc2NyAtIChMWzE0XSA+PiAxNiAmIDEpO1xuICAgICAgY29uc3QgVyA9IExbMTVdID4+IDE2ICYgMTtcbiAgICAgIExbMTRdICY9IDY1NTM1LCBOKHksIEwsIDEgLSBXKTtcbiAgICB9XG4gICAgZm9yIChsZXQgRiA9IDA7IEYgPCAxNjsgRisrKVxuICAgICAgQ1syICogRl0gPSB5W0ZdICYgMjU1LCBDWzIgKiBGICsgMV0gPSB5W0ZdID4+IDg7XG4gIH1cbiAgZnVuY3Rpb24gaihDLCBxKSB7XG4gICAgbGV0IEwgPSAwO1xuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgMzI7IHkrKylcbiAgICAgIEwgfD0gQ1t5XSBeIHFbeV07XG4gICAgcmV0dXJuICgxICYgTCAtIDEgPj4+IDgpIC0gMTtcbiAgfVxuICBmdW5jdGlvbiBUKEMsIHEpIHtcbiAgICBjb25zdCBMID0gbmV3IFVpbnQ4QXJyYXkoMzIpLCB5ID0gbmV3IFVpbnQ4QXJyYXkoMzIpO1xuICAgIHJldHVybiBrKEwsIEMpLCBrKHksIHEpLCBqKEwsIHkpO1xuICB9XG4gIGZ1bmN0aW9uIEsoQykge1xuICAgIGNvbnN0IHEgPSBuZXcgVWludDhBcnJheSgzMik7XG4gICAgcmV0dXJuIGsocSwgQyksIHFbMF0gJiAxO1xuICB9XG4gIGZ1bmN0aW9uICQoQywgcSkge1xuICAgIGZvciAobGV0IEwgPSAwOyBMIDwgMTY7IEwrKylcbiAgICAgIENbTF0gPSBxWzIgKiBMXSArIChxWzIgKiBMICsgMV0gPDwgOCk7XG4gICAgQ1sxNV0gJj0gMzI3Njc7XG4gIH1cbiAgZnVuY3Rpb24geihDLCBxLCBMKSB7XG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCAxNjsgeSsrKVxuICAgICAgQ1t5XSA9IHFbeV0gKyBMW3ldO1xuICB9XG4gIGZ1bmN0aW9uIEIoQywgcSwgTCkge1xuICAgIGZvciAobGV0IHkgPSAwOyB5IDwgMTY7IHkrKylcbiAgICAgIENbeV0gPSBxW3ldIC0gTFt5XTtcbiAgfVxuICBmdW5jdGlvbiBfKEMsIHEsIEwpIHtcbiAgICBsZXQgeSwgRiwgVyA9IDAsIFkgPSAwLCBYID0gMCwgZWUgPSAwLCB3ZSA9IDAsIE1lID0gMCwgaGUgPSAwLCBSZSA9IDAsIHhlID0gMCwgc2UgPSAwLCBnZSA9IDAsIGxlID0gMCwgbmUgPSAwLCB1ZSA9IDAsIGZlID0gMCwgdGUgPSAwLCBwZSA9IDAsIF9lID0gMCwgcmUgPSAwLCBFZSA9IDAsIFNlID0gMCwgb2UgPSAwLCBEZSA9IDAsIEllID0gMCwgUGUgPSAwLCBHZSA9IDAsIFllID0gMCwgQWUgPSAwLCBaZSA9IDAsIGV0ID0gMCwgTmUgPSAwLCBDZSA9IExbMF0sIFRlID0gTFsxXSwgZGUgPSBMWzJdLCAkZSA9IExbM10sIExlID0gTFs0XSwgY2UgPSBMWzVdLCBVZSA9IExbNl0sIHplID0gTFs3XSwgeWUgPSBMWzhdLCBCZSA9IExbOV0sIGtlID0gTFsxMF0sIHZlID0gTFsxMV0sIEZlID0gTFsxMl0sIE9lID0gTFsxM10sIG1lID0gTFsxNF0sIGplID0gTFsxNV07XG4gICAgeSA9IHFbMF0sIFcgKz0geSAqIENlLCBZICs9IHkgKiBUZSwgWCArPSB5ICogZGUsIGVlICs9IHkgKiAkZSwgd2UgKz0geSAqIExlLCBNZSArPSB5ICogY2UsIGhlICs9IHkgKiBVZSwgUmUgKz0geSAqIHplLCB4ZSArPSB5ICogeWUsIHNlICs9IHkgKiBCZSwgZ2UgKz0geSAqIGtlLCBsZSArPSB5ICogdmUsIG5lICs9IHkgKiBGZSwgdWUgKz0geSAqIE9lLCBmZSArPSB5ICogbWUsIHRlICs9IHkgKiBqZSwgeSA9IHFbMV0sIFkgKz0geSAqIENlLCBYICs9IHkgKiBUZSwgZWUgKz0geSAqIGRlLCB3ZSArPSB5ICogJGUsIE1lICs9IHkgKiBMZSwgaGUgKz0geSAqIGNlLCBSZSArPSB5ICogVWUsIHhlICs9IHkgKiB6ZSwgc2UgKz0geSAqIHllLCBnZSArPSB5ICogQmUsIGxlICs9IHkgKiBrZSwgbmUgKz0geSAqIHZlLCB1ZSArPSB5ICogRmUsIGZlICs9IHkgKiBPZSwgdGUgKz0geSAqIG1lLCBwZSArPSB5ICogamUsIHkgPSBxWzJdLCBYICs9IHkgKiBDZSwgZWUgKz0geSAqIFRlLCB3ZSArPSB5ICogZGUsIE1lICs9IHkgKiAkZSwgaGUgKz0geSAqIExlLCBSZSArPSB5ICogY2UsIHhlICs9IHkgKiBVZSwgc2UgKz0geSAqIHplLCBnZSArPSB5ICogeWUsIGxlICs9IHkgKiBCZSwgbmUgKz0geSAqIGtlLCB1ZSArPSB5ICogdmUsIGZlICs9IHkgKiBGZSwgdGUgKz0geSAqIE9lLCBwZSArPSB5ICogbWUsIF9lICs9IHkgKiBqZSwgeSA9IHFbM10sIGVlICs9IHkgKiBDZSwgd2UgKz0geSAqIFRlLCBNZSArPSB5ICogZGUsIGhlICs9IHkgKiAkZSwgUmUgKz0geSAqIExlLCB4ZSArPSB5ICogY2UsIHNlICs9IHkgKiBVZSwgZ2UgKz0geSAqIHplLCBsZSArPSB5ICogeWUsIG5lICs9IHkgKiBCZSwgdWUgKz0geSAqIGtlLCBmZSArPSB5ICogdmUsIHRlICs9IHkgKiBGZSwgcGUgKz0geSAqIE9lLCBfZSArPSB5ICogbWUsIHJlICs9IHkgKiBqZSwgeSA9IHFbNF0sIHdlICs9IHkgKiBDZSwgTWUgKz0geSAqIFRlLCBoZSArPSB5ICogZGUsIFJlICs9IHkgKiAkZSwgeGUgKz0geSAqIExlLCBzZSArPSB5ICogY2UsIGdlICs9IHkgKiBVZSwgbGUgKz0geSAqIHplLCBuZSArPSB5ICogeWUsIHVlICs9IHkgKiBCZSwgZmUgKz0geSAqIGtlLCB0ZSArPSB5ICogdmUsIHBlICs9IHkgKiBGZSwgX2UgKz0geSAqIE9lLCByZSArPSB5ICogbWUsIEVlICs9IHkgKiBqZSwgeSA9IHFbNV0sIE1lICs9IHkgKiBDZSwgaGUgKz0geSAqIFRlLCBSZSArPSB5ICogZGUsIHhlICs9IHkgKiAkZSwgc2UgKz0geSAqIExlLCBnZSArPSB5ICogY2UsIGxlICs9IHkgKiBVZSwgbmUgKz0geSAqIHplLCB1ZSArPSB5ICogeWUsIGZlICs9IHkgKiBCZSwgdGUgKz0geSAqIGtlLCBwZSArPSB5ICogdmUsIF9lICs9IHkgKiBGZSwgcmUgKz0geSAqIE9lLCBFZSArPSB5ICogbWUsIFNlICs9IHkgKiBqZSwgeSA9IHFbNl0sIGhlICs9IHkgKiBDZSwgUmUgKz0geSAqIFRlLCB4ZSArPSB5ICogZGUsIHNlICs9IHkgKiAkZSwgZ2UgKz0geSAqIExlLCBsZSArPSB5ICogY2UsIG5lICs9IHkgKiBVZSwgdWUgKz0geSAqIHplLCBmZSArPSB5ICogeWUsIHRlICs9IHkgKiBCZSwgcGUgKz0geSAqIGtlLCBfZSArPSB5ICogdmUsIHJlICs9IHkgKiBGZSwgRWUgKz0geSAqIE9lLCBTZSArPSB5ICogbWUsIG9lICs9IHkgKiBqZSwgeSA9IHFbN10sIFJlICs9IHkgKiBDZSwgeGUgKz0geSAqIFRlLCBzZSArPSB5ICogZGUsIGdlICs9IHkgKiAkZSwgbGUgKz0geSAqIExlLCBuZSArPSB5ICogY2UsIHVlICs9IHkgKiBVZSwgZmUgKz0geSAqIHplLCB0ZSArPSB5ICogeWUsIHBlICs9IHkgKiBCZSwgX2UgKz0geSAqIGtlLCByZSArPSB5ICogdmUsIEVlICs9IHkgKiBGZSwgU2UgKz0geSAqIE9lLCBvZSArPSB5ICogbWUsIERlICs9IHkgKiBqZSwgeSA9IHFbOF0sIHhlICs9IHkgKiBDZSwgc2UgKz0geSAqIFRlLCBnZSArPSB5ICogZGUsIGxlICs9IHkgKiAkZSwgbmUgKz0geSAqIExlLCB1ZSArPSB5ICogY2UsIGZlICs9IHkgKiBVZSwgdGUgKz0geSAqIHplLCBwZSArPSB5ICogeWUsIF9lICs9IHkgKiBCZSwgcmUgKz0geSAqIGtlLCBFZSArPSB5ICogdmUsIFNlICs9IHkgKiBGZSwgb2UgKz0geSAqIE9lLCBEZSArPSB5ICogbWUsIEllICs9IHkgKiBqZSwgeSA9IHFbOV0sIHNlICs9IHkgKiBDZSwgZ2UgKz0geSAqIFRlLCBsZSArPSB5ICogZGUsIG5lICs9IHkgKiAkZSwgdWUgKz0geSAqIExlLCBmZSArPSB5ICogY2UsIHRlICs9IHkgKiBVZSwgcGUgKz0geSAqIHplLCBfZSArPSB5ICogeWUsIHJlICs9IHkgKiBCZSwgRWUgKz0geSAqIGtlLCBTZSArPSB5ICogdmUsIG9lICs9IHkgKiBGZSwgRGUgKz0geSAqIE9lLCBJZSArPSB5ICogbWUsIFBlICs9IHkgKiBqZSwgeSA9IHFbMTBdLCBnZSArPSB5ICogQ2UsIGxlICs9IHkgKiBUZSwgbmUgKz0geSAqIGRlLCB1ZSArPSB5ICogJGUsIGZlICs9IHkgKiBMZSwgdGUgKz0geSAqIGNlLCBwZSArPSB5ICogVWUsIF9lICs9IHkgKiB6ZSwgcmUgKz0geSAqIHllLCBFZSArPSB5ICogQmUsIFNlICs9IHkgKiBrZSwgb2UgKz0geSAqIHZlLCBEZSArPSB5ICogRmUsIEllICs9IHkgKiBPZSwgUGUgKz0geSAqIG1lLCBHZSArPSB5ICogamUsIHkgPSBxWzExXSwgbGUgKz0geSAqIENlLCBuZSArPSB5ICogVGUsIHVlICs9IHkgKiBkZSwgZmUgKz0geSAqICRlLCB0ZSArPSB5ICogTGUsIHBlICs9IHkgKiBjZSwgX2UgKz0geSAqIFVlLCByZSArPSB5ICogemUsIEVlICs9IHkgKiB5ZSwgU2UgKz0geSAqIEJlLCBvZSArPSB5ICoga2UsIERlICs9IHkgKiB2ZSwgSWUgKz0geSAqIEZlLCBQZSArPSB5ICogT2UsIEdlICs9IHkgKiBtZSwgWWUgKz0geSAqIGplLCB5ID0gcVsxMl0sIG5lICs9IHkgKiBDZSwgdWUgKz0geSAqIFRlLCBmZSArPSB5ICogZGUsIHRlICs9IHkgKiAkZSwgcGUgKz0geSAqIExlLCBfZSArPSB5ICogY2UsIHJlICs9IHkgKiBVZSwgRWUgKz0geSAqIHplLCBTZSArPSB5ICogeWUsIG9lICs9IHkgKiBCZSwgRGUgKz0geSAqIGtlLCBJZSArPSB5ICogdmUsIFBlICs9IHkgKiBGZSwgR2UgKz0geSAqIE9lLCBZZSArPSB5ICogbWUsIEFlICs9IHkgKiBqZSwgeSA9IHFbMTNdLCB1ZSArPSB5ICogQ2UsIGZlICs9IHkgKiBUZSwgdGUgKz0geSAqIGRlLCBwZSArPSB5ICogJGUsIF9lICs9IHkgKiBMZSwgcmUgKz0geSAqIGNlLCBFZSArPSB5ICogVWUsIFNlICs9IHkgKiB6ZSwgb2UgKz0geSAqIHllLCBEZSArPSB5ICogQmUsIEllICs9IHkgKiBrZSwgUGUgKz0geSAqIHZlLCBHZSArPSB5ICogRmUsIFllICs9IHkgKiBPZSwgQWUgKz0geSAqIG1lLCBaZSArPSB5ICogamUsIHkgPSBxWzE0XSwgZmUgKz0geSAqIENlLCB0ZSArPSB5ICogVGUsIHBlICs9IHkgKiBkZSwgX2UgKz0geSAqICRlLCByZSArPSB5ICogTGUsIEVlICs9IHkgKiBjZSwgU2UgKz0geSAqIFVlLCBvZSArPSB5ICogemUsIERlICs9IHkgKiB5ZSwgSWUgKz0geSAqIEJlLCBQZSArPSB5ICoga2UsIEdlICs9IHkgKiB2ZSwgWWUgKz0geSAqIEZlLCBBZSArPSB5ICogT2UsIFplICs9IHkgKiBtZSwgZXQgKz0geSAqIGplLCB5ID0gcVsxNV0sIHRlICs9IHkgKiBDZSwgcGUgKz0geSAqIFRlLCBfZSArPSB5ICogZGUsIHJlICs9IHkgKiAkZSwgRWUgKz0geSAqIExlLCBTZSArPSB5ICogY2UsIG9lICs9IHkgKiBVZSwgRGUgKz0geSAqIHplLCBJZSArPSB5ICogeWUsIFBlICs9IHkgKiBCZSwgR2UgKz0geSAqIGtlLCBZZSArPSB5ICogdmUsIEFlICs9IHkgKiBGZSwgWmUgKz0geSAqIE9lLCBldCArPSB5ICogbWUsIE5lICs9IHkgKiBqZSwgVyArPSAzOCAqIHBlLCBZICs9IDM4ICogX2UsIFggKz0gMzggKiByZSwgZWUgKz0gMzggKiBFZSwgd2UgKz0gMzggKiBTZSwgTWUgKz0gMzggKiBvZSwgaGUgKz0gMzggKiBEZSwgUmUgKz0gMzggKiBJZSwgeGUgKz0gMzggKiBQZSwgc2UgKz0gMzggKiBHZSwgZ2UgKz0gMzggKiBZZSwgbGUgKz0gMzggKiBBZSwgbmUgKz0gMzggKiBaZSwgdWUgKz0gMzggKiBldCwgZmUgKz0gMzggKiBOZSwgRiA9IDEsIHkgPSBXICsgRiArIDY1NTM1LCBGID0gTWF0aC5mbG9vcih5IC8gNjU1MzYpLCBXID0geSAtIEYgKiA2NTUzNiwgeSA9IFkgKyBGICsgNjU1MzUsIEYgPSBNYXRoLmZsb29yKHkgLyA2NTUzNiksIFkgPSB5IC0gRiAqIDY1NTM2LCB5ID0gWCArIEYgKyA2NTUzNSwgRiA9IE1hdGguZmxvb3IoeSAvIDY1NTM2KSwgWCA9IHkgLSBGICogNjU1MzYsIHkgPSBlZSArIEYgKyA2NTUzNSwgRiA9IE1hdGguZmxvb3IoeSAvIDY1NTM2KSwgZWUgPSB5IC0gRiAqIDY1NTM2LCB5ID0gd2UgKyBGICsgNjU1MzUsIEYgPSBNYXRoLmZsb29yKHkgLyA2NTUzNiksIHdlID0geSAtIEYgKiA2NTUzNiwgeSA9IE1lICsgRiArIDY1NTM1LCBGID0gTWF0aC5mbG9vcih5IC8gNjU1MzYpLCBNZSA9IHkgLSBGICogNjU1MzYsIHkgPSBoZSArIEYgKyA2NTUzNSwgRiA9IE1hdGguZmxvb3IoeSAvIDY1NTM2KSwgaGUgPSB5IC0gRiAqIDY1NTM2LCB5ID0gUmUgKyBGICsgNjU1MzUsIEYgPSBNYXRoLmZsb29yKHkgLyA2NTUzNiksIFJlID0geSAtIEYgKiA2NTUzNiwgeSA9IHhlICsgRiArIDY1NTM1LCBGID0gTWF0aC5mbG9vcih5IC8gNjU1MzYpLCB4ZSA9IHkgLSBGICogNjU1MzYsIHkgPSBzZSArIEYgKyA2NTUzNSwgRiA9IE1hdGguZmxvb3IoeSAvIDY1NTM2KSwgc2UgPSB5IC0gRiAqIDY1NTM2LCB5ID0gZ2UgKyBGICsgNjU1MzUsIEYgPSBNYXRoLmZsb29yKHkgLyA2NTUzNiksIGdlID0geSAtIEYgKiA2NTUzNiwgeSA9IGxlICsgRiArIDY1NTM1LCBGID0gTWF0aC5mbG9vcih5IC8gNjU1MzYpLCBsZSA9IHkgLSBGICogNjU1MzYsIHkgPSBuZSArIEYgKyA2NTUzNSwgRiA9IE1hdGguZmxvb3IoeSAvIDY1NTM2KSwgbmUgPSB5IC0gRiAqIDY1NTM2LCB5ID0gdWUgKyBGICsgNjU1MzUsIEYgPSBNYXRoLmZsb29yKHkgLyA2NTUzNiksIHVlID0geSAtIEYgKiA2NTUzNiwgeSA9IGZlICsgRiArIDY1NTM1LCBGID0gTWF0aC5mbG9vcih5IC8gNjU1MzYpLCBmZSA9IHkgLSBGICogNjU1MzYsIHkgPSB0ZSArIEYgKyA2NTUzNSwgRiA9IE1hdGguZmxvb3IoeSAvIDY1NTM2KSwgdGUgPSB5IC0gRiAqIDY1NTM2LCBXICs9IEYgLSAxICsgMzcgKiAoRiAtIDEpLCBGID0gMSwgeSA9IFcgKyBGICsgNjU1MzUsIEYgPSBNYXRoLmZsb29yKHkgLyA2NTUzNiksIFcgPSB5IC0gRiAqIDY1NTM2LCB5ID0gWSArIEYgKyA2NTUzNSwgRiA9IE1hdGguZmxvb3IoeSAvIDY1NTM2KSwgWSA9IHkgLSBGICogNjU1MzYsIHkgPSBYICsgRiArIDY1NTM1LCBGID0gTWF0aC5mbG9vcih5IC8gNjU1MzYpLCBYID0geSAtIEYgKiA2NTUzNiwgeSA9IGVlICsgRiArIDY1NTM1LCBGID0gTWF0aC5mbG9vcih5IC8gNjU1MzYpLCBlZSA9IHkgLSBGICogNjU1MzYsIHkgPSB3ZSArIEYgKyA2NTUzNSwgRiA9IE1hdGguZmxvb3IoeSAvIDY1NTM2KSwgd2UgPSB5IC0gRiAqIDY1NTM2LCB5ID0gTWUgKyBGICsgNjU1MzUsIEYgPSBNYXRoLmZsb29yKHkgLyA2NTUzNiksIE1lID0geSAtIEYgKiA2NTUzNiwgeSA9IGhlICsgRiArIDY1NTM1LCBGID0gTWF0aC5mbG9vcih5IC8gNjU1MzYpLCBoZSA9IHkgLSBGICogNjU1MzYsIHkgPSBSZSArIEYgKyA2NTUzNSwgRiA9IE1hdGguZmxvb3IoeSAvIDY1NTM2KSwgUmUgPSB5IC0gRiAqIDY1NTM2LCB5ID0geGUgKyBGICsgNjU1MzUsIEYgPSBNYXRoLmZsb29yKHkgLyA2NTUzNiksIHhlID0geSAtIEYgKiA2NTUzNiwgeSA9IHNlICsgRiArIDY1NTM1LCBGID0gTWF0aC5mbG9vcih5IC8gNjU1MzYpLCBzZSA9IHkgLSBGICogNjU1MzYsIHkgPSBnZSArIEYgKyA2NTUzNSwgRiA9IE1hdGguZmxvb3IoeSAvIDY1NTM2KSwgZ2UgPSB5IC0gRiAqIDY1NTM2LCB5ID0gbGUgKyBGICsgNjU1MzUsIEYgPSBNYXRoLmZsb29yKHkgLyA2NTUzNiksIGxlID0geSAtIEYgKiA2NTUzNiwgeSA9IG5lICsgRiArIDY1NTM1LCBGID0gTWF0aC5mbG9vcih5IC8gNjU1MzYpLCBuZSA9IHkgLSBGICogNjU1MzYsIHkgPSB1ZSArIEYgKyA2NTUzNSwgRiA9IE1hdGguZmxvb3IoeSAvIDY1NTM2KSwgdWUgPSB5IC0gRiAqIDY1NTM2LCB5ID0gZmUgKyBGICsgNjU1MzUsIEYgPSBNYXRoLmZsb29yKHkgLyA2NTUzNiksIGZlID0geSAtIEYgKiA2NTUzNiwgeSA9IHRlICsgRiArIDY1NTM1LCBGID0gTWF0aC5mbG9vcih5IC8gNjU1MzYpLCB0ZSA9IHkgLSBGICogNjU1MzYsIFcgKz0gRiAtIDEgKyAzNyAqIChGIC0gMSksIENbMF0gPSBXLCBDWzFdID0gWSwgQ1syXSA9IFgsIENbM10gPSBlZSwgQ1s0XSA9IHdlLCBDWzVdID0gTWUsIENbNl0gPSBoZSwgQ1s3XSA9IFJlLCBDWzhdID0geGUsIENbOV0gPSBzZSwgQ1sxMF0gPSBnZSwgQ1sxMV0gPSBsZSwgQ1sxMl0gPSBuZSwgQ1sxM10gPSB1ZSwgQ1sxNF0gPSBmZSwgQ1sxNV0gPSB0ZTtcbiAgfVxuICBmdW5jdGlvbiBSKEMsIHEpIHtcbiAgICBfKEMsIHEsIHEpO1xuICB9XG4gIGZ1bmN0aW9uIEooQywgcSkge1xuICAgIGNvbnN0IEwgPSBuKCk7XG4gICAgbGV0IHk7XG4gICAgZm9yICh5ID0gMDsgeSA8IDE2OyB5KyspXG4gICAgICBMW3ldID0gcVt5XTtcbiAgICBmb3IgKHkgPSAyNTM7IHkgPj0gMDsgeS0tKVxuICAgICAgUihMLCBMKSwgeSAhPT0gMiAmJiB5ICE9PSA0ICYmIF8oTCwgTCwgcSk7XG4gICAgZm9yICh5ID0gMDsgeSA8IDE2OyB5KyspXG4gICAgICBDW3ldID0gTFt5XTtcbiAgfVxuICBmdW5jdGlvbiBRKEMsIHEpIHtcbiAgICBjb25zdCBMID0gbigpO1xuICAgIGxldCB5O1xuICAgIGZvciAoeSA9IDA7IHkgPCAxNjsgeSsrKVxuICAgICAgTFt5XSA9IHFbeV07XG4gICAgZm9yICh5ID0gMjUwOyB5ID49IDA7IHktLSlcbiAgICAgIFIoTCwgTCksIHkgIT09IDEgJiYgXyhMLCBMLCBxKTtcbiAgICBmb3IgKHkgPSAwOyB5IDwgMTY7IHkrKylcbiAgICAgIENbeV0gPSBMW3ldO1xuICB9XG4gIGZ1bmN0aW9uIE8oQywgcSkge1xuICAgIGNvbnN0IEwgPSBuKCksIHkgPSBuKCksIEYgPSBuKCksIFcgPSBuKCksIFkgPSBuKCksIFggPSBuKCksIGVlID0gbigpLCB3ZSA9IG4oKSwgTWUgPSBuKCk7XG4gICAgQihMLCBDWzFdLCBDWzBdKSwgQihNZSwgcVsxXSwgcVswXSksIF8oTCwgTCwgTWUpLCB6KHksIENbMF0sIENbMV0pLCB6KE1lLCBxWzBdLCBxWzFdKSwgXyh5LCB5LCBNZSksIF8oRiwgQ1szXSwgcVszXSksIF8oRiwgRiwgZCksIF8oVywgQ1syXSwgcVsyXSksIHooVywgVywgVyksIEIoWSwgeSwgTCksIEIoWCwgVywgRiksIHooZWUsIFcsIEYpLCB6KHdlLCB5LCBMKSwgXyhDWzBdLCBZLCBYKSwgXyhDWzFdLCB3ZSwgZWUpLCBfKENbMl0sIGVlLCBYKSwgXyhDWzNdLCBZLCB3ZSk7XG4gIH1cbiAgZnVuY3Rpb24gcChDLCBxLCBMKSB7XG4gICAgZm9yIChsZXQgeSA9IDA7IHkgPCA0OyB5KyspXG4gICAgICBOKENbeV0sIHFbeV0sIEwpO1xuICB9XG4gIGZ1bmN0aW9uIGwoQywgcSkge1xuICAgIGNvbnN0IEwgPSBuKCksIHkgPSBuKCksIEYgPSBuKCk7XG4gICAgSihGLCBxWzJdKSwgXyhMLCBxWzBdLCBGKSwgXyh5LCBxWzFdLCBGKSwgayhDLCB5KSwgQ1szMV0gXj0gSyhMKSA8PCA3O1xuICB9XG4gIGZ1bmN0aW9uIGEoQywgcSwgTCkge1xuICAgIEkoQ1swXSwgbyksIEkoQ1sxXSwgZiksIEkoQ1syXSwgZiksIEkoQ1szXSwgbyk7XG4gICAgZm9yIChsZXQgeSA9IDI1NTsgeSA+PSAwOyAtLXkpIHtcbiAgICAgIGNvbnN0IEYgPSBMW3kgLyA4IHwgMF0gPj4gKHkgJiA3KSAmIDE7XG4gICAgICBwKEMsIHEsIEYpLCBPKHEsIEMpLCBPKEMsIEMpLCBwKEMsIHEsIEYpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBjKEMsIHEpIHtcbiAgICBjb25zdCBMID0gW24oKSwgbigpLCBuKCksIG4oKV07XG4gICAgSShMWzBdLCB2KSwgSShMWzFdLCB3KSwgSShMWzJdLCBmKSwgXyhMWzNdLCB2LCB3KSwgYShDLCBMLCBxKTtcbiAgfVxuICBmdW5jdGlvbiBiKEMpIHtcbiAgICBpZiAoQy5sZW5ndGggIT09IHIuU0VFRF9MRU5HVEgpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYGVkMjU1MTk6IHNlZWQgbXVzdCBiZSAke3IuU0VFRF9MRU5HVEh9IGJ5dGVzYCk7XG4gICAgY29uc3QgcSA9ICgwLCB0Lmhhc2gpKEMpO1xuICAgIHFbMF0gJj0gMjQ4LCBxWzMxXSAmPSAxMjcsIHFbMzFdIHw9IDY0O1xuICAgIGNvbnN0IEwgPSBuZXcgVWludDhBcnJheSgzMiksIHkgPSBbbigpLCBuKCksIG4oKSwgbigpXTtcbiAgICBjKHksIHEpLCBsKEwsIHkpO1xuICAgIGNvbnN0IEYgPSBuZXcgVWludDhBcnJheSg2NCk7XG4gICAgcmV0dXJuIEYuc2V0KEMpLCBGLnNldChMLCAzMiksIHtcbiAgICAgIHB1YmxpY0tleTogTCxcbiAgICAgIHNlY3JldEtleTogRlxuICAgIH07XG4gIH1cbiAgci5nZW5lcmF0ZUtleVBhaXJGcm9tU2VlZCA9IGI7XG4gIGZ1bmN0aW9uIEUoQykge1xuICAgIGNvbnN0IHEgPSAoMCwgZS5yYW5kb21CeXRlcykoMzIsIEMpLCBMID0gYihxKTtcbiAgICByZXR1cm4gKDAsIGkud2lwZSkocSksIEw7XG4gIH1cbiAgci5nZW5lcmF0ZUtleVBhaXIgPSBFO1xuICBmdW5jdGlvbiBTKEMpIHtcbiAgICBpZiAoQy5sZW5ndGggIT09IHIuU0VDUkVUX0tFWV9MRU5HVEgpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYGVkMjU1MTk6IHNlY3JldCBrZXkgbXVzdCBiZSAke3IuU0VDUkVUX0tFWV9MRU5HVEh9IGJ5dGVzYCk7XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KEMuc3ViYXJyYXkoMzIpKTtcbiAgfVxuICByLmV4dHJhY3RQdWJsaWNLZXlGcm9tU2VjcmV0S2V5ID0gUztcbiAgY29uc3QgeCA9IG5ldyBGbG9hdDY0QXJyYXkoW1xuICAgIDIzNyxcbiAgICAyMTEsXG4gICAgMjQ1LFxuICAgIDkyLFxuICAgIDI2LFxuICAgIDk5LFxuICAgIDE4LFxuICAgIDg4LFxuICAgIDIxNCxcbiAgICAxNTYsXG4gICAgMjQ3LFxuICAgIDE2MixcbiAgICAyMjIsXG4gICAgMjQ5LFxuICAgIDIyMixcbiAgICAyMCxcbiAgICAwLFxuICAgIDAsXG4gICAgMCxcbiAgICAwLFxuICAgIDAsXG4gICAgMCxcbiAgICAwLFxuICAgIDAsXG4gICAgMCxcbiAgICAwLFxuICAgIDAsXG4gICAgMCxcbiAgICAwLFxuICAgIDAsXG4gICAgMCxcbiAgICAxNlxuICBdKTtcbiAgZnVuY3Rpb24gdShDLCBxKSB7XG4gICAgbGV0IEwsIHksIEYsIFc7XG4gICAgZm9yICh5ID0gNjM7IHkgPj0gMzI7IC0teSkge1xuICAgICAgZm9yIChMID0gMCwgRiA9IHkgLSAzMiwgVyA9IHkgLSAxMjsgRiA8IFc7ICsrRilcbiAgICAgICAgcVtGXSArPSBMIC0gMTYgKiBxW3ldICogeFtGIC0gKHkgLSAzMildLCBMID0gTWF0aC5mbG9vcigocVtGXSArIDEyOCkgLyAyNTYpLCBxW0ZdIC09IEwgKiAyNTY7XG4gICAgICBxW0ZdICs9IEwsIHFbeV0gPSAwO1xuICAgIH1cbiAgICBmb3IgKEwgPSAwLCBGID0gMDsgRiA8IDMyOyBGKyspXG4gICAgICBxW0ZdICs9IEwgLSAocVszMV0gPj4gNCkgKiB4W0ZdLCBMID0gcVtGXSA+PiA4LCBxW0ZdICY9IDI1NTtcbiAgICBmb3IgKEYgPSAwOyBGIDwgMzI7IEYrKylcbiAgICAgIHFbRl0gLT0gTCAqIHhbRl07XG4gICAgZm9yICh5ID0gMDsgeSA8IDMyOyB5KyspXG4gICAgICBxW3kgKyAxXSArPSBxW3ldID4+IDgsIENbeV0gPSBxW3ldICYgMjU1O1xuICB9XG4gIGZ1bmN0aW9uIG0oQykge1xuICAgIGNvbnN0IHEgPSBuZXcgRmxvYXQ2NEFycmF5KDY0KTtcbiAgICBmb3IgKGxldCBMID0gMDsgTCA8IDY0OyBMKyspXG4gICAgICBxW0xdID0gQ1tMXTtcbiAgICBmb3IgKGxldCBMID0gMDsgTCA8IDY0OyBMKyspXG4gICAgICBDW0xdID0gMDtcbiAgICB1KEMsIHEpO1xuICB9XG4gIGZ1bmN0aW9uIGcoQywgcSkge1xuICAgIGNvbnN0IEwgPSBuZXcgRmxvYXQ2NEFycmF5KDY0KSwgeSA9IFtuKCksIG4oKSwgbigpLCBuKCldLCBGID0gKDAsIHQuaGFzaCkoQy5zdWJhcnJheSgwLCAzMikpO1xuICAgIEZbMF0gJj0gMjQ4LCBGWzMxXSAmPSAxMjcsIEZbMzFdIHw9IDY0O1xuICAgIGNvbnN0IFcgPSBuZXcgVWludDhBcnJheSg2NCk7XG4gICAgVy5zZXQoRi5zdWJhcnJheSgzMiksIDMyKTtcbiAgICBjb25zdCBZID0gbmV3IHQuU0hBNTEyKCk7XG4gICAgWS51cGRhdGUoVy5zdWJhcnJheSgzMikpLCBZLnVwZGF0ZShxKTtcbiAgICBjb25zdCBYID0gWS5kaWdlc3QoKTtcbiAgICBZLmNsZWFuKCksIG0oWCksIGMoeSwgWCksIGwoVywgeSksIFkucmVzZXQoKSwgWS51cGRhdGUoVy5zdWJhcnJheSgwLCAzMikpLCBZLnVwZGF0ZShDLnN1YmFycmF5KDMyKSksIFkudXBkYXRlKHEpO1xuICAgIGNvbnN0IGVlID0gWS5kaWdlc3QoKTtcbiAgICBtKGVlKTtcbiAgICBmb3IgKGxldCB3ZSA9IDA7IHdlIDwgMzI7IHdlKyspXG4gICAgICBMW3dlXSA9IFhbd2VdO1xuICAgIGZvciAobGV0IHdlID0gMDsgd2UgPCAzMjsgd2UrKylcbiAgICAgIGZvciAobGV0IE1lID0gMDsgTWUgPCAzMjsgTWUrKylcbiAgICAgICAgTFt3ZSArIE1lXSArPSBlZVt3ZV0gKiBGW01lXTtcbiAgICByZXR1cm4gdShXLnN1YmFycmF5KDMyKSwgTCksIFc7XG4gIH1cbiAgci5zaWduID0gZztcbiAgZnVuY3Rpb24gUChDLCBxKSB7XG4gICAgY29uc3QgTCA9IG4oKSwgeSA9IG4oKSwgRiA9IG4oKSwgVyA9IG4oKSwgWSA9IG4oKSwgWCA9IG4oKSwgZWUgPSBuKCk7XG4gICAgcmV0dXJuIEkoQ1syXSwgZiksICQoQ1sxXSwgcSksIFIoRiwgQ1sxXSksIF8oVywgRiwgaCksIEIoRiwgRiwgQ1syXSksIHooVywgQ1syXSwgVyksIFIoWSwgVyksIFIoWCwgWSksIF8oZWUsIFgsIFkpLCBfKEwsIGVlLCBGKSwgXyhMLCBMLCBXKSwgUShMLCBMKSwgXyhMLCBMLCBGKSwgXyhMLCBMLCBXKSwgXyhMLCBMLCBXKSwgXyhDWzBdLCBMLCBXKSwgUih5LCBDWzBdKSwgXyh5LCB5LCBXKSwgVCh5LCBGKSAmJiBfKENbMF0sIENbMF0sIEEpLCBSKHksIENbMF0pLCBfKHksIHksIFcpLCBUKHksIEYpID8gLTEgOiAoSyhDWzBdKSA9PT0gcVszMV0gPj4gNyAmJiBCKENbMF0sIG8sIENbMF0pLCBfKENbM10sIENbMF0sIENbMV0pLCAwKTtcbiAgfVxuICBmdW5jdGlvbiBHKEMsIHEsIEwpIHtcbiAgICBjb25zdCB5ID0gbmV3IFVpbnQ4QXJyYXkoMzIpLCBGID0gW24oKSwgbigpLCBuKCksIG4oKV0sIFcgPSBbbigpLCBuKCksIG4oKSwgbigpXTtcbiAgICBpZiAoTC5sZW5ndGggIT09IHIuU0lHTkFUVVJFX0xFTkdUSClcbiAgICAgIHRocm93IG5ldyBFcnJvcihgZWQyNTUxOTogc2lnbmF0dXJlIG11c3QgYmUgJHtyLlNJR05BVFVSRV9MRU5HVEh9IGJ5dGVzYCk7XG4gICAgaWYgKFAoVywgQykpXG4gICAgICByZXR1cm4gITE7XG4gICAgY29uc3QgWSA9IG5ldyB0LlNIQTUxMigpO1xuICAgIFkudXBkYXRlKEwuc3ViYXJyYXkoMCwgMzIpKSwgWS51cGRhdGUoQyksIFkudXBkYXRlKHEpO1xuICAgIGNvbnN0IFggPSBZLmRpZ2VzdCgpO1xuICAgIHJldHVybiBtKFgpLCBhKEYsIFcsIFgpLCBjKFcsIEwuc3ViYXJyYXkoMzIpKSwgTyhGLCBXKSwgbCh5LCBGKSwgIWooTCwgeSk7XG4gIH1cbiAgci52ZXJpZnkgPSBHO1xuICBmdW5jdGlvbiBNKEMpIHtcbiAgICBsZXQgcSA9IFtuKCksIG4oKSwgbigpLCBuKCldO1xuICAgIGlmIChQKHEsIEMpKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRWQyNTUxOTogaW52YWxpZCBwdWJsaWMga2V5XCIpO1xuICAgIGxldCBMID0gbigpLCB5ID0gbigpLCBGID0gcVsxXTtcbiAgICB6KEwsIGYsIEYpLCBCKHksIGYsIEYpLCBKKHksIHkpLCBfKEwsIEwsIHkpO1xuICAgIGxldCBXID0gbmV3IFVpbnQ4QXJyYXkoMzIpO1xuICAgIHJldHVybiBrKFcsIEwpLCBXO1xuICB9XG4gIHIuY29udmVydFB1YmxpY0tleVRvWDI1NTE5ID0gTTtcbiAgZnVuY3Rpb24gSChDKSB7XG4gICAgY29uc3QgcSA9ICgwLCB0Lmhhc2gpKEMuc3ViYXJyYXkoMCwgMzIpKTtcbiAgICBxWzBdICY9IDI0OCwgcVszMV0gJj0gMTI3LCBxWzMxXSB8PSA2NDtcbiAgICBjb25zdCBMID0gbmV3IFVpbnQ4QXJyYXkocS5zdWJhcnJheSgwLCAzMikpO1xuICAgIHJldHVybiAoMCwgaS53aXBlKShxKSwgTDtcbiAgfVxuICByLmNvbnZlcnRTZWNyZXRLZXlUb1gyNTUxOSA9IEg7XG59KShDbyk7XG5jb25zdCBWcCA9IFwiRWREU0FcIiwgV3AgPSBcIkpXVFwiLCB6cyA9IFwiLlwiLCBjYSA9IFwiYmFzZTY0dXJsXCIsIHR1ID0gXCJ1dGY4XCIsIHJ1ID0gXCJ1dGY4XCIsIEdwID0gXCI6XCIsIEpwID0gXCJkaWRcIiwgWXAgPSBcImtleVwiLCBCZiA9IFwiYmFzZTU4YnRjXCIsIFhwID0gXCJ6XCIsIFpwID0gXCJLMzZcIiwgUXAgPSAzMjtcbmZ1bmN0aW9uIGl1KHIgPSAwKSB7XG4gIHJldHVybiBnbG9iYWxUaGlzLkJ1ZmZlciAhPSBudWxsICYmIGdsb2JhbFRoaXMuQnVmZmVyLmFsbG9jVW5zYWZlICE9IG51bGwgPyBnbG9iYWxUaGlzLkJ1ZmZlci5hbGxvY1Vuc2FmZShyKSA6IG5ldyBVaW50OEFycmF5KHIpO1xufVxuZnVuY3Rpb24gRHMociwgZSkge1xuICBlIHx8IChlID0gci5yZWR1Y2UoKG4sIHMpID0+IG4gKyBzLmxlbmd0aCwgMCkpO1xuICBjb25zdCB0ID0gaXUoZSk7XG4gIGxldCBpID0gMDtcbiAgZm9yIChjb25zdCBuIG9mIHIpXG4gICAgdC5zZXQobiwgaSksIGkgKz0gbi5sZW5ndGg7XG4gIHJldHVybiB0O1xufVxuZnVuY3Rpb24gZTEociwgZSkge1xuICBpZiAoci5sZW5ndGggPj0gMjU1KVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJBbHBoYWJldCB0b28gbG9uZ1wiKTtcbiAgZm9yICh2YXIgdCA9IG5ldyBVaW50OEFycmF5KDI1NiksIGkgPSAwOyBpIDwgdC5sZW5ndGg7IGkrKylcbiAgICB0W2ldID0gMjU1O1xuICBmb3IgKHZhciBuID0gMDsgbiA8IHIubGVuZ3RoOyBuKyspIHtcbiAgICB2YXIgcyA9IHIuY2hhckF0KG4pLCBvID0gcy5jaGFyQ29kZUF0KDApO1xuICAgIGlmICh0W29dICE9PSAyNTUpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgKyBcIiBpcyBhbWJpZ3VvdXNcIik7XG4gICAgdFtvXSA9IG47XG4gIH1cbiAgdmFyIGYgPSByLmxlbmd0aCwgaCA9IHIuY2hhckF0KDApLCBkID0gTWF0aC5sb2coZikgLyBNYXRoLmxvZygyNTYpLCB2ID0gTWF0aC5sb2coMjU2KSAvIE1hdGgubG9nKGYpO1xuICBmdW5jdGlvbiB3KEQpIHtcbiAgICBpZiAoRCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgfHwgKEFycmF5QnVmZmVyLmlzVmlldyhEKSA/IEQgPSBuZXcgVWludDhBcnJheShELmJ1ZmZlciwgRC5ieXRlT2Zmc2V0LCBELmJ5dGVMZW5ndGgpIDogQXJyYXkuaXNBcnJheShEKSAmJiAoRCA9IFVpbnQ4QXJyYXkuZnJvbShEKSkpLCAhKEQgaW5zdGFuY2VvZiBVaW50OEFycmF5KSlcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBVaW50OEFycmF5XCIpO1xuICAgIGlmIChELmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIGZvciAodmFyIE4gPSAwLCBrID0gMCwgaiA9IDAsIFQgPSBELmxlbmd0aDsgaiAhPT0gVCAmJiBEW2pdID09PSAwOyApXG4gICAgICBqKyssIE4rKztcbiAgICBmb3IgKHZhciBLID0gKFQgLSBqKSAqIHYgKyAxID4+PiAwLCAkID0gbmV3IFVpbnQ4QXJyYXkoSyk7IGogIT09IFQ7ICkge1xuICAgICAgZm9yICh2YXIgeiA9IERbal0sIEIgPSAwLCBfID0gSyAtIDE7ICh6ICE9PSAwIHx8IEIgPCBrKSAmJiBfICE9PSAtMTsgXy0tLCBCKyspXG4gICAgICAgIHogKz0gMjU2ICogJFtfXSA+Pj4gMCwgJFtfXSA9IHogJSBmID4+PiAwLCB6ID0geiAvIGYgPj4+IDA7XG4gICAgICBpZiAoeiAhPT0gMClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm9uLXplcm8gY2FycnlcIik7XG4gICAgICBrID0gQiwgaisrO1xuICAgIH1cbiAgICBmb3IgKHZhciBSID0gSyAtIGs7IFIgIT09IEsgJiYgJFtSXSA9PT0gMDsgKVxuICAgICAgUisrO1xuICAgIGZvciAodmFyIEogPSBoLnJlcGVhdChOKTsgUiA8IEs7ICsrUilcbiAgICAgIEogKz0gci5jaGFyQXQoJFtSXSk7XG4gICAgcmV0dXJuIEo7XG4gIH1cbiAgZnVuY3Rpb24gQShEKSB7XG4gICAgaWYgKHR5cGVvZiBEICE9IFwic3RyaW5nXCIpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRXhwZWN0ZWQgU3RyaW5nXCIpO1xuICAgIGlmIChELmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSgpO1xuICAgIHZhciBOID0gMDtcbiAgICBpZiAoRFtOXSAhPT0gXCIgXCIpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwLCBqID0gMDsgRFtOXSA9PT0gaDsgKVxuICAgICAgICBrKyssIE4rKztcbiAgICAgIGZvciAodmFyIFQgPSAoRC5sZW5ndGggLSBOKSAqIGQgKyAxID4+PiAwLCBLID0gbmV3IFVpbnQ4QXJyYXkoVCk7IERbTl07ICkge1xuICAgICAgICB2YXIgJCA9IHRbRC5jaGFyQ29kZUF0KE4pXTtcbiAgICAgICAgaWYgKCQgPT09IDI1NSlcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGZvciAodmFyIHogPSAwLCBCID0gVCAtIDE7ICgkICE9PSAwIHx8IHogPCBqKSAmJiBCICE9PSAtMTsgQi0tLCB6KyspXG4gICAgICAgICAgJCArPSBmICogS1tCXSA+Pj4gMCwgS1tCXSA9ICQgJSAyNTYgPj4+IDAsICQgPSAkIC8gMjU2ID4+PiAwO1xuICAgICAgICBpZiAoJCAhPT0gMClcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb24temVybyBjYXJyeVwiKTtcbiAgICAgICAgaiA9IHosIE4rKztcbiAgICAgIH1cbiAgICAgIGlmIChEW05dICE9PSBcIiBcIikge1xuICAgICAgICBmb3IgKHZhciBfID0gVCAtIGo7IF8gIT09IFQgJiYgS1tfXSA9PT0gMDsgKVxuICAgICAgICAgIF8rKztcbiAgICAgICAgZm9yICh2YXIgUiA9IG5ldyBVaW50OEFycmF5KGsgKyAoVCAtIF8pKSwgSiA9IGs7IF8gIT09IFQ7IClcbiAgICAgICAgICBSW0orK10gPSBLW18rK107XG4gICAgICAgIHJldHVybiBSO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBJKEQpIHtcbiAgICB2YXIgTiA9IEEoRCk7XG4gICAgaWYgKE4pXG4gICAgICByZXR1cm4gTjtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYE5vbi0ke2V9IGNoYXJhY3RlcmApO1xuICB9XG4gIHJldHVybiB7XG4gICAgZW5jb2RlOiB3LFxuICAgIGRlY29kZVVuc2FmZTogQSxcbiAgICBkZWNvZGU6IElcbiAgfTtcbn1cbnZhciB0MSA9IGUxLCByMSA9IHQxO1xuY29uc3QgaTEgPSAocikgPT4ge1xuICBpZiAociBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgJiYgci5jb25zdHJ1Y3Rvci5uYW1lID09PSBcIlVpbnQ4QXJyYXlcIilcbiAgICByZXR1cm4gcjtcbiAgaWYgKHIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkocik7XG4gIGlmIChBcnJheUJ1ZmZlci5pc1ZpZXcocikpXG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHIuYnVmZmVyLCByLmJ5dGVPZmZzZXQsIHIuYnl0ZUxlbmd0aCk7XG4gIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gdHlwZSwgbXVzdCBiZSBiaW5hcnkgdHlwZVwiKTtcbn0sIG4xID0gKHIpID0+IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShyKSwgczEgPSAocikgPT4gbmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKHIpO1xuY2xhc3MgYTEge1xuICBjb25zdHJ1Y3RvcihlLCB0LCBpKSB7XG4gICAgdGhpcy5uYW1lID0gZSwgdGhpcy5wcmVmaXggPSB0LCB0aGlzLmJhc2VFbmNvZGUgPSBpO1xuICB9XG4gIGVuY29kZShlKSB7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KVxuICAgICAgcmV0dXJuIGAke3RoaXMucHJlZml4fSR7dGhpcy5iYXNlRW5jb2RlKGUpfWA7XG4gICAgdGhyb3cgRXJyb3IoXCJVbmtub3duIHR5cGUsIG11c3QgYmUgYmluYXJ5IHR5cGVcIik7XG4gIH1cbn1cbmNsYXNzIG8xIHtcbiAgY29uc3RydWN0b3IoZSwgdCwgaSkge1xuICAgIGlmICh0aGlzLm5hbWUgPSBlLCB0aGlzLnByZWZpeCA9IHQsIHQuY29kZVBvaW50QXQoMCkgPT09IHZvaWQgMClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcHJlZml4IGNoYXJhY3RlclwiKTtcbiAgICB0aGlzLnByZWZpeENvZGVQb2ludCA9IHQuY29kZVBvaW50QXQoMCksIHRoaXMuYmFzZURlY29kZSA9IGk7XG4gIH1cbiAgZGVjb2RlKGUpIHtcbiAgICBpZiAodHlwZW9mIGUgPT0gXCJzdHJpbmdcIikge1xuICAgICAgaWYgKGUuY29kZVBvaW50QXQoMCkgIT09IHRoaXMucHJlZml4Q29kZVBvaW50KVxuICAgICAgICB0aHJvdyBFcnJvcihgVW5hYmxlIHRvIGRlY29kZSBtdWx0aWJhc2Ugc3RyaW5nICR7SlNPTi5zdHJpbmdpZnkoZSl9LCAke3RoaXMubmFtZX0gZGVjb2RlciBvbmx5IHN1cHBvcnRzIGlucHV0cyBwcmVmaXhlZCB3aXRoICR7dGhpcy5wcmVmaXh9YCk7XG4gICAgICByZXR1cm4gdGhpcy5iYXNlRGVjb2RlKGUuc2xpY2UodGhpcy5wcmVmaXgubGVuZ3RoKSk7XG4gICAgfSBlbHNlXG4gICAgICB0aHJvdyBFcnJvcihcIkNhbiBvbmx5IG11bHRpYmFzZSBkZWNvZGUgc3RyaW5nc1wiKTtcbiAgfVxuICBvcihlKSB7XG4gICAgcmV0dXJuIG51KHRoaXMsIGUpO1xuICB9XG59XG5jbGFzcyBmMSB7XG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICB0aGlzLmRlY29kZXJzID0gZTtcbiAgfVxuICBvcihlKSB7XG4gICAgcmV0dXJuIG51KHRoaXMsIGUpO1xuICB9XG4gIGRlY29kZShlKSB7XG4gICAgY29uc3QgdCA9IGVbMF0sIGkgPSB0aGlzLmRlY29kZXJzW3RdO1xuICAgIGlmIChpKVxuICAgICAgcmV0dXJuIGkuZGVjb2RlKGUpO1xuICAgIHRocm93IFJhbmdlRXJyb3IoYFVuYWJsZSB0byBkZWNvZGUgbXVsdGliYXNlIHN0cmluZyAke0pTT04uc3RyaW5naWZ5KGUpfSwgb25seSBpbnB1dHMgcHJlZml4ZWQgd2l0aCAke09iamVjdC5rZXlzKHRoaXMuZGVjb2RlcnMpfSBhcmUgc3VwcG9ydGVkYCk7XG4gIH1cbn1cbmNvbnN0IG51ID0gKHIsIGUpID0+IG5ldyBmMSh7XG4gIC4uLnIuZGVjb2RlcnMgfHwgeyBbci5wcmVmaXhdOiByIH0sXG4gIC4uLmUuZGVjb2RlcnMgfHwgeyBbZS5wcmVmaXhdOiBlIH1cbn0pO1xuY2xhc3MgYzEge1xuICBjb25zdHJ1Y3RvcihlLCB0LCBpLCBuKSB7XG4gICAgdGhpcy5uYW1lID0gZSwgdGhpcy5wcmVmaXggPSB0LCB0aGlzLmJhc2VFbmNvZGUgPSBpLCB0aGlzLmJhc2VEZWNvZGUgPSBuLCB0aGlzLmVuY29kZXIgPSBuZXcgYTEoZSwgdCwgaSksIHRoaXMuZGVjb2RlciA9IG5ldyBvMShlLCB0LCBuKTtcbiAgfVxuICBlbmNvZGUoZSkge1xuICAgIHJldHVybiB0aGlzLmVuY29kZXIuZW5jb2RlKGUpO1xuICB9XG4gIGRlY29kZShlKSB7XG4gICAgcmV0dXJuIHRoaXMuZGVjb2Rlci5kZWNvZGUoZSk7XG4gIH1cbn1cbmNvbnN0IGhhID0gKHsgbmFtZTogciwgcHJlZml4OiBlLCBlbmNvZGU6IHQsIGRlY29kZTogaSB9KSA9PiBuZXcgYzEociwgZSwgdCwgaSksIHJzID0gKHsgcHJlZml4OiByLCBuYW1lOiBlLCBhbHBoYWJldDogdCB9KSA9PiB7XG4gIGNvbnN0IHsgZW5jb2RlOiBpLCBkZWNvZGU6IG4gfSA9IHIxKHQsIGUpO1xuICByZXR1cm4gaGEoe1xuICAgIHByZWZpeDogcixcbiAgICBuYW1lOiBlLFxuICAgIGVuY29kZTogaSxcbiAgICBkZWNvZGU6IChzKSA9PiBpMShuKHMpKVxuICB9KTtcbn0sIGgxID0gKHIsIGUsIHQsIGkpID0+IHtcbiAgY29uc3QgbiA9IHt9O1xuICBmb3IgKGxldCB2ID0gMDsgdiA8IGUubGVuZ3RoOyArK3YpXG4gICAgbltlW3ZdXSA9IHY7XG4gIGxldCBzID0gci5sZW5ndGg7XG4gIGZvciAoOyByW3MgLSAxXSA9PT0gXCI9XCI7IClcbiAgICAtLXM7XG4gIGNvbnN0IG8gPSBuZXcgVWludDhBcnJheShzICogdCAvIDggfCAwKTtcbiAgbGV0IGYgPSAwLCBoID0gMCwgZCA9IDA7XG4gIGZvciAobGV0IHYgPSAwOyB2IDwgczsgKyt2KSB7XG4gICAgY29uc3QgdyA9IG5bclt2XV07XG4gICAgaWYgKHcgPT09IHZvaWQgMClcbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihgTm9uLSR7aX0gY2hhcmFjdGVyYCk7XG4gICAgaCA9IGggPDwgdCB8IHcsIGYgKz0gdCwgZiA+PSA4ICYmIChmIC09IDgsIG9bZCsrXSA9IDI1NSAmIGggPj4gZik7XG4gIH1cbiAgaWYgKGYgPj0gdCB8fCAyNTUgJiBoIDw8IDggLSBmKVxuICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihcIlVuZXhwZWN0ZWQgZW5kIG9mIGRhdGFcIik7XG4gIHJldHVybiBvO1xufSwgdTEgPSAociwgZSwgdCkgPT4ge1xuICBjb25zdCBpID0gZVtlLmxlbmd0aCAtIDFdID09PSBcIj1cIiwgbiA9ICgxIDw8IHQpIC0gMTtcbiAgbGV0IHMgPSBcIlwiLCBvID0gMCwgZiA9IDA7XG4gIGZvciAobGV0IGggPSAwOyBoIDwgci5sZW5ndGg7ICsraClcbiAgICBmb3IgKGYgPSBmIDw8IDggfCByW2hdLCBvICs9IDg7IG8gPiB0OyApXG4gICAgICBvIC09IHQsIHMgKz0gZVtuICYgZiA+PiBvXTtcbiAgaWYgKG8gJiYgKHMgKz0gZVtuICYgZiA8PCB0IC0gb10pLCBpKVxuICAgIGZvciAoOyBzLmxlbmd0aCAqIHQgJiA3OyApXG4gICAgICBzICs9IFwiPVwiO1xuICByZXR1cm4gcztcbn0sIFJ0ID0gKHsgbmFtZTogciwgcHJlZml4OiBlLCBiaXRzUGVyQ2hhcjogdCwgYWxwaGFiZXQ6IGkgfSkgPT4gaGEoe1xuICBwcmVmaXg6IGUsXG4gIG5hbWU6IHIsXG4gIGVuY29kZShuKSB7XG4gICAgcmV0dXJuIHUxKG4sIGksIHQpO1xuICB9LFxuICBkZWNvZGUobikge1xuICAgIHJldHVybiBoMShuLCBpLCB0LCByKTtcbiAgfVxufSksIGQxID0gaGEoe1xuICBwcmVmaXg6IFwiXFwwXCIsXG4gIG5hbWU6IFwiaWRlbnRpdHlcIixcbiAgZW5jb2RlOiAocikgPT4gczEociksXG4gIGRlY29kZTogKHIpID0+IG4xKHIpXG59KSwgbDEgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgX19wcm90b19fOiBudWxsLFxuICBpZGVudGl0eTogZDFcbn0sIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KSksIHAxID0gUnQoe1xuICBwcmVmaXg6IFwiMFwiLFxuICBuYW1lOiBcImJhc2UyXCIsXG4gIGFscGhhYmV0OiBcIjAxXCIsXG4gIGJpdHNQZXJDaGFyOiAxXG59KSwgdjEgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgX19wcm90b19fOiBudWxsLFxuICBiYXNlMjogcDFcbn0sIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KSksIGIxID0gUnQoe1xuICBwcmVmaXg6IFwiN1wiLFxuICBuYW1lOiBcImJhc2U4XCIsXG4gIGFscGhhYmV0OiBcIjAxMjM0NTY3XCIsXG4gIGJpdHNQZXJDaGFyOiAzXG59KSwgZzEgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgX19wcm90b19fOiBudWxsLFxuICBiYXNlODogYjFcbn0sIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KSksIHkxID0gcnMoe1xuICBwcmVmaXg6IFwiOVwiLFxuICBuYW1lOiBcImJhc2UxMFwiLFxuICBhbHBoYWJldDogXCIwMTIzNDU2Nzg5XCJcbn0pLCBtMSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuZnJlZXplKC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuZGVmaW5lUHJvcGVydHkoe1xuICBfX3Byb3RvX186IG51bGwsXG4gIGJhc2UxMDogeTFcbn0sIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogXCJNb2R1bGVcIiB9KSksIHcxID0gUnQoe1xuICBwcmVmaXg6IFwiZlwiLFxuICBuYW1lOiBcImJhc2UxNlwiLFxuICBhbHBoYWJldDogXCIwMTIzNDU2Nzg5YWJjZGVmXCIsXG4gIGJpdHNQZXJDaGFyOiA0XG59KSwgXzEgPSBSdCh7XG4gIHByZWZpeDogXCJGXCIsXG4gIG5hbWU6IFwiYmFzZTE2dXBwZXJcIixcbiAgYWxwaGFiZXQ6IFwiMDEyMzQ1Njc4OUFCQ0RFRlwiLFxuICBiaXRzUGVyQ2hhcjogNFxufSksIHgxID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5mcmVlemUoLyogQF9fUFVSRV9fICovIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgYmFzZTE2OiB3MSxcbiAgYmFzZTE2dXBwZXI6IF8xXG59LCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6IFwiTW9kdWxlXCIgfSkpLCBFMSA9IFJ0KHtcbiAgcHJlZml4OiBcImJcIixcbiAgbmFtZTogXCJiYXNlMzJcIixcbiAgYWxwaGFiZXQ6IFwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXoyMzQ1NjdcIixcbiAgYml0c1BlckNoYXI6IDVcbn0pLCBTMSA9IFJ0KHtcbiAgcHJlZml4OiBcIkJcIixcbiAgbmFtZTogXCJiYXNlMzJ1cHBlclwiLFxuICBhbHBoYWJldDogXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjIzNDU2N1wiLFxuICBiaXRzUGVyQ2hhcjogNVxufSksIE0xID0gUnQoe1xuICBwcmVmaXg6IFwiY1wiLFxuICBuYW1lOiBcImJhc2UzMnBhZFwiLFxuICBhbHBoYWJldDogXCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejIzNDU2Nz1cIixcbiAgYml0c1BlckNoYXI6IDVcbn0pLCBJMSA9IFJ0KHtcbiAgcHJlZml4OiBcIkNcIixcbiAgbmFtZTogXCJiYXNlMzJwYWR1cHBlclwiLFxuICBhbHBoYWJldDogXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWjIzNDU2Nz1cIixcbiAgYml0c1BlckNoYXI6IDVcbn0pLCBBMSA9IFJ0KHtcbiAgcHJlZml4OiBcInZcIixcbiAgbmFtZTogXCJiYXNlMzJoZXhcIixcbiAgYWxwaGFiZXQ6IFwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZcIixcbiAgYml0c1BlckNoYXI6IDVcbn0pLCBEMSA9IFJ0KHtcbiAgcHJlZml4OiBcIlZcIixcbiAgbmFtZTogXCJiYXNlMzJoZXh1cHBlclwiLFxuICBhbHBoYWJldDogXCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVlwiLFxuICBiaXRzUGVyQ2hhcjogNVxufSksIFAxID0gUnQoe1xuICBwcmVmaXg6IFwidFwiLFxuICBuYW1lOiBcImJhc2UzMmhleHBhZFwiLFxuICBhbHBoYWJldDogXCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dj1cIixcbiAgYml0c1BlckNoYXI6IDVcbn0pLCBPMSA9IFJ0KHtcbiAgcHJlZml4OiBcIlRcIixcbiAgbmFtZTogXCJiYXNlMzJoZXhwYWR1cHBlclwiLFxuICBhbHBoYWJldDogXCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVj1cIixcbiAgYml0c1BlckNoYXI6IDVcbn0pLCBSMSA9IFJ0KHtcbiAgcHJlZml4OiBcImhcIixcbiAgbmFtZTogXCJiYXNlMzJ6XCIsXG4gIGFscGhhYmV0OiBcInlibmRyZmc4ZWprbWNwcXhvdDF1d2lzemEzNDVoNzY5XCIsXG4gIGJpdHNQZXJDaGFyOiA1XG59KSwgTjEgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmZyZWV6ZSgvKiBAX19QVVJFX18gKi8gT2JqZWN0LmRlZmluZVByb3BlcnR5KHtcbiAgX19wcm90b19fOiBudWxsLFxuICBiYXNlMzI6IEUxLFxuICBiYXNlMzJoZXg6IEExLFxuICBiYXNlMzJoZXhwYWQ6IFAxLFxuICBiYXNlMzJoZXhwYWR1cHBlcjogTzEsXG4gIGJhc2UzMmhleHVwcGVyOiBEMSxcbiAgYmFzZTMycGFkOiBNMSxcbiAgYmFzZTMycGFkdXBwZXI6IEkxLFxuICBiYXNlMzJ1cHBlcjogUzEsXG4gIGJhc2UzMno6IFIxXG59LCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6IFwiTW9kdWxlXCIgfSkpLCBUMSA9IHJzKHtcbiAgcHJlZml4OiBcImtcIixcbiAgbmFtZTogXCJiYXNlMzZcIixcbiAgYWxwaGFiZXQ6IFwiMDEyMzQ1Njc4OWFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCJcbn0pLCBDMSA9IHJzKHtcbiAgcHJlZml4OiBcIktcIixcbiAgbmFtZTogXCJiYXNlMzZ1cHBlclwiLFxuICBhbHBoYWJldDogXCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVpcIlxufSksICQxID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5mcmVlemUoLyogQF9fUFVSRV9fICovIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgYmFzZTM2OiBUMSxcbiAgYmFzZTM2dXBwZXI6IEMxXG59LCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6IFwiTW9kdWxlXCIgfSkpLCBMMSA9IHJzKHtcbiAgbmFtZTogXCJiYXNlNThidGNcIixcbiAgcHJlZml4OiBcInpcIixcbiAgYWxwaGFiZXQ6IFwiMTIzNDU2Nzg5QUJDREVGR0hKS0xNTlBRUlNUVVZXWFlaYWJjZGVmZ2hpamttbm9wcXJzdHV2d3h5elwiXG59KSwgRjEgPSBycyh7XG4gIG5hbWU6IFwiYmFzZTU4ZmxpY2tyXCIsXG4gIHByZWZpeDogXCJaXCIsXG4gIGFscGhhYmV0OiBcIjEyMzQ1Njc4OWFiY2RlZmdoaWprbW5vcHFyc3R1dnd4eXpBQkNERUZHSEpLTE1OUFFSU1RVVldYWVpcIlxufSksIHExID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5mcmVlemUoLyogQF9fUFVSRV9fICovIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgYmFzZTU4YnRjOiBMMSxcbiAgYmFzZTU4ZmxpY2tyOiBGMVxufSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pKSwgVTEgPSBSdCh7XG4gIHByZWZpeDogXCJtXCIsXG4gIG5hbWU6IFwiYmFzZTY0XCIsXG4gIGFscGhhYmV0OiBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky9cIixcbiAgYml0c1BlckNoYXI6IDZcbn0pLCB6MSA9IFJ0KHtcbiAgcHJlZml4OiBcIk1cIixcbiAgbmFtZTogXCJiYXNlNjRwYWRcIixcbiAgYWxwaGFiZXQ6IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIixcbiAgYml0c1BlckNoYXI6IDZcbn0pLCBCMSA9IFJ0KHtcbiAgcHJlZml4OiBcInVcIixcbiAgbmFtZTogXCJiYXNlNjR1cmxcIixcbiAgYWxwaGFiZXQ6IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODktX1wiLFxuICBiaXRzUGVyQ2hhcjogNlxufSksIGsxID0gUnQoe1xuICBwcmVmaXg6IFwiVVwiLFxuICBuYW1lOiBcImJhc2U2NHVybHBhZFwiLFxuICBhbHBoYWJldDogXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS1fPVwiLFxuICBiaXRzUGVyQ2hhcjogNlxufSksIGoxID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5mcmVlemUoLyogQF9fUFVSRV9fICovIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgYmFzZTY0OiBVMSxcbiAgYmFzZTY0cGFkOiB6MSxcbiAgYmFzZTY0dXJsOiBCMSxcbiAgYmFzZTY0dXJscGFkOiBrMVxufSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pKSwgc3UgPSBBcnJheS5mcm9tKFwi8J+agPCfqpDimITwn5uw8J+MjPCfjJHwn4yS8J+Mk/CfjJTwn4yV8J+MlvCfjJfwn4yY8J+MjfCfjI/wn4yO8J+QieKYgPCfkrvwn5al8J+SvvCfkr/wn5iC4p2k8J+YjfCfpKPwn5iK8J+Zj/CfkpXwn5it8J+YmPCfkY3wn5iF8J+Rj/CfmIHwn5Sl8J+lsPCfkpTwn5KW8J+SmfCfmKLwn6SU8J+YhvCfmYTwn5Kq8J+YieKYuvCfkYzwn6SX8J+SnPCfmJTwn5iO8J+Yh/CfjLnwn6Sm8J+OifCfkp7inIzinKjwn6S38J+YsfCfmIzwn4y48J+ZjPCfmIvwn5KX8J+SmvCfmI/wn5Kb8J+ZgvCfkpPwn6Sp8J+YhPCfmIDwn5ak8J+Yg/Cfkq/wn5mI8J+Rh/Cfjrbwn5iS8J+kreKdo/CfmJzwn5KL8J+RgPCfmKrwn5iR8J+SpfCfmYvwn5ie8J+YqfCfmKHwn6Sq8J+RivCfpbPwn5il8J+kpPCfkYnwn5KD8J+Ys+Kci/CfmJrwn5id8J+YtPCfjJ/wn5is8J+Zg/CfjYDwn4y38J+Yu/CfmJPirZDinIXwn6W68J+MiPCfmIjwn6SY8J+SpuKclPCfmKPwn4+D8J+SkOKYufCfjorwn5KY8J+YoOKYnfCfmJXwn4y68J+OgvCfjLvwn5iQ8J+WlfCfkp3wn5mK8J+YufCfl6Pwn5Kr8J+SgPCfkZHwn4618J+knvCfmJvwn5S08J+YpPCfjLzwn5ir4pq98J+kmeKYlfCfj4bwn6Sr8J+RiPCfmK7wn5mG8J+Nu/CfjYPwn5C28J+SgfCfmLLwn4y/8J+nofCfjoHimqHwn4ye8J+OiOKdjOKcivCfkYvwn5iw8J+kqPCfmLbwn6Sd8J+atvCfkrDwn42T8J+SovCfpJ/wn5mB8J+aqPCfkqjwn6Ss4pyI8J+OgPCfjbrwn6ST8J+YmfCfkp/wn4yx8J+YlvCfkbbwn6W04pa24p6h4p2T8J+SjvCfkrjirIfwn5io8J+MmvCfpovwn5i38J+VuuKaoPCfmYXwn5if8J+YtfCfkY7wn6Sy8J+koPCfpKfwn5OM8J+UtfCfkoXwn6eQ8J+QvvCfjZLwn5iX8J+kkfCfjIrwn6Sv8J+Qt+KYjvCfkqfwn5iv8J+ShvCfkYbwn46k8J+Zh/CfjZHinYTwn4y08J+So/CfkLjwn5KM8J+TjfCfpYDwn6Si8J+RhfCfkqHwn5Kp8J+RkPCfk7jwn5G78J+kkPCfpK7wn4688J+ltfCfmqnwn42O8J+NivCfkbzwn5KN8J+To/CfpYJcIiksIEsxID0gc3UucmVkdWNlKChyLCBlLCB0KSA9PiAoclt0XSA9IGUsIHIpLCBbXSksIEgxID0gc3UucmVkdWNlKChyLCBlLCB0KSA9PiAocltlLmNvZGVQb2ludEF0KDApXSA9IHQsIHIpLCBbXSk7XG5mdW5jdGlvbiBWMShyKSB7XG4gIHJldHVybiByLnJlZHVjZSgoZSwgdCkgPT4gKGUgKz0gSzFbdF0sIGUpLCBcIlwiKTtcbn1cbmZ1bmN0aW9uIFcxKHIpIHtcbiAgY29uc3QgZSA9IFtdO1xuICBmb3IgKGNvbnN0IHQgb2Ygcikge1xuICAgIGNvbnN0IGkgPSBIMVt0LmNvZGVQb2ludEF0KDApXTtcbiAgICBpZiAoaSA9PT0gdm9pZCAwKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBOb24tYmFzZTI1NmVtb2ppIGNoYXJhY3RlcjogJHt0fWApO1xuICAgIGUucHVzaChpKTtcbiAgfVxuICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZSk7XG59XG5jb25zdCBHMSA9IGhhKHtcbiAgcHJlZml4OiBcIvCfmoBcIixcbiAgbmFtZTogXCJiYXNlMjU2ZW1vamlcIixcbiAgZW5jb2RlOiBWMSxcbiAgZGVjb2RlOiBXMVxufSksIEoxID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5mcmVlemUoLyogQF9fUFVSRV9fICovIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7XG4gIF9fcHJvdG9fXzogbnVsbCxcbiAgYmFzZTI1NmVtb2ppOiBHMVxufSwgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiBcIk1vZHVsZVwiIH0pKTtcbm5ldyBUZXh0RW5jb2RlcigpO1xubmV3IFRleHREZWNvZGVyKCk7XG5jb25zdCBrZiA9IHtcbiAgLi4ubDEsXG4gIC4uLnYxLFxuICAuLi5nMSxcbiAgLi4ubTEsXG4gIC4uLngxLFxuICAuLi5OMSxcbiAgLi4uJDEsXG4gIC4uLnExLFxuICAuLi5qMSxcbiAgLi4uSjFcbn07XG5mdW5jdGlvbiBhdShyLCBlLCB0LCBpKSB7XG4gIHJldHVybiB7XG4gICAgbmFtZTogcixcbiAgICBwcmVmaXg6IGUsXG4gICAgZW5jb2Rlcjoge1xuICAgICAgbmFtZTogcixcbiAgICAgIHByZWZpeDogZSxcbiAgICAgIGVuY29kZTogdFxuICAgIH0sXG4gICAgZGVjb2RlcjogeyBkZWNvZGU6IGkgfVxuICB9O1xufVxuY29uc3QgamYgPSBhdShcInV0ZjhcIiwgXCJ1XCIsIChyKSA9PiBcInVcIiArIG5ldyBUZXh0RGVjb2RlcihcInV0ZjhcIikuZGVjb2RlKHIpLCAocikgPT4gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHIuc3Vic3RyaW5nKDEpKSksIFVhID0gYXUoXCJhc2NpaVwiLCBcImFcIiwgKHIpID0+IHtcbiAgbGV0IGUgPSBcImFcIjtcbiAgZm9yIChsZXQgdCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKVxuICAgIGUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShyW3RdKTtcbiAgcmV0dXJuIGU7XG59LCAocikgPT4ge1xuICByID0gci5zdWJzdHJpbmcoMSk7XG4gIGNvbnN0IGUgPSBpdShyLmxlbmd0aCk7XG4gIGZvciAobGV0IHQgPSAwOyB0IDwgci5sZW5ndGg7IHQrKylcbiAgICBlW3RdID0gci5jaGFyQ29kZUF0KHQpO1xuICByZXR1cm4gZTtcbn0pLCBvdSA9IHtcbiAgdXRmODogamYsXG4gIFwidXRmLThcIjogamYsXG4gIGhleDoga2YuYmFzZTE2LFxuICBsYXRpbjE6IFVhLFxuICBhc2NpaTogVWEsXG4gIGJpbmFyeTogVWEsXG4gIC4uLmtmXG59O1xuZnVuY3Rpb24gTXQociwgZSA9IFwidXRmOFwiKSB7XG4gIGNvbnN0IHQgPSBvdVtlXTtcbiAgaWYgKCF0KVxuICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZW5jb2RpbmcgXCIke2V9XCJgKTtcbiAgcmV0dXJuIChlID09PSBcInV0ZjhcIiB8fCBlID09PSBcInV0Zi04XCIpICYmIGdsb2JhbFRoaXMuQnVmZmVyICE9IG51bGwgJiYgZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbSAhPSBudWxsID8gZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShyLmJ1ZmZlciwgci5ieXRlT2Zmc2V0LCByLmJ5dGVMZW5ndGgpLnRvU3RyaW5nKFwidXRmOFwiKSA6IHQuZW5jb2Rlci5lbmNvZGUocikuc3Vic3RyaW5nKDEpO1xufVxuZnVuY3Rpb24gU3QociwgZSA9IFwidXRmOFwiKSB7XG4gIGNvbnN0IHQgPSBvdVtlXTtcbiAgaWYgKCF0KVxuICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZW5jb2RpbmcgXCIke2V9XCJgKTtcbiAgcmV0dXJuIChlID09PSBcInV0ZjhcIiB8fCBlID09PSBcInV0Zi04XCIpICYmIGdsb2JhbFRoaXMuQnVmZmVyICE9IG51bGwgJiYgZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbSAhPSBudWxsID8gZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShyLCBcInV0ZjhcIikgOiB0LmRlY29kZXIuZGVjb2RlKGAke3QucHJlZml4fSR7cn1gKTtcbn1cbmZ1bmN0aW9uIEtmKHIpIHtcbiAgcmV0dXJuIHVuKE10KFN0KHIsIGNhKSwgdHUpKTtcbn1cbmZ1bmN0aW9uIEJzKHIpIHtcbiAgcmV0dXJuIE10KFN0KGppKHIpLCB0dSksIGNhKTtcbn1cbmZ1bmN0aW9uIGZ1KHIpIHtcbiAgY29uc3QgZSA9IFN0KFpwLCBCZiksIHQgPSBYcCArIE10KERzKFtlLCByXSksIEJmKTtcbiAgcmV0dXJuIFtKcCwgWXAsIHRdLmpvaW4oR3ApO1xufVxuZnVuY3Rpb24gWTEocikge1xuICByZXR1cm4gTXQociwgY2EpO1xufVxuZnVuY3Rpb24gWDEocikge1xuICByZXR1cm4gU3QociwgY2EpO1xufVxuZnVuY3Rpb24gWjEocikge1xuICByZXR1cm4gU3QoW0JzKHIuaGVhZGVyKSwgQnMoci5wYXlsb2FkKV0uam9pbih6cyksIHJ1KTtcbn1cbmZ1bmN0aW9uIFExKHIpIHtcbiAgcmV0dXJuIFtcbiAgICBCcyhyLmhlYWRlciksXG4gICAgQnMoci5wYXlsb2FkKSxcbiAgICBZMShyLnNpZ25hdHVyZSlcbiAgXS5qb2luKHpzKTtcbn1cbmZ1bmN0aW9uIGJvKHIpIHtcbiAgY29uc3QgZSA9IHIuc3BsaXQoenMpLCB0ID0gS2YoZVswXSksIGkgPSBLZihlWzFdKSwgbiA9IFgxKGVbMl0pLCBzID0gU3QoZS5zbGljZSgwLCAyKS5qb2luKHpzKSwgcnUpO1xuICByZXR1cm4geyBoZWFkZXI6IHQsIHBheWxvYWQ6IGksIHNpZ25hdHVyZTogbiwgZGF0YTogcyB9O1xufVxuZnVuY3Rpb24gSGYociA9IEVpLnJhbmRvbUJ5dGVzKFFwKSkge1xuICByZXR1cm4gQ28uZ2VuZXJhdGVLZXlQYWlyRnJvbVNlZWQocik7XG59XG5hc3luYyBmdW5jdGlvbiBldihyLCBlLCB0LCBpLCBuID0gaWUuZnJvbU1pbGlzZWNvbmRzKERhdGUubm93KCkpKSB7XG4gIGNvbnN0IHMgPSB7IGFsZzogVnAsIHR5cDogV3AgfSwgbyA9IGZ1KGkucHVibGljS2V5KSwgZiA9IG4gKyB0LCBoID0geyBpc3M6IG8sIHN1YjogciwgYXVkOiBlLCBpYXQ6IG4sIGV4cDogZiB9LCBkID0gWjEoeyBoZWFkZXI6IHMsIHBheWxvYWQ6IGggfSksIHYgPSBDby5zaWduKGkuc2VjcmV0S2V5LCBkKTtcbiAgcmV0dXJuIFExKHsgaGVhZGVyOiBzLCBwYXlsb2FkOiBoLCBzaWduYXR1cmU6IHYgfSk7XG59XG52YXIgVmYgPSBnbG9iYWxUaGlzICYmIGdsb2JhbFRoaXMuX19zcHJlYWRBcnJheSB8fCBmdW5jdGlvbihyLCBlLCB0KSB7XG4gIGlmICh0IHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpXG4gICAgZm9yICh2YXIgaSA9IDAsIG4gPSBlLmxlbmd0aCwgczsgaSA8IG47IGkrKylcbiAgICAgIChzIHx8ICEoaSBpbiBlKSkgJiYgKHMgfHwgKHMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChlLCAwLCBpKSksIHNbaV0gPSBlW2ldKTtcbiAgcmV0dXJuIHIuY29uY2F0KHMgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZSkpO1xufSwgdHYgPSAoXG4gIC8qKiBAY2xhc3MgKi9cbiAgZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gcihlLCB0LCBpKSB7XG4gICAgICB0aGlzLm5hbWUgPSBlLCB0aGlzLnZlcnNpb24gPSB0LCB0aGlzLm9zID0gaSwgdGhpcy50eXBlID0gXCJicm93c2VyXCI7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9KClcbiksIHJ2ID0gKFxuICAvKiogQGNsYXNzICovXG4gIGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIHIoZSkge1xuICAgICAgdGhpcy52ZXJzaW9uID0gZSwgdGhpcy50eXBlID0gXCJub2RlXCIsIHRoaXMubmFtZSA9IFwibm9kZVwiLCB0aGlzLm9zID0gcHJvY2Vzcy5wbGF0Zm9ybTtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG4gIH0oKVxuKSwgaXYgPSAoXG4gIC8qKiBAY2xhc3MgKi9cbiAgZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gcihlLCB0LCBpLCBuKSB7XG4gICAgICB0aGlzLm5hbWUgPSBlLCB0aGlzLnZlcnNpb24gPSB0LCB0aGlzLm9zID0gaSwgdGhpcy5ib3QgPSBuLCB0aGlzLnR5cGUgPSBcImJvdC1kZXZpY2VcIjtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG4gIH0oKVxuKSwgbnYgPSAoXG4gIC8qKiBAY2xhc3MgKi9cbiAgZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gcigpIHtcbiAgICAgIHRoaXMudHlwZSA9IFwiYm90XCIsIHRoaXMuYm90ID0gITAsIHRoaXMubmFtZSA9IFwiYm90XCIsIHRoaXMudmVyc2lvbiA9IG51bGwsIHRoaXMub3MgPSBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbiAgfSgpXG4pLCBzdiA9IChcbiAgLyoqIEBjbGFzcyAqL1xuICBmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiByKCkge1xuICAgICAgdGhpcy50eXBlID0gXCJyZWFjdC1uYXRpdmVcIiwgdGhpcy5uYW1lID0gXCJyZWFjdC1uYXRpdmVcIiwgdGhpcy52ZXJzaW9uID0gbnVsbCwgdGhpcy5vcyA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiByO1xuICB9KClcbiksIGF2ID0gL2FsZXhhfGJvdHxjcmF3bChlcnxpbmcpfGZhY2Vib29rZXh0ZXJuYWxoaXR8ZmVlZGJ1cm5lcnxnb29nbGUgd2ViIHByZXZpZXd8bmFnaW9zfHBvc3RyYW5rfHBpbmdkb218c2x1cnB8c3BpZGVyfHlhaG9vIXx5YW5kZXgvLCBvdiA9IC8obnVoa3xjdXJsfEdvb2dsZWJvdHxZYW1teWJvdHxPcGVuYm90fFNsdXJwfE1TTkJvdHxBc2tcXCBKZWV2ZXNcXC9UZW9tYXxpYV9hcmNoaXZlcikvLCBXZiA9IDMsIGZ2ID0gW1xuICBbXCJhb2xcIiwgL0FPTFNoaWVsZFxcLyhbMC05XFwuX10rKS9dLFxuICBbXCJlZGdlXCIsIC9FZGdlXFwvKFswLTlcXC5fXSspL10sXG4gIFtcImVkZ2UtaW9zXCIsIC9FZGdpT1NcXC8oWzAtOVxcLl9dKykvXSxcbiAgW1wieWFuZGV4YnJvd3NlclwiLCAvWWFCcm93c2VyXFwvKFswLTlcXC5fXSspL10sXG4gIFtcImtha2FvdGFsa1wiLCAvS0FLQU9UQUxLXFxzKFswLTlcXC5dKykvXSxcbiAgW1wic2Ftc3VuZ1wiLCAvU2Ftc3VuZ0Jyb3dzZXJcXC8oWzAtOVxcLl0rKS9dLFxuICBbXCJzaWxrXCIsIC9cXGJTaWxrXFwvKFswLTkuXy1dKylcXGIvXSxcbiAgW1wibWl1aVwiLCAvTWl1aUJyb3dzZXJcXC8oWzAtOVxcLl0rKSQvXSxcbiAgW1wiYmVha2VyXCIsIC9CZWFrZXJCcm93c2VyXFwvKFswLTlcXC5dKykvXSxcbiAgW1wiZWRnZS1jaHJvbWl1bVwiLCAvRWRnQT9cXC8oWzAtOVxcLl0rKS9dLFxuICBbXG4gICAgXCJjaHJvbWl1bS13ZWJ2aWV3XCIsXG4gICAgLyg/IUNocm9tLipPUFIpd3ZcXCkuKkNocm9tKD86ZXxpdW0pXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXG4gIF0sXG4gIFtcImNocm9tZVwiLCAvKD8hQ2hyb20uKk9QUilDaHJvbSg/OmV8aXVtKVxcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sXG4gIFtcInBoYW50b21qc1wiLCAvUGhhbnRvbUpTXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxcbiAgW1wiY3Jpb3NcIiwgL0NyaU9TXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxcbiAgW1wiZmlyZWZveFwiLCAvRmlyZWZveFxcLyhbMC05XFwuXSspKD86XFxzfCQpL10sXG4gIFtcImZ4aW9zXCIsIC9GeGlPU1xcLyhbMC05XFwuXSspL10sXG4gIFtcIm9wZXJhLW1pbmlcIiwgL09wZXJhIE1pbmkuKlZlcnNpb25cXC8oWzAtOVxcLl0rKS9dLFxuICBbXCJvcGVyYVwiLCAvT3BlcmFcXC8oWzAtOVxcLl0rKSg/Olxcc3wkKS9dLFxuICBbXCJvcGVyYVwiLCAvT1BSXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxcbiAgW1wicGllXCIsIC9eTWljcm9zb2Z0IFBvY2tldCBJbnRlcm5ldCBFeHBsb3JlclxcLyhcXGQrXFwuXFxkKykkL10sXG4gIFtcInBpZVwiLCAvXk1vemlsbGFcXC9cXGRcXC5cXGQrXFxzXFwoY29tcGF0aWJsZTtcXHMoPzpNU1A/SUV8TVNJbnRlcm5ldCBFeHBsb3JlcikgKFxcZCtcXC5cXGQrKTsuKldpbmRvd3MgQ0UuKlxcKSQvXSxcbiAgW1wibmV0ZnJvbnRcIiwgL15Nb3ppbGxhXFwvXFxkXFwuXFxkKy4qTmV0RnJvbnRcXC8oXFxkLlxcZCkvXSxcbiAgW1wiaWVcIiwgL1RyaWRlbnRcXC83XFwuMC4qcnZcXDooWzAtOVxcLl0rKS4qXFwpLipHZWNrbyQvXSxcbiAgW1wiaWVcIiwgL01TSUVcXHMoWzAtOVxcLl0rKTsuKlRyaWRlbnRcXC9bNC03XS4wL10sXG4gIFtcImllXCIsIC9NU0lFXFxzKDdcXC4wKS9dLFxuICBbXCJiYjEwXCIsIC9CQjEwO1xcc1RvdWNoLipWZXJzaW9uXFwvKFswLTlcXC5dKykvXSxcbiAgW1wiYW5kcm9pZFwiLCAvQW5kcm9pZFxccyhbMC05XFwuXSspL10sXG4gIFtcImlvc1wiLCAvVmVyc2lvblxcLyhbMC05XFwuX10rKS4qTW9iaWxlLipTYWZhcmkuKi9dLFxuICBbXCJzYWZhcmlcIiwgL1ZlcnNpb25cXC8oWzAtOVxcLl9dKykuKlNhZmFyaS9dLFxuICBbXCJmYWNlYm9va1wiLCAvRkJbQVNdVlxcLyhbMC05XFwuXSspL10sXG4gIFtcImluc3RhZ3JhbVwiLCAvSW5zdGFncmFtXFxzKFswLTlcXC5dKykvXSxcbiAgW1wiaW9zLXdlYnZpZXdcIiwgL0FwcGxlV2ViS2l0XFwvKFswLTlcXC5dKykuKk1vYmlsZS9dLFxuICBbXCJpb3Mtd2Vidmlld1wiLCAvQXBwbGVXZWJLaXRcXC8oWzAtOVxcLl0rKS4qR2Vja29cXCkkL10sXG4gIFtcImN1cmxcIiwgL15jdXJsXFwvKFswLTlcXC5dKykkL10sXG4gIFtcInNlYXJjaGJvdFwiLCBhdl1cbl0sIEdmID0gW1xuICBbXCJpT1NcIiwgL2lQKGhvbmV8b2R8YWQpL10sXG4gIFtcIkFuZHJvaWQgT1NcIiwgL0FuZHJvaWQvXSxcbiAgW1wiQmxhY2tCZXJyeSBPU1wiLCAvQmxhY2tCZXJyeXxCQjEwL10sXG4gIFtcIldpbmRvd3MgTW9iaWxlXCIsIC9JRU1vYmlsZS9dLFxuICBbXCJBbWF6b24gT1NcIiwgL0tpbmRsZS9dLFxuICBbXCJXaW5kb3dzIDMuMTFcIiwgL1dpbjE2L10sXG4gIFtcIldpbmRvd3MgOTVcIiwgLyhXaW5kb3dzIDk1KXwoV2luOTUpfChXaW5kb3dzXzk1KS9dLFxuICBbXCJXaW5kb3dzIDk4XCIsIC8oV2luZG93cyA5OCl8KFdpbjk4KS9dLFxuICBbXCJXaW5kb3dzIDIwMDBcIiwgLyhXaW5kb3dzIE5UIDUuMCl8KFdpbmRvd3MgMjAwMCkvXSxcbiAgW1wiV2luZG93cyBYUFwiLCAvKFdpbmRvd3MgTlQgNS4xKXwoV2luZG93cyBYUCkvXSxcbiAgW1wiV2luZG93cyBTZXJ2ZXIgMjAwM1wiLCAvKFdpbmRvd3MgTlQgNS4yKS9dLFxuICBbXCJXaW5kb3dzIFZpc3RhXCIsIC8oV2luZG93cyBOVCA2LjApL10sXG4gIFtcIldpbmRvd3MgN1wiLCAvKFdpbmRvd3MgTlQgNi4xKS9dLFxuICBbXCJXaW5kb3dzIDhcIiwgLyhXaW5kb3dzIE5UIDYuMikvXSxcbiAgW1wiV2luZG93cyA4LjFcIiwgLyhXaW5kb3dzIE5UIDYuMykvXSxcbiAgW1wiV2luZG93cyAxMFwiLCAvKFdpbmRvd3MgTlQgMTAuMCkvXSxcbiAgW1wiV2luZG93cyBNRVwiLCAvV2luZG93cyBNRS9dLFxuICBbXCJXaW5kb3dzIENFXCIsIC9XaW5kb3dzIENFfFdpbkNFfE1pY3Jvc29mdCBQb2NrZXQgSW50ZXJuZXQgRXhwbG9yZXIvXSxcbiAgW1wiT3BlbiBCU0RcIiwgL09wZW5CU0QvXSxcbiAgW1wiU3VuIE9TXCIsIC9TdW5PUy9dLFxuICBbXCJDaHJvbWUgT1NcIiwgL0NyT1MvXSxcbiAgW1wiTGludXhcIiwgLyhMaW51eCl8KFgxMSkvXSxcbiAgW1wiTWFjIE9TXCIsIC8oTWFjX1Bvd2VyUEMpfChNYWNpbnRvc2gpL10sXG4gIFtcIlFOWFwiLCAvUU5YL10sXG4gIFtcIkJlT1NcIiwgL0JlT1MvXSxcbiAgW1wiT1MvMlwiLCAvT1NcXC8yL11cbl07XG5mdW5jdGlvbiBjdShyKSB7XG4gIHJldHVybiByID8gSmYocikgOiB0eXBlb2YgZG9jdW1lbnQgPiBcInVcIiAmJiB0eXBlb2YgbmF2aWdhdG9yIDwgXCJ1XCIgJiYgbmF2aWdhdG9yLnByb2R1Y3QgPT09IFwiUmVhY3ROYXRpdmVcIiA/IG5ldyBzdigpIDogdHlwZW9mIG5hdmlnYXRvciA8IFwidVwiID8gSmYobmF2aWdhdG9yLnVzZXJBZ2VudCkgOiB1digpO1xufVxuZnVuY3Rpb24gY3Yocikge1xuICByZXR1cm4gciAhPT0gXCJcIiAmJiBmdi5yZWR1Y2UoZnVuY3Rpb24oZSwgdCkge1xuICAgIHZhciBpID0gdFswXSwgbiA9IHRbMV07XG4gICAgaWYgKGUpXG4gICAgICByZXR1cm4gZTtcbiAgICB2YXIgcyA9IG4uZXhlYyhyKTtcbiAgICByZXR1cm4gISFzICYmIFtpLCBzXTtcbiAgfSwgITEpO1xufVxuZnVuY3Rpb24gSmYocikge1xuICB2YXIgZSA9IGN2KHIpO1xuICBpZiAoIWUpXG4gICAgcmV0dXJuIG51bGw7XG4gIHZhciB0ID0gZVswXSwgaSA9IGVbMV07XG4gIGlmICh0ID09PSBcInNlYXJjaGJvdFwiKVxuICAgIHJldHVybiBuZXcgbnYoKTtcbiAgdmFyIG4gPSBpWzFdICYmIGlbMV0uc3BsaXQoXCIuXCIpLmpvaW4oXCJfXCIpLnNwbGl0KFwiX1wiKS5zbGljZSgwLCAzKTtcbiAgbiA/IG4ubGVuZ3RoIDwgV2YgJiYgKG4gPSBWZihWZihbXSwgbiwgITApLCBkdihXZiAtIG4ubGVuZ3RoKSwgITApKSA6IG4gPSBbXTtcbiAgdmFyIHMgPSBuLmpvaW4oXCIuXCIpLCBvID0gaHYociksIGYgPSBvdi5leGVjKHIpO1xuICByZXR1cm4gZiAmJiBmWzFdID8gbmV3IGl2KHQsIHMsIG8sIGZbMV0pIDogbmV3IHR2KHQsIHMsIG8pO1xufVxuZnVuY3Rpb24gaHYocikge1xuICBmb3IgKHZhciBlID0gMCwgdCA9IEdmLmxlbmd0aDsgZSA8IHQ7IGUrKykge1xuICAgIHZhciBpID0gR2ZbZV0sIG4gPSBpWzBdLCBzID0gaVsxXSwgbyA9IHMuZXhlYyhyKTtcbiAgICBpZiAobylcbiAgICAgIHJldHVybiBuO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gdXYoKSB7XG4gIHZhciByID0gdHlwZW9mIHByb2Nlc3MgPCBcInVcIiAmJiBwcm9jZXNzLnZlcnNpb247XG4gIHJldHVybiByID8gbmV3IHJ2KHByb2Nlc3MudmVyc2lvbi5zbGljZSgxKSkgOiBudWxsO1xufVxuZnVuY3Rpb24gZHYocikge1xuICBmb3IgKHZhciBlID0gW10sIHQgPSAwOyB0IDwgcjsgdCsrKVxuICAgIGUucHVzaChcIjBcIik7XG4gIHJldHVybiBlO1xufVxudmFyIG90ID0ge307XG5PYmplY3QuZGVmaW5lUHJvcGVydHkob3QsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbm90LmdldExvY2FsU3RvcmFnZSA9IG90LmdldExvY2FsU3RvcmFnZU9yVGhyb3cgPSBvdC5nZXRDcnlwdG8gPSBvdC5nZXRDcnlwdG9PclRocm93ID0gaHUgPSBvdC5nZXRMb2NhdGlvbiA9IG90LmdldExvY2F0aW9uT3JUaHJvdyA9ICRvID0gb3QuZ2V0TmF2aWdhdG9yID0gb3QuZ2V0TmF2aWdhdG9yT3JUaHJvdyA9IGlzID0gb3QuZ2V0RG9jdW1lbnQgPSBvdC5nZXREb2N1bWVudE9yVGhyb3cgPSBvdC5nZXRGcm9tV2luZG93T3JUaHJvdyA9IG90LmdldEZyb21XaW5kb3cgPSB2b2lkIDA7XG5mdW5jdGlvbiBKaShyKSB7XG4gIGxldCBlO1xuICByZXR1cm4gdHlwZW9mIHdpbmRvdyA8IFwidVwiICYmIHR5cGVvZiB3aW5kb3dbcl0gPCBcInVcIiAmJiAoZSA9IHdpbmRvd1tyXSksIGU7XG59XG5vdC5nZXRGcm9tV2luZG93ID0gSmk7XG5mdW5jdGlvbiB5bihyKSB7XG4gIGNvbnN0IGUgPSBKaShyKTtcbiAgaWYgKCFlKVxuICAgIHRocm93IG5ldyBFcnJvcihgJHtyfSBpcyBub3QgZGVmaW5lZCBpbiBXaW5kb3dgKTtcbiAgcmV0dXJuIGU7XG59XG5vdC5nZXRGcm9tV2luZG93T3JUaHJvdyA9IHluO1xuZnVuY3Rpb24gbHYoKSB7XG4gIHJldHVybiB5bihcImRvY3VtZW50XCIpO1xufVxub3QuZ2V0RG9jdW1lbnRPclRocm93ID0gbHY7XG5mdW5jdGlvbiBwdigpIHtcbiAgcmV0dXJuIEppKFwiZG9jdW1lbnRcIik7XG59XG52YXIgaXMgPSBvdC5nZXREb2N1bWVudCA9IHB2O1xuZnVuY3Rpb24gdnYoKSB7XG4gIHJldHVybiB5bihcIm5hdmlnYXRvclwiKTtcbn1cbm90LmdldE5hdmlnYXRvck9yVGhyb3cgPSB2djtcbmZ1bmN0aW9uIGJ2KCkge1xuICByZXR1cm4gSmkoXCJuYXZpZ2F0b3JcIik7XG59XG52YXIgJG8gPSBvdC5nZXROYXZpZ2F0b3IgPSBidjtcbmZ1bmN0aW9uIGd2KCkge1xuICByZXR1cm4geW4oXCJsb2NhdGlvblwiKTtcbn1cbm90LmdldExvY2F0aW9uT3JUaHJvdyA9IGd2O1xuZnVuY3Rpb24geXYoKSB7XG4gIHJldHVybiBKaShcImxvY2F0aW9uXCIpO1xufVxudmFyIGh1ID0gb3QuZ2V0TG9jYXRpb24gPSB5djtcbmZ1bmN0aW9uIG12KCkge1xuICByZXR1cm4geW4oXCJjcnlwdG9cIik7XG59XG5vdC5nZXRDcnlwdG9PclRocm93ID0gbXY7XG5mdW5jdGlvbiB3digpIHtcbiAgcmV0dXJuIEppKFwiY3J5cHRvXCIpO1xufVxub3QuZ2V0Q3J5cHRvID0gd3Y7XG5mdW5jdGlvbiBfdigpIHtcbiAgcmV0dXJuIHluKFwibG9jYWxTdG9yYWdlXCIpO1xufVxub3QuZ2V0TG9jYWxTdG9yYWdlT3JUaHJvdyA9IF92O1xuZnVuY3Rpb24geHYoKSB7XG4gIHJldHVybiBKaShcImxvY2FsU3RvcmFnZVwiKTtcbn1cbm90LmdldExvY2FsU3RvcmFnZSA9IHh2O1xudmFyIExvID0ge307XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoTG8sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbnZhciB1dSA9IExvLmdldFdpbmRvd01ldGFkYXRhID0gdm9pZCAwO1xuY29uc3QgWWYgPSBvdDtcbmZ1bmN0aW9uIEV2KCkge1xuICBsZXQgciwgZTtcbiAgdHJ5IHtcbiAgICByID0gWWYuZ2V0RG9jdW1lbnRPclRocm93KCksIGUgPSBZZi5nZXRMb2NhdGlvbk9yVGhyb3coKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgZnVuY3Rpb24gdCgpIHtcbiAgICBjb25zdCB3ID0gci5nZXRFbGVtZW50c0J5VGFnTmFtZShcImxpbmtcIiksIEEgPSBbXTtcbiAgICBmb3IgKGxldCBJID0gMDsgSSA8IHcubGVuZ3RoOyBJKyspIHtcbiAgICAgIGNvbnN0IEQgPSB3W0ldLCBOID0gRC5nZXRBdHRyaWJ1dGUoXCJyZWxcIik7XG4gICAgICBpZiAoTiAmJiBOLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImljb25cIikgPiAtMSkge1xuICAgICAgICBjb25zdCBrID0gRC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgICBpZiAoaylcbiAgICAgICAgICBpZiAoay50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJodHRwczpcIikgPT09IC0xICYmIGsudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiaHR0cDpcIikgPT09IC0xICYmIGsuaW5kZXhPZihcIi8vXCIpICE9PSAwKSB7XG4gICAgICAgICAgICBsZXQgaiA9IGUucHJvdG9jb2wgKyBcIi8vXCIgKyBlLmhvc3Q7XG4gICAgICAgICAgICBpZiAoay5pbmRleE9mKFwiL1wiKSA9PT0gMClcbiAgICAgICAgICAgICAgaiArPSBrO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnN0IFQgPSBlLnBhdGhuYW1lLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgICAgICAgVC5wb3AoKTtcbiAgICAgICAgICAgICAgY29uc3QgSyA9IFQuam9pbihcIi9cIik7XG4gICAgICAgICAgICAgIGogKz0gSyArIFwiL1wiICsgaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEEucHVzaChqKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGsuaW5kZXhPZihcIi8vXCIpID09PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBqID0gZS5wcm90b2NvbCArIGs7XG4gICAgICAgICAgICBBLnB1c2goaik7XG4gICAgICAgICAgfSBlbHNlXG4gICAgICAgICAgICBBLnB1c2goayk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBBO1xuICB9XG4gIGZ1bmN0aW9uIGkoLi4udykge1xuICAgIGNvbnN0IEEgPSByLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibWV0YVwiKTtcbiAgICBmb3IgKGxldCBJID0gMDsgSSA8IEEubGVuZ3RoOyBJKyspIHtcbiAgICAgIGNvbnN0IEQgPSBBW0ldLCBOID0gW1wiaXRlbXByb3BcIiwgXCJwcm9wZXJ0eVwiLCBcIm5hbWVcIl0ubWFwKChrKSA9PiBELmdldEF0dHJpYnV0ZShrKSkuZmlsdGVyKChrKSA9PiBrID8gdy5pbmNsdWRlcyhrKSA6ICExKTtcbiAgICAgIGlmIChOLmxlbmd0aCAmJiBOKSB7XG4gICAgICAgIGNvbnN0IGsgPSBELmdldEF0dHJpYnV0ZShcImNvbnRlbnRcIik7XG4gICAgICAgIGlmIChrKVxuICAgICAgICAgIHJldHVybiBrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuICBmdW5jdGlvbiBuKCkge1xuICAgIGxldCB3ID0gaShcIm5hbWVcIiwgXCJvZzpzaXRlX25hbWVcIiwgXCJvZzp0aXRsZVwiLCBcInR3aXR0ZXI6dGl0bGVcIik7XG4gICAgcmV0dXJuIHcgfHwgKHcgPSByLnRpdGxlKSwgdztcbiAgfVxuICBmdW5jdGlvbiBzKCkge1xuICAgIHJldHVybiBpKFwiZGVzY3JpcHRpb25cIiwgXCJvZzpkZXNjcmlwdGlvblwiLCBcInR3aXR0ZXI6ZGVzY3JpcHRpb25cIiwgXCJrZXl3b3Jkc1wiKTtcbiAgfVxuICBjb25zdCBvID0gbigpLCBmID0gcygpLCBoID0gZS5vcmlnaW4sIGQgPSB0KCk7XG4gIHJldHVybiB7XG4gICAgZGVzY3JpcHRpb246IGYsXG4gICAgdXJsOiBoLFxuICAgIGljb25zOiBkLFxuICAgIG5hbWU6IG9cbiAgfTtcbn1cbnV1ID0gTG8uZ2V0V2luZG93TWV0YWRhdGEgPSBFdjtcbnZhciBZbiA9IHt9LCBTdiA9IChyKSA9PiBlbmNvZGVVUklDb21wb25lbnQocikucmVwbGFjZSgvWyEnKCkqXS9nLCAoZSkgPT4gYCUke2UuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikudG9VcHBlckNhc2UoKX1gKSwgZHUgPSBcIiVbYS1mMC05XXsyfVwiLCBYZiA9IG5ldyBSZWdFeHAoXCIoXCIgKyBkdSArIFwiKXwoW14lXSs/KVwiLCBcImdpXCIpLCBaZiA9IG5ldyBSZWdFeHAoXCIoXCIgKyBkdSArIFwiKStcIiwgXCJnaVwiKTtcbmZ1bmN0aW9uIGdvKHIsIGUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gW2RlY29kZVVSSUNvbXBvbmVudChyLmpvaW4oXCJcIikpXTtcbiAgfSBjYXRjaCB7XG4gIH1cbiAgaWYgKHIubGVuZ3RoID09PSAxKVxuICAgIHJldHVybiByO1xuICBlID0gZSB8fCAxO1xuICB2YXIgdCA9IHIuc2xpY2UoMCwgZSksIGkgPSByLnNsaWNlKGUpO1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5jYWxsKFtdLCBnbyh0KSwgZ28oaSkpO1xufVxuZnVuY3Rpb24gTXYocikge1xuICB0cnkge1xuICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocik7XG4gIH0gY2F0Y2gge1xuICAgIGZvciAodmFyIGUgPSByLm1hdGNoKFhmKSB8fCBbXSwgdCA9IDE7IHQgPCBlLmxlbmd0aDsgdCsrKVxuICAgICAgciA9IGdvKGUsIHQpLmpvaW4oXCJcIiksIGUgPSByLm1hdGNoKFhmKSB8fCBbXTtcbiAgICByZXR1cm4gcjtcbiAgfVxufVxuZnVuY3Rpb24gSXYocikge1xuICBmb3IgKHZhciBlID0ge1xuICAgIFwiJUZFJUZGXCI6IFwi77+977+9XCIsXG4gICAgXCIlRkYlRkVcIjogXCLvv73vv71cIlxuICB9LCB0ID0gWmYuZXhlYyhyKTsgdDsgKSB7XG4gICAgdHJ5IHtcbiAgICAgIGVbdFswXV0gPSBkZWNvZGVVUklDb21wb25lbnQodFswXSk7XG4gICAgfSBjYXRjaCB7XG4gICAgICB2YXIgaSA9IE12KHRbMF0pO1xuICAgICAgaSAhPT0gdFswXSAmJiAoZVt0WzBdXSA9IGkpO1xuICAgIH1cbiAgICB0ID0gWmYuZXhlYyhyKTtcbiAgfVxuICBlW1wiJUMyXCJdID0gXCLvv71cIjtcbiAgZm9yICh2YXIgbiA9IE9iamVjdC5rZXlzKGUpLCBzID0gMDsgcyA8IG4ubGVuZ3RoOyBzKyspIHtcbiAgICB2YXIgbyA9IG5bc107XG4gICAgciA9IHIucmVwbGFjZShuZXcgUmVnRXhwKG8sIFwiZ1wiKSwgZVtvXSk7XG4gIH1cbiAgcmV0dXJuIHI7XG59XG52YXIgQXYgPSBmdW5jdGlvbihyKSB7XG4gIGlmICh0eXBlb2YgciAhPSBcInN0cmluZ1wiKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBgZW5jb2RlZFVSSWAgdG8gYmUgb2YgdHlwZSBgc3RyaW5nYCwgZ290IGBcIiArIHR5cGVvZiByICsgXCJgXCIpO1xuICB0cnkge1xuICAgIHJldHVybiByID0gci5yZXBsYWNlKC9cXCsvZywgXCIgXCIpLCBkZWNvZGVVUklDb21wb25lbnQocik7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBJdihyKTtcbiAgfVxufSwgRHYgPSAociwgZSkgPT4ge1xuICBpZiAoISh0eXBlb2YgciA9PSBcInN0cmluZ1wiICYmIHR5cGVvZiBlID09IFwic3RyaW5nXCIpKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCB0aGUgYXJndW1lbnRzIHRvIGJlIG9mIHR5cGUgYHN0cmluZ2BcIik7XG4gIGlmIChlID09PSBcIlwiKVxuICAgIHJldHVybiBbcl07XG4gIGNvbnN0IHQgPSByLmluZGV4T2YoZSk7XG4gIHJldHVybiB0ID09PSAtMSA/IFtyXSA6IFtcbiAgICByLnNsaWNlKDAsIHQpLFxuICAgIHIuc2xpY2UodCArIGUubGVuZ3RoKVxuICBdO1xufSwgUHYgPSBmdW5jdGlvbihyLCBlKSB7XG4gIGZvciAodmFyIHQgPSB7fSwgaSA9IE9iamVjdC5rZXlzKHIpLCBuID0gQXJyYXkuaXNBcnJheShlKSwgcyA9IDA7IHMgPCBpLmxlbmd0aDsgcysrKSB7XG4gICAgdmFyIG8gPSBpW3NdLCBmID0gcltvXTtcbiAgICAobiA/IGUuaW5kZXhPZihvKSAhPT0gLTEgOiBlKG8sIGYsIHIpKSAmJiAodFtvXSA9IGYpO1xuICB9XG4gIHJldHVybiB0O1xufTtcbihmdW5jdGlvbihyKSB7XG4gIGNvbnN0IGUgPSBTdiwgdCA9IEF2LCBpID0gRHYsIG4gPSBQdiwgcyA9IChUKSA9PiBUID09IG51bGwsIG8gPSBTeW1ib2woXCJlbmNvZGVGcmFnbWVudElkZW50aWZpZXJcIik7XG4gIGZ1bmN0aW9uIGYoVCkge1xuICAgIHN3aXRjaCAoVC5hcnJheUZvcm1hdCkge1xuICAgICAgY2FzZSBcImluZGV4XCI6XG4gICAgICAgIHJldHVybiAoSykgPT4gKCQsIHopID0+IHtcbiAgICAgICAgICBjb25zdCBCID0gJC5sZW5ndGg7XG4gICAgICAgICAgcmV0dXJuIHogPT09IHZvaWQgMCB8fCBULnNraXBOdWxsICYmIHogPT09IG51bGwgfHwgVC5za2lwRW1wdHlTdHJpbmcgJiYgeiA9PT0gXCJcIiA/ICQgOiB6ID09PSBudWxsID8gWy4uLiQsIFt2KEssIFQpLCBcIltcIiwgQiwgXCJdXCJdLmpvaW4oXCJcIildIDogW1xuICAgICAgICAgICAgLi4uJCxcbiAgICAgICAgICAgIFt2KEssIFQpLCBcIltcIiwgdihCLCBUKSwgXCJdPVwiLCB2KHosIFQpXS5qb2luKFwiXCIpXG4gICAgICAgICAgXTtcbiAgICAgICAgfTtcbiAgICAgIGNhc2UgXCJicmFja2V0XCI6XG4gICAgICAgIHJldHVybiAoSykgPT4gKCQsIHopID0+IHogPT09IHZvaWQgMCB8fCBULnNraXBOdWxsICYmIHogPT09IG51bGwgfHwgVC5za2lwRW1wdHlTdHJpbmcgJiYgeiA9PT0gXCJcIiA/ICQgOiB6ID09PSBudWxsID8gWy4uLiQsIFt2KEssIFQpLCBcIltdXCJdLmpvaW4oXCJcIildIDogWy4uLiQsIFt2KEssIFQpLCBcIltdPVwiLCB2KHosIFQpXS5qb2luKFwiXCIpXTtcbiAgICAgIGNhc2UgXCJjb2xvbi1saXN0LXNlcGFyYXRvclwiOlxuICAgICAgICByZXR1cm4gKEspID0+ICgkLCB6KSA9PiB6ID09PSB2b2lkIDAgfHwgVC5za2lwTnVsbCAmJiB6ID09PSBudWxsIHx8IFQuc2tpcEVtcHR5U3RyaW5nICYmIHogPT09IFwiXCIgPyAkIDogeiA9PT0gbnVsbCA/IFsuLi4kLCBbdihLLCBUKSwgXCI6bGlzdD1cIl0uam9pbihcIlwiKV0gOiBbLi4uJCwgW3YoSywgVCksIFwiOmxpc3Q9XCIsIHYoeiwgVCldLmpvaW4oXCJcIildO1xuICAgICAgY2FzZSBcImNvbW1hXCI6XG4gICAgICBjYXNlIFwic2VwYXJhdG9yXCI6XG4gICAgICBjYXNlIFwiYnJhY2tldC1zZXBhcmF0b3JcIjoge1xuICAgICAgICBjb25zdCBLID0gVC5hcnJheUZvcm1hdCA9PT0gXCJicmFja2V0LXNlcGFyYXRvclwiID8gXCJbXT1cIiA6IFwiPVwiO1xuICAgICAgICByZXR1cm4gKCQpID0+ICh6LCBCKSA9PiBCID09PSB2b2lkIDAgfHwgVC5za2lwTnVsbCAmJiBCID09PSBudWxsIHx8IFQuc2tpcEVtcHR5U3RyaW5nICYmIEIgPT09IFwiXCIgPyB6IDogKEIgPSBCID09PSBudWxsID8gXCJcIiA6IEIsIHoubGVuZ3RoID09PSAwID8gW1t2KCQsIFQpLCBLLCB2KEIsIFQpXS5qb2luKFwiXCIpXSA6IFtbeiwgdihCLCBUKV0uam9pbihULmFycmF5Rm9ybWF0U2VwYXJhdG9yKV0pO1xuICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIChLKSA9PiAoJCwgeikgPT4geiA9PT0gdm9pZCAwIHx8IFQuc2tpcE51bGwgJiYgeiA9PT0gbnVsbCB8fCBULnNraXBFbXB0eVN0cmluZyAmJiB6ID09PSBcIlwiID8gJCA6IHogPT09IG51bGwgPyBbLi4uJCwgdihLLCBUKV0gOiBbLi4uJCwgW3YoSywgVCksIFwiPVwiLCB2KHosIFQpXS5qb2luKFwiXCIpXTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gaChUKSB7XG4gICAgbGV0IEs7XG4gICAgc3dpdGNoIChULmFycmF5Rm9ybWF0KSB7XG4gICAgICBjYXNlIFwiaW5kZXhcIjpcbiAgICAgICAgcmV0dXJuICgkLCB6LCBCKSA9PiB7XG4gICAgICAgICAgaWYgKEsgPSAvXFxbKFxcZCopXFxdJC8uZXhlYygkKSwgJCA9ICQucmVwbGFjZSgvXFxbXFxkKlxcXSQvLCBcIlwiKSwgIUspIHtcbiAgICAgICAgICAgIEJbJF0gPSB6O1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBCWyRdID09PSB2b2lkIDAgJiYgKEJbJF0gPSB7fSksIEJbJF1bS1sxXV0gPSB6O1xuICAgICAgICB9O1xuICAgICAgY2FzZSBcImJyYWNrZXRcIjpcbiAgICAgICAgcmV0dXJuICgkLCB6LCBCKSA9PiB7XG4gICAgICAgICAgaWYgKEsgPSAvKFxcW1xcXSkkLy5leGVjKCQpLCAkID0gJC5yZXBsYWNlKC9cXFtcXF0kLywgXCJcIiksICFLKSB7XG4gICAgICAgICAgICBCWyRdID0gejtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKEJbJF0gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgQlskXSA9IFt6XTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgQlskXSA9IFtdLmNvbmNhdChCWyRdLCB6KTtcbiAgICAgICAgfTtcbiAgICAgIGNhc2UgXCJjb2xvbi1saXN0LXNlcGFyYXRvclwiOlxuICAgICAgICByZXR1cm4gKCQsIHosIEIpID0+IHtcbiAgICAgICAgICBpZiAoSyA9IC8oOmxpc3QpJC8uZXhlYygkKSwgJCA9ICQucmVwbGFjZSgvOmxpc3QkLywgXCJcIiksICFLKSB7XG4gICAgICAgICAgICBCWyRdID0gejtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKEJbJF0gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgQlskXSA9IFt6XTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgQlskXSA9IFtdLmNvbmNhdChCWyRdLCB6KTtcbiAgICAgICAgfTtcbiAgICAgIGNhc2UgXCJjb21tYVwiOlxuICAgICAgY2FzZSBcInNlcGFyYXRvclwiOlxuICAgICAgICByZXR1cm4gKCQsIHosIEIpID0+IHtcbiAgICAgICAgICBjb25zdCBfID0gdHlwZW9mIHogPT0gXCJzdHJpbmdcIiAmJiB6LmluY2x1ZGVzKFQuYXJyYXlGb3JtYXRTZXBhcmF0b3IpLCBSID0gdHlwZW9mIHogPT0gXCJzdHJpbmdcIiAmJiAhXyAmJiB3KHosIFQpLmluY2x1ZGVzKFQuYXJyYXlGb3JtYXRTZXBhcmF0b3IpO1xuICAgICAgICAgIHogPSBSID8gdyh6LCBUKSA6IHo7XG4gICAgICAgICAgY29uc3QgSiA9IF8gfHwgUiA/IHouc3BsaXQoVC5hcnJheUZvcm1hdFNlcGFyYXRvcikubWFwKChRKSA9PiB3KFEsIFQpKSA6IHogPT09IG51bGwgPyB6IDogdyh6LCBUKTtcbiAgICAgICAgICBCWyRdID0gSjtcbiAgICAgICAgfTtcbiAgICAgIGNhc2UgXCJicmFja2V0LXNlcGFyYXRvclwiOlxuICAgICAgICByZXR1cm4gKCQsIHosIEIpID0+IHtcbiAgICAgICAgICBjb25zdCBfID0gLyhcXFtcXF0pJC8udGVzdCgkKTtcbiAgICAgICAgICBpZiAoJCA9ICQucmVwbGFjZSgvXFxbXFxdJC8sIFwiXCIpLCAhXykge1xuICAgICAgICAgICAgQlskXSA9IHogJiYgdyh6LCBUKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgUiA9IHogPT09IG51bGwgPyBbXSA6IHouc3BsaXQoVC5hcnJheUZvcm1hdFNlcGFyYXRvcikubWFwKChKKSA9PiB3KEosIFQpKTtcbiAgICAgICAgICBpZiAoQlskXSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBCWyRdID0gUjtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgQlskXSA9IFtdLmNvbmNhdChCWyRdLCBSKTtcbiAgICAgICAgfTtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiAoJCwgeiwgQikgPT4ge1xuICAgICAgICAgIGlmIChCWyRdID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIEJbJF0gPSB6O1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBCWyRdID0gW10uY29uY2F0KEJbJF0sIHopO1xuICAgICAgICB9O1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBkKFQpIHtcbiAgICBpZiAodHlwZW9mIFQgIT0gXCJzdHJpbmdcIiB8fCBULmxlbmd0aCAhPT0gMSlcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhcnJheUZvcm1hdFNlcGFyYXRvciBtdXN0IGJlIHNpbmdsZSBjaGFyYWN0ZXIgc3RyaW5nXCIpO1xuICB9XG4gIGZ1bmN0aW9uIHYoVCwgSykge1xuICAgIHJldHVybiBLLmVuY29kZSA/IEsuc3RyaWN0ID8gZShUKSA6IGVuY29kZVVSSUNvbXBvbmVudChUKSA6IFQ7XG4gIH1cbiAgZnVuY3Rpb24gdyhULCBLKSB7XG4gICAgcmV0dXJuIEsuZGVjb2RlID8gdChUKSA6IFQ7XG4gIH1cbiAgZnVuY3Rpb24gQShUKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoVCkgPyBULnNvcnQoKSA6IHR5cGVvZiBUID09IFwib2JqZWN0XCIgPyBBKE9iamVjdC5rZXlzKFQpKS5zb3J0KChLLCAkKSA9PiBOdW1iZXIoSykgLSBOdW1iZXIoJCkpLm1hcCgoSykgPT4gVFtLXSkgOiBUO1xuICB9XG4gIGZ1bmN0aW9uIEkoVCkge1xuICAgIGNvbnN0IEsgPSBULmluZGV4T2YoXCIjXCIpO1xuICAgIHJldHVybiBLICE9PSAtMSAmJiAoVCA9IFQuc2xpY2UoMCwgSykpLCBUO1xuICB9XG4gIGZ1bmN0aW9uIEQoVCkge1xuICAgIGxldCBLID0gXCJcIjtcbiAgICBjb25zdCAkID0gVC5pbmRleE9mKFwiI1wiKTtcbiAgICByZXR1cm4gJCAhPT0gLTEgJiYgKEsgPSBULnNsaWNlKCQpKSwgSztcbiAgfVxuICBmdW5jdGlvbiBOKFQpIHtcbiAgICBUID0gSShUKTtcbiAgICBjb25zdCBLID0gVC5pbmRleE9mKFwiP1wiKTtcbiAgICByZXR1cm4gSyA9PT0gLTEgPyBcIlwiIDogVC5zbGljZShLICsgMSk7XG4gIH1cbiAgZnVuY3Rpb24gayhULCBLKSB7XG4gICAgcmV0dXJuIEsucGFyc2VOdW1iZXJzICYmICFOdW1iZXIuaXNOYU4oTnVtYmVyKFQpKSAmJiB0eXBlb2YgVCA9PSBcInN0cmluZ1wiICYmIFQudHJpbSgpICE9PSBcIlwiID8gVCA9IE51bWJlcihUKSA6IEsucGFyc2VCb29sZWFucyAmJiBUICE9PSBudWxsICYmIChULnRvTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiIHx8IFQudG9Mb3dlckNhc2UoKSA9PT0gXCJmYWxzZVwiKSAmJiAoVCA9IFQudG9Mb3dlckNhc2UoKSA9PT0gXCJ0cnVlXCIpLCBUO1xuICB9XG4gIGZ1bmN0aW9uIGooVCwgSykge1xuICAgIEsgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIGRlY29kZTogITAsXG4gICAgICBzb3J0OiAhMCxcbiAgICAgIGFycmF5Rm9ybWF0OiBcIm5vbmVcIixcbiAgICAgIGFycmF5Rm9ybWF0U2VwYXJhdG9yOiBcIixcIixcbiAgICAgIHBhcnNlTnVtYmVyczogITEsXG4gICAgICBwYXJzZUJvb2xlYW5zOiAhMVxuICAgIH0sIEspLCBkKEsuYXJyYXlGb3JtYXRTZXBhcmF0b3IpO1xuICAgIGNvbnN0ICQgPSBoKEspLCB6ID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgaWYgKHR5cGVvZiBUICE9IFwic3RyaW5nXCIgfHwgKFQgPSBULnRyaW0oKS5yZXBsYWNlKC9eWz8jJl0vLCBcIlwiKSwgIVQpKVxuICAgICAgcmV0dXJuIHo7XG4gICAgZm9yIChjb25zdCBCIG9mIFQuc3BsaXQoXCImXCIpKSB7XG4gICAgICBpZiAoQiA9PT0gXCJcIilcbiAgICAgICAgY29udGludWU7XG4gICAgICBsZXQgW18sIFJdID0gaShLLmRlY29kZSA/IEIucmVwbGFjZSgvXFwrL2csIFwiIFwiKSA6IEIsIFwiPVwiKTtcbiAgICAgIFIgPSBSID09PSB2b2lkIDAgPyBudWxsIDogW1wiY29tbWFcIiwgXCJzZXBhcmF0b3JcIiwgXCJicmFja2V0LXNlcGFyYXRvclwiXS5pbmNsdWRlcyhLLmFycmF5Rm9ybWF0KSA/IFIgOiB3KFIsIEspLCAkKHcoXywgSyksIFIsIHopO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IEIgb2YgT2JqZWN0LmtleXMoeikpIHtcbiAgICAgIGNvbnN0IF8gPSB6W0JdO1xuICAgICAgaWYgKHR5cGVvZiBfID09IFwib2JqZWN0XCIgJiYgXyAhPT0gbnVsbClcbiAgICAgICAgZm9yIChjb25zdCBSIG9mIE9iamVjdC5rZXlzKF8pKVxuICAgICAgICAgIF9bUl0gPSBrKF9bUl0sIEspO1xuICAgICAgZWxzZVxuICAgICAgICB6W0JdID0gayhfLCBLKTtcbiAgICB9XG4gICAgcmV0dXJuIEsuc29ydCA9PT0gITEgPyB6IDogKEsuc29ydCA9PT0gITAgPyBPYmplY3Qua2V5cyh6KS5zb3J0KCkgOiBPYmplY3Qua2V5cyh6KS5zb3J0KEsuc29ydCkpLnJlZHVjZSgoQiwgXykgPT4ge1xuICAgICAgY29uc3QgUiA9IHpbX107XG4gICAgICByZXR1cm4gUiAmJiB0eXBlb2YgUiA9PSBcIm9iamVjdFwiICYmICFBcnJheS5pc0FycmF5KFIpID8gQltfXSA9IEEoUikgOiBCW19dID0gUiwgQjtcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSk7XG4gIH1cbiAgci5leHRyYWN0ID0gTiwgci5wYXJzZSA9IGosIHIuc3RyaW5naWZ5ID0gKFQsIEspID0+IHtcbiAgICBpZiAoIVQpXG4gICAgICByZXR1cm4gXCJcIjtcbiAgICBLID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBlbmNvZGU6ICEwLFxuICAgICAgc3RyaWN0OiAhMCxcbiAgICAgIGFycmF5Rm9ybWF0OiBcIm5vbmVcIixcbiAgICAgIGFycmF5Rm9ybWF0U2VwYXJhdG9yOiBcIixcIlxuICAgIH0sIEspLCBkKEsuYXJyYXlGb3JtYXRTZXBhcmF0b3IpO1xuICAgIGNvbnN0ICQgPSAoUikgPT4gSy5za2lwTnVsbCAmJiBzKFRbUl0pIHx8IEsuc2tpcEVtcHR5U3RyaW5nICYmIFRbUl0gPT09IFwiXCIsIHogPSBmKEspLCBCID0ge307XG4gICAgZm9yIChjb25zdCBSIG9mIE9iamVjdC5rZXlzKFQpKVxuICAgICAgJChSKSB8fCAoQltSXSA9IFRbUl0pO1xuICAgIGNvbnN0IF8gPSBPYmplY3Qua2V5cyhCKTtcbiAgICByZXR1cm4gSy5zb3J0ICE9PSAhMSAmJiBfLnNvcnQoSy5zb3J0KSwgXy5tYXAoKFIpID0+IHtcbiAgICAgIGNvbnN0IEogPSBUW1JdO1xuICAgICAgcmV0dXJuIEogPT09IHZvaWQgMCA/IFwiXCIgOiBKID09PSBudWxsID8gdihSLCBLKSA6IEFycmF5LmlzQXJyYXkoSikgPyBKLmxlbmd0aCA9PT0gMCAmJiBLLmFycmF5Rm9ybWF0ID09PSBcImJyYWNrZXQtc2VwYXJhdG9yXCIgPyB2KFIsIEspICsgXCJbXVwiIDogSi5yZWR1Y2UoeihSKSwgW10pLmpvaW4oXCImXCIpIDogdihSLCBLKSArIFwiPVwiICsgdihKLCBLKTtcbiAgICB9KS5maWx0ZXIoKFIpID0+IFIubGVuZ3RoID4gMCkuam9pbihcIiZcIik7XG4gIH0sIHIucGFyc2VVcmwgPSAoVCwgSykgPT4ge1xuICAgIEsgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIGRlY29kZTogITBcbiAgICB9LCBLKTtcbiAgICBjb25zdCBbJCwgel0gPSBpKFQsIFwiI1wiKTtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihcbiAgICAgIHtcbiAgICAgICAgdXJsOiAkLnNwbGl0KFwiP1wiKVswXSB8fCBcIlwiLFxuICAgICAgICBxdWVyeTogaihOKFQpLCBLKVxuICAgICAgfSxcbiAgICAgIEsgJiYgSy5wYXJzZUZyYWdtZW50SWRlbnRpZmllciAmJiB6ID8geyBmcmFnbWVudElkZW50aWZpZXI6IHcoeiwgSykgfSA6IHt9XG4gICAgKTtcbiAgfSwgci5zdHJpbmdpZnlVcmwgPSAoVCwgSykgPT4ge1xuICAgIEsgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIGVuY29kZTogITAsXG4gICAgICBzdHJpY3Q6ICEwLFxuICAgICAgW29dOiAhMFxuICAgIH0sIEspO1xuICAgIGNvbnN0ICQgPSBJKFQudXJsKS5zcGxpdChcIj9cIilbMF0gfHwgXCJcIiwgeiA9IHIuZXh0cmFjdChULnVybCksIEIgPSByLnBhcnNlKHosIHsgc29ydDogITEgfSksIF8gPSBPYmplY3QuYXNzaWduKEIsIFQucXVlcnkpO1xuICAgIGxldCBSID0gci5zdHJpbmdpZnkoXywgSyk7XG4gICAgUiAmJiAoUiA9IGA/JHtSfWApO1xuICAgIGxldCBKID0gRChULnVybCk7XG4gICAgcmV0dXJuIFQuZnJhZ21lbnRJZGVudGlmaWVyICYmIChKID0gYCMke0tbb10gPyB2KFQuZnJhZ21lbnRJZGVudGlmaWVyLCBLKSA6IFQuZnJhZ21lbnRJZGVudGlmaWVyfWApLCBgJHskfSR7Un0ke0p9YDtcbiAgfSwgci5waWNrID0gKFQsIEssICQpID0+IHtcbiAgICAkID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICBwYXJzZUZyYWdtZW50SWRlbnRpZmllcjogITAsXG4gICAgICBbb106ICExXG4gICAgfSwgJCk7XG4gICAgY29uc3QgeyB1cmw6IHosIHF1ZXJ5OiBCLCBmcmFnbWVudElkZW50aWZpZXI6IF8gfSA9IHIucGFyc2VVcmwoVCwgJCk7XG4gICAgcmV0dXJuIHIuc3RyaW5naWZ5VXJsKHtcbiAgICAgIHVybDogeixcbiAgICAgIHF1ZXJ5OiBuKEIsIEspLFxuICAgICAgZnJhZ21lbnRJZGVudGlmaWVyOiBfXG4gICAgfSwgJCk7XG4gIH0sIHIuZXhjbHVkZSA9IChULCBLLCAkKSA9PiB7XG4gICAgY29uc3QgeiA9IEFycmF5LmlzQXJyYXkoSykgPyAoQikgPT4gIUsuaW5jbHVkZXMoQikgOiAoQiwgXykgPT4gIUsoQiwgXyk7XG4gICAgcmV0dXJuIHIucGljayhULCB6LCAkKTtcbiAgfTtcbn0pKFluKTtcbnZhciBsdSA9IHsgZXhwb3J0czoge30gfTtcbi8qKlxuICogW2pzLXNoYTNde0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9lbW4xNzgvanMtc2hhM31cbiAqXG4gKiBAdmVyc2lvbiAwLjguMFxuICogQGF1dGhvciBDaGVuLCBZaS1DeXVhbiBbZW1uMTc4QGdtYWlsLmNvbV1cbiAqIEBjb3B5cmlnaHQgQ2hlbiwgWWktQ3l1YW4gMjAxNS0yMDE4XG4gKiBAbGljZW5zZSBNSVRcbiAqL1xuKGZ1bmN0aW9uKHIpIHtcbiAgKGZ1bmN0aW9uKCkge1xuICAgIHZhciBlID0gXCJpbnB1dCBpcyBpbnZhbGlkIHR5cGVcIiwgdCA9IFwiZmluYWxpemUgYWxyZWFkeSBjYWxsZWRcIiwgaSA9IHR5cGVvZiB3aW5kb3cgPT0gXCJvYmplY3RcIiwgbiA9IGkgPyB3aW5kb3cgOiB7fTtcbiAgICBuLkpTX1NIQTNfTk9fV0lORE9XICYmIChpID0gITEpO1xuICAgIHZhciBzID0gIWkgJiYgdHlwZW9mIHNlbGYgPT0gXCJvYmplY3RcIiwgbyA9ICFuLkpTX1NIQTNfTk9fTk9ERV9KUyAmJiB0eXBlb2YgcHJvY2VzcyA9PSBcIm9iamVjdFwiICYmIHByb2Nlc3MudmVyc2lvbnMgJiYgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlO1xuICAgIG8gPyBuID0gdHIgOiBzICYmIChuID0gc2VsZik7XG4gICAgdmFyIGYgPSAhbi5KU19TSEEzX05PX0NPTU1PTl9KUyAmJiAhMCAmJiByLmV4cG9ydHMsIGggPSAhbi5KU19TSEEzX05PX0FSUkFZX0JVRkZFUiAmJiB0eXBlb2YgQXJyYXlCdWZmZXIgPCBcInVcIiwgZCA9IFwiMDEyMzQ1Njc4OWFiY2RlZlwiLnNwbGl0KFwiXCIpLCB2ID0gWzMxLCA3OTM2LCAyMDMxNjE2LCA1MjAwOTM2OTZdLCB3ID0gWzQsIDEwMjQsIDI2MjE0NCwgNjcxMDg4NjRdLCBBID0gWzEsIDI1NiwgNjU1MzYsIDE2Nzc3MjE2XSwgSSA9IFs2LCAxNTM2LCAzOTMyMTYsIDEwMDY2MzI5Nl0sIEQgPSBbMCwgOCwgMTYsIDI0XSwgTiA9IFtcbiAgICAgIDEsXG4gICAgICAwLFxuICAgICAgMzI4OTgsXG4gICAgICAwLFxuICAgICAgMzI5MDYsXG4gICAgICAyMTQ3NDgzNjQ4LFxuICAgICAgMjE0NzUxNjQxNixcbiAgICAgIDIxNDc0ODM2NDgsXG4gICAgICAzMjkwNyxcbiAgICAgIDAsXG4gICAgICAyMTQ3NDgzNjQ5LFxuICAgICAgMCxcbiAgICAgIDIxNDc1MTY1NDUsXG4gICAgICAyMTQ3NDgzNjQ4LFxuICAgICAgMzI3NzcsXG4gICAgICAyMTQ3NDgzNjQ4LFxuICAgICAgMTM4LFxuICAgICAgMCxcbiAgICAgIDEzNixcbiAgICAgIDAsXG4gICAgICAyMTQ3NTE2NDI1LFxuICAgICAgMCxcbiAgICAgIDIxNDc0ODM2NTgsXG4gICAgICAwLFxuICAgICAgMjE0NzUxNjU1NSxcbiAgICAgIDAsXG4gICAgICAxMzksXG4gICAgICAyMTQ3NDgzNjQ4LFxuICAgICAgMzI5MDUsXG4gICAgICAyMTQ3NDgzNjQ4LFxuICAgICAgMzI3NzEsXG4gICAgICAyMTQ3NDgzNjQ4LFxuICAgICAgMzI3NzAsXG4gICAgICAyMTQ3NDgzNjQ4LFxuICAgICAgMTI4LFxuICAgICAgMjE0NzQ4MzY0OCxcbiAgICAgIDMyNzc4LFxuICAgICAgMCxcbiAgICAgIDIxNDc0ODM2NTgsXG4gICAgICAyMTQ3NDgzNjQ4LFxuICAgICAgMjE0NzUxNjU0NSxcbiAgICAgIDIxNDc0ODM2NDgsXG4gICAgICAzMjg5NixcbiAgICAgIDIxNDc0ODM2NDgsXG4gICAgICAyMTQ3NDgzNjQ5LFxuICAgICAgMCxcbiAgICAgIDIxNDc1MTY0MjQsXG4gICAgICAyMTQ3NDgzNjQ4XG4gICAgXSwgayA9IFsyMjQsIDI1NiwgMzg0LCA1MTJdLCBqID0gWzEyOCwgMjU2XSwgVCA9IFtcImhleFwiLCBcImJ1ZmZlclwiLCBcImFycmF5QnVmZmVyXCIsIFwiYXJyYXlcIiwgXCJkaWdlc3RcIl0sIEsgPSB7XG4gICAgICAxMjg6IDE2OCxcbiAgICAgIDI1NjogMTM2XG4gICAgfTtcbiAgICAobi5KU19TSEEzX05PX05PREVfSlMgfHwgIUFycmF5LmlzQXJyYXkpICYmIChBcnJheS5pc0FycmF5ID0gZnVuY3Rpb24oTSkge1xuICAgICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChNKSA9PT0gXCJbb2JqZWN0IEFycmF5XVwiO1xuICAgIH0pLCBoICYmIChuLkpTX1NIQTNfTk9fQVJSQVlfQlVGRkVSX0lTX1ZJRVcgfHwgIUFycmF5QnVmZmVyLmlzVmlldykgJiYgKEFycmF5QnVmZmVyLmlzVmlldyA9IGZ1bmN0aW9uKE0pIHtcbiAgICAgIHJldHVybiB0eXBlb2YgTSA9PSBcIm9iamVjdFwiICYmIE0uYnVmZmVyICYmIE0uYnVmZmVyLmNvbnN0cnVjdG9yID09PSBBcnJheUJ1ZmZlcjtcbiAgICB9KTtcbiAgICBmb3IgKHZhciAkID0gZnVuY3Rpb24oTSwgSCwgQykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBnKE0sIEgsIE0pLnVwZGF0ZShxKVtDXSgpO1xuICAgICAgfTtcbiAgICB9LCB6ID0gZnVuY3Rpb24oTSwgSCwgQykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHEsIEwpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBnKE0sIEgsIEwpLnVwZGF0ZShxKVtDXSgpO1xuICAgICAgfTtcbiAgICB9LCBCID0gZnVuY3Rpb24oTSwgSCwgQykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHEsIEwsIHksIEYpIHtcbiAgICAgICAgcmV0dXJuIGFbXCJjc2hha2VcIiArIE1dLnVwZGF0ZShxLCBMLCB5LCBGKVtDXSgpO1xuICAgICAgfTtcbiAgICB9LCBfID0gZnVuY3Rpb24oTSwgSCwgQykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHEsIEwsIHksIEYpIHtcbiAgICAgICAgcmV0dXJuIGFbXCJrbWFjXCIgKyBNXS51cGRhdGUocSwgTCwgeSwgRilbQ10oKTtcbiAgICAgIH07XG4gICAgfSwgUiA9IGZ1bmN0aW9uKE0sIEgsIEMsIHEpIHtcbiAgICAgIGZvciAodmFyIEwgPSAwOyBMIDwgVC5sZW5ndGg7ICsrTCkge1xuICAgICAgICB2YXIgeSA9IFRbTF07XG4gICAgICAgIE1beV0gPSBIKEMsIHEsIHkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIE07XG4gICAgfSwgSiA9IGZ1bmN0aW9uKE0sIEgpIHtcbiAgICAgIHZhciBDID0gJChNLCBILCBcImhleFwiKTtcbiAgICAgIHJldHVybiBDLmNyZWF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gbmV3IGcoTSwgSCwgTSk7XG4gICAgICB9LCBDLnVwZGF0ZSA9IGZ1bmN0aW9uKHEpIHtcbiAgICAgICAgcmV0dXJuIEMuY3JlYXRlKCkudXBkYXRlKHEpO1xuICAgICAgfSwgUihDLCAkLCBNLCBIKTtcbiAgICB9LCBRID0gZnVuY3Rpb24oTSwgSCkge1xuICAgICAgdmFyIEMgPSB6KE0sIEgsIFwiaGV4XCIpO1xuICAgICAgcmV0dXJuIEMuY3JlYXRlID0gZnVuY3Rpb24ocSkge1xuICAgICAgICByZXR1cm4gbmV3IGcoTSwgSCwgcSk7XG4gICAgICB9LCBDLnVwZGF0ZSA9IGZ1bmN0aW9uKHEsIEwpIHtcbiAgICAgICAgcmV0dXJuIEMuY3JlYXRlKEwpLnVwZGF0ZShxKTtcbiAgICAgIH0sIFIoQywgeiwgTSwgSCk7XG4gICAgfSwgTyA9IGZ1bmN0aW9uKE0sIEgpIHtcbiAgICAgIHZhciBDID0gS1tNXSwgcSA9IEIoTSwgSCwgXCJoZXhcIik7XG4gICAgICByZXR1cm4gcS5jcmVhdGUgPSBmdW5jdGlvbihMLCB5LCBGKSB7XG4gICAgICAgIHJldHVybiAheSAmJiAhRiA/IGFbXCJzaGFrZVwiICsgTV0uY3JlYXRlKEwpIDogbmV3IGcoTSwgSCwgTCkuYnl0ZXBhZChbeSwgRl0sIEMpO1xuICAgICAgfSwgcS51cGRhdGUgPSBmdW5jdGlvbihMLCB5LCBGLCBXKSB7XG4gICAgICAgIHJldHVybiBxLmNyZWF0ZSh5LCBGLCBXKS51cGRhdGUoTCk7XG4gICAgICB9LCBSKHEsIEIsIE0sIEgpO1xuICAgIH0sIHAgPSBmdW5jdGlvbihNLCBIKSB7XG4gICAgICB2YXIgQyA9IEtbTV0sIHEgPSBfKE0sIEgsIFwiaGV4XCIpO1xuICAgICAgcmV0dXJuIHEuY3JlYXRlID0gZnVuY3Rpb24oTCwgeSwgRikge1xuICAgICAgICByZXR1cm4gbmV3IFAoTSwgSCwgeSkuYnl0ZXBhZChbXCJLTUFDXCIsIEZdLCBDKS5ieXRlcGFkKFtMXSwgQyk7XG4gICAgICB9LCBxLnVwZGF0ZSA9IGZ1bmN0aW9uKEwsIHksIEYsIFcpIHtcbiAgICAgICAgcmV0dXJuIHEuY3JlYXRlKEwsIEYsIFcpLnVwZGF0ZSh5KTtcbiAgICAgIH0sIFIocSwgXywgTSwgSCk7XG4gICAgfSwgbCA9IFtcbiAgICAgIHsgbmFtZTogXCJrZWNjYWtcIiwgcGFkZGluZzogQSwgYml0czogaywgY3JlYXRlTWV0aG9kOiBKIH0sXG4gICAgICB7IG5hbWU6IFwic2hhM1wiLCBwYWRkaW5nOiBJLCBiaXRzOiBrLCBjcmVhdGVNZXRob2Q6IEogfSxcbiAgICAgIHsgbmFtZTogXCJzaGFrZVwiLCBwYWRkaW5nOiB2LCBiaXRzOiBqLCBjcmVhdGVNZXRob2Q6IFEgfSxcbiAgICAgIHsgbmFtZTogXCJjc2hha2VcIiwgcGFkZGluZzogdywgYml0czogaiwgY3JlYXRlTWV0aG9kOiBPIH0sXG4gICAgICB7IG5hbWU6IFwia21hY1wiLCBwYWRkaW5nOiB3LCBiaXRzOiBqLCBjcmVhdGVNZXRob2Q6IHAgfVxuICAgIF0sIGEgPSB7fSwgYyA9IFtdLCBiID0gMDsgYiA8IGwubGVuZ3RoOyArK2IpXG4gICAgICBmb3IgKHZhciBFID0gbFtiXSwgUyA9IEUuYml0cywgeCA9IDA7IHggPCBTLmxlbmd0aDsgKyt4KSB7XG4gICAgICAgIHZhciB1ID0gRS5uYW1lICsgXCJfXCIgKyBTW3hdO1xuICAgICAgICBpZiAoYy5wdXNoKHUpLCBhW3VdID0gRS5jcmVhdGVNZXRob2QoU1t4XSwgRS5wYWRkaW5nKSwgRS5uYW1lICE9PSBcInNoYTNcIikge1xuICAgICAgICAgIHZhciBtID0gRS5uYW1lICsgU1t4XTtcbiAgICAgICAgICBjLnB1c2gobSksIGFbbV0gPSBhW3VdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgZnVuY3Rpb24gZyhNLCBILCBDKSB7XG4gICAgICB0aGlzLmJsb2NrcyA9IFtdLCB0aGlzLnMgPSBbXSwgdGhpcy5wYWRkaW5nID0gSCwgdGhpcy5vdXRwdXRCaXRzID0gQywgdGhpcy5yZXNldCA9ICEwLCB0aGlzLmZpbmFsaXplZCA9ICExLCB0aGlzLmJsb2NrID0gMCwgdGhpcy5zdGFydCA9IDAsIHRoaXMuYmxvY2tDb3VudCA9IDE2MDAgLSAoTSA8PCAxKSA+PiA1LCB0aGlzLmJ5dGVDb3VudCA9IHRoaXMuYmxvY2tDb3VudCA8PCAyLCB0aGlzLm91dHB1dEJsb2NrcyA9IEMgPj4gNSwgdGhpcy5leHRyYUJ5dGVzID0gKEMgJiAzMSkgPj4gMztcbiAgICAgIGZvciAodmFyIHEgPSAwOyBxIDwgNTA7ICsrcSlcbiAgICAgICAgdGhpcy5zW3FdID0gMDtcbiAgICB9XG4gICAgZy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oTSkge1xuICAgICAgaWYgKHRoaXMuZmluYWxpemVkKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IodCk7XG4gICAgICB2YXIgSCwgQyA9IHR5cGVvZiBNO1xuICAgICAgaWYgKEMgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaWYgKEMgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICBpZiAoTSA9PT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlKTtcbiAgICAgICAgICBpZiAoaCAmJiBNLmNvbnN0cnVjdG9yID09PSBBcnJheUJ1ZmZlcilcbiAgICAgICAgICAgIE0gPSBuZXcgVWludDhBcnJheShNKTtcbiAgICAgICAgICBlbHNlIGlmICghQXJyYXkuaXNBcnJheShNKSAmJiAoIWggfHwgIUFycmF5QnVmZmVyLmlzVmlldyhNKSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZSk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlKTtcbiAgICAgICAgSCA9ICEwO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgcSA9IHRoaXMuYmxvY2tzLCBMID0gdGhpcy5ieXRlQ291bnQsIHkgPSBNLmxlbmd0aCwgRiA9IHRoaXMuYmxvY2tDb3VudCwgVyA9IDAsIFkgPSB0aGlzLnMsIFgsIGVlOyBXIDwgeTsgKSB7XG4gICAgICAgIGlmICh0aGlzLnJlc2V0KVxuICAgICAgICAgIGZvciAodGhpcy5yZXNldCA9ICExLCBxWzBdID0gdGhpcy5ibG9jaywgWCA9IDE7IFggPCBGICsgMTsgKytYKVxuICAgICAgICAgICAgcVtYXSA9IDA7XG4gICAgICAgIGlmIChIKVxuICAgICAgICAgIGZvciAoWCA9IHRoaXMuc3RhcnQ7IFcgPCB5ICYmIFggPCBMOyArK1cpXG4gICAgICAgICAgICBxW1ggPj4gMl0gfD0gTVtXXSA8PCBEW1grKyAmIDNdO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgZm9yIChYID0gdGhpcy5zdGFydDsgVyA8IHkgJiYgWCA8IEw7ICsrVylcbiAgICAgICAgICAgIGVlID0gTS5jaGFyQ29kZUF0KFcpLCBlZSA8IDEyOCA/IHFbWCA+PiAyXSB8PSBlZSA8PCBEW1grKyAmIDNdIDogZWUgPCAyMDQ4ID8gKHFbWCA+PiAyXSB8PSAoMTkyIHwgZWUgPj4gNikgPDwgRFtYKysgJiAzXSwgcVtYID4+IDJdIHw9ICgxMjggfCBlZSAmIDYzKSA8PCBEW1grKyAmIDNdKSA6IGVlIDwgNTUyOTYgfHwgZWUgPj0gNTczNDQgPyAocVtYID4+IDJdIHw9ICgyMjQgfCBlZSA+PiAxMikgPDwgRFtYKysgJiAzXSwgcVtYID4+IDJdIHw9ICgxMjggfCBlZSA+PiA2ICYgNjMpIDw8IERbWCsrICYgM10sIHFbWCA+PiAyXSB8PSAoMTI4IHwgZWUgJiA2MykgPDwgRFtYKysgJiAzXSkgOiAoZWUgPSA2NTUzNiArICgoZWUgJiAxMDIzKSA8PCAxMCB8IE0uY2hhckNvZGVBdCgrK1cpICYgMTAyMyksIHFbWCA+PiAyXSB8PSAoMjQwIHwgZWUgPj4gMTgpIDw8IERbWCsrICYgM10sIHFbWCA+PiAyXSB8PSAoMTI4IHwgZWUgPj4gMTIgJiA2MykgPDwgRFtYKysgJiAzXSwgcVtYID4+IDJdIHw9ICgxMjggfCBlZSA+PiA2ICYgNjMpIDw8IERbWCsrICYgM10sIHFbWCA+PiAyXSB8PSAoMTI4IHwgZWUgJiA2MykgPDwgRFtYKysgJiAzXSk7XG4gICAgICAgIGlmICh0aGlzLmxhc3RCeXRlSW5kZXggPSBYLCBYID49IEwpIHtcbiAgICAgICAgICBmb3IgKHRoaXMuc3RhcnQgPSBYIC0gTCwgdGhpcy5ibG9jayA9IHFbRl0sIFggPSAwOyBYIDwgRjsgKytYKVxuICAgICAgICAgICAgWVtYXSBePSBxW1hdO1xuICAgICAgICAgIEcoWSksIHRoaXMucmVzZXQgPSAhMDtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgdGhpcy5zdGFydCA9IFg7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LCBnLnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbihNLCBIKSB7XG4gICAgICB2YXIgQyA9IE0gJiAyNTUsIHEgPSAxLCBMID0gW0NdO1xuICAgICAgZm9yIChNID0gTSA+PiA4LCBDID0gTSAmIDI1NTsgQyA+IDA7IClcbiAgICAgICAgTC51bnNoaWZ0KEMpLCBNID0gTSA+PiA4LCBDID0gTSAmIDI1NSwgKytxO1xuICAgICAgcmV0dXJuIEggPyBMLnB1c2gocSkgOiBMLnVuc2hpZnQocSksIHRoaXMudXBkYXRlKEwpLCBMLmxlbmd0aDtcbiAgICB9LCBnLnByb3RvdHlwZS5lbmNvZGVTdHJpbmcgPSBmdW5jdGlvbihNKSB7XG4gICAgICB2YXIgSCwgQyA9IHR5cGVvZiBNO1xuICAgICAgaWYgKEMgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaWYgKEMgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICBpZiAoTSA9PT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlKTtcbiAgICAgICAgICBpZiAoaCAmJiBNLmNvbnN0cnVjdG9yID09PSBBcnJheUJ1ZmZlcilcbiAgICAgICAgICAgIE0gPSBuZXcgVWludDhBcnJheShNKTtcbiAgICAgICAgICBlbHNlIGlmICghQXJyYXkuaXNBcnJheShNKSAmJiAoIWggfHwgIUFycmF5QnVmZmVyLmlzVmlldyhNKSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZSk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlKTtcbiAgICAgICAgSCA9ICEwO1xuICAgICAgfVxuICAgICAgdmFyIHEgPSAwLCBMID0gTS5sZW5ndGg7XG4gICAgICBpZiAoSClcbiAgICAgICAgcSA9IEw7XG4gICAgICBlbHNlXG4gICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgTS5sZW5ndGg7ICsreSkge1xuICAgICAgICAgIHZhciBGID0gTS5jaGFyQ29kZUF0KHkpO1xuICAgICAgICAgIEYgPCAxMjggPyBxICs9IDEgOiBGIDwgMjA0OCA/IHEgKz0gMiA6IEYgPCA1NTI5NiB8fCBGID49IDU3MzQ0ID8gcSArPSAzIDogKEYgPSA2NTUzNiArICgoRiAmIDEwMjMpIDw8IDEwIHwgTS5jaGFyQ29kZUF0KCsreSkgJiAxMDIzKSwgcSArPSA0KTtcbiAgICAgICAgfVxuICAgICAgcmV0dXJuIHEgKz0gdGhpcy5lbmNvZGUocSAqIDgpLCB0aGlzLnVwZGF0ZShNKSwgcTtcbiAgICB9LCBnLnByb3RvdHlwZS5ieXRlcGFkID0gZnVuY3Rpb24oTSwgSCkge1xuICAgICAgZm9yICh2YXIgQyA9IHRoaXMuZW5jb2RlKEgpLCBxID0gMDsgcSA8IE0ubGVuZ3RoOyArK3EpXG4gICAgICAgIEMgKz0gdGhpcy5lbmNvZGVTdHJpbmcoTVtxXSk7XG4gICAgICB2YXIgTCA9IEggLSBDICUgSCwgeSA9IFtdO1xuICAgICAgcmV0dXJuIHkubGVuZ3RoID0gTCwgdGhpcy51cGRhdGUoeSksIHRoaXM7XG4gICAgfSwgZy5wcm90b3R5cGUuZmluYWxpemUgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICghdGhpcy5maW5hbGl6ZWQpIHtcbiAgICAgICAgdGhpcy5maW5hbGl6ZWQgPSAhMDtcbiAgICAgICAgdmFyIE0gPSB0aGlzLmJsb2NrcywgSCA9IHRoaXMubGFzdEJ5dGVJbmRleCwgQyA9IHRoaXMuYmxvY2tDb3VudCwgcSA9IHRoaXMucztcbiAgICAgICAgaWYgKE1bSCA+PiAyXSB8PSB0aGlzLnBhZGRpbmdbSCAmIDNdLCB0aGlzLmxhc3RCeXRlSW5kZXggPT09IHRoaXMuYnl0ZUNvdW50KVxuICAgICAgICAgIGZvciAoTVswXSA9IE1bQ10sIEggPSAxOyBIIDwgQyArIDE7ICsrSClcbiAgICAgICAgICAgIE1bSF0gPSAwO1xuICAgICAgICBmb3IgKE1bQyAtIDFdIHw9IDIxNDc0ODM2NDgsIEggPSAwOyBIIDwgQzsgKytIKVxuICAgICAgICAgIHFbSF0gXj0gTVtIXTtcbiAgICAgICAgRyhxKTtcbiAgICAgIH1cbiAgICB9LCBnLnByb3RvdHlwZS50b1N0cmluZyA9IGcucHJvdG90eXBlLmhleCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5maW5hbGl6ZSgpO1xuICAgICAgZm9yICh2YXIgTSA9IHRoaXMuYmxvY2tDb3VudCwgSCA9IHRoaXMucywgQyA9IHRoaXMub3V0cHV0QmxvY2tzLCBxID0gdGhpcy5leHRyYUJ5dGVzLCBMID0gMCwgeSA9IDAsIEYgPSBcIlwiLCBXOyB5IDwgQzsgKSB7XG4gICAgICAgIGZvciAoTCA9IDA7IEwgPCBNICYmIHkgPCBDOyArK0wsICsreSlcbiAgICAgICAgICBXID0gSFtMXSwgRiArPSBkW1cgPj4gNCAmIDE1XSArIGRbVyAmIDE1XSArIGRbVyA+PiAxMiAmIDE1XSArIGRbVyA+PiA4ICYgMTVdICsgZFtXID4+IDIwICYgMTVdICsgZFtXID4+IDE2ICYgMTVdICsgZFtXID4+IDI4ICYgMTVdICsgZFtXID4+IDI0ICYgMTVdO1xuICAgICAgICB5ICUgTSA9PT0gMCAmJiAoRyhIKSwgTCA9IDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHEgJiYgKFcgPSBIW0xdLCBGICs9IGRbVyA+PiA0ICYgMTVdICsgZFtXICYgMTVdLCBxID4gMSAmJiAoRiArPSBkW1cgPj4gMTIgJiAxNV0gKyBkW1cgPj4gOCAmIDE1XSksIHEgPiAyICYmIChGICs9IGRbVyA+PiAyMCAmIDE1XSArIGRbVyA+PiAxNiAmIDE1XSkpLCBGO1xuICAgIH0sIGcucHJvdG90eXBlLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmZpbmFsaXplKCk7XG4gICAgICB2YXIgTSA9IHRoaXMuYmxvY2tDb3VudCwgSCA9IHRoaXMucywgQyA9IHRoaXMub3V0cHV0QmxvY2tzLCBxID0gdGhpcy5leHRyYUJ5dGVzLCBMID0gMCwgeSA9IDAsIEYgPSB0aGlzLm91dHB1dEJpdHMgPj4gMywgVztcbiAgICAgIHEgPyBXID0gbmV3IEFycmF5QnVmZmVyKEMgKyAxIDw8IDIpIDogVyA9IG5ldyBBcnJheUJ1ZmZlcihGKTtcbiAgICAgIGZvciAodmFyIFkgPSBuZXcgVWludDMyQXJyYXkoVyk7IHkgPCBDOyApIHtcbiAgICAgICAgZm9yIChMID0gMDsgTCA8IE0gJiYgeSA8IEM7ICsrTCwgKyt5KVxuICAgICAgICAgIFlbeV0gPSBIW0xdO1xuICAgICAgICB5ICUgTSA9PT0gMCAmJiBHKEgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHEgJiYgKFlbTF0gPSBIW0xdLCBXID0gVy5zbGljZSgwLCBGKSksIFc7XG4gICAgfSwgZy5wcm90b3R5cGUuYnVmZmVyID0gZy5wcm90b3R5cGUuYXJyYXlCdWZmZXIsIGcucHJvdG90eXBlLmRpZ2VzdCA9IGcucHJvdG90eXBlLmFycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmZpbmFsaXplKCk7XG4gICAgICBmb3IgKHZhciBNID0gdGhpcy5ibG9ja0NvdW50LCBIID0gdGhpcy5zLCBDID0gdGhpcy5vdXRwdXRCbG9ja3MsIHEgPSB0aGlzLmV4dHJhQnl0ZXMsIEwgPSAwLCB5ID0gMCwgRiA9IFtdLCBXLCBZOyB5IDwgQzsgKSB7XG4gICAgICAgIGZvciAoTCA9IDA7IEwgPCBNICYmIHkgPCBDOyArK0wsICsreSlcbiAgICAgICAgICBXID0geSA8PCAyLCBZID0gSFtMXSwgRltXXSA9IFkgJiAyNTUsIEZbVyArIDFdID0gWSA+PiA4ICYgMjU1LCBGW1cgKyAyXSA9IFkgPj4gMTYgJiAyNTUsIEZbVyArIDNdID0gWSA+PiAyNCAmIDI1NTtcbiAgICAgICAgeSAlIE0gPT09IDAgJiYgRyhIKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBxICYmIChXID0geSA8PCAyLCBZID0gSFtMXSwgRltXXSA9IFkgJiAyNTUsIHEgPiAxICYmIChGW1cgKyAxXSA9IFkgPj4gOCAmIDI1NSksIHEgPiAyICYmIChGW1cgKyAyXSA9IFkgPj4gMTYgJiAyNTUpKSwgRjtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIFAoTSwgSCwgQykge1xuICAgICAgZy5jYWxsKHRoaXMsIE0sIEgsIEMpO1xuICAgIH1cbiAgICBQLnByb3RvdHlwZSA9IG5ldyBnKCksIFAucHJvdG90eXBlLmZpbmFsaXplID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5lbmNvZGUodGhpcy5vdXRwdXRCaXRzLCAhMCksIGcucHJvdG90eXBlLmZpbmFsaXplLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICB2YXIgRyA9IGZ1bmN0aW9uKE0pIHtcbiAgICAgIHZhciBILCBDLCBxLCBMLCB5LCBGLCBXLCBZLCBYLCBlZSwgd2UsIE1lLCBoZSwgUmUsIHhlLCBzZSwgZ2UsIGxlLCBuZSwgdWUsIGZlLCB0ZSwgcGUsIF9lLCByZSwgRWUsIFNlLCBvZSwgRGUsIEllLCBQZSwgR2UsIFllLCBBZSwgWmUsIGV0LCBOZSwgQ2UsIFRlLCBkZSwgJGUsIExlLCBjZSwgVWUsIHplLCB5ZSwgQmUsIGtlLCB2ZSwgRmUsIE9lLCBtZSwgamUsIHJ0LCBxZSwgaXQsIEplLCB0dCwganQsIEt0LCBIdCwgVnQsIGd0O1xuICAgICAgZm9yIChxID0gMDsgcSA8IDQ4OyBxICs9IDIpXG4gICAgICAgIEwgPSBNWzBdIF4gTVsxMF0gXiBNWzIwXSBeIE1bMzBdIF4gTVs0MF0sIHkgPSBNWzFdIF4gTVsxMV0gXiBNWzIxXSBeIE1bMzFdIF4gTVs0MV0sIEYgPSBNWzJdIF4gTVsxMl0gXiBNWzIyXSBeIE1bMzJdIF4gTVs0Ml0sIFcgPSBNWzNdIF4gTVsxM10gXiBNWzIzXSBeIE1bMzNdIF4gTVs0M10sIFkgPSBNWzRdIF4gTVsxNF0gXiBNWzI0XSBeIE1bMzRdIF4gTVs0NF0sIFggPSBNWzVdIF4gTVsxNV0gXiBNWzI1XSBeIE1bMzVdIF4gTVs0NV0sIGVlID0gTVs2XSBeIE1bMTZdIF4gTVsyNl0gXiBNWzM2XSBeIE1bNDZdLCB3ZSA9IE1bN10gXiBNWzE3XSBeIE1bMjddIF4gTVszN10gXiBNWzQ3XSwgTWUgPSBNWzhdIF4gTVsxOF0gXiBNWzI4XSBeIE1bMzhdIF4gTVs0OF0sIGhlID0gTVs5XSBeIE1bMTldIF4gTVsyOV0gXiBNWzM5XSBeIE1bNDldLCBIID0gTWUgXiAoRiA8PCAxIHwgVyA+Pj4gMzEpLCBDID0gaGUgXiAoVyA8PCAxIHwgRiA+Pj4gMzEpLCBNWzBdIF49IEgsIE1bMV0gXj0gQywgTVsxMF0gXj0gSCwgTVsxMV0gXj0gQywgTVsyMF0gXj0gSCwgTVsyMV0gXj0gQywgTVszMF0gXj0gSCwgTVszMV0gXj0gQywgTVs0MF0gXj0gSCwgTVs0MV0gXj0gQywgSCA9IEwgXiAoWSA8PCAxIHwgWCA+Pj4gMzEpLCBDID0geSBeIChYIDw8IDEgfCBZID4+PiAzMSksIE1bMl0gXj0gSCwgTVszXSBePSBDLCBNWzEyXSBePSBILCBNWzEzXSBePSBDLCBNWzIyXSBePSBILCBNWzIzXSBePSBDLCBNWzMyXSBePSBILCBNWzMzXSBePSBDLCBNWzQyXSBePSBILCBNWzQzXSBePSBDLCBIID0gRiBeIChlZSA8PCAxIHwgd2UgPj4+IDMxKSwgQyA9IFcgXiAod2UgPDwgMSB8IGVlID4+PiAzMSksIE1bNF0gXj0gSCwgTVs1XSBePSBDLCBNWzE0XSBePSBILCBNWzE1XSBePSBDLCBNWzI0XSBePSBILCBNWzI1XSBePSBDLCBNWzM0XSBePSBILCBNWzM1XSBePSBDLCBNWzQ0XSBePSBILCBNWzQ1XSBePSBDLCBIID0gWSBeIChNZSA8PCAxIHwgaGUgPj4+IDMxKSwgQyA9IFggXiAoaGUgPDwgMSB8IE1lID4+PiAzMSksIE1bNl0gXj0gSCwgTVs3XSBePSBDLCBNWzE2XSBePSBILCBNWzE3XSBePSBDLCBNWzI2XSBePSBILCBNWzI3XSBePSBDLCBNWzM2XSBePSBILCBNWzM3XSBePSBDLCBNWzQ2XSBePSBILCBNWzQ3XSBePSBDLCBIID0gZWUgXiAoTCA8PCAxIHwgeSA+Pj4gMzEpLCBDID0gd2UgXiAoeSA8PCAxIHwgTCA+Pj4gMzEpLCBNWzhdIF49IEgsIE1bOV0gXj0gQywgTVsxOF0gXj0gSCwgTVsxOV0gXj0gQywgTVsyOF0gXj0gSCwgTVsyOV0gXj0gQywgTVszOF0gXj0gSCwgTVszOV0gXj0gQywgTVs0OF0gXj0gSCwgTVs0OV0gXj0gQywgUmUgPSBNWzBdLCB4ZSA9IE1bMV0sIHllID0gTVsxMV0gPDwgNCB8IE1bMTBdID4+PiAyOCwgQmUgPSBNWzEwXSA8PCA0IHwgTVsxMV0gPj4+IDI4LCBvZSA9IE1bMjBdIDw8IDMgfCBNWzIxXSA+Pj4gMjksIERlID0gTVsyMV0gPDwgMyB8IE1bMjBdID4+PiAyOSwgS3QgPSBNWzMxXSA8PCA5IHwgTVszMF0gPj4+IDIzLCBIdCA9IE1bMzBdIDw8IDkgfCBNWzMxXSA+Pj4gMjMsIExlID0gTVs0MF0gPDwgMTggfCBNWzQxXSA+Pj4gMTQsIGNlID0gTVs0MV0gPDwgMTggfCBNWzQwXSA+Pj4gMTQsIEFlID0gTVsyXSA8PCAxIHwgTVszXSA+Pj4gMzEsIFplID0gTVszXSA8PCAxIHwgTVsyXSA+Pj4gMzEsIHNlID0gTVsxM10gPDwgMTIgfCBNWzEyXSA+Pj4gMjAsIGdlID0gTVsxMl0gPDwgMTIgfCBNWzEzXSA+Pj4gMjAsIGtlID0gTVsyMl0gPDwgMTAgfCBNWzIzXSA+Pj4gMjIsIHZlID0gTVsyM10gPDwgMTAgfCBNWzIyXSA+Pj4gMjIsIEllID0gTVszM10gPDwgMTMgfCBNWzMyXSA+Pj4gMTksIFBlID0gTVszMl0gPDwgMTMgfCBNWzMzXSA+Pj4gMTksIFZ0ID0gTVs0Ml0gPDwgMiB8IE1bNDNdID4+PiAzMCwgZ3QgPSBNWzQzXSA8PCAyIHwgTVs0Ml0gPj4+IDMwLCBydCA9IE1bNV0gPDwgMzAgfCBNWzRdID4+PiAyLCBxZSA9IE1bNF0gPDwgMzAgfCBNWzVdID4+PiAyLCBldCA9IE1bMTRdIDw8IDYgfCBNWzE1XSA+Pj4gMjYsIE5lID0gTVsxNV0gPDwgNiB8IE1bMTRdID4+PiAyNiwgbGUgPSBNWzI1XSA8PCAxMSB8IE1bMjRdID4+PiAyMSwgbmUgPSBNWzI0XSA8PCAxMSB8IE1bMjVdID4+PiAyMSwgRmUgPSBNWzM0XSA8PCAxNSB8IE1bMzVdID4+PiAxNywgT2UgPSBNWzM1XSA8PCAxNSB8IE1bMzRdID4+PiAxNywgR2UgPSBNWzQ1XSA8PCAyOSB8IE1bNDRdID4+PiAzLCBZZSA9IE1bNDRdIDw8IDI5IHwgTVs0NV0gPj4+IDMsIF9lID0gTVs2XSA8PCAyOCB8IE1bN10gPj4+IDQsIHJlID0gTVs3XSA8PCAyOCB8IE1bNl0gPj4+IDQsIGl0ID0gTVsxN10gPDwgMjMgfCBNWzE2XSA+Pj4gOSwgSmUgPSBNWzE2XSA8PCAyMyB8IE1bMTddID4+PiA5LCBDZSA9IE1bMjZdIDw8IDI1IHwgTVsyN10gPj4+IDcsIFRlID0gTVsyN10gPDwgMjUgfCBNWzI2XSA+Pj4gNywgdWUgPSBNWzM2XSA8PCAyMSB8IE1bMzddID4+PiAxMSwgZmUgPSBNWzM3XSA8PCAyMSB8IE1bMzZdID4+PiAxMSwgbWUgPSBNWzQ3XSA8PCAyNCB8IE1bNDZdID4+PiA4LCBqZSA9IE1bNDZdIDw8IDI0IHwgTVs0N10gPj4+IDgsIFVlID0gTVs4XSA8PCAyNyB8IE1bOV0gPj4+IDUsIHplID0gTVs5XSA8PCAyNyB8IE1bOF0gPj4+IDUsIEVlID0gTVsxOF0gPDwgMjAgfCBNWzE5XSA+Pj4gMTIsIFNlID0gTVsxOV0gPDwgMjAgfCBNWzE4XSA+Pj4gMTIsIHR0ID0gTVsyOV0gPDwgNyB8IE1bMjhdID4+PiAyNSwganQgPSBNWzI4XSA8PCA3IHwgTVsyOV0gPj4+IDI1LCBkZSA9IE1bMzhdIDw8IDggfCBNWzM5XSA+Pj4gMjQsICRlID0gTVszOV0gPDwgOCB8IE1bMzhdID4+PiAyNCwgdGUgPSBNWzQ4XSA8PCAxNCB8IE1bNDldID4+PiAxOCwgcGUgPSBNWzQ5XSA8PCAxNCB8IE1bNDhdID4+PiAxOCwgTVswXSA9IFJlIF4gfnNlICYgbGUsIE1bMV0gPSB4ZSBeIH5nZSAmIG5lLCBNWzEwXSA9IF9lIF4gfkVlICYgb2UsIE1bMTFdID0gcmUgXiB+U2UgJiBEZSwgTVsyMF0gPSBBZSBeIH5ldCAmIENlLCBNWzIxXSA9IFplIF4gfk5lICYgVGUsIE1bMzBdID0gVWUgXiB+eWUgJiBrZSwgTVszMV0gPSB6ZSBeIH5CZSAmIHZlLCBNWzQwXSA9IHJ0IF4gfml0ICYgdHQsIE1bNDFdID0gcWUgXiB+SmUgJiBqdCwgTVsyXSA9IHNlIF4gfmxlICYgdWUsIE1bM10gPSBnZSBeIH5uZSAmIGZlLCBNWzEyXSA9IEVlIF4gfm9lICYgSWUsIE1bMTNdID0gU2UgXiB+RGUgJiBQZSwgTVsyMl0gPSBldCBeIH5DZSAmIGRlLCBNWzIzXSA9IE5lIF4gflRlICYgJGUsIE1bMzJdID0geWUgXiB+a2UgJiBGZSwgTVszM10gPSBCZSBeIH52ZSAmIE9lLCBNWzQyXSA9IGl0IF4gfnR0ICYgS3QsIE1bNDNdID0gSmUgXiB+anQgJiBIdCwgTVs0XSA9IGxlIF4gfnVlICYgdGUsIE1bNV0gPSBuZSBeIH5mZSAmIHBlLCBNWzE0XSA9IG9lIF4gfkllICYgR2UsIE1bMTVdID0gRGUgXiB+UGUgJiBZZSwgTVsyNF0gPSBDZSBeIH5kZSAmIExlLCBNWzI1XSA9IFRlIF4gfiRlICYgY2UsIE1bMzRdID0ga2UgXiB+RmUgJiBtZSwgTVszNV0gPSB2ZSBeIH5PZSAmIGplLCBNWzQ0XSA9IHR0IF4gfkt0ICYgVnQsIE1bNDVdID0ganQgXiB+SHQgJiBndCwgTVs2XSA9IHVlIF4gfnRlICYgUmUsIE1bN10gPSBmZSBeIH5wZSAmIHhlLCBNWzE2XSA9IEllIF4gfkdlICYgX2UsIE1bMTddID0gUGUgXiB+WWUgJiByZSwgTVsyNl0gPSBkZSBeIH5MZSAmIEFlLCBNWzI3XSA9ICRlIF4gfmNlICYgWmUsIE1bMzZdID0gRmUgXiB+bWUgJiBVZSwgTVszN10gPSBPZSBeIH5qZSAmIHplLCBNWzQ2XSA9IEt0IF4gflZ0ICYgcnQsIE1bNDddID0gSHQgXiB+Z3QgJiBxZSwgTVs4XSA9IHRlIF4gflJlICYgc2UsIE1bOV0gPSBwZSBeIH54ZSAmIGdlLCBNWzE4XSA9IEdlIF4gfl9lICYgRWUsIE1bMTldID0gWWUgXiB+cmUgJiBTZSwgTVsyOF0gPSBMZSBeIH5BZSAmIGV0LCBNWzI5XSA9IGNlIF4gflplICYgTmUsIE1bMzhdID0gbWUgXiB+VWUgJiB5ZSwgTVszOV0gPSBqZSBeIH56ZSAmIEJlLCBNWzQ4XSA9IFZ0IF4gfnJ0ICYgaXQsIE1bNDldID0gZ3QgXiB+cWUgJiBKZSwgTVswXSBePSBOW3FdLCBNWzFdIF49IE5bcSArIDFdO1xuICAgIH07XG4gICAgaWYgKGYpXG4gICAgICByLmV4cG9ydHMgPSBhO1xuICAgIGVsc2VcbiAgICAgIGZvciAoYiA9IDA7IGIgPCBjLmxlbmd0aDsgKytiKVxuICAgICAgICBuW2NbYl1dID0gYVtjW2JdXTtcbiAgfSkoKTtcbn0pKGx1KTtcbnZhciBPdiA9IGx1LmV4cG9ydHM7XG5jb25zdCBSdiA9IC8qIEBfX1BVUkVfXyAqLyBibihPdiksIE52ID0gXCJsb2dnZXIvNS43LjBcIjtcbmxldCBRZiA9ICExLCBlYyA9ICExO1xuY29uc3QgUHMgPSB7IGRlYnVnOiAxLCBkZWZhdWx0OiAyLCBpbmZvOiAyLCB3YXJuaW5nOiAzLCBlcnJvcjogNCwgb2ZmOiA1IH07XG5sZXQgdGMgPSBQcy5kZWZhdWx0LCB6YSA9IG51bGw7XG5mdW5jdGlvbiBUdigpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCByID0gW107XG4gICAgaWYgKFtcIk5GRFwiLCBcIk5GQ1wiLCBcIk5GS0RcIiwgXCJORktDXCJdLmZvckVhY2goKGUpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChcInRlc3RcIi5ub3JtYWxpemUoZSkgIT09IFwidGVzdFwiKVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImJhZCBub3JtYWxpemVcIik7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgci5wdXNoKGUpO1xuICAgICAgfVxuICAgIH0pLCByLmxlbmd0aClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIm1pc3NpbmcgXCIgKyByLmpvaW4oXCIsIFwiKSk7XG4gICAgaWYgKFN0cmluZy5mcm9tQ2hhckNvZGUoMjMzKS5ub3JtYWxpemUoXCJORkRcIikgIT09IFN0cmluZy5mcm9tQ2hhckNvZGUoMTAxLCA3NjkpKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYnJva2VuIGltcGxlbWVudGF0aW9uXCIpO1xuICB9IGNhdGNoIChyKSB7XG4gICAgcmV0dXJuIHIubWVzc2FnZTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cbmNvbnN0IHJjID0gVHYoKTtcbnZhciB5bztcbihmdW5jdGlvbihyKSB7XG4gIHIuREVCVUcgPSBcIkRFQlVHXCIsIHIuSU5GTyA9IFwiSU5GT1wiLCByLldBUk5JTkcgPSBcIldBUk5JTkdcIiwgci5FUlJPUiA9IFwiRVJST1JcIiwgci5PRkYgPSBcIk9GRlwiO1xufSkoeW8gfHwgKHlvID0ge30pKTtcbnZhciBTcjtcbihmdW5jdGlvbihyKSB7XG4gIHIuVU5LTk9XTl9FUlJPUiA9IFwiVU5LTk9XTl9FUlJPUlwiLCByLk5PVF9JTVBMRU1FTlRFRCA9IFwiTk9UX0lNUExFTUVOVEVEXCIsIHIuVU5TVVBQT1JURURfT1BFUkFUSU9OID0gXCJVTlNVUFBPUlRFRF9PUEVSQVRJT05cIiwgci5ORVRXT1JLX0VSUk9SID0gXCJORVRXT1JLX0VSUk9SXCIsIHIuU0VSVkVSX0VSUk9SID0gXCJTRVJWRVJfRVJST1JcIiwgci5USU1FT1VUID0gXCJUSU1FT1VUXCIsIHIuQlVGRkVSX09WRVJSVU4gPSBcIkJVRkZFUl9PVkVSUlVOXCIsIHIuTlVNRVJJQ19GQVVMVCA9IFwiTlVNRVJJQ19GQVVMVFwiLCByLk1JU1NJTkdfTkVXID0gXCJNSVNTSU5HX05FV1wiLCByLklOVkFMSURfQVJHVU1FTlQgPSBcIklOVkFMSURfQVJHVU1FTlRcIiwgci5NSVNTSU5HX0FSR1VNRU5UID0gXCJNSVNTSU5HX0FSR1VNRU5UXCIsIHIuVU5FWFBFQ1RFRF9BUkdVTUVOVCA9IFwiVU5FWFBFQ1RFRF9BUkdVTUVOVFwiLCByLkNBTExfRVhDRVBUSU9OID0gXCJDQUxMX0VYQ0VQVElPTlwiLCByLklOU1VGRklDSUVOVF9GVU5EUyA9IFwiSU5TVUZGSUNJRU5UX0ZVTkRTXCIsIHIuTk9OQ0VfRVhQSVJFRCA9IFwiTk9OQ0VfRVhQSVJFRFwiLCByLlJFUExBQ0VNRU5UX1VOREVSUFJJQ0VEID0gXCJSRVBMQUNFTUVOVF9VTkRFUlBSSUNFRFwiLCByLlVOUFJFRElDVEFCTEVfR0FTX0xJTUlUID0gXCJVTlBSRURJQ1RBQkxFX0dBU19MSU1JVFwiLCByLlRSQU5TQUNUSU9OX1JFUExBQ0VEID0gXCJUUkFOU0FDVElPTl9SRVBMQUNFRFwiLCByLkFDVElPTl9SRUpFQ1RFRCA9IFwiQUNUSU9OX1JFSkVDVEVEXCI7XG59KShTciB8fCAoU3IgPSB7fSkpO1xuY29uc3QgaWMgPSBcIjAxMjM0NTY3ODlhYmNkZWZcIjtcbmNsYXNzIGh0IHtcbiAgY29uc3RydWN0b3IoZSkge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcInZlcnNpb25cIiwge1xuICAgICAgZW51bWVyYWJsZTogITAsXG4gICAgICB2YWx1ZTogZSxcbiAgICAgIHdyaXRhYmxlOiAhMVxuICAgIH0pO1xuICB9XG4gIF9sb2coZSwgdCkge1xuICAgIGNvbnN0IGkgPSBlLnRvTG93ZXJDYXNlKCk7XG4gICAgUHNbaV0gPT0gbnVsbCAmJiB0aGlzLnRocm93QXJndW1lbnRFcnJvcihcImludmFsaWQgbG9nIGxldmVsIG5hbWVcIiwgXCJsb2dMZXZlbFwiLCBlKSwgISh0YyA+IFBzW2ldKSAmJiBjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLCB0KTtcbiAgfVxuICBkZWJ1ZyguLi5lKSB7XG4gICAgdGhpcy5fbG9nKGh0LmxldmVscy5ERUJVRywgZSk7XG4gIH1cbiAgaW5mbyguLi5lKSB7XG4gICAgdGhpcy5fbG9nKGh0LmxldmVscy5JTkZPLCBlKTtcbiAgfVxuICB3YXJuKC4uLmUpIHtcbiAgICB0aGlzLl9sb2coaHQubGV2ZWxzLldBUk5JTkcsIGUpO1xuICB9XG4gIG1ha2VFcnJvcihlLCB0LCBpKSB7XG4gICAgaWYgKGVjKVxuICAgICAgcmV0dXJuIHRoaXMubWFrZUVycm9yKFwiY2Vuc29yZWQgZXJyb3JcIiwgdCwge30pO1xuICAgIHQgfHwgKHQgPSBodC5lcnJvcnMuVU5LTk9XTl9FUlJPUiksIGkgfHwgKGkgPSB7fSk7XG4gICAgY29uc3QgbiA9IFtdO1xuICAgIE9iamVjdC5rZXlzKGkpLmZvckVhY2goKGgpID0+IHtcbiAgICAgIGNvbnN0IGQgPSBpW2hdO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGQgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgICAgbGV0IHYgPSBcIlwiO1xuICAgICAgICAgIGZvciAobGV0IHcgPSAwOyB3IDwgZC5sZW5ndGg7IHcrKylcbiAgICAgICAgICAgIHYgKz0gaWNbZFt3XSA+PiA0XSwgdiArPSBpY1tkW3ddICYgMTVdO1xuICAgICAgICAgIG4ucHVzaChoICsgXCI9VWludDhBcnJheSgweFwiICsgdiArIFwiKVwiKTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgbi5wdXNoKGggKyBcIj1cIiArIEpTT04uc3RyaW5naWZ5KGQpKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICBuLnB1c2goaCArIFwiPVwiICsgSlNPTi5zdHJpbmdpZnkoaVtoXS50b1N0cmluZygpKSk7XG4gICAgICB9XG4gICAgfSksIG4ucHVzaChgY29kZT0ke3R9YCksIG4ucHVzaChgdmVyc2lvbj0ke3RoaXMudmVyc2lvbn1gKTtcbiAgICBjb25zdCBzID0gZTtcbiAgICBsZXQgbyA9IFwiXCI7XG4gICAgc3dpdGNoICh0KSB7XG4gICAgICBjYXNlIFNyLk5VTUVSSUNfRkFVTFQ6IHtcbiAgICAgICAgbyA9IFwiTlVNRVJJQ19GQVVMVFwiO1xuICAgICAgICBjb25zdCBoID0gZTtcbiAgICAgICAgc3dpdGNoIChoKSB7XG4gICAgICAgICAgY2FzZSBcIm92ZXJmbG93XCI6XG4gICAgICAgICAgY2FzZSBcInVuZGVyZmxvd1wiOlxuICAgICAgICAgIGNhc2UgXCJkaXZpc2lvbi1ieS16ZXJvXCI6XG4gICAgICAgICAgICBvICs9IFwiLVwiICsgaDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJuZWdhdGl2ZS1wb3dlclwiOlxuICAgICAgICAgIGNhc2UgXCJuZWdhdGl2ZS13aWR0aFwiOlxuICAgICAgICAgICAgbyArPSBcIi11bnN1cHBvcnRlZFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInVuYm91bmQtYml0d2lzZS1yZXN1bHRcIjpcbiAgICAgICAgICAgIG8gKz0gXCItdW5ib3VuZC1yZXN1bHRcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBTci5DQUxMX0VYQ0VQVElPTjpcbiAgICAgIGNhc2UgU3IuSU5TVUZGSUNJRU5UX0ZVTkRTOlxuICAgICAgY2FzZSBTci5NSVNTSU5HX05FVzpcbiAgICAgIGNhc2UgU3IuTk9OQ0VfRVhQSVJFRDpcbiAgICAgIGNhc2UgU3IuUkVQTEFDRU1FTlRfVU5ERVJQUklDRUQ6XG4gICAgICBjYXNlIFNyLlRSQU5TQUNUSU9OX1JFUExBQ0VEOlxuICAgICAgY2FzZSBTci5VTlBSRURJQ1RBQkxFX0dBU19MSU1JVDpcbiAgICAgICAgbyA9IHQ7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBvICYmIChlICs9IFwiIFsgU2VlOiBodHRwczovL2xpbmtzLmV0aGVycy5vcmcvdjUtZXJyb3JzLVwiICsgbyArIFwiIF1cIiksIG4ubGVuZ3RoICYmIChlICs9IFwiIChcIiArIG4uam9pbihcIiwgXCIpICsgXCIpXCIpO1xuICAgIGNvbnN0IGYgPSBuZXcgRXJyb3IoZSk7XG4gICAgcmV0dXJuIGYucmVhc29uID0gcywgZi5jb2RlID0gdCwgT2JqZWN0LmtleXMoaSkuZm9yRWFjaChmdW5jdGlvbihoKSB7XG4gICAgICBmW2hdID0gaVtoXTtcbiAgICB9KSwgZjtcbiAgfVxuICB0aHJvd0Vycm9yKGUsIHQsIGkpIHtcbiAgICB0aHJvdyB0aGlzLm1ha2VFcnJvcihlLCB0LCBpKTtcbiAgfVxuICB0aHJvd0FyZ3VtZW50RXJyb3IoZSwgdCwgaSkge1xuICAgIHJldHVybiB0aGlzLnRocm93RXJyb3IoZSwgaHQuZXJyb3JzLklOVkFMSURfQVJHVU1FTlQsIHtcbiAgICAgIGFyZ3VtZW50OiB0LFxuICAgICAgdmFsdWU6IGlcbiAgICB9KTtcbiAgfVxuICBhc3NlcnQoZSwgdCwgaSwgbikge1xuICAgIGUgfHwgdGhpcy50aHJvd0Vycm9yKHQsIGksIG4pO1xuICB9XG4gIGFzc2VydEFyZ3VtZW50KGUsIHQsIGksIG4pIHtcbiAgICBlIHx8IHRoaXMudGhyb3dBcmd1bWVudEVycm9yKHQsIGksIG4pO1xuICB9XG4gIGNoZWNrTm9ybWFsaXplKGUpIHtcbiAgICByYyAmJiB0aGlzLnRocm93RXJyb3IoXCJwbGF0Zm9ybSBtaXNzaW5nIFN0cmluZy5wcm90b3R5cGUubm9ybWFsaXplXCIsIGh0LmVycm9ycy5VTlNVUFBPUlRFRF9PUEVSQVRJT04sIHtcbiAgICAgIG9wZXJhdGlvbjogXCJTdHJpbmcucHJvdG90eXBlLm5vcm1hbGl6ZVwiLFxuICAgICAgZm9ybTogcmNcbiAgICB9KTtcbiAgfVxuICBjaGVja1NhZmVVaW50NTMoZSwgdCkge1xuICAgIHR5cGVvZiBlID09IFwibnVtYmVyXCIgJiYgKHQgPT0gbnVsbCAmJiAodCA9IFwidmFsdWUgbm90IHNhZmVcIiksIChlIDwgMCB8fCBlID49IDkwMDcxOTkyNTQ3NDA5OTEpICYmIHRoaXMudGhyb3dFcnJvcih0LCBodC5lcnJvcnMuTlVNRVJJQ19GQVVMVCwge1xuICAgICAgb3BlcmF0aW9uOiBcImNoZWNrU2FmZUludGVnZXJcIixcbiAgICAgIGZhdWx0OiBcIm91dC1vZi1zYWZlLXJhbmdlXCIsXG4gICAgICB2YWx1ZTogZVxuICAgIH0pLCBlICUgMSAmJiB0aGlzLnRocm93RXJyb3IodCwgaHQuZXJyb3JzLk5VTUVSSUNfRkFVTFQsIHtcbiAgICAgIG9wZXJhdGlvbjogXCJjaGVja1NhZmVJbnRlZ2VyXCIsXG4gICAgICBmYXVsdDogXCJub24taW50ZWdlclwiLFxuICAgICAgdmFsdWU6IGVcbiAgICB9KSk7XG4gIH1cbiAgY2hlY2tBcmd1bWVudENvdW50KGUsIHQsIGkpIHtcbiAgICBpID8gaSA9IFwiOiBcIiArIGkgOiBpID0gXCJcIiwgZSA8IHQgJiYgdGhpcy50aHJvd0Vycm9yKFwibWlzc2luZyBhcmd1bWVudFwiICsgaSwgaHQuZXJyb3JzLk1JU1NJTkdfQVJHVU1FTlQsIHtcbiAgICAgIGNvdW50OiBlLFxuICAgICAgZXhwZWN0ZWRDb3VudDogdFxuICAgIH0pLCBlID4gdCAmJiB0aGlzLnRocm93RXJyb3IoXCJ0b28gbWFueSBhcmd1bWVudHNcIiArIGksIGh0LmVycm9ycy5VTkVYUEVDVEVEX0FSR1VNRU5ULCB7XG4gICAgICBjb3VudDogZSxcbiAgICAgIGV4cGVjdGVkQ291bnQ6IHRcbiAgICB9KTtcbiAgfVxuICBjaGVja05ldyhlLCB0KSB7XG4gICAgKGUgPT09IE9iamVjdCB8fCBlID09IG51bGwpICYmIHRoaXMudGhyb3dFcnJvcihcIm1pc3NpbmcgbmV3XCIsIGh0LmVycm9ycy5NSVNTSU5HX05FVywgeyBuYW1lOiB0Lm5hbWUgfSk7XG4gIH1cbiAgY2hlY2tBYnN0cmFjdChlLCB0KSB7XG4gICAgZSA9PT0gdCA/IHRoaXMudGhyb3dFcnJvcihcImNhbm5vdCBpbnN0YW50aWF0ZSBhYnN0cmFjdCBjbGFzcyBcIiArIEpTT04uc3RyaW5naWZ5KHQubmFtZSkgKyBcIiBkaXJlY3RseTsgdXNlIGEgc3ViLWNsYXNzXCIsIGh0LmVycm9ycy5VTlNVUFBPUlRFRF9PUEVSQVRJT04sIHsgbmFtZTogZS5uYW1lLCBvcGVyYXRpb246IFwibmV3XCIgfSkgOiAoZSA9PT0gT2JqZWN0IHx8IGUgPT0gbnVsbCkgJiYgdGhpcy50aHJvd0Vycm9yKFwibWlzc2luZyBuZXdcIiwgaHQuZXJyb3JzLk1JU1NJTkdfTkVXLCB7IG5hbWU6IHQubmFtZSB9KTtcbiAgfVxuICBzdGF0aWMgZ2xvYmFsTG9nZ2VyKCkge1xuICAgIHJldHVybiB6YSB8fCAoemEgPSBuZXcgaHQoTnYpKSwgemE7XG4gIH1cbiAgc3RhdGljIHNldENlbnNvcnNoaXAoZSwgdCkge1xuICAgIGlmICghZSAmJiB0ICYmIHRoaXMuZ2xvYmFsTG9nZ2VyKCkudGhyb3dFcnJvcihcImNhbm5vdCBwZXJtYW5lbnRseSBkaXNhYmxlIGNlbnNvcnNoaXBcIiwgaHQuZXJyb3JzLlVOU1VQUE9SVEVEX09QRVJBVElPTiwge1xuICAgICAgb3BlcmF0aW9uOiBcInNldENlbnNvcnNoaXBcIlxuICAgIH0pLCBRZikge1xuICAgICAgaWYgKCFlKVxuICAgICAgICByZXR1cm47XG4gICAgICB0aGlzLmdsb2JhbExvZ2dlcigpLnRocm93RXJyb3IoXCJlcnJvciBjZW5zb3JzaGlwIHBlcm1hbmVudFwiLCBodC5lcnJvcnMuVU5TVVBQT1JURURfT1BFUkFUSU9OLCB7XG4gICAgICAgIG9wZXJhdGlvbjogXCJzZXRDZW5zb3JzaGlwXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlYyA9ICEhZSwgUWYgPSAhIXQ7XG4gIH1cbiAgc3RhdGljIHNldExvZ0xldmVsKGUpIHtcbiAgICBjb25zdCB0ID0gUHNbZS50b0xvd2VyQ2FzZSgpXTtcbiAgICBpZiAodCA9PSBudWxsKSB7XG4gICAgICBodC5nbG9iYWxMb2dnZXIoKS53YXJuKFwiaW52YWxpZCBsb2cgbGV2ZWwgLSBcIiArIGUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0YyA9IHQ7XG4gIH1cbiAgc3RhdGljIGZyb20oZSkge1xuICAgIHJldHVybiBuZXcgaHQoZSk7XG4gIH1cbn1cbmh0LmVycm9ycyA9IFNyO1xuaHQubGV2ZWxzID0geW87XG5jb25zdCBDdiA9IFwiYnl0ZXMvNS43LjBcIiwgdnQgPSBuZXcgaHQoQ3YpO1xuZnVuY3Rpb24gcHUocikge1xuICByZXR1cm4gISFyLnRvSGV4U3RyaW5nO1xufVxuZnVuY3Rpb24gY24ocikge1xuICByZXR1cm4gci5zbGljZSB8fCAoci5zbGljZSA9IGZ1bmN0aW9uKCkge1xuICAgIGNvbnN0IGUgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpO1xuICAgIHJldHVybiBjbihuZXcgVWludDhBcnJheShBcnJheS5wcm90b3R5cGUuc2xpY2UuYXBwbHkociwgZSkpKTtcbiAgfSksIHI7XG59XG5mdW5jdGlvbiAkdihyKSB7XG4gIHJldHVybiBMcihyKSAmJiAhKHIubGVuZ3RoICUgMikgfHwgRm8ocik7XG59XG5mdW5jdGlvbiBuYyhyKSB7XG4gIHJldHVybiB0eXBlb2YgciA9PSBcIm51bWJlclwiICYmIHIgPT0gciAmJiByICUgMSA9PT0gMDtcbn1cbmZ1bmN0aW9uIEZvKHIpIHtcbiAgaWYgKHIgPT0gbnVsbClcbiAgICByZXR1cm4gITE7XG4gIGlmIChyLmNvbnN0cnVjdG9yID09PSBVaW50OEFycmF5KVxuICAgIHJldHVybiAhMDtcbiAgaWYgKHR5cGVvZiByID09IFwic3RyaW5nXCIgfHwgIW5jKHIubGVuZ3RoKSB8fCByLmxlbmd0aCA8IDApXG4gICAgcmV0dXJuICExO1xuICBmb3IgKGxldCBlID0gMDsgZSA8IHIubGVuZ3RoOyBlKyspIHtcbiAgICBjb25zdCB0ID0gcltlXTtcbiAgICBpZiAoIW5jKHQpIHx8IHQgPCAwIHx8IHQgPj0gMjU2KVxuICAgICAgcmV0dXJuICExO1xuICB9XG4gIHJldHVybiAhMDtcbn1cbmZ1bmN0aW9uIHl0KHIsIGUpIHtcbiAgaWYgKGUgfHwgKGUgPSB7fSksIHR5cGVvZiByID09IFwibnVtYmVyXCIpIHtcbiAgICB2dC5jaGVja1NhZmVVaW50NTMociwgXCJpbnZhbGlkIGFycmF5aWZ5IHZhbHVlXCIpO1xuICAgIGNvbnN0IHQgPSBbXTtcbiAgICBmb3IgKDsgcjsgKVxuICAgICAgdC51bnNoaWZ0KHIgJiAyNTUpLCByID0gcGFyc2VJbnQoU3RyaW5nKHIgLyAyNTYpKTtcbiAgICByZXR1cm4gdC5sZW5ndGggPT09IDAgJiYgdC5wdXNoKDApLCBjbihuZXcgVWludDhBcnJheSh0KSk7XG4gIH1cbiAgaWYgKGUuYWxsb3dNaXNzaW5nUHJlZml4ICYmIHR5cGVvZiByID09IFwic3RyaW5nXCIgJiYgci5zdWJzdHJpbmcoMCwgMikgIT09IFwiMHhcIiAmJiAociA9IFwiMHhcIiArIHIpLCBwdShyKSAmJiAociA9IHIudG9IZXhTdHJpbmcoKSksIExyKHIpKSB7XG4gICAgbGV0IHQgPSByLnN1YnN0cmluZygyKTtcbiAgICB0Lmxlbmd0aCAlIDIgJiYgKGUuaGV4UGFkID09PSBcImxlZnRcIiA/IHQgPSBcIjBcIiArIHQgOiBlLmhleFBhZCA9PT0gXCJyaWdodFwiID8gdCArPSBcIjBcIiA6IHZ0LnRocm93QXJndW1lbnRFcnJvcihcImhleCBkYXRhIGlzIG9kZC1sZW5ndGhcIiwgXCJ2YWx1ZVwiLCByKSk7XG4gICAgY29uc3QgaSA9IFtdO1xuICAgIGZvciAobGV0IG4gPSAwOyBuIDwgdC5sZW5ndGg7IG4gKz0gMilcbiAgICAgIGkucHVzaChwYXJzZUludCh0LnN1YnN0cmluZyhuLCBuICsgMiksIDE2KSk7XG4gICAgcmV0dXJuIGNuKG5ldyBVaW50OEFycmF5KGkpKTtcbiAgfVxuICByZXR1cm4gRm8ocikgPyBjbihuZXcgVWludDhBcnJheShyKSkgOiB2dC50aHJvd0FyZ3VtZW50RXJyb3IoXCJpbnZhbGlkIGFycmF5aWZ5IHZhbHVlXCIsIFwidmFsdWVcIiwgcik7XG59XG5mdW5jdGlvbiBMdihyKSB7XG4gIGNvbnN0IGUgPSByLm1hcCgobikgPT4geXQobikpLCB0ID0gZS5yZWR1Y2UoKG4sIHMpID0+IG4gKyBzLmxlbmd0aCwgMCksIGkgPSBuZXcgVWludDhBcnJheSh0KTtcbiAgcmV0dXJuIGUucmVkdWNlKChuLCBzKSA9PiAoaS5zZXQocywgbiksIG4gKyBzLmxlbmd0aCksIDApLCBjbihpKTtcbn1cbmZ1bmN0aW9uIEZ2KHIsIGUpIHtcbiAgciA9IHl0KHIpLCByLmxlbmd0aCA+IGUgJiYgdnQudGhyb3dBcmd1bWVudEVycm9yKFwidmFsdWUgb3V0IG9mIHJhbmdlXCIsIFwidmFsdWVcIiwgYXJndW1lbnRzWzBdKTtcbiAgY29uc3QgdCA9IG5ldyBVaW50OEFycmF5KGUpO1xuICByZXR1cm4gdC5zZXQociwgZSAtIHIubGVuZ3RoKSwgY24odCk7XG59XG5mdW5jdGlvbiBMcihyLCBlKSB7XG4gIHJldHVybiAhKHR5cGVvZiByICE9IFwic3RyaW5nXCIgfHwgIXIubWF0Y2goL14weFswLTlBLUZhLWZdKiQvKSB8fCBlICYmIHIubGVuZ3RoICE9PSAyICsgMiAqIGUpO1xufVxuY29uc3QgQmEgPSBcIjAxMjM0NTY3ODlhYmNkZWZcIjtcbmZ1bmN0aW9uIEp0KHIsIGUpIHtcbiAgaWYgKGUgfHwgKGUgPSB7fSksIHR5cGVvZiByID09IFwibnVtYmVyXCIpIHtcbiAgICB2dC5jaGVja1NhZmVVaW50NTMociwgXCJpbnZhbGlkIGhleGxpZnkgdmFsdWVcIik7XG4gICAgbGV0IHQgPSBcIlwiO1xuICAgIGZvciAoOyByOyApXG4gICAgICB0ID0gQmFbciAmIDE1XSArIHQsIHIgPSBNYXRoLmZsb29yKHIgLyAxNik7XG4gICAgcmV0dXJuIHQubGVuZ3RoID8gKHQubGVuZ3RoICUgMiAmJiAodCA9IFwiMFwiICsgdCksIFwiMHhcIiArIHQpIDogXCIweDAwXCI7XG4gIH1cbiAgaWYgKHR5cGVvZiByID09IFwiYmlnaW50XCIpXG4gICAgcmV0dXJuIHIgPSByLnRvU3RyaW5nKDE2KSwgci5sZW5ndGggJSAyID8gXCIweDBcIiArIHIgOiBcIjB4XCIgKyByO1xuICBpZiAoZS5hbGxvd01pc3NpbmdQcmVmaXggJiYgdHlwZW9mIHIgPT0gXCJzdHJpbmdcIiAmJiByLnN1YnN0cmluZygwLCAyKSAhPT0gXCIweFwiICYmIChyID0gXCIweFwiICsgciksIHB1KHIpKVxuICAgIHJldHVybiByLnRvSGV4U3RyaW5nKCk7XG4gIGlmIChMcihyKSlcbiAgICByZXR1cm4gci5sZW5ndGggJSAyICYmIChlLmhleFBhZCA9PT0gXCJsZWZ0XCIgPyByID0gXCIweDBcIiArIHIuc3Vic3RyaW5nKDIpIDogZS5oZXhQYWQgPT09IFwicmlnaHRcIiA/IHIgKz0gXCIwXCIgOiB2dC50aHJvd0FyZ3VtZW50RXJyb3IoXCJoZXggZGF0YSBpcyBvZGQtbGVuZ3RoXCIsIFwidmFsdWVcIiwgcikpLCByLnRvTG93ZXJDYXNlKCk7XG4gIGlmIChGbyhyKSkge1xuICAgIGxldCB0ID0gXCIweFwiO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgci5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IG4gPSByW2ldO1xuICAgICAgdCArPSBCYVsobiAmIDI0MCkgPj4gNF0gKyBCYVtuICYgMTVdO1xuICAgIH1cbiAgICByZXR1cm4gdDtcbiAgfVxuICByZXR1cm4gdnQudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBoZXhsaWZ5IHZhbHVlXCIsIFwidmFsdWVcIiwgcik7XG59XG5mdW5jdGlvbiBxdihyKSB7XG4gIGlmICh0eXBlb2YgciAhPSBcInN0cmluZ1wiKVxuICAgIHIgPSBKdChyKTtcbiAgZWxzZSBpZiAoIUxyKHIpIHx8IHIubGVuZ3RoICUgMilcbiAgICByZXR1cm4gbnVsbDtcbiAgcmV0dXJuIChyLmxlbmd0aCAtIDIpIC8gMjtcbn1cbmZ1bmN0aW9uIHNjKHIsIGUsIHQpIHtcbiAgcmV0dXJuIHR5cGVvZiByICE9IFwic3RyaW5nXCIgPyByID0gSnQocikgOiAoIUxyKHIpIHx8IHIubGVuZ3RoICUgMikgJiYgdnQudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBoZXhEYXRhXCIsIFwidmFsdWVcIiwgciksIGUgPSAyICsgMiAqIGUsIHQgIT0gbnVsbCA/IFwiMHhcIiArIHIuc3Vic3RyaW5nKGUsIDIgKyAyICogdCkgOiBcIjB4XCIgKyByLnN1YnN0cmluZyhlKTtcbn1cbmZ1bmN0aW9uIGhuKHIsIGUpIHtcbiAgZm9yICh0eXBlb2YgciAhPSBcInN0cmluZ1wiID8gciA9IEp0KHIpIDogTHIocikgfHwgdnQudGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBoZXggc3RyaW5nXCIsIFwidmFsdWVcIiwgciksIHIubGVuZ3RoID4gMiAqIGUgKyAyICYmIHZ0LnRocm93QXJndW1lbnRFcnJvcihcInZhbHVlIG91dCBvZiByYW5nZVwiLCBcInZhbHVlXCIsIGFyZ3VtZW50c1sxXSk7IHIubGVuZ3RoIDwgMiAqIGUgKyAyOyApXG4gICAgciA9IFwiMHgwXCIgKyByLnN1YnN0cmluZygyKTtcbiAgcmV0dXJuIHI7XG59XG5mdW5jdGlvbiB2dShyKSB7XG4gIGNvbnN0IGUgPSB7XG4gICAgcjogXCIweFwiLFxuICAgIHM6IFwiMHhcIixcbiAgICBfdnM6IFwiMHhcIixcbiAgICByZWNvdmVyeVBhcmFtOiAwLFxuICAgIHY6IDAsXG4gICAgeVBhcml0eUFuZFM6IFwiMHhcIixcbiAgICBjb21wYWN0OiBcIjB4XCJcbiAgfTtcbiAgaWYgKCR2KHIpKSB7XG4gICAgbGV0IHQgPSB5dChyKTtcbiAgICB0Lmxlbmd0aCA9PT0gNjQgPyAoZS52ID0gMjcgKyAodFszMl0gPj4gNyksIHRbMzJdICY9IDEyNywgZS5yID0gSnQodC5zbGljZSgwLCAzMikpLCBlLnMgPSBKdCh0LnNsaWNlKDMyLCA2NCkpKSA6IHQubGVuZ3RoID09PSA2NSA/IChlLnIgPSBKdCh0LnNsaWNlKDAsIDMyKSksIGUucyA9IEp0KHQuc2xpY2UoMzIsIDY0KSksIGUudiA9IHRbNjRdKSA6IHZ0LnRocm93QXJndW1lbnRFcnJvcihcImludmFsaWQgc2lnbmF0dXJlIHN0cmluZ1wiLCBcInNpZ25hdHVyZVwiLCByKSwgZS52IDwgMjcgJiYgKGUudiA9PT0gMCB8fCBlLnYgPT09IDEgPyBlLnYgKz0gMjcgOiB2dC50aHJvd0FyZ3VtZW50RXJyb3IoXCJzaWduYXR1cmUgaW52YWxpZCB2IGJ5dGVcIiwgXCJzaWduYXR1cmVcIiwgcikpLCBlLnJlY292ZXJ5UGFyYW0gPSAxIC0gZS52ICUgMiwgZS5yZWNvdmVyeVBhcmFtICYmICh0WzMyXSB8PSAxMjgpLCBlLl92cyA9IEp0KHQuc2xpY2UoMzIsIDY0KSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGUuciA9IHIuciwgZS5zID0gci5zLCBlLnYgPSByLnYsIGUucmVjb3ZlcnlQYXJhbSA9IHIucmVjb3ZlcnlQYXJhbSwgZS5fdnMgPSByLl92cywgZS5fdnMgIT0gbnVsbCkge1xuICAgICAgY29uc3QgbiA9IEZ2KHl0KGUuX3ZzKSwgMzIpO1xuICAgICAgZS5fdnMgPSBKdChuKTtcbiAgICAgIGNvbnN0IHMgPSBuWzBdID49IDEyOCA/IDEgOiAwO1xuICAgICAgZS5yZWNvdmVyeVBhcmFtID09IG51bGwgPyBlLnJlY292ZXJ5UGFyYW0gPSBzIDogZS5yZWNvdmVyeVBhcmFtICE9PSBzICYmIHZ0LnRocm93QXJndW1lbnRFcnJvcihcInNpZ25hdHVyZSByZWNvdmVyeVBhcmFtIG1pc21hdGNoIF92c1wiLCBcInNpZ25hdHVyZVwiLCByKSwgblswXSAmPSAxMjc7XG4gICAgICBjb25zdCBvID0gSnQobik7XG4gICAgICBlLnMgPT0gbnVsbCA/IGUucyA9IG8gOiBlLnMgIT09IG8gJiYgdnQudGhyb3dBcmd1bWVudEVycm9yKFwic2lnbmF0dXJlIHYgbWlzbWF0Y2ggX3ZzXCIsIFwic2lnbmF0dXJlXCIsIHIpO1xuICAgIH1cbiAgICBpZiAoZS5yZWNvdmVyeVBhcmFtID09IG51bGwpXG4gICAgICBlLnYgPT0gbnVsbCA/IHZ0LnRocm93QXJndW1lbnRFcnJvcihcInNpZ25hdHVyZSBtaXNzaW5nIHYgYW5kIHJlY292ZXJ5UGFyYW1cIiwgXCJzaWduYXR1cmVcIiwgcikgOiBlLnYgPT09IDAgfHwgZS52ID09PSAxID8gZS5yZWNvdmVyeVBhcmFtID0gZS52IDogZS5yZWNvdmVyeVBhcmFtID0gMSAtIGUudiAlIDI7XG4gICAgZWxzZSBpZiAoZS52ID09IG51bGwpXG4gICAgICBlLnYgPSAyNyArIGUucmVjb3ZlcnlQYXJhbTtcbiAgICBlbHNlIHtcbiAgICAgIGNvbnN0IG4gPSBlLnYgPT09IDAgfHwgZS52ID09PSAxID8gZS52IDogMSAtIGUudiAlIDI7XG4gICAgICBlLnJlY292ZXJ5UGFyYW0gIT09IG4gJiYgdnQudGhyb3dBcmd1bWVudEVycm9yKFwic2lnbmF0dXJlIHJlY292ZXJ5UGFyYW0gbWlzbWF0Y2ggdlwiLCBcInNpZ25hdHVyZVwiLCByKTtcbiAgICB9XG4gICAgZS5yID09IG51bGwgfHwgIUxyKGUucikgPyB2dC50aHJvd0FyZ3VtZW50RXJyb3IoXCJzaWduYXR1cmUgbWlzc2luZyBvciBpbnZhbGlkIHJcIiwgXCJzaWduYXR1cmVcIiwgcikgOiBlLnIgPSBobihlLnIsIDMyKSwgZS5zID09IG51bGwgfHwgIUxyKGUucykgPyB2dC50aHJvd0FyZ3VtZW50RXJyb3IoXCJzaWduYXR1cmUgbWlzc2luZyBvciBpbnZhbGlkIHNcIiwgXCJzaWduYXR1cmVcIiwgcikgOiBlLnMgPSBobihlLnMsIDMyKTtcbiAgICBjb25zdCB0ID0geXQoZS5zKTtcbiAgICB0WzBdID49IDEyOCAmJiB2dC50aHJvd0FyZ3VtZW50RXJyb3IoXCJzaWduYXR1cmUgcyBvdXQgb2YgcmFuZ2VcIiwgXCJzaWduYXR1cmVcIiwgciksIGUucmVjb3ZlcnlQYXJhbSAmJiAodFswXSB8PSAxMjgpO1xuICAgIGNvbnN0IGkgPSBKdCh0KTtcbiAgICBlLl92cyAmJiAoTHIoZS5fdnMpIHx8IHZ0LnRocm93QXJndW1lbnRFcnJvcihcInNpZ25hdHVyZSBpbnZhbGlkIF92c1wiLCBcInNpZ25hdHVyZVwiLCByKSwgZS5fdnMgPSBobihlLl92cywgMzIpKSwgZS5fdnMgPT0gbnVsbCA/IGUuX3ZzID0gaSA6IGUuX3ZzICE9PSBpICYmIHZ0LnRocm93QXJndW1lbnRFcnJvcihcInNpZ25hdHVyZSBfdnMgbWlzbWF0Y2ggdiBhbmQgc1wiLCBcInNpZ25hdHVyZVwiLCByKTtcbiAgfVxuICByZXR1cm4gZS55UGFyaXR5QW5kUyA9IGUuX3ZzLCBlLmNvbXBhY3QgPSBlLnIgKyBlLnlQYXJpdHlBbmRTLnN1YnN0cmluZygyKSwgZTtcbn1cbmZ1bmN0aW9uIHFvKHIpIHtcbiAgcmV0dXJuIFwiMHhcIiArIFJ2LmtlY2Nha18yNTYoeXQocikpO1xufVxudmFyIFVvID0geyBleHBvcnRzOiB7fSB9O1xuVW8uZXhwb3J0cztcbihmdW5jdGlvbihyKSB7XG4gIChmdW5jdGlvbihlLCB0KSB7XG4gICAgZnVuY3Rpb24gaShsLCBhKSB7XG4gICAgICBpZiAoIWwpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihhIHx8IFwiQXNzZXJ0aW9uIGZhaWxlZFwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbihsLCBhKSB7XG4gICAgICBsLnN1cGVyXyA9IGE7XG4gICAgICB2YXIgYyA9IGZ1bmN0aW9uKCkge1xuICAgICAgfTtcbiAgICAgIGMucHJvdG90eXBlID0gYS5wcm90b3R5cGUsIGwucHJvdG90eXBlID0gbmV3IGMoKSwgbC5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBsO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzKGwsIGEsIGMpIHtcbiAgICAgIGlmIChzLmlzQk4obCkpXG4gICAgICAgIHJldHVybiBsO1xuICAgICAgdGhpcy5uZWdhdGl2ZSA9IDAsIHRoaXMud29yZHMgPSBudWxsLCB0aGlzLmxlbmd0aCA9IDAsIHRoaXMucmVkID0gbnVsbCwgbCAhPT0gbnVsbCAmJiAoKGEgPT09IFwibGVcIiB8fCBhID09PSBcImJlXCIpICYmIChjID0gYSwgYSA9IDEwKSwgdGhpcy5faW5pdChsIHx8IDAsIGEgfHwgMTAsIGMgfHwgXCJiZVwiKSk7XG4gICAgfVxuICAgIHR5cGVvZiBlID09IFwib2JqZWN0XCIgPyBlLmV4cG9ydHMgPSBzIDogdC5CTiA9IHMsIHMuQk4gPSBzLCBzLndvcmRTaXplID0gMjY7XG4gICAgdmFyIG87XG4gICAgdHJ5IHtcbiAgICAgIHR5cGVvZiB3aW5kb3cgPCBcInVcIiAmJiB0eXBlb2Ygd2luZG93LkJ1ZmZlciA8IFwidVwiID8gbyA9IHdpbmRvdy5CdWZmZXIgOiBvID0gZmEuQnVmZmVyO1xuICAgIH0gY2F0Y2gge1xuICAgIH1cbiAgICBzLmlzQk4gPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gYSBpbnN0YW5jZW9mIHMgPyAhMCA6IGEgIT09IG51bGwgJiYgdHlwZW9mIGEgPT0gXCJvYmplY3RcIiAmJiBhLmNvbnN0cnVjdG9yLndvcmRTaXplID09PSBzLndvcmRTaXplICYmIEFycmF5LmlzQXJyYXkoYS53b3Jkcyk7XG4gICAgfSwgcy5tYXggPSBmdW5jdGlvbihhLCBjKSB7XG4gICAgICByZXR1cm4gYS5jbXAoYykgPiAwID8gYSA6IGM7XG4gICAgfSwgcy5taW4gPSBmdW5jdGlvbihhLCBjKSB7XG4gICAgICByZXR1cm4gYS5jbXAoYykgPCAwID8gYSA6IGM7XG4gICAgfSwgcy5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbihhLCBjLCBiKSB7XG4gICAgICBpZiAodHlwZW9mIGEgPT0gXCJudW1iZXJcIilcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXROdW1iZXIoYSwgYywgYik7XG4gICAgICBpZiAodHlwZW9mIGEgPT0gXCJvYmplY3RcIilcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRBcnJheShhLCBjLCBiKTtcbiAgICAgIGMgPT09IFwiaGV4XCIgJiYgKGMgPSAxNiksIGkoYyA9PT0gKGMgfCAwKSAmJiBjID49IDIgJiYgYyA8PSAzNiksIGEgPSBhLnRvU3RyaW5nKCkucmVwbGFjZSgvXFxzKy9nLCBcIlwiKTtcbiAgICAgIHZhciBFID0gMDtcbiAgICAgIGFbMF0gPT09IFwiLVwiICYmIChFKyssIHRoaXMubmVnYXRpdmUgPSAxKSwgRSA8IGEubGVuZ3RoICYmIChjID09PSAxNiA/IHRoaXMuX3BhcnNlSGV4KGEsIEUsIGIpIDogKHRoaXMuX3BhcnNlQmFzZShhLCBjLCBFKSwgYiA9PT0gXCJsZVwiICYmIHRoaXMuX2luaXRBcnJheSh0aGlzLnRvQXJyYXkoKSwgYywgYikpKTtcbiAgICB9LCBzLnByb3RvdHlwZS5faW5pdE51bWJlciA9IGZ1bmN0aW9uKGEsIGMsIGIpIHtcbiAgICAgIGEgPCAwICYmICh0aGlzLm5lZ2F0aXZlID0gMSwgYSA9IC1hKSwgYSA8IDY3MTA4ODY0ID8gKHRoaXMud29yZHMgPSBbYSAmIDY3MTA4ODYzXSwgdGhpcy5sZW5ndGggPSAxKSA6IGEgPCA0NTAzNTk5NjI3MzcwNDk2ID8gKHRoaXMud29yZHMgPSBbXG4gICAgICAgIGEgJiA2NzEwODg2MyxcbiAgICAgICAgYSAvIDY3MTA4ODY0ICYgNjcxMDg4NjNcbiAgICAgIF0sIHRoaXMubGVuZ3RoID0gMikgOiAoaShhIDwgOTAwNzE5OTI1NDc0MDk5MiksIHRoaXMud29yZHMgPSBbXG4gICAgICAgIGEgJiA2NzEwODg2MyxcbiAgICAgICAgYSAvIDY3MTA4ODY0ICYgNjcxMDg4NjMsXG4gICAgICAgIDFcbiAgICAgIF0sIHRoaXMubGVuZ3RoID0gMyksIGIgPT09IFwibGVcIiAmJiB0aGlzLl9pbml0QXJyYXkodGhpcy50b0FycmF5KCksIGMsIGIpO1xuICAgIH0sIHMucHJvdG90eXBlLl9pbml0QXJyYXkgPSBmdW5jdGlvbihhLCBjLCBiKSB7XG4gICAgICBpZiAoaSh0eXBlb2YgYS5sZW5ndGggPT0gXCJudW1iZXJcIiksIGEubGVuZ3RoIDw9IDApXG4gICAgICAgIHJldHVybiB0aGlzLndvcmRzID0gWzBdLCB0aGlzLmxlbmd0aCA9IDEsIHRoaXM7XG4gICAgICB0aGlzLmxlbmd0aCA9IE1hdGguY2VpbChhLmxlbmd0aCAvIDMpLCB0aGlzLndvcmRzID0gbmV3IEFycmF5KHRoaXMubGVuZ3RoKTtcbiAgICAgIGZvciAodmFyIEUgPSAwOyBFIDwgdGhpcy5sZW5ndGg7IEUrKylcbiAgICAgICAgdGhpcy53b3Jkc1tFXSA9IDA7XG4gICAgICB2YXIgUywgeCwgdSA9IDA7XG4gICAgICBpZiAoYiA9PT0gXCJiZVwiKVxuICAgICAgICBmb3IgKEUgPSBhLmxlbmd0aCAtIDEsIFMgPSAwOyBFID49IDA7IEUgLT0gMylcbiAgICAgICAgICB4ID0gYVtFXSB8IGFbRSAtIDFdIDw8IDggfCBhW0UgLSAyXSA8PCAxNiwgdGhpcy53b3Jkc1tTXSB8PSB4IDw8IHUgJiA2NzEwODg2MywgdGhpcy53b3Jkc1tTICsgMV0gPSB4ID4+PiAyNiAtIHUgJiA2NzEwODg2MywgdSArPSAyNCwgdSA+PSAyNiAmJiAodSAtPSAyNiwgUysrKTtcbiAgICAgIGVsc2UgaWYgKGIgPT09IFwibGVcIilcbiAgICAgICAgZm9yIChFID0gMCwgUyA9IDA7IEUgPCBhLmxlbmd0aDsgRSArPSAzKVxuICAgICAgICAgIHggPSBhW0VdIHwgYVtFICsgMV0gPDwgOCB8IGFbRSArIDJdIDw8IDE2LCB0aGlzLndvcmRzW1NdIHw9IHggPDwgdSAmIDY3MTA4ODYzLCB0aGlzLndvcmRzW1MgKyAxXSA9IHggPj4+IDI2IC0gdSAmIDY3MTA4ODYzLCB1ICs9IDI0LCB1ID49IDI2ICYmICh1IC09IDI2LCBTKyspO1xuICAgICAgcmV0dXJuIHRoaXMuX3N0cmlwKCk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBmKGwsIGEpIHtcbiAgICAgIHZhciBjID0gbC5jaGFyQ29kZUF0KGEpO1xuICAgICAgaWYgKGMgPj0gNDggJiYgYyA8PSA1NylcbiAgICAgICAgcmV0dXJuIGMgLSA0ODtcbiAgICAgIGlmIChjID49IDY1ICYmIGMgPD0gNzApXG4gICAgICAgIHJldHVybiBjIC0gNTU7XG4gICAgICBpZiAoYyA+PSA5NyAmJiBjIDw9IDEwMilcbiAgICAgICAgcmV0dXJuIGMgLSA4NztcbiAgICAgIGkoITEsIFwiSW52YWxpZCBjaGFyYWN0ZXIgaW4gXCIgKyBsKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaChsLCBhLCBjKSB7XG4gICAgICB2YXIgYiA9IGYobCwgYyk7XG4gICAgICByZXR1cm4gYyAtIDEgPj0gYSAmJiAoYiB8PSBmKGwsIGMgLSAxKSA8PCA0KSwgYjtcbiAgICB9XG4gICAgcy5wcm90b3R5cGUuX3BhcnNlSGV4ID0gZnVuY3Rpb24oYSwgYywgYikge1xuICAgICAgdGhpcy5sZW5ndGggPSBNYXRoLmNlaWwoKGEubGVuZ3RoIC0gYykgLyA2KSwgdGhpcy53b3JkcyA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBFID0gMDsgRSA8IHRoaXMubGVuZ3RoOyBFKyspXG4gICAgICAgIHRoaXMud29yZHNbRV0gPSAwO1xuICAgICAgdmFyIFMgPSAwLCB4ID0gMCwgdTtcbiAgICAgIGlmIChiID09PSBcImJlXCIpXG4gICAgICAgIGZvciAoRSA9IGEubGVuZ3RoIC0gMTsgRSA+PSBjOyBFIC09IDIpXG4gICAgICAgICAgdSA9IGgoYSwgYywgRSkgPDwgUywgdGhpcy53b3Jkc1t4XSB8PSB1ICYgNjcxMDg4NjMsIFMgPj0gMTggPyAoUyAtPSAxOCwgeCArPSAxLCB0aGlzLndvcmRzW3hdIHw9IHUgPj4+IDI2KSA6IFMgKz0gODtcbiAgICAgIGVsc2Uge1xuICAgICAgICB2YXIgbSA9IGEubGVuZ3RoIC0gYztcbiAgICAgICAgZm9yIChFID0gbSAlIDIgPT09IDAgPyBjICsgMSA6IGM7IEUgPCBhLmxlbmd0aDsgRSArPSAyKVxuICAgICAgICAgIHUgPSBoKGEsIGMsIEUpIDw8IFMsIHRoaXMud29yZHNbeF0gfD0gdSAmIDY3MTA4ODYzLCBTID49IDE4ID8gKFMgLT0gMTgsIHggKz0gMSwgdGhpcy53b3Jkc1t4XSB8PSB1ID4+PiAyNikgOiBTICs9IDg7XG4gICAgICB9XG4gICAgICB0aGlzLl9zdHJpcCgpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gZChsLCBhLCBjLCBiKSB7XG4gICAgICBmb3IgKHZhciBFID0gMCwgUyA9IDAsIHggPSBNYXRoLm1pbihsLmxlbmd0aCwgYyksIHUgPSBhOyB1IDwgeDsgdSsrKSB7XG4gICAgICAgIHZhciBtID0gbC5jaGFyQ29kZUF0KHUpIC0gNDg7XG4gICAgICAgIEUgKj0gYiwgbSA+PSA0OSA/IFMgPSBtIC0gNDkgKyAxMCA6IG0gPj0gMTcgPyBTID0gbSAtIDE3ICsgMTAgOiBTID0gbSwgaShtID49IDAgJiYgUyA8IGIsIFwiSW52YWxpZCBjaGFyYWN0ZXJcIiksIEUgKz0gUztcbiAgICAgIH1cbiAgICAgIHJldHVybiBFO1xuICAgIH1cbiAgICBzLnByb3RvdHlwZS5fcGFyc2VCYXNlID0gZnVuY3Rpb24oYSwgYywgYikge1xuICAgICAgdGhpcy53b3JkcyA9IFswXSwgdGhpcy5sZW5ndGggPSAxO1xuICAgICAgZm9yICh2YXIgRSA9IDAsIFMgPSAxOyBTIDw9IDY3MTA4ODYzOyBTICo9IGMpXG4gICAgICAgIEUrKztcbiAgICAgIEUtLSwgUyA9IFMgLyBjIHwgMDtcbiAgICAgIGZvciAodmFyIHggPSBhLmxlbmd0aCAtIGIsIHUgPSB4ICUgRSwgbSA9IE1hdGgubWluKHgsIHggLSB1KSArIGIsIGcgPSAwLCBQID0gYjsgUCA8IG07IFAgKz0gRSlcbiAgICAgICAgZyA9IGQoYSwgUCwgUCArIEUsIGMpLCB0aGlzLmltdWxuKFMpLCB0aGlzLndvcmRzWzBdICsgZyA8IDY3MTA4ODY0ID8gdGhpcy53b3Jkc1swXSArPSBnIDogdGhpcy5faWFkZG4oZyk7XG4gICAgICBpZiAodSAhPT0gMCkge1xuICAgICAgICB2YXIgRyA9IDE7XG4gICAgICAgIGZvciAoZyA9IGQoYSwgUCwgYS5sZW5ndGgsIGMpLCBQID0gMDsgUCA8IHU7IFArKylcbiAgICAgICAgICBHICo9IGM7XG4gICAgICAgIHRoaXMuaW11bG4oRyksIHRoaXMud29yZHNbMF0gKyBnIDwgNjcxMDg4NjQgPyB0aGlzLndvcmRzWzBdICs9IGcgOiB0aGlzLl9pYWRkbihnKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3N0cmlwKCk7XG4gICAgfSwgcy5wcm90b3R5cGUuY29weSA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIGEud29yZHMgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGgpO1xuICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCB0aGlzLmxlbmd0aDsgYysrKVxuICAgICAgICBhLndvcmRzW2NdID0gdGhpcy53b3Jkc1tjXTtcbiAgICAgIGEubGVuZ3RoID0gdGhpcy5sZW5ndGgsIGEubmVnYXRpdmUgPSB0aGlzLm5lZ2F0aXZlLCBhLnJlZCA9IHRoaXMucmVkO1xuICAgIH07XG4gICAgZnVuY3Rpb24gdihsLCBhKSB7XG4gICAgICBsLndvcmRzID0gYS53b3JkcywgbC5sZW5ndGggPSBhLmxlbmd0aCwgbC5uZWdhdGl2ZSA9IGEubmVnYXRpdmUsIGwucmVkID0gYS5yZWQ7XG4gICAgfVxuICAgIGlmIChzLnByb3RvdHlwZS5fbW92ZSA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHYoYSwgdGhpcyk7XG4gICAgfSwgcy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBhID0gbmV3IHMobnVsbCk7XG4gICAgICByZXR1cm4gdGhpcy5jb3B5KGEpLCBhO1xuICAgIH0sIHMucHJvdG90eXBlLl9leHBhbmQgPSBmdW5jdGlvbihhKSB7XG4gICAgICBmb3IgKDsgdGhpcy5sZW5ndGggPCBhOyApXG4gICAgICAgIHRoaXMud29yZHNbdGhpcy5sZW5ndGgrK10gPSAwO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSwgcy5wcm90b3R5cGUuX3N0cmlwID0gZnVuY3Rpb24oKSB7XG4gICAgICBmb3IgKDsgdGhpcy5sZW5ndGggPiAxICYmIHRoaXMud29yZHNbdGhpcy5sZW5ndGggLSAxXSA9PT0gMDsgKVxuICAgICAgICB0aGlzLmxlbmd0aC0tO1xuICAgICAgcmV0dXJuIHRoaXMuX25vcm1TaWduKCk7XG4gICAgfSwgcy5wcm90b3R5cGUuX25vcm1TaWduID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5sZW5ndGggPT09IDEgJiYgdGhpcy53b3Jkc1swXSA9PT0gMCAmJiAodGhpcy5uZWdhdGl2ZSA9IDApLCB0aGlzO1xuICAgIH0sIHR5cGVvZiBTeW1ib2wgPCBcInVcIiAmJiB0eXBlb2YgU3ltYm9sLmZvciA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICB0cnkge1xuICAgICAgICBzLnByb3RvdHlwZVtTeW1ib2wuZm9yKFwibm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b21cIildID0gdztcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICBzLnByb3RvdHlwZS5pbnNwZWN0ID0gdztcbiAgICAgIH1cbiAgICBlbHNlXG4gICAgICBzLnByb3RvdHlwZS5pbnNwZWN0ID0gdztcbiAgICBmdW5jdGlvbiB3KCkge1xuICAgICAgcmV0dXJuICh0aGlzLnJlZCA/IFwiPEJOLVI6IFwiIDogXCI8Qk46IFwiKSArIHRoaXMudG9TdHJpbmcoMTYpICsgXCI+XCI7XG4gICAgfVxuICAgIHZhciBBID0gW1xuICAgICAgXCJcIixcbiAgICAgIFwiMFwiLFxuICAgICAgXCIwMFwiLFxuICAgICAgXCIwMDBcIixcbiAgICAgIFwiMDAwMFwiLFxuICAgICAgXCIwMDAwMFwiLFxuICAgICAgXCIwMDAwMDBcIixcbiAgICAgIFwiMDAwMDAwMFwiLFxuICAgICAgXCIwMDAwMDAwMFwiLFxuICAgICAgXCIwMDAwMDAwMDBcIixcbiAgICAgIFwiMDAwMDAwMDAwMFwiLFxuICAgICAgXCIwMDAwMDAwMDAwMFwiLFxuICAgICAgXCIwMDAwMDAwMDAwMDBcIixcbiAgICAgIFwiMDAwMDAwMDAwMDAwMFwiLFxuICAgICAgXCIwMDAwMDAwMDAwMDAwMFwiLFxuICAgICAgXCIwMDAwMDAwMDAwMDAwMDBcIixcbiAgICAgIFwiMDAwMDAwMDAwMDAwMDAwMFwiLFxuICAgICAgXCIwMDAwMDAwMDAwMDAwMDAwMFwiLFxuICAgICAgXCIwMDAwMDAwMDAwMDAwMDAwMDBcIixcbiAgICAgIFwiMDAwMDAwMDAwMDAwMDAwMDAwMFwiLFxuICAgICAgXCIwMDAwMDAwMDAwMDAwMDAwMDAwMFwiLFxuICAgICAgXCIwMDAwMDAwMDAwMDAwMDAwMDAwMDBcIixcbiAgICAgIFwiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMFwiLFxuICAgICAgXCIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMFwiLFxuICAgICAgXCIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBcIixcbiAgICAgIFwiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMFwiXG4gICAgXSwgSSA9IFtcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMjUsXG4gICAgICAxNixcbiAgICAgIDEyLFxuICAgICAgMTEsXG4gICAgICAxMCxcbiAgICAgIDksXG4gICAgICA4LFxuICAgICAgOCxcbiAgICAgIDcsXG4gICAgICA3LFxuICAgICAgNyxcbiAgICAgIDcsXG4gICAgICA2LFxuICAgICAgNixcbiAgICAgIDYsXG4gICAgICA2LFxuICAgICAgNixcbiAgICAgIDYsXG4gICAgICA2LFxuICAgICAgNSxcbiAgICAgIDUsXG4gICAgICA1LFxuICAgICAgNSxcbiAgICAgIDUsXG4gICAgICA1LFxuICAgICAgNSxcbiAgICAgIDUsXG4gICAgICA1LFxuICAgICAgNSxcbiAgICAgIDUsXG4gICAgICA1LFxuICAgICAgNSxcbiAgICAgIDUsXG4gICAgICA1LFxuICAgICAgNVxuICAgIF0sIEQgPSBbXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDMzNTU0NDMyLFxuICAgICAgNDMwNDY3MjEsXG4gICAgICAxNjc3NzIxNixcbiAgICAgIDQ4ODI4MTI1LFxuICAgICAgNjA0NjYxNzYsXG4gICAgICA0MDM1MzYwNyxcbiAgICAgIDE2Nzc3MjE2LFxuICAgICAgNDMwNDY3MjEsXG4gICAgICAxZTcsXG4gICAgICAxOTQ4NzE3MSxcbiAgICAgIDM1ODMxODA4LFxuICAgICAgNjI3NDg1MTcsXG4gICAgICA3NTI5NTM2LFxuICAgICAgMTEzOTA2MjUsXG4gICAgICAxNjc3NzIxNixcbiAgICAgIDI0MTM3NTY5LFxuICAgICAgMzQwMTIyMjQsXG4gICAgICA0NzA0NTg4MSxcbiAgICAgIDY0ZTYsXG4gICAgICA0MDg0MTAxLFxuICAgICAgNTE1MzYzMixcbiAgICAgIDY0MzYzNDMsXG4gICAgICA3OTYyNjI0LFxuICAgICAgOTc2NTYyNSxcbiAgICAgIDExODgxMzc2LFxuICAgICAgMTQzNDg5MDcsXG4gICAgICAxNzIxMDM2OCxcbiAgICAgIDIwNTExMTQ5LFxuICAgICAgMjQzZTUsXG4gICAgICAyODYyOTE1MSxcbiAgICAgIDMzNTU0NDMyLFxuICAgICAgMzkxMzUzOTMsXG4gICAgICA0NTQzNTQyNCxcbiAgICAgIDUyNTIxODc1LFxuICAgICAgNjA0NjYxNzZcbiAgICBdO1xuICAgIHMucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24oYSwgYykge1xuICAgICAgYSA9IGEgfHwgMTAsIGMgPSBjIHwgMCB8fCAxO1xuICAgICAgdmFyIGI7XG4gICAgICBpZiAoYSA9PT0gMTYgfHwgYSA9PT0gXCJoZXhcIikge1xuICAgICAgICBiID0gXCJcIjtcbiAgICAgICAgZm9yICh2YXIgRSA9IDAsIFMgPSAwLCB4ID0gMDsgeCA8IHRoaXMubGVuZ3RoOyB4KyspIHtcbiAgICAgICAgICB2YXIgdSA9IHRoaXMud29yZHNbeF0sIG0gPSAoKHUgPDwgRSB8IFMpICYgMTY3NzcyMTUpLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgICBTID0gdSA+Pj4gMjQgLSBFICYgMTY3NzcyMTUsIEUgKz0gMiwgRSA+PSAyNiAmJiAoRSAtPSAyNiwgeC0tKSwgUyAhPT0gMCB8fCB4ICE9PSB0aGlzLmxlbmd0aCAtIDEgPyBiID0gQVs2IC0gbS5sZW5ndGhdICsgbSArIGIgOiBiID0gbSArIGI7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChTICE9PSAwICYmIChiID0gUy50b1N0cmluZygxNikgKyBiKTsgYi5sZW5ndGggJSBjICE9PSAwOyApXG4gICAgICAgICAgYiA9IFwiMFwiICsgYjtcbiAgICAgICAgcmV0dXJuIHRoaXMubmVnYXRpdmUgIT09IDAgJiYgKGIgPSBcIi1cIiArIGIpLCBiO1xuICAgICAgfVxuICAgICAgaWYgKGEgPT09IChhIHwgMCkgJiYgYSA+PSAyICYmIGEgPD0gMzYpIHtcbiAgICAgICAgdmFyIGcgPSBJW2FdLCBQID0gRFthXTtcbiAgICAgICAgYiA9IFwiXCI7XG4gICAgICAgIHZhciBHID0gdGhpcy5jbG9uZSgpO1xuICAgICAgICBmb3IgKEcubmVnYXRpdmUgPSAwOyAhRy5pc1plcm8oKTsgKSB7XG4gICAgICAgICAgdmFyIE0gPSBHLm1vZHJuKFApLnRvU3RyaW5nKGEpO1xuICAgICAgICAgIEcgPSBHLmlkaXZuKFApLCBHLmlzWmVybygpID8gYiA9IE0gKyBiIDogYiA9IEFbZyAtIE0ubGVuZ3RoXSArIE0gKyBiO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodGhpcy5pc1plcm8oKSAmJiAoYiA9IFwiMFwiICsgYik7IGIubGVuZ3RoICUgYyAhPT0gMDsgKVxuICAgICAgICAgIGIgPSBcIjBcIiArIGI7XG4gICAgICAgIHJldHVybiB0aGlzLm5lZ2F0aXZlICE9PSAwICYmIChiID0gXCItXCIgKyBiKSwgYjtcbiAgICAgIH1cbiAgICAgIGkoITEsIFwiQmFzZSBzaG91bGQgYmUgYmV0d2VlbiAyIGFuZCAzNlwiKTtcbiAgICB9LCBzLnByb3RvdHlwZS50b051bWJlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGEgPSB0aGlzLndvcmRzWzBdO1xuICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoID09PSAyID8gYSArPSB0aGlzLndvcmRzWzFdICogNjcxMDg4NjQgOiB0aGlzLmxlbmd0aCA9PT0gMyAmJiB0aGlzLndvcmRzWzJdID09PSAxID8gYSArPSA0NTAzNTk5NjI3MzcwNDk2ICsgdGhpcy53b3Jkc1sxXSAqIDY3MTA4ODY0IDogdGhpcy5sZW5ndGggPiAyICYmIGkoITEsIFwiTnVtYmVyIGNhbiBvbmx5IHNhZmVseSBzdG9yZSB1cCB0byA1MyBiaXRzXCIpLCB0aGlzLm5lZ2F0aXZlICE9PSAwID8gLWEgOiBhO1xuICAgIH0sIHMucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoMTYsIDIpO1xuICAgIH0sIG8gJiYgKHMucHJvdG90eXBlLnRvQnVmZmVyID0gZnVuY3Rpb24oYSwgYykge1xuICAgICAgcmV0dXJuIHRoaXMudG9BcnJheUxpa2UobywgYSwgYyk7XG4gICAgfSksIHMucHJvdG90eXBlLnRvQXJyYXkgPSBmdW5jdGlvbihhLCBjKSB7XG4gICAgICByZXR1cm4gdGhpcy50b0FycmF5TGlrZShBcnJheSwgYSwgYyk7XG4gICAgfTtcbiAgICB2YXIgTiA9IGZ1bmN0aW9uKGEsIGMpIHtcbiAgICAgIHJldHVybiBhLmFsbG9jVW5zYWZlID8gYS5hbGxvY1Vuc2FmZShjKSA6IG5ldyBhKGMpO1xuICAgIH07XG4gICAgcy5wcm90b3R5cGUudG9BcnJheUxpa2UgPSBmdW5jdGlvbihhLCBjLCBiKSB7XG4gICAgICB0aGlzLl9zdHJpcCgpO1xuICAgICAgdmFyIEUgPSB0aGlzLmJ5dGVMZW5ndGgoKSwgUyA9IGIgfHwgTWF0aC5tYXgoMSwgRSk7XG4gICAgICBpKEUgPD0gUywgXCJieXRlIGFycmF5IGxvbmdlciB0aGFuIGRlc2lyZWQgbGVuZ3RoXCIpLCBpKFMgPiAwLCBcIlJlcXVlc3RlZCBhcnJheSBsZW5ndGggPD0gMFwiKTtcbiAgICAgIHZhciB4ID0gTihhLCBTKSwgdSA9IGMgPT09IFwibGVcIiA/IFwiTEVcIiA6IFwiQkVcIjtcbiAgICAgIHJldHVybiB0aGlzW1wiX3RvQXJyYXlMaWtlXCIgKyB1XSh4LCBFKSwgeDtcbiAgICB9LCBzLnByb3RvdHlwZS5fdG9BcnJheUxpa2VMRSA9IGZ1bmN0aW9uKGEsIGMpIHtcbiAgICAgIGZvciAodmFyIGIgPSAwLCBFID0gMCwgUyA9IDAsIHggPSAwOyBTIDwgdGhpcy5sZW5ndGg7IFMrKykge1xuICAgICAgICB2YXIgdSA9IHRoaXMud29yZHNbU10gPDwgeCB8IEU7XG4gICAgICAgIGFbYisrXSA9IHUgJiAyNTUsIGIgPCBhLmxlbmd0aCAmJiAoYVtiKytdID0gdSA+PiA4ICYgMjU1KSwgYiA8IGEubGVuZ3RoICYmIChhW2IrK10gPSB1ID4+IDE2ICYgMjU1KSwgeCA9PT0gNiA/IChiIDwgYS5sZW5ndGggJiYgKGFbYisrXSA9IHUgPj4gMjQgJiAyNTUpLCBFID0gMCwgeCA9IDApIDogKEUgPSB1ID4+PiAyNCwgeCArPSAyKTtcbiAgICAgIH1cbiAgICAgIGlmIChiIDwgYS5sZW5ndGgpXG4gICAgICAgIGZvciAoYVtiKytdID0gRTsgYiA8IGEubGVuZ3RoOyApXG4gICAgICAgICAgYVtiKytdID0gMDtcbiAgICB9LCBzLnByb3RvdHlwZS5fdG9BcnJheUxpa2VCRSA9IGZ1bmN0aW9uKGEsIGMpIHtcbiAgICAgIGZvciAodmFyIGIgPSBhLmxlbmd0aCAtIDEsIEUgPSAwLCBTID0gMCwgeCA9IDA7IFMgPCB0aGlzLmxlbmd0aDsgUysrKSB7XG4gICAgICAgIHZhciB1ID0gdGhpcy53b3Jkc1tTXSA8PCB4IHwgRTtcbiAgICAgICAgYVtiLS1dID0gdSAmIDI1NSwgYiA+PSAwICYmIChhW2ItLV0gPSB1ID4+IDggJiAyNTUpLCBiID49IDAgJiYgKGFbYi0tXSA9IHUgPj4gMTYgJiAyNTUpLCB4ID09PSA2ID8gKGIgPj0gMCAmJiAoYVtiLS1dID0gdSA+PiAyNCAmIDI1NSksIEUgPSAwLCB4ID0gMCkgOiAoRSA9IHUgPj4+IDI0LCB4ICs9IDIpO1xuICAgICAgfVxuICAgICAgaWYgKGIgPj0gMClcbiAgICAgICAgZm9yIChhW2ItLV0gPSBFOyBiID49IDA7IClcbiAgICAgICAgICBhW2ItLV0gPSAwO1xuICAgIH0sIE1hdGguY2x6MzIgPyBzLnByb3RvdHlwZS5fY291bnRCaXRzID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIDMyIC0gTWF0aC5jbHozMihhKTtcbiAgICB9IDogcy5wcm90b3R5cGUuX2NvdW50Qml0cyA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHZhciBjID0gYSwgYiA9IDA7XG4gICAgICByZXR1cm4gYyA+PSA0MDk2ICYmIChiICs9IDEzLCBjID4+Pj0gMTMpLCBjID49IDY0ICYmIChiICs9IDcsIGMgPj4+PSA3KSwgYyA+PSA4ICYmIChiICs9IDQsIGMgPj4+PSA0KSwgYyA+PSAyICYmIChiICs9IDIsIGMgPj4+PSAyKSwgYiArIGM7XG4gICAgfSwgcy5wcm90b3R5cGUuX3plcm9CaXRzID0gZnVuY3Rpb24oYSkge1xuICAgICAgaWYgKGEgPT09IDApXG4gICAgICAgIHJldHVybiAyNjtcbiAgICAgIHZhciBjID0gYSwgYiA9IDA7XG4gICAgICByZXR1cm4gYyAmIDgxOTEgfHwgKGIgKz0gMTMsIGMgPj4+PSAxMyksIGMgJiAxMjcgfHwgKGIgKz0gNywgYyA+Pj49IDcpLCBjICYgMTUgfHwgKGIgKz0gNCwgYyA+Pj49IDQpLCBjICYgMyB8fCAoYiArPSAyLCBjID4+Pj0gMiksIGMgJiAxIHx8IGIrKywgYjtcbiAgICB9LCBzLnByb3RvdHlwZS5iaXRMZW5ndGggPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBhID0gdGhpcy53b3Jkc1t0aGlzLmxlbmd0aCAtIDFdLCBjID0gdGhpcy5fY291bnRCaXRzKGEpO1xuICAgICAgcmV0dXJuICh0aGlzLmxlbmd0aCAtIDEpICogMjYgKyBjO1xuICAgIH07XG4gICAgZnVuY3Rpb24gayhsKSB7XG4gICAgICBmb3IgKHZhciBhID0gbmV3IEFycmF5KGwuYml0TGVuZ3RoKCkpLCBjID0gMDsgYyA8IGEubGVuZ3RoOyBjKyspIHtcbiAgICAgICAgdmFyIGIgPSBjIC8gMjYgfCAwLCBFID0gYyAlIDI2O1xuICAgICAgICBhW2NdID0gbC53b3Jkc1tiXSA+Pj4gRSAmIDE7XG4gICAgICB9XG4gICAgICByZXR1cm4gYTtcbiAgICB9XG4gICAgcy5wcm90b3R5cGUuemVyb0JpdHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmlzWmVybygpKVxuICAgICAgICByZXR1cm4gMDtcbiAgICAgIGZvciAodmFyIGEgPSAwLCBjID0gMDsgYyA8IHRoaXMubGVuZ3RoOyBjKyspIHtcbiAgICAgICAgdmFyIGIgPSB0aGlzLl96ZXJvQml0cyh0aGlzLndvcmRzW2NdKTtcbiAgICAgICAgaWYgKGEgKz0gYiwgYiAhPT0gMjYpXG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICByZXR1cm4gYTtcbiAgICB9LCBzLnByb3RvdHlwZS5ieXRlTGVuZ3RoID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gTWF0aC5jZWlsKHRoaXMuYml0TGVuZ3RoKCkgLyA4KTtcbiAgICB9LCBzLnByb3RvdHlwZS50b1R3b3MgPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gdGhpcy5uZWdhdGl2ZSAhPT0gMCA/IHRoaXMuYWJzKCkuaW5vdG4oYSkuaWFkZG4oMSkgOiB0aGlzLmNsb25lKCk7XG4gICAgfSwgcy5wcm90b3R5cGUuZnJvbVR3b3MgPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZXN0bihhIC0gMSkgPyB0aGlzLm5vdG4oYSkuaWFkZG4oMSkuaW5lZygpIDogdGhpcy5jbG9uZSgpO1xuICAgIH0sIHMucHJvdG90eXBlLmlzTmVnID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5uZWdhdGl2ZSAhPT0gMDtcbiAgICB9LCBzLnByb3RvdHlwZS5uZWcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuaW5lZygpO1xuICAgIH0sIHMucHJvdG90eXBlLmluZWcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmlzWmVybygpIHx8ICh0aGlzLm5lZ2F0aXZlIF49IDEpLCB0aGlzO1xuICAgIH0sIHMucHJvdG90eXBlLml1b3IgPSBmdW5jdGlvbihhKSB7XG4gICAgICBmb3IgKDsgdGhpcy5sZW5ndGggPCBhLmxlbmd0aDsgKVxuICAgICAgICB0aGlzLndvcmRzW3RoaXMubGVuZ3RoKytdID0gMDtcbiAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgYS5sZW5ndGg7IGMrKylcbiAgICAgICAgdGhpcy53b3Jkc1tjXSA9IHRoaXMud29yZHNbY10gfCBhLndvcmRzW2NdO1xuICAgICAgcmV0dXJuIHRoaXMuX3N0cmlwKCk7XG4gICAgfSwgcy5wcm90b3R5cGUuaW9yID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIGkoKHRoaXMubmVnYXRpdmUgfCBhLm5lZ2F0aXZlKSA9PT0gMCksIHRoaXMuaXVvcihhKTtcbiAgICB9LCBzLnByb3RvdHlwZS5vciA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiB0aGlzLmxlbmd0aCA+IGEubGVuZ3RoID8gdGhpcy5jbG9uZSgpLmlvcihhKSA6IGEuY2xvbmUoKS5pb3IodGhpcyk7XG4gICAgfSwgcy5wcm90b3R5cGUudW9yID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoID4gYS5sZW5ndGggPyB0aGlzLmNsb25lKCkuaXVvcihhKSA6IGEuY2xvbmUoKS5pdW9yKHRoaXMpO1xuICAgIH0sIHMucHJvdG90eXBlLml1YW5kID0gZnVuY3Rpb24oYSkge1xuICAgICAgdmFyIGM7XG4gICAgICB0aGlzLmxlbmd0aCA+IGEubGVuZ3RoID8gYyA9IGEgOiBjID0gdGhpcztcbiAgICAgIGZvciAodmFyIGIgPSAwOyBiIDwgYy5sZW5ndGg7IGIrKylcbiAgICAgICAgdGhpcy53b3Jkc1tiXSA9IHRoaXMud29yZHNbYl0gJiBhLndvcmRzW2JdO1xuICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoID0gYy5sZW5ndGgsIHRoaXMuX3N0cmlwKCk7XG4gICAgfSwgcy5wcm90b3R5cGUuaWFuZCA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiBpKCh0aGlzLm5lZ2F0aXZlIHwgYS5uZWdhdGl2ZSkgPT09IDApLCB0aGlzLml1YW5kKGEpO1xuICAgIH0sIHMucHJvdG90eXBlLmFuZCA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiB0aGlzLmxlbmd0aCA+IGEubGVuZ3RoID8gdGhpcy5jbG9uZSgpLmlhbmQoYSkgOiBhLmNsb25lKCkuaWFuZCh0aGlzKTtcbiAgICB9LCBzLnByb3RvdHlwZS51YW5kID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoID4gYS5sZW5ndGggPyB0aGlzLmNsb25lKCkuaXVhbmQoYSkgOiBhLmNsb25lKCkuaXVhbmQodGhpcyk7XG4gICAgfSwgcy5wcm90b3R5cGUuaXV4b3IgPSBmdW5jdGlvbihhKSB7XG4gICAgICB2YXIgYywgYjtcbiAgICAgIHRoaXMubGVuZ3RoID4gYS5sZW5ndGggPyAoYyA9IHRoaXMsIGIgPSBhKSA6IChjID0gYSwgYiA9IHRoaXMpO1xuICAgICAgZm9yICh2YXIgRSA9IDA7IEUgPCBiLmxlbmd0aDsgRSsrKVxuICAgICAgICB0aGlzLndvcmRzW0VdID0gYy53b3Jkc1tFXSBeIGIud29yZHNbRV07XG4gICAgICBpZiAodGhpcyAhPT0gYylcbiAgICAgICAgZm9yICg7IEUgPCBjLmxlbmd0aDsgRSsrKVxuICAgICAgICAgIHRoaXMud29yZHNbRV0gPSBjLndvcmRzW0VdO1xuICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoID0gYy5sZW5ndGgsIHRoaXMuX3N0cmlwKCk7XG4gICAgfSwgcy5wcm90b3R5cGUuaXhvciA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiBpKCh0aGlzLm5lZ2F0aXZlIHwgYS5uZWdhdGl2ZSkgPT09IDApLCB0aGlzLml1eG9yKGEpO1xuICAgIH0sIHMucHJvdG90eXBlLnhvciA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiB0aGlzLmxlbmd0aCA+IGEubGVuZ3RoID8gdGhpcy5jbG9uZSgpLml4b3IoYSkgOiBhLmNsb25lKCkuaXhvcih0aGlzKTtcbiAgICB9LCBzLnByb3RvdHlwZS51eG9yID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoID4gYS5sZW5ndGggPyB0aGlzLmNsb25lKCkuaXV4b3IoYSkgOiBhLmNsb25lKCkuaXV4b3IodGhpcyk7XG4gICAgfSwgcy5wcm90b3R5cGUuaW5vdG4gPSBmdW5jdGlvbihhKSB7XG4gICAgICBpKHR5cGVvZiBhID09IFwibnVtYmVyXCIgJiYgYSA+PSAwKTtcbiAgICAgIHZhciBjID0gTWF0aC5jZWlsKGEgLyAyNikgfCAwLCBiID0gYSAlIDI2O1xuICAgICAgdGhpcy5fZXhwYW5kKGMpLCBiID4gMCAmJiBjLS07XG4gICAgICBmb3IgKHZhciBFID0gMDsgRSA8IGM7IEUrKylcbiAgICAgICAgdGhpcy53b3Jkc1tFXSA9IH50aGlzLndvcmRzW0VdICYgNjcxMDg4NjM7XG4gICAgICByZXR1cm4gYiA+IDAgJiYgKHRoaXMud29yZHNbRV0gPSB+dGhpcy53b3Jkc1tFXSAmIDY3MTA4ODYzID4+IDI2IC0gYiksIHRoaXMuX3N0cmlwKCk7XG4gICAgfSwgcy5wcm90b3R5cGUubm90biA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuaW5vdG4oYSk7XG4gICAgfSwgcy5wcm90b3R5cGUuc2V0biA9IGZ1bmN0aW9uKGEsIGMpIHtcbiAgICAgIGkodHlwZW9mIGEgPT0gXCJudW1iZXJcIiAmJiBhID49IDApO1xuICAgICAgdmFyIGIgPSBhIC8gMjYgfCAwLCBFID0gYSAlIDI2O1xuICAgICAgcmV0dXJuIHRoaXMuX2V4cGFuZChiICsgMSksIGMgPyB0aGlzLndvcmRzW2JdID0gdGhpcy53b3Jkc1tiXSB8IDEgPDwgRSA6IHRoaXMud29yZHNbYl0gPSB0aGlzLndvcmRzW2JdICYgfigxIDw8IEUpLCB0aGlzLl9zdHJpcCgpO1xuICAgIH0sIHMucHJvdG90eXBlLmlhZGQgPSBmdW5jdGlvbihhKSB7XG4gICAgICB2YXIgYztcbiAgICAgIGlmICh0aGlzLm5lZ2F0aXZlICE9PSAwICYmIGEubmVnYXRpdmUgPT09IDApXG4gICAgICAgIHJldHVybiB0aGlzLm5lZ2F0aXZlID0gMCwgYyA9IHRoaXMuaXN1YihhKSwgdGhpcy5uZWdhdGl2ZSBePSAxLCB0aGlzLl9ub3JtU2lnbigpO1xuICAgICAgaWYgKHRoaXMubmVnYXRpdmUgPT09IDAgJiYgYS5uZWdhdGl2ZSAhPT0gMClcbiAgICAgICAgcmV0dXJuIGEubmVnYXRpdmUgPSAwLCBjID0gdGhpcy5pc3ViKGEpLCBhLm5lZ2F0aXZlID0gMSwgYy5fbm9ybVNpZ24oKTtcbiAgICAgIHZhciBiLCBFO1xuICAgICAgdGhpcy5sZW5ndGggPiBhLmxlbmd0aCA/IChiID0gdGhpcywgRSA9IGEpIDogKGIgPSBhLCBFID0gdGhpcyk7XG4gICAgICBmb3IgKHZhciBTID0gMCwgeCA9IDA7IHggPCBFLmxlbmd0aDsgeCsrKVxuICAgICAgICBjID0gKGIud29yZHNbeF0gfCAwKSArIChFLndvcmRzW3hdIHwgMCkgKyBTLCB0aGlzLndvcmRzW3hdID0gYyAmIDY3MTA4ODYzLCBTID0gYyA+Pj4gMjY7XG4gICAgICBmb3IgKDsgUyAhPT0gMCAmJiB4IDwgYi5sZW5ndGg7IHgrKylcbiAgICAgICAgYyA9IChiLndvcmRzW3hdIHwgMCkgKyBTLCB0aGlzLndvcmRzW3hdID0gYyAmIDY3MTA4ODYzLCBTID0gYyA+Pj4gMjY7XG4gICAgICBpZiAodGhpcy5sZW5ndGggPSBiLmxlbmd0aCwgUyAhPT0gMClcbiAgICAgICAgdGhpcy53b3Jkc1t0aGlzLmxlbmd0aF0gPSBTLCB0aGlzLmxlbmd0aCsrO1xuICAgICAgZWxzZSBpZiAoYiAhPT0gdGhpcylcbiAgICAgICAgZm9yICg7IHggPCBiLmxlbmd0aDsgeCsrKVxuICAgICAgICAgIHRoaXMud29yZHNbeF0gPSBiLndvcmRzW3hdO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSwgcy5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oYSkge1xuICAgICAgdmFyIGM7XG4gICAgICByZXR1cm4gYS5uZWdhdGl2ZSAhPT0gMCAmJiB0aGlzLm5lZ2F0aXZlID09PSAwID8gKGEubmVnYXRpdmUgPSAwLCBjID0gdGhpcy5zdWIoYSksIGEubmVnYXRpdmUgXj0gMSwgYykgOiBhLm5lZ2F0aXZlID09PSAwICYmIHRoaXMubmVnYXRpdmUgIT09IDAgPyAodGhpcy5uZWdhdGl2ZSA9IDAsIGMgPSBhLnN1Yih0aGlzKSwgdGhpcy5uZWdhdGl2ZSA9IDEsIGMpIDogdGhpcy5sZW5ndGggPiBhLmxlbmd0aCA/IHRoaXMuY2xvbmUoKS5pYWRkKGEpIDogYS5jbG9uZSgpLmlhZGQodGhpcyk7XG4gICAgfSwgcy5wcm90b3R5cGUuaXN1YiA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIGlmIChhLm5lZ2F0aXZlICE9PSAwKSB7XG4gICAgICAgIGEubmVnYXRpdmUgPSAwO1xuICAgICAgICB2YXIgYyA9IHRoaXMuaWFkZChhKTtcbiAgICAgICAgcmV0dXJuIGEubmVnYXRpdmUgPSAxLCBjLl9ub3JtU2lnbigpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm5lZ2F0aXZlICE9PSAwKVxuICAgICAgICByZXR1cm4gdGhpcy5uZWdhdGl2ZSA9IDAsIHRoaXMuaWFkZChhKSwgdGhpcy5uZWdhdGl2ZSA9IDEsIHRoaXMuX25vcm1TaWduKCk7XG4gICAgICB2YXIgYiA9IHRoaXMuY21wKGEpO1xuICAgICAgaWYgKGIgPT09IDApXG4gICAgICAgIHJldHVybiB0aGlzLm5lZ2F0aXZlID0gMCwgdGhpcy5sZW5ndGggPSAxLCB0aGlzLndvcmRzWzBdID0gMCwgdGhpcztcbiAgICAgIHZhciBFLCBTO1xuICAgICAgYiA+IDAgPyAoRSA9IHRoaXMsIFMgPSBhKSA6IChFID0gYSwgUyA9IHRoaXMpO1xuICAgICAgZm9yICh2YXIgeCA9IDAsIHUgPSAwOyB1IDwgUy5sZW5ndGg7IHUrKylcbiAgICAgICAgYyA9IChFLndvcmRzW3VdIHwgMCkgLSAoUy53b3Jkc1t1XSB8IDApICsgeCwgeCA9IGMgPj4gMjYsIHRoaXMud29yZHNbdV0gPSBjICYgNjcxMDg4NjM7XG4gICAgICBmb3IgKDsgeCAhPT0gMCAmJiB1IDwgRS5sZW5ndGg7IHUrKylcbiAgICAgICAgYyA9IChFLndvcmRzW3VdIHwgMCkgKyB4LCB4ID0gYyA+PiAyNiwgdGhpcy53b3Jkc1t1XSA9IGMgJiA2NzEwODg2MztcbiAgICAgIGlmICh4ID09PSAwICYmIHUgPCBFLmxlbmd0aCAmJiBFICE9PSB0aGlzKVxuICAgICAgICBmb3IgKDsgdSA8IEUubGVuZ3RoOyB1KyspXG4gICAgICAgICAgdGhpcy53b3Jkc1t1XSA9IEUud29yZHNbdV07XG4gICAgICByZXR1cm4gdGhpcy5sZW5ndGggPSBNYXRoLm1heCh0aGlzLmxlbmd0aCwgdSksIEUgIT09IHRoaXMgJiYgKHRoaXMubmVnYXRpdmUgPSAxKSwgdGhpcy5fc3RyaXAoKTtcbiAgICB9LCBzLnByb3RvdHlwZS5zdWIgPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmlzdWIoYSk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBqKGwsIGEsIGMpIHtcbiAgICAgIGMubmVnYXRpdmUgPSBhLm5lZ2F0aXZlIF4gbC5uZWdhdGl2ZTtcbiAgICAgIHZhciBiID0gbC5sZW5ndGggKyBhLmxlbmd0aCB8IDA7XG4gICAgICBjLmxlbmd0aCA9IGIsIGIgPSBiIC0gMSB8IDA7XG4gICAgICB2YXIgRSA9IGwud29yZHNbMF0gfCAwLCBTID0gYS53b3Jkc1swXSB8IDAsIHggPSBFICogUywgdSA9IHggJiA2NzEwODg2MywgbSA9IHggLyA2NzEwODg2NCB8IDA7XG4gICAgICBjLndvcmRzWzBdID0gdTtcbiAgICAgIGZvciAodmFyIGcgPSAxOyBnIDwgYjsgZysrKSB7XG4gICAgICAgIGZvciAodmFyIFAgPSBtID4+PiAyNiwgRyA9IG0gJiA2NzEwODg2MywgTSA9IE1hdGgubWluKGcsIGEubGVuZ3RoIC0gMSksIEggPSBNYXRoLm1heCgwLCBnIC0gbC5sZW5ndGggKyAxKTsgSCA8PSBNOyBIKyspIHtcbiAgICAgICAgICB2YXIgQyA9IGcgLSBIIHwgMDtcbiAgICAgICAgICBFID0gbC53b3Jkc1tDXSB8IDAsIFMgPSBhLndvcmRzW0hdIHwgMCwgeCA9IEUgKiBTICsgRywgUCArPSB4IC8gNjcxMDg4NjQgfCAwLCBHID0geCAmIDY3MTA4ODYzO1xuICAgICAgICB9XG4gICAgICAgIGMud29yZHNbZ10gPSBHIHwgMCwgbSA9IFAgfCAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG0gIT09IDAgPyBjLndvcmRzW2ddID0gbSB8IDAgOiBjLmxlbmd0aC0tLCBjLl9zdHJpcCgpO1xuICAgIH1cbiAgICB2YXIgVCA9IGZ1bmN0aW9uKGEsIGMsIGIpIHtcbiAgICAgIHZhciBFID0gYS53b3JkcywgUyA9IGMud29yZHMsIHggPSBiLndvcmRzLCB1ID0gMCwgbSwgZywgUCwgRyA9IEVbMF0gfCAwLCBNID0gRyAmIDgxOTEsIEggPSBHID4+PiAxMywgQyA9IEVbMV0gfCAwLCBxID0gQyAmIDgxOTEsIEwgPSBDID4+PiAxMywgeSA9IEVbMl0gfCAwLCBGID0geSAmIDgxOTEsIFcgPSB5ID4+PiAxMywgWSA9IEVbM10gfCAwLCBYID0gWSAmIDgxOTEsIGVlID0gWSA+Pj4gMTMsIHdlID0gRVs0XSB8IDAsIE1lID0gd2UgJiA4MTkxLCBoZSA9IHdlID4+PiAxMywgUmUgPSBFWzVdIHwgMCwgeGUgPSBSZSAmIDgxOTEsIHNlID0gUmUgPj4+IDEzLCBnZSA9IEVbNl0gfCAwLCBsZSA9IGdlICYgODE5MSwgbmUgPSBnZSA+Pj4gMTMsIHVlID0gRVs3XSB8IDAsIGZlID0gdWUgJiA4MTkxLCB0ZSA9IHVlID4+PiAxMywgcGUgPSBFWzhdIHwgMCwgX2UgPSBwZSAmIDgxOTEsIHJlID0gcGUgPj4+IDEzLCBFZSA9IEVbOV0gfCAwLCBTZSA9IEVlICYgODE5MSwgb2UgPSBFZSA+Pj4gMTMsIERlID0gU1swXSB8IDAsIEllID0gRGUgJiA4MTkxLCBQZSA9IERlID4+PiAxMywgR2UgPSBTWzFdIHwgMCwgWWUgPSBHZSAmIDgxOTEsIEFlID0gR2UgPj4+IDEzLCBaZSA9IFNbMl0gfCAwLCBldCA9IFplICYgODE5MSwgTmUgPSBaZSA+Pj4gMTMsIENlID0gU1szXSB8IDAsIFRlID0gQ2UgJiA4MTkxLCBkZSA9IENlID4+PiAxMywgJGUgPSBTWzRdIHwgMCwgTGUgPSAkZSAmIDgxOTEsIGNlID0gJGUgPj4+IDEzLCBVZSA9IFNbNV0gfCAwLCB6ZSA9IFVlICYgODE5MSwgeWUgPSBVZSA+Pj4gMTMsIEJlID0gU1s2XSB8IDAsIGtlID0gQmUgJiA4MTkxLCB2ZSA9IEJlID4+PiAxMywgRmUgPSBTWzddIHwgMCwgT2UgPSBGZSAmIDgxOTEsIG1lID0gRmUgPj4+IDEzLCBqZSA9IFNbOF0gfCAwLCBydCA9IGplICYgODE5MSwgcWUgPSBqZSA+Pj4gMTMsIGl0ID0gU1s5XSB8IDAsIEplID0gaXQgJiA4MTkxLCB0dCA9IGl0ID4+PiAxMztcbiAgICAgIGIubmVnYXRpdmUgPSBhLm5lZ2F0aXZlIF4gYy5uZWdhdGl2ZSwgYi5sZW5ndGggPSAxOSwgbSA9IE1hdGguaW11bChNLCBJZSksIGcgPSBNYXRoLmltdWwoTSwgUGUpLCBnID0gZyArIE1hdGguaW11bChILCBJZSkgfCAwLCBQID0gTWF0aC5pbXVsKEgsIFBlKTtcbiAgICAgIHZhciBqdCA9ICh1ICsgbSB8IDApICsgKChnICYgODE5MSkgPDwgMTMpIHwgMDtcbiAgICAgIHUgPSAoUCArIChnID4+PiAxMykgfCAwKSArIChqdCA+Pj4gMjYpIHwgMCwganQgJj0gNjcxMDg4NjMsIG0gPSBNYXRoLmltdWwocSwgSWUpLCBnID0gTWF0aC5pbXVsKHEsIFBlKSwgZyA9IGcgKyBNYXRoLmltdWwoTCwgSWUpIHwgMCwgUCA9IE1hdGguaW11bChMLCBQZSksIG0gPSBtICsgTWF0aC5pbXVsKE0sIFllKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKE0sIEFlKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKEgsIFllKSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKEgsIEFlKSB8IDA7XG4gICAgICB2YXIgS3QgPSAodSArIG0gfCAwKSArICgoZyAmIDgxOTEpIDw8IDEzKSB8IDA7XG4gICAgICB1ID0gKFAgKyAoZyA+Pj4gMTMpIHwgMCkgKyAoS3QgPj4+IDI2KSB8IDAsIEt0ICY9IDY3MTA4ODYzLCBtID0gTWF0aC5pbXVsKEYsIEllKSwgZyA9IE1hdGguaW11bChGLCBQZSksIGcgPSBnICsgTWF0aC5pbXVsKFcsIEllKSB8IDAsIFAgPSBNYXRoLmltdWwoVywgUGUpLCBtID0gbSArIE1hdGguaW11bChxLCBZZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChxLCBBZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChMLCBZZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChMLCBBZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChNLCBldCkgfCAwLCBnID0gZyArIE1hdGguaW11bChNLCBOZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChILCBldCkgfCAwLCBQID0gUCArIE1hdGguaW11bChILCBOZSkgfCAwO1xuICAgICAgdmFyIEh0ID0gKHUgKyBtIHwgMCkgKyAoKGcgJiA4MTkxKSA8PCAxMykgfCAwO1xuICAgICAgdSA9IChQICsgKGcgPj4+IDEzKSB8IDApICsgKEh0ID4+PiAyNikgfCAwLCBIdCAmPSA2NzEwODg2MywgbSA9IE1hdGguaW11bChYLCBJZSksIGcgPSBNYXRoLmltdWwoWCwgUGUpLCBnID0gZyArIE1hdGguaW11bChlZSwgSWUpIHwgMCwgUCA9IE1hdGguaW11bChlZSwgUGUpLCBtID0gbSArIE1hdGguaW11bChGLCBZZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChGLCBBZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChXLCBZZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChXLCBBZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChxLCBldCkgfCAwLCBnID0gZyArIE1hdGguaW11bChxLCBOZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChMLCBldCkgfCAwLCBQID0gUCArIE1hdGguaW11bChMLCBOZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChNLCBUZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChNLCBkZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChILCBUZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChILCBkZSkgfCAwO1xuICAgICAgdmFyIFZ0ID0gKHUgKyBtIHwgMCkgKyAoKGcgJiA4MTkxKSA8PCAxMykgfCAwO1xuICAgICAgdSA9IChQICsgKGcgPj4+IDEzKSB8IDApICsgKFZ0ID4+PiAyNikgfCAwLCBWdCAmPSA2NzEwODg2MywgbSA9IE1hdGguaW11bChNZSwgSWUpLCBnID0gTWF0aC5pbXVsKE1lLCBQZSksIGcgPSBnICsgTWF0aC5pbXVsKGhlLCBJZSkgfCAwLCBQID0gTWF0aC5pbXVsKGhlLCBQZSksIG0gPSBtICsgTWF0aC5pbXVsKFgsIFllKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKFgsIEFlKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKGVlLCBZZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChlZSwgQWUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoRiwgZXQpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoRiwgTmUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoVywgZXQpIHwgMCwgUCA9IFAgKyBNYXRoLmltdWwoVywgTmUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwocSwgVGUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwocSwgZGUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoTCwgVGUpIHwgMCwgUCA9IFAgKyBNYXRoLmltdWwoTCwgZGUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoTSwgTGUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoTSwgY2UpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoSCwgTGUpIHwgMCwgUCA9IFAgKyBNYXRoLmltdWwoSCwgY2UpIHwgMDtcbiAgICAgIHZhciBndCA9ICh1ICsgbSB8IDApICsgKChnICYgODE5MSkgPDwgMTMpIHwgMDtcbiAgICAgIHUgPSAoUCArIChnID4+PiAxMykgfCAwKSArIChndCA+Pj4gMjYpIHwgMCwgZ3QgJj0gNjcxMDg4NjMsIG0gPSBNYXRoLmltdWwoeGUsIEllKSwgZyA9IE1hdGguaW11bCh4ZSwgUGUpLCBnID0gZyArIE1hdGguaW11bChzZSwgSWUpIHwgMCwgUCA9IE1hdGguaW11bChzZSwgUGUpLCBtID0gbSArIE1hdGguaW11bChNZSwgWWUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoTWUsIEFlKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKGhlLCBZZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChoZSwgQWUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoWCwgZXQpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoWCwgTmUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoZWUsIGV0KSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKGVlLCBOZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChGLCBUZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChGLCBkZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChXLCBUZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChXLCBkZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChxLCBMZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChxLCBjZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChMLCBMZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChMLCBjZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChNLCB6ZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChNLCB5ZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChILCB6ZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChILCB5ZSkgfCAwO1xuICAgICAgdmFyIFZyID0gKHUgKyBtIHwgMCkgKyAoKGcgJiA4MTkxKSA8PCAxMykgfCAwO1xuICAgICAgdSA9IChQICsgKGcgPj4+IDEzKSB8IDApICsgKFZyID4+PiAyNikgfCAwLCBWciAmPSA2NzEwODg2MywgbSA9IE1hdGguaW11bChsZSwgSWUpLCBnID0gTWF0aC5pbXVsKGxlLCBQZSksIGcgPSBnICsgTWF0aC5pbXVsKG5lLCBJZSkgfCAwLCBQID0gTWF0aC5pbXVsKG5lLCBQZSksIG0gPSBtICsgTWF0aC5pbXVsKHhlLCBZZSkgfCAwLCBnID0gZyArIE1hdGguaW11bCh4ZSwgQWUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoc2UsIFllKSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKHNlLCBBZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChNZSwgZXQpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoTWUsIE5lKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKGhlLCBldCkgfCAwLCBQID0gUCArIE1hdGguaW11bChoZSwgTmUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoWCwgVGUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoWCwgZGUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoZWUsIFRlKSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKGVlLCBkZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChGLCBMZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChGLCBjZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChXLCBMZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChXLCBjZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChxLCB6ZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChxLCB5ZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChMLCB6ZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChMLCB5ZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChNLCBrZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChNLCB2ZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChILCBrZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChILCB2ZSkgfCAwO1xuICAgICAgdmFyIFdyID0gKHUgKyBtIHwgMCkgKyAoKGcgJiA4MTkxKSA8PCAxMykgfCAwO1xuICAgICAgdSA9IChQICsgKGcgPj4+IDEzKSB8IDApICsgKFdyID4+PiAyNikgfCAwLCBXciAmPSA2NzEwODg2MywgbSA9IE1hdGguaW11bChmZSwgSWUpLCBnID0gTWF0aC5pbXVsKGZlLCBQZSksIGcgPSBnICsgTWF0aC5pbXVsKHRlLCBJZSkgfCAwLCBQID0gTWF0aC5pbXVsKHRlLCBQZSksIG0gPSBtICsgTWF0aC5pbXVsKGxlLCBZZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChsZSwgQWUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwobmUsIFllKSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKG5lLCBBZSkgfCAwLCBtID0gbSArIE1hdGguaW11bCh4ZSwgZXQpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoeGUsIE5lKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKHNlLCBldCkgfCAwLCBQID0gUCArIE1hdGguaW11bChzZSwgTmUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoTWUsIFRlKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKE1lLCBkZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChoZSwgVGUpIHwgMCwgUCA9IFAgKyBNYXRoLmltdWwoaGUsIGRlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKFgsIExlKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKFgsIGNlKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKGVlLCBMZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChlZSwgY2UpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoRiwgemUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoRiwgeWUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoVywgemUpIHwgMCwgUCA9IFAgKyBNYXRoLmltdWwoVywgeWUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwocSwga2UpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwocSwgdmUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoTCwga2UpIHwgMCwgUCA9IFAgKyBNYXRoLmltdWwoTCwgdmUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoTSwgT2UpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoTSwgbWUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoSCwgT2UpIHwgMCwgUCA9IFAgKyBNYXRoLmltdWwoSCwgbWUpIHwgMDtcbiAgICAgIHZhciBHciA9ICh1ICsgbSB8IDApICsgKChnICYgODE5MSkgPDwgMTMpIHwgMDtcbiAgICAgIHUgPSAoUCArIChnID4+PiAxMykgfCAwKSArIChHciA+Pj4gMjYpIHwgMCwgR3IgJj0gNjcxMDg4NjMsIG0gPSBNYXRoLmltdWwoX2UsIEllKSwgZyA9IE1hdGguaW11bChfZSwgUGUpLCBnID0gZyArIE1hdGguaW11bChyZSwgSWUpIHwgMCwgUCA9IE1hdGguaW11bChyZSwgUGUpLCBtID0gbSArIE1hdGguaW11bChmZSwgWWUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoZmUsIEFlKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKHRlLCBZZSkgfCAwLCBQID0gUCArIE1hdGguaW11bCh0ZSwgQWUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwobGUsIGV0KSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKGxlLCBOZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChuZSwgZXQpIHwgMCwgUCA9IFAgKyBNYXRoLmltdWwobmUsIE5lKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKHhlLCBUZSkgfCAwLCBnID0gZyArIE1hdGguaW11bCh4ZSwgZGUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoc2UsIFRlKSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKHNlLCBkZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChNZSwgTGUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoTWUsIGNlKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKGhlLCBMZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChoZSwgY2UpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoWCwgemUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoWCwgeWUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoZWUsIHplKSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKGVlLCB5ZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChGLCBrZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChGLCB2ZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChXLCBrZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChXLCB2ZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChxLCBPZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChxLCBtZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChMLCBPZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChMLCBtZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChNLCBydCkgfCAwLCBnID0gZyArIE1hdGguaW11bChNLCBxZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChILCBydCkgfCAwLCBQID0gUCArIE1hdGguaW11bChILCBxZSkgfCAwO1xuICAgICAgdmFyIEpyID0gKHUgKyBtIHwgMCkgKyAoKGcgJiA4MTkxKSA8PCAxMykgfCAwO1xuICAgICAgdSA9IChQICsgKGcgPj4+IDEzKSB8IDApICsgKEpyID4+PiAyNikgfCAwLCBKciAmPSA2NzEwODg2MywgbSA9IE1hdGguaW11bChTZSwgSWUpLCBnID0gTWF0aC5pbXVsKFNlLCBQZSksIGcgPSBnICsgTWF0aC5pbXVsKG9lLCBJZSkgfCAwLCBQID0gTWF0aC5pbXVsKG9lLCBQZSksIG0gPSBtICsgTWF0aC5pbXVsKF9lLCBZZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChfZSwgQWUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwocmUsIFllKSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKHJlLCBBZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChmZSwgZXQpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoZmUsIE5lKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKHRlLCBldCkgfCAwLCBQID0gUCArIE1hdGguaW11bCh0ZSwgTmUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwobGUsIFRlKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKGxlLCBkZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChuZSwgVGUpIHwgMCwgUCA9IFAgKyBNYXRoLmltdWwobmUsIGRlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKHhlLCBMZSkgfCAwLCBnID0gZyArIE1hdGguaW11bCh4ZSwgY2UpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoc2UsIExlKSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKHNlLCBjZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChNZSwgemUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoTWUsIHllKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKGhlLCB6ZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChoZSwgeWUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoWCwga2UpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoWCwgdmUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoZWUsIGtlKSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKGVlLCB2ZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChGLCBPZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChGLCBtZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChXLCBPZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChXLCBtZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChxLCBydCkgfCAwLCBnID0gZyArIE1hdGguaW11bChxLCBxZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChMLCBydCkgfCAwLCBQID0gUCArIE1hdGguaW11bChMLCBxZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChNLCBKZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChNLCB0dCkgfCAwLCBnID0gZyArIE1hdGguaW11bChILCBKZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChILCB0dCkgfCAwO1xuICAgICAgdmFyIFlyID0gKHUgKyBtIHwgMCkgKyAoKGcgJiA4MTkxKSA8PCAxMykgfCAwO1xuICAgICAgdSA9IChQICsgKGcgPj4+IDEzKSB8IDApICsgKFlyID4+PiAyNikgfCAwLCBZciAmPSA2NzEwODg2MywgbSA9IE1hdGguaW11bChTZSwgWWUpLCBnID0gTWF0aC5pbXVsKFNlLCBBZSksIGcgPSBnICsgTWF0aC5pbXVsKG9lLCBZZSkgfCAwLCBQID0gTWF0aC5pbXVsKG9lLCBBZSksIG0gPSBtICsgTWF0aC5pbXVsKF9lLCBldCkgfCAwLCBnID0gZyArIE1hdGguaW11bChfZSwgTmUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwocmUsIGV0KSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKHJlLCBOZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChmZSwgVGUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoZmUsIGRlKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKHRlLCBUZSkgfCAwLCBQID0gUCArIE1hdGguaW11bCh0ZSwgZGUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwobGUsIExlKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKGxlLCBjZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChuZSwgTGUpIHwgMCwgUCA9IFAgKyBNYXRoLmltdWwobmUsIGNlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKHhlLCB6ZSkgfCAwLCBnID0gZyArIE1hdGguaW11bCh4ZSwgeWUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoc2UsIHplKSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKHNlLCB5ZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChNZSwga2UpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoTWUsIHZlKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKGhlLCBrZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChoZSwgdmUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoWCwgT2UpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoWCwgbWUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoZWUsIE9lKSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKGVlLCBtZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChGLCBydCkgfCAwLCBnID0gZyArIE1hdGguaW11bChGLCBxZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChXLCBydCkgfCAwLCBQID0gUCArIE1hdGguaW11bChXLCBxZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChxLCBKZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChxLCB0dCkgfCAwLCBnID0gZyArIE1hdGguaW11bChMLCBKZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChMLCB0dCkgfCAwO1xuICAgICAgdmFyIG9yID0gKHUgKyBtIHwgMCkgKyAoKGcgJiA4MTkxKSA8PCAxMykgfCAwO1xuICAgICAgdSA9IChQICsgKGcgPj4+IDEzKSB8IDApICsgKG9yID4+PiAyNikgfCAwLCBvciAmPSA2NzEwODg2MywgbSA9IE1hdGguaW11bChTZSwgZXQpLCBnID0gTWF0aC5pbXVsKFNlLCBOZSksIGcgPSBnICsgTWF0aC5pbXVsKG9lLCBldCkgfCAwLCBQID0gTWF0aC5pbXVsKG9lLCBOZSksIG0gPSBtICsgTWF0aC5pbXVsKF9lLCBUZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChfZSwgZGUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwocmUsIFRlKSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKHJlLCBkZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChmZSwgTGUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoZmUsIGNlKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKHRlLCBMZSkgfCAwLCBQID0gUCArIE1hdGguaW11bCh0ZSwgY2UpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwobGUsIHplKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKGxlLCB5ZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChuZSwgemUpIHwgMCwgUCA9IFAgKyBNYXRoLmltdWwobmUsIHllKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKHhlLCBrZSkgfCAwLCBnID0gZyArIE1hdGguaW11bCh4ZSwgdmUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoc2UsIGtlKSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKHNlLCB2ZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChNZSwgT2UpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoTWUsIG1lKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKGhlLCBPZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChoZSwgbWUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoWCwgcnQpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoWCwgcWUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoZWUsIHJ0KSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKGVlLCBxZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChGLCBKZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChGLCB0dCkgfCAwLCBnID0gZyArIE1hdGguaW11bChXLCBKZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChXLCB0dCkgfCAwO1xuICAgICAgdmFyIFhyID0gKHUgKyBtIHwgMCkgKyAoKGcgJiA4MTkxKSA8PCAxMykgfCAwO1xuICAgICAgdSA9IChQICsgKGcgPj4+IDEzKSB8IDApICsgKFhyID4+PiAyNikgfCAwLCBYciAmPSA2NzEwODg2MywgbSA9IE1hdGguaW11bChTZSwgVGUpLCBnID0gTWF0aC5pbXVsKFNlLCBkZSksIGcgPSBnICsgTWF0aC5pbXVsKG9lLCBUZSkgfCAwLCBQID0gTWF0aC5pbXVsKG9lLCBkZSksIG0gPSBtICsgTWF0aC5pbXVsKF9lLCBMZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChfZSwgY2UpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwocmUsIExlKSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKHJlLCBjZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChmZSwgemUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoZmUsIHllKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKHRlLCB6ZSkgfCAwLCBQID0gUCArIE1hdGguaW11bCh0ZSwgeWUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwobGUsIGtlKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKGxlLCB2ZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChuZSwga2UpIHwgMCwgUCA9IFAgKyBNYXRoLmltdWwobmUsIHZlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKHhlLCBPZSkgfCAwLCBnID0gZyArIE1hdGguaW11bCh4ZSwgbWUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoc2UsIE9lKSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKHNlLCBtZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChNZSwgcnQpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoTWUsIHFlKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKGhlLCBydCkgfCAwLCBQID0gUCArIE1hdGguaW11bChoZSwgcWUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoWCwgSmUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoWCwgdHQpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoZWUsIEplKSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKGVlLCB0dCkgfCAwO1xuICAgICAgdmFyIFpyID0gKHUgKyBtIHwgMCkgKyAoKGcgJiA4MTkxKSA8PCAxMykgfCAwO1xuICAgICAgdSA9IChQICsgKGcgPj4+IDEzKSB8IDApICsgKFpyID4+PiAyNikgfCAwLCBaciAmPSA2NzEwODg2MywgbSA9IE1hdGguaW11bChTZSwgTGUpLCBnID0gTWF0aC5pbXVsKFNlLCBjZSksIGcgPSBnICsgTWF0aC5pbXVsKG9lLCBMZSkgfCAwLCBQID0gTWF0aC5pbXVsKG9lLCBjZSksIG0gPSBtICsgTWF0aC5pbXVsKF9lLCB6ZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChfZSwgeWUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwocmUsIHplKSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKHJlLCB5ZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChmZSwga2UpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoZmUsIHZlKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKHRlLCBrZSkgfCAwLCBQID0gUCArIE1hdGguaW11bCh0ZSwgdmUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwobGUsIE9lKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKGxlLCBtZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChuZSwgT2UpIHwgMCwgUCA9IFAgKyBNYXRoLmltdWwobmUsIG1lKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKHhlLCBydCkgfCAwLCBnID0gZyArIE1hdGguaW11bCh4ZSwgcWUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoc2UsIHJ0KSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKHNlLCBxZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChNZSwgSmUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoTWUsIHR0KSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKGhlLCBKZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChoZSwgdHQpIHwgMDtcbiAgICAgIHZhciAkdCA9ICh1ICsgbSB8IDApICsgKChnICYgODE5MSkgPDwgMTMpIHwgMDtcbiAgICAgIHUgPSAoUCArIChnID4+PiAxMykgfCAwKSArICgkdCA+Pj4gMjYpIHwgMCwgJHQgJj0gNjcxMDg4NjMsIG0gPSBNYXRoLmltdWwoU2UsIHplKSwgZyA9IE1hdGguaW11bChTZSwgeWUpLCBnID0gZyArIE1hdGguaW11bChvZSwgemUpIHwgMCwgUCA9IE1hdGguaW11bChvZSwgeWUpLCBtID0gbSArIE1hdGguaW11bChfZSwga2UpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoX2UsIHZlKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKHJlLCBrZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChyZSwgdmUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoZmUsIE9lKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKGZlLCBtZSkgfCAwLCBnID0gZyArIE1hdGguaW11bCh0ZSwgT2UpIHwgMCwgUCA9IFAgKyBNYXRoLmltdWwodGUsIG1lKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKGxlLCBydCkgfCAwLCBnID0gZyArIE1hdGguaW11bChsZSwgcWUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwobmUsIHJ0KSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKG5lLCBxZSkgfCAwLCBtID0gbSArIE1hdGguaW11bCh4ZSwgSmUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoeGUsIHR0KSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKHNlLCBKZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChzZSwgdHQpIHwgMDtcbiAgICAgIHZhciBRciA9ICh1ICsgbSB8IDApICsgKChnICYgODE5MSkgPDwgMTMpIHwgMDtcbiAgICAgIHUgPSAoUCArIChnID4+PiAxMykgfCAwKSArIChRciA+Pj4gMjYpIHwgMCwgUXIgJj0gNjcxMDg4NjMsIG0gPSBNYXRoLmltdWwoU2UsIGtlKSwgZyA9IE1hdGguaW11bChTZSwgdmUpLCBnID0gZyArIE1hdGguaW11bChvZSwga2UpIHwgMCwgUCA9IE1hdGguaW11bChvZSwgdmUpLCBtID0gbSArIE1hdGguaW11bChfZSwgT2UpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoX2UsIG1lKSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKHJlLCBPZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChyZSwgbWUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoZmUsIHJ0KSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKGZlLCBxZSkgfCAwLCBnID0gZyArIE1hdGguaW11bCh0ZSwgcnQpIHwgMCwgUCA9IFAgKyBNYXRoLmltdWwodGUsIHFlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKGxlLCBKZSkgfCAwLCBnID0gZyArIE1hdGguaW11bChsZSwgdHQpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwobmUsIEplKSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKG5lLCB0dCkgfCAwO1xuICAgICAgdmFyIGVpID0gKHUgKyBtIHwgMCkgKyAoKGcgJiA4MTkxKSA8PCAxMykgfCAwO1xuICAgICAgdSA9IChQICsgKGcgPj4+IDEzKSB8IDApICsgKGVpID4+PiAyNikgfCAwLCBlaSAmPSA2NzEwODg2MywgbSA9IE1hdGguaW11bChTZSwgT2UpLCBnID0gTWF0aC5pbXVsKFNlLCBtZSksIGcgPSBnICsgTWF0aC5pbXVsKG9lLCBPZSkgfCAwLCBQID0gTWF0aC5pbXVsKG9lLCBtZSksIG0gPSBtICsgTWF0aC5pbXVsKF9lLCBydCkgfCAwLCBnID0gZyArIE1hdGguaW11bChfZSwgcWUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwocmUsIHJ0KSB8IDAsIFAgPSBQICsgTWF0aC5pbXVsKHJlLCBxZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChmZSwgSmUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoZmUsIHR0KSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKHRlLCBKZSkgfCAwLCBQID0gUCArIE1hdGguaW11bCh0ZSwgdHQpIHwgMDtcbiAgICAgIHZhciB0aSA9ICh1ICsgbSB8IDApICsgKChnICYgODE5MSkgPDwgMTMpIHwgMDtcbiAgICAgIHUgPSAoUCArIChnID4+PiAxMykgfCAwKSArICh0aSA+Pj4gMjYpIHwgMCwgdGkgJj0gNjcxMDg4NjMsIG0gPSBNYXRoLmltdWwoU2UsIHJ0KSwgZyA9IE1hdGguaW11bChTZSwgcWUpLCBnID0gZyArIE1hdGguaW11bChvZSwgcnQpIHwgMCwgUCA9IE1hdGguaW11bChvZSwgcWUpLCBtID0gbSArIE1hdGguaW11bChfZSwgSmUpIHwgMCwgZyA9IGcgKyBNYXRoLmltdWwoX2UsIHR0KSB8IDAsIGcgPSBnICsgTWF0aC5pbXVsKHJlLCBKZSkgfCAwLCBQID0gUCArIE1hdGguaW11bChyZSwgdHQpIHwgMDtcbiAgICAgIHZhciBBbiA9ICh1ICsgbSB8IDApICsgKChnICYgODE5MSkgPDwgMTMpIHwgMDtcbiAgICAgIHUgPSAoUCArIChnID4+PiAxMykgfCAwKSArIChBbiA+Pj4gMjYpIHwgMCwgQW4gJj0gNjcxMDg4NjMsIG0gPSBNYXRoLmltdWwoU2UsIEplKSwgZyA9IE1hdGguaW11bChTZSwgdHQpLCBnID0gZyArIE1hdGguaW11bChvZSwgSmUpIHwgMCwgUCA9IE1hdGguaW11bChvZSwgdHQpO1xuICAgICAgdmFyIERuID0gKHUgKyBtIHwgMCkgKyAoKGcgJiA4MTkxKSA8PCAxMykgfCAwO1xuICAgICAgcmV0dXJuIHUgPSAoUCArIChnID4+PiAxMykgfCAwKSArIChEbiA+Pj4gMjYpIHwgMCwgRG4gJj0gNjcxMDg4NjMsIHhbMF0gPSBqdCwgeFsxXSA9IEt0LCB4WzJdID0gSHQsIHhbM10gPSBWdCwgeFs0XSA9IGd0LCB4WzVdID0gVnIsIHhbNl0gPSBXciwgeFs3XSA9IEdyLCB4WzhdID0gSnIsIHhbOV0gPSBZciwgeFsxMF0gPSBvciwgeFsxMV0gPSBYciwgeFsxMl0gPSBaciwgeFsxM10gPSAkdCwgeFsxNF0gPSBRciwgeFsxNV0gPSBlaSwgeFsxNl0gPSB0aSwgeFsxN10gPSBBbiwgeFsxOF0gPSBEbiwgdSAhPT0gMCAmJiAoeFsxOV0gPSB1LCBiLmxlbmd0aCsrKSwgYjtcbiAgICB9O1xuICAgIE1hdGguaW11bCB8fCAoVCA9IGopO1xuICAgIGZ1bmN0aW9uIEsobCwgYSwgYykge1xuICAgICAgYy5uZWdhdGl2ZSA9IGEubmVnYXRpdmUgXiBsLm5lZ2F0aXZlLCBjLmxlbmd0aCA9IGwubGVuZ3RoICsgYS5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBiID0gMCwgRSA9IDAsIFMgPSAwOyBTIDwgYy5sZW5ndGggLSAxOyBTKyspIHtcbiAgICAgICAgdmFyIHggPSBFO1xuICAgICAgICBFID0gMDtcbiAgICAgICAgZm9yICh2YXIgdSA9IGIgJiA2NzEwODg2MywgbSA9IE1hdGgubWluKFMsIGEubGVuZ3RoIC0gMSksIGcgPSBNYXRoLm1heCgwLCBTIC0gbC5sZW5ndGggKyAxKTsgZyA8PSBtOyBnKyspIHtcbiAgICAgICAgICB2YXIgUCA9IFMgLSBnLCBHID0gbC53b3Jkc1tQXSB8IDAsIE0gPSBhLndvcmRzW2ddIHwgMCwgSCA9IEcgKiBNLCBDID0gSCAmIDY3MTA4ODYzO1xuICAgICAgICAgIHggPSB4ICsgKEggLyA2NzEwODg2NCB8IDApIHwgMCwgQyA9IEMgKyB1IHwgMCwgdSA9IEMgJiA2NzEwODg2MywgeCA9IHggKyAoQyA+Pj4gMjYpIHwgMCwgRSArPSB4ID4+PiAyNiwgeCAmPSA2NzEwODg2MztcbiAgICAgICAgfVxuICAgICAgICBjLndvcmRzW1NdID0gdSwgYiA9IHgsIHggPSBFO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGIgIT09IDAgPyBjLndvcmRzW1NdID0gYiA6IGMubGVuZ3RoLS0sIGMuX3N0cmlwKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uICQobCwgYSwgYykge1xuICAgICAgcmV0dXJuIEsobCwgYSwgYyk7XG4gICAgfVxuICAgIHMucHJvdG90eXBlLm11bFRvID0gZnVuY3Rpb24oYSwgYykge1xuICAgICAgdmFyIGIsIEUgPSB0aGlzLmxlbmd0aCArIGEubGVuZ3RoO1xuICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoID09PSAxMCAmJiBhLmxlbmd0aCA9PT0gMTAgPyBiID0gVCh0aGlzLCBhLCBjKSA6IEUgPCA2MyA/IGIgPSBqKHRoaXMsIGEsIGMpIDogRSA8IDEwMjQgPyBiID0gSyh0aGlzLCBhLCBjKSA6IGIgPSAkKHRoaXMsIGEsIGMpLCBiO1xuICAgIH0sIHMucHJvdG90eXBlLm11bCA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHZhciBjID0gbmV3IHMobnVsbCk7XG4gICAgICByZXR1cm4gYy53b3JkcyA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aCArIGEubGVuZ3RoKSwgdGhpcy5tdWxUbyhhLCBjKTtcbiAgICB9LCBzLnByb3RvdHlwZS5tdWxmID0gZnVuY3Rpb24oYSkge1xuICAgICAgdmFyIGMgPSBuZXcgcyhudWxsKTtcbiAgICAgIHJldHVybiBjLndvcmRzID0gbmV3IEFycmF5KHRoaXMubGVuZ3RoICsgYS5sZW5ndGgpLCAkKHRoaXMsIGEsIGMpO1xuICAgIH0sIHMucHJvdG90eXBlLmltdWwgPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLm11bFRvKGEsIHRoaXMpO1xuICAgIH0sIHMucHJvdG90eXBlLmltdWxuID0gZnVuY3Rpb24oYSkge1xuICAgICAgdmFyIGMgPSBhIDwgMDtcbiAgICAgIGMgJiYgKGEgPSAtYSksIGkodHlwZW9mIGEgPT0gXCJudW1iZXJcIiksIGkoYSA8IDY3MTA4ODY0KTtcbiAgICAgIGZvciAodmFyIGIgPSAwLCBFID0gMDsgRSA8IHRoaXMubGVuZ3RoOyBFKyspIHtcbiAgICAgICAgdmFyIFMgPSAodGhpcy53b3Jkc1tFXSB8IDApICogYSwgeCA9IChTICYgNjcxMDg4NjMpICsgKGIgJiA2NzEwODg2Myk7XG4gICAgICAgIGIgPj49IDI2LCBiICs9IFMgLyA2NzEwODg2NCB8IDAsIGIgKz0geCA+Pj4gMjYsIHRoaXMud29yZHNbRV0gPSB4ICYgNjcxMDg4NjM7XG4gICAgICB9XG4gICAgICByZXR1cm4gYiAhPT0gMCAmJiAodGhpcy53b3Jkc1tFXSA9IGIsIHRoaXMubGVuZ3RoKyspLCBjID8gdGhpcy5pbmVnKCkgOiB0aGlzO1xuICAgIH0sIHMucHJvdG90eXBlLm11bG4gPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmltdWxuKGEpO1xuICAgIH0sIHMucHJvdG90eXBlLnNxciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMubXVsKHRoaXMpO1xuICAgIH0sIHMucHJvdG90eXBlLmlzcXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmltdWwodGhpcy5jbG9uZSgpKTtcbiAgICB9LCBzLnByb3RvdHlwZS5wb3cgPSBmdW5jdGlvbihhKSB7XG4gICAgICB2YXIgYyA9IGsoYSk7XG4gICAgICBpZiAoYy5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBuZXcgcygxKTtcbiAgICAgIGZvciAodmFyIGIgPSB0aGlzLCBFID0gMDsgRSA8IGMubGVuZ3RoICYmIGNbRV0gPT09IDA7IEUrKywgYiA9IGIuc3FyKCkpXG4gICAgICAgIDtcbiAgICAgIGlmICgrK0UgPCBjLmxlbmd0aClcbiAgICAgICAgZm9yICh2YXIgUyA9IGIuc3FyKCk7IEUgPCBjLmxlbmd0aDsgRSsrLCBTID0gUy5zcXIoKSlcbiAgICAgICAgICBjW0VdICE9PSAwICYmIChiID0gYi5tdWwoUykpO1xuICAgICAgcmV0dXJuIGI7XG4gICAgfSwgcy5wcm90b3R5cGUuaXVzaGxuID0gZnVuY3Rpb24oYSkge1xuICAgICAgaSh0eXBlb2YgYSA9PSBcIm51bWJlclwiICYmIGEgPj0gMCk7XG4gICAgICB2YXIgYyA9IGEgJSAyNiwgYiA9IChhIC0gYykgLyAyNiwgRSA9IDY3MTA4ODYzID4+PiAyNiAtIGMgPDwgMjYgLSBjLCBTO1xuICAgICAgaWYgKGMgIT09IDApIHtcbiAgICAgICAgdmFyIHggPSAwO1xuICAgICAgICBmb3IgKFMgPSAwOyBTIDwgdGhpcy5sZW5ndGg7IFMrKykge1xuICAgICAgICAgIHZhciB1ID0gdGhpcy53b3Jkc1tTXSAmIEUsIG0gPSAodGhpcy53b3Jkc1tTXSB8IDApIC0gdSA8PCBjO1xuICAgICAgICAgIHRoaXMud29yZHNbU10gPSBtIHwgeCwgeCA9IHUgPj4+IDI2IC0gYztcbiAgICAgICAgfVxuICAgICAgICB4ICYmICh0aGlzLndvcmRzW1NdID0geCwgdGhpcy5sZW5ndGgrKyk7XG4gICAgICB9XG4gICAgICBpZiAoYiAhPT0gMCkge1xuICAgICAgICBmb3IgKFMgPSB0aGlzLmxlbmd0aCAtIDE7IFMgPj0gMDsgUy0tKVxuICAgICAgICAgIHRoaXMud29yZHNbUyArIGJdID0gdGhpcy53b3Jkc1tTXTtcbiAgICAgICAgZm9yIChTID0gMDsgUyA8IGI7IFMrKylcbiAgICAgICAgICB0aGlzLndvcmRzW1NdID0gMDtcbiAgICAgICAgdGhpcy5sZW5ndGggKz0gYjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLl9zdHJpcCgpO1xuICAgIH0sIHMucHJvdG90eXBlLmlzaGxuID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIGkodGhpcy5uZWdhdGl2ZSA9PT0gMCksIHRoaXMuaXVzaGxuKGEpO1xuICAgIH0sIHMucHJvdG90eXBlLml1c2hybiA9IGZ1bmN0aW9uKGEsIGMsIGIpIHtcbiAgICAgIGkodHlwZW9mIGEgPT0gXCJudW1iZXJcIiAmJiBhID49IDApO1xuICAgICAgdmFyIEU7XG4gICAgICBjID8gRSA9IChjIC0gYyAlIDI2KSAvIDI2IDogRSA9IDA7XG4gICAgICB2YXIgUyA9IGEgJSAyNiwgeCA9IE1hdGgubWluKChhIC0gUykgLyAyNiwgdGhpcy5sZW5ndGgpLCB1ID0gNjcxMDg4NjMgXiA2NzEwODg2MyA+Pj4gUyA8PCBTLCBtID0gYjtcbiAgICAgIGlmIChFIC09IHgsIEUgPSBNYXRoLm1heCgwLCBFKSwgbSkge1xuICAgICAgICBmb3IgKHZhciBnID0gMDsgZyA8IHg7IGcrKylcbiAgICAgICAgICBtLndvcmRzW2ddID0gdGhpcy53b3Jkc1tnXTtcbiAgICAgICAgbS5sZW5ndGggPSB4O1xuICAgICAgfVxuICAgICAgaWYgKHggIT09IDApXG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCA+IHgpXG4gICAgICAgICAgZm9yICh0aGlzLmxlbmd0aCAtPSB4LCBnID0gMDsgZyA8IHRoaXMubGVuZ3RoOyBnKyspXG4gICAgICAgICAgICB0aGlzLndvcmRzW2ddID0gdGhpcy53b3Jkc1tnICsgeF07XG4gICAgICAgIGVsc2VcbiAgICAgICAgICB0aGlzLndvcmRzWzBdID0gMCwgdGhpcy5sZW5ndGggPSAxO1xuICAgICAgdmFyIFAgPSAwO1xuICAgICAgZm9yIChnID0gdGhpcy5sZW5ndGggLSAxOyBnID49IDAgJiYgKFAgIT09IDAgfHwgZyA+PSBFKTsgZy0tKSB7XG4gICAgICAgIHZhciBHID0gdGhpcy53b3Jkc1tnXSB8IDA7XG4gICAgICAgIHRoaXMud29yZHNbZ10gPSBQIDw8IDI2IC0gUyB8IEcgPj4+IFMsIFAgPSBHICYgdTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBtICYmIFAgIT09IDAgJiYgKG0ud29yZHNbbS5sZW5ndGgrK10gPSBQKSwgdGhpcy5sZW5ndGggPT09IDAgJiYgKHRoaXMud29yZHNbMF0gPSAwLCB0aGlzLmxlbmd0aCA9IDEpLCB0aGlzLl9zdHJpcCgpO1xuICAgIH0sIHMucHJvdG90eXBlLmlzaHJuID0gZnVuY3Rpb24oYSwgYywgYikge1xuICAgICAgcmV0dXJuIGkodGhpcy5uZWdhdGl2ZSA9PT0gMCksIHRoaXMuaXVzaHJuKGEsIGMsIGIpO1xuICAgIH0sIHMucHJvdG90eXBlLnNobG4gPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmlzaGxuKGEpO1xuICAgIH0sIHMucHJvdG90eXBlLnVzaGxuID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5pdXNobG4oYSk7XG4gICAgfSwgcy5wcm90b3R5cGUuc2hybiA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuaXNocm4oYSk7XG4gICAgfSwgcy5wcm90b3R5cGUudXNocm4gPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLml1c2hybihhKTtcbiAgICB9LCBzLnByb3RvdHlwZS50ZXN0biA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIGkodHlwZW9mIGEgPT0gXCJudW1iZXJcIiAmJiBhID49IDApO1xuICAgICAgdmFyIGMgPSBhICUgMjYsIGIgPSAoYSAtIGMpIC8gMjYsIEUgPSAxIDw8IGM7XG4gICAgICBpZiAodGhpcy5sZW5ndGggPD0gYilcbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgdmFyIFMgPSB0aGlzLndvcmRzW2JdO1xuICAgICAgcmV0dXJuICEhKFMgJiBFKTtcbiAgICB9LCBzLnByb3RvdHlwZS5pbWFza24gPSBmdW5jdGlvbihhKSB7XG4gICAgICBpKHR5cGVvZiBhID09IFwibnVtYmVyXCIgJiYgYSA+PSAwKTtcbiAgICAgIHZhciBjID0gYSAlIDI2LCBiID0gKGEgLSBjKSAvIDI2O1xuICAgICAgaWYgKGkodGhpcy5uZWdhdGl2ZSA9PT0gMCwgXCJpbWFza24gd29ya3Mgb25seSB3aXRoIHBvc2l0aXZlIG51bWJlcnNcIiksIHRoaXMubGVuZ3RoIDw9IGIpXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgaWYgKGMgIT09IDAgJiYgYisrLCB0aGlzLmxlbmd0aCA9IE1hdGgubWluKGIsIHRoaXMubGVuZ3RoKSwgYyAhPT0gMCkge1xuICAgICAgICB2YXIgRSA9IDY3MTA4ODYzIF4gNjcxMDg4NjMgPj4+IGMgPDwgYztcbiAgICAgICAgdGhpcy53b3Jkc1t0aGlzLmxlbmd0aCAtIDFdICY9IEU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5fc3RyaXAoKTtcbiAgICB9LCBzLnByb3RvdHlwZS5tYXNrbiA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuaW1hc2tuKGEpO1xuICAgIH0sIHMucHJvdG90eXBlLmlhZGRuID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIGkodHlwZW9mIGEgPT0gXCJudW1iZXJcIiksIGkoYSA8IDY3MTA4ODY0KSwgYSA8IDAgPyB0aGlzLmlzdWJuKC1hKSA6IHRoaXMubmVnYXRpdmUgIT09IDAgPyB0aGlzLmxlbmd0aCA9PT0gMSAmJiAodGhpcy53b3Jkc1swXSB8IDApIDw9IGEgPyAodGhpcy53b3Jkc1swXSA9IGEgLSAodGhpcy53b3Jkc1swXSB8IDApLCB0aGlzLm5lZ2F0aXZlID0gMCwgdGhpcykgOiAodGhpcy5uZWdhdGl2ZSA9IDAsIHRoaXMuaXN1Ym4oYSksIHRoaXMubmVnYXRpdmUgPSAxLCB0aGlzKSA6IHRoaXMuX2lhZGRuKGEpO1xuICAgIH0sIHMucHJvdG90eXBlLl9pYWRkbiA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHRoaXMud29yZHNbMF0gKz0gYTtcbiAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgdGhpcy5sZW5ndGggJiYgdGhpcy53b3Jkc1tjXSA+PSA2NzEwODg2NDsgYysrKVxuICAgICAgICB0aGlzLndvcmRzW2NdIC09IDY3MTA4ODY0LCBjID09PSB0aGlzLmxlbmd0aCAtIDEgPyB0aGlzLndvcmRzW2MgKyAxXSA9IDEgOiB0aGlzLndvcmRzW2MgKyAxXSsrO1xuICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoID0gTWF0aC5tYXgodGhpcy5sZW5ndGgsIGMgKyAxKSwgdGhpcztcbiAgICB9LCBzLnByb3RvdHlwZS5pc3VibiA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIGlmIChpKHR5cGVvZiBhID09IFwibnVtYmVyXCIpLCBpKGEgPCA2NzEwODg2NCksIGEgPCAwKVxuICAgICAgICByZXR1cm4gdGhpcy5pYWRkbigtYSk7XG4gICAgICBpZiAodGhpcy5uZWdhdGl2ZSAhPT0gMClcbiAgICAgICAgcmV0dXJuIHRoaXMubmVnYXRpdmUgPSAwLCB0aGlzLmlhZGRuKGEpLCB0aGlzLm5lZ2F0aXZlID0gMSwgdGhpcztcbiAgICAgIGlmICh0aGlzLndvcmRzWzBdIC09IGEsIHRoaXMubGVuZ3RoID09PSAxICYmIHRoaXMud29yZHNbMF0gPCAwKVxuICAgICAgICB0aGlzLndvcmRzWzBdID0gLXRoaXMud29yZHNbMF0sIHRoaXMubmVnYXRpdmUgPSAxO1xuICAgICAgZWxzZVxuICAgICAgICBmb3IgKHZhciBjID0gMDsgYyA8IHRoaXMubGVuZ3RoICYmIHRoaXMud29yZHNbY10gPCAwOyBjKyspXG4gICAgICAgICAgdGhpcy53b3Jkc1tjXSArPSA2NzEwODg2NCwgdGhpcy53b3Jkc1tjICsgMV0gLT0gMTtcbiAgICAgIHJldHVybiB0aGlzLl9zdHJpcCgpO1xuICAgIH0sIHMucHJvdG90eXBlLmFkZG4gPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmlhZGRuKGEpO1xuICAgIH0sIHMucHJvdG90eXBlLnN1Ym4gPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmlzdWJuKGEpO1xuICAgIH0sIHMucHJvdG90eXBlLmlhYnMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLm5lZ2F0aXZlID0gMCwgdGhpcztcbiAgICB9LCBzLnByb3RvdHlwZS5hYnMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuaWFicygpO1xuICAgIH0sIHMucHJvdG90eXBlLl9pc2hsbnN1Ym11bCA9IGZ1bmN0aW9uKGEsIGMsIGIpIHtcbiAgICAgIHZhciBFID0gYS5sZW5ndGggKyBiLCBTO1xuICAgICAgdGhpcy5fZXhwYW5kKEUpO1xuICAgICAgdmFyIHgsIHUgPSAwO1xuICAgICAgZm9yIChTID0gMDsgUyA8IGEubGVuZ3RoOyBTKyspIHtcbiAgICAgICAgeCA9ICh0aGlzLndvcmRzW1MgKyBiXSB8IDApICsgdTtcbiAgICAgICAgdmFyIG0gPSAoYS53b3Jkc1tTXSB8IDApICogYztcbiAgICAgICAgeCAtPSBtICYgNjcxMDg4NjMsIHUgPSAoeCA+PiAyNikgLSAobSAvIDY3MTA4ODY0IHwgMCksIHRoaXMud29yZHNbUyArIGJdID0geCAmIDY3MTA4ODYzO1xuICAgICAgfVxuICAgICAgZm9yICg7IFMgPCB0aGlzLmxlbmd0aCAtIGI7IFMrKylcbiAgICAgICAgeCA9ICh0aGlzLndvcmRzW1MgKyBiXSB8IDApICsgdSwgdSA9IHggPj4gMjYsIHRoaXMud29yZHNbUyArIGJdID0geCAmIDY3MTA4ODYzO1xuICAgICAgaWYgKHUgPT09IDApXG4gICAgICAgIHJldHVybiB0aGlzLl9zdHJpcCgpO1xuICAgICAgZm9yIChpKHUgPT09IC0xKSwgdSA9IDAsIFMgPSAwOyBTIDwgdGhpcy5sZW5ndGg7IFMrKylcbiAgICAgICAgeCA9IC0odGhpcy53b3Jkc1tTXSB8IDApICsgdSwgdSA9IHggPj4gMjYsIHRoaXMud29yZHNbU10gPSB4ICYgNjcxMDg4NjM7XG4gICAgICByZXR1cm4gdGhpcy5uZWdhdGl2ZSA9IDEsIHRoaXMuX3N0cmlwKCk7XG4gICAgfSwgcy5wcm90b3R5cGUuX3dvcmREaXYgPSBmdW5jdGlvbihhLCBjKSB7XG4gICAgICB2YXIgYiA9IHRoaXMubGVuZ3RoIC0gYS5sZW5ndGgsIEUgPSB0aGlzLmNsb25lKCksIFMgPSBhLCB4ID0gUy53b3Jkc1tTLmxlbmd0aCAtIDFdIHwgMCwgdSA9IHRoaXMuX2NvdW50Qml0cyh4KTtcbiAgICAgIGIgPSAyNiAtIHUsIGIgIT09IDAgJiYgKFMgPSBTLnVzaGxuKGIpLCBFLml1c2hsbihiKSwgeCA9IFMud29yZHNbUy5sZW5ndGggLSAxXSB8IDApO1xuICAgICAgdmFyIG0gPSBFLmxlbmd0aCAtIFMubGVuZ3RoLCBnO1xuICAgICAgaWYgKGMgIT09IFwibW9kXCIpIHtcbiAgICAgICAgZyA9IG5ldyBzKG51bGwpLCBnLmxlbmd0aCA9IG0gKyAxLCBnLndvcmRzID0gbmV3IEFycmF5KGcubGVuZ3RoKTtcbiAgICAgICAgZm9yICh2YXIgUCA9IDA7IFAgPCBnLmxlbmd0aDsgUCsrKVxuICAgICAgICAgIGcud29yZHNbUF0gPSAwO1xuICAgICAgfVxuICAgICAgdmFyIEcgPSBFLmNsb25lKCkuX2lzaGxuc3VibXVsKFMsIDEsIG0pO1xuICAgICAgRy5uZWdhdGl2ZSA9PT0gMCAmJiAoRSA9IEcsIGcgJiYgKGcud29yZHNbbV0gPSAxKSk7XG4gICAgICBmb3IgKHZhciBNID0gbSAtIDE7IE0gPj0gMDsgTS0tKSB7XG4gICAgICAgIHZhciBIID0gKEUud29yZHNbUy5sZW5ndGggKyBNXSB8IDApICogNjcxMDg4NjQgKyAoRS53b3Jkc1tTLmxlbmd0aCArIE0gLSAxXSB8IDApO1xuICAgICAgICBmb3IgKEggPSBNYXRoLm1pbihIIC8geCB8IDAsIDY3MTA4ODYzKSwgRS5faXNobG5zdWJtdWwoUywgSCwgTSk7IEUubmVnYXRpdmUgIT09IDA7IClcbiAgICAgICAgICBILS0sIEUubmVnYXRpdmUgPSAwLCBFLl9pc2hsbnN1Ym11bChTLCAxLCBNKSwgRS5pc1plcm8oKSB8fCAoRS5uZWdhdGl2ZSBePSAxKTtcbiAgICAgICAgZyAmJiAoZy53b3Jkc1tNXSA9IEgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGcgJiYgZy5fc3RyaXAoKSwgRS5fc3RyaXAoKSwgYyAhPT0gXCJkaXZcIiAmJiBiICE9PSAwICYmIEUuaXVzaHJuKGIpLCB7XG4gICAgICAgIGRpdjogZyB8fCBudWxsLFxuICAgICAgICBtb2Q6IEVcbiAgICAgIH07XG4gICAgfSwgcy5wcm90b3R5cGUuZGl2bW9kID0gZnVuY3Rpb24oYSwgYywgYikge1xuICAgICAgaWYgKGkoIWEuaXNaZXJvKCkpLCB0aGlzLmlzWmVybygpKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRpdjogbmV3IHMoMCksXG4gICAgICAgICAgbW9kOiBuZXcgcygwKVxuICAgICAgICB9O1xuICAgICAgdmFyIEUsIFMsIHg7XG4gICAgICByZXR1cm4gdGhpcy5uZWdhdGl2ZSAhPT0gMCAmJiBhLm5lZ2F0aXZlID09PSAwID8gKHggPSB0aGlzLm5lZygpLmRpdm1vZChhLCBjKSwgYyAhPT0gXCJtb2RcIiAmJiAoRSA9IHguZGl2Lm5lZygpKSwgYyAhPT0gXCJkaXZcIiAmJiAoUyA9IHgubW9kLm5lZygpLCBiICYmIFMubmVnYXRpdmUgIT09IDAgJiYgUy5pYWRkKGEpKSwge1xuICAgICAgICBkaXY6IEUsXG4gICAgICAgIG1vZDogU1xuICAgICAgfSkgOiB0aGlzLm5lZ2F0aXZlID09PSAwICYmIGEubmVnYXRpdmUgIT09IDAgPyAoeCA9IHRoaXMuZGl2bW9kKGEubmVnKCksIGMpLCBjICE9PSBcIm1vZFwiICYmIChFID0geC5kaXYubmVnKCkpLCB7XG4gICAgICAgIGRpdjogRSxcbiAgICAgICAgbW9kOiB4Lm1vZFxuICAgICAgfSkgOiB0aGlzLm5lZ2F0aXZlICYgYS5uZWdhdGl2ZSA/ICh4ID0gdGhpcy5uZWcoKS5kaXZtb2QoYS5uZWcoKSwgYyksIGMgIT09IFwiZGl2XCIgJiYgKFMgPSB4Lm1vZC5uZWcoKSwgYiAmJiBTLm5lZ2F0aXZlICE9PSAwICYmIFMuaXN1YihhKSksIHtcbiAgICAgICAgZGl2OiB4LmRpdixcbiAgICAgICAgbW9kOiBTXG4gICAgICB9KSA6IGEubGVuZ3RoID4gdGhpcy5sZW5ndGggfHwgdGhpcy5jbXAoYSkgPCAwID8ge1xuICAgICAgICBkaXY6IG5ldyBzKDApLFxuICAgICAgICBtb2Q6IHRoaXNcbiAgICAgIH0gOiBhLmxlbmd0aCA9PT0gMSA/IGMgPT09IFwiZGl2XCIgPyB7XG4gICAgICAgIGRpdjogdGhpcy5kaXZuKGEud29yZHNbMF0pLFxuICAgICAgICBtb2Q6IG51bGxcbiAgICAgIH0gOiBjID09PSBcIm1vZFwiID8ge1xuICAgICAgICBkaXY6IG51bGwsXG4gICAgICAgIG1vZDogbmV3IHModGhpcy5tb2RybihhLndvcmRzWzBdKSlcbiAgICAgIH0gOiB7XG4gICAgICAgIGRpdjogdGhpcy5kaXZuKGEud29yZHNbMF0pLFxuICAgICAgICBtb2Q6IG5ldyBzKHRoaXMubW9kcm4oYS53b3Jkc1swXSkpXG4gICAgICB9IDogdGhpcy5fd29yZERpdihhLCBjKTtcbiAgICB9LCBzLnByb3RvdHlwZS5kaXYgPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaXZtb2QoYSwgXCJkaXZcIiwgITEpLmRpdjtcbiAgICB9LCBzLnByb3RvdHlwZS5tb2QgPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaXZtb2QoYSwgXCJtb2RcIiwgITEpLm1vZDtcbiAgICB9LCBzLnByb3RvdHlwZS51bW9kID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIHRoaXMuZGl2bW9kKGEsIFwibW9kXCIsICEwKS5tb2Q7XG4gICAgfSwgcy5wcm90b3R5cGUuZGl2Um91bmQgPSBmdW5jdGlvbihhKSB7XG4gICAgICB2YXIgYyA9IHRoaXMuZGl2bW9kKGEpO1xuICAgICAgaWYgKGMubW9kLmlzWmVybygpKVxuICAgICAgICByZXR1cm4gYy5kaXY7XG4gICAgICB2YXIgYiA9IGMuZGl2Lm5lZ2F0aXZlICE9PSAwID8gYy5tb2QuaXN1YihhKSA6IGMubW9kLCBFID0gYS51c2hybigxKSwgUyA9IGEuYW5kbG4oMSksIHggPSBiLmNtcChFKTtcbiAgICAgIHJldHVybiB4IDwgMCB8fCBTID09PSAxICYmIHggPT09IDAgPyBjLmRpdiA6IGMuZGl2Lm5lZ2F0aXZlICE9PSAwID8gYy5kaXYuaXN1Ym4oMSkgOiBjLmRpdi5pYWRkbigxKTtcbiAgICB9LCBzLnByb3RvdHlwZS5tb2RybiA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHZhciBjID0gYSA8IDA7XG4gICAgICBjICYmIChhID0gLWEpLCBpKGEgPD0gNjcxMDg4NjMpO1xuICAgICAgZm9yICh2YXIgYiA9ICgxIDw8IDI2KSAlIGEsIEUgPSAwLCBTID0gdGhpcy5sZW5ndGggLSAxOyBTID49IDA7IFMtLSlcbiAgICAgICAgRSA9IChiICogRSArICh0aGlzLndvcmRzW1NdIHwgMCkpICUgYTtcbiAgICAgIHJldHVybiBjID8gLUUgOiBFO1xuICAgIH0sIHMucHJvdG90eXBlLm1vZG4gPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gdGhpcy5tb2RybihhKTtcbiAgICB9LCBzLnByb3RvdHlwZS5pZGl2biA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHZhciBjID0gYSA8IDA7XG4gICAgICBjICYmIChhID0gLWEpLCBpKGEgPD0gNjcxMDg4NjMpO1xuICAgICAgZm9yICh2YXIgYiA9IDAsIEUgPSB0aGlzLmxlbmd0aCAtIDE7IEUgPj0gMDsgRS0tKSB7XG4gICAgICAgIHZhciBTID0gKHRoaXMud29yZHNbRV0gfCAwKSArIGIgKiA2NzEwODg2NDtcbiAgICAgICAgdGhpcy53b3Jkc1tFXSA9IFMgLyBhIHwgMCwgYiA9IFMgJSBhO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuX3N0cmlwKCksIGMgPyB0aGlzLmluZWcoKSA6IHRoaXM7XG4gICAgfSwgcy5wcm90b3R5cGUuZGl2biA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuaWRpdm4oYSk7XG4gICAgfSwgcy5wcm90b3R5cGUuZWdjZCA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIGkoYS5uZWdhdGl2ZSA9PT0gMCksIGkoIWEuaXNaZXJvKCkpO1xuICAgICAgdmFyIGMgPSB0aGlzLCBiID0gYS5jbG9uZSgpO1xuICAgICAgYy5uZWdhdGl2ZSAhPT0gMCA/IGMgPSBjLnVtb2QoYSkgOiBjID0gYy5jbG9uZSgpO1xuICAgICAgZm9yICh2YXIgRSA9IG5ldyBzKDEpLCBTID0gbmV3IHMoMCksIHggPSBuZXcgcygwKSwgdSA9IG5ldyBzKDEpLCBtID0gMDsgYy5pc0V2ZW4oKSAmJiBiLmlzRXZlbigpOyApXG4gICAgICAgIGMuaXVzaHJuKDEpLCBiLml1c2hybigxKSwgKyttO1xuICAgICAgZm9yICh2YXIgZyA9IGIuY2xvbmUoKSwgUCA9IGMuY2xvbmUoKTsgIWMuaXNaZXJvKCk7ICkge1xuICAgICAgICBmb3IgKHZhciBHID0gMCwgTSA9IDE7ICEoYy53b3Jkc1swXSAmIE0pICYmIEcgPCAyNjsgKytHLCBNIDw8PSAxKVxuICAgICAgICAgIDtcbiAgICAgICAgaWYgKEcgPiAwKVxuICAgICAgICAgIGZvciAoYy5pdXNocm4oRyk7IEctLSA+IDA7IClcbiAgICAgICAgICAgIChFLmlzT2RkKCkgfHwgUy5pc09kZCgpKSAmJiAoRS5pYWRkKGcpLCBTLmlzdWIoUCkpLCBFLml1c2hybigxKSwgUy5pdXNocm4oMSk7XG4gICAgICAgIGZvciAodmFyIEggPSAwLCBDID0gMTsgIShiLndvcmRzWzBdICYgQykgJiYgSCA8IDI2OyArK0gsIEMgPDw9IDEpXG4gICAgICAgICAgO1xuICAgICAgICBpZiAoSCA+IDApXG4gICAgICAgICAgZm9yIChiLml1c2hybihIKTsgSC0tID4gMDsgKVxuICAgICAgICAgICAgKHguaXNPZGQoKSB8fCB1LmlzT2RkKCkpICYmICh4LmlhZGQoZyksIHUuaXN1YihQKSksIHguaXVzaHJuKDEpLCB1Lml1c2hybigxKTtcbiAgICAgICAgYy5jbXAoYikgPj0gMCA/IChjLmlzdWIoYiksIEUuaXN1Yih4KSwgUy5pc3ViKHUpKSA6IChiLmlzdWIoYyksIHguaXN1YihFKSwgdS5pc3ViKFMpKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGE6IHgsXG4gICAgICAgIGI6IHUsXG4gICAgICAgIGdjZDogYi5pdXNobG4obSlcbiAgICAgIH07XG4gICAgfSwgcy5wcm90b3R5cGUuX2ludm1wID0gZnVuY3Rpb24oYSkge1xuICAgICAgaShhLm5lZ2F0aXZlID09PSAwKSwgaSghYS5pc1plcm8oKSk7XG4gICAgICB2YXIgYyA9IHRoaXMsIGIgPSBhLmNsb25lKCk7XG4gICAgICBjLm5lZ2F0aXZlICE9PSAwID8gYyA9IGMudW1vZChhKSA6IGMgPSBjLmNsb25lKCk7XG4gICAgICBmb3IgKHZhciBFID0gbmV3IHMoMSksIFMgPSBuZXcgcygwKSwgeCA9IGIuY2xvbmUoKTsgYy5jbXBuKDEpID4gMCAmJiBiLmNtcG4oMSkgPiAwOyApIHtcbiAgICAgICAgZm9yICh2YXIgdSA9IDAsIG0gPSAxOyAhKGMud29yZHNbMF0gJiBtKSAmJiB1IDwgMjY7ICsrdSwgbSA8PD0gMSlcbiAgICAgICAgICA7XG4gICAgICAgIGlmICh1ID4gMClcbiAgICAgICAgICBmb3IgKGMuaXVzaHJuKHUpOyB1LS0gPiAwOyApXG4gICAgICAgICAgICBFLmlzT2RkKCkgJiYgRS5pYWRkKHgpLCBFLml1c2hybigxKTtcbiAgICAgICAgZm9yICh2YXIgZyA9IDAsIFAgPSAxOyAhKGIud29yZHNbMF0gJiBQKSAmJiBnIDwgMjY7ICsrZywgUCA8PD0gMSlcbiAgICAgICAgICA7XG4gICAgICAgIGlmIChnID4gMClcbiAgICAgICAgICBmb3IgKGIuaXVzaHJuKGcpOyBnLS0gPiAwOyApXG4gICAgICAgICAgICBTLmlzT2RkKCkgJiYgUy5pYWRkKHgpLCBTLml1c2hybigxKTtcbiAgICAgICAgYy5jbXAoYikgPj0gMCA/IChjLmlzdWIoYiksIEUuaXN1YihTKSkgOiAoYi5pc3ViKGMpLCBTLmlzdWIoRSkpO1xuICAgICAgfVxuICAgICAgdmFyIEc7XG4gICAgICByZXR1cm4gYy5jbXBuKDEpID09PSAwID8gRyA9IEUgOiBHID0gUywgRy5jbXBuKDApIDwgMCAmJiBHLmlhZGQoYSksIEc7XG4gICAgfSwgcy5wcm90b3R5cGUuZ2NkID0gZnVuY3Rpb24oYSkge1xuICAgICAgaWYgKHRoaXMuaXNaZXJvKCkpXG4gICAgICAgIHJldHVybiBhLmFicygpO1xuICAgICAgaWYgKGEuaXNaZXJvKCkpXG4gICAgICAgIHJldHVybiB0aGlzLmFicygpO1xuICAgICAgdmFyIGMgPSB0aGlzLmNsb25lKCksIGIgPSBhLmNsb25lKCk7XG4gICAgICBjLm5lZ2F0aXZlID0gMCwgYi5uZWdhdGl2ZSA9IDA7XG4gICAgICBmb3IgKHZhciBFID0gMDsgYy5pc0V2ZW4oKSAmJiBiLmlzRXZlbigpOyBFKyspXG4gICAgICAgIGMuaXVzaHJuKDEpLCBiLml1c2hybigxKTtcbiAgICAgIGRvIHtcbiAgICAgICAgZm9yICg7IGMuaXNFdmVuKCk7IClcbiAgICAgICAgICBjLml1c2hybigxKTtcbiAgICAgICAgZm9yICg7IGIuaXNFdmVuKCk7IClcbiAgICAgICAgICBiLml1c2hybigxKTtcbiAgICAgICAgdmFyIFMgPSBjLmNtcChiKTtcbiAgICAgICAgaWYgKFMgPCAwKSB7XG4gICAgICAgICAgdmFyIHggPSBjO1xuICAgICAgICAgIGMgPSBiLCBiID0geDtcbiAgICAgICAgfSBlbHNlIGlmIChTID09PSAwIHx8IGIuY21wbigxKSA9PT0gMClcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgYy5pc3ViKGIpO1xuICAgICAgfSB3aGlsZSAoITApO1xuICAgICAgcmV0dXJuIGIuaXVzaGxuKEUpO1xuICAgIH0sIHMucHJvdG90eXBlLmludm0gPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gdGhpcy5lZ2NkKGEpLmEudW1vZChhKTtcbiAgICB9LCBzLnByb3RvdHlwZS5pc0V2ZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAodGhpcy53b3Jkc1swXSAmIDEpID09PSAwO1xuICAgIH0sIHMucHJvdG90eXBlLmlzT2RkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gKHRoaXMud29yZHNbMF0gJiAxKSA9PT0gMTtcbiAgICB9LCBzLnByb3RvdHlwZS5hbmRsbiA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiB0aGlzLndvcmRzWzBdICYgYTtcbiAgICB9LCBzLnByb3RvdHlwZS5iaW5jbiA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIGkodHlwZW9mIGEgPT0gXCJudW1iZXJcIik7XG4gICAgICB2YXIgYyA9IGEgJSAyNiwgYiA9IChhIC0gYykgLyAyNiwgRSA9IDEgPDwgYztcbiAgICAgIGlmICh0aGlzLmxlbmd0aCA8PSBiKVxuICAgICAgICByZXR1cm4gdGhpcy5fZXhwYW5kKGIgKyAxKSwgdGhpcy53b3Jkc1tiXSB8PSBFLCB0aGlzO1xuICAgICAgZm9yICh2YXIgUyA9IEUsIHggPSBiOyBTICE9PSAwICYmIHggPCB0aGlzLmxlbmd0aDsgeCsrKSB7XG4gICAgICAgIHZhciB1ID0gdGhpcy53b3Jkc1t4XSB8IDA7XG4gICAgICAgIHUgKz0gUywgUyA9IHUgPj4+IDI2LCB1ICY9IDY3MTA4ODYzLCB0aGlzLndvcmRzW3hdID0gdTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBTICE9PSAwICYmICh0aGlzLndvcmRzW3hdID0gUywgdGhpcy5sZW5ndGgrKyksIHRoaXM7XG4gICAgfSwgcy5wcm90b3R5cGUuaXNaZXJvID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5sZW5ndGggPT09IDEgJiYgdGhpcy53b3Jkc1swXSA9PT0gMDtcbiAgICB9LCBzLnByb3RvdHlwZS5jbXBuID0gZnVuY3Rpb24oYSkge1xuICAgICAgdmFyIGMgPSBhIDwgMDtcbiAgICAgIGlmICh0aGlzLm5lZ2F0aXZlICE9PSAwICYmICFjKVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgICBpZiAodGhpcy5uZWdhdGl2ZSA9PT0gMCAmJiBjKVxuICAgICAgICByZXR1cm4gMTtcbiAgICAgIHRoaXMuX3N0cmlwKCk7XG4gICAgICB2YXIgYjtcbiAgICAgIGlmICh0aGlzLmxlbmd0aCA+IDEpXG4gICAgICAgIGIgPSAxO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGMgJiYgKGEgPSAtYSksIGkoYSA8PSA2NzEwODg2MywgXCJOdW1iZXIgaXMgdG9vIGJpZ1wiKTtcbiAgICAgICAgdmFyIEUgPSB0aGlzLndvcmRzWzBdIHwgMDtcbiAgICAgICAgYiA9IEUgPT09IGEgPyAwIDogRSA8IGEgPyAtMSA6IDE7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5uZWdhdGl2ZSAhPT0gMCA/IC1iIHwgMCA6IGI7XG4gICAgfSwgcy5wcm90b3R5cGUuY21wID0gZnVuY3Rpb24oYSkge1xuICAgICAgaWYgKHRoaXMubmVnYXRpdmUgIT09IDAgJiYgYS5uZWdhdGl2ZSA9PT0gMClcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgaWYgKHRoaXMubmVnYXRpdmUgPT09IDAgJiYgYS5uZWdhdGl2ZSAhPT0gMClcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB2YXIgYyA9IHRoaXMudWNtcChhKTtcbiAgICAgIHJldHVybiB0aGlzLm5lZ2F0aXZlICE9PSAwID8gLWMgfCAwIDogYztcbiAgICB9LCBzLnByb3RvdHlwZS51Y21wID0gZnVuY3Rpb24oYSkge1xuICAgICAgaWYgKHRoaXMubGVuZ3RoID4gYS5sZW5ndGgpXG4gICAgICAgIHJldHVybiAxO1xuICAgICAgaWYgKHRoaXMubGVuZ3RoIDwgYS5sZW5ndGgpXG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIGZvciAodmFyIGMgPSAwLCBiID0gdGhpcy5sZW5ndGggLSAxOyBiID49IDA7IGItLSkge1xuICAgICAgICB2YXIgRSA9IHRoaXMud29yZHNbYl0gfCAwLCBTID0gYS53b3Jkc1tiXSB8IDA7XG4gICAgICAgIGlmIChFICE9PSBTKSB7XG4gICAgICAgICAgRSA8IFMgPyBjID0gLTEgOiBFID4gUyAmJiAoYyA9IDEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYztcbiAgICB9LCBzLnByb3RvdHlwZS5ndG4gPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbXBuKGEpID09PSAxO1xuICAgIH0sIHMucHJvdG90eXBlLmd0ID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIHRoaXMuY21wKGEpID09PSAxO1xuICAgIH0sIHMucHJvdG90eXBlLmd0ZW4gPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbXBuKGEpID49IDA7XG4gICAgfSwgcy5wcm90b3R5cGUuZ3RlID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIHRoaXMuY21wKGEpID49IDA7XG4gICAgfSwgcy5wcm90b3R5cGUubHRuID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIHRoaXMuY21wbihhKSA9PT0gLTE7XG4gICAgfSwgcy5wcm90b3R5cGUubHQgPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbXAoYSkgPT09IC0xO1xuICAgIH0sIHMucHJvdG90eXBlLmx0ZW4gPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbXBuKGEpIDw9IDA7XG4gICAgfSwgcy5wcm90b3R5cGUubHRlID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIHRoaXMuY21wKGEpIDw9IDA7XG4gICAgfSwgcy5wcm90b3R5cGUuZXFuID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIHRoaXMuY21wbihhKSA9PT0gMDtcbiAgICB9LCBzLnByb3RvdHlwZS5lcSA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiB0aGlzLmNtcChhKSA9PT0gMDtcbiAgICB9LCBzLnJlZCA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiBuZXcgTyhhKTtcbiAgICB9LCBzLnByb3RvdHlwZS50b1JlZCA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiBpKCF0aGlzLnJlZCwgXCJBbHJlYWR5IGEgbnVtYmVyIGluIHJlZHVjdGlvbiBjb250ZXh0XCIpLCBpKHRoaXMubmVnYXRpdmUgPT09IDAsIFwicmVkIHdvcmtzIG9ubHkgd2l0aCBwb3NpdGl2ZXNcIiksIGEuY29udmVydFRvKHRoaXMpLl9mb3JjZVJlZChhKTtcbiAgICB9LCBzLnByb3RvdHlwZS5mcm9tUmVkID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaSh0aGlzLnJlZCwgXCJmcm9tUmVkIHdvcmtzIG9ubHkgd2l0aCBudW1iZXJzIGluIHJlZHVjdGlvbiBjb250ZXh0XCIpLCB0aGlzLnJlZC5jb252ZXJ0RnJvbSh0aGlzKTtcbiAgICB9LCBzLnByb3RvdHlwZS5fZm9yY2VSZWQgPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gdGhpcy5yZWQgPSBhLCB0aGlzO1xuICAgIH0sIHMucHJvdG90eXBlLmZvcmNlUmVkID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIGkoIXRoaXMucmVkLCBcIkFscmVhZHkgYSBudW1iZXIgaW4gcmVkdWN0aW9uIGNvbnRleHRcIiksIHRoaXMuX2ZvcmNlUmVkKGEpO1xuICAgIH0sIHMucHJvdG90eXBlLnJlZEFkZCA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiBpKHRoaXMucmVkLCBcInJlZEFkZCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnNcIiksIHRoaXMucmVkLmFkZCh0aGlzLCBhKTtcbiAgICB9LCBzLnByb3RvdHlwZS5yZWRJQWRkID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIGkodGhpcy5yZWQsIFwicmVkSUFkZCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnNcIiksIHRoaXMucmVkLmlhZGQodGhpcywgYSk7XG4gICAgfSwgcy5wcm90b3R5cGUucmVkU3ViID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIGkodGhpcy5yZWQsIFwicmVkU3ViIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVyc1wiKSwgdGhpcy5yZWQuc3ViKHRoaXMsIGEpO1xuICAgIH0sIHMucHJvdG90eXBlLnJlZElTdWIgPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gaSh0aGlzLnJlZCwgXCJyZWRJU3ViIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVyc1wiKSwgdGhpcy5yZWQuaXN1Yih0aGlzLCBhKTtcbiAgICB9LCBzLnByb3RvdHlwZS5yZWRTaGwgPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gaSh0aGlzLnJlZCwgXCJyZWRTaGwgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzXCIpLCB0aGlzLnJlZC5zaGwodGhpcywgYSk7XG4gICAgfSwgcy5wcm90b3R5cGUucmVkTXVsID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIGkodGhpcy5yZWQsIFwicmVkTXVsIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVyc1wiKSwgdGhpcy5yZWQuX3ZlcmlmeTIodGhpcywgYSksIHRoaXMucmVkLm11bCh0aGlzLCBhKTtcbiAgICB9LCBzLnByb3RvdHlwZS5yZWRJTXVsID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIGkodGhpcy5yZWQsIFwicmVkTXVsIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVyc1wiKSwgdGhpcy5yZWQuX3ZlcmlmeTIodGhpcywgYSksIHRoaXMucmVkLmltdWwodGhpcywgYSk7XG4gICAgfSwgcy5wcm90b3R5cGUucmVkU3FyID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaSh0aGlzLnJlZCwgXCJyZWRTcXIgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzXCIpLCB0aGlzLnJlZC5fdmVyaWZ5MSh0aGlzKSwgdGhpcy5yZWQuc3FyKHRoaXMpO1xuICAgIH0sIHMucHJvdG90eXBlLnJlZElTcXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBpKHRoaXMucmVkLCBcInJlZElTcXIgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzXCIpLCB0aGlzLnJlZC5fdmVyaWZ5MSh0aGlzKSwgdGhpcy5yZWQuaXNxcih0aGlzKTtcbiAgICB9LCBzLnByb3RvdHlwZS5yZWRTcXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaSh0aGlzLnJlZCwgXCJyZWRTcXJ0IHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVyc1wiKSwgdGhpcy5yZWQuX3ZlcmlmeTEodGhpcyksIHRoaXMucmVkLnNxcnQodGhpcyk7XG4gICAgfSwgcy5wcm90b3R5cGUucmVkSW52bSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGkodGhpcy5yZWQsIFwicmVkSW52bSB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnNcIiksIHRoaXMucmVkLl92ZXJpZnkxKHRoaXMpLCB0aGlzLnJlZC5pbnZtKHRoaXMpO1xuICAgIH0sIHMucHJvdG90eXBlLnJlZE5lZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGkodGhpcy5yZWQsIFwicmVkTmVnIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVyc1wiKSwgdGhpcy5yZWQuX3ZlcmlmeTEodGhpcyksIHRoaXMucmVkLm5lZyh0aGlzKTtcbiAgICB9LCBzLnByb3RvdHlwZS5yZWRQb3cgPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gaSh0aGlzLnJlZCAmJiAhYS5yZWQsIFwicmVkUG93KG5vcm1hbE51bSlcIiksIHRoaXMucmVkLl92ZXJpZnkxKHRoaXMpLCB0aGlzLnJlZC5wb3codGhpcywgYSk7XG4gICAgfTtcbiAgICB2YXIgeiA9IHtcbiAgICAgIGsyNTY6IG51bGwsXG4gICAgICBwMjI0OiBudWxsLFxuICAgICAgcDE5MjogbnVsbCxcbiAgICAgIHAyNTUxOTogbnVsbFxuICAgIH07XG4gICAgZnVuY3Rpb24gQihsLCBhKSB7XG4gICAgICB0aGlzLm5hbWUgPSBsLCB0aGlzLnAgPSBuZXcgcyhhLCAxNiksIHRoaXMubiA9IHRoaXMucC5iaXRMZW5ndGgoKSwgdGhpcy5rID0gbmV3IHMoMSkuaXVzaGxuKHRoaXMubikuaXN1Yih0aGlzLnApLCB0aGlzLnRtcCA9IHRoaXMuX3RtcCgpO1xuICAgIH1cbiAgICBCLnByb3RvdHlwZS5fdG1wID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYSA9IG5ldyBzKG51bGwpO1xuICAgICAgcmV0dXJuIGEud29yZHMgPSBuZXcgQXJyYXkoTWF0aC5jZWlsKHRoaXMubiAvIDEzKSksIGE7XG4gICAgfSwgQi5wcm90b3R5cGUuaXJlZHVjZSA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHZhciBjID0gYSwgYjtcbiAgICAgIGRvXG4gICAgICAgIHRoaXMuc3BsaXQoYywgdGhpcy50bXApLCBjID0gdGhpcy5pbXVsSyhjKSwgYyA9IGMuaWFkZCh0aGlzLnRtcCksIGIgPSBjLmJpdExlbmd0aCgpO1xuICAgICAgd2hpbGUgKGIgPiB0aGlzLm4pO1xuICAgICAgdmFyIEUgPSBiIDwgdGhpcy5uID8gLTEgOiBjLnVjbXAodGhpcy5wKTtcbiAgICAgIHJldHVybiBFID09PSAwID8gKGMud29yZHNbMF0gPSAwLCBjLmxlbmd0aCA9IDEpIDogRSA+IDAgPyBjLmlzdWIodGhpcy5wKSA6IGMuc3RyaXAgIT09IHZvaWQgMCA/IGMuc3RyaXAoKSA6IGMuX3N0cmlwKCksIGM7XG4gICAgfSwgQi5wcm90b3R5cGUuc3BsaXQgPSBmdW5jdGlvbihhLCBjKSB7XG4gICAgICBhLml1c2hybih0aGlzLm4sIDAsIGMpO1xuICAgIH0sIEIucHJvdG90eXBlLmltdWxLID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIGEuaW11bCh0aGlzLmspO1xuICAgIH07XG4gICAgZnVuY3Rpb24gXygpIHtcbiAgICAgIEIuY2FsbChcbiAgICAgICAgdGhpcyxcbiAgICAgICAgXCJrMjU2XCIsXG4gICAgICAgIFwiZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmUgZmZmZmZjMmZcIlxuICAgICAgKTtcbiAgICB9XG4gICAgbihfLCBCKSwgXy5wcm90b3R5cGUuc3BsaXQgPSBmdW5jdGlvbihhLCBjKSB7XG4gICAgICBmb3IgKHZhciBiID0gNDE5NDMwMywgRSA9IE1hdGgubWluKGEubGVuZ3RoLCA5KSwgUyA9IDA7IFMgPCBFOyBTKyspXG4gICAgICAgIGMud29yZHNbU10gPSBhLndvcmRzW1NdO1xuICAgICAgaWYgKGMubGVuZ3RoID0gRSwgYS5sZW5ndGggPD0gOSkge1xuICAgICAgICBhLndvcmRzWzBdID0gMCwgYS5sZW5ndGggPSAxO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgeCA9IGEud29yZHNbOV07XG4gICAgICBmb3IgKGMud29yZHNbYy5sZW5ndGgrK10gPSB4ICYgYiwgUyA9IDEwOyBTIDwgYS5sZW5ndGg7IFMrKykge1xuICAgICAgICB2YXIgdSA9IGEud29yZHNbU10gfCAwO1xuICAgICAgICBhLndvcmRzW1MgLSAxMF0gPSAodSAmIGIpIDw8IDQgfCB4ID4+PiAyMiwgeCA9IHU7XG4gICAgICB9XG4gICAgICB4ID4+Pj0gMjIsIGEud29yZHNbUyAtIDEwXSA9IHgsIHggPT09IDAgJiYgYS5sZW5ndGggPiAxMCA/IGEubGVuZ3RoIC09IDEwIDogYS5sZW5ndGggLT0gOTtcbiAgICB9LCBfLnByb3RvdHlwZS5pbXVsSyA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIGEud29yZHNbYS5sZW5ndGhdID0gMCwgYS53b3Jkc1thLmxlbmd0aCArIDFdID0gMCwgYS5sZW5ndGggKz0gMjtcbiAgICAgIGZvciAodmFyIGMgPSAwLCBiID0gMDsgYiA8IGEubGVuZ3RoOyBiKyspIHtcbiAgICAgICAgdmFyIEUgPSBhLndvcmRzW2JdIHwgMDtcbiAgICAgICAgYyArPSBFICogOTc3LCBhLndvcmRzW2JdID0gYyAmIDY3MTA4ODYzLCBjID0gRSAqIDY0ICsgKGMgLyA2NzEwODg2NCB8IDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGEud29yZHNbYS5sZW5ndGggLSAxXSA9PT0gMCAmJiAoYS5sZW5ndGgtLSwgYS53b3Jkc1thLmxlbmd0aCAtIDFdID09PSAwICYmIGEubGVuZ3RoLS0pLCBhO1xuICAgIH07XG4gICAgZnVuY3Rpb24gUigpIHtcbiAgICAgIEIuY2FsbChcbiAgICAgICAgdGhpcyxcbiAgICAgICAgXCJwMjI0XCIsXG4gICAgICAgIFwiZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgMDAwMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDFcIlxuICAgICAgKTtcbiAgICB9XG4gICAgbihSLCBCKTtcbiAgICBmdW5jdGlvbiBKKCkge1xuICAgICAgQi5jYWxsKFxuICAgICAgICB0aGlzLFxuICAgICAgICBcInAxOTJcIixcbiAgICAgICAgXCJmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZSBmZmZmZmZmZiBmZmZmZmZmZlwiXG4gICAgICApO1xuICAgIH1cbiAgICBuKEosIEIpO1xuICAgIGZ1bmN0aW9uIFEoKSB7XG4gICAgICBCLmNhbGwoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIFwiMjU1MTlcIixcbiAgICAgICAgXCI3ZmZmZmZmZmZmZmZmZmZmIGZmZmZmZmZmZmZmZmZmZmYgZmZmZmZmZmZmZmZmZmZmZiBmZmZmZmZmZmZmZmZmZmVkXCJcbiAgICAgICk7XG4gICAgfVxuICAgIG4oUSwgQiksIFEucHJvdG90eXBlLmltdWxLID0gZnVuY3Rpb24oYSkge1xuICAgICAgZm9yICh2YXIgYyA9IDAsIGIgPSAwOyBiIDwgYS5sZW5ndGg7IGIrKykge1xuICAgICAgICB2YXIgRSA9IChhLndvcmRzW2JdIHwgMCkgKiAxOSArIGMsIFMgPSBFICYgNjcxMDg4NjM7XG4gICAgICAgIEUgPj4+PSAyNiwgYS53b3Jkc1tiXSA9IFMsIGMgPSBFO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGMgIT09IDAgJiYgKGEud29yZHNbYS5sZW5ndGgrK10gPSBjKSwgYTtcbiAgICB9LCBzLl9wcmltZSA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIGlmICh6W2FdKVxuICAgICAgICByZXR1cm4gelthXTtcbiAgICAgIHZhciBjO1xuICAgICAgaWYgKGEgPT09IFwiazI1NlwiKVxuICAgICAgICBjID0gbmV3IF8oKTtcbiAgICAgIGVsc2UgaWYgKGEgPT09IFwicDIyNFwiKVxuICAgICAgICBjID0gbmV3IFIoKTtcbiAgICAgIGVsc2UgaWYgKGEgPT09IFwicDE5MlwiKVxuICAgICAgICBjID0gbmV3IEooKTtcbiAgICAgIGVsc2UgaWYgKGEgPT09IFwicDI1NTE5XCIpXG4gICAgICAgIGMgPSBuZXcgUSgpO1xuICAgICAgZWxzZVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIHByaW1lIFwiICsgYSk7XG4gICAgICByZXR1cm4gelthXSA9IGMsIGM7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBPKGwpIHtcbiAgICAgIGlmICh0eXBlb2YgbCA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHZhciBhID0gcy5fcHJpbWUobCk7XG4gICAgICAgIHRoaXMubSA9IGEucCwgdGhpcy5wcmltZSA9IGE7XG4gICAgICB9IGVsc2VcbiAgICAgICAgaShsLmd0bigxKSwgXCJtb2R1bHVzIG11c3QgYmUgZ3JlYXRlciB0aGFuIDFcIiksIHRoaXMubSA9IGwsIHRoaXMucHJpbWUgPSBudWxsO1xuICAgIH1cbiAgICBPLnByb3RvdHlwZS5fdmVyaWZ5MSA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIGkoYS5uZWdhdGl2ZSA9PT0gMCwgXCJyZWQgd29ya3Mgb25seSB3aXRoIHBvc2l0aXZlc1wiKSwgaShhLnJlZCwgXCJyZWQgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzXCIpO1xuICAgIH0sIE8ucHJvdG90eXBlLl92ZXJpZnkyID0gZnVuY3Rpb24oYSwgYykge1xuICAgICAgaSgoYS5uZWdhdGl2ZSB8IGMubmVnYXRpdmUpID09PSAwLCBcInJlZCB3b3JrcyBvbmx5IHdpdGggcG9zaXRpdmVzXCIpLCBpKFxuICAgICAgICBhLnJlZCAmJiBhLnJlZCA9PT0gYy5yZWQsXG4gICAgICAgIFwicmVkIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVyc1wiXG4gICAgICApO1xuICAgIH0sIE8ucHJvdG90eXBlLmltb2QgPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcmltZSA/IHRoaXMucHJpbWUuaXJlZHVjZShhKS5fZm9yY2VSZWQodGhpcykgOiAodihhLCBhLnVtb2QodGhpcy5tKS5fZm9yY2VSZWQodGhpcykpLCBhKTtcbiAgICB9LCBPLnByb3RvdHlwZS5uZWcgPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gYS5pc1plcm8oKSA/IGEuY2xvbmUoKSA6IHRoaXMubS5zdWIoYSkuX2ZvcmNlUmVkKHRoaXMpO1xuICAgIH0sIE8ucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGEsIGMpIHtcbiAgICAgIHRoaXMuX3ZlcmlmeTIoYSwgYyk7XG4gICAgICB2YXIgYiA9IGEuYWRkKGMpO1xuICAgICAgcmV0dXJuIGIuY21wKHRoaXMubSkgPj0gMCAmJiBiLmlzdWIodGhpcy5tKSwgYi5fZm9yY2VSZWQodGhpcyk7XG4gICAgfSwgTy5wcm90b3R5cGUuaWFkZCA9IGZ1bmN0aW9uKGEsIGMpIHtcbiAgICAgIHRoaXMuX3ZlcmlmeTIoYSwgYyk7XG4gICAgICB2YXIgYiA9IGEuaWFkZChjKTtcbiAgICAgIHJldHVybiBiLmNtcCh0aGlzLm0pID49IDAgJiYgYi5pc3ViKHRoaXMubSksIGI7XG4gICAgfSwgTy5wcm90b3R5cGUuc3ViID0gZnVuY3Rpb24oYSwgYykge1xuICAgICAgdGhpcy5fdmVyaWZ5MihhLCBjKTtcbiAgICAgIHZhciBiID0gYS5zdWIoYyk7XG4gICAgICByZXR1cm4gYi5jbXBuKDApIDwgMCAmJiBiLmlhZGQodGhpcy5tKSwgYi5fZm9yY2VSZWQodGhpcyk7XG4gICAgfSwgTy5wcm90b3R5cGUuaXN1YiA9IGZ1bmN0aW9uKGEsIGMpIHtcbiAgICAgIHRoaXMuX3ZlcmlmeTIoYSwgYyk7XG4gICAgICB2YXIgYiA9IGEuaXN1YihjKTtcbiAgICAgIHJldHVybiBiLmNtcG4oMCkgPCAwICYmIGIuaWFkZCh0aGlzLm0pLCBiO1xuICAgIH0sIE8ucHJvdG90eXBlLnNobCA9IGZ1bmN0aW9uKGEsIGMpIHtcbiAgICAgIHJldHVybiB0aGlzLl92ZXJpZnkxKGEpLCB0aGlzLmltb2QoYS51c2hsbihjKSk7XG4gICAgfSwgTy5wcm90b3R5cGUuaW11bCA9IGZ1bmN0aW9uKGEsIGMpIHtcbiAgICAgIHJldHVybiB0aGlzLl92ZXJpZnkyKGEsIGMpLCB0aGlzLmltb2QoYS5pbXVsKGMpKTtcbiAgICB9LCBPLnByb3RvdHlwZS5tdWwgPSBmdW5jdGlvbihhLCBjKSB7XG4gICAgICByZXR1cm4gdGhpcy5fdmVyaWZ5MihhLCBjKSwgdGhpcy5pbW9kKGEubXVsKGMpKTtcbiAgICB9LCBPLnByb3RvdHlwZS5pc3FyID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIHRoaXMuaW11bChhLCBhLmNsb25lKCkpO1xuICAgIH0sIE8ucHJvdG90eXBlLnNxciA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHJldHVybiB0aGlzLm11bChhLCBhKTtcbiAgICB9LCBPLnByb3RvdHlwZS5zcXJ0ID0gZnVuY3Rpb24oYSkge1xuICAgICAgaWYgKGEuaXNaZXJvKCkpXG4gICAgICAgIHJldHVybiBhLmNsb25lKCk7XG4gICAgICB2YXIgYyA9IHRoaXMubS5hbmRsbigzKTtcbiAgICAgIGlmIChpKGMgJSAyID09PSAxKSwgYyA9PT0gMykge1xuICAgICAgICB2YXIgYiA9IHRoaXMubS5hZGQobmV3IHMoMSkpLml1c2hybigyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucG93KGEsIGIpO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIgRSA9IHRoaXMubS5zdWJuKDEpLCBTID0gMDsgIUUuaXNaZXJvKCkgJiYgRS5hbmRsbigxKSA9PT0gMDsgKVxuICAgICAgICBTKyssIEUuaXVzaHJuKDEpO1xuICAgICAgaSghRS5pc1plcm8oKSk7XG4gICAgICB2YXIgeCA9IG5ldyBzKDEpLnRvUmVkKHRoaXMpLCB1ID0geC5yZWROZWcoKSwgbSA9IHRoaXMubS5zdWJuKDEpLml1c2hybigxKSwgZyA9IHRoaXMubS5iaXRMZW5ndGgoKTtcbiAgICAgIGZvciAoZyA9IG5ldyBzKDIgKiBnICogZykudG9SZWQodGhpcyk7IHRoaXMucG93KGcsIG0pLmNtcCh1KSAhPT0gMDsgKVxuICAgICAgICBnLnJlZElBZGQodSk7XG4gICAgICBmb3IgKHZhciBQID0gdGhpcy5wb3coZywgRSksIEcgPSB0aGlzLnBvdyhhLCBFLmFkZG4oMSkuaXVzaHJuKDEpKSwgTSA9IHRoaXMucG93KGEsIEUpLCBIID0gUzsgTS5jbXAoeCkgIT09IDA7ICkge1xuICAgICAgICBmb3IgKHZhciBDID0gTSwgcSA9IDA7IEMuY21wKHgpICE9PSAwOyBxKyspXG4gICAgICAgICAgQyA9IEMucmVkU3FyKCk7XG4gICAgICAgIGkocSA8IEgpO1xuICAgICAgICB2YXIgTCA9IHRoaXMucG93KFAsIG5ldyBzKDEpLml1c2hsbihIIC0gcSAtIDEpKTtcbiAgICAgICAgRyA9IEcucmVkTXVsKEwpLCBQID0gTC5yZWRTcXIoKSwgTSA9IE0ucmVkTXVsKFApLCBIID0gcTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBHO1xuICAgIH0sIE8ucHJvdG90eXBlLmludm0gPSBmdW5jdGlvbihhKSB7XG4gICAgICB2YXIgYyA9IGEuX2ludm1wKHRoaXMubSk7XG4gICAgICByZXR1cm4gYy5uZWdhdGl2ZSAhPT0gMCA/IChjLm5lZ2F0aXZlID0gMCwgdGhpcy5pbW9kKGMpLnJlZE5lZygpKSA6IHRoaXMuaW1vZChjKTtcbiAgICB9LCBPLnByb3RvdHlwZS5wb3cgPSBmdW5jdGlvbihhLCBjKSB7XG4gICAgICBpZiAoYy5pc1plcm8oKSlcbiAgICAgICAgcmV0dXJuIG5ldyBzKDEpLnRvUmVkKHRoaXMpO1xuICAgICAgaWYgKGMuY21wbigxKSA9PT0gMClcbiAgICAgICAgcmV0dXJuIGEuY2xvbmUoKTtcbiAgICAgIHZhciBiID0gNCwgRSA9IG5ldyBBcnJheSgxIDw8IGIpO1xuICAgICAgRVswXSA9IG5ldyBzKDEpLnRvUmVkKHRoaXMpLCBFWzFdID0gYTtcbiAgICAgIGZvciAodmFyIFMgPSAyOyBTIDwgRS5sZW5ndGg7IFMrKylcbiAgICAgICAgRVtTXSA9IHRoaXMubXVsKEVbUyAtIDFdLCBhKTtcbiAgICAgIHZhciB4ID0gRVswXSwgdSA9IDAsIG0gPSAwLCBnID0gYy5iaXRMZW5ndGgoKSAlIDI2O1xuICAgICAgZm9yIChnID09PSAwICYmIChnID0gMjYpLCBTID0gYy5sZW5ndGggLSAxOyBTID49IDA7IFMtLSkge1xuICAgICAgICBmb3IgKHZhciBQID0gYy53b3Jkc1tTXSwgRyA9IGcgLSAxOyBHID49IDA7IEctLSkge1xuICAgICAgICAgIHZhciBNID0gUCA+PiBHICYgMTtcbiAgICAgICAgICBpZiAoeCAhPT0gRVswXSAmJiAoeCA9IHRoaXMuc3FyKHgpKSwgTSA9PT0gMCAmJiB1ID09PSAwKSB7XG4gICAgICAgICAgICBtID0gMDtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1IDw8PSAxLCB1IHw9IE0sIG0rKywgIShtICE9PSBiICYmIChTICE9PSAwIHx8IEcgIT09IDApKSAmJiAoeCA9IHRoaXMubXVsKHgsIEVbdV0pLCBtID0gMCwgdSA9IDApO1xuICAgICAgICB9XG4gICAgICAgIGcgPSAyNjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB4O1xuICAgIH0sIE8ucHJvdG90eXBlLmNvbnZlcnRUbyA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHZhciBjID0gYS51bW9kKHRoaXMubSk7XG4gICAgICByZXR1cm4gYyA9PT0gYSA/IGMuY2xvbmUoKSA6IGM7XG4gICAgfSwgTy5wcm90b3R5cGUuY29udmVydEZyb20gPSBmdW5jdGlvbihhKSB7XG4gICAgICB2YXIgYyA9IGEuY2xvbmUoKTtcbiAgICAgIHJldHVybiBjLnJlZCA9IG51bGwsIGM7XG4gICAgfSwgcy5tb250ID0gZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIG5ldyBwKGEpO1xuICAgIH07XG4gICAgZnVuY3Rpb24gcChsKSB7XG4gICAgICBPLmNhbGwodGhpcywgbCksIHRoaXMuc2hpZnQgPSB0aGlzLm0uYml0TGVuZ3RoKCksIHRoaXMuc2hpZnQgJSAyNiAhPT0gMCAmJiAodGhpcy5zaGlmdCArPSAyNiAtIHRoaXMuc2hpZnQgJSAyNiksIHRoaXMuciA9IG5ldyBzKDEpLml1c2hsbih0aGlzLnNoaWZ0KSwgdGhpcy5yMiA9IHRoaXMuaW1vZCh0aGlzLnIuc3FyKCkpLCB0aGlzLnJpbnYgPSB0aGlzLnIuX2ludm1wKHRoaXMubSksIHRoaXMubWludiA9IHRoaXMucmludi5tdWwodGhpcy5yKS5pc3VibigxKS5kaXYodGhpcy5tKSwgdGhpcy5taW52ID0gdGhpcy5taW52LnVtb2QodGhpcy5yKSwgdGhpcy5taW52ID0gdGhpcy5yLnN1Yih0aGlzLm1pbnYpO1xuICAgIH1cbiAgICBuKHAsIE8pLCBwLnByb3RvdHlwZS5jb252ZXJ0VG8gPSBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbW9kKGEudXNobG4odGhpcy5zaGlmdCkpO1xuICAgIH0sIHAucHJvdG90eXBlLmNvbnZlcnRGcm9tID0gZnVuY3Rpb24oYSkge1xuICAgICAgdmFyIGMgPSB0aGlzLmltb2QoYS5tdWwodGhpcy5yaW52KSk7XG4gICAgICByZXR1cm4gYy5yZWQgPSBudWxsLCBjO1xuICAgIH0sIHAucHJvdG90eXBlLmltdWwgPSBmdW5jdGlvbihhLCBjKSB7XG4gICAgICBpZiAoYS5pc1plcm8oKSB8fCBjLmlzWmVybygpKVxuICAgICAgICByZXR1cm4gYS53b3Jkc1swXSA9IDAsIGEubGVuZ3RoID0gMSwgYTtcbiAgICAgIHZhciBiID0gYS5pbXVsKGMpLCBFID0gYi5tYXNrbih0aGlzLnNoaWZ0KS5tdWwodGhpcy5taW52KS5pbWFza24odGhpcy5zaGlmdCkubXVsKHRoaXMubSksIFMgPSBiLmlzdWIoRSkuaXVzaHJuKHRoaXMuc2hpZnQpLCB4ID0gUztcbiAgICAgIHJldHVybiBTLmNtcCh0aGlzLm0pID49IDAgPyB4ID0gUy5pc3ViKHRoaXMubSkgOiBTLmNtcG4oMCkgPCAwICYmICh4ID0gUy5pYWRkKHRoaXMubSkpLCB4Ll9mb3JjZVJlZCh0aGlzKTtcbiAgICB9LCBwLnByb3RvdHlwZS5tdWwgPSBmdW5jdGlvbihhLCBjKSB7XG4gICAgICBpZiAoYS5pc1plcm8oKSB8fCBjLmlzWmVybygpKVxuICAgICAgICByZXR1cm4gbmV3IHMoMCkuX2ZvcmNlUmVkKHRoaXMpO1xuICAgICAgdmFyIGIgPSBhLm11bChjKSwgRSA9IGIubWFza24odGhpcy5zaGlmdCkubXVsKHRoaXMubWludikuaW1hc2tuKHRoaXMuc2hpZnQpLm11bCh0aGlzLm0pLCBTID0gYi5pc3ViKEUpLml1c2hybih0aGlzLnNoaWZ0KSwgeCA9IFM7XG4gICAgICByZXR1cm4gUy5jbXAodGhpcy5tKSA+PSAwID8geCA9IFMuaXN1Yih0aGlzLm0pIDogUy5jbXBuKDApIDwgMCAmJiAoeCA9IFMuaWFkZCh0aGlzLm0pKSwgeC5fZm9yY2VSZWQodGhpcyk7XG4gICAgfSwgcC5wcm90b3R5cGUuaW52bSA9IGZ1bmN0aW9uKGEpIHtcbiAgICAgIHZhciBjID0gdGhpcy5pbW9kKGEuX2ludm1wKHRoaXMubSkubXVsKHRoaXMucjIpKTtcbiAgICAgIHJldHVybiBjLl9mb3JjZVJlZCh0aGlzKTtcbiAgICB9O1xuICB9KShyLCB0cik7XG59KShVbyk7XG52YXIgVXYgPSBVby5leHBvcnRzO1xuY29uc3QgS2UgPSAvKiBAX19QVVJFX18gKi8gYm4oVXYpO1xudmFyIHp2ID0gS2UuQk47XG5mdW5jdGlvbiBCdihyKSB7XG4gIHJldHVybiBuZXcgenYociwgMzYpLnRvU3RyaW5nKDE2KTtcbn1cbmNvbnN0IGt2ID0gXCJzdHJpbmdzLzUuNy4wXCIsIGp2ID0gbmV3IGh0KGt2KTtcbnZhciBrcztcbihmdW5jdGlvbihyKSB7XG4gIHIuY3VycmVudCA9IFwiXCIsIHIuTkZDID0gXCJORkNcIiwgci5ORkQgPSBcIk5GRFwiLCByLk5GS0MgPSBcIk5GS0NcIiwgci5ORktEID0gXCJORktEXCI7XG59KShrcyB8fCAoa3MgPSB7fSkpO1xudmFyIGFjO1xuKGZ1bmN0aW9uKHIpIHtcbiAgci5VTkVYUEVDVEVEX0NPTlRJTlVFID0gXCJ1bmV4cGVjdGVkIGNvbnRpbnVhdGlvbiBieXRlXCIsIHIuQkFEX1BSRUZJWCA9IFwiYmFkIGNvZGVwb2ludCBwcmVmaXhcIiwgci5PVkVSUlVOID0gXCJzdHJpbmcgb3ZlcnJ1blwiLCByLk1JU1NJTkdfQ09OVElOVUUgPSBcIm1pc3NpbmcgY29udGludWF0aW9uIGJ5dGVcIiwgci5PVVRfT0ZfUkFOR0UgPSBcIm91dCBvZiBVVEYtOCByYW5nZVwiLCByLlVURjE2X1NVUlJPR0FURSA9IFwiVVRGLTE2IHN1cnJvZ2F0ZVwiLCByLk9WRVJMT05HID0gXCJvdmVybG9uZyByZXByZXNlbnRhdGlvblwiO1xufSkoYWMgfHwgKGFjID0ge30pKTtcbmZ1bmN0aW9uIGthKHIsIGUgPSBrcy5jdXJyZW50KSB7XG4gIGUgIT0ga3MuY3VycmVudCAmJiAoanYuY2hlY2tOb3JtYWxpemUoKSwgciA9IHIubm9ybWFsaXplKGUpKTtcbiAgbGV0IHQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCByLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgbiA9IHIuY2hhckNvZGVBdChpKTtcbiAgICBpZiAobiA8IDEyOClcbiAgICAgIHQucHVzaChuKTtcbiAgICBlbHNlIGlmIChuIDwgMjA0OClcbiAgICAgIHQucHVzaChuID4+IDYgfCAxOTIpLCB0LnB1c2gobiAmIDYzIHwgMTI4KTtcbiAgICBlbHNlIGlmICgobiAmIDY0NTEyKSA9PSA1NTI5Nikge1xuICAgICAgaSsrO1xuICAgICAgY29uc3QgcyA9IHIuY2hhckNvZGVBdChpKTtcbiAgICAgIGlmIChpID49IHIubGVuZ3RoIHx8IChzICYgNjQ1MTIpICE9PSA1NjMyMClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCB1dGYtOCBzdHJpbmdcIik7XG4gICAgICBjb25zdCBvID0gNjU1MzYgKyAoKG4gJiAxMDIzKSA8PCAxMCkgKyAocyAmIDEwMjMpO1xuICAgICAgdC5wdXNoKG8gPj4gMTggfCAyNDApLCB0LnB1c2gobyA+PiAxMiAmIDYzIHwgMTI4KSwgdC5wdXNoKG8gPj4gNiAmIDYzIHwgMTI4KSwgdC5wdXNoKG8gJiA2MyB8IDEyOCk7XG4gICAgfSBlbHNlXG4gICAgICB0LnB1c2gobiA+PiAxMiB8IDIyNCksIHQucHVzaChuID4+IDYgJiA2MyB8IDEyOCksIHQucHVzaChuICYgNjMgfCAxMjgpO1xuICB9XG4gIHJldHVybiB5dCh0KTtcbn1cbmNvbnN0IEt2ID0gYFx1MDAxOUV0aGVyZXVtIFNpZ25lZCBNZXNzYWdlOlxuYDtcbmZ1bmN0aW9uIGJ1KHIpIHtcbiAgcmV0dXJuIHR5cGVvZiByID09IFwic3RyaW5nXCIgJiYgKHIgPSBrYShyKSksIHFvKEx2KFtcbiAgICBrYShLdiksXG4gICAga2EoU3RyaW5nKHIubGVuZ3RoKSksXG4gICAgclxuICBdKSk7XG59XG5jb25zdCBIdiA9IFwiYWRkcmVzcy81LjcuMFwiLCBrbiA9IG5ldyBodChIdik7XG5mdW5jdGlvbiBvYyhyKSB7XG4gIExyKHIsIDIwKSB8fCBrbi50aHJvd0FyZ3VtZW50RXJyb3IoXCJpbnZhbGlkIGFkZHJlc3NcIiwgXCJhZGRyZXNzXCIsIHIpLCByID0gci50b0xvd2VyQ2FzZSgpO1xuICBjb25zdCBlID0gci5zdWJzdHJpbmcoMikuc3BsaXQoXCJcIiksIHQgPSBuZXcgVWludDhBcnJheSg0MCk7XG4gIGZvciAobGV0IG4gPSAwOyBuIDwgNDA7IG4rKylcbiAgICB0W25dID0gZVtuXS5jaGFyQ29kZUF0KDApO1xuICBjb25zdCBpID0geXQocW8odCkpO1xuICBmb3IgKGxldCBuID0gMDsgbiA8IDQwOyBuICs9IDIpXG4gICAgaVtuID4+IDFdID4+IDQgPj0gOCAmJiAoZVtuXSA9IGVbbl0udG9VcHBlckNhc2UoKSksIChpW24gPj4gMV0gJiAxNSkgPj0gOCAmJiAoZVtuICsgMV0gPSBlW24gKyAxXS50b1VwcGVyQ2FzZSgpKTtcbiAgcmV0dXJuIFwiMHhcIiArIGUuam9pbihcIlwiKTtcbn1cbmNvbnN0IFZ2ID0gOTAwNzE5OTI1NDc0MDk5MTtcbmZ1bmN0aW9uIFd2KHIpIHtcbiAgcmV0dXJuIE1hdGgubG9nMTAgPyBNYXRoLmxvZzEwKHIpIDogTWF0aC5sb2cocikgLyBNYXRoLkxOMTA7XG59XG5jb25zdCB6byA9IHt9O1xuZm9yIChsZXQgciA9IDA7IHIgPCAxMDsgcisrKVxuICB6b1tTdHJpbmcocildID0gU3RyaW5nKHIpO1xuZm9yIChsZXQgciA9IDA7IHIgPCAyNjsgcisrKVxuICB6b1tTdHJpbmcuZnJvbUNoYXJDb2RlKDY1ICsgcildID0gU3RyaW5nKDEwICsgcik7XG5jb25zdCBmYyA9IE1hdGguZmxvb3IoV3YoVnYpKTtcbmZ1bmN0aW9uIEd2KHIpIHtcbiAgciA9IHIudG9VcHBlckNhc2UoKSwgciA9IHIuc3Vic3RyaW5nKDQpICsgci5zdWJzdHJpbmcoMCwgMikgKyBcIjAwXCI7XG4gIGxldCBlID0gci5zcGxpdChcIlwiKS5tYXAoKGkpID0+IHpvW2ldKS5qb2luKFwiXCIpO1xuICBmb3IgKDsgZS5sZW5ndGggPj0gZmM7ICkge1xuICAgIGxldCBpID0gZS5zdWJzdHJpbmcoMCwgZmMpO1xuICAgIGUgPSBwYXJzZUludChpLCAxMCkgJSA5NyArIGUuc3Vic3RyaW5nKGkubGVuZ3RoKTtcbiAgfVxuICBsZXQgdCA9IFN0cmluZyg5OCAtIHBhcnNlSW50KGUsIDEwKSAlIDk3KTtcbiAgZm9yICg7IHQubGVuZ3RoIDwgMjsgKVxuICAgIHQgPSBcIjBcIiArIHQ7XG4gIHJldHVybiB0O1xufVxuZnVuY3Rpb24gSnYocikge1xuICBsZXQgZSA9IG51bGw7XG4gIGlmICh0eXBlb2YgciAhPSBcInN0cmluZ1wiICYmIGtuLnRocm93QXJndW1lbnRFcnJvcihcImludmFsaWQgYWRkcmVzc1wiLCBcImFkZHJlc3NcIiwgciksIHIubWF0Y2goL14oMHgpP1swLTlhLWZBLUZdezQwfSQvKSlcbiAgICByLnN1YnN0cmluZygwLCAyKSAhPT0gXCIweFwiICYmIChyID0gXCIweFwiICsgciksIGUgPSBvYyhyKSwgci5tYXRjaCgvKFtBLUZdLipbYS1mXSl8KFthLWZdLipbQS1GXSkvKSAmJiBlICE9PSByICYmIGtuLnRocm93QXJndW1lbnRFcnJvcihcImJhZCBhZGRyZXNzIGNoZWNrc3VtXCIsIFwiYWRkcmVzc1wiLCByKTtcbiAgZWxzZSBpZiAoci5tYXRjaCgvXlhFWzAtOV17Mn1bMC05QS1aYS16XXszMCwzMX0kLykpIHtcbiAgICBmb3IgKHIuc3Vic3RyaW5nKDIsIDQpICE9PSBHdihyKSAmJiBrbi50aHJvd0FyZ3VtZW50RXJyb3IoXCJiYWQgaWNhcCBjaGVja3N1bVwiLCBcImFkZHJlc3NcIiwgciksIGUgPSBCdihyLnN1YnN0cmluZyg0KSk7IGUubGVuZ3RoIDwgNDA7IClcbiAgICAgIGUgPSBcIjBcIiArIGU7XG4gICAgZSA9IG9jKFwiMHhcIiArIGUpO1xuICB9IGVsc2VcbiAgICBrbi50aHJvd0FyZ3VtZW50RXJyb3IoXCJpbnZhbGlkIGFkZHJlc3NcIiwgXCJhZGRyZXNzXCIsIHIpO1xuICByZXR1cm4gZTtcbn1cbmdsb2JhbFRoaXMgJiYgZ2xvYmFsVGhpcy5fX2F3YWl0ZXI7XG5mdW5jdGlvbiBUbihyLCBlLCB0KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyLCBlLCB7XG4gICAgZW51bWVyYWJsZTogITAsXG4gICAgdmFsdWU6IHQsXG4gICAgd3JpdGFibGU6ICExXG4gIH0pO1xufVxudmFyIG5zID0ge30sIFFlID0ge30sIFlpID0gZ3U7XG5mdW5jdGlvbiBndShyLCBlKSB7XG4gIGlmICghcilcbiAgICB0aHJvdyBuZXcgRXJyb3IoZSB8fCBcIkFzc2VydGlvbiBmYWlsZWRcIik7XG59XG5ndS5lcXVhbCA9IGZ1bmN0aW9uKGUsIHQsIGkpIHtcbiAgaWYgKGUgIT0gdClcbiAgICB0aHJvdyBuZXcgRXJyb3IoaSB8fCBcIkFzc2VydGlvbiBmYWlsZWQ6IFwiICsgZSArIFwiICE9IFwiICsgdCk7XG59O1xudmFyIG1vID0geyBleHBvcnRzOiB7fSB9O1xudHlwZW9mIE9iamVjdC5jcmVhdGUgPT0gXCJmdW5jdGlvblwiID8gbW8uZXhwb3J0cyA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgdCAmJiAoZS5zdXBlcl8gPSB0LCBlLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgdmFsdWU6IGUsXG4gICAgICBlbnVtZXJhYmxlOiAhMSxcbiAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgIGNvbmZpZ3VyYWJsZTogITBcbiAgICB9XG4gIH0pKTtcbn0gOiBtby5leHBvcnRzID0gZnVuY3Rpb24oZSwgdCkge1xuICBpZiAodCkge1xuICAgIGUuc3VwZXJfID0gdDtcbiAgICB2YXIgaSA9IGZ1bmN0aW9uKCkge1xuICAgIH07XG4gICAgaS5wcm90b3R5cGUgPSB0LnByb3RvdHlwZSwgZS5wcm90b3R5cGUgPSBuZXcgaSgpLCBlLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGU7XG4gIH1cbn07XG52YXIgdWEgPSBtby5leHBvcnRzLCBZdiA9IFlpLCBYdiA9IHVhO1xuUWUuaW5oZXJpdHMgPSBYdjtcbmZ1bmN0aW9uIFp2KHIsIGUpIHtcbiAgcmV0dXJuIChyLmNoYXJDb2RlQXQoZSkgJiA2NDUxMikgIT09IDU1Mjk2IHx8IGUgPCAwIHx8IGUgKyAxID49IHIubGVuZ3RoID8gITEgOiAoci5jaGFyQ29kZUF0KGUgKyAxKSAmIDY0NTEyKSA9PT0gNTYzMjA7XG59XG5mdW5jdGlvbiBRdihyLCBlKSB7XG4gIGlmIChBcnJheS5pc0FycmF5KHIpKVxuICAgIHJldHVybiByLnNsaWNlKCk7XG4gIGlmICghcilcbiAgICByZXR1cm4gW107XG4gIHZhciB0ID0gW107XG4gIGlmICh0eXBlb2YgciA9PSBcInN0cmluZ1wiKVxuICAgIGlmIChlKSB7XG4gICAgICBpZiAoZSA9PT0gXCJoZXhcIilcbiAgICAgICAgZm9yIChyID0gci5yZXBsYWNlKC9bXmEtejAtOV0rL2lnLCBcIlwiKSwgci5sZW5ndGggJSAyICE9PSAwICYmIChyID0gXCIwXCIgKyByKSwgbiA9IDA7IG4gPCByLmxlbmd0aDsgbiArPSAyKVxuICAgICAgICAgIHQucHVzaChwYXJzZUludChyW25dICsgcltuICsgMV0sIDE2KSk7XG4gICAgfSBlbHNlXG4gICAgICBmb3IgKHZhciBpID0gMCwgbiA9IDA7IG4gPCByLmxlbmd0aDsgbisrKSB7XG4gICAgICAgIHZhciBzID0gci5jaGFyQ29kZUF0KG4pO1xuICAgICAgICBzIDwgMTI4ID8gdFtpKytdID0gcyA6IHMgPCAyMDQ4ID8gKHRbaSsrXSA9IHMgPj4gNiB8IDE5MiwgdFtpKytdID0gcyAmIDYzIHwgMTI4KSA6IFp2KHIsIG4pID8gKHMgPSA2NTUzNiArICgocyAmIDEwMjMpIDw8IDEwKSArIChyLmNoYXJDb2RlQXQoKytuKSAmIDEwMjMpLCB0W2krK10gPSBzID4+IDE4IHwgMjQwLCB0W2krK10gPSBzID4+IDEyICYgNjMgfCAxMjgsIHRbaSsrXSA9IHMgPj4gNiAmIDYzIHwgMTI4LCB0W2krK10gPSBzICYgNjMgfCAxMjgpIDogKHRbaSsrXSA9IHMgPj4gMTIgfCAyMjQsIHRbaSsrXSA9IHMgPj4gNiAmIDYzIHwgMTI4LCB0W2krK10gPSBzICYgNjMgfCAxMjgpO1xuICAgICAgfVxuICBlbHNlXG4gICAgZm9yIChuID0gMDsgbiA8IHIubGVuZ3RoOyBuKyspXG4gICAgICB0W25dID0gcltuXSB8IDA7XG4gIHJldHVybiB0O1xufVxuUWUudG9BcnJheSA9IFF2O1xuZnVuY3Rpb24gZWIocikge1xuICBmb3IgKHZhciBlID0gXCJcIiwgdCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKVxuICAgIGUgKz0gbXUoclt0XS50b1N0cmluZygxNikpO1xuICByZXR1cm4gZTtcbn1cblFlLnRvSGV4ID0gZWI7XG5mdW5jdGlvbiB5dShyKSB7XG4gIHZhciBlID0gciA+Pj4gMjQgfCByID4+PiA4ICYgNjUyODAgfCByIDw8IDggJiAxNjcxMTY4MCB8IChyICYgMjU1KSA8PCAyNDtcbiAgcmV0dXJuIGUgPj4+IDA7XG59XG5RZS5odG9ubCA9IHl1O1xuZnVuY3Rpb24gdGIociwgZSkge1xuICBmb3IgKHZhciB0ID0gXCJcIiwgaSA9IDA7IGkgPCByLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIG4gPSByW2ldO1xuICAgIGUgPT09IFwibGl0dGxlXCIgJiYgKG4gPSB5dShuKSksIHQgKz0gd3Uobi50b1N0cmluZygxNikpO1xuICB9XG4gIHJldHVybiB0O1xufVxuUWUudG9IZXgzMiA9IHRiO1xuZnVuY3Rpb24gbXUocikge1xuICByZXR1cm4gci5sZW5ndGggPT09IDEgPyBcIjBcIiArIHIgOiByO1xufVxuUWUuemVybzIgPSBtdTtcbmZ1bmN0aW9uIHd1KHIpIHtcbiAgcmV0dXJuIHIubGVuZ3RoID09PSA3ID8gXCIwXCIgKyByIDogci5sZW5ndGggPT09IDYgPyBcIjAwXCIgKyByIDogci5sZW5ndGggPT09IDUgPyBcIjAwMFwiICsgciA6IHIubGVuZ3RoID09PSA0ID8gXCIwMDAwXCIgKyByIDogci5sZW5ndGggPT09IDMgPyBcIjAwMDAwXCIgKyByIDogci5sZW5ndGggPT09IDIgPyBcIjAwMDAwMFwiICsgciA6IHIubGVuZ3RoID09PSAxID8gXCIwMDAwMDAwXCIgKyByIDogcjtcbn1cblFlLnplcm84ID0gd3U7XG5mdW5jdGlvbiByYihyLCBlLCB0LCBpKSB7XG4gIHZhciBuID0gdCAtIGU7XG4gIFl2KG4gJSA0ID09PSAwKTtcbiAgZm9yICh2YXIgcyA9IG5ldyBBcnJheShuIC8gNCksIG8gPSAwLCBmID0gZTsgbyA8IHMubGVuZ3RoOyBvKyssIGYgKz0gNCkge1xuICAgIHZhciBoO1xuICAgIGkgPT09IFwiYmlnXCIgPyBoID0gcltmXSA8PCAyNCB8IHJbZiArIDFdIDw8IDE2IHwgcltmICsgMl0gPDwgOCB8IHJbZiArIDNdIDogaCA9IHJbZiArIDNdIDw8IDI0IHwgcltmICsgMl0gPDwgMTYgfCByW2YgKyAxXSA8PCA4IHwgcltmXSwgc1tvXSA9IGggPj4+IDA7XG4gIH1cbiAgcmV0dXJuIHM7XG59XG5RZS5qb2luMzIgPSByYjtcbmZ1bmN0aW9uIGliKHIsIGUpIHtcbiAgZm9yICh2YXIgdCA9IG5ldyBBcnJheShyLmxlbmd0aCAqIDQpLCBpID0gMCwgbiA9IDA7IGkgPCByLmxlbmd0aDsgaSsrLCBuICs9IDQpIHtcbiAgICB2YXIgcyA9IHJbaV07XG4gICAgZSA9PT0gXCJiaWdcIiA/ICh0W25dID0gcyA+Pj4gMjQsIHRbbiArIDFdID0gcyA+Pj4gMTYgJiAyNTUsIHRbbiArIDJdID0gcyA+Pj4gOCAmIDI1NSwgdFtuICsgM10gPSBzICYgMjU1KSA6ICh0W24gKyAzXSA9IHMgPj4+IDI0LCB0W24gKyAyXSA9IHMgPj4+IDE2ICYgMjU1LCB0W24gKyAxXSA9IHMgPj4+IDggJiAyNTUsIHRbbl0gPSBzICYgMjU1KTtcbiAgfVxuICByZXR1cm4gdDtcbn1cblFlLnNwbGl0MzIgPSBpYjtcbmZ1bmN0aW9uIG5iKHIsIGUpIHtcbiAgcmV0dXJuIHIgPj4+IGUgfCByIDw8IDMyIC0gZTtcbn1cblFlLnJvdHIzMiA9IG5iO1xuZnVuY3Rpb24gc2IociwgZSkge1xuICByZXR1cm4gciA8PCBlIHwgciA+Pj4gMzIgLSBlO1xufVxuUWUucm90bDMyID0gc2I7XG5mdW5jdGlvbiBhYihyLCBlKSB7XG4gIHJldHVybiByICsgZSA+Pj4gMDtcbn1cblFlLnN1bTMyID0gYWI7XG5mdW5jdGlvbiBvYihyLCBlLCB0KSB7XG4gIHJldHVybiByICsgZSArIHQgPj4+IDA7XG59XG5RZS5zdW0zMl8zID0gb2I7XG5mdW5jdGlvbiBmYihyLCBlLCB0LCBpKSB7XG4gIHJldHVybiByICsgZSArIHQgKyBpID4+PiAwO1xufVxuUWUuc3VtMzJfNCA9IGZiO1xuZnVuY3Rpb24gY2IociwgZSwgdCwgaSwgbikge1xuICByZXR1cm4gciArIGUgKyB0ICsgaSArIG4gPj4+IDA7XG59XG5RZS5zdW0zMl81ID0gY2I7XG5mdW5jdGlvbiBoYihyLCBlLCB0LCBpKSB7XG4gIHZhciBuID0gcltlXSwgcyA9IHJbZSArIDFdLCBvID0gaSArIHMgPj4+IDAsIGYgPSAobyA8IGkgPyAxIDogMCkgKyB0ICsgbjtcbiAgcltlXSA9IGYgPj4+IDAsIHJbZSArIDFdID0gbztcbn1cblFlLnN1bTY0ID0gaGI7XG5mdW5jdGlvbiB1YihyLCBlLCB0LCBpKSB7XG4gIHZhciBuID0gZSArIGkgPj4+IDAsIHMgPSAobiA8IGUgPyAxIDogMCkgKyByICsgdDtcbiAgcmV0dXJuIHMgPj4+IDA7XG59XG5RZS5zdW02NF9oaSA9IHViO1xuZnVuY3Rpb24gZGIociwgZSwgdCwgaSkge1xuICB2YXIgbiA9IGUgKyBpO1xuICByZXR1cm4gbiA+Pj4gMDtcbn1cblFlLnN1bTY0X2xvID0gZGI7XG5mdW5jdGlvbiBsYihyLCBlLCB0LCBpLCBuLCBzLCBvLCBmKSB7XG4gIHZhciBoID0gMCwgZCA9IGU7XG4gIGQgPSBkICsgaSA+Pj4gMCwgaCArPSBkIDwgZSA/IDEgOiAwLCBkID0gZCArIHMgPj4+IDAsIGggKz0gZCA8IHMgPyAxIDogMCwgZCA9IGQgKyBmID4+PiAwLCBoICs9IGQgPCBmID8gMSA6IDA7XG4gIHZhciB2ID0gciArIHQgKyBuICsgbyArIGg7XG4gIHJldHVybiB2ID4+PiAwO1xufVxuUWUuc3VtNjRfNF9oaSA9IGxiO1xuZnVuY3Rpb24gcGIociwgZSwgdCwgaSwgbiwgcywgbywgZikge1xuICB2YXIgaCA9IGUgKyBpICsgcyArIGY7XG4gIHJldHVybiBoID4+PiAwO1xufVxuUWUuc3VtNjRfNF9sbyA9IHBiO1xuZnVuY3Rpb24gdmIociwgZSwgdCwgaSwgbiwgcywgbywgZiwgaCwgZCkge1xuICB2YXIgdiA9IDAsIHcgPSBlO1xuICB3ID0gdyArIGkgPj4+IDAsIHYgKz0gdyA8IGUgPyAxIDogMCwgdyA9IHcgKyBzID4+PiAwLCB2ICs9IHcgPCBzID8gMSA6IDAsIHcgPSB3ICsgZiA+Pj4gMCwgdiArPSB3IDwgZiA/IDEgOiAwLCB3ID0gdyArIGQgPj4+IDAsIHYgKz0gdyA8IGQgPyAxIDogMDtcbiAgdmFyIEEgPSByICsgdCArIG4gKyBvICsgaCArIHY7XG4gIHJldHVybiBBID4+PiAwO1xufVxuUWUuc3VtNjRfNV9oaSA9IHZiO1xuZnVuY3Rpb24gYmIociwgZSwgdCwgaSwgbiwgcywgbywgZiwgaCwgZCkge1xuICB2YXIgdiA9IGUgKyBpICsgcyArIGYgKyBkO1xuICByZXR1cm4gdiA+Pj4gMDtcbn1cblFlLnN1bTY0XzVfbG8gPSBiYjtcbmZ1bmN0aW9uIGdiKHIsIGUsIHQpIHtcbiAgdmFyIGkgPSBlIDw8IDMyIC0gdCB8IHIgPj4+IHQ7XG4gIHJldHVybiBpID4+PiAwO1xufVxuUWUucm90cjY0X2hpID0gZ2I7XG5mdW5jdGlvbiB5YihyLCBlLCB0KSB7XG4gIHZhciBpID0gciA8PCAzMiAtIHQgfCBlID4+PiB0O1xuICByZXR1cm4gaSA+Pj4gMDtcbn1cblFlLnJvdHI2NF9sbyA9IHliO1xuZnVuY3Rpb24gbWIociwgZSwgdCkge1xuICByZXR1cm4gciA+Pj4gdDtcbn1cblFlLnNocjY0X2hpID0gbWI7XG5mdW5jdGlvbiB3YihyLCBlLCB0KSB7XG4gIHZhciBpID0gciA8PCAzMiAtIHQgfCBlID4+PiB0O1xuICByZXR1cm4gaSA+Pj4gMDtcbn1cblFlLnNocjY0X2xvID0gd2I7XG52YXIgbW4gPSB7fSwgY2MgPSBRZSwgX2IgPSBZaTtcbmZ1bmN0aW9uIGRhKCkge1xuICB0aGlzLnBlbmRpbmcgPSBudWxsLCB0aGlzLnBlbmRpbmdUb3RhbCA9IDAsIHRoaXMuYmxvY2tTaXplID0gdGhpcy5jb25zdHJ1Y3Rvci5ibG9ja1NpemUsIHRoaXMub3V0U2l6ZSA9IHRoaXMuY29uc3RydWN0b3Iub3V0U2l6ZSwgdGhpcy5obWFjU3RyZW5ndGggPSB0aGlzLmNvbnN0cnVjdG9yLmhtYWNTdHJlbmd0aCwgdGhpcy5wYWRMZW5ndGggPSB0aGlzLmNvbnN0cnVjdG9yLnBhZExlbmd0aCAvIDgsIHRoaXMuZW5kaWFuID0gXCJiaWdcIiwgdGhpcy5fZGVsdGE4ID0gdGhpcy5ibG9ja1NpemUgLyA4LCB0aGlzLl9kZWx0YTMyID0gdGhpcy5ibG9ja1NpemUgLyAzMjtcbn1cbm1uLkJsb2NrSGFzaCA9IGRhO1xuZGEucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgaWYgKGUgPSBjYy50b0FycmF5KGUsIHQpLCB0aGlzLnBlbmRpbmcgPyB0aGlzLnBlbmRpbmcgPSB0aGlzLnBlbmRpbmcuY29uY2F0KGUpIDogdGhpcy5wZW5kaW5nID0gZSwgdGhpcy5wZW5kaW5nVG90YWwgKz0gZS5sZW5ndGgsIHRoaXMucGVuZGluZy5sZW5ndGggPj0gdGhpcy5fZGVsdGE4KSB7XG4gICAgZSA9IHRoaXMucGVuZGluZztcbiAgICB2YXIgaSA9IGUubGVuZ3RoICUgdGhpcy5fZGVsdGE4O1xuICAgIHRoaXMucGVuZGluZyA9IGUuc2xpY2UoZS5sZW5ndGggLSBpLCBlLmxlbmd0aCksIHRoaXMucGVuZGluZy5sZW5ndGggPT09IDAgJiYgKHRoaXMucGVuZGluZyA9IG51bGwpLCBlID0gY2Muam9pbjMyKGUsIDAsIGUubGVuZ3RoIC0gaSwgdGhpcy5lbmRpYW4pO1xuICAgIGZvciAodmFyIG4gPSAwOyBuIDwgZS5sZW5ndGg7IG4gKz0gdGhpcy5fZGVsdGEzMilcbiAgICAgIHRoaXMuX3VwZGF0ZShlLCBuLCBuICsgdGhpcy5fZGVsdGEzMik7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuZGEucHJvdG90eXBlLmRpZ2VzdCA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIHRoaXMudXBkYXRlKHRoaXMuX3BhZCgpKSwgX2IodGhpcy5wZW5kaW5nID09PSBudWxsKSwgdGhpcy5fZGlnZXN0KGUpO1xufTtcbmRhLnByb3RvdHlwZS5fcGFkID0gZnVuY3Rpb24oKSB7XG4gIHZhciBlID0gdGhpcy5wZW5kaW5nVG90YWwsIHQgPSB0aGlzLl9kZWx0YTgsIGkgPSB0IC0gKGUgKyB0aGlzLnBhZExlbmd0aCkgJSB0LCBuID0gbmV3IEFycmF5KGkgKyB0aGlzLnBhZExlbmd0aCk7XG4gIG5bMF0gPSAxMjg7XG4gIGZvciAodmFyIHMgPSAxOyBzIDwgaTsgcysrKVxuICAgIG5bc10gPSAwO1xuICBpZiAoZSA8PD0gMywgdGhpcy5lbmRpYW4gPT09IFwiYmlnXCIpIHtcbiAgICBmb3IgKHZhciBvID0gODsgbyA8IHRoaXMucGFkTGVuZ3RoOyBvKyspXG4gICAgICBuW3MrK10gPSAwO1xuICAgIG5bcysrXSA9IDAsIG5bcysrXSA9IDAsIG5bcysrXSA9IDAsIG5bcysrXSA9IDAsIG5bcysrXSA9IGUgPj4+IDI0ICYgMjU1LCBuW3MrK10gPSBlID4+PiAxNiAmIDI1NSwgbltzKytdID0gZSA+Pj4gOCAmIDI1NSwgbltzKytdID0gZSAmIDI1NTtcbiAgfSBlbHNlXG4gICAgZm9yIChuW3MrK10gPSBlICYgMjU1LCBuW3MrK10gPSBlID4+PiA4ICYgMjU1LCBuW3MrK10gPSBlID4+PiAxNiAmIDI1NSwgbltzKytdID0gZSA+Pj4gMjQgJiAyNTUsIG5bcysrXSA9IDAsIG5bcysrXSA9IDAsIG5bcysrXSA9IDAsIG5bcysrXSA9IDAsIG8gPSA4OyBvIDwgdGhpcy5wYWRMZW5ndGg7IG8rKylcbiAgICAgIG5bcysrXSA9IDA7XG4gIHJldHVybiBuO1xufTtcbnZhciB3biA9IHt9LCBLciA9IHt9LCB4YiA9IFFlLCBGciA9IHhiLnJvdHIzMjtcbmZ1bmN0aW9uIEViKHIsIGUsIHQsIGkpIHtcbiAgaWYgKHIgPT09IDApXG4gICAgcmV0dXJuIF91KGUsIHQsIGkpO1xuICBpZiAociA9PT0gMSB8fCByID09PSAzKVxuICAgIHJldHVybiBFdShlLCB0LCBpKTtcbiAgaWYgKHIgPT09IDIpXG4gICAgcmV0dXJuIHh1KGUsIHQsIGkpO1xufVxuS3IuZnRfMSA9IEViO1xuZnVuY3Rpb24gX3UociwgZSwgdCkge1xuICByZXR1cm4gciAmIGUgXiB+ciAmIHQ7XG59XG5Lci5jaDMyID0gX3U7XG5mdW5jdGlvbiB4dShyLCBlLCB0KSB7XG4gIHJldHVybiByICYgZSBeIHIgJiB0IF4gZSAmIHQ7XG59XG5Lci5tYWozMiA9IHh1O1xuZnVuY3Rpb24gRXUociwgZSwgdCkge1xuICByZXR1cm4gciBeIGUgXiB0O1xufVxuS3IucDMyID0gRXU7XG5mdW5jdGlvbiBTYihyKSB7XG4gIHJldHVybiBGcihyLCAyKSBeIEZyKHIsIDEzKSBeIEZyKHIsIDIyKTtcbn1cbktyLnMwXzI1NiA9IFNiO1xuZnVuY3Rpb24gTWIocikge1xuICByZXR1cm4gRnIociwgNikgXiBGcihyLCAxMSkgXiBGcihyLCAyNSk7XG59XG5Lci5zMV8yNTYgPSBNYjtcbmZ1bmN0aW9uIEliKHIpIHtcbiAgcmV0dXJuIEZyKHIsIDcpIF4gRnIociwgMTgpIF4gciA+Pj4gMztcbn1cbktyLmcwXzI1NiA9IEliO1xuZnVuY3Rpb24gQWIocikge1xuICByZXR1cm4gRnIociwgMTcpIF4gRnIociwgMTkpIF4gciA+Pj4gMTA7XG59XG5Lci5nMV8yNTYgPSBBYjtcbnZhciBkbiA9IFFlLCBEYiA9IG1uLCBQYiA9IEtyLCBqYSA9IGRuLnJvdGwzMiwgQ24gPSBkbi5zdW0zMiwgT2IgPSBkbi5zdW0zMl81LCBSYiA9IFBiLmZ0XzEsIFN1ID0gRGIuQmxvY2tIYXNoLCBOYiA9IFtcbiAgMTUxODUwMDI0OSxcbiAgMTg1OTc3NTM5MyxcbiAgMjQwMDk1OTcwOCxcbiAgMzM5NTQ2OTc4MlxuXTtcbmZ1bmN0aW9uIHpyKCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgenIpKVxuICAgIHJldHVybiBuZXcgenIoKTtcbiAgU3UuY2FsbCh0aGlzKSwgdGhpcy5oID0gW1xuICAgIDE3MzI1ODQxOTMsXG4gICAgNDAyMzIzMzQxNyxcbiAgICAyNTYyMzgzMTAyLFxuICAgIDI3MTczMzg3OCxcbiAgICAzMjg1Mzc3NTIwXG4gIF0sIHRoaXMuVyA9IG5ldyBBcnJheSg4MCk7XG59XG5kbi5pbmhlcml0cyh6ciwgU3UpO1xudmFyIFRiID0genI7XG56ci5ibG9ja1NpemUgPSA1MTI7XG56ci5vdXRTaXplID0gMTYwO1xuenIuaG1hY1N0cmVuZ3RoID0gODA7XG56ci5wYWRMZW5ndGggPSA2NDtcbnpyLnByb3RvdHlwZS5fdXBkYXRlID0gZnVuY3Rpb24oZSwgdCkge1xuICBmb3IgKHZhciBpID0gdGhpcy5XLCBuID0gMDsgbiA8IDE2OyBuKyspXG4gICAgaVtuXSA9IGVbdCArIG5dO1xuICBmb3IgKDsgbiA8IGkubGVuZ3RoOyBuKyspXG4gICAgaVtuXSA9IGphKGlbbiAtIDNdIF4gaVtuIC0gOF0gXiBpW24gLSAxNF0gXiBpW24gLSAxNl0sIDEpO1xuICB2YXIgcyA9IHRoaXMuaFswXSwgbyA9IHRoaXMuaFsxXSwgZiA9IHRoaXMuaFsyXSwgaCA9IHRoaXMuaFszXSwgZCA9IHRoaXMuaFs0XTtcbiAgZm9yIChuID0gMDsgbiA8IGkubGVuZ3RoOyBuKyspIHtcbiAgICB2YXIgdiA9IH5+KG4gLyAyMCksIHcgPSBPYihqYShzLCA1KSwgUmIodiwgbywgZiwgaCksIGQsIGlbbl0sIE5iW3ZdKTtcbiAgICBkID0gaCwgaCA9IGYsIGYgPSBqYShvLCAzMCksIG8gPSBzLCBzID0gdztcbiAgfVxuICB0aGlzLmhbMF0gPSBDbih0aGlzLmhbMF0sIHMpLCB0aGlzLmhbMV0gPSBDbih0aGlzLmhbMV0sIG8pLCB0aGlzLmhbMl0gPSBDbih0aGlzLmhbMl0sIGYpLCB0aGlzLmhbM10gPSBDbih0aGlzLmhbM10sIGgpLCB0aGlzLmhbNF0gPSBDbih0aGlzLmhbNF0sIGQpO1xufTtcbnpyLnByb3RvdHlwZS5fZGlnZXN0ID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gZSA9PT0gXCJoZXhcIiA/IGRuLnRvSGV4MzIodGhpcy5oLCBcImJpZ1wiKSA6IGRuLnNwbGl0MzIodGhpcy5oLCBcImJpZ1wiKTtcbn07XG52YXIgbG4gPSBRZSwgQ2IgPSBtbiwgX24gPSBLciwgJGIgPSBZaSwgd3IgPSBsbi5zdW0zMiwgTGIgPSBsbi5zdW0zMl80LCBGYiA9IGxuLnN1bTMyXzUsIHFiID0gX24uY2gzMiwgVWIgPSBfbi5tYWozMiwgemIgPSBfbi5zMF8yNTYsIEJiID0gX24uczFfMjU2LCBrYiA9IF9uLmcwXzI1NiwgamIgPSBfbi5nMV8yNTYsIE11ID0gQ2IuQmxvY2tIYXNoLCBLYiA9IFtcbiAgMTExNjM1MjQwOCxcbiAgMTg5OTQ0NzQ0MSxcbiAgMzA0OTMyMzQ3MSxcbiAgMzkyMTAwOTU3MyxcbiAgOTYxOTg3MTYzLFxuICAxNTA4OTcwOTkzLFxuICAyNDUzNjM1NzQ4LFxuICAyODcwNzYzMjIxLFxuICAzNjI0MzgxMDgwLFxuICAzMTA1OTg0MDEsXG4gIDYwNzIyNTI3OCxcbiAgMTQyNjg4MTk4NyxcbiAgMTkyNTA3ODM4OCxcbiAgMjE2MjA3ODIwNixcbiAgMjYxNDg4ODEwMyxcbiAgMzI0ODIyMjU4MCxcbiAgMzgzNTM5MDQwMSxcbiAgNDAyMjIyNDc3NCxcbiAgMjY0MzQ3MDc4LFxuICA2MDQ4MDc2MjgsXG4gIDc3MDI1NTk4MyxcbiAgMTI0OTE1MDEyMixcbiAgMTU1NTA4MTY5MixcbiAgMTk5NjA2NDk4NixcbiAgMjU1NDIyMDg4MixcbiAgMjgyMTgzNDM0OSxcbiAgMjk1Mjk5NjgwOCxcbiAgMzIxMDMxMzY3MSxcbiAgMzMzNjU3MTg5MSxcbiAgMzU4NDUyODcxMSxcbiAgMTEzOTI2OTkzLFxuICAzMzgyNDE4OTUsXG4gIDY2NjMwNzIwNSxcbiAgNzczNTI5OTEyLFxuICAxMjk0NzU3MzcyLFxuICAxMzk2MTgyMjkxLFxuICAxNjk1MTgzNzAwLFxuICAxOTg2NjYxMDUxLFxuICAyMTc3MDI2MzUwLFxuICAyNDU2OTU2MDM3LFxuICAyNzMwNDg1OTIxLFxuICAyODIwMzAyNDExLFxuICAzMjU5NzMwODAwLFxuICAzMzQ1NzY0NzcxLFxuICAzNTE2MDY1ODE3LFxuICAzNjAwMzUyODA0LFxuICA0MDk0NTcxOTA5LFxuICAyNzU0MjMzNDQsXG4gIDQzMDIyNzczNCxcbiAgNTA2OTQ4NjE2LFxuICA2NTkwNjA1NTYsXG4gIDg4Mzk5Nzg3NyxcbiAgOTU4MTM5NTcxLFxuICAxMzIyODIyMjE4LFxuICAxNTM3MDAyMDYzLFxuICAxNzQ3ODczNzc5LFxuICAxOTU1NTYyMjIyLFxuICAyMDI0MTA0ODE1LFxuICAyMjI3NzMwNDUyLFxuICAyMzYxODUyNDI0LFxuICAyNDI4NDM2NDc0LFxuICAyNzU2NzM0MTg3LFxuICAzMjA0MDMxNDc5LFxuICAzMzI5MzI1Mjk4XG5dO1xuZnVuY3Rpb24gQnIoKSB7XG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBCcikpXG4gICAgcmV0dXJuIG5ldyBCcigpO1xuICBNdS5jYWxsKHRoaXMpLCB0aGlzLmggPSBbXG4gICAgMTc3OTAzMzcwMyxcbiAgICAzMTQ0MTM0Mjc3LFxuICAgIDEwMTM5MDQyNDIsXG4gICAgMjc3MzQ4MDc2MixcbiAgICAxMzU5ODkzMTE5LFxuICAgIDI2MDA4MjI5MjQsXG4gICAgNTI4NzM0NjM1LFxuICAgIDE1NDE0NTkyMjVcbiAgXSwgdGhpcy5rID0gS2IsIHRoaXMuVyA9IG5ldyBBcnJheSg2NCk7XG59XG5sbi5pbmhlcml0cyhCciwgTXUpO1xudmFyIEl1ID0gQnI7XG5Cci5ibG9ja1NpemUgPSA1MTI7XG5Cci5vdXRTaXplID0gMjU2O1xuQnIuaG1hY1N0cmVuZ3RoID0gMTkyO1xuQnIucGFkTGVuZ3RoID0gNjQ7XG5Cci5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgZm9yICh2YXIgaSA9IHRoaXMuVywgbiA9IDA7IG4gPCAxNjsgbisrKVxuICAgIGlbbl0gPSBlW3QgKyBuXTtcbiAgZm9yICg7IG4gPCBpLmxlbmd0aDsgbisrKVxuICAgIGlbbl0gPSBMYihqYihpW24gLSAyXSksIGlbbiAtIDddLCBrYihpW24gLSAxNV0pLCBpW24gLSAxNl0pO1xuICB2YXIgcyA9IHRoaXMuaFswXSwgbyA9IHRoaXMuaFsxXSwgZiA9IHRoaXMuaFsyXSwgaCA9IHRoaXMuaFszXSwgZCA9IHRoaXMuaFs0XSwgdiA9IHRoaXMuaFs1XSwgdyA9IHRoaXMuaFs2XSwgQSA9IHRoaXMuaFs3XTtcbiAgZm9yICgkYih0aGlzLmsubGVuZ3RoID09PSBpLmxlbmd0aCksIG4gPSAwOyBuIDwgaS5sZW5ndGg7IG4rKykge1xuICAgIHZhciBJID0gRmIoQSwgQmIoZCksIHFiKGQsIHYsIHcpLCB0aGlzLmtbbl0sIGlbbl0pLCBEID0gd3IoemIocyksIFViKHMsIG8sIGYpKTtcbiAgICBBID0gdywgdyA9IHYsIHYgPSBkLCBkID0gd3IoaCwgSSksIGggPSBmLCBmID0gbywgbyA9IHMsIHMgPSB3cihJLCBEKTtcbiAgfVxuICB0aGlzLmhbMF0gPSB3cih0aGlzLmhbMF0sIHMpLCB0aGlzLmhbMV0gPSB3cih0aGlzLmhbMV0sIG8pLCB0aGlzLmhbMl0gPSB3cih0aGlzLmhbMl0sIGYpLCB0aGlzLmhbM10gPSB3cih0aGlzLmhbM10sIGgpLCB0aGlzLmhbNF0gPSB3cih0aGlzLmhbNF0sIGQpLCB0aGlzLmhbNV0gPSB3cih0aGlzLmhbNV0sIHYpLCB0aGlzLmhbNl0gPSB3cih0aGlzLmhbNl0sIHcpLCB0aGlzLmhbN10gPSB3cih0aGlzLmhbN10sIEEpO1xufTtcbkJyLnByb3RvdHlwZS5fZGlnZXN0ID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gZSA9PT0gXCJoZXhcIiA/IGxuLnRvSGV4MzIodGhpcy5oLCBcImJpZ1wiKSA6IGxuLnNwbGl0MzIodGhpcy5oLCBcImJpZ1wiKTtcbn07XG52YXIgd28gPSBRZSwgQXUgPSBJdTtcbmZ1bmN0aW9uIHVpKCkge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgdWkpKVxuICAgIHJldHVybiBuZXcgdWkoKTtcbiAgQXUuY2FsbCh0aGlzKSwgdGhpcy5oID0gW1xuICAgIDMyMzgzNzEwMzIsXG4gICAgOTE0MTUwNjYzLFxuICAgIDgxMjcwMjk5OSxcbiAgICA0MTQ0OTEyNjk3LFxuICAgIDQyOTA3NzU4NTcsXG4gICAgMTc1MDYwMzAyNSxcbiAgICAxNjk0MDc2ODM5LFxuICAgIDMyMDQwNzU0MjhcbiAgXTtcbn1cbndvLmluaGVyaXRzKHVpLCBBdSk7XG52YXIgSGIgPSB1aTtcbnVpLmJsb2NrU2l6ZSA9IDUxMjtcbnVpLm91dFNpemUgPSAyMjQ7XG51aS5obWFjU3RyZW5ndGggPSAxOTI7XG51aS5wYWRMZW5ndGggPSA2NDtcbnVpLnByb3RvdHlwZS5fZGlnZXN0ID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gZSA9PT0gXCJoZXhcIiA/IHdvLnRvSGV4MzIodGhpcy5oLnNsaWNlKDAsIDcpLCBcImJpZ1wiKSA6IHdvLnNwbGl0MzIodGhpcy5oLnNsaWNlKDAsIDcpLCBcImJpZ1wiKTtcbn07XG52YXIgWXQgPSBRZSwgVmIgPSBtbiwgV2IgPSBZaSwgcXIgPSBZdC5yb3RyNjRfaGksIFVyID0gWXQucm90cjY0X2xvLCBEdSA9IFl0LnNocjY0X2hpLCBQdSA9IFl0LnNocjY0X2xvLCBiaSA9IFl0LnN1bTY0LCBLYSA9IFl0LnN1bTY0X2hpLCBIYSA9IFl0LnN1bTY0X2xvLCBHYiA9IFl0LnN1bTY0XzRfaGksIEpiID0gWXQuc3VtNjRfNF9sbywgWWIgPSBZdC5zdW02NF81X2hpLCBYYiA9IFl0LnN1bTY0XzVfbG8sIE91ID0gVmIuQmxvY2tIYXNoLCBaYiA9IFtcbiAgMTExNjM1MjQwOCxcbiAgMzYwOTc2NzQ1OCxcbiAgMTg5OTQ0NzQ0MSxcbiAgNjAyODkxNzI1LFxuICAzMDQ5MzIzNDcxLFxuICAzOTY0NDg0Mzk5LFxuICAzOTIxMDA5NTczLFxuICAyMTczMjk1NTQ4LFxuICA5NjE5ODcxNjMsXG4gIDQwODE2Mjg0NzIsXG4gIDE1MDg5NzA5OTMsXG4gIDMwNTM4MzQyNjUsXG4gIDI0NTM2MzU3NDgsXG4gIDI5Mzc2NzE1NzksXG4gIDI4NzA3NjMyMjEsXG4gIDM2NjQ2MDk1NjAsXG4gIDM2MjQzODEwODAsXG4gIDI3MzQ4ODMzOTQsXG4gIDMxMDU5ODQwMSxcbiAgMTE2NDk5NjU0MixcbiAgNjA3MjI1Mjc4LFxuICAxMzIzNjEwNzY0LFxuICAxNDI2ODgxOTg3LFxuICAzNTkwMzA0OTk0LFxuICAxOTI1MDc4Mzg4LFxuICA0MDY4MTgyMzgzLFxuICAyMTYyMDc4MjA2LFxuICA5OTEzMzYxMTMsXG4gIDI2MTQ4ODgxMDMsXG4gIDYzMzgwMzMxNyxcbiAgMzI0ODIyMjU4MCxcbiAgMzQ3OTc3NDg2OCxcbiAgMzgzNTM5MDQwMSxcbiAgMjY2NjYxMzQ1OCxcbiAgNDAyMjIyNDc3NCxcbiAgOTQ0NzExMTM5LFxuICAyNjQzNDcwNzgsXG4gIDIzNDEyNjI3NzMsXG4gIDYwNDgwNzYyOCxcbiAgMjAwNzgwMDkzMyxcbiAgNzcwMjU1OTgzLFxuICAxNDk1OTkwOTAxLFxuICAxMjQ5MTUwMTIyLFxuICAxODU2NDMxMjM1LFxuICAxNTU1MDgxNjkyLFxuICAzMTc1MjE4MTMyLFxuICAxOTk2MDY0OTg2LFxuICAyMTk4OTUwODM3LFxuICAyNTU0MjIwODgyLFxuICAzOTk5NzE5MzM5LFxuICAyODIxODM0MzQ5LFxuICA3NjY3ODQwMTYsXG4gIDI5NTI5OTY4MDgsXG4gIDI1NjY1OTQ4NzksXG4gIDMyMTAzMTM2NzEsXG4gIDMyMDMzMzc5NTYsXG4gIDMzMzY1NzE4OTEsXG4gIDEwMzQ0NTcwMjYsXG4gIDM1ODQ1Mjg3MTEsXG4gIDI0NjY5NDg5MDEsXG4gIDExMzkyNjk5MyxcbiAgMzc1ODMyNjM4MyxcbiAgMzM4MjQxODk1LFxuICAxNjg3MTc5MzYsXG4gIDY2NjMwNzIwNSxcbiAgMTE4ODE3OTk2NCxcbiAgNzczNTI5OTEyLFxuICAxNTQ2MDQ1NzM0LFxuICAxMjk0NzU3MzcyLFxuICAxNTIyODA1NDg1LFxuICAxMzk2MTgyMjkxLFxuICAyNjQzODMzODIzLFxuICAxNjk1MTgzNzAwLFxuICAyMzQzNTI3MzkwLFxuICAxOTg2NjYxMDUxLFxuICAxMDE0NDc3NDgwLFxuICAyMTc3MDI2MzUwLFxuICAxMjA2NzU5MTQyLFxuICAyNDU2OTU2MDM3LFxuICAzNDQwNzc2MjcsXG4gIDI3MzA0ODU5MjEsXG4gIDEyOTA4NjM0NjAsXG4gIDI4MjAzMDI0MTEsXG4gIDMxNTg0NTQyNzMsXG4gIDMyNTk3MzA4MDAsXG4gIDM1MDU5NTI2NTcsXG4gIDMzNDU3NjQ3NzEsXG4gIDEwNjIxNzAwOCxcbiAgMzUxNjA2NTgxNyxcbiAgMzYwNjAwODM0NCxcbiAgMzYwMDM1MjgwNCxcbiAgMTQzMjcyNTc3NixcbiAgNDA5NDU3MTkwOSxcbiAgMTQ2NzAzMTU5NCxcbiAgMjc1NDIzMzQ0LFxuICA4NTExNjk3MjAsXG4gIDQzMDIyNzczNCxcbiAgMzEwMDgyMzc1MixcbiAgNTA2OTQ4NjE2LFxuICAxMzYzMjU4MTk1LFxuICA2NTkwNjA1NTYsXG4gIDM3NTA2ODU1OTMsXG4gIDg4Mzk5Nzg3NyxcbiAgMzc4NTA1MDI4MCxcbiAgOTU4MTM5NTcxLFxuICAzMzE4MzA3NDI3LFxuICAxMzIyODIyMjE4LFxuICAzODEyNzIzNDAzLFxuICAxNTM3MDAyMDYzLFxuICAyMDAzMDM0OTk1LFxuICAxNzQ3ODczNzc5LFxuICAzNjAyMDM2ODk5LFxuICAxOTU1NTYyMjIyLFxuICAxNTc1OTkwMDEyLFxuICAyMDI0MTA0ODE1LFxuICAxMTI1NTkyOTI4LFxuICAyMjI3NzMwNDUyLFxuICAyNzE2OTA0MzA2LFxuICAyMzYxODUyNDI0LFxuICA0NDI3NzYwNDQsXG4gIDI0Mjg0MzY0NzQsXG4gIDU5MzY5ODM0NCxcbiAgMjc1NjczNDE4NyxcbiAgMzczMzExMDI0OSxcbiAgMzIwNDAzMTQ3OSxcbiAgMjk5OTM1MTU3MyxcbiAgMzMyOTMyNTI5OCxcbiAgMzgxNTkyMDQyNyxcbiAgMzM5MTU2OTYxNCxcbiAgMzkyODM4MzkwMCxcbiAgMzUxNTI2NzI3MSxcbiAgNTY2MjgwNzExLFxuICAzOTQwMTg3NjA2LFxuICAzNDU0MDY5NTM0LFxuICA0MTE4NjMwMjcxLFxuICA0MDAwMjM5OTkyLFxuICAxMTY0MTg0NzQsXG4gIDE5MTQxMzg1NTQsXG4gIDE3NDI5MjQyMSxcbiAgMjczMTA1NTI3MCxcbiAgMjg5MzgwMzU2LFxuICAzMjAzOTkzMDA2LFxuICA0NjAzOTMyNjksXG4gIDMyMDYyMDMxNSxcbiAgNjg1NDcxNzMzLFxuICA1ODc0OTY4MzYsXG4gIDg1MjE0Mjk3MSxcbiAgMTA4Njc5Mjg1MSxcbiAgMTAxNzAzNjI5OCxcbiAgMzY1NTQzMTAwLFxuICAxMTI2MDAwNTgwLFxuICAyNjE4Mjk3Njc2LFxuICAxMjg4MDMzNDcwLFxuICAzNDA5ODU1MTU4LFxuICAxNTAxNTA1OTQ4LFxuICA0MjM0NTA5ODY2LFxuICAxNjA3MTY3OTE1LFxuICA5ODcxNjc0NjgsXG4gIDE4MTY0MDIzMTYsXG4gIDEyNDYxODk1OTFcbl07XG5mdW5jdGlvbiBBcigpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEFyKSlcbiAgICByZXR1cm4gbmV3IEFyKCk7XG4gIE91LmNhbGwodGhpcyksIHRoaXMuaCA9IFtcbiAgICAxNzc5MDMzNzAzLFxuICAgIDQwODkyMzU3MjAsXG4gICAgMzE0NDEzNDI3NyxcbiAgICAyMjI3ODczNTk1LFxuICAgIDEwMTM5MDQyNDIsXG4gICAgNDI3MTE3NTcyMyxcbiAgICAyNzczNDgwNzYyLFxuICAgIDE1OTU3NTAxMjksXG4gICAgMTM1OTg5MzExOSxcbiAgICAyOTE3NTY1MTM3LFxuICAgIDI2MDA4MjI5MjQsXG4gICAgNzI1NTExMTk5LFxuICAgIDUyODczNDYzNSxcbiAgICA0MjE1Mzg5NTQ3LFxuICAgIDE1NDE0NTkyMjUsXG4gICAgMzI3MDMzMjA5XG4gIF0sIHRoaXMuayA9IFpiLCB0aGlzLlcgPSBuZXcgQXJyYXkoMTYwKTtcbn1cbll0LmluaGVyaXRzKEFyLCBPdSk7XG52YXIgUnUgPSBBcjtcbkFyLmJsb2NrU2l6ZSA9IDEwMjQ7XG5Bci5vdXRTaXplID0gNTEyO1xuQXIuaG1hY1N0cmVuZ3RoID0gMTkyO1xuQXIucGFkTGVuZ3RoID0gMTI4O1xuQXIucHJvdG90eXBlLl9wcmVwYXJlQmxvY2sgPSBmdW5jdGlvbihlLCB0KSB7XG4gIGZvciAodmFyIGkgPSB0aGlzLlcsIG4gPSAwOyBuIDwgMzI7IG4rKylcbiAgICBpW25dID0gZVt0ICsgbl07XG4gIGZvciAoOyBuIDwgaS5sZW5ndGg7IG4gKz0gMikge1xuICAgIHZhciBzID0gY2coaVtuIC0gNF0sIGlbbiAtIDNdKSwgbyA9IGhnKGlbbiAtIDRdLCBpW24gLSAzXSksIGYgPSBpW24gLSAxNF0sIGggPSBpW24gLSAxM10sIGQgPSBvZyhpW24gLSAzMF0sIGlbbiAtIDI5XSksIHYgPSBmZyhpW24gLSAzMF0sIGlbbiAtIDI5XSksIHcgPSBpW24gLSAzMl0sIEEgPSBpW24gLSAzMV07XG4gICAgaVtuXSA9IEdiKFxuICAgICAgcyxcbiAgICAgIG8sXG4gICAgICBmLFxuICAgICAgaCxcbiAgICAgIGQsXG4gICAgICB2LFxuICAgICAgdyxcbiAgICAgIEFcbiAgICApLCBpW24gKyAxXSA9IEpiKFxuICAgICAgcyxcbiAgICAgIG8sXG4gICAgICBmLFxuICAgICAgaCxcbiAgICAgIGQsXG4gICAgICB2LFxuICAgICAgdyxcbiAgICAgIEFcbiAgICApO1xuICB9XG59O1xuQXIucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbihlLCB0KSB7XG4gIHRoaXMuX3ByZXBhcmVCbG9jayhlLCB0KTtcbiAgdmFyIGkgPSB0aGlzLlcsIG4gPSB0aGlzLmhbMF0sIHMgPSB0aGlzLmhbMV0sIG8gPSB0aGlzLmhbMl0sIGYgPSB0aGlzLmhbM10sIGggPSB0aGlzLmhbNF0sIGQgPSB0aGlzLmhbNV0sIHYgPSB0aGlzLmhbNl0sIHcgPSB0aGlzLmhbN10sIEEgPSB0aGlzLmhbOF0sIEkgPSB0aGlzLmhbOV0sIEQgPSB0aGlzLmhbMTBdLCBOID0gdGhpcy5oWzExXSwgayA9IHRoaXMuaFsxMl0sIGogPSB0aGlzLmhbMTNdLCBUID0gdGhpcy5oWzE0XSwgSyA9IHRoaXMuaFsxNV07XG4gIFdiKHRoaXMuay5sZW5ndGggPT09IGkubGVuZ3RoKTtcbiAgZm9yICh2YXIgJCA9IDA7ICQgPCBpLmxlbmd0aDsgJCArPSAyKSB7XG4gICAgdmFyIHogPSBULCBCID0gSywgXyA9IHNnKEEsIEkpLCBSID0gYWcoQSwgSSksIEogPSBRYihBLCBJLCBELCBOLCBrKSwgUSA9IGVnKEEsIEksIEQsIE4sIGssIGopLCBPID0gdGhpcy5rWyRdLCBwID0gdGhpcy5rWyQgKyAxXSwgbCA9IGlbJF0sIGEgPSBpWyQgKyAxXSwgYyA9IFliKFxuICAgICAgeixcbiAgICAgIEIsXG4gICAgICBfLFxuICAgICAgUixcbiAgICAgIEosXG4gICAgICBRLFxuICAgICAgTyxcbiAgICAgIHAsXG4gICAgICBsLFxuICAgICAgYVxuICAgICksIGIgPSBYYihcbiAgICAgIHosXG4gICAgICBCLFxuICAgICAgXyxcbiAgICAgIFIsXG4gICAgICBKLFxuICAgICAgUSxcbiAgICAgIE8sXG4gICAgICBwLFxuICAgICAgbCxcbiAgICAgIGFcbiAgICApO1xuICAgIHogPSBpZyhuLCBzKSwgQiA9IG5nKG4sIHMpLCBfID0gdGcobiwgcywgbywgZiwgaCksIFIgPSByZyhuLCBzLCBvLCBmLCBoLCBkKTtcbiAgICB2YXIgRSA9IEthKHosIEIsIF8sIFIpLCBTID0gSGEoeiwgQiwgXywgUik7XG4gICAgVCA9IGssIEsgPSBqLCBrID0gRCwgaiA9IE4sIEQgPSBBLCBOID0gSSwgQSA9IEthKHYsIHcsIGMsIGIpLCBJID0gSGEodywgdywgYywgYiksIHYgPSBoLCB3ID0gZCwgaCA9IG8sIGQgPSBmLCBvID0gbiwgZiA9IHMsIG4gPSBLYShjLCBiLCBFLCBTKSwgcyA9IEhhKGMsIGIsIEUsIFMpO1xuICB9XG4gIGJpKHRoaXMuaCwgMCwgbiwgcyksIGJpKHRoaXMuaCwgMiwgbywgZiksIGJpKHRoaXMuaCwgNCwgaCwgZCksIGJpKHRoaXMuaCwgNiwgdiwgdyksIGJpKHRoaXMuaCwgOCwgQSwgSSksIGJpKHRoaXMuaCwgMTAsIEQsIE4pLCBiaSh0aGlzLmgsIDEyLCBrLCBqKSwgYmkodGhpcy5oLCAxNCwgVCwgSyk7XG59O1xuQXIucHJvdG90eXBlLl9kaWdlc3QgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBlID09PSBcImhleFwiID8gWXQudG9IZXgzMih0aGlzLmgsIFwiYmlnXCIpIDogWXQuc3BsaXQzMih0aGlzLmgsIFwiYmlnXCIpO1xufTtcbmZ1bmN0aW9uIFFiKHIsIGUsIHQsIGksIG4pIHtcbiAgdmFyIHMgPSByICYgdCBeIH5yICYgbjtcbiAgcmV0dXJuIHMgPCAwICYmIChzICs9IDQyOTQ5NjcyOTYpLCBzO1xufVxuZnVuY3Rpb24gZWcociwgZSwgdCwgaSwgbiwgcykge1xuICB2YXIgbyA9IGUgJiBpIF4gfmUgJiBzO1xuICByZXR1cm4gbyA8IDAgJiYgKG8gKz0gNDI5NDk2NzI5NiksIG87XG59XG5mdW5jdGlvbiB0ZyhyLCBlLCB0LCBpLCBuKSB7XG4gIHZhciBzID0gciAmIHQgXiByICYgbiBeIHQgJiBuO1xuICByZXR1cm4gcyA8IDAgJiYgKHMgKz0gNDI5NDk2NzI5NiksIHM7XG59XG5mdW5jdGlvbiByZyhyLCBlLCB0LCBpLCBuLCBzKSB7XG4gIHZhciBvID0gZSAmIGkgXiBlICYgcyBeIGkgJiBzO1xuICByZXR1cm4gbyA8IDAgJiYgKG8gKz0gNDI5NDk2NzI5NiksIG87XG59XG5mdW5jdGlvbiBpZyhyLCBlKSB7XG4gIHZhciB0ID0gcXIociwgZSwgMjgpLCBpID0gcXIoZSwgciwgMiksIG4gPSBxcihlLCByLCA3KSwgcyA9IHQgXiBpIF4gbjtcbiAgcmV0dXJuIHMgPCAwICYmIChzICs9IDQyOTQ5NjcyOTYpLCBzO1xufVxuZnVuY3Rpb24gbmcociwgZSkge1xuICB2YXIgdCA9IFVyKHIsIGUsIDI4KSwgaSA9IFVyKGUsIHIsIDIpLCBuID0gVXIoZSwgciwgNyksIHMgPSB0IF4gaSBeIG47XG4gIHJldHVybiBzIDwgMCAmJiAocyArPSA0Mjk0OTY3Mjk2KSwgcztcbn1cbmZ1bmN0aW9uIHNnKHIsIGUpIHtcbiAgdmFyIHQgPSBxcihyLCBlLCAxNCksIGkgPSBxcihyLCBlLCAxOCksIG4gPSBxcihlLCByLCA5KSwgcyA9IHQgXiBpIF4gbjtcbiAgcmV0dXJuIHMgPCAwICYmIChzICs9IDQyOTQ5NjcyOTYpLCBzO1xufVxuZnVuY3Rpb24gYWcociwgZSkge1xuICB2YXIgdCA9IFVyKHIsIGUsIDE0KSwgaSA9IFVyKHIsIGUsIDE4KSwgbiA9IFVyKGUsIHIsIDkpLCBzID0gdCBeIGkgXiBuO1xuICByZXR1cm4gcyA8IDAgJiYgKHMgKz0gNDI5NDk2NzI5NiksIHM7XG59XG5mdW5jdGlvbiBvZyhyLCBlKSB7XG4gIHZhciB0ID0gcXIociwgZSwgMSksIGkgPSBxcihyLCBlLCA4KSwgbiA9IER1KHIsIGUsIDcpLCBzID0gdCBeIGkgXiBuO1xuICByZXR1cm4gcyA8IDAgJiYgKHMgKz0gNDI5NDk2NzI5NiksIHM7XG59XG5mdW5jdGlvbiBmZyhyLCBlKSB7XG4gIHZhciB0ID0gVXIociwgZSwgMSksIGkgPSBVcihyLCBlLCA4KSwgbiA9IFB1KHIsIGUsIDcpLCBzID0gdCBeIGkgXiBuO1xuICByZXR1cm4gcyA8IDAgJiYgKHMgKz0gNDI5NDk2NzI5NiksIHM7XG59XG5mdW5jdGlvbiBjZyhyLCBlKSB7XG4gIHZhciB0ID0gcXIociwgZSwgMTkpLCBpID0gcXIoZSwgciwgMjkpLCBuID0gRHUociwgZSwgNiksIHMgPSB0IF4gaSBeIG47XG4gIHJldHVybiBzIDwgMCAmJiAocyArPSA0Mjk0OTY3Mjk2KSwgcztcbn1cbmZ1bmN0aW9uIGhnKHIsIGUpIHtcbiAgdmFyIHQgPSBVcihyLCBlLCAxOSksIGkgPSBVcihlLCByLCAyOSksIG4gPSBQdShyLCBlLCA2KSwgcyA9IHQgXiBpIF4gbjtcbiAgcmV0dXJuIHMgPCAwICYmIChzICs9IDQyOTQ5NjcyOTYpLCBzO1xufVxudmFyIF9vID0gUWUsIE51ID0gUnU7XG5mdW5jdGlvbiBkaSgpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGRpKSlcbiAgICByZXR1cm4gbmV3IGRpKCk7XG4gIE51LmNhbGwodGhpcyksIHRoaXMuaCA9IFtcbiAgICAzNDE4MDcwMzY1LFxuICAgIDMyMzgzNzEwMzIsXG4gICAgMTY1NDI3MDI1MCxcbiAgICA5MTQxNTA2NjMsXG4gICAgMjQzODUyOTM3MCxcbiAgICA4MTI3MDI5OTksXG4gICAgMzU1NDYyMzYwLFxuICAgIDQxNDQ5MTI2OTcsXG4gICAgMTczMTQwNTQxNSxcbiAgICA0MjkwNzc1ODU3LFxuICAgIDIzOTQxODAyMzEsXG4gICAgMTc1MDYwMzAyNSxcbiAgICAzNjc1MDA4NTI1LFxuICAgIDE2OTQwNzY4MzksXG4gICAgMTIwMzA2MjgxMyxcbiAgICAzMjA0MDc1NDI4XG4gIF07XG59XG5fby5pbmhlcml0cyhkaSwgTnUpO1xudmFyIHVnID0gZGk7XG5kaS5ibG9ja1NpemUgPSAxMDI0O1xuZGkub3V0U2l6ZSA9IDM4NDtcbmRpLmhtYWNTdHJlbmd0aCA9IDE5MjtcbmRpLnBhZExlbmd0aCA9IDEyODtcbmRpLnByb3RvdHlwZS5fZGlnZXN0ID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gZSA9PT0gXCJoZXhcIiA/IF9vLnRvSGV4MzIodGhpcy5oLnNsaWNlKDAsIDEyKSwgXCJiaWdcIikgOiBfby5zcGxpdDMyKHRoaXMuaC5zbGljZSgwLCAxMiksIFwiYmlnXCIpO1xufTtcbnduLnNoYTEgPSBUYjtcbnduLnNoYTIyNCA9IEhiO1xud24uc2hhMjU2ID0gSXU7XG53bi5zaGEzODQgPSB1ZztcbnduLnNoYTUxMiA9IFJ1O1xudmFyIFR1ID0ge30sIEtpID0gUWUsIGRnID0gbW4sIHhzID0gS2kucm90bDMyLCBoYyA9IEtpLnN1bTMyLCAkbiA9IEtpLnN1bTMyXzMsIHVjID0gS2kuc3VtMzJfNCwgQ3UgPSBkZy5CbG9ja0hhc2g7XG5mdW5jdGlvbiBrcigpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIGtyKSlcbiAgICByZXR1cm4gbmV3IGtyKCk7XG4gIEN1LmNhbGwodGhpcyksIHRoaXMuaCA9IFsxNzMyNTg0MTkzLCA0MDIzMjMzNDE3LCAyNTYyMzgzMTAyLCAyNzE3MzM4NzgsIDMyODUzNzc1MjBdLCB0aGlzLmVuZGlhbiA9IFwibGl0dGxlXCI7XG59XG5LaS5pbmhlcml0cyhrciwgQ3UpO1xuVHUucmlwZW1kMTYwID0ga3I7XG5rci5ibG9ja1NpemUgPSA1MTI7XG5rci5vdXRTaXplID0gMTYwO1xua3IuaG1hY1N0cmVuZ3RoID0gMTkyO1xua3IucGFkTGVuZ3RoID0gNjQ7XG5rci5wcm90b3R5cGUuX3VwZGF0ZSA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgZm9yICh2YXIgaSA9IHRoaXMuaFswXSwgbiA9IHRoaXMuaFsxXSwgcyA9IHRoaXMuaFsyXSwgbyA9IHRoaXMuaFszXSwgZiA9IHRoaXMuaFs0XSwgaCA9IGksIGQgPSBuLCB2ID0gcywgdyA9IG8sIEEgPSBmLCBJID0gMDsgSSA8IDgwOyBJKyspIHtcbiAgICB2YXIgRCA9IGhjKFxuICAgICAgeHMoXG4gICAgICAgIHVjKGksIGRjKEksIG4sIHMsIG8pLCBlW3ZnW0ldICsgdF0sIGxnKEkpKSxcbiAgICAgICAgZ2dbSV1cbiAgICAgICksXG4gICAgICBmXG4gICAgKTtcbiAgICBpID0gZiwgZiA9IG8sIG8gPSB4cyhzLCAxMCksIHMgPSBuLCBuID0gRCwgRCA9IGhjKFxuICAgICAgeHMoXG4gICAgICAgIHVjKGgsIGRjKDc5IC0gSSwgZCwgdiwgdyksIGVbYmdbSV0gKyB0XSwgcGcoSSkpLFxuICAgICAgICB5Z1tJXVxuICAgICAgKSxcbiAgICAgIEFcbiAgICApLCBoID0gQSwgQSA9IHcsIHcgPSB4cyh2LCAxMCksIHYgPSBkLCBkID0gRDtcbiAgfVxuICBEID0gJG4odGhpcy5oWzFdLCBzLCB3KSwgdGhpcy5oWzFdID0gJG4odGhpcy5oWzJdLCBvLCBBKSwgdGhpcy5oWzJdID0gJG4odGhpcy5oWzNdLCBmLCBoKSwgdGhpcy5oWzNdID0gJG4odGhpcy5oWzRdLCBpLCBkKSwgdGhpcy5oWzRdID0gJG4odGhpcy5oWzBdLCBuLCB2KSwgdGhpcy5oWzBdID0gRDtcbn07XG5rci5wcm90b3R5cGUuX2RpZ2VzdCA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGUgPT09IFwiaGV4XCIgPyBLaS50b0hleDMyKHRoaXMuaCwgXCJsaXR0bGVcIikgOiBLaS5zcGxpdDMyKHRoaXMuaCwgXCJsaXR0bGVcIik7XG59O1xuZnVuY3Rpb24gZGMociwgZSwgdCwgaSkge1xuICByZXR1cm4gciA8PSAxNSA/IGUgXiB0IF4gaSA6IHIgPD0gMzEgPyBlICYgdCB8IH5lICYgaSA6IHIgPD0gNDcgPyAoZSB8IH50KSBeIGkgOiByIDw9IDYzID8gZSAmIGkgfCB0ICYgfmkgOiBlIF4gKHQgfCB+aSk7XG59XG5mdW5jdGlvbiBsZyhyKSB7XG4gIHJldHVybiByIDw9IDE1ID8gMCA6IHIgPD0gMzEgPyAxNTE4NTAwMjQ5IDogciA8PSA0NyA/IDE4NTk3NzUzOTMgOiByIDw9IDYzID8gMjQwMDk1OTcwOCA6IDI4NDA4NTM4Mzg7XG59XG5mdW5jdGlvbiBwZyhyKSB7XG4gIHJldHVybiByIDw9IDE1ID8gMTM1MjgyOTkyNiA6IHIgPD0gMzEgPyAxNTQ4NjAzNjg0IDogciA8PSA0NyA/IDE4MzYwNzI2OTEgOiByIDw9IDYzID8gMjA1Mzk5NDIxNyA6IDA7XG59XG52YXIgdmcgPSBbXG4gIDAsXG4gIDEsXG4gIDIsXG4gIDMsXG4gIDQsXG4gIDUsXG4gIDYsXG4gIDcsXG4gIDgsXG4gIDksXG4gIDEwLFxuICAxMSxcbiAgMTIsXG4gIDEzLFxuICAxNCxcbiAgMTUsXG4gIDcsXG4gIDQsXG4gIDEzLFxuICAxLFxuICAxMCxcbiAgNixcbiAgMTUsXG4gIDMsXG4gIDEyLFxuICAwLFxuICA5LFxuICA1LFxuICAyLFxuICAxNCxcbiAgMTEsXG4gIDgsXG4gIDMsXG4gIDEwLFxuICAxNCxcbiAgNCxcbiAgOSxcbiAgMTUsXG4gIDgsXG4gIDEsXG4gIDIsXG4gIDcsXG4gIDAsXG4gIDYsXG4gIDEzLFxuICAxMSxcbiAgNSxcbiAgMTIsXG4gIDEsXG4gIDksXG4gIDExLFxuICAxMCxcbiAgMCxcbiAgOCxcbiAgMTIsXG4gIDQsXG4gIDEzLFxuICAzLFxuICA3LFxuICAxNSxcbiAgMTQsXG4gIDUsXG4gIDYsXG4gIDIsXG4gIDQsXG4gIDAsXG4gIDUsXG4gIDksXG4gIDcsXG4gIDEyLFxuICAyLFxuICAxMCxcbiAgMTQsXG4gIDEsXG4gIDMsXG4gIDgsXG4gIDExLFxuICA2LFxuICAxNSxcbiAgMTNcbl0sIGJnID0gW1xuICA1LFxuICAxNCxcbiAgNyxcbiAgMCxcbiAgOSxcbiAgMixcbiAgMTEsXG4gIDQsXG4gIDEzLFxuICA2LFxuICAxNSxcbiAgOCxcbiAgMSxcbiAgMTAsXG4gIDMsXG4gIDEyLFxuICA2LFxuICAxMSxcbiAgMyxcbiAgNyxcbiAgMCxcbiAgMTMsXG4gIDUsXG4gIDEwLFxuICAxNCxcbiAgMTUsXG4gIDgsXG4gIDEyLFxuICA0LFxuICA5LFxuICAxLFxuICAyLFxuICAxNSxcbiAgNSxcbiAgMSxcbiAgMyxcbiAgNyxcbiAgMTQsXG4gIDYsXG4gIDksXG4gIDExLFxuICA4LFxuICAxMixcbiAgMixcbiAgMTAsXG4gIDAsXG4gIDQsXG4gIDEzLFxuICA4LFxuICA2LFxuICA0LFxuICAxLFxuICAzLFxuICAxMSxcbiAgMTUsXG4gIDAsXG4gIDUsXG4gIDEyLFxuICAyLFxuICAxMyxcbiAgOSxcbiAgNyxcbiAgMTAsXG4gIDE0LFxuICAxMixcbiAgMTUsXG4gIDEwLFxuICA0LFxuICAxLFxuICA1LFxuICA4LFxuICA3LFxuICA2LFxuICAyLFxuICAxMyxcbiAgMTQsXG4gIDAsXG4gIDMsXG4gIDksXG4gIDExXG5dLCBnZyA9IFtcbiAgMTEsXG4gIDE0LFxuICAxNSxcbiAgMTIsXG4gIDUsXG4gIDgsXG4gIDcsXG4gIDksXG4gIDExLFxuICAxMyxcbiAgMTQsXG4gIDE1LFxuICA2LFxuICA3LFxuICA5LFxuICA4LFxuICA3LFxuICA2LFxuICA4LFxuICAxMyxcbiAgMTEsXG4gIDksXG4gIDcsXG4gIDE1LFxuICA3LFxuICAxMixcbiAgMTUsXG4gIDksXG4gIDExLFxuICA3LFxuICAxMyxcbiAgMTIsXG4gIDExLFxuICAxMyxcbiAgNixcbiAgNyxcbiAgMTQsXG4gIDksXG4gIDEzLFxuICAxNSxcbiAgMTQsXG4gIDgsXG4gIDEzLFxuICA2LFxuICA1LFxuICAxMixcbiAgNyxcbiAgNSxcbiAgMTEsXG4gIDEyLFxuICAxNCxcbiAgMTUsXG4gIDE0LFxuICAxNSxcbiAgOSxcbiAgOCxcbiAgOSxcbiAgMTQsXG4gIDUsXG4gIDYsXG4gIDgsXG4gIDYsXG4gIDUsXG4gIDEyLFxuICA5LFxuICAxNSxcbiAgNSxcbiAgMTEsXG4gIDYsXG4gIDgsXG4gIDEzLFxuICAxMixcbiAgNSxcbiAgMTIsXG4gIDEzLFxuICAxNCxcbiAgMTEsXG4gIDgsXG4gIDUsXG4gIDZcbl0sIHlnID0gW1xuICA4LFxuICA5LFxuICA5LFxuICAxMSxcbiAgMTMsXG4gIDE1LFxuICAxNSxcbiAgNSxcbiAgNyxcbiAgNyxcbiAgOCxcbiAgMTEsXG4gIDE0LFxuICAxNCxcbiAgMTIsXG4gIDYsXG4gIDksXG4gIDEzLFxuICAxNSxcbiAgNyxcbiAgMTIsXG4gIDgsXG4gIDksXG4gIDExLFxuICA3LFxuICA3LFxuICAxMixcbiAgNyxcbiAgNixcbiAgMTUsXG4gIDEzLFxuICAxMSxcbiAgOSxcbiAgNyxcbiAgMTUsXG4gIDExLFxuICA4LFxuICA2LFxuICA2LFxuICAxNCxcbiAgMTIsXG4gIDEzLFxuICA1LFxuICAxNCxcbiAgMTMsXG4gIDEzLFxuICA3LFxuICA1LFxuICAxNSxcbiAgNSxcbiAgOCxcbiAgMTEsXG4gIDE0LFxuICAxNCxcbiAgNixcbiAgMTQsXG4gIDYsXG4gIDksXG4gIDEyLFxuICA5LFxuICAxMixcbiAgNSxcbiAgMTUsXG4gIDgsXG4gIDgsXG4gIDUsXG4gIDEyLFxuICA5LFxuICAxMixcbiAgNSxcbiAgMTQsXG4gIDYsXG4gIDgsXG4gIDEzLFxuICA2LFxuICA1LFxuICAxNSxcbiAgMTMsXG4gIDExLFxuICAxMVxuXSwgbWcgPSBRZSwgd2cgPSBZaTtcbmZ1bmN0aW9uIHBuKHIsIGUsIHQpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIHBuKSlcbiAgICByZXR1cm4gbmV3IHBuKHIsIGUsIHQpO1xuICB0aGlzLkhhc2ggPSByLCB0aGlzLmJsb2NrU2l6ZSA9IHIuYmxvY2tTaXplIC8gOCwgdGhpcy5vdXRTaXplID0gci5vdXRTaXplIC8gOCwgdGhpcy5pbm5lciA9IG51bGwsIHRoaXMub3V0ZXIgPSBudWxsLCB0aGlzLl9pbml0KG1nLnRvQXJyYXkoZSwgdCkpO1xufVxudmFyIF9nID0gcG47XG5wbi5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbihlKSB7XG4gIGUubGVuZ3RoID4gdGhpcy5ibG9ja1NpemUgJiYgKGUgPSBuZXcgdGhpcy5IYXNoKCkudXBkYXRlKGUpLmRpZ2VzdCgpKSwgd2coZS5sZW5ndGggPD0gdGhpcy5ibG9ja1NpemUpO1xuICBmb3IgKHZhciB0ID0gZS5sZW5ndGg7IHQgPCB0aGlzLmJsb2NrU2l6ZTsgdCsrKVxuICAgIGUucHVzaCgwKTtcbiAgZm9yICh0ID0gMDsgdCA8IGUubGVuZ3RoOyB0KyspXG4gICAgZVt0XSBePSA1NDtcbiAgZm9yICh0aGlzLmlubmVyID0gbmV3IHRoaXMuSGFzaCgpLnVwZGF0ZShlKSwgdCA9IDA7IHQgPCBlLmxlbmd0aDsgdCsrKVxuICAgIGVbdF0gXj0gMTA2O1xuICB0aGlzLm91dGVyID0gbmV3IHRoaXMuSGFzaCgpLnVwZGF0ZShlKTtcbn07XG5wbi5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oZSwgdCkge1xuICByZXR1cm4gdGhpcy5pbm5lci51cGRhdGUoZSwgdCksIHRoaXM7XG59O1xucG4ucHJvdG90eXBlLmRpZ2VzdCA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIHRoaXMub3V0ZXIudXBkYXRlKHRoaXMuaW5uZXIuZGlnZXN0KCkpLCB0aGlzLm91dGVyLmRpZ2VzdChlKTtcbn07XG4oZnVuY3Rpb24ocikge1xuICB2YXIgZSA9IHI7XG4gIGUudXRpbHMgPSBRZSwgZS5jb21tb24gPSBtbiwgZS5zaGEgPSB3biwgZS5yaXBlbWQgPSBUdSwgZS5obWFjID0gX2csIGUuc2hhMSA9IGUuc2hhLnNoYTEsIGUuc2hhMjU2ID0gZS5zaGEuc2hhMjU2LCBlLnNoYTIyNCA9IGUuc2hhLnNoYTIyNCwgZS5zaGEzODQgPSBlLnNoYS5zaGEzODQsIGUuc2hhNTEyID0gZS5zaGEuc2hhNTEyLCBlLnJpcGVtZDE2MCA9IGUucmlwZW1kLnJpcGVtZDE2MDtcbn0pKG5zKTtcbmNvbnN0IHNpID0gLyogQF9fUFVSRV9fICovIGJuKG5zKTtcbmZ1bmN0aW9uIHhuKHIsIGUsIHQpIHtcbiAgcmV0dXJuIHQgPSB7XG4gICAgcGF0aDogZSxcbiAgICBleHBvcnRzOiB7fSxcbiAgICByZXF1aXJlOiBmdW5jdGlvbihpLCBuKSB7XG4gICAgICByZXR1cm4geGcoaSwgbiA/PyB0LnBhdGgpO1xuICAgIH1cbiAgfSwgcih0LCB0LmV4cG9ydHMpLCB0LmV4cG9ydHM7XG59XG5mdW5jdGlvbiB4ZygpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFwiRHluYW1pYyByZXF1aXJlcyBhcmUgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQgYnkgQHJvbGx1cC9wbHVnaW4tY29tbW9uanNcIik7XG59XG52YXIgQm8gPSAkdTtcbmZ1bmN0aW9uICR1KHIsIGUpIHtcbiAgaWYgKCFyKVxuICAgIHRocm93IG5ldyBFcnJvcihlIHx8IFwiQXNzZXJ0aW9uIGZhaWxlZFwiKTtcbn1cbiR1LmVxdWFsID0gZnVuY3Rpb24oZSwgdCwgaSkge1xuICBpZiAoZSAhPSB0KVxuICAgIHRocm93IG5ldyBFcnJvcihpIHx8IFwiQXNzZXJ0aW9uIGZhaWxlZDogXCIgKyBlICsgXCIgIT0gXCIgKyB0KTtcbn07XG52YXIgTXIgPSB4bihmdW5jdGlvbihyLCBlKSB7XG4gIHZhciB0ID0gZTtcbiAgZnVuY3Rpb24gaShvLCBmKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobykpXG4gICAgICByZXR1cm4gby5zbGljZSgpO1xuICAgIGlmICghbylcbiAgICAgIHJldHVybiBbXTtcbiAgICB2YXIgaCA9IFtdO1xuICAgIGlmICh0eXBlb2YgbyAhPSBcInN0cmluZ1wiKSB7XG4gICAgICBmb3IgKHZhciBkID0gMDsgZCA8IG8ubGVuZ3RoOyBkKyspXG4gICAgICAgIGhbZF0gPSBvW2RdIHwgMDtcbiAgICAgIHJldHVybiBoO1xuICAgIH1cbiAgICBpZiAoZiA9PT0gXCJoZXhcIikge1xuICAgICAgbyA9IG8ucmVwbGFjZSgvW15hLXowLTldKy9pZywgXCJcIiksIG8ubGVuZ3RoICUgMiAhPT0gMCAmJiAobyA9IFwiMFwiICsgbyk7XG4gICAgICBmb3IgKHZhciBkID0gMDsgZCA8IG8ubGVuZ3RoOyBkICs9IDIpXG4gICAgICAgIGgucHVzaChwYXJzZUludChvW2RdICsgb1tkICsgMV0sIDE2KSk7XG4gICAgfSBlbHNlXG4gICAgICBmb3IgKHZhciBkID0gMDsgZCA8IG8ubGVuZ3RoOyBkKyspIHtcbiAgICAgICAgdmFyIHYgPSBvLmNoYXJDb2RlQXQoZCksIHcgPSB2ID4+IDgsIEEgPSB2ICYgMjU1O1xuICAgICAgICB3ID8gaC5wdXNoKHcsIEEpIDogaC5wdXNoKEEpO1xuICAgICAgfVxuICAgIHJldHVybiBoO1xuICB9XG4gIHQudG9BcnJheSA9IGk7XG4gIGZ1bmN0aW9uIG4obykge1xuICAgIHJldHVybiBvLmxlbmd0aCA9PT0gMSA/IFwiMFwiICsgbyA6IG87XG4gIH1cbiAgdC56ZXJvMiA9IG47XG4gIGZ1bmN0aW9uIHMobykge1xuICAgIGZvciAodmFyIGYgPSBcIlwiLCBoID0gMDsgaCA8IG8ubGVuZ3RoOyBoKyspXG4gICAgICBmICs9IG4ob1toXS50b1N0cmluZygxNikpO1xuICAgIHJldHVybiBmO1xuICB9XG4gIHQudG9IZXggPSBzLCB0LmVuY29kZSA9IGZ1bmN0aW9uKGYsIGgpIHtcbiAgICByZXR1cm4gaCA9PT0gXCJoZXhcIiA/IHMoZikgOiBmO1xuICB9O1xufSksIHNyID0geG4oZnVuY3Rpb24ociwgZSkge1xuICB2YXIgdCA9IGU7XG4gIHQuYXNzZXJ0ID0gQm8sIHQudG9BcnJheSA9IE1yLnRvQXJyYXksIHQuemVybzIgPSBNci56ZXJvMiwgdC50b0hleCA9IE1yLnRvSGV4LCB0LmVuY29kZSA9IE1yLmVuY29kZTtcbiAgZnVuY3Rpb24gaShoLCBkLCB2KSB7XG4gICAgdmFyIHcgPSBuZXcgQXJyYXkoTWF0aC5tYXgoaC5iaXRMZW5ndGgoKSwgdikgKyAxKTtcbiAgICB3LmZpbGwoMCk7XG4gICAgZm9yICh2YXIgQSA9IDEgPDwgZCArIDEsIEkgPSBoLmNsb25lKCksIEQgPSAwOyBEIDwgdy5sZW5ndGg7IEQrKykge1xuICAgICAgdmFyIE4sIGsgPSBJLmFuZGxuKEEgLSAxKTtcbiAgICAgIEkuaXNPZGQoKSA/IChrID4gKEEgPj4gMSkgLSAxID8gTiA9IChBID4+IDEpIC0gayA6IE4gPSBrLCBJLmlzdWJuKE4pKSA6IE4gPSAwLCB3W0RdID0gTiwgSS5pdXNocm4oMSk7XG4gICAgfVxuICAgIHJldHVybiB3O1xuICB9XG4gIHQuZ2V0TkFGID0gaTtcbiAgZnVuY3Rpb24gbihoLCBkKSB7XG4gICAgdmFyIHYgPSBbXG4gICAgICBbXSxcbiAgICAgIFtdXG4gICAgXTtcbiAgICBoID0gaC5jbG9uZSgpLCBkID0gZC5jbG9uZSgpO1xuICAgIGZvciAodmFyIHcgPSAwLCBBID0gMCwgSTsgaC5jbXBuKC13KSA+IDAgfHwgZC5jbXBuKC1BKSA+IDA7ICkge1xuICAgICAgdmFyIEQgPSBoLmFuZGxuKDMpICsgdyAmIDMsIE4gPSBkLmFuZGxuKDMpICsgQSAmIDM7XG4gICAgICBEID09PSAzICYmIChEID0gLTEpLCBOID09PSAzICYmIChOID0gLTEpO1xuICAgICAgdmFyIGs7XG4gICAgICBEICYgMSA/IChJID0gaC5hbmRsbig3KSArIHcgJiA3LCAoSSA9PT0gMyB8fCBJID09PSA1KSAmJiBOID09PSAyID8gayA9IC1EIDogayA9IEQpIDogayA9IDAsIHZbMF0ucHVzaChrKTtcbiAgICAgIHZhciBqO1xuICAgICAgTiAmIDEgPyAoSSA9IGQuYW5kbG4oNykgKyBBICYgNywgKEkgPT09IDMgfHwgSSA9PT0gNSkgJiYgRCA9PT0gMiA/IGogPSAtTiA6IGogPSBOKSA6IGogPSAwLCB2WzFdLnB1c2goaiksIDIgKiB3ID09PSBrICsgMSAmJiAodyA9IDEgLSB3KSwgMiAqIEEgPT09IGogKyAxICYmIChBID0gMSAtIEEpLCBoLml1c2hybigxKSwgZC5pdXNocm4oMSk7XG4gICAgfVxuICAgIHJldHVybiB2O1xuICB9XG4gIHQuZ2V0SlNGID0gbjtcbiAgZnVuY3Rpb24gcyhoLCBkLCB2KSB7XG4gICAgdmFyIHcgPSBcIl9cIiArIGQ7XG4gICAgaC5wcm90b3R5cGVbZF0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzW3ddICE9PSB2b2lkIDAgPyB0aGlzW3ddIDogdGhpc1t3XSA9IHYuY2FsbCh0aGlzKTtcbiAgICB9O1xuICB9XG4gIHQuY2FjaGVkUHJvcGVydHkgPSBzO1xuICBmdW5jdGlvbiBvKGgpIHtcbiAgICByZXR1cm4gdHlwZW9mIGggPT0gXCJzdHJpbmdcIiA/IHQudG9BcnJheShoLCBcImhleFwiKSA6IGg7XG4gIH1cbiAgdC5wYXJzZUJ5dGVzID0gbztcbiAgZnVuY3Rpb24gZihoKSB7XG4gICAgcmV0dXJuIG5ldyBLZShoLCBcImhleFwiLCBcImxlXCIpO1xuICB9XG4gIHQuaW50RnJvbUxFID0gZjtcbn0pLCBqcyA9IHNyLmdldE5BRiwgRWcgPSBzci5nZXRKU0YsIEtzID0gc3IuYXNzZXJ0O1xuZnVuY3Rpb24gU2kociwgZSkge1xuICB0aGlzLnR5cGUgPSByLCB0aGlzLnAgPSBuZXcgS2UoZS5wLCAxNiksIHRoaXMucmVkID0gZS5wcmltZSA/IEtlLnJlZChlLnByaW1lKSA6IEtlLm1vbnQodGhpcy5wKSwgdGhpcy56ZXJvID0gbmV3IEtlKDApLnRvUmVkKHRoaXMucmVkKSwgdGhpcy5vbmUgPSBuZXcgS2UoMSkudG9SZWQodGhpcy5yZWQpLCB0aGlzLnR3byA9IG5ldyBLZSgyKS50b1JlZCh0aGlzLnJlZCksIHRoaXMubiA9IGUubiAmJiBuZXcgS2UoZS5uLCAxNiksIHRoaXMuZyA9IGUuZyAmJiB0aGlzLnBvaW50RnJvbUpTT04oZS5nLCBlLmdSZWQpLCB0aGlzLl93bmFmVDEgPSBuZXcgQXJyYXkoNCksIHRoaXMuX3duYWZUMiA9IG5ldyBBcnJheSg0KSwgdGhpcy5fd25hZlQzID0gbmV3IEFycmF5KDQpLCB0aGlzLl93bmFmVDQgPSBuZXcgQXJyYXkoNCksIHRoaXMuX2JpdExlbmd0aCA9IHRoaXMubiA/IHRoaXMubi5iaXRMZW5ndGgoKSA6IDA7XG4gIHZhciB0ID0gdGhpcy5uICYmIHRoaXMucC5kaXYodGhpcy5uKTtcbiAgIXQgfHwgdC5jbXBuKDEwMCkgPiAwID8gdGhpcy5yZWROID0gbnVsbCA6ICh0aGlzLl9tYXh3ZWxsVHJpY2sgPSAhMCwgdGhpcy5yZWROID0gdGhpcy5uLnRvUmVkKHRoaXMucmVkKSk7XG59XG52YXIgWGkgPSBTaTtcblNpLnByb3RvdHlwZS5wb2ludCA9IGZ1bmN0aW9uKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIik7XG59O1xuU2kucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24oKSB7XG4gIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKTtcbn07XG5TaS5wcm90b3R5cGUuX2ZpeGVkTmFmTXVsID0gZnVuY3Rpb24oZSwgdCkge1xuICBLcyhlLnByZWNvbXB1dGVkKTtcbiAgdmFyIGkgPSBlLl9nZXREb3VibGVzKCksIG4gPSBqcyh0LCAxLCB0aGlzLl9iaXRMZW5ndGgpLCBzID0gKDEgPDwgaS5zdGVwICsgMSkgLSAoaS5zdGVwICUgMiA9PT0gMCA/IDIgOiAxKTtcbiAgcyAvPSAzO1xuICB2YXIgbyA9IFtdLCBmLCBoO1xuICBmb3IgKGYgPSAwOyBmIDwgbi5sZW5ndGg7IGYgKz0gaS5zdGVwKSB7XG4gICAgaCA9IDA7XG4gICAgZm9yICh2YXIgZCA9IGYgKyBpLnN0ZXAgLSAxOyBkID49IGY7IGQtLSlcbiAgICAgIGggPSAoaCA8PCAxKSArIG5bZF07XG4gICAgby5wdXNoKGgpO1xuICB9XG4gIGZvciAodmFyIHYgPSB0aGlzLmpwb2ludChudWxsLCBudWxsLCBudWxsKSwgdyA9IHRoaXMuanBvaW50KG51bGwsIG51bGwsIG51bGwpLCBBID0gczsgQSA+IDA7IEEtLSkge1xuICAgIGZvciAoZiA9IDA7IGYgPCBvLmxlbmd0aDsgZisrKVxuICAgICAgaCA9IG9bZl0sIGggPT09IEEgPyB3ID0gdy5taXhlZEFkZChpLnBvaW50c1tmXSkgOiBoID09PSAtQSAmJiAodyA9IHcubWl4ZWRBZGQoaS5wb2ludHNbZl0ubmVnKCkpKTtcbiAgICB2ID0gdi5hZGQodyk7XG4gIH1cbiAgcmV0dXJuIHYudG9QKCk7XG59O1xuU2kucHJvdG90eXBlLl93bmFmTXVsID0gZnVuY3Rpb24oZSwgdCkge1xuICB2YXIgaSA9IDQsIG4gPSBlLl9nZXROQUZQb2ludHMoaSk7XG4gIGkgPSBuLnduZDtcbiAgZm9yICh2YXIgcyA9IG4ucG9pbnRzLCBvID0ganModCwgaSwgdGhpcy5fYml0TGVuZ3RoKSwgZiA9IHRoaXMuanBvaW50KG51bGwsIG51bGwsIG51bGwpLCBoID0gby5sZW5ndGggLSAxOyBoID49IDA7IGgtLSkge1xuICAgIGZvciAodmFyIGQgPSAwOyBoID49IDAgJiYgb1toXSA9PT0gMDsgaC0tKVxuICAgICAgZCsrO1xuICAgIGlmIChoID49IDAgJiYgZCsrLCBmID0gZi5kYmxwKGQpLCBoIDwgMClcbiAgICAgIGJyZWFrO1xuICAgIHZhciB2ID0gb1toXTtcbiAgICBLcyh2ICE9PSAwKSwgZS50eXBlID09PSBcImFmZmluZVwiID8gdiA+IDAgPyBmID0gZi5taXhlZEFkZChzW3YgLSAxID4+IDFdKSA6IGYgPSBmLm1peGVkQWRkKHNbLXYgLSAxID4+IDFdLm5lZygpKSA6IHYgPiAwID8gZiA9IGYuYWRkKHNbdiAtIDEgPj4gMV0pIDogZiA9IGYuYWRkKHNbLXYgLSAxID4+IDFdLm5lZygpKTtcbiAgfVxuICByZXR1cm4gZS50eXBlID09PSBcImFmZmluZVwiID8gZi50b1AoKSA6IGY7XG59O1xuU2kucHJvdG90eXBlLl93bmFmTXVsQWRkID0gZnVuY3Rpb24oZSwgdCwgaSwgbiwgcykge1xuICB2YXIgbyA9IHRoaXMuX3duYWZUMSwgZiA9IHRoaXMuX3duYWZUMiwgaCA9IHRoaXMuX3duYWZUMywgZCA9IDAsIHYsIHcsIEE7XG4gIGZvciAodiA9IDA7IHYgPCBuOyB2KyspIHtcbiAgICBBID0gdFt2XTtcbiAgICB2YXIgSSA9IEEuX2dldE5BRlBvaW50cyhlKTtcbiAgICBvW3ZdID0gSS53bmQsIGZbdl0gPSBJLnBvaW50cztcbiAgfVxuICBmb3IgKHYgPSBuIC0gMTsgdiA+PSAxOyB2IC09IDIpIHtcbiAgICB2YXIgRCA9IHYgLSAxLCBOID0gdjtcbiAgICBpZiAob1tEXSAhPT0gMSB8fCBvW05dICE9PSAxKSB7XG4gICAgICBoW0RdID0ganMoaVtEXSwgb1tEXSwgdGhpcy5fYml0TGVuZ3RoKSwgaFtOXSA9IGpzKGlbTl0sIG9bTl0sIHRoaXMuX2JpdExlbmd0aCksIGQgPSBNYXRoLm1heChoW0RdLmxlbmd0aCwgZCksIGQgPSBNYXRoLm1heChoW05dLmxlbmd0aCwgZCk7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdmFyIGsgPSBbXG4gICAgICB0W0RdLFxuICAgICAgLyogMSAqL1xuICAgICAgbnVsbCxcbiAgICAgIC8qIDMgKi9cbiAgICAgIG51bGwsXG4gICAgICAvKiA1ICovXG4gICAgICB0W05dXG4gICAgICAvKiA3ICovXG4gICAgXTtcbiAgICB0W0RdLnkuY21wKHRbTl0ueSkgPT09IDAgPyAoa1sxXSA9IHRbRF0uYWRkKHRbTl0pLCBrWzJdID0gdFtEXS50b0ooKS5taXhlZEFkZCh0W05dLm5lZygpKSkgOiB0W0RdLnkuY21wKHRbTl0ueS5yZWROZWcoKSkgPT09IDAgPyAoa1sxXSA9IHRbRF0udG9KKCkubWl4ZWRBZGQodFtOXSksIGtbMl0gPSB0W0RdLmFkZCh0W05dLm5lZygpKSkgOiAoa1sxXSA9IHRbRF0udG9KKCkubWl4ZWRBZGQodFtOXSksIGtbMl0gPSB0W0RdLnRvSigpLm1peGVkQWRkKHRbTl0ubmVnKCkpKTtcbiAgICB2YXIgaiA9IFtcbiAgICAgIC0zLFxuICAgICAgLyogLTEgLTEgKi9cbiAgICAgIC0xLFxuICAgICAgLyogLTEgMCAqL1xuICAgICAgLTUsXG4gICAgICAvKiAtMSAxICovXG4gICAgICAtNyxcbiAgICAgIC8qIDAgLTEgKi9cbiAgICAgIDAsXG4gICAgICAvKiAwIDAgKi9cbiAgICAgIDcsXG4gICAgICAvKiAwIDEgKi9cbiAgICAgIDUsXG4gICAgICAvKiAxIC0xICovXG4gICAgICAxLFxuICAgICAgLyogMSAwICovXG4gICAgICAzXG4gICAgICAvKiAxIDEgKi9cbiAgICBdLCBUID0gRWcoaVtEXSwgaVtOXSk7XG4gICAgZm9yIChkID0gTWF0aC5tYXgoVFswXS5sZW5ndGgsIGQpLCBoW0RdID0gbmV3IEFycmF5KGQpLCBoW05dID0gbmV3IEFycmF5KGQpLCB3ID0gMDsgdyA8IGQ7IHcrKykge1xuICAgICAgdmFyIEsgPSBUWzBdW3ddIHwgMCwgJCA9IFRbMV1bd10gfCAwO1xuICAgICAgaFtEXVt3XSA9IGpbKEsgKyAxKSAqIDMgKyAoJCArIDEpXSwgaFtOXVt3XSA9IDAsIGZbRF0gPSBrO1xuICAgIH1cbiAgfVxuICB2YXIgeiA9IHRoaXMuanBvaW50KG51bGwsIG51bGwsIG51bGwpLCBCID0gdGhpcy5fd25hZlQ0O1xuICBmb3IgKHYgPSBkOyB2ID49IDA7IHYtLSkge1xuICAgIGZvciAodmFyIF8gPSAwOyB2ID49IDA7ICkge1xuICAgICAgdmFyIFIgPSAhMDtcbiAgICAgIGZvciAodyA9IDA7IHcgPCBuOyB3KyspXG4gICAgICAgIEJbd10gPSBoW3ddW3ZdIHwgMCwgQlt3XSAhPT0gMCAmJiAoUiA9ICExKTtcbiAgICAgIGlmICghUilcbiAgICAgICAgYnJlYWs7XG4gICAgICBfKyssIHYtLTtcbiAgICB9XG4gICAgaWYgKHYgPj0gMCAmJiBfKyssIHogPSB6LmRibHAoXyksIHYgPCAwKVxuICAgICAgYnJlYWs7XG4gICAgZm9yICh3ID0gMDsgdyA8IG47IHcrKykge1xuICAgICAgdmFyIEogPSBCW3ddO1xuICAgICAgSiAhPT0gMCAmJiAoSiA+IDAgPyBBID0gZlt3XVtKIC0gMSA+PiAxXSA6IEogPCAwICYmIChBID0gZlt3XVstSiAtIDEgPj4gMV0ubmVnKCkpLCBBLnR5cGUgPT09IFwiYWZmaW5lXCIgPyB6ID0gei5taXhlZEFkZChBKSA6IHogPSB6LmFkZChBKSk7XG4gICAgfVxuICB9XG4gIGZvciAodiA9IDA7IHYgPCBuOyB2KyspXG4gICAgZlt2XSA9IG51bGw7XG4gIHJldHVybiBzID8geiA6IHoudG9QKCk7XG59O1xuZnVuY3Rpb24gdnIociwgZSkge1xuICB0aGlzLmN1cnZlID0gciwgdGhpcy50eXBlID0gZSwgdGhpcy5wcmVjb21wdXRlZCA9IG51bGw7XG59XG5TaS5CYXNlUG9pbnQgPSB2cjtcbnZyLnByb3RvdHlwZS5lcSA9IGZ1bmN0aW9uKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWRcIik7XG59O1xudnIucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmN1cnZlLnZhbGlkYXRlKHRoaXMpO1xufTtcblNpLnByb3RvdHlwZS5kZWNvZGVQb2ludCA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgZSA9IHNyLnRvQXJyYXkoZSwgdCk7XG4gIHZhciBpID0gdGhpcy5wLmJ5dGVMZW5ndGgoKTtcbiAgaWYgKChlWzBdID09PSA0IHx8IGVbMF0gPT09IDYgfHwgZVswXSA9PT0gNykgJiYgZS5sZW5ndGggLSAxID09PSAyICogaSkge1xuICAgIGVbMF0gPT09IDYgPyBLcyhlW2UubGVuZ3RoIC0gMV0gJSAyID09PSAwKSA6IGVbMF0gPT09IDcgJiYgS3MoZVtlLmxlbmd0aCAtIDFdICUgMiA9PT0gMSk7XG4gICAgdmFyIG4gPSB0aGlzLnBvaW50KFxuICAgICAgZS5zbGljZSgxLCAxICsgaSksXG4gICAgICBlLnNsaWNlKDEgKyBpLCAxICsgMiAqIGkpXG4gICAgKTtcbiAgICByZXR1cm4gbjtcbiAgfSBlbHNlIGlmICgoZVswXSA9PT0gMiB8fCBlWzBdID09PSAzKSAmJiBlLmxlbmd0aCAtIDEgPT09IGkpXG4gICAgcmV0dXJuIHRoaXMucG9pbnRGcm9tWChlLnNsaWNlKDEsIDEgKyBpKSwgZVswXSA9PT0gMyk7XG4gIHRocm93IG5ldyBFcnJvcihcIlVua25vd24gcG9pbnQgZm9ybWF0XCIpO1xufTtcbnZyLnByb3RvdHlwZS5lbmNvZGVDb21wcmVzc2VkID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gdGhpcy5lbmNvZGUoZSwgITApO1xufTtcbnZyLnByb3RvdHlwZS5fZW5jb2RlID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IHRoaXMuY3VydmUucC5ieXRlTGVuZ3RoKCksIGkgPSB0aGlzLmdldFgoKS50b0FycmF5KFwiYmVcIiwgdCk7XG4gIHJldHVybiBlID8gW3RoaXMuZ2V0WSgpLmlzRXZlbigpID8gMiA6IDNdLmNvbmNhdChpKSA6IFs0XS5jb25jYXQoaSwgdGhpcy5nZXRZKCkudG9BcnJheShcImJlXCIsIHQpKTtcbn07XG52ci5wcm90b3R5cGUuZW5jb2RlID0gZnVuY3Rpb24oZSwgdCkge1xuICByZXR1cm4gc3IuZW5jb2RlKHRoaXMuX2VuY29kZSh0KSwgZSk7XG59O1xudnIucHJvdG90eXBlLnByZWNvbXB1dGUgPSBmdW5jdGlvbihlKSB7XG4gIGlmICh0aGlzLnByZWNvbXB1dGVkKVxuICAgIHJldHVybiB0aGlzO1xuICB2YXIgdCA9IHtcbiAgICBkb3VibGVzOiBudWxsLFxuICAgIG5hZjogbnVsbCxcbiAgICBiZXRhOiBudWxsXG4gIH07XG4gIHJldHVybiB0Lm5hZiA9IHRoaXMuX2dldE5BRlBvaW50cyg4KSwgdC5kb3VibGVzID0gdGhpcy5fZ2V0RG91Ymxlcyg0LCBlKSwgdC5iZXRhID0gdGhpcy5fZ2V0QmV0YSgpLCB0aGlzLnByZWNvbXB1dGVkID0gdCwgdGhpcztcbn07XG52ci5wcm90b3R5cGUuX2hhc0RvdWJsZXMgPSBmdW5jdGlvbihlKSB7XG4gIGlmICghdGhpcy5wcmVjb21wdXRlZClcbiAgICByZXR1cm4gITE7XG4gIHZhciB0ID0gdGhpcy5wcmVjb21wdXRlZC5kb3VibGVzO1xuICByZXR1cm4gdCA/IHQucG9pbnRzLmxlbmd0aCA+PSBNYXRoLmNlaWwoKGUuYml0TGVuZ3RoKCkgKyAxKSAvIHQuc3RlcCkgOiAhMTtcbn07XG52ci5wcm90b3R5cGUuX2dldERvdWJsZXMgPSBmdW5jdGlvbihlLCB0KSB7XG4gIGlmICh0aGlzLnByZWNvbXB1dGVkICYmIHRoaXMucHJlY29tcHV0ZWQuZG91YmxlcylcbiAgICByZXR1cm4gdGhpcy5wcmVjb21wdXRlZC5kb3VibGVzO1xuICBmb3IgKHZhciBpID0gW3RoaXNdLCBuID0gdGhpcywgcyA9IDA7IHMgPCB0OyBzICs9IGUpIHtcbiAgICBmb3IgKHZhciBvID0gMDsgbyA8IGU7IG8rKylcbiAgICAgIG4gPSBuLmRibCgpO1xuICAgIGkucHVzaChuKTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHN0ZXA6IGUsXG4gICAgcG9pbnRzOiBpXG4gIH07XG59O1xudnIucHJvdG90eXBlLl9nZXROQUZQb2ludHMgPSBmdW5jdGlvbihlKSB7XG4gIGlmICh0aGlzLnByZWNvbXB1dGVkICYmIHRoaXMucHJlY29tcHV0ZWQubmFmKVxuICAgIHJldHVybiB0aGlzLnByZWNvbXB1dGVkLm5hZjtcbiAgZm9yICh2YXIgdCA9IFt0aGlzXSwgaSA9ICgxIDw8IGUpIC0gMSwgbiA9IGkgPT09IDEgPyBudWxsIDogdGhpcy5kYmwoKSwgcyA9IDE7IHMgPCBpOyBzKyspXG4gICAgdFtzXSA9IHRbcyAtIDFdLmFkZChuKTtcbiAgcmV0dXJuIHtcbiAgICB3bmQ6IGUsXG4gICAgcG9pbnRzOiB0XG4gIH07XG59O1xudnIucHJvdG90eXBlLl9nZXRCZXRhID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBudWxsO1xufTtcbnZyLnByb3RvdHlwZS5kYmxwID0gZnVuY3Rpb24oZSkge1xuICBmb3IgKHZhciB0ID0gdGhpcywgaSA9IDA7IGkgPCBlOyBpKyspXG4gICAgdCA9IHQuZGJsKCk7XG4gIHJldHVybiB0O1xufTtcbnZhciBrbyA9IHhuKGZ1bmN0aW9uKHIpIHtcbiAgdHlwZW9mIE9iamVjdC5jcmVhdGUgPT0gXCJmdW5jdGlvblwiID8gci5leHBvcnRzID0gZnVuY3Rpb24odCwgaSkge1xuICAgIGkgJiYgKHQuc3VwZXJfID0gaSwgdC5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKGkucHJvdG90eXBlLCB7XG4gICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICB2YWx1ZTogdCxcbiAgICAgICAgZW51bWVyYWJsZTogITEsXG4gICAgICAgIHdyaXRhYmxlOiAhMCxcbiAgICAgICAgY29uZmlndXJhYmxlOiAhMFxuICAgICAgfVxuICAgIH0pKTtcbiAgfSA6IHIuZXhwb3J0cyA9IGZ1bmN0aW9uKHQsIGkpIHtcbiAgICBpZiAoaSkge1xuICAgICAgdC5zdXBlcl8gPSBpO1xuICAgICAgdmFyIG4gPSBmdW5jdGlvbigpIHtcbiAgICAgIH07XG4gICAgICBuLnByb3RvdHlwZSA9IGkucHJvdG90eXBlLCB0LnByb3RvdHlwZSA9IG5ldyBuKCksIHQucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gdDtcbiAgICB9XG4gIH07XG59KSwgU2cgPSBzci5hc3NlcnQ7XG5mdW5jdGlvbiBicihyKSB7XG4gIFhpLmNhbGwodGhpcywgXCJzaG9ydFwiLCByKSwgdGhpcy5hID0gbmV3IEtlKHIuYSwgMTYpLnRvUmVkKHRoaXMucmVkKSwgdGhpcy5iID0gbmV3IEtlKHIuYiwgMTYpLnRvUmVkKHRoaXMucmVkKSwgdGhpcy50aW52ID0gdGhpcy50d28ucmVkSW52bSgpLCB0aGlzLnplcm9BID0gdGhpcy5hLmZyb21SZWQoKS5jbXBuKDApID09PSAwLCB0aGlzLnRocmVlQSA9IHRoaXMuYS5mcm9tUmVkKCkuc3ViKHRoaXMucCkuY21wbigtMykgPT09IDAsIHRoaXMuZW5kbyA9IHRoaXMuX2dldEVuZG9tb3JwaGlzbShyKSwgdGhpcy5fZW5kb1duYWZUMSA9IG5ldyBBcnJheSg0KSwgdGhpcy5fZW5kb1duYWZUMiA9IG5ldyBBcnJheSg0KTtcbn1cbmtvKGJyLCBYaSk7XG52YXIgTWcgPSBicjtcbmJyLnByb3RvdHlwZS5fZ2V0RW5kb21vcnBoaXNtID0gZnVuY3Rpb24oZSkge1xuICBpZiAoISghdGhpcy56ZXJvQSB8fCAhdGhpcy5nIHx8ICF0aGlzLm4gfHwgdGhpcy5wLm1vZG4oMykgIT09IDEpKSB7XG4gICAgdmFyIHQsIGk7XG4gICAgaWYgKGUuYmV0YSlcbiAgICAgIHQgPSBuZXcgS2UoZS5iZXRhLCAxNikudG9SZWQodGhpcy5yZWQpO1xuICAgIGVsc2Uge1xuICAgICAgdmFyIG4gPSB0aGlzLl9nZXRFbmRvUm9vdHModGhpcy5wKTtcbiAgICAgIHQgPSBuWzBdLmNtcChuWzFdKSA8IDAgPyBuWzBdIDogblsxXSwgdCA9IHQudG9SZWQodGhpcy5yZWQpO1xuICAgIH1cbiAgICBpZiAoZS5sYW1iZGEpXG4gICAgICBpID0gbmV3IEtlKGUubGFtYmRhLCAxNik7XG4gICAgZWxzZSB7XG4gICAgICB2YXIgcyA9IHRoaXMuX2dldEVuZG9Sb290cyh0aGlzLm4pO1xuICAgICAgdGhpcy5nLm11bChzWzBdKS54LmNtcCh0aGlzLmcueC5yZWRNdWwodCkpID09PSAwID8gaSA9IHNbMF0gOiAoaSA9IHNbMV0sIFNnKHRoaXMuZy5tdWwoaSkueC5jbXAodGhpcy5nLngucmVkTXVsKHQpKSA9PT0gMCkpO1xuICAgIH1cbiAgICB2YXIgbztcbiAgICByZXR1cm4gZS5iYXNpcyA/IG8gPSBlLmJhc2lzLm1hcChmdW5jdGlvbihmKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhOiBuZXcgS2UoZi5hLCAxNiksXG4gICAgICAgIGI6IG5ldyBLZShmLmIsIDE2KVxuICAgICAgfTtcbiAgICB9KSA6IG8gPSB0aGlzLl9nZXRFbmRvQmFzaXMoaSksIHtcbiAgICAgIGJldGE6IHQsXG4gICAgICBsYW1iZGE6IGksXG4gICAgICBiYXNpczogb1xuICAgIH07XG4gIH1cbn07XG5ici5wcm90b3R5cGUuX2dldEVuZG9Sb290cyA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBlID09PSB0aGlzLnAgPyB0aGlzLnJlZCA6IEtlLm1vbnQoZSksIGkgPSBuZXcgS2UoMikudG9SZWQodCkucmVkSW52bSgpLCBuID0gaS5yZWROZWcoKSwgcyA9IG5ldyBLZSgzKS50b1JlZCh0KS5yZWROZWcoKS5yZWRTcXJ0KCkucmVkTXVsKGkpLCBvID0gbi5yZWRBZGQocykuZnJvbVJlZCgpLCBmID0gbi5yZWRTdWIocykuZnJvbVJlZCgpO1xuICByZXR1cm4gW28sIGZdO1xufTtcbmJyLnByb3RvdHlwZS5fZ2V0RW5kb0Jhc2lzID0gZnVuY3Rpb24oZSkge1xuICBmb3IgKHZhciB0ID0gdGhpcy5uLnVzaHJuKE1hdGguZmxvb3IodGhpcy5uLmJpdExlbmd0aCgpIC8gMikpLCBpID0gZSwgbiA9IHRoaXMubi5jbG9uZSgpLCBzID0gbmV3IEtlKDEpLCBvID0gbmV3IEtlKDApLCBmID0gbmV3IEtlKDApLCBoID0gbmV3IEtlKDEpLCBkLCB2LCB3LCBBLCBJLCBELCBOLCBrID0gMCwgaiwgVDsgaS5jbXBuKDApICE9PSAwOyApIHtcbiAgICB2YXIgSyA9IG4uZGl2KGkpO1xuICAgIGogPSBuLnN1YihLLm11bChpKSksIFQgPSBmLnN1YihLLm11bChzKSk7XG4gICAgdmFyICQgPSBoLnN1YihLLm11bChvKSk7XG4gICAgaWYgKCF3ICYmIGouY21wKHQpIDwgMClcbiAgICAgIGQgPSBOLm5lZygpLCB2ID0gcywgdyA9IGoubmVnKCksIEEgPSBUO1xuICAgIGVsc2UgaWYgKHcgJiYgKytrID09PSAyKVxuICAgICAgYnJlYWs7XG4gICAgTiA9IGosIG4gPSBpLCBpID0gaiwgZiA9IHMsIHMgPSBULCBoID0gbywgbyA9ICQ7XG4gIH1cbiAgSSA9IGoubmVnKCksIEQgPSBUO1xuICB2YXIgeiA9IHcuc3FyKCkuYWRkKEEuc3FyKCkpLCBCID0gSS5zcXIoKS5hZGQoRC5zcXIoKSk7XG4gIHJldHVybiBCLmNtcCh6KSA+PSAwICYmIChJID0gZCwgRCA9IHYpLCB3Lm5lZ2F0aXZlICYmICh3ID0gdy5uZWcoKSwgQSA9IEEubmVnKCkpLCBJLm5lZ2F0aXZlICYmIChJID0gSS5uZWcoKSwgRCA9IEQubmVnKCkpLCBbXG4gICAgeyBhOiB3LCBiOiBBIH0sXG4gICAgeyBhOiBJLCBiOiBEIH1cbiAgXTtcbn07XG5ici5wcm90b3R5cGUuX2VuZG9TcGxpdCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSB0aGlzLmVuZG8uYmFzaXMsIGkgPSB0WzBdLCBuID0gdFsxXSwgcyA9IG4uYi5tdWwoZSkuZGl2Um91bmQodGhpcy5uKSwgbyA9IGkuYi5uZWcoKS5tdWwoZSkuZGl2Um91bmQodGhpcy5uKSwgZiA9IHMubXVsKGkuYSksIGggPSBvLm11bChuLmEpLCBkID0gcy5tdWwoaS5iKSwgdiA9IG8ubXVsKG4uYiksIHcgPSBlLnN1YihmKS5zdWIoaCksIEEgPSBkLmFkZCh2KS5uZWcoKTtcbiAgcmV0dXJuIHsgazE6IHcsIGsyOiBBIH07XG59O1xuYnIucHJvdG90eXBlLnBvaW50RnJvbVggPSBmdW5jdGlvbihlLCB0KSB7XG4gIGUgPSBuZXcgS2UoZSwgMTYpLCBlLnJlZCB8fCAoZSA9IGUudG9SZWQodGhpcy5yZWQpKTtcbiAgdmFyIGkgPSBlLnJlZFNxcigpLnJlZE11bChlKS5yZWRJQWRkKGUucmVkTXVsKHRoaXMuYSkpLnJlZElBZGQodGhpcy5iKSwgbiA9IGkucmVkU3FydCgpO1xuICBpZiAobi5yZWRTcXIoKS5yZWRTdWIoaSkuY21wKHRoaXMuemVybykgIT09IDApXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiaW52YWxpZCBwb2ludFwiKTtcbiAgdmFyIHMgPSBuLmZyb21SZWQoKS5pc09kZCgpO1xuICByZXR1cm4gKHQgJiYgIXMgfHwgIXQgJiYgcykgJiYgKG4gPSBuLnJlZE5lZygpKSwgdGhpcy5wb2ludChlLCBuKTtcbn07XG5ici5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbihlKSB7XG4gIGlmIChlLmluZilcbiAgICByZXR1cm4gITA7XG4gIHZhciB0ID0gZS54LCBpID0gZS55LCBuID0gdGhpcy5hLnJlZE11bCh0KSwgcyA9IHQucmVkU3FyKCkucmVkTXVsKHQpLnJlZElBZGQobikucmVkSUFkZCh0aGlzLmIpO1xuICByZXR1cm4gaS5yZWRTcXIoKS5yZWRJU3ViKHMpLmNtcG4oMCkgPT09IDA7XG59O1xuYnIucHJvdG90eXBlLl9lbmRvV25hZk11bEFkZCA9IGZ1bmN0aW9uKGUsIHQsIGkpIHtcbiAgZm9yICh2YXIgbiA9IHRoaXMuX2VuZG9XbmFmVDEsIHMgPSB0aGlzLl9lbmRvV25hZlQyLCBvID0gMDsgbyA8IGUubGVuZ3RoOyBvKyspIHtcbiAgICB2YXIgZiA9IHRoaXMuX2VuZG9TcGxpdCh0W29dKSwgaCA9IGVbb10sIGQgPSBoLl9nZXRCZXRhKCk7XG4gICAgZi5rMS5uZWdhdGl2ZSAmJiAoZi5rMS5pbmVnKCksIGggPSBoLm5lZyghMCkpLCBmLmsyLm5lZ2F0aXZlICYmIChmLmsyLmluZWcoKSwgZCA9IGQubmVnKCEwKSksIG5bbyAqIDJdID0gaCwgbltvICogMiArIDFdID0gZCwgc1tvICogMl0gPSBmLmsxLCBzW28gKiAyICsgMV0gPSBmLmsyO1xuICB9XG4gIGZvciAodmFyIHYgPSB0aGlzLl93bmFmTXVsQWRkKDEsIG4sIHMsIG8gKiAyLCBpKSwgdyA9IDA7IHcgPCBvICogMjsgdysrKVxuICAgIG5bd10gPSBudWxsLCBzW3ddID0gbnVsbDtcbiAgcmV0dXJuIHY7XG59O1xuZnVuY3Rpb24gRHQociwgZSwgdCwgaSkge1xuICBYaS5CYXNlUG9pbnQuY2FsbCh0aGlzLCByLCBcImFmZmluZVwiKSwgZSA9PT0gbnVsbCAmJiB0ID09PSBudWxsID8gKHRoaXMueCA9IG51bGwsIHRoaXMueSA9IG51bGwsIHRoaXMuaW5mID0gITApIDogKHRoaXMueCA9IG5ldyBLZShlLCAxNiksIHRoaXMueSA9IG5ldyBLZSh0LCAxNiksIGkgJiYgKHRoaXMueC5mb3JjZVJlZCh0aGlzLmN1cnZlLnJlZCksIHRoaXMueS5mb3JjZVJlZCh0aGlzLmN1cnZlLnJlZCkpLCB0aGlzLngucmVkIHx8ICh0aGlzLnggPSB0aGlzLngudG9SZWQodGhpcy5jdXJ2ZS5yZWQpKSwgdGhpcy55LnJlZCB8fCAodGhpcy55ID0gdGhpcy55LnRvUmVkKHRoaXMuY3VydmUucmVkKSksIHRoaXMuaW5mID0gITEpO1xufVxua28oRHQsIFhpLkJhc2VQb2ludCk7XG5ici5wcm90b3R5cGUucG9pbnQgPSBmdW5jdGlvbihlLCB0LCBpKSB7XG4gIHJldHVybiBuZXcgRHQodGhpcywgZSwgdCwgaSk7XG59O1xuYnIucHJvdG90eXBlLnBvaW50RnJvbUpTT04gPSBmdW5jdGlvbihlLCB0KSB7XG4gIHJldHVybiBEdC5mcm9tSlNPTih0aGlzLCBlLCB0KTtcbn07XG5EdC5wcm90b3R5cGUuX2dldEJldGEgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuY3VydmUuZW5kbykge1xuICAgIHZhciBlID0gdGhpcy5wcmVjb21wdXRlZDtcbiAgICBpZiAoZSAmJiBlLmJldGEpXG4gICAgICByZXR1cm4gZS5iZXRhO1xuICAgIHZhciB0ID0gdGhpcy5jdXJ2ZS5wb2ludCh0aGlzLngucmVkTXVsKHRoaXMuY3VydmUuZW5kby5iZXRhKSwgdGhpcy55KTtcbiAgICBpZiAoZSkge1xuICAgICAgdmFyIGkgPSB0aGlzLmN1cnZlLCBuID0gZnVuY3Rpb24ocykge1xuICAgICAgICByZXR1cm4gaS5wb2ludChzLngucmVkTXVsKGkuZW5kby5iZXRhKSwgcy55KTtcbiAgICAgIH07XG4gICAgICBlLmJldGEgPSB0LCB0LnByZWNvbXB1dGVkID0ge1xuICAgICAgICBiZXRhOiBudWxsLFxuICAgICAgICBuYWY6IGUubmFmICYmIHtcbiAgICAgICAgICB3bmQ6IGUubmFmLnduZCxcbiAgICAgICAgICBwb2ludHM6IGUubmFmLnBvaW50cy5tYXAobilcbiAgICAgICAgfSxcbiAgICAgICAgZG91YmxlczogZS5kb3VibGVzICYmIHtcbiAgICAgICAgICBzdGVwOiBlLmRvdWJsZXMuc3RlcCxcbiAgICAgICAgICBwb2ludHM6IGUuZG91Ymxlcy5wb2ludHMubWFwKG4pXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB0O1xuICB9XG59O1xuRHQucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5wcmVjb21wdXRlZCA/IFt0aGlzLngsIHRoaXMueSwgdGhpcy5wcmVjb21wdXRlZCAmJiB7XG4gICAgZG91YmxlczogdGhpcy5wcmVjb21wdXRlZC5kb3VibGVzICYmIHtcbiAgICAgIHN0ZXA6IHRoaXMucHJlY29tcHV0ZWQuZG91Ymxlcy5zdGVwLFxuICAgICAgcG9pbnRzOiB0aGlzLnByZWNvbXB1dGVkLmRvdWJsZXMucG9pbnRzLnNsaWNlKDEpXG4gICAgfSxcbiAgICBuYWY6IHRoaXMucHJlY29tcHV0ZWQubmFmICYmIHtcbiAgICAgIHduZDogdGhpcy5wcmVjb21wdXRlZC5uYWYud25kLFxuICAgICAgcG9pbnRzOiB0aGlzLnByZWNvbXB1dGVkLm5hZi5wb2ludHMuc2xpY2UoMSlcbiAgICB9XG4gIH1dIDogW3RoaXMueCwgdGhpcy55XTtcbn07XG5EdC5mcm9tSlNPTiA9IGZ1bmN0aW9uKGUsIHQsIGkpIHtcbiAgdHlwZW9mIHQgPT0gXCJzdHJpbmdcIiAmJiAodCA9IEpTT04ucGFyc2UodCkpO1xuICB2YXIgbiA9IGUucG9pbnQodFswXSwgdFsxXSwgaSk7XG4gIGlmICghdFsyXSlcbiAgICByZXR1cm4gbjtcbiAgZnVuY3Rpb24gcyhmKSB7XG4gICAgcmV0dXJuIGUucG9pbnQoZlswXSwgZlsxXSwgaSk7XG4gIH1cbiAgdmFyIG8gPSB0WzJdO1xuICByZXR1cm4gbi5wcmVjb21wdXRlZCA9IHtcbiAgICBiZXRhOiBudWxsLFxuICAgIGRvdWJsZXM6IG8uZG91YmxlcyAmJiB7XG4gICAgICBzdGVwOiBvLmRvdWJsZXMuc3RlcCxcbiAgICAgIHBvaW50czogW25dLmNvbmNhdChvLmRvdWJsZXMucG9pbnRzLm1hcChzKSlcbiAgICB9LFxuICAgIG5hZjogby5uYWYgJiYge1xuICAgICAgd25kOiBvLm5hZi53bmQsXG4gICAgICBwb2ludHM6IFtuXS5jb25jYXQoby5uYWYucG9pbnRzLm1hcChzKSlcbiAgICB9XG4gIH0sIG47XG59O1xuRHQucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaXNJbmZpbml0eSgpID8gXCI8RUMgUG9pbnQgSW5maW5pdHk+XCIgOiBcIjxFQyBQb2ludCB4OiBcIiArIHRoaXMueC5mcm9tUmVkKCkudG9TdHJpbmcoMTYsIDIpICsgXCIgeTogXCIgKyB0aGlzLnkuZnJvbVJlZCgpLnRvU3RyaW5nKDE2LCAyKSArIFwiPlwiO1xufTtcbkR0LnByb3RvdHlwZS5pc0luZmluaXR5ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmluZjtcbn07XG5EdC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oZSkge1xuICBpZiAodGhpcy5pbmYpXG4gICAgcmV0dXJuIGU7XG4gIGlmIChlLmluZilcbiAgICByZXR1cm4gdGhpcztcbiAgaWYgKHRoaXMuZXEoZSkpXG4gICAgcmV0dXJuIHRoaXMuZGJsKCk7XG4gIGlmICh0aGlzLm5lZygpLmVxKGUpKVxuICAgIHJldHVybiB0aGlzLmN1cnZlLnBvaW50KG51bGwsIG51bGwpO1xuICBpZiAodGhpcy54LmNtcChlLngpID09PSAwKVxuICAgIHJldHVybiB0aGlzLmN1cnZlLnBvaW50KG51bGwsIG51bGwpO1xuICB2YXIgdCA9IHRoaXMueS5yZWRTdWIoZS55KTtcbiAgdC5jbXBuKDApICE9PSAwICYmICh0ID0gdC5yZWRNdWwodGhpcy54LnJlZFN1YihlLngpLnJlZEludm0oKSkpO1xuICB2YXIgaSA9IHQucmVkU3FyKCkucmVkSVN1Yih0aGlzLngpLnJlZElTdWIoZS54KSwgbiA9IHQucmVkTXVsKHRoaXMueC5yZWRTdWIoaSkpLnJlZElTdWIodGhpcy55KTtcbiAgcmV0dXJuIHRoaXMuY3VydmUucG9pbnQoaSwgbik7XG59O1xuRHQucHJvdG90eXBlLmRibCA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5pbmYpXG4gICAgcmV0dXJuIHRoaXM7XG4gIHZhciBlID0gdGhpcy55LnJlZEFkZCh0aGlzLnkpO1xuICBpZiAoZS5jbXBuKDApID09PSAwKVxuICAgIHJldHVybiB0aGlzLmN1cnZlLnBvaW50KG51bGwsIG51bGwpO1xuICB2YXIgdCA9IHRoaXMuY3VydmUuYSwgaSA9IHRoaXMueC5yZWRTcXIoKSwgbiA9IGUucmVkSW52bSgpLCBzID0gaS5yZWRBZGQoaSkucmVkSUFkZChpKS5yZWRJQWRkKHQpLnJlZE11bChuKSwgbyA9IHMucmVkU3FyKCkucmVkSVN1Yih0aGlzLngucmVkQWRkKHRoaXMueCkpLCBmID0gcy5yZWRNdWwodGhpcy54LnJlZFN1YihvKSkucmVkSVN1Yih0aGlzLnkpO1xuICByZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChvLCBmKTtcbn07XG5EdC5wcm90b3R5cGUuZ2V0WCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy54LmZyb21SZWQoKTtcbn07XG5EdC5wcm90b3R5cGUuZ2V0WSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy55LmZyb21SZWQoKTtcbn07XG5EdC5wcm90b3R5cGUubXVsID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gZSA9IG5ldyBLZShlLCAxNiksIHRoaXMuaXNJbmZpbml0eSgpID8gdGhpcyA6IHRoaXMuX2hhc0RvdWJsZXMoZSkgPyB0aGlzLmN1cnZlLl9maXhlZE5hZk11bCh0aGlzLCBlKSA6IHRoaXMuY3VydmUuZW5kbyA/IHRoaXMuY3VydmUuX2VuZG9XbmFmTXVsQWRkKFt0aGlzXSwgW2VdKSA6IHRoaXMuY3VydmUuX3duYWZNdWwodGhpcywgZSk7XG59O1xuRHQucHJvdG90eXBlLm11bEFkZCA9IGZ1bmN0aW9uKGUsIHQsIGkpIHtcbiAgdmFyIG4gPSBbdGhpcywgdF0sIHMgPSBbZSwgaV07XG4gIHJldHVybiB0aGlzLmN1cnZlLmVuZG8gPyB0aGlzLmN1cnZlLl9lbmRvV25hZk11bEFkZChuLCBzKSA6IHRoaXMuY3VydmUuX3duYWZNdWxBZGQoMSwgbiwgcywgMik7XG59O1xuRHQucHJvdG90eXBlLmptdWxBZGQgPSBmdW5jdGlvbihlLCB0LCBpKSB7XG4gIHZhciBuID0gW3RoaXMsIHRdLCBzID0gW2UsIGldO1xuICByZXR1cm4gdGhpcy5jdXJ2ZS5lbmRvID8gdGhpcy5jdXJ2ZS5fZW5kb1duYWZNdWxBZGQobiwgcywgITApIDogdGhpcy5jdXJ2ZS5fd25hZk11bEFkZCgxLCBuLCBzLCAyLCAhMCk7XG59O1xuRHQucHJvdG90eXBlLmVxID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gdGhpcyA9PT0gZSB8fCB0aGlzLmluZiA9PT0gZS5pbmYgJiYgKHRoaXMuaW5mIHx8IHRoaXMueC5jbXAoZS54KSA9PT0gMCAmJiB0aGlzLnkuY21wKGUueSkgPT09IDApO1xufTtcbkR0LnByb3RvdHlwZS5uZWcgPSBmdW5jdGlvbihlKSB7XG4gIGlmICh0aGlzLmluZilcbiAgICByZXR1cm4gdGhpcztcbiAgdmFyIHQgPSB0aGlzLmN1cnZlLnBvaW50KHRoaXMueCwgdGhpcy55LnJlZE5lZygpKTtcbiAgaWYgKGUgJiYgdGhpcy5wcmVjb21wdXRlZCkge1xuICAgIHZhciBpID0gdGhpcy5wcmVjb21wdXRlZCwgbiA9IGZ1bmN0aW9uKHMpIHtcbiAgICAgIHJldHVybiBzLm5lZygpO1xuICAgIH07XG4gICAgdC5wcmVjb21wdXRlZCA9IHtcbiAgICAgIG5hZjogaS5uYWYgJiYge1xuICAgICAgICB3bmQ6IGkubmFmLnduZCxcbiAgICAgICAgcG9pbnRzOiBpLm5hZi5wb2ludHMubWFwKG4pXG4gICAgICB9LFxuICAgICAgZG91YmxlczogaS5kb3VibGVzICYmIHtcbiAgICAgICAgc3RlcDogaS5kb3VibGVzLnN0ZXAsXG4gICAgICAgIHBvaW50czogaS5kb3VibGVzLnBvaW50cy5tYXAobilcbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIHJldHVybiB0O1xufTtcbkR0LnByb3RvdHlwZS50b0ogPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuaW5mKVxuICAgIHJldHVybiB0aGlzLmN1cnZlLmpwb2ludChudWxsLCBudWxsLCBudWxsKTtcbiAgdmFyIGUgPSB0aGlzLmN1cnZlLmpwb2ludCh0aGlzLngsIHRoaXMueSwgdGhpcy5jdXJ2ZS5vbmUpO1xuICByZXR1cm4gZTtcbn07XG5mdW5jdGlvbiBOdChyLCBlLCB0LCBpKSB7XG4gIFhpLkJhc2VQb2ludC5jYWxsKHRoaXMsIHIsIFwiamFjb2JpYW5cIiksIGUgPT09IG51bGwgJiYgdCA9PT0gbnVsbCAmJiBpID09PSBudWxsID8gKHRoaXMueCA9IHRoaXMuY3VydmUub25lLCB0aGlzLnkgPSB0aGlzLmN1cnZlLm9uZSwgdGhpcy56ID0gbmV3IEtlKDApKSA6ICh0aGlzLnggPSBuZXcgS2UoZSwgMTYpLCB0aGlzLnkgPSBuZXcgS2UodCwgMTYpLCB0aGlzLnogPSBuZXcgS2UoaSwgMTYpKSwgdGhpcy54LnJlZCB8fCAodGhpcy54ID0gdGhpcy54LnRvUmVkKHRoaXMuY3VydmUucmVkKSksIHRoaXMueS5yZWQgfHwgKHRoaXMueSA9IHRoaXMueS50b1JlZCh0aGlzLmN1cnZlLnJlZCkpLCB0aGlzLnoucmVkIHx8ICh0aGlzLnogPSB0aGlzLnoudG9SZWQodGhpcy5jdXJ2ZS5yZWQpKSwgdGhpcy56T25lID0gdGhpcy56ID09PSB0aGlzLmN1cnZlLm9uZTtcbn1cbmtvKE50LCBYaS5CYXNlUG9pbnQpO1xuYnIucHJvdG90eXBlLmpwb2ludCA9IGZ1bmN0aW9uKGUsIHQsIGkpIHtcbiAgcmV0dXJuIG5ldyBOdCh0aGlzLCBlLCB0LCBpKTtcbn07XG5OdC5wcm90b3R5cGUudG9QID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmlzSW5maW5pdHkoKSlcbiAgICByZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChudWxsLCBudWxsKTtcbiAgdmFyIGUgPSB0aGlzLnoucmVkSW52bSgpLCB0ID0gZS5yZWRTcXIoKSwgaSA9IHRoaXMueC5yZWRNdWwodCksIG4gPSB0aGlzLnkucmVkTXVsKHQpLnJlZE11bChlKTtcbiAgcmV0dXJuIHRoaXMuY3VydmUucG9pbnQoaSwgbik7XG59O1xuTnQucHJvdG90eXBlLm5lZyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5jdXJ2ZS5qcG9pbnQodGhpcy54LCB0aGlzLnkucmVkTmVnKCksIHRoaXMueik7XG59O1xuTnQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKHRoaXMuaXNJbmZpbml0eSgpKVxuICAgIHJldHVybiBlO1xuICBpZiAoZS5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuIHRoaXM7XG4gIHZhciB0ID0gZS56LnJlZFNxcigpLCBpID0gdGhpcy56LnJlZFNxcigpLCBuID0gdGhpcy54LnJlZE11bCh0KSwgcyA9IGUueC5yZWRNdWwoaSksIG8gPSB0aGlzLnkucmVkTXVsKHQucmVkTXVsKGUueikpLCBmID0gZS55LnJlZE11bChpLnJlZE11bCh0aGlzLnopKSwgaCA9IG4ucmVkU3ViKHMpLCBkID0gby5yZWRTdWIoZik7XG4gIGlmIChoLmNtcG4oMCkgPT09IDApXG4gICAgcmV0dXJuIGQuY21wbigwKSAhPT0gMCA/IHRoaXMuY3VydmUuanBvaW50KG51bGwsIG51bGwsIG51bGwpIDogdGhpcy5kYmwoKTtcbiAgdmFyIHYgPSBoLnJlZFNxcigpLCB3ID0gdi5yZWRNdWwoaCksIEEgPSBuLnJlZE11bCh2KSwgSSA9IGQucmVkU3FyKCkucmVkSUFkZCh3KS5yZWRJU3ViKEEpLnJlZElTdWIoQSksIEQgPSBkLnJlZE11bChBLnJlZElTdWIoSSkpLnJlZElTdWIoby5yZWRNdWwodykpLCBOID0gdGhpcy56LnJlZE11bChlLnopLnJlZE11bChoKTtcbiAgcmV0dXJuIHRoaXMuY3VydmUuanBvaW50KEksIEQsIE4pO1xufTtcbk50LnByb3RvdHlwZS5taXhlZEFkZCA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKHRoaXMuaXNJbmZpbml0eSgpKVxuICAgIHJldHVybiBlLnRvSigpO1xuICBpZiAoZS5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuIHRoaXM7XG4gIHZhciB0ID0gdGhpcy56LnJlZFNxcigpLCBpID0gdGhpcy54LCBuID0gZS54LnJlZE11bCh0KSwgcyA9IHRoaXMueSwgbyA9IGUueS5yZWRNdWwodCkucmVkTXVsKHRoaXMueiksIGYgPSBpLnJlZFN1YihuKSwgaCA9IHMucmVkU3ViKG8pO1xuICBpZiAoZi5jbXBuKDApID09PSAwKVxuICAgIHJldHVybiBoLmNtcG4oMCkgIT09IDAgPyB0aGlzLmN1cnZlLmpwb2ludChudWxsLCBudWxsLCBudWxsKSA6IHRoaXMuZGJsKCk7XG4gIHZhciBkID0gZi5yZWRTcXIoKSwgdiA9IGQucmVkTXVsKGYpLCB3ID0gaS5yZWRNdWwoZCksIEEgPSBoLnJlZFNxcigpLnJlZElBZGQodikucmVkSVN1Yih3KS5yZWRJU3ViKHcpLCBJID0gaC5yZWRNdWwody5yZWRJU3ViKEEpKS5yZWRJU3ViKHMucmVkTXVsKHYpKSwgRCA9IHRoaXMuei5yZWRNdWwoZik7XG4gIHJldHVybiB0aGlzLmN1cnZlLmpwb2ludChBLCBJLCBEKTtcbn07XG5OdC5wcm90b3R5cGUuZGJscCA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKGUgPT09IDApXG4gICAgcmV0dXJuIHRoaXM7XG4gIGlmICh0aGlzLmlzSW5maW5pdHkoKSlcbiAgICByZXR1cm4gdGhpcztcbiAgaWYgKCFlKVxuICAgIHJldHVybiB0aGlzLmRibCgpO1xuICB2YXIgdDtcbiAgaWYgKHRoaXMuY3VydmUuemVyb0EgfHwgdGhpcy5jdXJ2ZS50aHJlZUEpIHtcbiAgICB2YXIgaSA9IHRoaXM7XG4gICAgZm9yICh0ID0gMDsgdCA8IGU7IHQrKylcbiAgICAgIGkgPSBpLmRibCgpO1xuICAgIHJldHVybiBpO1xuICB9XG4gIHZhciBuID0gdGhpcy5jdXJ2ZS5hLCBzID0gdGhpcy5jdXJ2ZS50aW52LCBvID0gdGhpcy54LCBmID0gdGhpcy55LCBoID0gdGhpcy56LCBkID0gaC5yZWRTcXIoKS5yZWRTcXIoKSwgdiA9IGYucmVkQWRkKGYpO1xuICBmb3IgKHQgPSAwOyB0IDwgZTsgdCsrKSB7XG4gICAgdmFyIHcgPSBvLnJlZFNxcigpLCBBID0gdi5yZWRTcXIoKSwgSSA9IEEucmVkU3FyKCksIEQgPSB3LnJlZEFkZCh3KS5yZWRJQWRkKHcpLnJlZElBZGQobi5yZWRNdWwoZCkpLCBOID0gby5yZWRNdWwoQSksIGsgPSBELnJlZFNxcigpLnJlZElTdWIoTi5yZWRBZGQoTikpLCBqID0gTi5yZWRJU3ViKGspLCBUID0gRC5yZWRNdWwoaik7XG4gICAgVCA9IFQucmVkSUFkZChUKS5yZWRJU3ViKEkpO1xuICAgIHZhciBLID0gdi5yZWRNdWwoaCk7XG4gICAgdCArIDEgPCBlICYmIChkID0gZC5yZWRNdWwoSSkpLCBvID0gaywgaCA9IEssIHYgPSBUO1xuICB9XG4gIHJldHVybiB0aGlzLmN1cnZlLmpwb2ludChvLCB2LnJlZE11bChzKSwgaCk7XG59O1xuTnQucHJvdG90eXBlLmRibCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5pc0luZmluaXR5KCkgPyB0aGlzIDogdGhpcy5jdXJ2ZS56ZXJvQSA/IHRoaXMuX3plcm9EYmwoKSA6IHRoaXMuY3VydmUudGhyZWVBID8gdGhpcy5fdGhyZWVEYmwoKSA6IHRoaXMuX2RibCgpO1xufTtcbk50LnByb3RvdHlwZS5femVyb0RibCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZSwgdCwgaTtcbiAgaWYgKHRoaXMuek9uZSkge1xuICAgIHZhciBuID0gdGhpcy54LnJlZFNxcigpLCBzID0gdGhpcy55LnJlZFNxcigpLCBvID0gcy5yZWRTcXIoKSwgZiA9IHRoaXMueC5yZWRBZGQocykucmVkU3FyKCkucmVkSVN1YihuKS5yZWRJU3ViKG8pO1xuICAgIGYgPSBmLnJlZElBZGQoZik7XG4gICAgdmFyIGggPSBuLnJlZEFkZChuKS5yZWRJQWRkKG4pLCBkID0gaC5yZWRTcXIoKS5yZWRJU3ViKGYpLnJlZElTdWIoZiksIHYgPSBvLnJlZElBZGQobyk7XG4gICAgdiA9IHYucmVkSUFkZCh2KSwgdiA9IHYucmVkSUFkZCh2KSwgZSA9IGQsIHQgPSBoLnJlZE11bChmLnJlZElTdWIoZCkpLnJlZElTdWIodiksIGkgPSB0aGlzLnkucmVkQWRkKHRoaXMueSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHcgPSB0aGlzLngucmVkU3FyKCksIEEgPSB0aGlzLnkucmVkU3FyKCksIEkgPSBBLnJlZFNxcigpLCBEID0gdGhpcy54LnJlZEFkZChBKS5yZWRTcXIoKS5yZWRJU3ViKHcpLnJlZElTdWIoSSk7XG4gICAgRCA9IEQucmVkSUFkZChEKTtcbiAgICB2YXIgTiA9IHcucmVkQWRkKHcpLnJlZElBZGQodyksIGsgPSBOLnJlZFNxcigpLCBqID0gSS5yZWRJQWRkKEkpO1xuICAgIGogPSBqLnJlZElBZGQoaiksIGogPSBqLnJlZElBZGQoaiksIGUgPSBrLnJlZElTdWIoRCkucmVkSVN1YihEKSwgdCA9IE4ucmVkTXVsKEQucmVkSVN1YihlKSkucmVkSVN1YihqKSwgaSA9IHRoaXMueS5yZWRNdWwodGhpcy56KSwgaSA9IGkucmVkSUFkZChpKTtcbiAgfVxuICByZXR1cm4gdGhpcy5jdXJ2ZS5qcG9pbnQoZSwgdCwgaSk7XG59O1xuTnQucHJvdG90eXBlLl90aHJlZURibCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZSwgdCwgaTtcbiAgaWYgKHRoaXMuek9uZSkge1xuICAgIHZhciBuID0gdGhpcy54LnJlZFNxcigpLCBzID0gdGhpcy55LnJlZFNxcigpLCBvID0gcy5yZWRTcXIoKSwgZiA9IHRoaXMueC5yZWRBZGQocykucmVkU3FyKCkucmVkSVN1YihuKS5yZWRJU3ViKG8pO1xuICAgIGYgPSBmLnJlZElBZGQoZik7XG4gICAgdmFyIGggPSBuLnJlZEFkZChuKS5yZWRJQWRkKG4pLnJlZElBZGQodGhpcy5jdXJ2ZS5hKSwgZCA9IGgucmVkU3FyKCkucmVkSVN1YihmKS5yZWRJU3ViKGYpO1xuICAgIGUgPSBkO1xuICAgIHZhciB2ID0gby5yZWRJQWRkKG8pO1xuICAgIHYgPSB2LnJlZElBZGQodiksIHYgPSB2LnJlZElBZGQodiksIHQgPSBoLnJlZE11bChmLnJlZElTdWIoZCkpLnJlZElTdWIodiksIGkgPSB0aGlzLnkucmVkQWRkKHRoaXMueSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHcgPSB0aGlzLnoucmVkU3FyKCksIEEgPSB0aGlzLnkucmVkU3FyKCksIEkgPSB0aGlzLngucmVkTXVsKEEpLCBEID0gdGhpcy54LnJlZFN1Yih3KS5yZWRNdWwodGhpcy54LnJlZEFkZCh3KSk7XG4gICAgRCA9IEQucmVkQWRkKEQpLnJlZElBZGQoRCk7XG4gICAgdmFyIE4gPSBJLnJlZElBZGQoSSk7XG4gICAgTiA9IE4ucmVkSUFkZChOKTtcbiAgICB2YXIgayA9IE4ucmVkQWRkKE4pO1xuICAgIGUgPSBELnJlZFNxcigpLnJlZElTdWIoayksIGkgPSB0aGlzLnkucmVkQWRkKHRoaXMueikucmVkU3FyKCkucmVkSVN1YihBKS5yZWRJU3ViKHcpO1xuICAgIHZhciBqID0gQS5yZWRTcXIoKTtcbiAgICBqID0gai5yZWRJQWRkKGopLCBqID0gai5yZWRJQWRkKGopLCBqID0gai5yZWRJQWRkKGopLCB0ID0gRC5yZWRNdWwoTi5yZWRJU3ViKGUpKS5yZWRJU3ViKGopO1xuICB9XG4gIHJldHVybiB0aGlzLmN1cnZlLmpwb2ludChlLCB0LCBpKTtcbn07XG5OdC5wcm90b3R5cGUuX2RibCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZSA9IHRoaXMuY3VydmUuYSwgdCA9IHRoaXMueCwgaSA9IHRoaXMueSwgbiA9IHRoaXMueiwgcyA9IG4ucmVkU3FyKCkucmVkU3FyKCksIG8gPSB0LnJlZFNxcigpLCBmID0gaS5yZWRTcXIoKSwgaCA9IG8ucmVkQWRkKG8pLnJlZElBZGQobykucmVkSUFkZChlLnJlZE11bChzKSksIGQgPSB0LnJlZEFkZCh0KTtcbiAgZCA9IGQucmVkSUFkZChkKTtcbiAgdmFyIHYgPSBkLnJlZE11bChmKSwgdyA9IGgucmVkU3FyKCkucmVkSVN1Yih2LnJlZEFkZCh2KSksIEEgPSB2LnJlZElTdWIodyksIEkgPSBmLnJlZFNxcigpO1xuICBJID0gSS5yZWRJQWRkKEkpLCBJID0gSS5yZWRJQWRkKEkpLCBJID0gSS5yZWRJQWRkKEkpO1xuICB2YXIgRCA9IGgucmVkTXVsKEEpLnJlZElTdWIoSSksIE4gPSBpLnJlZEFkZChpKS5yZWRNdWwobik7XG4gIHJldHVybiB0aGlzLmN1cnZlLmpwb2ludCh3LCBELCBOKTtcbn07XG5OdC5wcm90b3R5cGUudHJwbCA9IGZ1bmN0aW9uKCkge1xuICBpZiAoIXRoaXMuY3VydmUuemVyb0EpXG4gICAgcmV0dXJuIHRoaXMuZGJsKCkuYWRkKHRoaXMpO1xuICB2YXIgZSA9IHRoaXMueC5yZWRTcXIoKSwgdCA9IHRoaXMueS5yZWRTcXIoKSwgaSA9IHRoaXMuei5yZWRTcXIoKSwgbiA9IHQucmVkU3FyKCksIHMgPSBlLnJlZEFkZChlKS5yZWRJQWRkKGUpLCBvID0gcy5yZWRTcXIoKSwgZiA9IHRoaXMueC5yZWRBZGQodCkucmVkU3FyKCkucmVkSVN1YihlKS5yZWRJU3ViKG4pO1xuICBmID0gZi5yZWRJQWRkKGYpLCBmID0gZi5yZWRBZGQoZikucmVkSUFkZChmKSwgZiA9IGYucmVkSVN1YihvKTtcbiAgdmFyIGggPSBmLnJlZFNxcigpLCBkID0gbi5yZWRJQWRkKG4pO1xuICBkID0gZC5yZWRJQWRkKGQpLCBkID0gZC5yZWRJQWRkKGQpLCBkID0gZC5yZWRJQWRkKGQpO1xuICB2YXIgdiA9IHMucmVkSUFkZChmKS5yZWRTcXIoKS5yZWRJU3ViKG8pLnJlZElTdWIoaCkucmVkSVN1YihkKSwgdyA9IHQucmVkTXVsKHYpO1xuICB3ID0gdy5yZWRJQWRkKHcpLCB3ID0gdy5yZWRJQWRkKHcpO1xuICB2YXIgQSA9IHRoaXMueC5yZWRNdWwoaCkucmVkSVN1Yih3KTtcbiAgQSA9IEEucmVkSUFkZChBKSwgQSA9IEEucmVkSUFkZChBKTtcbiAgdmFyIEkgPSB0aGlzLnkucmVkTXVsKHYucmVkTXVsKGQucmVkSVN1Yih2KSkucmVkSVN1YihmLnJlZE11bChoKSkpO1xuICBJID0gSS5yZWRJQWRkKEkpLCBJID0gSS5yZWRJQWRkKEkpLCBJID0gSS5yZWRJQWRkKEkpO1xuICB2YXIgRCA9IHRoaXMuei5yZWRBZGQoZikucmVkU3FyKCkucmVkSVN1YihpKS5yZWRJU3ViKGgpO1xuICByZXR1cm4gdGhpcy5jdXJ2ZS5qcG9pbnQoQSwgSSwgRCk7XG59O1xuTnQucHJvdG90eXBlLm11bCA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgcmV0dXJuIGUgPSBuZXcgS2UoZSwgdCksIHRoaXMuY3VydmUuX3duYWZNdWwodGhpcywgZSk7XG59O1xuTnQucHJvdG90eXBlLmVxID0gZnVuY3Rpb24oZSkge1xuICBpZiAoZS50eXBlID09PSBcImFmZmluZVwiKVxuICAgIHJldHVybiB0aGlzLmVxKGUudG9KKCkpO1xuICBpZiAodGhpcyA9PT0gZSlcbiAgICByZXR1cm4gITA7XG4gIHZhciB0ID0gdGhpcy56LnJlZFNxcigpLCBpID0gZS56LnJlZFNxcigpO1xuICBpZiAodGhpcy54LnJlZE11bChpKS5yZWRJU3ViKGUueC5yZWRNdWwodCkpLmNtcG4oMCkgIT09IDApXG4gICAgcmV0dXJuICExO1xuICB2YXIgbiA9IHQucmVkTXVsKHRoaXMueiksIHMgPSBpLnJlZE11bChlLnopO1xuICByZXR1cm4gdGhpcy55LnJlZE11bChzKS5yZWRJU3ViKGUueS5yZWRNdWwobikpLmNtcG4oMCkgPT09IDA7XG59O1xuTnQucHJvdG90eXBlLmVxWFRvUCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSB0aGlzLnoucmVkU3FyKCksIGkgPSBlLnRvUmVkKHRoaXMuY3VydmUucmVkKS5yZWRNdWwodCk7XG4gIGlmICh0aGlzLnguY21wKGkpID09PSAwKVxuICAgIHJldHVybiAhMDtcbiAgZm9yICh2YXIgbiA9IGUuY2xvbmUoKSwgcyA9IHRoaXMuY3VydmUucmVkTi5yZWRNdWwodCk7IDsgKSB7XG4gICAgaWYgKG4uaWFkZCh0aGlzLmN1cnZlLm4pLCBuLmNtcCh0aGlzLmN1cnZlLnApID49IDApXG4gICAgICByZXR1cm4gITE7XG4gICAgaWYgKGkucmVkSUFkZChzKSwgdGhpcy54LmNtcChpKSA9PT0gMClcbiAgICAgIHJldHVybiAhMDtcbiAgfVxufTtcbk50LnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmlzSW5maW5pdHkoKSA/IFwiPEVDIEpQb2ludCBJbmZpbml0eT5cIiA6IFwiPEVDIEpQb2ludCB4OiBcIiArIHRoaXMueC50b1N0cmluZygxNiwgMikgKyBcIiB5OiBcIiArIHRoaXMueS50b1N0cmluZygxNiwgMikgKyBcIiB6OiBcIiArIHRoaXMuei50b1N0cmluZygxNiwgMikgKyBcIj5cIjtcbn07XG5OdC5wcm90b3R5cGUuaXNJbmZpbml0eSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy56LmNtcG4oMCkgPT09IDA7XG59O1xudmFyIE9zID0geG4oZnVuY3Rpb24ociwgZSkge1xuICB2YXIgdCA9IGU7XG4gIHQuYmFzZSA9IFhpLCB0LnNob3J0ID0gTWcsIHQubW9udCA9IC8qUmljTW9vOmV0aGVyczpyZXF1aXJlKC4vbW9udCkqL1xuICBudWxsLCB0LmVkd2FyZHMgPSAvKlJpY01vbzpldGhlcnM6cmVxdWlyZSguL2Vkd2FyZHMpKi9cbiAgbnVsbDtcbn0pLCBScyA9IHhuKGZ1bmN0aW9uKHIsIGUpIHtcbiAgdmFyIHQgPSBlLCBpID0gc3IuYXNzZXJ0O1xuICBmdW5jdGlvbiBuKGYpIHtcbiAgICBmLnR5cGUgPT09IFwic2hvcnRcIiA/IHRoaXMuY3VydmUgPSBuZXcgT3Muc2hvcnQoZikgOiBmLnR5cGUgPT09IFwiZWR3YXJkc1wiID8gdGhpcy5jdXJ2ZSA9IG5ldyBPcy5lZHdhcmRzKGYpIDogdGhpcy5jdXJ2ZSA9IG5ldyBPcy5tb250KGYpLCB0aGlzLmcgPSB0aGlzLmN1cnZlLmcsIHRoaXMubiA9IHRoaXMuY3VydmUubiwgdGhpcy5oYXNoID0gZi5oYXNoLCBpKHRoaXMuZy52YWxpZGF0ZSgpLCBcIkludmFsaWQgY3VydmVcIiksIGkodGhpcy5nLm11bCh0aGlzLm4pLmlzSW5maW5pdHkoKSwgXCJJbnZhbGlkIGN1cnZlLCBHKk4gIT0gT1wiKTtcbiAgfVxuICB0LlByZXNldEN1cnZlID0gbjtcbiAgZnVuY3Rpb24gcyhmLCBoKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsIGYsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICBlbnVtZXJhYmxlOiAhMCxcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkID0gbmV3IG4oaCk7XG4gICAgICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkodCwgZiwge1xuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICAgICAgZW51bWVyYWJsZTogITAsXG4gICAgICAgICAgdmFsdWU6IGRcbiAgICAgICAgfSksIGQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcyhcInAxOTJcIiwge1xuICAgIHR5cGU6IFwic2hvcnRcIixcbiAgICBwcmltZTogXCJwMTkyXCIsXG4gICAgcDogXCJmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZSBmZmZmZmZmZiBmZmZmZmZmZlwiLFxuICAgIGE6IFwiZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmUgZmZmZmZmZmYgZmZmZmZmZmNcIixcbiAgICBiOiBcIjY0MjEwNTE5IGU1OWM4MGU3IDBmYTdlOWFiIDcyMjQzMDQ5IGZlYjhkZWVjIGMxNDZiOWIxXCIsXG4gICAgbjogXCJmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiA5OWRlZjgzNiAxNDZiYzliMSBiNGQyMjgzMVwiLFxuICAgIGhhc2g6IHNpLnNoYTI1NixcbiAgICBnUmVkOiAhMSxcbiAgICBnOiBbXG4gICAgICBcIjE4OGRhODBlIGIwMzA5MGY2IDdjYmYyMGViIDQzYTE4ODAwIGY0ZmYwYWZkIDgyZmYxMDEyXCIsXG4gICAgICBcIjA3MTkyYjk1IGZmYzhkYTc4IDYzMTAxMWVkIDZiMjRjZGQ1IDczZjk3N2ExIDFlNzk0ODExXCJcbiAgICBdXG4gIH0pLCBzKFwicDIyNFwiLCB7XG4gICAgdHlwZTogXCJzaG9ydFwiLFxuICAgIHByaW1lOiBcInAyMjRcIixcbiAgICBwOiBcImZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIDAwMDAwMDAwIDAwMDAwMDAwIDAwMDAwMDAxXCIsXG4gICAgYTogXCJmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZSBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZVwiLFxuICAgIGI6IFwiYjQwNTBhODUgMGMwNGIzYWIgZjU0MTMyNTYgNTA0NGIwYjcgZDdiZmQ4YmEgMjcwYjM5NDMgMjM1NWZmYjRcIixcbiAgICBuOiBcImZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmYxNmEyIGUwYjhmMDNlIDEzZGQyOTQ1IDVjNWMyYTNkXCIsXG4gICAgaGFzaDogc2kuc2hhMjU2LFxuICAgIGdSZWQ6ICExLFxuICAgIGc6IFtcbiAgICAgIFwiYjcwZTBjYmQgNmJiNGJmN2YgMzIxMzkwYjkgNGEwM2MxZDMgNTZjMjExMjIgMzQzMjgwZDYgMTE1YzFkMjFcIixcbiAgICAgIFwiYmQzNzYzODggYjVmNzIzZmIgNGMyMmRmZTYgY2Q0Mzc1YTAgNWEwNzQ3NjQgNDRkNTgxOTkgODUwMDdlMzRcIlxuICAgIF1cbiAgfSksIHMoXCJwMjU2XCIsIHtcbiAgICB0eXBlOiBcInNob3J0XCIsXG4gICAgcHJpbWU6IG51bGwsXG4gICAgcDogXCJmZmZmZmZmZiAwMDAwMDAwMSAwMDAwMDAwMCAwMDAwMDAwMCAwMDAwMDAwMCBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZlwiLFxuICAgIGE6IFwiZmZmZmZmZmYgMDAwMDAwMDEgMDAwMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDAgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmNcIixcbiAgICBiOiBcIjVhYzYzNWQ4IGFhM2E5M2U3IGIzZWJiZDU1IDc2OTg4NmJjIDY1MWQwNmIwIGNjNTNiMGY2IDNiY2UzYzNlIDI3ZDI2MDRiXCIsXG4gICAgbjogXCJmZmZmZmZmZiAwMDAwMDAwMCBmZmZmZmZmZiBmZmZmZmZmZiBiY2U2ZmFhZCBhNzE3OWU4NCBmM2I5Y2FjMiBmYzYzMjU1MVwiLFxuICAgIGhhc2g6IHNpLnNoYTI1NixcbiAgICBnUmVkOiAhMSxcbiAgICBnOiBbXG4gICAgICBcIjZiMTdkMWYyIGUxMmM0MjQ3IGY4YmNlNmU1IDYzYTQ0MGYyIDc3MDM3ZDgxIDJkZWIzM2EwIGY0YTEzOTQ1IGQ4OThjMjk2XCIsXG4gICAgICBcIjRmZTM0MmUyIGZlMWE3ZjliIDhlZTdlYjRhIDdjMGY5ZTE2IDJiY2UzMzU3IDZiMzE1ZWNlIGNiYjY0MDY4IDM3YmY1MWY1XCJcbiAgICBdXG4gIH0pLCBzKFwicDM4NFwiLCB7XG4gICAgdHlwZTogXCJzaG9ydFwiLFxuICAgIHByaW1lOiBudWxsLFxuICAgIHA6IFwiZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmUgZmZmZmZmZmYgMDAwMDAwMDAgMDAwMDAwMDAgZmZmZmZmZmZcIixcbiAgICBhOiBcImZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZlIGZmZmZmZmZmIDAwMDAwMDAwIDAwMDAwMDAwIGZmZmZmZmZjXCIsXG4gICAgYjogXCJiMzMxMmZhNyBlMjNlZTdlNCA5ODhlMDU2YiBlM2Y4MmQxOSAxODFkOWM2ZSBmZTgxNDExMiAwMzE0MDg4ZiA1MDEzODc1YSBjNjU2Mzk4ZCA4YTJlZDE5ZCAyYTg1YzhlZCBkM2VjMmFlZlwiLFxuICAgIG46IFwiZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgYzc2MzRkODEgZjQzNzJkZGYgNTgxYTBkYjIgNDhiMGE3N2EgZWNlYzE5NmEgY2NjNTI5NzNcIixcbiAgICBoYXNoOiBzaS5zaGEzODQsXG4gICAgZ1JlZDogITEsXG4gICAgZzogW1xuICAgICAgXCJhYTg3Y2EyMiBiZThiMDUzNyA4ZWIxYzcxZSBmMzIwYWQ3NCA2ZTFkM2I2MiA4YmE3OWI5OCA1OWY3NDFlMCA4MjU0MmEzOCA1NTAyZjI1ZCBiZjU1Mjk2YyAzYTU0NWUzOCA3Mjc2MGFiN1wiLFxuICAgICAgXCIzNjE3ZGU0YSA5NjI2MmM2ZiA1ZDllOThiZiA5MjkyZGMyOSBmOGY0MWRiZCAyODlhMTQ3YyBlOWRhMzExMyBiNWYwYjhjMCAwYTYwYjFjZSAxZDdlODE5ZCA3YTQzMWQ3YyA5MGVhMGU1ZlwiXG4gICAgXVxuICB9KSwgcyhcInA1MjFcIiwge1xuICAgIHR5cGU6IFwic2hvcnRcIixcbiAgICBwcmltZTogbnVsbCxcbiAgICBwOiBcIjAwMDAwMWZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmXCIsXG4gICAgYTogXCIwMDAwMDFmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmY1wiLFxuICAgIGI6IFwiMDAwMDAwNTEgOTUzZWI5NjEgOGUxYzlhMWYgOTI5YTIxYTAgYjY4NTQwZWUgYTJkYTcyNWIgOTliMzE1ZjMgYjhiNDg5OTEgOGVmMTA5ZTEgNTYxOTM5NTEgZWM3ZTkzN2IgMTY1MmMwYmQgM2JiMWJmMDcgMzU3M2RmODggM2QyYzM0ZjEgZWY0NTFmZDQgNmI1MDNmMDBcIixcbiAgICBuOiBcIjAwMDAwMWZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZhIDUxODY4NzgzIGJmMmY5NjZiIDdmY2MwMTQ4IGY3MDlhNWQwIDNiYjVjOWI4IDg5OWM0N2FlIGJiNmZiNzFlIDkxMzg2NDA5XCIsXG4gICAgaGFzaDogc2kuc2hhNTEyLFxuICAgIGdSZWQ6ICExLFxuICAgIGc6IFtcbiAgICAgIFwiMDAwMDAwYzYgODU4ZTA2YjcgMDQwNGU5Y2QgOWUzZWNiNjYgMjM5NWI0NDIgOWM2NDgxMzkgMDUzZmI1MjEgZjgyOGFmNjAgNmI0ZDNkYmEgYTE0YjVlNzcgZWZlNzU5MjggZmUxZGMxMjcgYTJmZmE4ZGUgMzM0OGIzYzEgODU2YTQyOWIgZjk3ZTdlMzEgYzJlNWJkNjZcIixcbiAgICAgIFwiMDAwMDAxMTggMzkyOTZhNzggOWEzYmMwMDQgNWM4YTVmYjQgMmM3ZDFiZDkgOThmNTQ0NDkgNTc5YjQ0NjggMTdhZmJkMTcgMjczZTY2MmMgOTdlZTcyOTkgNWVmNDI2NDAgYzU1MGI5MDEgM2ZhZDA3NjEgMzUzYzcwODYgYTI3MmMyNDAgODhiZTk0NzYgOWZkMTY2NTBcIlxuICAgIF1cbiAgfSksIHMoXCJjdXJ2ZTI1NTE5XCIsIHtcbiAgICB0eXBlOiBcIm1vbnRcIixcbiAgICBwcmltZTogXCJwMjU1MTlcIixcbiAgICBwOiBcIjdmZmZmZmZmZmZmZmZmZmYgZmZmZmZmZmZmZmZmZmZmZiBmZmZmZmZmZmZmZmZmZmZmIGZmZmZmZmZmZmZmZmZmZWRcIixcbiAgICBhOiBcIjc2ZDA2XCIsXG4gICAgYjogXCIxXCIsXG4gICAgbjogXCIxMDAwMDAwMDAwMDAwMDAwIDAwMDAwMDAwMDAwMDAwMDAgMTRkZWY5ZGVhMmY3OWNkNiA1ODEyNjMxYTVjZjVkM2VkXCIsXG4gICAgaGFzaDogc2kuc2hhMjU2LFxuICAgIGdSZWQ6ICExLFxuICAgIGc6IFtcbiAgICAgIFwiOVwiXG4gICAgXVxuICB9KSwgcyhcImVkMjU1MTlcIiwge1xuICAgIHR5cGU6IFwiZWR3YXJkc1wiLFxuICAgIHByaW1lOiBcInAyNTUxOVwiLFxuICAgIHA6IFwiN2ZmZmZmZmZmZmZmZmZmZiBmZmZmZmZmZmZmZmZmZmZmIGZmZmZmZmZmZmZmZmZmZmYgZmZmZmZmZmZmZmZmZmZlZFwiLFxuICAgIGE6IFwiLTFcIixcbiAgICBjOiBcIjFcIixcbiAgICAvLyAtMTIxNjY1ICogKDEyMTY2Nl4oLTEpKSAobW9kIFApXG4gICAgZDogXCI1MjAzNmNlZTJiNmZmZTczIDhjYzc0MDc5Nzc3OWU4OTggMDA3MDBhNGQ0MTQxZDhhYiA3NWViNGRjYTEzNTk3OGEzXCIsXG4gICAgbjogXCIxMDAwMDAwMDAwMDAwMDAwIDAwMDAwMDAwMDAwMDAwMDAgMTRkZWY5ZGVhMmY3OWNkNiA1ODEyNjMxYTVjZjVkM2VkXCIsXG4gICAgaGFzaDogc2kuc2hhMjU2LFxuICAgIGdSZWQ6ICExLFxuICAgIGc6IFtcbiAgICAgIFwiMjE2OTM2ZDNjZDZlNTNmZWMwYTRlMjMxZmRkNmRjNWM2OTJjYzc2MDk1MjVhN2IyYzk1NjJkNjA4ZjI1ZDUxYVwiLFxuICAgICAgLy8gNC81XG4gICAgICBcIjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NThcIlxuICAgIF1cbiAgfSk7XG4gIHZhciBvO1xuICB0cnkge1xuICAgIG8gPSAvKlJpY01vbzpldGhlcnM6cmVxdWlyZSguL3ByZWNvbXB1dGVkL3NlY3AyNTZrMSkqL1xuICAgIG51bGwuY3Jhc2goKTtcbiAgfSBjYXRjaCB7XG4gICAgbyA9IHZvaWQgMDtcbiAgfVxuICBzKFwic2VjcDI1NmsxXCIsIHtcbiAgICB0eXBlOiBcInNob3J0XCIsXG4gICAgcHJpbWU6IFwiazI1NlwiLFxuICAgIHA6IFwiZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmUgZmZmZmZjMmZcIixcbiAgICBhOiBcIjBcIixcbiAgICBiOiBcIjdcIixcbiAgICBuOiBcImZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZlIGJhYWVkY2U2IGFmNDhhMDNiIGJmZDI1ZThjIGQwMzY0MTQxXCIsXG4gICAgaDogXCIxXCIsXG4gICAgaGFzaDogc2kuc2hhMjU2LFxuICAgIC8vIFByZWNvbXB1dGVkIGVuZG9tb3JwaGlzbVxuICAgIGJldGE6IFwiN2FlOTZhMmI2NTdjMDcxMDZlNjQ0NzllYWMzNDM0ZTk5Y2YwNDk3NTEyZjU4OTk1YzEzOTZjMjg3MTk1MDFlZVwiLFxuICAgIGxhbWJkYTogXCI1MzYzYWQ0Y2MwNWMzMGUwYTUyNjFjMDI4ODEyNjQ1YTEyMmUyMmVhMjA4MTY2NzhkZjAyOTY3YzFiMjNiZDcyXCIsXG4gICAgYmFzaXM6IFtcbiAgICAgIHtcbiAgICAgICAgYTogXCIzMDg2ZDIyMWE3ZDQ2YmNkZTg2YzkwZTQ5Mjg0ZWIxNVwiLFxuICAgICAgICBiOiBcIi1lNDQzN2VkNjAxMGU4ODI4NmY1NDdmYTkwYWJmZTRjM1wiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBhOiBcIjExNGNhNTBmN2E4ZTJmM2Y2NTdjMTEwOGQ5ZDQ0Y2ZkOFwiLFxuICAgICAgICBiOiBcIjMwODZkMjIxYTdkNDZiY2RlODZjOTBlNDkyODRlYjE1XCJcbiAgICAgIH1cbiAgICBdLFxuICAgIGdSZWQ6ICExLFxuICAgIGc6IFtcbiAgICAgIFwiNzliZTY2N2VmOWRjYmJhYzU1YTA2Mjk1Y2U4NzBiMDcwMjliZmNkYjJkY2UyOGQ5NTlmMjgxNWIxNmY4MTc5OFwiLFxuICAgICAgXCI0ODNhZGE3NzI2YTNjNDY1NWRhNGZiZmMwZTExMDhhOGZkMTdiNDQ4YTY4NTU0MTk5YzQ3ZDA4ZmZiMTBkNGI4XCIsXG4gICAgICBvXG4gICAgXVxuICB9KTtcbn0pO1xuZnVuY3Rpb24gX2kocikge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgX2kpKVxuICAgIHJldHVybiBuZXcgX2kocik7XG4gIHRoaXMuaGFzaCA9IHIuaGFzaCwgdGhpcy5wcmVkUmVzaXN0ID0gISFyLnByZWRSZXNpc3QsIHRoaXMub3V0TGVuID0gdGhpcy5oYXNoLm91dFNpemUsIHRoaXMubWluRW50cm9weSA9IHIubWluRW50cm9weSB8fCB0aGlzLmhhc2guaG1hY1N0cmVuZ3RoLCB0aGlzLl9yZXNlZWQgPSBudWxsLCB0aGlzLnJlc2VlZEludGVydmFsID0gbnVsbCwgdGhpcy5LID0gbnVsbCwgdGhpcy5WID0gbnVsbDtcbiAgdmFyIGUgPSBNci50b0FycmF5KHIuZW50cm9weSwgci5lbnRyb3B5RW5jIHx8IFwiaGV4XCIpLCB0ID0gTXIudG9BcnJheShyLm5vbmNlLCByLm5vbmNlRW5jIHx8IFwiaGV4XCIpLCBpID0gTXIudG9BcnJheShyLnBlcnMsIHIucGVyc0VuYyB8fCBcImhleFwiKTtcbiAgQm8oXG4gICAgZS5sZW5ndGggPj0gdGhpcy5taW5FbnRyb3B5IC8gOCxcbiAgICBcIk5vdCBlbm91Z2ggZW50cm9weS4gTWluaW11bSBpczogXCIgKyB0aGlzLm1pbkVudHJvcHkgKyBcIiBiaXRzXCJcbiAgKSwgdGhpcy5faW5pdChlLCB0LCBpKTtcbn1cbnZhciBMdSA9IF9pO1xuX2kucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oZSwgdCwgaSkge1xuICB2YXIgbiA9IGUuY29uY2F0KHQpLmNvbmNhdChpKTtcbiAgdGhpcy5LID0gbmV3IEFycmF5KHRoaXMub3V0TGVuIC8gOCksIHRoaXMuViA9IG5ldyBBcnJheSh0aGlzLm91dExlbiAvIDgpO1xuICBmb3IgKHZhciBzID0gMDsgcyA8IHRoaXMuVi5sZW5ndGg7IHMrKylcbiAgICB0aGlzLktbc10gPSAwLCB0aGlzLlZbc10gPSAxO1xuICB0aGlzLl91cGRhdGUobiksIHRoaXMuX3Jlc2VlZCA9IDEsIHRoaXMucmVzZWVkSW50ZXJ2YWwgPSAyODE0NzQ5NzY3MTA2NTY7XG59O1xuX2kucHJvdG90eXBlLl9obWFjID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgc2kuaG1hYyh0aGlzLmhhc2gsIHRoaXMuSyk7XG59O1xuX2kucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gdGhpcy5faG1hYygpLnVwZGF0ZSh0aGlzLlYpLnVwZGF0ZShbMF0pO1xuICBlICYmICh0ID0gdC51cGRhdGUoZSkpLCB0aGlzLksgPSB0LmRpZ2VzdCgpLCB0aGlzLlYgPSB0aGlzLl9obWFjKCkudXBkYXRlKHRoaXMuVikuZGlnZXN0KCksIGUgJiYgKHRoaXMuSyA9IHRoaXMuX2htYWMoKS51cGRhdGUodGhpcy5WKS51cGRhdGUoWzFdKS51cGRhdGUoZSkuZGlnZXN0KCksIHRoaXMuViA9IHRoaXMuX2htYWMoKS51cGRhdGUodGhpcy5WKS5kaWdlc3QoKSk7XG59O1xuX2kucHJvdG90eXBlLnJlc2VlZCA9IGZ1bmN0aW9uKGUsIHQsIGksIG4pIHtcbiAgdHlwZW9mIHQgIT0gXCJzdHJpbmdcIiAmJiAobiA9IGksIGkgPSB0LCB0ID0gbnVsbCksIGUgPSBNci50b0FycmF5KGUsIHQpLCBpID0gTXIudG9BcnJheShpLCBuKSwgQm8oXG4gICAgZS5sZW5ndGggPj0gdGhpcy5taW5FbnRyb3B5IC8gOCxcbiAgICBcIk5vdCBlbm91Z2ggZW50cm9weS4gTWluaW11bSBpczogXCIgKyB0aGlzLm1pbkVudHJvcHkgKyBcIiBiaXRzXCJcbiAgKSwgdGhpcy5fdXBkYXRlKGUuY29uY2F0KGkgfHwgW10pKSwgdGhpcy5fcmVzZWVkID0gMTtcbn07XG5faS5wcm90b3R5cGUuZ2VuZXJhdGUgPSBmdW5jdGlvbihlLCB0LCBpLCBuKSB7XG4gIGlmICh0aGlzLl9yZXNlZWQgPiB0aGlzLnJlc2VlZEludGVydmFsKVxuICAgIHRocm93IG5ldyBFcnJvcihcIlJlc2VlZCBpcyByZXF1aXJlZFwiKTtcbiAgdHlwZW9mIHQgIT0gXCJzdHJpbmdcIiAmJiAobiA9IGksIGkgPSB0LCB0ID0gbnVsbCksIGkgJiYgKGkgPSBNci50b0FycmF5KGksIG4gfHwgXCJoZXhcIiksIHRoaXMuX3VwZGF0ZShpKSk7XG4gIGZvciAodmFyIHMgPSBbXTsgcy5sZW5ndGggPCBlOyApXG4gICAgdGhpcy5WID0gdGhpcy5faG1hYygpLnVwZGF0ZSh0aGlzLlYpLmRpZ2VzdCgpLCBzID0gcy5jb25jYXQodGhpcy5WKTtcbiAgdmFyIG8gPSBzLnNsaWNlKDAsIGUpO1xuICByZXR1cm4gdGhpcy5fdXBkYXRlKGkpLCB0aGlzLl9yZXNlZWQrKywgTXIuZW5jb2RlKG8sIHQpO1xufTtcbnZhciB4byA9IHNyLmFzc2VydDtcbmZ1bmN0aW9uIHF0KHIsIGUpIHtcbiAgdGhpcy5lYyA9IHIsIHRoaXMucHJpdiA9IG51bGwsIHRoaXMucHViID0gbnVsbCwgZS5wcml2ICYmIHRoaXMuX2ltcG9ydFByaXZhdGUoZS5wcml2LCBlLnByaXZFbmMpLCBlLnB1YiAmJiB0aGlzLl9pbXBvcnRQdWJsaWMoZS5wdWIsIGUucHViRW5jKTtcbn1cbnZhciBqbyA9IHF0O1xucXQuZnJvbVB1YmxpYyA9IGZ1bmN0aW9uKGUsIHQsIGkpIHtcbiAgcmV0dXJuIHQgaW5zdGFuY2VvZiBxdCA/IHQgOiBuZXcgcXQoZSwge1xuICAgIHB1YjogdCxcbiAgICBwdWJFbmM6IGlcbiAgfSk7XG59O1xucXQuZnJvbVByaXZhdGUgPSBmdW5jdGlvbihlLCB0LCBpKSB7XG4gIHJldHVybiB0IGluc3RhbmNlb2YgcXQgPyB0IDogbmV3IHF0KGUsIHtcbiAgICBwcml2OiB0LFxuICAgIHByaXZFbmM6IGlcbiAgfSk7XG59O1xucXQucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBlID0gdGhpcy5nZXRQdWJsaWMoKTtcbiAgcmV0dXJuIGUuaXNJbmZpbml0eSgpID8geyByZXN1bHQ6ICExLCByZWFzb246IFwiSW52YWxpZCBwdWJsaWMga2V5XCIgfSA6IGUudmFsaWRhdGUoKSA/IGUubXVsKHRoaXMuZWMuY3VydmUubikuaXNJbmZpbml0eSgpID8geyByZXN1bHQ6ICEwLCByZWFzb246IG51bGwgfSA6IHsgcmVzdWx0OiAhMSwgcmVhc29uOiBcIlB1YmxpYyBrZXkgKiBOICE9IE9cIiB9IDogeyByZXN1bHQ6ICExLCByZWFzb246IFwiUHVibGljIGtleSBpcyBub3QgYSBwb2ludFwiIH07XG59O1xucXQucHJvdG90eXBlLmdldFB1YmxpYyA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgcmV0dXJuIHR5cGVvZiBlID09IFwic3RyaW5nXCIgJiYgKHQgPSBlLCBlID0gbnVsbCksIHRoaXMucHViIHx8ICh0aGlzLnB1YiA9IHRoaXMuZWMuZy5tdWwodGhpcy5wcml2KSksIHQgPyB0aGlzLnB1Yi5lbmNvZGUodCwgZSkgOiB0aGlzLnB1Yjtcbn07XG5xdC5wcm90b3R5cGUuZ2V0UHJpdmF0ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGUgPT09IFwiaGV4XCIgPyB0aGlzLnByaXYudG9TdHJpbmcoMTYsIDIpIDogdGhpcy5wcml2O1xufTtcbnF0LnByb3RvdHlwZS5faW1wb3J0UHJpdmF0ZSA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgdGhpcy5wcml2ID0gbmV3IEtlKGUsIHQgfHwgMTYpLCB0aGlzLnByaXYgPSB0aGlzLnByaXYudW1vZCh0aGlzLmVjLmN1cnZlLm4pO1xufTtcbnF0LnByb3RvdHlwZS5faW1wb3J0UHVibGljID0gZnVuY3Rpb24oZSwgdCkge1xuICBpZiAoZS54IHx8IGUueSkge1xuICAgIHRoaXMuZWMuY3VydmUudHlwZSA9PT0gXCJtb250XCIgPyB4byhlLngsIFwiTmVlZCB4IGNvb3JkaW5hdGVcIikgOiAodGhpcy5lYy5jdXJ2ZS50eXBlID09PSBcInNob3J0XCIgfHwgdGhpcy5lYy5jdXJ2ZS50eXBlID09PSBcImVkd2FyZHNcIikgJiYgeG8oZS54ICYmIGUueSwgXCJOZWVkIGJvdGggeCBhbmQgeSBjb29yZGluYXRlXCIpLCB0aGlzLnB1YiA9IHRoaXMuZWMuY3VydmUucG9pbnQoZS54LCBlLnkpO1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLnB1YiA9IHRoaXMuZWMuY3VydmUuZGVjb2RlUG9pbnQoZSwgdCk7XG59O1xucXQucHJvdG90eXBlLmRlcml2ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGUudmFsaWRhdGUoKSB8fCB4byhlLnZhbGlkYXRlKCksIFwicHVibGljIHBvaW50IG5vdCB2YWxpZGF0ZWRcIiksIGUubXVsKHRoaXMucHJpdikuZ2V0WCgpO1xufTtcbnF0LnByb3RvdHlwZS5zaWduID0gZnVuY3Rpb24oZSwgdCwgaSkge1xuICByZXR1cm4gdGhpcy5lYy5zaWduKGUsIHRoaXMsIHQsIGkpO1xufTtcbnF0LnByb3RvdHlwZS52ZXJpZnkgPSBmdW5jdGlvbihlLCB0KSB7XG4gIHJldHVybiB0aGlzLmVjLnZlcmlmeShlLCB0LCB0aGlzKTtcbn07XG5xdC5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gXCI8S2V5IHByaXY6IFwiICsgKHRoaXMucHJpdiAmJiB0aGlzLnByaXYudG9TdHJpbmcoMTYsIDIpKSArIFwiIHB1YjogXCIgKyAodGhpcy5wdWIgJiYgdGhpcy5wdWIuaW5zcGVjdCgpKSArIFwiID5cIjtcbn07XG52YXIgSWcgPSBzci5hc3NlcnQ7XG5mdW5jdGlvbiBsYShyLCBlKSB7XG4gIGlmIChyIGluc3RhbmNlb2YgbGEpXG4gICAgcmV0dXJuIHI7XG4gIHRoaXMuX2ltcG9ydERFUihyLCBlKSB8fCAoSWcoci5yICYmIHIucywgXCJTaWduYXR1cmUgd2l0aG91dCByIG9yIHNcIiksIHRoaXMuciA9IG5ldyBLZShyLnIsIDE2KSwgdGhpcy5zID0gbmV3IEtlKHIucywgMTYpLCByLnJlY292ZXJ5UGFyYW0gPT09IHZvaWQgMCA/IHRoaXMucmVjb3ZlcnlQYXJhbSA9IG51bGwgOiB0aGlzLnJlY292ZXJ5UGFyYW0gPSByLnJlY292ZXJ5UGFyYW0pO1xufVxudmFyIHBhID0gbGE7XG5mdW5jdGlvbiBBZygpIHtcbiAgdGhpcy5wbGFjZSA9IDA7XG59XG5mdW5jdGlvbiBWYShyLCBlKSB7XG4gIHZhciB0ID0gcltlLnBsYWNlKytdO1xuICBpZiAoISh0ICYgMTI4KSlcbiAgICByZXR1cm4gdDtcbiAgdmFyIGkgPSB0ICYgMTU7XG4gIGlmIChpID09PSAwIHx8IGkgPiA0KVxuICAgIHJldHVybiAhMTtcbiAgZm9yICh2YXIgbiA9IDAsIHMgPSAwLCBvID0gZS5wbGFjZTsgcyA8IGk7IHMrKywgbysrKVxuICAgIG4gPDw9IDgsIG4gfD0gcltvXSwgbiA+Pj49IDA7XG4gIHJldHVybiBuIDw9IDEyNyA/ICExIDogKGUucGxhY2UgPSBvLCBuKTtcbn1cbmZ1bmN0aW9uIGxjKHIpIHtcbiAgZm9yICh2YXIgZSA9IDAsIHQgPSByLmxlbmd0aCAtIDE7ICFyW2VdICYmICEocltlICsgMV0gJiAxMjgpICYmIGUgPCB0OyApXG4gICAgZSsrO1xuICByZXR1cm4gZSA9PT0gMCA/IHIgOiByLnNsaWNlKGUpO1xufVxubGEucHJvdG90eXBlLl9pbXBvcnRERVIgPSBmdW5jdGlvbihlLCB0KSB7XG4gIGUgPSBzci50b0FycmF5KGUsIHQpO1xuICB2YXIgaSA9IG5ldyBBZygpO1xuICBpZiAoZVtpLnBsYWNlKytdICE9PSA0OClcbiAgICByZXR1cm4gITE7XG4gIHZhciBuID0gVmEoZSwgaSk7XG4gIGlmIChuID09PSAhMSB8fCBuICsgaS5wbGFjZSAhPT0gZS5sZW5ndGggfHwgZVtpLnBsYWNlKytdICE9PSAyKVxuICAgIHJldHVybiAhMTtcbiAgdmFyIHMgPSBWYShlLCBpKTtcbiAgaWYgKHMgPT09ICExKVxuICAgIHJldHVybiAhMTtcbiAgdmFyIG8gPSBlLnNsaWNlKGkucGxhY2UsIHMgKyBpLnBsYWNlKTtcbiAgaWYgKGkucGxhY2UgKz0gcywgZVtpLnBsYWNlKytdICE9PSAyKVxuICAgIHJldHVybiAhMTtcbiAgdmFyIGYgPSBWYShlLCBpKTtcbiAgaWYgKGYgPT09ICExIHx8IGUubGVuZ3RoICE9PSBmICsgaS5wbGFjZSlcbiAgICByZXR1cm4gITE7XG4gIHZhciBoID0gZS5zbGljZShpLnBsYWNlLCBmICsgaS5wbGFjZSk7XG4gIGlmIChvWzBdID09PSAwKVxuICAgIGlmIChvWzFdICYgMTI4KVxuICAgICAgbyA9IG8uc2xpY2UoMSk7XG4gICAgZWxzZVxuICAgICAgcmV0dXJuICExO1xuICBpZiAoaFswXSA9PT0gMClcbiAgICBpZiAoaFsxXSAmIDEyOClcbiAgICAgIGggPSBoLnNsaWNlKDEpO1xuICAgIGVsc2VcbiAgICAgIHJldHVybiAhMTtcbiAgcmV0dXJuIHRoaXMuciA9IG5ldyBLZShvKSwgdGhpcy5zID0gbmV3IEtlKGgpLCB0aGlzLnJlY292ZXJ5UGFyYW0gPSBudWxsLCAhMDtcbn07XG5mdW5jdGlvbiBXYShyLCBlKSB7XG4gIGlmIChlIDwgMTI4KSB7XG4gICAgci5wdXNoKGUpO1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgdCA9IDEgKyAoTWF0aC5sb2coZSkgLyBNYXRoLkxOMiA+Pj4gMyk7XG4gIGZvciAoci5wdXNoKHQgfCAxMjgpOyAtLXQ7IClcbiAgICByLnB1c2goZSA+Pj4gKHQgPDwgMykgJiAyNTUpO1xuICByLnB1c2goZSk7XG59XG5sYS5wcm90b3R5cGUudG9ERVIgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gdGhpcy5yLnRvQXJyYXkoKSwgaSA9IHRoaXMucy50b0FycmF5KCk7XG4gIGZvciAodFswXSAmIDEyOCAmJiAodCA9IFswXS5jb25jYXQodCkpLCBpWzBdICYgMTI4ICYmIChpID0gWzBdLmNvbmNhdChpKSksIHQgPSBsYyh0KSwgaSA9IGxjKGkpOyAhaVswXSAmJiAhKGlbMV0gJiAxMjgpOyApXG4gICAgaSA9IGkuc2xpY2UoMSk7XG4gIHZhciBuID0gWzJdO1xuICBXYShuLCB0Lmxlbmd0aCksIG4gPSBuLmNvbmNhdCh0KSwgbi5wdXNoKDIpLCBXYShuLCBpLmxlbmd0aCk7XG4gIHZhciBzID0gbi5jb25jYXQoaSksIG8gPSBbNDhdO1xuICByZXR1cm4gV2Eobywgcy5sZW5ndGgpLCBvID0gby5jb25jYXQocyksIHNyLmVuY29kZShvLCBlKTtcbn07XG52YXIgRGcgPSAoXG4gIC8qUmljTW9vOmV0aGVyczpyZXF1aXJlKGJyb3JhbmQpKi9cbiAgZnVuY3Rpb24oKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidW5zdXBwb3J0ZWRcIik7XG4gIH1cbiksIEZ1ID0gc3IuYXNzZXJ0O1xuZnVuY3Rpb24gbHIocikge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgbHIpKVxuICAgIHJldHVybiBuZXcgbHIocik7XG4gIHR5cGVvZiByID09IFwic3RyaW5nXCIgJiYgKEZ1KFxuICAgIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChScywgciksXG4gICAgXCJVbmtub3duIGN1cnZlIFwiICsgclxuICApLCByID0gUnNbcl0pLCByIGluc3RhbmNlb2YgUnMuUHJlc2V0Q3VydmUgJiYgKHIgPSB7IGN1cnZlOiByIH0pLCB0aGlzLmN1cnZlID0gci5jdXJ2ZS5jdXJ2ZSwgdGhpcy5uID0gdGhpcy5jdXJ2ZS5uLCB0aGlzLm5oID0gdGhpcy5uLnVzaHJuKDEpLCB0aGlzLmcgPSB0aGlzLmN1cnZlLmcsIHRoaXMuZyA9IHIuY3VydmUuZywgdGhpcy5nLnByZWNvbXB1dGUoci5jdXJ2ZS5uLmJpdExlbmd0aCgpICsgMSksIHRoaXMuaGFzaCA9IHIuaGFzaCB8fCByLmN1cnZlLmhhc2g7XG59XG52YXIgUGcgPSBscjtcbmxyLnByb3RvdHlwZS5rZXlQYWlyID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gbmV3IGpvKHRoaXMsIGUpO1xufTtcbmxyLnByb3RvdHlwZS5rZXlGcm9tUHJpdmF0ZSA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgcmV0dXJuIGpvLmZyb21Qcml2YXRlKHRoaXMsIGUsIHQpO1xufTtcbmxyLnByb3RvdHlwZS5rZXlGcm9tUHVibGljID0gZnVuY3Rpb24oZSwgdCkge1xuICByZXR1cm4gam8uZnJvbVB1YmxpYyh0aGlzLCBlLCB0KTtcbn07XG5sci5wcm90b3R5cGUuZ2VuS2V5UGFpciA9IGZ1bmN0aW9uKGUpIHtcbiAgZSB8fCAoZSA9IHt9KTtcbiAgZm9yICh2YXIgdCA9IG5ldyBMdSh7XG4gICAgaGFzaDogdGhpcy5oYXNoLFxuICAgIHBlcnM6IGUucGVycyxcbiAgICBwZXJzRW5jOiBlLnBlcnNFbmMgfHwgXCJ1dGY4XCIsXG4gICAgZW50cm9weTogZS5lbnRyb3B5IHx8IERnKHRoaXMuaGFzaC5obWFjU3RyZW5ndGgpLFxuICAgIGVudHJvcHlFbmM6IGUuZW50cm9weSAmJiBlLmVudHJvcHlFbmMgfHwgXCJ1dGY4XCIsXG4gICAgbm9uY2U6IHRoaXMubi50b0FycmF5KClcbiAgfSksIGkgPSB0aGlzLm4uYnl0ZUxlbmd0aCgpLCBuID0gdGhpcy5uLnN1YihuZXcgS2UoMikpOyA7ICkge1xuICAgIHZhciBzID0gbmV3IEtlKHQuZ2VuZXJhdGUoaSkpO1xuICAgIGlmICghKHMuY21wKG4pID4gMCkpXG4gICAgICByZXR1cm4gcy5pYWRkbigxKSwgdGhpcy5rZXlGcm9tUHJpdmF0ZShzKTtcbiAgfVxufTtcbmxyLnByb3RvdHlwZS5fdHJ1bmNhdGVUb04gPSBmdW5jdGlvbihlLCB0KSB7XG4gIHZhciBpID0gZS5ieXRlTGVuZ3RoKCkgKiA4IC0gdGhpcy5uLmJpdExlbmd0aCgpO1xuICByZXR1cm4gaSA+IDAgJiYgKGUgPSBlLnVzaHJuKGkpKSwgIXQgJiYgZS5jbXAodGhpcy5uKSA+PSAwID8gZS5zdWIodGhpcy5uKSA6IGU7XG59O1xubHIucHJvdG90eXBlLnNpZ24gPSBmdW5jdGlvbihlLCB0LCBpLCBuKSB7XG4gIHR5cGVvZiBpID09IFwib2JqZWN0XCIgJiYgKG4gPSBpLCBpID0gbnVsbCksIG4gfHwgKG4gPSB7fSksIHQgPSB0aGlzLmtleUZyb21Qcml2YXRlKHQsIGkpLCBlID0gdGhpcy5fdHJ1bmNhdGVUb04obmV3IEtlKGUsIDE2KSk7XG4gIGZvciAodmFyIHMgPSB0aGlzLm4uYnl0ZUxlbmd0aCgpLCBvID0gdC5nZXRQcml2YXRlKCkudG9BcnJheShcImJlXCIsIHMpLCBmID0gZS50b0FycmF5KFwiYmVcIiwgcyksIGggPSBuZXcgTHUoe1xuICAgIGhhc2g6IHRoaXMuaGFzaCxcbiAgICBlbnRyb3B5OiBvLFxuICAgIG5vbmNlOiBmLFxuICAgIHBlcnM6IG4ucGVycyxcbiAgICBwZXJzRW5jOiBuLnBlcnNFbmMgfHwgXCJ1dGY4XCJcbiAgfSksIGQgPSB0aGlzLm4uc3ViKG5ldyBLZSgxKSksIHYgPSAwOyA7IHYrKykge1xuICAgIHZhciB3ID0gbi5rID8gbi5rKHYpIDogbmV3IEtlKGguZ2VuZXJhdGUodGhpcy5uLmJ5dGVMZW5ndGgoKSkpO1xuICAgIGlmICh3ID0gdGhpcy5fdHJ1bmNhdGVUb04odywgITApLCAhKHcuY21wbigxKSA8PSAwIHx8IHcuY21wKGQpID49IDApKSB7XG4gICAgICB2YXIgQSA9IHRoaXMuZy5tdWwodyk7XG4gICAgICBpZiAoIUEuaXNJbmZpbml0eSgpKSB7XG4gICAgICAgIHZhciBJID0gQS5nZXRYKCksIEQgPSBJLnVtb2QodGhpcy5uKTtcbiAgICAgICAgaWYgKEQuY21wbigwKSAhPT0gMCkge1xuICAgICAgICAgIHZhciBOID0gdy5pbnZtKHRoaXMubikubXVsKEQubXVsKHQuZ2V0UHJpdmF0ZSgpKS5pYWRkKGUpKTtcbiAgICAgICAgICBpZiAoTiA9IE4udW1vZCh0aGlzLm4pLCBOLmNtcG4oMCkgIT09IDApIHtcbiAgICAgICAgICAgIHZhciBrID0gKEEuZ2V0WSgpLmlzT2RkKCkgPyAxIDogMCkgfCAoSS5jbXAoRCkgIT09IDAgPyAyIDogMCk7XG4gICAgICAgICAgICByZXR1cm4gbi5jYW5vbmljYWwgJiYgTi5jbXAodGhpcy5uaCkgPiAwICYmIChOID0gdGhpcy5uLnN1YihOKSwgayBePSAxKSwgbmV3IHBhKHsgcjogRCwgczogTiwgcmVjb3ZlcnlQYXJhbTogayB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5sci5wcm90b3R5cGUudmVyaWZ5ID0gZnVuY3Rpb24oZSwgdCwgaSwgbikge1xuICBlID0gdGhpcy5fdHJ1bmNhdGVUb04obmV3IEtlKGUsIDE2KSksIGkgPSB0aGlzLmtleUZyb21QdWJsaWMoaSwgbiksIHQgPSBuZXcgcGEodCwgXCJoZXhcIik7XG4gIHZhciBzID0gdC5yLCBvID0gdC5zO1xuICBpZiAocy5jbXBuKDEpIDwgMCB8fCBzLmNtcCh0aGlzLm4pID49IDAgfHwgby5jbXBuKDEpIDwgMCB8fCBvLmNtcCh0aGlzLm4pID49IDApXG4gICAgcmV0dXJuICExO1xuICB2YXIgZiA9IG8uaW52bSh0aGlzLm4pLCBoID0gZi5tdWwoZSkudW1vZCh0aGlzLm4pLCBkID0gZi5tdWwocykudW1vZCh0aGlzLm4pLCB2O1xuICByZXR1cm4gdGhpcy5jdXJ2ZS5fbWF4d2VsbFRyaWNrID8gKHYgPSB0aGlzLmcuam11bEFkZChoLCBpLmdldFB1YmxpYygpLCBkKSwgdi5pc0luZmluaXR5KCkgPyAhMSA6IHYuZXFYVG9QKHMpKSA6ICh2ID0gdGhpcy5nLm11bEFkZChoLCBpLmdldFB1YmxpYygpLCBkKSwgdi5pc0luZmluaXR5KCkgPyAhMSA6IHYuZ2V0WCgpLnVtb2QodGhpcy5uKS5jbXAocykgPT09IDApO1xufTtcbmxyLnByb3RvdHlwZS5yZWNvdmVyUHViS2V5ID0gZnVuY3Rpb24ociwgZSwgdCwgaSkge1xuICBGdSgoMyAmIHQpID09PSB0LCBcIlRoZSByZWNvdmVyeSBwYXJhbSBpcyBtb3JlIHRoYW4gdHdvIGJpdHNcIiksIGUgPSBuZXcgcGEoZSwgaSk7XG4gIHZhciBuID0gdGhpcy5uLCBzID0gbmV3IEtlKHIpLCBvID0gZS5yLCBmID0gZS5zLCBoID0gdCAmIDEsIGQgPSB0ID4+IDE7XG4gIGlmIChvLmNtcCh0aGlzLmN1cnZlLnAudW1vZCh0aGlzLmN1cnZlLm4pKSA+PSAwICYmIGQpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgc2VuY29uZCBrZXkgY2FuZGluYXRlXCIpO1xuICBkID8gbyA9IHRoaXMuY3VydmUucG9pbnRGcm9tWChvLmFkZCh0aGlzLmN1cnZlLm4pLCBoKSA6IG8gPSB0aGlzLmN1cnZlLnBvaW50RnJvbVgobywgaCk7XG4gIHZhciB2ID0gZS5yLmludm0obiksIHcgPSBuLnN1YihzKS5tdWwodikudW1vZChuKSwgQSA9IGYubXVsKHYpLnVtb2Qobik7XG4gIHJldHVybiB0aGlzLmcubXVsQWRkKHcsIG8sIEEpO1xufTtcbmxyLnByb3RvdHlwZS5nZXRLZXlSZWNvdmVyeVBhcmFtID0gZnVuY3Rpb24ociwgZSwgdCwgaSkge1xuICBpZiAoZSA9IG5ldyBwYShlLCBpKSwgZS5yZWNvdmVyeVBhcmFtICE9PSBudWxsKVxuICAgIHJldHVybiBlLnJlY292ZXJ5UGFyYW07XG4gIGZvciAodmFyIG4gPSAwOyBuIDwgNDsgbisrKSB7XG4gICAgdmFyIHM7XG4gICAgdHJ5IHtcbiAgICAgIHMgPSB0aGlzLnJlY292ZXJQdWJLZXkociwgZSwgbik7XG4gICAgfSBjYXRjaCB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgaWYgKHMuZXEodCkpXG4gICAgICByZXR1cm4gbjtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZmluZCB2YWxpZCByZWNvdmVyeSBmYWN0b3JcIik7XG59O1xudmFyIE9nID0geG4oZnVuY3Rpb24ociwgZSkge1xuICB2YXIgdCA9IGU7XG4gIHQudmVyc2lvbiA9IFwiNi41LjRcIiwgdC51dGlscyA9IHNyLCB0LnJhbmQgPSAvKlJpY01vbzpldGhlcnM6cmVxdWlyZShicm9yYW5kKSovXG4gIGZ1bmN0aW9uKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInVuc3VwcG9ydGVkXCIpO1xuICB9LCB0LmN1cnZlID0gT3MsIHQuY3VydmVzID0gUnMsIHQuZWMgPSBQZywgdC5lZGRzYSA9IC8qUmljTW9vOmV0aGVyczpyZXF1aXJlKC4vZWxsaXB0aWMvZWRkc2EpKi9cbiAgbnVsbDtcbn0pLCBSZyA9IE9nLmVjO1xuY29uc3QgTmcgPSBcInNpZ25pbmcta2V5LzUuNy4wXCIsIEVvID0gbmV3IGh0KE5nKTtcbmxldCBHYSA9IG51bGw7XG5mdW5jdGlvbiBDcigpIHtcbiAgcmV0dXJuIEdhIHx8IChHYSA9IG5ldyBSZyhcInNlY3AyNTZrMVwiKSksIEdhO1xufVxuY2xhc3MgVGcge1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgVG4odGhpcywgXCJjdXJ2ZVwiLCBcInNlY3AyNTZrMVwiKSwgVG4odGhpcywgXCJwcml2YXRlS2V5XCIsIEp0KGUpKSwgcXYodGhpcy5wcml2YXRlS2V5KSAhPT0gMzIgJiYgRW8udGhyb3dBcmd1bWVudEVycm9yKFwiaW52YWxpZCBwcml2YXRlIGtleVwiLCBcInByaXZhdGVLZXlcIiwgXCJbWyBSRURBQ1RFRCBdXVwiKTtcbiAgICBjb25zdCB0ID0gQ3IoKS5rZXlGcm9tUHJpdmF0ZSh5dCh0aGlzLnByaXZhdGVLZXkpKTtcbiAgICBUbih0aGlzLCBcInB1YmxpY0tleVwiLCBcIjB4XCIgKyB0LmdldFB1YmxpYyghMSwgXCJoZXhcIikpLCBUbih0aGlzLCBcImNvbXByZXNzZWRQdWJsaWNLZXlcIiwgXCIweFwiICsgdC5nZXRQdWJsaWMoITAsIFwiaGV4XCIpKSwgVG4odGhpcywgXCJfaXNTaWduaW5nS2V5XCIsICEwKTtcbiAgfVxuICBfYWRkUG9pbnQoZSkge1xuICAgIGNvbnN0IHQgPSBDcigpLmtleUZyb21QdWJsaWMoeXQodGhpcy5wdWJsaWNLZXkpKSwgaSA9IENyKCkua2V5RnJvbVB1YmxpYyh5dChlKSk7XG4gICAgcmV0dXJuIFwiMHhcIiArIHQucHViLmFkZChpLnB1YikuZW5jb2RlQ29tcHJlc3NlZChcImhleFwiKTtcbiAgfVxuICBzaWduRGlnZXN0KGUpIHtcbiAgICBjb25zdCB0ID0gQ3IoKS5rZXlGcm9tUHJpdmF0ZSh5dCh0aGlzLnByaXZhdGVLZXkpKSwgaSA9IHl0KGUpO1xuICAgIGkubGVuZ3RoICE9PSAzMiAmJiBFby50aHJvd0FyZ3VtZW50RXJyb3IoXCJiYWQgZGlnZXN0IGxlbmd0aFwiLCBcImRpZ2VzdFwiLCBlKTtcbiAgICBjb25zdCBuID0gdC5zaWduKGksIHsgY2Fub25pY2FsOiAhMCB9KTtcbiAgICByZXR1cm4gdnUoe1xuICAgICAgcmVjb3ZlcnlQYXJhbTogbi5yZWNvdmVyeVBhcmFtLFxuICAgICAgcjogaG4oXCIweFwiICsgbi5yLnRvU3RyaW5nKDE2KSwgMzIpLFxuICAgICAgczogaG4oXCIweFwiICsgbi5zLnRvU3RyaW5nKDE2KSwgMzIpXG4gICAgfSk7XG4gIH1cbiAgY29tcHV0ZVNoYXJlZFNlY3JldChlKSB7XG4gICAgY29uc3QgdCA9IENyKCkua2V5RnJvbVByaXZhdGUoeXQodGhpcy5wcml2YXRlS2V5KSksIGkgPSBDcigpLmtleUZyb21QdWJsaWMoeXQocXUoZSkpKTtcbiAgICByZXR1cm4gaG4oXCIweFwiICsgdC5kZXJpdmUoaS5nZXRQdWJsaWMoKSkudG9TdHJpbmcoMTYpLCAzMik7XG4gIH1cbiAgc3RhdGljIGlzU2lnbmluZ0tleShlKSB7XG4gICAgcmV0dXJuICEhKGUgJiYgZS5faXNTaWduaW5nS2V5KTtcbiAgfVxufVxuZnVuY3Rpb24gQ2cociwgZSkge1xuICBjb25zdCB0ID0gdnUoZSksIGkgPSB7IHI6IHl0KHQuciksIHM6IHl0KHQucykgfTtcbiAgcmV0dXJuIFwiMHhcIiArIENyKCkucmVjb3ZlclB1YktleSh5dChyKSwgaSwgdC5yZWNvdmVyeVBhcmFtKS5lbmNvZGUoXCJoZXhcIiwgITEpO1xufVxuZnVuY3Rpb24gcXUociwgZSkge1xuICBjb25zdCB0ID0geXQocik7XG4gIGlmICh0Lmxlbmd0aCA9PT0gMzIpIHtcbiAgICBjb25zdCBpID0gbmV3IFRnKHQpO1xuICAgIHJldHVybiBlID8gXCIweFwiICsgQ3IoKS5rZXlGcm9tUHJpdmF0ZSh0KS5nZXRQdWJsaWMoITAsIFwiaGV4XCIpIDogaS5wdWJsaWNLZXk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHQubGVuZ3RoID09PSAzMylcbiAgICAgIHJldHVybiBlID8gSnQodCkgOiBcIjB4XCIgKyBDcigpLmtleUZyb21QdWJsaWModCkuZ2V0UHVibGljKCExLCBcImhleFwiKTtcbiAgICBpZiAodC5sZW5ndGggPT09IDY1KVxuICAgICAgcmV0dXJuIGUgPyBcIjB4XCIgKyBDcigpLmtleUZyb21QdWJsaWModCkuZ2V0UHVibGljKCEwLCBcImhleFwiKSA6IEp0KHQpO1xuICB9XG4gIHJldHVybiBFby50aHJvd0FyZ3VtZW50RXJyb3IoXCJpbnZhbGlkIHB1YmxpYyBvciBwcml2YXRlIGtleVwiLCBcImtleVwiLCBcIltSRURBQ1RFRF1cIik7XG59XG52YXIgcGM7XG4oZnVuY3Rpb24ocikge1xuICByW3IubGVnYWN5ID0gMF0gPSBcImxlZ2FjeVwiLCByW3IuZWlwMjkzMCA9IDFdID0gXCJlaXAyOTMwXCIsIHJbci5laXAxNTU5ID0gMl0gPSBcImVpcDE1NTlcIjtcbn0pKHBjIHx8IChwYyA9IHt9KSk7XG5mdW5jdGlvbiAkZyhyKSB7XG4gIGNvbnN0IGUgPSBxdShyKTtcbiAgcmV0dXJuIEp2KHNjKHFvKHNjKGUsIDEpKSwgMTIpKTtcbn1cbmZ1bmN0aW9uIExnKHIsIGUpIHtcbiAgcmV0dXJuICRnKENnKHl0KHIpLCBlKSk7XG59XG52YXIgS28gPSB7fSwgdmEgPSB7fTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh2YSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xudmFyIEZ0ID0gVmUsIFNvID0gbnIsIEZnID0gMjA7XG5mdW5jdGlvbiBxZyhyLCBlLCB0KSB7XG4gIGZvciAodmFyIGkgPSAxNjM0NzYwODA1LCBuID0gODU3NzYwODc4LCBzID0gMjAzNjQ3NzIzNCwgbyA9IDE3OTcyODUyMzYsIGYgPSB0WzNdIDw8IDI0IHwgdFsyXSA8PCAxNiB8IHRbMV0gPDwgOCB8IHRbMF0sIGggPSB0WzddIDw8IDI0IHwgdFs2XSA8PCAxNiB8IHRbNV0gPDwgOCB8IHRbNF0sIGQgPSB0WzExXSA8PCAyNCB8IHRbMTBdIDw8IDE2IHwgdFs5XSA8PCA4IHwgdFs4XSwgdiA9IHRbMTVdIDw8IDI0IHwgdFsxNF0gPDwgMTYgfCB0WzEzXSA8PCA4IHwgdFsxMl0sIHcgPSB0WzE5XSA8PCAyNCB8IHRbMThdIDw8IDE2IHwgdFsxN10gPDwgOCB8IHRbMTZdLCBBID0gdFsyM10gPDwgMjQgfCB0WzIyXSA8PCAxNiB8IHRbMjFdIDw8IDggfCB0WzIwXSwgSSA9IHRbMjddIDw8IDI0IHwgdFsyNl0gPDwgMTYgfCB0WzI1XSA8PCA4IHwgdFsyNF0sIEQgPSB0WzMxXSA8PCAyNCB8IHRbMzBdIDw8IDE2IHwgdFsyOV0gPDwgOCB8IHRbMjhdLCBOID0gZVszXSA8PCAyNCB8IGVbMl0gPDwgMTYgfCBlWzFdIDw8IDggfCBlWzBdLCBrID0gZVs3XSA8PCAyNCB8IGVbNl0gPDwgMTYgfCBlWzVdIDw8IDggfCBlWzRdLCBqID0gZVsxMV0gPDwgMjQgfCBlWzEwXSA8PCAxNiB8IGVbOV0gPDwgOCB8IGVbOF0sIFQgPSBlWzE1XSA8PCAyNCB8IGVbMTRdIDw8IDE2IHwgZVsxM10gPDwgOCB8IGVbMTJdLCBLID0gaSwgJCA9IG4sIHogPSBzLCBCID0gbywgXyA9IGYsIFIgPSBoLCBKID0gZCwgUSA9IHYsIE8gPSB3LCBwID0gQSwgbCA9IEksIGEgPSBELCBjID0gTiwgYiA9IGssIEUgPSBqLCBTID0gVCwgeCA9IDA7IHggPCBGZzsgeCArPSAyKVxuICAgIEsgPSBLICsgXyB8IDAsIGMgXj0gSywgYyA9IGMgPj4+IDMyIC0gMTYgfCBjIDw8IDE2LCBPID0gTyArIGMgfCAwLCBfIF49IE8sIF8gPSBfID4+PiAzMiAtIDEyIHwgXyA8PCAxMiwgJCA9ICQgKyBSIHwgMCwgYiBePSAkLCBiID0gYiA+Pj4gMzIgLSAxNiB8IGIgPDwgMTYsIHAgPSBwICsgYiB8IDAsIFIgXj0gcCwgUiA9IFIgPj4+IDMyIC0gMTIgfCBSIDw8IDEyLCB6ID0geiArIEogfCAwLCBFIF49IHosIEUgPSBFID4+PiAzMiAtIDE2IHwgRSA8PCAxNiwgbCA9IGwgKyBFIHwgMCwgSiBePSBsLCBKID0gSiA+Pj4gMzIgLSAxMiB8IEogPDwgMTIsIEIgPSBCICsgUSB8IDAsIFMgXj0gQiwgUyA9IFMgPj4+IDMyIC0gMTYgfCBTIDw8IDE2LCBhID0gYSArIFMgfCAwLCBRIF49IGEsIFEgPSBRID4+PiAzMiAtIDEyIHwgUSA8PCAxMiwgeiA9IHogKyBKIHwgMCwgRSBePSB6LCBFID0gRSA+Pj4gMzIgLSA4IHwgRSA8PCA4LCBsID0gbCArIEUgfCAwLCBKIF49IGwsIEogPSBKID4+PiAzMiAtIDcgfCBKIDw8IDcsIEIgPSBCICsgUSB8IDAsIFMgXj0gQiwgUyA9IFMgPj4+IDMyIC0gOCB8IFMgPDwgOCwgYSA9IGEgKyBTIHwgMCwgUSBePSBhLCBRID0gUSA+Pj4gMzIgLSA3IHwgUSA8PCA3LCAkID0gJCArIFIgfCAwLCBiIF49ICQsIGIgPSBiID4+PiAzMiAtIDggfCBiIDw8IDgsIHAgPSBwICsgYiB8IDAsIFIgXj0gcCwgUiA9IFIgPj4+IDMyIC0gNyB8IFIgPDwgNywgSyA9IEsgKyBfIHwgMCwgYyBePSBLLCBjID0gYyA+Pj4gMzIgLSA4IHwgYyA8PCA4LCBPID0gTyArIGMgfCAwLCBfIF49IE8sIF8gPSBfID4+PiAzMiAtIDcgfCBfIDw8IDcsIEsgPSBLICsgUiB8IDAsIFMgXj0gSywgUyA9IFMgPj4+IDMyIC0gMTYgfCBTIDw8IDE2LCBsID0gbCArIFMgfCAwLCBSIF49IGwsIFIgPSBSID4+PiAzMiAtIDEyIHwgUiA8PCAxMiwgJCA9ICQgKyBKIHwgMCwgYyBePSAkLCBjID0gYyA+Pj4gMzIgLSAxNiB8IGMgPDwgMTYsIGEgPSBhICsgYyB8IDAsIEogXj0gYSwgSiA9IEogPj4+IDMyIC0gMTIgfCBKIDw8IDEyLCB6ID0geiArIFEgfCAwLCBiIF49IHosIGIgPSBiID4+PiAzMiAtIDE2IHwgYiA8PCAxNiwgTyA9IE8gKyBiIHwgMCwgUSBePSBPLCBRID0gUSA+Pj4gMzIgLSAxMiB8IFEgPDwgMTIsIEIgPSBCICsgXyB8IDAsIEUgXj0gQiwgRSA9IEUgPj4+IDMyIC0gMTYgfCBFIDw8IDE2LCBwID0gcCArIEUgfCAwLCBfIF49IHAsIF8gPSBfID4+PiAzMiAtIDEyIHwgXyA8PCAxMiwgeiA9IHogKyBRIHwgMCwgYiBePSB6LCBiID0gYiA+Pj4gMzIgLSA4IHwgYiA8PCA4LCBPID0gTyArIGIgfCAwLCBRIF49IE8sIFEgPSBRID4+PiAzMiAtIDcgfCBRIDw8IDcsIEIgPSBCICsgXyB8IDAsIEUgXj0gQiwgRSA9IEUgPj4+IDMyIC0gOCB8IEUgPDwgOCwgcCA9IHAgKyBFIHwgMCwgXyBePSBwLCBfID0gXyA+Pj4gMzIgLSA3IHwgXyA8PCA3LCAkID0gJCArIEogfCAwLCBjIF49ICQsIGMgPSBjID4+PiAzMiAtIDggfCBjIDw8IDgsIGEgPSBhICsgYyB8IDAsIEogXj0gYSwgSiA9IEogPj4+IDMyIC0gNyB8IEogPDwgNywgSyA9IEsgKyBSIHwgMCwgUyBePSBLLCBTID0gUyA+Pj4gMzIgLSA4IHwgUyA8PCA4LCBsID0gbCArIFMgfCAwLCBSIF49IGwsIFIgPSBSID4+PiAzMiAtIDcgfCBSIDw8IDc7XG4gIEZ0LndyaXRlVWludDMyTEUoSyArIGkgfCAwLCByLCAwKSwgRnQud3JpdGVVaW50MzJMRSgkICsgbiB8IDAsIHIsIDQpLCBGdC53cml0ZVVpbnQzMkxFKHogKyBzIHwgMCwgciwgOCksIEZ0LndyaXRlVWludDMyTEUoQiArIG8gfCAwLCByLCAxMiksIEZ0LndyaXRlVWludDMyTEUoXyArIGYgfCAwLCByLCAxNiksIEZ0LndyaXRlVWludDMyTEUoUiArIGggfCAwLCByLCAyMCksIEZ0LndyaXRlVWludDMyTEUoSiArIGQgfCAwLCByLCAyNCksIEZ0LndyaXRlVWludDMyTEUoUSArIHYgfCAwLCByLCAyOCksIEZ0LndyaXRlVWludDMyTEUoTyArIHcgfCAwLCByLCAzMiksIEZ0LndyaXRlVWludDMyTEUocCArIEEgfCAwLCByLCAzNiksIEZ0LndyaXRlVWludDMyTEUobCArIEkgfCAwLCByLCA0MCksIEZ0LndyaXRlVWludDMyTEUoYSArIEQgfCAwLCByLCA0NCksIEZ0LndyaXRlVWludDMyTEUoYyArIE4gfCAwLCByLCA0OCksIEZ0LndyaXRlVWludDMyTEUoYiArIGsgfCAwLCByLCA1MiksIEZ0LndyaXRlVWludDMyTEUoRSArIGogfCAwLCByLCA1NiksIEZ0LndyaXRlVWludDMyTEUoUyArIFQgfCAwLCByLCA2MCk7XG59XG5mdW5jdGlvbiBVdShyLCBlLCB0LCBpLCBuKSB7XG4gIGlmIChuID09PSB2b2lkIDAgJiYgKG4gPSAwKSwgci5sZW5ndGggIT09IDMyKVxuICAgIHRocm93IG5ldyBFcnJvcihcIkNoYUNoYToga2V5IHNpemUgbXVzdCBiZSAzMiBieXRlc1wiKTtcbiAgaWYgKGkubGVuZ3RoIDwgdC5sZW5ndGgpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ2hhQ2hhOiBkZXN0aW5hdGlvbiBpcyBzaG9ydGVyIHRoYW4gc291cmNlXCIpO1xuICB2YXIgcywgbztcbiAgaWYgKG4gPT09IDApIHtcbiAgICBpZiAoZS5sZW5ndGggIT09IDggJiYgZS5sZW5ndGggIT09IDEyKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2hhQ2hhIG5vbmNlIG11c3QgYmUgOCBvciAxMiBieXRlc1wiKTtcbiAgICBzID0gbmV3IFVpbnQ4QXJyYXkoMTYpLCBvID0gcy5sZW5ndGggLSBlLmxlbmd0aCwgcy5zZXQoZSwgbyk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGUubGVuZ3RoICE9PSAxNilcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNoYUNoYSBub25jZSB3aXRoIGNvdW50ZXIgbXVzdCBiZSAxNiBieXRlc1wiKTtcbiAgICBzID0gZSwgbyA9IG47XG4gIH1cbiAgZm9yICh2YXIgZiA9IG5ldyBVaW50OEFycmF5KDY0KSwgaCA9IDA7IGggPCB0Lmxlbmd0aDsgaCArPSA2NCkge1xuICAgIHFnKGYsIHMsIHIpO1xuICAgIGZvciAodmFyIGQgPSBoOyBkIDwgaCArIDY0ICYmIGQgPCB0Lmxlbmd0aDsgZCsrKVxuICAgICAgaVtkXSA9IHRbZF0gXiBmW2QgLSBoXTtcbiAgICB6ZyhzLCAwLCBvKTtcbiAgfVxuICByZXR1cm4gU28ud2lwZShmKSwgbiA9PT0gMCAmJiBTby53aXBlKHMpLCBpO1xufVxudmEuc3RyZWFtWE9SID0gVXU7XG5mdW5jdGlvbiBVZyhyLCBlLCB0LCBpKSB7XG4gIHJldHVybiBpID09PSB2b2lkIDAgJiYgKGkgPSAwKSwgU28ud2lwZSh0KSwgVXUociwgZSwgdCwgdCwgaSk7XG59XG52YS5zdHJlYW0gPSBVZztcbmZ1bmN0aW9uIHpnKHIsIGUsIHQpIHtcbiAgZm9yICh2YXIgaSA9IDE7IHQtLTsgKVxuICAgIGkgPSBpICsgKHJbZV0gJiAyNTUpIHwgMCwgcltlXSA9IGkgJiAyNTUsIGkgPj4+PSA4LCBlKys7XG4gIGlmIChpID4gMClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDaGFDaGE6IGNvdW50ZXIgb3ZlcmZsb3dcIik7XG59XG52YXIgenUgPSB7fSwgTWkgPSB7fTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShNaSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuZnVuY3Rpb24gQmcociwgZSwgdCkge1xuICByZXR1cm4gfihyIC0gMSkgJiBlIHwgciAtIDEgJiB0O1xufVxuTWkuc2VsZWN0ID0gQmc7XG5mdW5jdGlvbiBrZyhyLCBlKSB7XG4gIHJldHVybiAociB8IDApIC0gKGUgfCAwKSAtIDEgPj4+IDMxICYgMTtcbn1cbk1pLmxlc3NPckVxdWFsID0ga2c7XG5mdW5jdGlvbiBCdShyLCBlKSB7XG4gIGlmIChyLmxlbmd0aCAhPT0gZS5sZW5ndGgpXG4gICAgcmV0dXJuIDA7XG4gIGZvciAodmFyIHQgPSAwLCBpID0gMDsgaSA8IHIubGVuZ3RoOyBpKyspXG4gICAgdCB8PSByW2ldIF4gZVtpXTtcbiAgcmV0dXJuIDEgJiB0IC0gMSA+Pj4gODtcbn1cbk1pLmNvbXBhcmUgPSBCdTtcbmZ1bmN0aW9uIGpnKHIsIGUpIHtcbiAgcmV0dXJuIHIubGVuZ3RoID09PSAwIHx8IGUubGVuZ3RoID09PSAwID8gITEgOiBCdShyLCBlKSAhPT0gMDtcbn1cbk1pLmVxdWFsID0gamc7XG4oZnVuY3Rpb24ocikge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkociwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xuICB2YXIgZSA9IE1pLCB0ID0gbnI7XG4gIHIuRElHRVNUX0xFTkdUSCA9IDE2O1xuICB2YXIgaSA9IChcbiAgICAvKiogQGNsYXNzICovXG4gICAgZnVuY3Rpb24oKSB7XG4gICAgICBmdW5jdGlvbiBvKGYpIHtcbiAgICAgICAgdGhpcy5kaWdlc3RMZW5ndGggPSByLkRJR0VTVF9MRU5HVEgsIHRoaXMuX2J1ZmZlciA9IG5ldyBVaW50OEFycmF5KDE2KSwgdGhpcy5fciA9IG5ldyBVaW50MTZBcnJheSgxMCksIHRoaXMuX2ggPSBuZXcgVWludDE2QXJyYXkoMTApLCB0aGlzLl9wYWQgPSBuZXcgVWludDE2QXJyYXkoOCksIHRoaXMuX2xlZnRvdmVyID0gMCwgdGhpcy5fZmluID0gMCwgdGhpcy5fZmluaXNoZWQgPSAhMTtcbiAgICAgICAgdmFyIGggPSBmWzBdIHwgZlsxXSA8PCA4O1xuICAgICAgICB0aGlzLl9yWzBdID0gaCAmIDgxOTE7XG4gICAgICAgIHZhciBkID0gZlsyXSB8IGZbM10gPDwgODtcbiAgICAgICAgdGhpcy5fclsxXSA9IChoID4+PiAxMyB8IGQgPDwgMykgJiA4MTkxO1xuICAgICAgICB2YXIgdiA9IGZbNF0gfCBmWzVdIDw8IDg7XG4gICAgICAgIHRoaXMuX3JbMl0gPSAoZCA+Pj4gMTAgfCB2IDw8IDYpICYgNzkzOTtcbiAgICAgICAgdmFyIHcgPSBmWzZdIHwgZls3XSA8PCA4O1xuICAgICAgICB0aGlzLl9yWzNdID0gKHYgPj4+IDcgfCB3IDw8IDkpICYgODE5MTtcbiAgICAgICAgdmFyIEEgPSBmWzhdIHwgZls5XSA8PCA4O1xuICAgICAgICB0aGlzLl9yWzRdID0gKHcgPj4+IDQgfCBBIDw8IDEyKSAmIDI1NSwgdGhpcy5fcls1XSA9IEEgPj4+IDEgJiA4MTkwO1xuICAgICAgICB2YXIgSSA9IGZbMTBdIHwgZlsxMV0gPDwgODtcbiAgICAgICAgdGhpcy5fcls2XSA9IChBID4+PiAxNCB8IEkgPDwgMikgJiA4MTkxO1xuICAgICAgICB2YXIgRCA9IGZbMTJdIHwgZlsxM10gPDwgODtcbiAgICAgICAgdGhpcy5fcls3XSA9IChJID4+PiAxMSB8IEQgPDwgNSkgJiA4MDY1O1xuICAgICAgICB2YXIgTiA9IGZbMTRdIHwgZlsxNV0gPDwgODtcbiAgICAgICAgdGhpcy5fcls4XSA9IChEID4+PiA4IHwgTiA8PCA4KSAmIDgxOTEsIHRoaXMuX3JbOV0gPSBOID4+PiA1ICYgMTI3LCB0aGlzLl9wYWRbMF0gPSBmWzE2XSB8IGZbMTddIDw8IDgsIHRoaXMuX3BhZFsxXSA9IGZbMThdIHwgZlsxOV0gPDwgOCwgdGhpcy5fcGFkWzJdID0gZlsyMF0gfCBmWzIxXSA8PCA4LCB0aGlzLl9wYWRbM10gPSBmWzIyXSB8IGZbMjNdIDw8IDgsIHRoaXMuX3BhZFs0XSA9IGZbMjRdIHwgZlsyNV0gPDwgOCwgdGhpcy5fcGFkWzVdID0gZlsyNl0gfCBmWzI3XSA8PCA4LCB0aGlzLl9wYWRbNl0gPSBmWzI4XSB8IGZbMjldIDw8IDgsIHRoaXMuX3BhZFs3XSA9IGZbMzBdIHwgZlszMV0gPDwgODtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvLnByb3RvdHlwZS5fYmxvY2tzID0gZnVuY3Rpb24oZiwgaCwgZCkge1xuICAgICAgICBmb3IgKHZhciB2ID0gdGhpcy5fZmluID8gMCA6IDIwNDgsIHcgPSB0aGlzLl9oWzBdLCBBID0gdGhpcy5faFsxXSwgSSA9IHRoaXMuX2hbMl0sIEQgPSB0aGlzLl9oWzNdLCBOID0gdGhpcy5faFs0XSwgayA9IHRoaXMuX2hbNV0sIGogPSB0aGlzLl9oWzZdLCBUID0gdGhpcy5faFs3XSwgSyA9IHRoaXMuX2hbOF0sICQgPSB0aGlzLl9oWzldLCB6ID0gdGhpcy5fclswXSwgQiA9IHRoaXMuX3JbMV0sIF8gPSB0aGlzLl9yWzJdLCBSID0gdGhpcy5fclszXSwgSiA9IHRoaXMuX3JbNF0sIFEgPSB0aGlzLl9yWzVdLCBPID0gdGhpcy5fcls2XSwgcCA9IHRoaXMuX3JbN10sIGwgPSB0aGlzLl9yWzhdLCBhID0gdGhpcy5fcls5XTsgZCA+PSAxNjsgKSB7XG4gICAgICAgICAgdmFyIGMgPSBmW2ggKyAwXSB8IGZbaCArIDFdIDw8IDg7XG4gICAgICAgICAgdyArPSBjICYgODE5MTtcbiAgICAgICAgICB2YXIgYiA9IGZbaCArIDJdIHwgZltoICsgM10gPDwgODtcbiAgICAgICAgICBBICs9IChjID4+PiAxMyB8IGIgPDwgMykgJiA4MTkxO1xuICAgICAgICAgIHZhciBFID0gZltoICsgNF0gfCBmW2ggKyA1XSA8PCA4O1xuICAgICAgICAgIEkgKz0gKGIgPj4+IDEwIHwgRSA8PCA2KSAmIDgxOTE7XG4gICAgICAgICAgdmFyIFMgPSBmW2ggKyA2XSB8IGZbaCArIDddIDw8IDg7XG4gICAgICAgICAgRCArPSAoRSA+Pj4gNyB8IFMgPDwgOSkgJiA4MTkxO1xuICAgICAgICAgIHZhciB4ID0gZltoICsgOF0gfCBmW2ggKyA5XSA8PCA4O1xuICAgICAgICAgIE4gKz0gKFMgPj4+IDQgfCB4IDw8IDEyKSAmIDgxOTEsIGsgKz0geCA+Pj4gMSAmIDgxOTE7XG4gICAgICAgICAgdmFyIHUgPSBmW2ggKyAxMF0gfCBmW2ggKyAxMV0gPDwgODtcbiAgICAgICAgICBqICs9ICh4ID4+PiAxNCB8IHUgPDwgMikgJiA4MTkxO1xuICAgICAgICAgIHZhciBtID0gZltoICsgMTJdIHwgZltoICsgMTNdIDw8IDg7XG4gICAgICAgICAgVCArPSAodSA+Pj4gMTEgfCBtIDw8IDUpICYgODE5MTtcbiAgICAgICAgICB2YXIgZyA9IGZbaCArIDE0XSB8IGZbaCArIDE1XSA8PCA4O1xuICAgICAgICAgIEsgKz0gKG0gPj4+IDggfCBnIDw8IDgpICYgODE5MSwgJCArPSBnID4+PiA1IHwgdjtcbiAgICAgICAgICB2YXIgUCA9IDAsIEcgPSBQO1xuICAgICAgICAgIEcgKz0gdyAqIHosIEcgKz0gQSAqICg1ICogYSksIEcgKz0gSSAqICg1ICogbCksIEcgKz0gRCAqICg1ICogcCksIEcgKz0gTiAqICg1ICogTyksIFAgPSBHID4+PiAxMywgRyAmPSA4MTkxLCBHICs9IGsgKiAoNSAqIFEpLCBHICs9IGogKiAoNSAqIEopLCBHICs9IFQgKiAoNSAqIFIpLCBHICs9IEsgKiAoNSAqIF8pLCBHICs9ICQgKiAoNSAqIEIpLCBQICs9IEcgPj4+IDEzLCBHICY9IDgxOTE7XG4gICAgICAgICAgdmFyIE0gPSBQO1xuICAgICAgICAgIE0gKz0gdyAqIEIsIE0gKz0gQSAqIHosIE0gKz0gSSAqICg1ICogYSksIE0gKz0gRCAqICg1ICogbCksIE0gKz0gTiAqICg1ICogcCksIFAgPSBNID4+PiAxMywgTSAmPSA4MTkxLCBNICs9IGsgKiAoNSAqIE8pLCBNICs9IGogKiAoNSAqIFEpLCBNICs9IFQgKiAoNSAqIEopLCBNICs9IEsgKiAoNSAqIFIpLCBNICs9ICQgKiAoNSAqIF8pLCBQICs9IE0gPj4+IDEzLCBNICY9IDgxOTE7XG4gICAgICAgICAgdmFyIEggPSBQO1xuICAgICAgICAgIEggKz0gdyAqIF8sIEggKz0gQSAqIEIsIEggKz0gSSAqIHosIEggKz0gRCAqICg1ICogYSksIEggKz0gTiAqICg1ICogbCksIFAgPSBIID4+PiAxMywgSCAmPSA4MTkxLCBIICs9IGsgKiAoNSAqIHApLCBIICs9IGogKiAoNSAqIE8pLCBIICs9IFQgKiAoNSAqIFEpLCBIICs9IEsgKiAoNSAqIEopLCBIICs9ICQgKiAoNSAqIFIpLCBQICs9IEggPj4+IDEzLCBIICY9IDgxOTE7XG4gICAgICAgICAgdmFyIEMgPSBQO1xuICAgICAgICAgIEMgKz0gdyAqIFIsIEMgKz0gQSAqIF8sIEMgKz0gSSAqIEIsIEMgKz0gRCAqIHosIEMgKz0gTiAqICg1ICogYSksIFAgPSBDID4+PiAxMywgQyAmPSA4MTkxLCBDICs9IGsgKiAoNSAqIGwpLCBDICs9IGogKiAoNSAqIHApLCBDICs9IFQgKiAoNSAqIE8pLCBDICs9IEsgKiAoNSAqIFEpLCBDICs9ICQgKiAoNSAqIEopLCBQICs9IEMgPj4+IDEzLCBDICY9IDgxOTE7XG4gICAgICAgICAgdmFyIHEgPSBQO1xuICAgICAgICAgIHEgKz0gdyAqIEosIHEgKz0gQSAqIFIsIHEgKz0gSSAqIF8sIHEgKz0gRCAqIEIsIHEgKz0gTiAqIHosIFAgPSBxID4+PiAxMywgcSAmPSA4MTkxLCBxICs9IGsgKiAoNSAqIGEpLCBxICs9IGogKiAoNSAqIGwpLCBxICs9IFQgKiAoNSAqIHApLCBxICs9IEsgKiAoNSAqIE8pLCBxICs9ICQgKiAoNSAqIFEpLCBQICs9IHEgPj4+IDEzLCBxICY9IDgxOTE7XG4gICAgICAgICAgdmFyIEwgPSBQO1xuICAgICAgICAgIEwgKz0gdyAqIFEsIEwgKz0gQSAqIEosIEwgKz0gSSAqIFIsIEwgKz0gRCAqIF8sIEwgKz0gTiAqIEIsIFAgPSBMID4+PiAxMywgTCAmPSA4MTkxLCBMICs9IGsgKiB6LCBMICs9IGogKiAoNSAqIGEpLCBMICs9IFQgKiAoNSAqIGwpLCBMICs9IEsgKiAoNSAqIHApLCBMICs9ICQgKiAoNSAqIE8pLCBQICs9IEwgPj4+IDEzLCBMICY9IDgxOTE7XG4gICAgICAgICAgdmFyIHkgPSBQO1xuICAgICAgICAgIHkgKz0gdyAqIE8sIHkgKz0gQSAqIFEsIHkgKz0gSSAqIEosIHkgKz0gRCAqIFIsIHkgKz0gTiAqIF8sIFAgPSB5ID4+PiAxMywgeSAmPSA4MTkxLCB5ICs9IGsgKiBCLCB5ICs9IGogKiB6LCB5ICs9IFQgKiAoNSAqIGEpLCB5ICs9IEsgKiAoNSAqIGwpLCB5ICs9ICQgKiAoNSAqIHApLCBQICs9IHkgPj4+IDEzLCB5ICY9IDgxOTE7XG4gICAgICAgICAgdmFyIEYgPSBQO1xuICAgICAgICAgIEYgKz0gdyAqIHAsIEYgKz0gQSAqIE8sIEYgKz0gSSAqIFEsIEYgKz0gRCAqIEosIEYgKz0gTiAqIFIsIFAgPSBGID4+PiAxMywgRiAmPSA4MTkxLCBGICs9IGsgKiBfLCBGICs9IGogKiBCLCBGICs9IFQgKiB6LCBGICs9IEsgKiAoNSAqIGEpLCBGICs9ICQgKiAoNSAqIGwpLCBQICs9IEYgPj4+IDEzLCBGICY9IDgxOTE7XG4gICAgICAgICAgdmFyIFcgPSBQO1xuICAgICAgICAgIFcgKz0gdyAqIGwsIFcgKz0gQSAqIHAsIFcgKz0gSSAqIE8sIFcgKz0gRCAqIFEsIFcgKz0gTiAqIEosIFAgPSBXID4+PiAxMywgVyAmPSA4MTkxLCBXICs9IGsgKiBSLCBXICs9IGogKiBfLCBXICs9IFQgKiBCLCBXICs9IEsgKiB6LCBXICs9ICQgKiAoNSAqIGEpLCBQICs9IFcgPj4+IDEzLCBXICY9IDgxOTE7XG4gICAgICAgICAgdmFyIFkgPSBQO1xuICAgICAgICAgIFkgKz0gdyAqIGEsIFkgKz0gQSAqIGwsIFkgKz0gSSAqIHAsIFkgKz0gRCAqIE8sIFkgKz0gTiAqIFEsIFAgPSBZID4+PiAxMywgWSAmPSA4MTkxLCBZICs9IGsgKiBKLCBZICs9IGogKiBSLCBZICs9IFQgKiBfLCBZICs9IEsgKiBCLCBZICs9ICQgKiB6LCBQICs9IFkgPj4+IDEzLCBZICY9IDgxOTEsIFAgPSAoUCA8PCAyKSArIFAgfCAwLCBQID0gUCArIEcgfCAwLCBHID0gUCAmIDgxOTEsIFAgPSBQID4+PiAxMywgTSArPSBQLCB3ID0gRywgQSA9IE0sIEkgPSBILCBEID0gQywgTiA9IHEsIGsgPSBMLCBqID0geSwgVCA9IEYsIEsgPSBXLCAkID0gWSwgaCArPSAxNiwgZCAtPSAxNjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9oWzBdID0gdywgdGhpcy5faFsxXSA9IEEsIHRoaXMuX2hbMl0gPSBJLCB0aGlzLl9oWzNdID0gRCwgdGhpcy5faFs0XSA9IE4sIHRoaXMuX2hbNV0gPSBrLCB0aGlzLl9oWzZdID0gaiwgdGhpcy5faFs3XSA9IFQsIHRoaXMuX2hbOF0gPSBLLCB0aGlzLl9oWzldID0gJDtcbiAgICAgIH0sIG8ucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uKGYsIGgpIHtcbiAgICAgICAgaCA9PT0gdm9pZCAwICYmIChoID0gMCk7XG4gICAgICAgIHZhciBkID0gbmV3IFVpbnQxNkFycmF5KDEwKSwgdiwgdywgQSwgSTtcbiAgICAgICAgaWYgKHRoaXMuX2xlZnRvdmVyKSB7XG4gICAgICAgICAgZm9yIChJID0gdGhpcy5fbGVmdG92ZXIsIHRoaXMuX2J1ZmZlcltJKytdID0gMTsgSSA8IDE2OyBJKyspXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJbSV0gPSAwO1xuICAgICAgICAgIHRoaXMuX2ZpbiA9IDEsIHRoaXMuX2Jsb2Nrcyh0aGlzLl9idWZmZXIsIDAsIDE2KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHYgPSB0aGlzLl9oWzFdID4+PiAxMywgdGhpcy5faFsxXSAmPSA4MTkxLCBJID0gMjsgSSA8IDEwOyBJKyspXG4gICAgICAgICAgdGhpcy5faFtJXSArPSB2LCB2ID0gdGhpcy5faFtJXSA+Pj4gMTMsIHRoaXMuX2hbSV0gJj0gODE5MTtcbiAgICAgICAgZm9yICh0aGlzLl9oWzBdICs9IHYgKiA1LCB2ID0gdGhpcy5faFswXSA+Pj4gMTMsIHRoaXMuX2hbMF0gJj0gODE5MSwgdGhpcy5faFsxXSArPSB2LCB2ID0gdGhpcy5faFsxXSA+Pj4gMTMsIHRoaXMuX2hbMV0gJj0gODE5MSwgdGhpcy5faFsyXSArPSB2LCBkWzBdID0gdGhpcy5faFswXSArIDUsIHYgPSBkWzBdID4+PiAxMywgZFswXSAmPSA4MTkxLCBJID0gMTsgSSA8IDEwOyBJKyspXG4gICAgICAgICAgZFtJXSA9IHRoaXMuX2hbSV0gKyB2LCB2ID0gZFtJXSA+Pj4gMTMsIGRbSV0gJj0gODE5MTtcbiAgICAgICAgZm9yIChkWzldIC09IDgxOTIsIHcgPSAodiBeIDEpIC0gMSwgSSA9IDA7IEkgPCAxMDsgSSsrKVxuICAgICAgICAgIGRbSV0gJj0gdztcbiAgICAgICAgZm9yICh3ID0gfncsIEkgPSAwOyBJIDwgMTA7IEkrKylcbiAgICAgICAgICB0aGlzLl9oW0ldID0gdGhpcy5faFtJXSAmIHcgfCBkW0ldO1xuICAgICAgICBmb3IgKHRoaXMuX2hbMF0gPSAodGhpcy5faFswXSB8IHRoaXMuX2hbMV0gPDwgMTMpICYgNjU1MzUsIHRoaXMuX2hbMV0gPSAodGhpcy5faFsxXSA+Pj4gMyB8IHRoaXMuX2hbMl0gPDwgMTApICYgNjU1MzUsIHRoaXMuX2hbMl0gPSAodGhpcy5faFsyXSA+Pj4gNiB8IHRoaXMuX2hbM10gPDwgNykgJiA2NTUzNSwgdGhpcy5faFszXSA9ICh0aGlzLl9oWzNdID4+PiA5IHwgdGhpcy5faFs0XSA8PCA0KSAmIDY1NTM1LCB0aGlzLl9oWzRdID0gKHRoaXMuX2hbNF0gPj4+IDEyIHwgdGhpcy5faFs1XSA8PCAxIHwgdGhpcy5faFs2XSA8PCAxNCkgJiA2NTUzNSwgdGhpcy5faFs1XSA9ICh0aGlzLl9oWzZdID4+PiAyIHwgdGhpcy5faFs3XSA8PCAxMSkgJiA2NTUzNSwgdGhpcy5faFs2XSA9ICh0aGlzLl9oWzddID4+PiA1IHwgdGhpcy5faFs4XSA8PCA4KSAmIDY1NTM1LCB0aGlzLl9oWzddID0gKHRoaXMuX2hbOF0gPj4+IDggfCB0aGlzLl9oWzldIDw8IDUpICYgNjU1MzUsIEEgPSB0aGlzLl9oWzBdICsgdGhpcy5fcGFkWzBdLCB0aGlzLl9oWzBdID0gQSAmIDY1NTM1LCBJID0gMTsgSSA8IDg7IEkrKylcbiAgICAgICAgICBBID0gKHRoaXMuX2hbSV0gKyB0aGlzLl9wYWRbSV0gfCAwKSArIChBID4+PiAxNikgfCAwLCB0aGlzLl9oW0ldID0gQSAmIDY1NTM1O1xuICAgICAgICByZXR1cm4gZltoICsgMF0gPSB0aGlzLl9oWzBdID4+PiAwLCBmW2ggKyAxXSA9IHRoaXMuX2hbMF0gPj4+IDgsIGZbaCArIDJdID0gdGhpcy5faFsxXSA+Pj4gMCwgZltoICsgM10gPSB0aGlzLl9oWzFdID4+PiA4LCBmW2ggKyA0XSA9IHRoaXMuX2hbMl0gPj4+IDAsIGZbaCArIDVdID0gdGhpcy5faFsyXSA+Pj4gOCwgZltoICsgNl0gPSB0aGlzLl9oWzNdID4+PiAwLCBmW2ggKyA3XSA9IHRoaXMuX2hbM10gPj4+IDgsIGZbaCArIDhdID0gdGhpcy5faFs0XSA+Pj4gMCwgZltoICsgOV0gPSB0aGlzLl9oWzRdID4+PiA4LCBmW2ggKyAxMF0gPSB0aGlzLl9oWzVdID4+PiAwLCBmW2ggKyAxMV0gPSB0aGlzLl9oWzVdID4+PiA4LCBmW2ggKyAxMl0gPSB0aGlzLl9oWzZdID4+PiAwLCBmW2ggKyAxM10gPSB0aGlzLl9oWzZdID4+PiA4LCBmW2ggKyAxNF0gPSB0aGlzLl9oWzddID4+PiAwLCBmW2ggKyAxNV0gPSB0aGlzLl9oWzddID4+PiA4LCB0aGlzLl9maW5pc2hlZCA9ICEwLCB0aGlzO1xuICAgICAgfSwgby5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oZikge1xuICAgICAgICB2YXIgaCA9IDAsIGQgPSBmLmxlbmd0aCwgdjtcbiAgICAgICAgaWYgKHRoaXMuX2xlZnRvdmVyKSB7XG4gICAgICAgICAgdiA9IDE2IC0gdGhpcy5fbGVmdG92ZXIsIHYgPiBkICYmICh2ID0gZCk7XG4gICAgICAgICAgZm9yICh2YXIgdyA9IDA7IHcgPCB2OyB3KyspXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJbdGhpcy5fbGVmdG92ZXIgKyB3XSA9IGZbaCArIHddO1xuICAgICAgICAgIGlmIChkIC09IHYsIGggKz0gdiwgdGhpcy5fbGVmdG92ZXIgKz0gdiwgdGhpcy5fbGVmdG92ZXIgPCAxNilcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgIHRoaXMuX2Jsb2Nrcyh0aGlzLl9idWZmZXIsIDAsIDE2KSwgdGhpcy5fbGVmdG92ZXIgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkID49IDE2ICYmICh2ID0gZCAtIGQgJSAxNiwgdGhpcy5fYmxvY2tzKGYsIGgsIHYpLCBoICs9IHYsIGQgLT0gdiksIGQpIHtcbiAgICAgICAgICBmb3IgKHZhciB3ID0gMDsgdyA8IGQ7IHcrKylcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlclt0aGlzLl9sZWZ0b3ZlciArIHddID0gZltoICsgd107XG4gICAgICAgICAgdGhpcy5fbGVmdG92ZXIgKz0gZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sIG8ucHJvdG90eXBlLmRpZ2VzdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fZmluaXNoZWQpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUG9seTEzMDUgd2FzIGZpbmlzaGVkXCIpO1xuICAgICAgICB2YXIgZiA9IG5ldyBVaW50OEFycmF5KDE2KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmluaXNoKGYpLCBmO1xuICAgICAgfSwgby5wcm90b3R5cGUuY2xlYW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHQud2lwZSh0aGlzLl9idWZmZXIpLCB0LndpcGUodGhpcy5fciksIHQud2lwZSh0aGlzLl9oKSwgdC53aXBlKHRoaXMuX3BhZCksIHRoaXMuX2xlZnRvdmVyID0gMCwgdGhpcy5fZmluID0gMCwgdGhpcy5fZmluaXNoZWQgPSAhMCwgdGhpcztcbiAgICAgIH0sIG87XG4gICAgfSgpXG4gICk7XG4gIHIuUG9seTEzMDUgPSBpO1xuICBmdW5jdGlvbiBuKG8sIGYpIHtcbiAgICB2YXIgaCA9IG5ldyBpKG8pO1xuICAgIGgudXBkYXRlKGYpO1xuICAgIHZhciBkID0gaC5kaWdlc3QoKTtcbiAgICByZXR1cm4gaC5jbGVhbigpLCBkO1xuICB9XG4gIHIub25lVGltZUF1dGggPSBuO1xuICBmdW5jdGlvbiBzKG8sIGYpIHtcbiAgICByZXR1cm4gby5sZW5ndGggIT09IHIuRElHRVNUX0xFTkdUSCB8fCBmLmxlbmd0aCAhPT0gci5ESUdFU1RfTEVOR1RIID8gITEgOiBlLmVxdWFsKG8sIGYpO1xuICB9XG4gIHIuZXF1YWwgPSBzO1xufSkoenUpO1xuKGZ1bmN0aW9uKHIpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbiAgdmFyIGUgPSB2YSwgdCA9IHp1LCBpID0gbnIsIG4gPSBWZSwgcyA9IE1pO1xuICByLktFWV9MRU5HVEggPSAzMiwgci5OT05DRV9MRU5HVEggPSAxMiwgci5UQUdfTEVOR1RIID0gMTY7XG4gIHZhciBvID0gbmV3IFVpbnQ4QXJyYXkoMTYpLCBmID0gKFxuICAgIC8qKiBAY2xhc3MgKi9cbiAgICBmdW5jdGlvbigpIHtcbiAgICAgIGZ1bmN0aW9uIGgoZCkge1xuICAgICAgICBpZiAodGhpcy5ub25jZUxlbmd0aCA9IHIuTk9OQ0VfTEVOR1RILCB0aGlzLnRhZ0xlbmd0aCA9IHIuVEFHX0xFTkdUSCwgZC5sZW5ndGggIT09IHIuS0VZX0xFTkdUSClcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDaGFDaGEyMFBvbHkxMzA1IG5lZWRzIDMyLWJ5dGUga2V5XCIpO1xuICAgICAgICB0aGlzLl9rZXkgPSBuZXcgVWludDhBcnJheShkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoLnByb3RvdHlwZS5zZWFsID0gZnVuY3Rpb24oZCwgdiwgdywgQSkge1xuICAgICAgICBpZiAoZC5sZW5ndGggPiAxNilcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDaGFDaGEyMFBvbHkxMzA1OiBpbmNvcnJlY3Qgbm9uY2UgbGVuZ3RoXCIpO1xuICAgICAgICB2YXIgSSA9IG5ldyBVaW50OEFycmF5KDE2KTtcbiAgICAgICAgSS5zZXQoZCwgSS5sZW5ndGggLSBkLmxlbmd0aCk7XG4gICAgICAgIHZhciBEID0gbmV3IFVpbnQ4QXJyYXkoMzIpO1xuICAgICAgICBlLnN0cmVhbSh0aGlzLl9rZXksIEksIEQsIDQpO1xuICAgICAgICB2YXIgTiA9IHYubGVuZ3RoICsgdGhpcy50YWdMZW5ndGgsIGs7XG4gICAgICAgIGlmIChBKSB7XG4gICAgICAgICAgaWYgKEEubGVuZ3RoICE9PSBOKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2hhQ2hhMjBQb2x5MTMwNTogaW5jb3JyZWN0IGRlc3RpbmF0aW9uIGxlbmd0aFwiKTtcbiAgICAgICAgICBrID0gQTtcbiAgICAgICAgfSBlbHNlXG4gICAgICAgICAgayA9IG5ldyBVaW50OEFycmF5KE4pO1xuICAgICAgICByZXR1cm4gZS5zdHJlYW1YT1IodGhpcy5fa2V5LCBJLCB2LCBrLCA0KSwgdGhpcy5fYXV0aGVudGljYXRlKGsuc3ViYXJyYXkoay5sZW5ndGggLSB0aGlzLnRhZ0xlbmd0aCwgay5sZW5ndGgpLCBELCBrLnN1YmFycmF5KDAsIGsubGVuZ3RoIC0gdGhpcy50YWdMZW5ndGgpLCB3KSwgaS53aXBlKEkpLCBrO1xuICAgICAgfSwgaC5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uKGQsIHYsIHcsIEEpIHtcbiAgICAgICAgaWYgKGQubGVuZ3RoID4gMTYpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2hhQ2hhMjBQb2x5MTMwNTogaW5jb3JyZWN0IG5vbmNlIGxlbmd0aFwiKTtcbiAgICAgICAgaWYgKHYubGVuZ3RoIDwgdGhpcy50YWdMZW5ndGgpXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHZhciBJID0gbmV3IFVpbnQ4QXJyYXkoMTYpO1xuICAgICAgICBJLnNldChkLCBJLmxlbmd0aCAtIGQubGVuZ3RoKTtcbiAgICAgICAgdmFyIEQgPSBuZXcgVWludDhBcnJheSgzMik7XG4gICAgICAgIGUuc3RyZWFtKHRoaXMuX2tleSwgSSwgRCwgNCk7XG4gICAgICAgIHZhciBOID0gbmV3IFVpbnQ4QXJyYXkodGhpcy50YWdMZW5ndGgpO1xuICAgICAgICBpZiAodGhpcy5fYXV0aGVudGljYXRlKE4sIEQsIHYuc3ViYXJyYXkoMCwgdi5sZW5ndGggLSB0aGlzLnRhZ0xlbmd0aCksIHcpLCAhcy5lcXVhbChOLCB2LnN1YmFycmF5KHYubGVuZ3RoIC0gdGhpcy50YWdMZW5ndGgsIHYubGVuZ3RoKSkpXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHZhciBrID0gdi5sZW5ndGggLSB0aGlzLnRhZ0xlbmd0aCwgajtcbiAgICAgICAgaWYgKEEpIHtcbiAgICAgICAgICBpZiAoQS5sZW5ndGggIT09IGspXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDaGFDaGEyMFBvbHkxMzA1OiBpbmNvcnJlY3QgZGVzdGluYXRpb24gbGVuZ3RoXCIpO1xuICAgICAgICAgIGogPSBBO1xuICAgICAgICB9IGVsc2VcbiAgICAgICAgICBqID0gbmV3IFVpbnQ4QXJyYXkoayk7XG4gICAgICAgIHJldHVybiBlLnN0cmVhbVhPUih0aGlzLl9rZXksIEksIHYuc3ViYXJyYXkoMCwgdi5sZW5ndGggLSB0aGlzLnRhZ0xlbmd0aCksIGosIDQpLCBpLndpcGUoSSksIGo7XG4gICAgICB9LCBoLnByb3RvdHlwZS5jbGVhbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gaS53aXBlKHRoaXMuX2tleSksIHRoaXM7XG4gICAgICB9LCBoLnByb3RvdHlwZS5fYXV0aGVudGljYXRlID0gZnVuY3Rpb24oZCwgdiwgdywgQSkge1xuICAgICAgICB2YXIgSSA9IG5ldyB0LlBvbHkxMzA1KHYpO1xuICAgICAgICBBICYmIChJLnVwZGF0ZShBKSwgQS5sZW5ndGggJSAxNiA+IDAgJiYgSS51cGRhdGUoby5zdWJhcnJheShBLmxlbmd0aCAlIDE2KSkpLCBJLnVwZGF0ZSh3KSwgdy5sZW5ndGggJSAxNiA+IDAgJiYgSS51cGRhdGUoby5zdWJhcnJheSh3Lmxlbmd0aCAlIDE2KSk7XG4gICAgICAgIHZhciBEID0gbmV3IFVpbnQ4QXJyYXkoOCk7XG4gICAgICAgIEEgJiYgbi53cml0ZVVpbnQ2NExFKEEubGVuZ3RoLCBEKSwgSS51cGRhdGUoRCksIG4ud3JpdGVVaW50NjRMRSh3Lmxlbmd0aCwgRCksIEkudXBkYXRlKEQpO1xuICAgICAgICBmb3IgKHZhciBOID0gSS5kaWdlc3QoKSwgayA9IDA7IGsgPCBOLmxlbmd0aDsgaysrKVxuICAgICAgICAgIGRba10gPSBOW2tdO1xuICAgICAgICBJLmNsZWFuKCksIGkud2lwZShOKSwgaS53aXBlKEQpO1xuICAgICAgfSwgaDtcbiAgICB9KClcbiAgKTtcbiAgci5DaGFDaGEyMFBvbHkxMzA1ID0gZjtcbn0pKEtvKTtcbnZhciBrdSA9IHt9LCBzcyA9IHt9LCBIbyA9IHt9O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KEhvLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG5mdW5jdGlvbiBLZyhyKSB7XG4gIHJldHVybiB0eXBlb2Ygci5zYXZlU3RhdGUgPCBcInVcIiAmJiB0eXBlb2Ygci5yZXN0b3JlU3RhdGUgPCBcInVcIiAmJiB0eXBlb2Ygci5jbGVhblNhdmVkU3RhdGUgPCBcInVcIjtcbn1cbkhvLmlzU2VyaWFsaXphYmxlSGFzaCA9IEtnO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KHNzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogITAgfSk7XG52YXIgRHIgPSBIbywgSGcgPSBNaSwgVmcgPSBuciwganUgPSAoXG4gIC8qKiBAY2xhc3MgKi9cbiAgZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gcihlLCB0KSB7XG4gICAgICB0aGlzLl9maW5pc2hlZCA9ICExLCB0aGlzLl9pbm5lciA9IG5ldyBlKCksIHRoaXMuX291dGVyID0gbmV3IGUoKSwgdGhpcy5ibG9ja1NpemUgPSB0aGlzLl9vdXRlci5ibG9ja1NpemUsIHRoaXMuZGlnZXN0TGVuZ3RoID0gdGhpcy5fb3V0ZXIuZGlnZXN0TGVuZ3RoO1xuICAgICAgdmFyIGkgPSBuZXcgVWludDhBcnJheSh0aGlzLmJsb2NrU2l6ZSk7XG4gICAgICB0Lmxlbmd0aCA+IHRoaXMuYmxvY2tTaXplID8gdGhpcy5faW5uZXIudXBkYXRlKHQpLmZpbmlzaChpKS5jbGVhbigpIDogaS5zZXQodCk7XG4gICAgICBmb3IgKHZhciBuID0gMDsgbiA8IGkubGVuZ3RoOyBuKyspXG4gICAgICAgIGlbbl0gXj0gNTQ7XG4gICAgICB0aGlzLl9pbm5lci51cGRhdGUoaSk7XG4gICAgICBmb3IgKHZhciBuID0gMDsgbiA8IGkubGVuZ3RoOyBuKyspXG4gICAgICAgIGlbbl0gXj0gMTA2O1xuICAgICAgdGhpcy5fb3V0ZXIudXBkYXRlKGkpLCBEci5pc1NlcmlhbGl6YWJsZUhhc2godGhpcy5faW5uZXIpICYmIERyLmlzU2VyaWFsaXphYmxlSGFzaCh0aGlzLl9vdXRlcikgJiYgKHRoaXMuX2lubmVyS2V5ZWRTdGF0ZSA9IHRoaXMuX2lubmVyLnNhdmVTdGF0ZSgpLCB0aGlzLl9vdXRlcktleWVkU3RhdGUgPSB0aGlzLl9vdXRlci5zYXZlU3RhdGUoKSksIFZnLndpcGUoaSk7XG4gICAgfVxuICAgIHJldHVybiByLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCFEci5pc1NlcmlhbGl6YWJsZUhhc2godGhpcy5faW5uZXIpIHx8ICFEci5pc1NlcmlhbGl6YWJsZUhhc2godGhpcy5fb3V0ZXIpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJobWFjOiBjYW4ndCByZXNldCgpIGJlY2F1c2UgaGFzaCBkb2Vzbid0IGltcGxlbWVudCByZXN0b3JlU3RhdGUoKVwiKTtcbiAgICAgIHJldHVybiB0aGlzLl9pbm5lci5yZXN0b3JlU3RhdGUodGhpcy5faW5uZXJLZXllZFN0YXRlKSwgdGhpcy5fb3V0ZXIucmVzdG9yZVN0YXRlKHRoaXMuX291dGVyS2V5ZWRTdGF0ZSksIHRoaXMuX2ZpbmlzaGVkID0gITEsIHRoaXM7XG4gICAgfSwgci5wcm90b3R5cGUuY2xlYW4gPSBmdW5jdGlvbigpIHtcbiAgICAgIERyLmlzU2VyaWFsaXphYmxlSGFzaCh0aGlzLl9pbm5lcikgJiYgdGhpcy5faW5uZXIuY2xlYW5TYXZlZFN0YXRlKHRoaXMuX2lubmVyS2V5ZWRTdGF0ZSksIERyLmlzU2VyaWFsaXphYmxlSGFzaCh0aGlzLl9vdXRlcikgJiYgdGhpcy5fb3V0ZXIuY2xlYW5TYXZlZFN0YXRlKHRoaXMuX291dGVyS2V5ZWRTdGF0ZSksIHRoaXMuX2lubmVyLmNsZWFuKCksIHRoaXMuX291dGVyLmNsZWFuKCk7XG4gICAgfSwgci5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24oZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX2lubmVyLnVwZGF0ZShlKSwgdGhpcztcbiAgICB9LCByLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbihlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fZmluaXNoZWQgPyAodGhpcy5fb3V0ZXIuZmluaXNoKGUpLCB0aGlzKSA6ICh0aGlzLl9pbm5lci5maW5pc2goZSksIHRoaXMuX291dGVyLnVwZGF0ZShlLnN1YmFycmF5KDAsIHRoaXMuZGlnZXN0TGVuZ3RoKSkuZmluaXNoKGUpLCB0aGlzLl9maW5pc2hlZCA9ICEwLCB0aGlzKTtcbiAgICB9LCByLnByb3RvdHlwZS5kaWdlc3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5kaWdlc3RMZW5ndGgpO1xuICAgICAgcmV0dXJuIHRoaXMuZmluaXNoKGUpLCBlO1xuICAgIH0sIHIucHJvdG90eXBlLnNhdmVTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKCFEci5pc1NlcmlhbGl6YWJsZUhhc2godGhpcy5faW5uZXIpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJobWFjOiBjYW4ndCBzYXZlU3RhdGUoKSBiZWNhdXNlIGhhc2ggZG9lc24ndCBpbXBsZW1lbnQgaXRcIik7XG4gICAgICByZXR1cm4gdGhpcy5faW5uZXIuc2F2ZVN0YXRlKCk7XG4gICAgfSwgci5wcm90b3R5cGUucmVzdG9yZVN0YXRlID0gZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKCFEci5pc1NlcmlhbGl6YWJsZUhhc2godGhpcy5faW5uZXIpIHx8ICFEci5pc1NlcmlhbGl6YWJsZUhhc2godGhpcy5fb3V0ZXIpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJobWFjOiBjYW4ndCByZXN0b3JlU3RhdGUoKSBiZWNhdXNlIGhhc2ggZG9lc24ndCBpbXBsZW1lbnQgaXRcIik7XG4gICAgICByZXR1cm4gdGhpcy5faW5uZXIucmVzdG9yZVN0YXRlKGUpLCB0aGlzLl9vdXRlci5yZXN0b3JlU3RhdGUodGhpcy5fb3V0ZXJLZXllZFN0YXRlKSwgdGhpcy5fZmluaXNoZWQgPSAhMSwgdGhpcztcbiAgICB9LCByLnByb3RvdHlwZS5jbGVhblNhdmVkU3RhdGUgPSBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoIURyLmlzU2VyaWFsaXphYmxlSGFzaCh0aGlzLl9pbm5lcikpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImhtYWM6IGNhbid0IGNsZWFuU2F2ZWRTdGF0ZSgpIGJlY2F1c2UgaGFzaCBkb2Vzbid0IGltcGxlbWVudCBpdFwiKTtcbiAgICAgIHRoaXMuX2lubmVyLmNsZWFuU2F2ZWRTdGF0ZShlKTtcbiAgICB9LCByO1xuICB9KClcbik7XG5zcy5ITUFDID0ganU7XG5mdW5jdGlvbiBXZyhyLCBlLCB0KSB7XG4gIHZhciBpID0gbmV3IGp1KHIsIGUpO1xuICBpLnVwZGF0ZSh0KTtcbiAgdmFyIG4gPSBpLmRpZ2VzdCgpO1xuICByZXR1cm4gaS5jbGVhbigpLCBuO1xufVxuc3MuaG1hYyA9IFdnO1xuc3MuZXF1YWwgPSBIZy5lcXVhbDtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShrdSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pO1xudmFyIHZjID0gc3MsIGJjID0gbnIsIEdnID0gKFxuICAvKiogQGNsYXNzICovXG4gIGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIHIoZSwgdCwgaSwgbikge1xuICAgICAgaSA9PT0gdm9pZCAwICYmIChpID0gbmV3IFVpbnQ4QXJyYXkoMCkpLCB0aGlzLl9jb3VudGVyID0gbmV3IFVpbnQ4QXJyYXkoMSksIHRoaXMuX2hhc2ggPSBlLCB0aGlzLl9pbmZvID0gbjtcbiAgICAgIHZhciBzID0gdmMuaG1hYyh0aGlzLl9oYXNoLCBpLCB0KTtcbiAgICAgIHRoaXMuX2htYWMgPSBuZXcgdmMuSE1BQyhlLCBzKSwgdGhpcy5fYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5faG1hYy5kaWdlc3RMZW5ndGgpLCB0aGlzLl9idWZwb3MgPSB0aGlzLl9idWZmZXIubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gci5wcm90b3R5cGUuX2ZpbGxCdWZmZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX2NvdW50ZXJbMF0rKztcbiAgICAgIHZhciBlID0gdGhpcy5fY291bnRlclswXTtcbiAgICAgIGlmIChlID09PSAwKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJoa2RmOiBjYW5ub3QgZXhwYW5kIG1vcmVcIik7XG4gICAgICB0aGlzLl9obWFjLnJlc2V0KCksIGUgPiAxICYmIHRoaXMuX2htYWMudXBkYXRlKHRoaXMuX2J1ZmZlciksIHRoaXMuX2luZm8gJiYgdGhpcy5faG1hYy51cGRhdGUodGhpcy5faW5mbyksIHRoaXMuX2htYWMudXBkYXRlKHRoaXMuX2NvdW50ZXIpLCB0aGlzLl9obWFjLmZpbmlzaCh0aGlzLl9idWZmZXIpLCB0aGlzLl9idWZwb3MgPSAwO1xuICAgIH0sIHIucHJvdG90eXBlLmV4cGFuZCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgIGZvciAodmFyIHQgPSBuZXcgVWludDhBcnJheShlKSwgaSA9IDA7IGkgPCB0Lmxlbmd0aDsgaSsrKVxuICAgICAgICB0aGlzLl9idWZwb3MgPT09IHRoaXMuX2J1ZmZlci5sZW5ndGggJiYgdGhpcy5fZmlsbEJ1ZmZlcigpLCB0W2ldID0gdGhpcy5fYnVmZmVyW3RoaXMuX2J1ZnBvcysrXTtcbiAgICAgIHJldHVybiB0O1xuICAgIH0sIHIucHJvdG90eXBlLmNsZWFuID0gZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLl9obWFjLmNsZWFuKCksIGJjLndpcGUodGhpcy5fYnVmZmVyKSwgYmMud2lwZSh0aGlzLl9jb3VudGVyKSwgdGhpcy5fYnVmcG9zID0gMDtcbiAgICB9LCByO1xuICB9KClcbiksIEpnID0ga3UuSEtERiA9IEdnLCBhcyA9IHt9O1xuKGZ1bmN0aW9uKHIpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbiAgdmFyIGUgPSBWZSwgdCA9IG5yO1xuICByLkRJR0VTVF9MRU5HVEggPSAzMiwgci5CTE9DS19TSVpFID0gNjQ7XG4gIHZhciBpID0gKFxuICAgIC8qKiBAY2xhc3MgKi9cbiAgICBmdW5jdGlvbigpIHtcbiAgICAgIGZ1bmN0aW9uIGYoKSB7XG4gICAgICAgIHRoaXMuZGlnZXN0TGVuZ3RoID0gci5ESUdFU1RfTEVOR1RILCB0aGlzLmJsb2NrU2l6ZSA9IHIuQkxPQ0tfU0laRSwgdGhpcy5fc3RhdGUgPSBuZXcgSW50MzJBcnJheSg4KSwgdGhpcy5fdGVtcCA9IG5ldyBJbnQzMkFycmF5KDY0KSwgdGhpcy5fYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXkoMTI4KSwgdGhpcy5fYnVmZmVyTGVuZ3RoID0gMCwgdGhpcy5fYnl0ZXNIYXNoZWQgPSAwLCB0aGlzLl9maW5pc2hlZCA9ICExLCB0aGlzLnJlc2V0KCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZi5wcm90b3R5cGUuX2luaXRTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLl9zdGF0ZVswXSA9IDE3NzkwMzM3MDMsIHRoaXMuX3N0YXRlWzFdID0gMzE0NDEzNDI3NywgdGhpcy5fc3RhdGVbMl0gPSAxMDEzOTA0MjQyLCB0aGlzLl9zdGF0ZVszXSA9IDI3NzM0ODA3NjIsIHRoaXMuX3N0YXRlWzRdID0gMTM1OTg5MzExOSwgdGhpcy5fc3RhdGVbNV0gPSAyNjAwODIyOTI0LCB0aGlzLl9zdGF0ZVs2XSA9IDUyODczNDYzNSwgdGhpcy5fc3RhdGVbN10gPSAxNTQxNDU5MjI1O1xuICAgICAgfSwgZi5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRTdGF0ZSgpLCB0aGlzLl9idWZmZXJMZW5ndGggPSAwLCB0aGlzLl9ieXRlc0hhc2hlZCA9IDAsIHRoaXMuX2ZpbmlzaGVkID0gITEsIHRoaXM7XG4gICAgICB9LCBmLnByb3RvdHlwZS5jbGVhbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0LndpcGUodGhpcy5fYnVmZmVyKSwgdC53aXBlKHRoaXMuX3RlbXApLCB0aGlzLnJlc2V0KCk7XG4gICAgICB9LCBmLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbihoLCBkKSB7XG4gICAgICAgIGlmIChkID09PSB2b2lkIDAgJiYgKGQgPSBoLmxlbmd0aCksIHRoaXMuX2ZpbmlzaGVkKVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNIQTI1NjogY2FuJ3QgdXBkYXRlIGJlY2F1c2UgaGFzaCB3YXMgZmluaXNoZWQuXCIpO1xuICAgICAgICB2YXIgdiA9IDA7XG4gICAgICAgIGlmICh0aGlzLl9ieXRlc0hhc2hlZCArPSBkLCB0aGlzLl9idWZmZXJMZW5ndGggPiAwKSB7XG4gICAgICAgICAgZm9yICg7IHRoaXMuX2J1ZmZlckxlbmd0aCA8IHRoaXMuYmxvY2tTaXplICYmIGQgPiAwOyApXG4gICAgICAgICAgICB0aGlzLl9idWZmZXJbdGhpcy5fYnVmZmVyTGVuZ3RoKytdID0gaFt2KytdLCBkLS07XG4gICAgICAgICAgdGhpcy5fYnVmZmVyTGVuZ3RoID09PSB0aGlzLmJsb2NrU2l6ZSAmJiAocyh0aGlzLl90ZW1wLCB0aGlzLl9zdGF0ZSwgdGhpcy5fYnVmZmVyLCAwLCB0aGlzLmJsb2NrU2l6ZSksIHRoaXMuX2J1ZmZlckxlbmd0aCA9IDApO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoZCA+PSB0aGlzLmJsb2NrU2l6ZSAmJiAodiA9IHModGhpcy5fdGVtcCwgdGhpcy5fc3RhdGUsIGgsIHYsIGQpLCBkICU9IHRoaXMuYmxvY2tTaXplKTsgZCA+IDA7IClcbiAgICAgICAgICB0aGlzLl9idWZmZXJbdGhpcy5fYnVmZmVyTGVuZ3RoKytdID0gaFt2KytdLCBkLS07XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSwgZi5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24oaCkge1xuICAgICAgICBpZiAoIXRoaXMuX2ZpbmlzaGVkKSB7XG4gICAgICAgICAgdmFyIGQgPSB0aGlzLl9ieXRlc0hhc2hlZCwgdiA9IHRoaXMuX2J1ZmZlckxlbmd0aCwgdyA9IGQgLyA1MzY4NzA5MTIgfCAwLCBBID0gZCA8PCAzLCBJID0gZCAlIDY0IDwgNTYgPyA2NCA6IDEyODtcbiAgICAgICAgICB0aGlzLl9idWZmZXJbdl0gPSAxMjg7XG4gICAgICAgICAgZm9yICh2YXIgRCA9IHYgKyAxOyBEIDwgSSAtIDg7IEQrKylcbiAgICAgICAgICAgIHRoaXMuX2J1ZmZlcltEXSA9IDA7XG4gICAgICAgICAgZS53cml0ZVVpbnQzMkJFKHcsIHRoaXMuX2J1ZmZlciwgSSAtIDgpLCBlLndyaXRlVWludDMyQkUoQSwgdGhpcy5fYnVmZmVyLCBJIC0gNCksIHModGhpcy5fdGVtcCwgdGhpcy5fc3RhdGUsIHRoaXMuX2J1ZmZlciwgMCwgSSksIHRoaXMuX2ZpbmlzaGVkID0gITA7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgRCA9IDA7IEQgPCB0aGlzLmRpZ2VzdExlbmd0aCAvIDQ7IEQrKylcbiAgICAgICAgICBlLndyaXRlVWludDMyQkUodGhpcy5fc3RhdGVbRF0sIGgsIEQgKiA0KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LCBmLnByb3RvdHlwZS5kaWdlc3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGggPSBuZXcgVWludDhBcnJheSh0aGlzLmRpZ2VzdExlbmd0aCk7XG4gICAgICAgIHJldHVybiB0aGlzLmZpbmlzaChoKSwgaDtcbiAgICAgIH0sIGYucHJvdG90eXBlLnNhdmVTdGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fZmluaXNoZWQpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU0hBMjU2OiBjYW5ub3Qgc2F2ZSBmaW5pc2hlZCBzdGF0ZVwiKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdGF0ZTogbmV3IEludDMyQXJyYXkodGhpcy5fc3RhdGUpLFxuICAgICAgICAgIGJ1ZmZlcjogdGhpcy5fYnVmZmVyTGVuZ3RoID4gMCA/IG5ldyBVaW50OEFycmF5KHRoaXMuX2J1ZmZlcikgOiB2b2lkIDAsXG4gICAgICAgICAgYnVmZmVyTGVuZ3RoOiB0aGlzLl9idWZmZXJMZW5ndGgsXG4gICAgICAgICAgYnl0ZXNIYXNoZWQ6IHRoaXMuX2J5dGVzSGFzaGVkXG4gICAgICAgIH07XG4gICAgICB9LCBmLnByb3RvdHlwZS5yZXN0b3JlU3RhdGUgPSBmdW5jdGlvbihoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zdGF0ZS5zZXQoaC5zdGF0ZSksIHRoaXMuX2J1ZmZlckxlbmd0aCA9IGguYnVmZmVyTGVuZ3RoLCBoLmJ1ZmZlciAmJiB0aGlzLl9idWZmZXIuc2V0KGguYnVmZmVyKSwgdGhpcy5fYnl0ZXNIYXNoZWQgPSBoLmJ5dGVzSGFzaGVkLCB0aGlzLl9maW5pc2hlZCA9ICExLCB0aGlzO1xuICAgICAgfSwgZi5wcm90b3R5cGUuY2xlYW5TYXZlZFN0YXRlID0gZnVuY3Rpb24oaCkge1xuICAgICAgICB0LndpcGUoaC5zdGF0ZSksIGguYnVmZmVyICYmIHQud2lwZShoLmJ1ZmZlciksIGguYnVmZmVyTGVuZ3RoID0gMCwgaC5ieXRlc0hhc2hlZCA9IDA7XG4gICAgICB9LCBmO1xuICAgIH0oKVxuICApO1xuICByLlNIQTI1NiA9IGk7XG4gIHZhciBuID0gbmV3IEludDMyQXJyYXkoW1xuICAgIDExMTYzNTI0MDgsXG4gICAgMTg5OTQ0NzQ0MSxcbiAgICAzMDQ5MzIzNDcxLFxuICAgIDM5MjEwMDk1NzMsXG4gICAgOTYxOTg3MTYzLFxuICAgIDE1MDg5NzA5OTMsXG4gICAgMjQ1MzYzNTc0OCxcbiAgICAyODcwNzYzMjIxLFxuICAgIDM2MjQzODEwODAsXG4gICAgMzEwNTk4NDAxLFxuICAgIDYwNzIyNTI3OCxcbiAgICAxNDI2ODgxOTg3LFxuICAgIDE5MjUwNzgzODgsXG4gICAgMjE2MjA3ODIwNixcbiAgICAyNjE0ODg4MTAzLFxuICAgIDMyNDgyMjI1ODAsXG4gICAgMzgzNTM5MDQwMSxcbiAgICA0MDIyMjI0Nzc0LFxuICAgIDI2NDM0NzA3OCxcbiAgICA2MDQ4MDc2MjgsXG4gICAgNzcwMjU1OTgzLFxuICAgIDEyNDkxNTAxMjIsXG4gICAgMTU1NTA4MTY5MixcbiAgICAxOTk2MDY0OTg2LFxuICAgIDI1NTQyMjA4ODIsXG4gICAgMjgyMTgzNDM0OSxcbiAgICAyOTUyOTk2ODA4LFxuICAgIDMyMTAzMTM2NzEsXG4gICAgMzMzNjU3MTg5MSxcbiAgICAzNTg0NTI4NzExLFxuICAgIDExMzkyNjk5MyxcbiAgICAzMzgyNDE4OTUsXG4gICAgNjY2MzA3MjA1LFxuICAgIDc3MzUyOTkxMixcbiAgICAxMjk0NzU3MzcyLFxuICAgIDEzOTYxODIyOTEsXG4gICAgMTY5NTE4MzcwMCxcbiAgICAxOTg2NjYxMDUxLFxuICAgIDIxNzcwMjYzNTAsXG4gICAgMjQ1Njk1NjAzNyxcbiAgICAyNzMwNDg1OTIxLFxuICAgIDI4MjAzMDI0MTEsXG4gICAgMzI1OTczMDgwMCxcbiAgICAzMzQ1NzY0NzcxLFxuICAgIDM1MTYwNjU4MTcsXG4gICAgMzYwMDM1MjgwNCxcbiAgICA0MDk0NTcxOTA5LFxuICAgIDI3NTQyMzM0NCxcbiAgICA0MzAyMjc3MzQsXG4gICAgNTA2OTQ4NjE2LFxuICAgIDY1OTA2MDU1NixcbiAgICA4ODM5OTc4NzcsXG4gICAgOTU4MTM5NTcxLFxuICAgIDEzMjI4MjIyMTgsXG4gICAgMTUzNzAwMjA2MyxcbiAgICAxNzQ3ODczNzc5LFxuICAgIDE5NTU1NjIyMjIsXG4gICAgMjAyNDEwNDgxNSxcbiAgICAyMjI3NzMwNDUyLFxuICAgIDIzNjE4NTI0MjQsXG4gICAgMjQyODQzNjQ3NCxcbiAgICAyNzU2NzM0MTg3LFxuICAgIDMyMDQwMzE0NzksXG4gICAgMzMyOTMyNTI5OFxuICBdKTtcbiAgZnVuY3Rpb24gcyhmLCBoLCBkLCB2LCB3KSB7XG4gICAgZm9yICg7IHcgPj0gNjQ7ICkge1xuICAgICAgZm9yICh2YXIgQSA9IGhbMF0sIEkgPSBoWzFdLCBEID0gaFsyXSwgTiA9IGhbM10sIGsgPSBoWzRdLCBqID0gaFs1XSwgVCA9IGhbNl0sIEsgPSBoWzddLCAkID0gMDsgJCA8IDE2OyAkKyspIHtcbiAgICAgICAgdmFyIHogPSB2ICsgJCAqIDQ7XG4gICAgICAgIGZbJF0gPSBlLnJlYWRVaW50MzJCRShkLCB6KTtcbiAgICAgIH1cbiAgICAgIGZvciAodmFyICQgPSAxNjsgJCA8IDY0OyAkKyspIHtcbiAgICAgICAgdmFyIEIgPSBmWyQgLSAyXSwgXyA9IChCID4+PiAxNyB8IEIgPDwgMzIgLSAxNykgXiAoQiA+Pj4gMTkgfCBCIDw8IDMyIC0gMTkpIF4gQiA+Pj4gMTA7XG4gICAgICAgIEIgPSBmWyQgLSAxNV07XG4gICAgICAgIHZhciBSID0gKEIgPj4+IDcgfCBCIDw8IDMyIC0gNykgXiAoQiA+Pj4gMTggfCBCIDw8IDMyIC0gMTgpIF4gQiA+Pj4gMztcbiAgICAgICAgZlskXSA9IChfICsgZlskIC0gN10gfCAwKSArIChSICsgZlskIC0gMTZdIHwgMCk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciAkID0gMDsgJCA8IDY0OyAkKyspIHtcbiAgICAgICAgdmFyIF8gPSAoKChrID4+PiA2IHwgayA8PCAyNikgXiAoayA+Pj4gMTEgfCBrIDw8IDIxKSBeIChrID4+PiAyNSB8IGsgPDwgNykpICsgKGsgJiBqIF4gfmsgJiBUKSB8IDApICsgKEsgKyAoblskXSArIGZbJF0gfCAwKSB8IDApIHwgMCwgUiA9ICgoQSA+Pj4gMiB8IEEgPDwgMzIgLSAyKSBeIChBID4+PiAxMyB8IEEgPDwgMzIgLSAxMykgXiAoQSA+Pj4gMjIgfCBBIDw8IDMyIC0gMjIpKSArIChBICYgSSBeIEEgJiBEIF4gSSAmIEQpIHwgMDtcbiAgICAgICAgSyA9IFQsIFQgPSBqLCBqID0gaywgayA9IE4gKyBfIHwgMCwgTiA9IEQsIEQgPSBJLCBJID0gQSwgQSA9IF8gKyBSIHwgMDtcbiAgICAgIH1cbiAgICAgIGhbMF0gKz0gQSwgaFsxXSArPSBJLCBoWzJdICs9IEQsIGhbM10gKz0gTiwgaFs0XSArPSBrLCBoWzVdICs9IGosIGhbNl0gKz0gVCwgaFs3XSArPSBLLCB2ICs9IDY0LCB3IC09IDY0O1xuICAgIH1cbiAgICByZXR1cm4gdjtcbiAgfVxuICBmdW5jdGlvbiBvKGYpIHtcbiAgICB2YXIgaCA9IG5ldyBpKCk7XG4gICAgaC51cGRhdGUoZik7XG4gICAgdmFyIGQgPSBoLmRpZ2VzdCgpO1xuICAgIHJldHVybiBoLmNsZWFuKCksIGQ7XG4gIH1cbiAgci5oYXNoID0gbztcbn0pKGFzKTtcbnZhciBWbyA9IHt9O1xuKGZ1bmN0aW9uKHIpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KSwgci5zaGFyZWRLZXkgPSByLmdlbmVyYXRlS2V5UGFpciA9IHIuZ2VuZXJhdGVLZXlQYWlyRnJvbVNlZWQgPSByLnNjYWxhck11bHRCYXNlID0gci5zY2FsYXJNdWx0ID0gci5TSEFSRURfS0VZX0xFTkdUSCA9IHIuU0VDUkVUX0tFWV9MRU5HVEggPSByLlBVQkxJQ19LRVlfTEVOR1RIID0gdm9pZCAwO1xuICBjb25zdCBlID0gRWksIHQgPSBucjtcbiAgci5QVUJMSUNfS0VZX0xFTkdUSCA9IDMyLCByLlNFQ1JFVF9LRVlfTEVOR1RIID0gMzIsIHIuU0hBUkVEX0tFWV9MRU5HVEggPSAzMjtcbiAgZnVuY3Rpb24gaSgkKSB7XG4gICAgY29uc3QgeiA9IG5ldyBGbG9hdDY0QXJyYXkoMTYpO1xuICAgIGlmICgkKVxuICAgICAgZm9yIChsZXQgQiA9IDA7IEIgPCAkLmxlbmd0aDsgQisrKVxuICAgICAgICB6W0JdID0gJFtCXTtcbiAgICByZXR1cm4gejtcbiAgfVxuICBjb25zdCBuID0gbmV3IFVpbnQ4QXJyYXkoMzIpO1xuICBuWzBdID0gOTtcbiAgY29uc3QgcyA9IGkoWzU2MTI5LCAxXSk7XG4gIGZ1bmN0aW9uIG8oJCkge1xuICAgIGxldCB6ID0gMTtcbiAgICBmb3IgKGxldCBCID0gMDsgQiA8IDE2OyBCKyspIHtcbiAgICAgIGxldCBfID0gJFtCXSArIHogKyA2NTUzNTtcbiAgICAgIHogPSBNYXRoLmZsb29yKF8gLyA2NTUzNiksICRbQl0gPSBfIC0geiAqIDY1NTM2O1xuICAgIH1cbiAgICAkWzBdICs9IHogLSAxICsgMzcgKiAoeiAtIDEpO1xuICB9XG4gIGZ1bmN0aW9uIGYoJCwgeiwgQikge1xuICAgIGNvbnN0IF8gPSB+KEIgLSAxKTtcbiAgICBmb3IgKGxldCBSID0gMDsgUiA8IDE2OyBSKyspIHtcbiAgICAgIGNvbnN0IEogPSBfICYgKCRbUl0gXiB6W1JdKTtcbiAgICAgICRbUl0gXj0gSiwgeltSXSBePSBKO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBoKCQsIHopIHtcbiAgICBjb25zdCBCID0gaSgpLCBfID0gaSgpO1xuICAgIGZvciAobGV0IFIgPSAwOyBSIDwgMTY7IFIrKylcbiAgICAgIF9bUl0gPSB6W1JdO1xuICAgIG8oXyksIG8oXyksIG8oXyk7XG4gICAgZm9yIChsZXQgUiA9IDA7IFIgPCAyOyBSKyspIHtcbiAgICAgIEJbMF0gPSBfWzBdIC0gNjU1MTc7XG4gICAgICBmb3IgKGxldCBRID0gMTsgUSA8IDE1OyBRKyspXG4gICAgICAgIEJbUV0gPSBfW1FdIC0gNjU1MzUgLSAoQltRIC0gMV0gPj4gMTYgJiAxKSwgQltRIC0gMV0gJj0gNjU1MzU7XG4gICAgICBCWzE1XSA9IF9bMTVdIC0gMzI3NjcgLSAoQlsxNF0gPj4gMTYgJiAxKTtcbiAgICAgIGNvbnN0IEogPSBCWzE1XSA+PiAxNiAmIDE7XG4gICAgICBCWzE0XSAmPSA2NTUzNSwgZihfLCBCLCAxIC0gSik7XG4gICAgfVxuICAgIGZvciAobGV0IFIgPSAwOyBSIDwgMTY7IFIrKylcbiAgICAgICRbMiAqIFJdID0gX1tSXSAmIDI1NSwgJFsyICogUiArIDFdID0gX1tSXSA+PiA4O1xuICB9XG4gIGZ1bmN0aW9uIGQoJCwgeikge1xuICAgIGZvciAobGV0IEIgPSAwOyBCIDwgMTY7IEIrKylcbiAgICAgICRbQl0gPSB6WzIgKiBCXSArICh6WzIgKiBCICsgMV0gPDwgOCk7XG4gICAgJFsxNV0gJj0gMzI3Njc7XG4gIH1cbiAgZnVuY3Rpb24gdigkLCB6LCBCKSB7XG4gICAgZm9yIChsZXQgXyA9IDA7IF8gPCAxNjsgXysrKVxuICAgICAgJFtfXSA9IHpbX10gKyBCW19dO1xuICB9XG4gIGZ1bmN0aW9uIHcoJCwgeiwgQikge1xuICAgIGZvciAobGV0IF8gPSAwOyBfIDwgMTY7IF8rKylcbiAgICAgICRbX10gPSB6W19dIC0gQltfXTtcbiAgfVxuICBmdW5jdGlvbiBBKCQsIHosIEIpIHtcbiAgICBsZXQgXywgUiwgSiA9IDAsIFEgPSAwLCBPID0gMCwgcCA9IDAsIGwgPSAwLCBhID0gMCwgYyA9IDAsIGIgPSAwLCBFID0gMCwgUyA9IDAsIHggPSAwLCB1ID0gMCwgbSA9IDAsIGcgPSAwLCBQID0gMCwgRyA9IDAsIE0gPSAwLCBIID0gMCwgQyA9IDAsIHEgPSAwLCBMID0gMCwgeSA9IDAsIEYgPSAwLCBXID0gMCwgWSA9IDAsIFggPSAwLCBlZSA9IDAsIHdlID0gMCwgTWUgPSAwLCBoZSA9IDAsIFJlID0gMCwgeGUgPSBCWzBdLCBzZSA9IEJbMV0sIGdlID0gQlsyXSwgbGUgPSBCWzNdLCBuZSA9IEJbNF0sIHVlID0gQls1XSwgZmUgPSBCWzZdLCB0ZSA9IEJbN10sIHBlID0gQls4XSwgX2UgPSBCWzldLCByZSA9IEJbMTBdLCBFZSA9IEJbMTFdLCBTZSA9IEJbMTJdLCBvZSA9IEJbMTNdLCBEZSA9IEJbMTRdLCBJZSA9IEJbMTVdO1xuICAgIF8gPSB6WzBdLCBKICs9IF8gKiB4ZSwgUSArPSBfICogc2UsIE8gKz0gXyAqIGdlLCBwICs9IF8gKiBsZSwgbCArPSBfICogbmUsIGEgKz0gXyAqIHVlLCBjICs9IF8gKiBmZSwgYiArPSBfICogdGUsIEUgKz0gXyAqIHBlLCBTICs9IF8gKiBfZSwgeCArPSBfICogcmUsIHUgKz0gXyAqIEVlLCBtICs9IF8gKiBTZSwgZyArPSBfICogb2UsIFAgKz0gXyAqIERlLCBHICs9IF8gKiBJZSwgXyA9IHpbMV0sIFEgKz0gXyAqIHhlLCBPICs9IF8gKiBzZSwgcCArPSBfICogZ2UsIGwgKz0gXyAqIGxlLCBhICs9IF8gKiBuZSwgYyArPSBfICogdWUsIGIgKz0gXyAqIGZlLCBFICs9IF8gKiB0ZSwgUyArPSBfICogcGUsIHggKz0gXyAqIF9lLCB1ICs9IF8gKiByZSwgbSArPSBfICogRWUsIGcgKz0gXyAqIFNlLCBQICs9IF8gKiBvZSwgRyArPSBfICogRGUsIE0gKz0gXyAqIEllLCBfID0gelsyXSwgTyArPSBfICogeGUsIHAgKz0gXyAqIHNlLCBsICs9IF8gKiBnZSwgYSArPSBfICogbGUsIGMgKz0gXyAqIG5lLCBiICs9IF8gKiB1ZSwgRSArPSBfICogZmUsIFMgKz0gXyAqIHRlLCB4ICs9IF8gKiBwZSwgdSArPSBfICogX2UsIG0gKz0gXyAqIHJlLCBnICs9IF8gKiBFZSwgUCArPSBfICogU2UsIEcgKz0gXyAqIG9lLCBNICs9IF8gKiBEZSwgSCArPSBfICogSWUsIF8gPSB6WzNdLCBwICs9IF8gKiB4ZSwgbCArPSBfICogc2UsIGEgKz0gXyAqIGdlLCBjICs9IF8gKiBsZSwgYiArPSBfICogbmUsIEUgKz0gXyAqIHVlLCBTICs9IF8gKiBmZSwgeCArPSBfICogdGUsIHUgKz0gXyAqIHBlLCBtICs9IF8gKiBfZSwgZyArPSBfICogcmUsIFAgKz0gXyAqIEVlLCBHICs9IF8gKiBTZSwgTSArPSBfICogb2UsIEggKz0gXyAqIERlLCBDICs9IF8gKiBJZSwgXyA9IHpbNF0sIGwgKz0gXyAqIHhlLCBhICs9IF8gKiBzZSwgYyArPSBfICogZ2UsIGIgKz0gXyAqIGxlLCBFICs9IF8gKiBuZSwgUyArPSBfICogdWUsIHggKz0gXyAqIGZlLCB1ICs9IF8gKiB0ZSwgbSArPSBfICogcGUsIGcgKz0gXyAqIF9lLCBQICs9IF8gKiByZSwgRyArPSBfICogRWUsIE0gKz0gXyAqIFNlLCBIICs9IF8gKiBvZSwgQyArPSBfICogRGUsIHEgKz0gXyAqIEllLCBfID0gels1XSwgYSArPSBfICogeGUsIGMgKz0gXyAqIHNlLCBiICs9IF8gKiBnZSwgRSArPSBfICogbGUsIFMgKz0gXyAqIG5lLCB4ICs9IF8gKiB1ZSwgdSArPSBfICogZmUsIG0gKz0gXyAqIHRlLCBnICs9IF8gKiBwZSwgUCArPSBfICogX2UsIEcgKz0gXyAqIHJlLCBNICs9IF8gKiBFZSwgSCArPSBfICogU2UsIEMgKz0gXyAqIG9lLCBxICs9IF8gKiBEZSwgTCArPSBfICogSWUsIF8gPSB6WzZdLCBjICs9IF8gKiB4ZSwgYiArPSBfICogc2UsIEUgKz0gXyAqIGdlLCBTICs9IF8gKiBsZSwgeCArPSBfICogbmUsIHUgKz0gXyAqIHVlLCBtICs9IF8gKiBmZSwgZyArPSBfICogdGUsIFAgKz0gXyAqIHBlLCBHICs9IF8gKiBfZSwgTSArPSBfICogcmUsIEggKz0gXyAqIEVlLCBDICs9IF8gKiBTZSwgcSArPSBfICogb2UsIEwgKz0gXyAqIERlLCB5ICs9IF8gKiBJZSwgXyA9IHpbN10sIGIgKz0gXyAqIHhlLCBFICs9IF8gKiBzZSwgUyArPSBfICogZ2UsIHggKz0gXyAqIGxlLCB1ICs9IF8gKiBuZSwgbSArPSBfICogdWUsIGcgKz0gXyAqIGZlLCBQICs9IF8gKiB0ZSwgRyArPSBfICogcGUsIE0gKz0gXyAqIF9lLCBIICs9IF8gKiByZSwgQyArPSBfICogRWUsIHEgKz0gXyAqIFNlLCBMICs9IF8gKiBvZSwgeSArPSBfICogRGUsIEYgKz0gXyAqIEllLCBfID0gels4XSwgRSArPSBfICogeGUsIFMgKz0gXyAqIHNlLCB4ICs9IF8gKiBnZSwgdSArPSBfICogbGUsIG0gKz0gXyAqIG5lLCBnICs9IF8gKiB1ZSwgUCArPSBfICogZmUsIEcgKz0gXyAqIHRlLCBNICs9IF8gKiBwZSwgSCArPSBfICogX2UsIEMgKz0gXyAqIHJlLCBxICs9IF8gKiBFZSwgTCArPSBfICogU2UsIHkgKz0gXyAqIG9lLCBGICs9IF8gKiBEZSwgVyArPSBfICogSWUsIF8gPSB6WzldLCBTICs9IF8gKiB4ZSwgeCArPSBfICogc2UsIHUgKz0gXyAqIGdlLCBtICs9IF8gKiBsZSwgZyArPSBfICogbmUsIFAgKz0gXyAqIHVlLCBHICs9IF8gKiBmZSwgTSArPSBfICogdGUsIEggKz0gXyAqIHBlLCBDICs9IF8gKiBfZSwgcSArPSBfICogcmUsIEwgKz0gXyAqIEVlLCB5ICs9IF8gKiBTZSwgRiArPSBfICogb2UsIFcgKz0gXyAqIERlLCBZICs9IF8gKiBJZSwgXyA9IHpbMTBdLCB4ICs9IF8gKiB4ZSwgdSArPSBfICogc2UsIG0gKz0gXyAqIGdlLCBnICs9IF8gKiBsZSwgUCArPSBfICogbmUsIEcgKz0gXyAqIHVlLCBNICs9IF8gKiBmZSwgSCArPSBfICogdGUsIEMgKz0gXyAqIHBlLCBxICs9IF8gKiBfZSwgTCArPSBfICogcmUsIHkgKz0gXyAqIEVlLCBGICs9IF8gKiBTZSwgVyArPSBfICogb2UsIFkgKz0gXyAqIERlLCBYICs9IF8gKiBJZSwgXyA9IHpbMTFdLCB1ICs9IF8gKiB4ZSwgbSArPSBfICogc2UsIGcgKz0gXyAqIGdlLCBQICs9IF8gKiBsZSwgRyArPSBfICogbmUsIE0gKz0gXyAqIHVlLCBIICs9IF8gKiBmZSwgQyArPSBfICogdGUsIHEgKz0gXyAqIHBlLCBMICs9IF8gKiBfZSwgeSArPSBfICogcmUsIEYgKz0gXyAqIEVlLCBXICs9IF8gKiBTZSwgWSArPSBfICogb2UsIFggKz0gXyAqIERlLCBlZSArPSBfICogSWUsIF8gPSB6WzEyXSwgbSArPSBfICogeGUsIGcgKz0gXyAqIHNlLCBQICs9IF8gKiBnZSwgRyArPSBfICogbGUsIE0gKz0gXyAqIG5lLCBIICs9IF8gKiB1ZSwgQyArPSBfICogZmUsIHEgKz0gXyAqIHRlLCBMICs9IF8gKiBwZSwgeSArPSBfICogX2UsIEYgKz0gXyAqIHJlLCBXICs9IF8gKiBFZSwgWSArPSBfICogU2UsIFggKz0gXyAqIG9lLCBlZSArPSBfICogRGUsIHdlICs9IF8gKiBJZSwgXyA9IHpbMTNdLCBnICs9IF8gKiB4ZSwgUCArPSBfICogc2UsIEcgKz0gXyAqIGdlLCBNICs9IF8gKiBsZSwgSCArPSBfICogbmUsIEMgKz0gXyAqIHVlLCBxICs9IF8gKiBmZSwgTCArPSBfICogdGUsIHkgKz0gXyAqIHBlLCBGICs9IF8gKiBfZSwgVyArPSBfICogcmUsIFkgKz0gXyAqIEVlLCBYICs9IF8gKiBTZSwgZWUgKz0gXyAqIG9lLCB3ZSArPSBfICogRGUsIE1lICs9IF8gKiBJZSwgXyA9IHpbMTRdLCBQICs9IF8gKiB4ZSwgRyArPSBfICogc2UsIE0gKz0gXyAqIGdlLCBIICs9IF8gKiBsZSwgQyArPSBfICogbmUsIHEgKz0gXyAqIHVlLCBMICs9IF8gKiBmZSwgeSArPSBfICogdGUsIEYgKz0gXyAqIHBlLCBXICs9IF8gKiBfZSwgWSArPSBfICogcmUsIFggKz0gXyAqIEVlLCBlZSArPSBfICogU2UsIHdlICs9IF8gKiBvZSwgTWUgKz0gXyAqIERlLCBoZSArPSBfICogSWUsIF8gPSB6WzE1XSwgRyArPSBfICogeGUsIE0gKz0gXyAqIHNlLCBIICs9IF8gKiBnZSwgQyArPSBfICogbGUsIHEgKz0gXyAqIG5lLCBMICs9IF8gKiB1ZSwgeSArPSBfICogZmUsIEYgKz0gXyAqIHRlLCBXICs9IF8gKiBwZSwgWSArPSBfICogX2UsIFggKz0gXyAqIHJlLCBlZSArPSBfICogRWUsIHdlICs9IF8gKiBTZSwgTWUgKz0gXyAqIG9lLCBoZSArPSBfICogRGUsIFJlICs9IF8gKiBJZSwgSiArPSAzOCAqIE0sIFEgKz0gMzggKiBILCBPICs9IDM4ICogQywgcCArPSAzOCAqIHEsIGwgKz0gMzggKiBMLCBhICs9IDM4ICogeSwgYyArPSAzOCAqIEYsIGIgKz0gMzggKiBXLCBFICs9IDM4ICogWSwgUyArPSAzOCAqIFgsIHggKz0gMzggKiBlZSwgdSArPSAzOCAqIHdlLCBtICs9IDM4ICogTWUsIGcgKz0gMzggKiBoZSwgUCArPSAzOCAqIFJlLCBSID0gMSwgXyA9IEogKyBSICsgNjU1MzUsIFIgPSBNYXRoLmZsb29yKF8gLyA2NTUzNiksIEogPSBfIC0gUiAqIDY1NTM2LCBfID0gUSArIFIgKyA2NTUzNSwgUiA9IE1hdGguZmxvb3IoXyAvIDY1NTM2KSwgUSA9IF8gLSBSICogNjU1MzYsIF8gPSBPICsgUiArIDY1NTM1LCBSID0gTWF0aC5mbG9vcihfIC8gNjU1MzYpLCBPID0gXyAtIFIgKiA2NTUzNiwgXyA9IHAgKyBSICsgNjU1MzUsIFIgPSBNYXRoLmZsb29yKF8gLyA2NTUzNiksIHAgPSBfIC0gUiAqIDY1NTM2LCBfID0gbCArIFIgKyA2NTUzNSwgUiA9IE1hdGguZmxvb3IoXyAvIDY1NTM2KSwgbCA9IF8gLSBSICogNjU1MzYsIF8gPSBhICsgUiArIDY1NTM1LCBSID0gTWF0aC5mbG9vcihfIC8gNjU1MzYpLCBhID0gXyAtIFIgKiA2NTUzNiwgXyA9IGMgKyBSICsgNjU1MzUsIFIgPSBNYXRoLmZsb29yKF8gLyA2NTUzNiksIGMgPSBfIC0gUiAqIDY1NTM2LCBfID0gYiArIFIgKyA2NTUzNSwgUiA9IE1hdGguZmxvb3IoXyAvIDY1NTM2KSwgYiA9IF8gLSBSICogNjU1MzYsIF8gPSBFICsgUiArIDY1NTM1LCBSID0gTWF0aC5mbG9vcihfIC8gNjU1MzYpLCBFID0gXyAtIFIgKiA2NTUzNiwgXyA9IFMgKyBSICsgNjU1MzUsIFIgPSBNYXRoLmZsb29yKF8gLyA2NTUzNiksIFMgPSBfIC0gUiAqIDY1NTM2LCBfID0geCArIFIgKyA2NTUzNSwgUiA9IE1hdGguZmxvb3IoXyAvIDY1NTM2KSwgeCA9IF8gLSBSICogNjU1MzYsIF8gPSB1ICsgUiArIDY1NTM1LCBSID0gTWF0aC5mbG9vcihfIC8gNjU1MzYpLCB1ID0gXyAtIFIgKiA2NTUzNiwgXyA9IG0gKyBSICsgNjU1MzUsIFIgPSBNYXRoLmZsb29yKF8gLyA2NTUzNiksIG0gPSBfIC0gUiAqIDY1NTM2LCBfID0gZyArIFIgKyA2NTUzNSwgUiA9IE1hdGguZmxvb3IoXyAvIDY1NTM2KSwgZyA9IF8gLSBSICogNjU1MzYsIF8gPSBQICsgUiArIDY1NTM1LCBSID0gTWF0aC5mbG9vcihfIC8gNjU1MzYpLCBQID0gXyAtIFIgKiA2NTUzNiwgXyA9IEcgKyBSICsgNjU1MzUsIFIgPSBNYXRoLmZsb29yKF8gLyA2NTUzNiksIEcgPSBfIC0gUiAqIDY1NTM2LCBKICs9IFIgLSAxICsgMzcgKiAoUiAtIDEpLCBSID0gMSwgXyA9IEogKyBSICsgNjU1MzUsIFIgPSBNYXRoLmZsb29yKF8gLyA2NTUzNiksIEogPSBfIC0gUiAqIDY1NTM2LCBfID0gUSArIFIgKyA2NTUzNSwgUiA9IE1hdGguZmxvb3IoXyAvIDY1NTM2KSwgUSA9IF8gLSBSICogNjU1MzYsIF8gPSBPICsgUiArIDY1NTM1LCBSID0gTWF0aC5mbG9vcihfIC8gNjU1MzYpLCBPID0gXyAtIFIgKiA2NTUzNiwgXyA9IHAgKyBSICsgNjU1MzUsIFIgPSBNYXRoLmZsb29yKF8gLyA2NTUzNiksIHAgPSBfIC0gUiAqIDY1NTM2LCBfID0gbCArIFIgKyA2NTUzNSwgUiA9IE1hdGguZmxvb3IoXyAvIDY1NTM2KSwgbCA9IF8gLSBSICogNjU1MzYsIF8gPSBhICsgUiArIDY1NTM1LCBSID0gTWF0aC5mbG9vcihfIC8gNjU1MzYpLCBhID0gXyAtIFIgKiA2NTUzNiwgXyA9IGMgKyBSICsgNjU1MzUsIFIgPSBNYXRoLmZsb29yKF8gLyA2NTUzNiksIGMgPSBfIC0gUiAqIDY1NTM2LCBfID0gYiArIFIgKyA2NTUzNSwgUiA9IE1hdGguZmxvb3IoXyAvIDY1NTM2KSwgYiA9IF8gLSBSICogNjU1MzYsIF8gPSBFICsgUiArIDY1NTM1LCBSID0gTWF0aC5mbG9vcihfIC8gNjU1MzYpLCBFID0gXyAtIFIgKiA2NTUzNiwgXyA9IFMgKyBSICsgNjU1MzUsIFIgPSBNYXRoLmZsb29yKF8gLyA2NTUzNiksIFMgPSBfIC0gUiAqIDY1NTM2LCBfID0geCArIFIgKyA2NTUzNSwgUiA9IE1hdGguZmxvb3IoXyAvIDY1NTM2KSwgeCA9IF8gLSBSICogNjU1MzYsIF8gPSB1ICsgUiArIDY1NTM1LCBSID0gTWF0aC5mbG9vcihfIC8gNjU1MzYpLCB1ID0gXyAtIFIgKiA2NTUzNiwgXyA9IG0gKyBSICsgNjU1MzUsIFIgPSBNYXRoLmZsb29yKF8gLyA2NTUzNiksIG0gPSBfIC0gUiAqIDY1NTM2LCBfID0gZyArIFIgKyA2NTUzNSwgUiA9IE1hdGguZmxvb3IoXyAvIDY1NTM2KSwgZyA9IF8gLSBSICogNjU1MzYsIF8gPSBQICsgUiArIDY1NTM1LCBSID0gTWF0aC5mbG9vcihfIC8gNjU1MzYpLCBQID0gXyAtIFIgKiA2NTUzNiwgXyA9IEcgKyBSICsgNjU1MzUsIFIgPSBNYXRoLmZsb29yKF8gLyA2NTUzNiksIEcgPSBfIC0gUiAqIDY1NTM2LCBKICs9IFIgLSAxICsgMzcgKiAoUiAtIDEpLCAkWzBdID0gSiwgJFsxXSA9IFEsICRbMl0gPSBPLCAkWzNdID0gcCwgJFs0XSA9IGwsICRbNV0gPSBhLCAkWzZdID0gYywgJFs3XSA9IGIsICRbOF0gPSBFLCAkWzldID0gUywgJFsxMF0gPSB4LCAkWzExXSA9IHUsICRbMTJdID0gbSwgJFsxM10gPSBnLCAkWzE0XSA9IFAsICRbMTVdID0gRztcbiAgfVxuICBmdW5jdGlvbiBJKCQsIHopIHtcbiAgICBBKCQsIHosIHopO1xuICB9XG4gIGZ1bmN0aW9uIEQoJCwgeikge1xuICAgIGNvbnN0IEIgPSBpKCk7XG4gICAgZm9yIChsZXQgXyA9IDA7IF8gPCAxNjsgXysrKVxuICAgICAgQltfXSA9IHpbX107XG4gICAgZm9yIChsZXQgXyA9IDI1MzsgXyA+PSAwOyBfLS0pXG4gICAgICBJKEIsIEIpLCBfICE9PSAyICYmIF8gIT09IDQgJiYgQShCLCBCLCB6KTtcbiAgICBmb3IgKGxldCBfID0gMDsgXyA8IDE2OyBfKyspXG4gICAgICAkW19dID0gQltfXTtcbiAgfVxuICBmdW5jdGlvbiBOKCQsIHopIHtcbiAgICBjb25zdCBCID0gbmV3IFVpbnQ4QXJyYXkoMzIpLCBfID0gbmV3IEZsb2F0NjRBcnJheSg4MCksIFIgPSBpKCksIEogPSBpKCksIFEgPSBpKCksIE8gPSBpKCksIHAgPSBpKCksIGwgPSBpKCk7XG4gICAgZm9yIChsZXQgRSA9IDA7IEUgPCAzMTsgRSsrKVxuICAgICAgQltFXSA9ICRbRV07XG4gICAgQlszMV0gPSAkWzMxXSAmIDEyNyB8IDY0LCBCWzBdICY9IDI0OCwgZChfLCB6KTtcbiAgICBmb3IgKGxldCBFID0gMDsgRSA8IDE2OyBFKyspXG4gICAgICBKW0VdID0gX1tFXTtcbiAgICBSWzBdID0gT1swXSA9IDE7XG4gICAgZm9yIChsZXQgRSA9IDI1NDsgRSA+PSAwOyAtLUUpIHtcbiAgICAgIGNvbnN0IFMgPSBCW0UgPj4+IDNdID4+PiAoRSAmIDcpICYgMTtcbiAgICAgIGYoUiwgSiwgUyksIGYoUSwgTywgUyksIHYocCwgUiwgUSksIHcoUiwgUiwgUSksIHYoUSwgSiwgTyksIHcoSiwgSiwgTyksIEkoTywgcCksIEkobCwgUiksIEEoUiwgUSwgUiksIEEoUSwgSiwgcCksIHYocCwgUiwgUSksIHcoUiwgUiwgUSksIEkoSiwgUiksIHcoUSwgTywgbCksIEEoUiwgUSwgcyksIHYoUiwgUiwgTyksIEEoUSwgUSwgUiksIEEoUiwgTywgbCksIEEoTywgSiwgXyksIEkoSiwgcCksIGYoUiwgSiwgUyksIGYoUSwgTywgUyk7XG4gICAgfVxuICAgIGZvciAobGV0IEUgPSAwOyBFIDwgMTY7IEUrKylcbiAgICAgIF9bRSArIDE2XSA9IFJbRV0sIF9bRSArIDMyXSA9IFFbRV0sIF9bRSArIDQ4XSA9IEpbRV0sIF9bRSArIDY0XSA9IE9bRV07XG4gICAgY29uc3QgYSA9IF8uc3ViYXJyYXkoMzIpLCBjID0gXy5zdWJhcnJheSgxNik7XG4gICAgRChhLCBhKSwgQShjLCBjLCBhKTtcbiAgICBjb25zdCBiID0gbmV3IFVpbnQ4QXJyYXkoMzIpO1xuICAgIHJldHVybiBoKGIsIGMpLCBiO1xuICB9XG4gIHIuc2NhbGFyTXVsdCA9IE47XG4gIGZ1bmN0aW9uIGsoJCkge1xuICAgIHJldHVybiBOKCQsIG4pO1xuICB9XG4gIHIuc2NhbGFyTXVsdEJhc2UgPSBrO1xuICBmdW5jdGlvbiBqKCQpIHtcbiAgICBpZiAoJC5sZW5ndGggIT09IHIuU0VDUkVUX0tFWV9MRU5HVEgpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHgyNTUxOTogc2VlZCBtdXN0IGJlICR7ci5TRUNSRVRfS0VZX0xFTkdUSH0gYnl0ZXNgKTtcbiAgICBjb25zdCB6ID0gbmV3IFVpbnQ4QXJyYXkoJCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHB1YmxpY0tleTogayh6KSxcbiAgICAgIHNlY3JldEtleTogelxuICAgIH07XG4gIH1cbiAgci5nZW5lcmF0ZUtleVBhaXJGcm9tU2VlZCA9IGo7XG4gIGZ1bmN0aW9uIFQoJCkge1xuICAgIGNvbnN0IHogPSAoMCwgZS5yYW5kb21CeXRlcykoMzIsICQpLCBCID0gaih6KTtcbiAgICByZXR1cm4gKDAsIHQud2lwZSkoeiksIEI7XG4gIH1cbiAgci5nZW5lcmF0ZUtleVBhaXIgPSBUO1xuICBmdW5jdGlvbiBLKCQsIHosIEIgPSAhMSkge1xuICAgIGlmICgkLmxlbmd0aCAhPT0gci5QVUJMSUNfS0VZX0xFTkdUSClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlgyNTUxOTogaW5jb3JyZWN0IHNlY3JldCBrZXkgbGVuZ3RoXCIpO1xuICAgIGlmICh6Lmxlbmd0aCAhPT0gci5QVUJMSUNfS0VZX0xFTkdUSClcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlgyNTUxOTogaW5jb3JyZWN0IHB1YmxpYyBrZXkgbGVuZ3RoXCIpO1xuICAgIGNvbnN0IF8gPSBOKCQsIHopO1xuICAgIGlmIChCKSB7XG4gICAgICBsZXQgUiA9IDA7XG4gICAgICBmb3IgKGxldCBKID0gMDsgSiA8IF8ubGVuZ3RoOyBKKyspXG4gICAgICAgIFIgfD0gX1tKXTtcbiAgICAgIGlmIChSID09PSAwKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJYMjU1MTk6IGludmFsaWQgc2hhcmVkIGtleVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIF87XG4gIH1cbiAgci5zaGFyZWRLZXkgPSBLO1xufSkoVm8pO1xudmFyIEt1ID0ge307XG5jb25zdCBZZyA9IFwiZWxsaXB0aWNcIiwgWGcgPSBcIjYuNi4xXCIsIFpnID0gXCJFQyBjcnlwdG9ncmFwaHlcIiwgUWcgPSBcImxpYi9lbGxpcHRpYy5qc1wiLCBlMiA9IFtcbiAgXCJsaWJcIlxuXSwgdDIgPSB7XG4gIGxpbnQ6IFwiZXNsaW50IGxpYiB0ZXN0XCIsXG4gIFwibGludDpmaXhcIjogXCJucG0gcnVuIGxpbnQgLS0gLS1maXhcIixcbiAgdW5pdDogXCJpc3RhbmJ1bCB0ZXN0IF9tb2NoYSAtLXJlcG9ydGVyPXNwZWMgdGVzdC9pbmRleC5qc1wiLFxuICB0ZXN0OiBcIm5wbSBydW4gbGludCAmJiBucG0gcnVuIHVuaXRcIixcbiAgdmVyc2lvbjogXCJncnVudCBkaXN0ICYmIGdpdCBhZGQgZGlzdC9cIlxufSwgcjIgPSB7XG4gIHR5cGU6IFwiZ2l0XCIsXG4gIHVybDogXCJnaXRAZ2l0aHViLmNvbTppbmR1dG55L2VsbGlwdGljXCJcbn0sIGkyID0gW1xuICBcIkVDXCIsXG4gIFwiRWxsaXB0aWNcIixcbiAgXCJjdXJ2ZVwiLFxuICBcIkNyeXB0b2dyYXBoeVwiXG5dLCBuMiA9IFwiRmVkb3IgSW5kdXRueSA8ZmVkb3JAaW5kdXRueS5jb20+XCIsIHMyID0gXCJNSVRcIiwgYTIgPSB7XG4gIHVybDogXCJodHRwczovL2dpdGh1Yi5jb20vaW5kdXRueS9lbGxpcHRpYy9pc3N1ZXNcIlxufSwgbzIgPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9pbmR1dG55L2VsbGlwdGljXCIsIGYyID0ge1xuICBicmZzOiBcIl4yLjAuMlwiLFxuICBjb3ZlcmFsbHM6IFwiXjMuMS4wXCIsXG4gIGVzbGludDogXCJeNy42LjBcIixcbiAgZ3J1bnQ6IFwiXjEuMi4xXCIsXG4gIFwiZ3J1bnQtYnJvd3NlcmlmeVwiOiBcIl41LjMuMFwiLFxuICBcImdydW50LWNsaVwiOiBcIl4xLjMuMlwiLFxuICBcImdydW50LWNvbnRyaWItY29ubmVjdFwiOiBcIl4zLjAuMFwiLFxuICBcImdydW50LWNvbnRyaWItY29weVwiOiBcIl4xLjAuMFwiLFxuICBcImdydW50LWNvbnRyaWItdWdsaWZ5XCI6IFwiXjUuMC4wXCIsXG4gIFwiZ3J1bnQtbW9jaGEtaXN0YW5idWxcIjogXCJeNS4wLjJcIixcbiAgXCJncnVudC1zYXVjZWxhYnNcIjogXCJeOS4wLjFcIixcbiAgaXN0YW5idWw6IFwiXjAuNC41XCIsXG4gIG1vY2hhOiBcIl44LjAuMVwiXG59LCBjMiA9IHtcbiAgXCJibi5qc1wiOiBcIl40LjExLjlcIixcbiAgYnJvcmFuZDogXCJeMS4xLjBcIixcbiAgXCJoYXNoLmpzXCI6IFwiXjEuMC4wXCIsXG4gIFwiaG1hYy1kcmJnXCI6IFwiXjEuMC4xXCIsXG4gIGluaGVyaXRzOiBcIl4yLjAuNFwiLFxuICBcIm1pbmltYWxpc3RpYy1hc3NlcnRcIjogXCJeMS4wLjFcIixcbiAgXCJtaW5pbWFsaXN0aWMtY3J5cHRvLXV0aWxzXCI6IFwiXjEuMC4xXCJcbn0sIGgyID0ge1xuICBuYW1lOiBZZyxcbiAgdmVyc2lvbjogWGcsXG4gIGRlc2NyaXB0aW9uOiBaZyxcbiAgbWFpbjogUWcsXG4gIGZpbGVzOiBlMixcbiAgc2NyaXB0czogdDIsXG4gIHJlcG9zaXRvcnk6IHIyLFxuICBrZXl3b3JkczogaTIsXG4gIGF1dGhvcjogbjIsXG4gIGxpY2Vuc2U6IHMyLFxuICBidWdzOiBhMixcbiAgaG9tZXBhZ2U6IG8yLFxuICBkZXZEZXBlbmRlbmNpZXM6IGYyLFxuICBkZXBlbmRlbmNpZXM6IGMyXG59O1xudmFyIGFyID0ge30sIFdvID0geyBleHBvcnRzOiB7fSB9O1xuV28uZXhwb3J0cztcbihmdW5jdGlvbihyKSB7XG4gIChmdW5jdGlvbihlLCB0KSB7XG4gICAgZnVuY3Rpb24gaShPLCBwKSB7XG4gICAgICBpZiAoIU8pXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihwIHx8IFwiQXNzZXJ0aW9uIGZhaWxlZFwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gbihPLCBwKSB7XG4gICAgICBPLnN1cGVyXyA9IHA7XG4gICAgICB2YXIgbCA9IGZ1bmN0aW9uKCkge1xuICAgICAgfTtcbiAgICAgIGwucHJvdG90eXBlID0gcC5wcm90b3R5cGUsIE8ucHJvdG90eXBlID0gbmV3IGwoKSwgTy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBPO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzKE8sIHAsIGwpIHtcbiAgICAgIGlmIChzLmlzQk4oTykpXG4gICAgICAgIHJldHVybiBPO1xuICAgICAgdGhpcy5uZWdhdGl2ZSA9IDAsIHRoaXMud29yZHMgPSBudWxsLCB0aGlzLmxlbmd0aCA9IDAsIHRoaXMucmVkID0gbnVsbCwgTyAhPT0gbnVsbCAmJiAoKHAgPT09IFwibGVcIiB8fCBwID09PSBcImJlXCIpICYmIChsID0gcCwgcCA9IDEwKSwgdGhpcy5faW5pdChPIHx8IDAsIHAgfHwgMTAsIGwgfHwgXCJiZVwiKSk7XG4gICAgfVxuICAgIHR5cGVvZiBlID09IFwib2JqZWN0XCIgPyBlLmV4cG9ydHMgPSBzIDogdC5CTiA9IHMsIHMuQk4gPSBzLCBzLndvcmRTaXplID0gMjY7XG4gICAgdmFyIG87XG4gICAgdHJ5IHtcbiAgICAgIHR5cGVvZiB3aW5kb3cgPCBcInVcIiAmJiB0eXBlb2Ygd2luZG93LkJ1ZmZlciA8IFwidVwiID8gbyA9IHdpbmRvdy5CdWZmZXIgOiBvID0gZmEuQnVmZmVyO1xuICAgIH0gY2F0Y2gge1xuICAgIH1cbiAgICBzLmlzQk4gPSBmdW5jdGlvbihwKSB7XG4gICAgICByZXR1cm4gcCBpbnN0YW5jZW9mIHMgPyAhMCA6IHAgIT09IG51bGwgJiYgdHlwZW9mIHAgPT0gXCJvYmplY3RcIiAmJiBwLmNvbnN0cnVjdG9yLndvcmRTaXplID09PSBzLndvcmRTaXplICYmIEFycmF5LmlzQXJyYXkocC53b3Jkcyk7XG4gICAgfSwgcy5tYXggPSBmdW5jdGlvbihwLCBsKSB7XG4gICAgICByZXR1cm4gcC5jbXAobCkgPiAwID8gcCA6IGw7XG4gICAgfSwgcy5taW4gPSBmdW5jdGlvbihwLCBsKSB7XG4gICAgICByZXR1cm4gcC5jbXAobCkgPCAwID8gcCA6IGw7XG4gICAgfSwgcy5wcm90b3R5cGUuX2luaXQgPSBmdW5jdGlvbihwLCBsLCBhKSB7XG4gICAgICBpZiAodHlwZW9mIHAgPT0gXCJudW1iZXJcIilcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXROdW1iZXIocCwgbCwgYSk7XG4gICAgICBpZiAodHlwZW9mIHAgPT0gXCJvYmplY3RcIilcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luaXRBcnJheShwLCBsLCBhKTtcbiAgICAgIGwgPT09IFwiaGV4XCIgJiYgKGwgPSAxNiksIGkobCA9PT0gKGwgfCAwKSAmJiBsID49IDIgJiYgbCA8PSAzNiksIHAgPSBwLnRvU3RyaW5nKCkucmVwbGFjZSgvXFxzKy9nLCBcIlwiKTtcbiAgICAgIHZhciBjID0gMDtcbiAgICAgIHBbMF0gPT09IFwiLVwiICYmIChjKyssIHRoaXMubmVnYXRpdmUgPSAxKSwgYyA8IHAubGVuZ3RoICYmIChsID09PSAxNiA/IHRoaXMuX3BhcnNlSGV4KHAsIGMsIGEpIDogKHRoaXMuX3BhcnNlQmFzZShwLCBsLCBjKSwgYSA9PT0gXCJsZVwiICYmIHRoaXMuX2luaXRBcnJheSh0aGlzLnRvQXJyYXkoKSwgbCwgYSkpKTtcbiAgICB9LCBzLnByb3RvdHlwZS5faW5pdE51bWJlciA9IGZ1bmN0aW9uKHAsIGwsIGEpIHtcbiAgICAgIHAgPCAwICYmICh0aGlzLm5lZ2F0aXZlID0gMSwgcCA9IC1wKSwgcCA8IDY3MTA4ODY0ID8gKHRoaXMud29yZHMgPSBbcCAmIDY3MTA4ODYzXSwgdGhpcy5sZW5ndGggPSAxKSA6IHAgPCA0NTAzNTk5NjI3MzcwNDk2ID8gKHRoaXMud29yZHMgPSBbXG4gICAgICAgIHAgJiA2NzEwODg2MyxcbiAgICAgICAgcCAvIDY3MTA4ODY0ICYgNjcxMDg4NjNcbiAgICAgIF0sIHRoaXMubGVuZ3RoID0gMikgOiAoaShwIDwgOTAwNzE5OTI1NDc0MDk5MiksIHRoaXMud29yZHMgPSBbXG4gICAgICAgIHAgJiA2NzEwODg2MyxcbiAgICAgICAgcCAvIDY3MTA4ODY0ICYgNjcxMDg4NjMsXG4gICAgICAgIDFcbiAgICAgIF0sIHRoaXMubGVuZ3RoID0gMyksIGEgPT09IFwibGVcIiAmJiB0aGlzLl9pbml0QXJyYXkodGhpcy50b0FycmF5KCksIGwsIGEpO1xuICAgIH0sIHMucHJvdG90eXBlLl9pbml0QXJyYXkgPSBmdW5jdGlvbihwLCBsLCBhKSB7XG4gICAgICBpZiAoaSh0eXBlb2YgcC5sZW5ndGggPT0gXCJudW1iZXJcIiksIHAubGVuZ3RoIDw9IDApXG4gICAgICAgIHJldHVybiB0aGlzLndvcmRzID0gWzBdLCB0aGlzLmxlbmd0aCA9IDEsIHRoaXM7XG4gICAgICB0aGlzLmxlbmd0aCA9IE1hdGguY2VpbChwLmxlbmd0aCAvIDMpLCB0aGlzLndvcmRzID0gbmV3IEFycmF5KHRoaXMubGVuZ3RoKTtcbiAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgdGhpcy5sZW5ndGg7IGMrKylcbiAgICAgICAgdGhpcy53b3Jkc1tjXSA9IDA7XG4gICAgICB2YXIgYiwgRSwgUyA9IDA7XG4gICAgICBpZiAoYSA9PT0gXCJiZVwiKVxuICAgICAgICBmb3IgKGMgPSBwLmxlbmd0aCAtIDEsIGIgPSAwOyBjID49IDA7IGMgLT0gMylcbiAgICAgICAgICBFID0gcFtjXSB8IHBbYyAtIDFdIDw8IDggfCBwW2MgLSAyXSA8PCAxNiwgdGhpcy53b3Jkc1tiXSB8PSBFIDw8IFMgJiA2NzEwODg2MywgdGhpcy53b3Jkc1tiICsgMV0gPSBFID4+PiAyNiAtIFMgJiA2NzEwODg2MywgUyArPSAyNCwgUyA+PSAyNiAmJiAoUyAtPSAyNiwgYisrKTtcbiAgICAgIGVsc2UgaWYgKGEgPT09IFwibGVcIilcbiAgICAgICAgZm9yIChjID0gMCwgYiA9IDA7IGMgPCBwLmxlbmd0aDsgYyArPSAzKVxuICAgICAgICAgIEUgPSBwW2NdIHwgcFtjICsgMV0gPDwgOCB8IHBbYyArIDJdIDw8IDE2LCB0aGlzLndvcmRzW2JdIHw9IEUgPDwgUyAmIDY3MTA4ODYzLCB0aGlzLndvcmRzW2IgKyAxXSA9IEUgPj4+IDI2IC0gUyAmIDY3MTA4ODYzLCBTICs9IDI0LCBTID49IDI2ICYmIChTIC09IDI2LCBiKyspO1xuICAgICAgcmV0dXJuIHRoaXMuc3RyaXAoKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGYoTywgcCkge1xuICAgICAgdmFyIGwgPSBPLmNoYXJDb2RlQXQocCk7XG4gICAgICByZXR1cm4gbCA+PSA2NSAmJiBsIDw9IDcwID8gbCAtIDU1IDogbCA+PSA5NyAmJiBsIDw9IDEwMiA/IGwgLSA4NyA6IGwgLSA0OCAmIDE1O1xuICAgIH1cbiAgICBmdW5jdGlvbiBoKE8sIHAsIGwpIHtcbiAgICAgIHZhciBhID0gZihPLCBsKTtcbiAgICAgIHJldHVybiBsIC0gMSA+PSBwICYmIChhIHw9IGYoTywgbCAtIDEpIDw8IDQpLCBhO1xuICAgIH1cbiAgICBzLnByb3RvdHlwZS5fcGFyc2VIZXggPSBmdW5jdGlvbihwLCBsLCBhKSB7XG4gICAgICB0aGlzLmxlbmd0aCA9IE1hdGguY2VpbCgocC5sZW5ndGggLSBsKSAvIDYpLCB0aGlzLndvcmRzID0gbmV3IEFycmF5KHRoaXMubGVuZ3RoKTtcbiAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgdGhpcy5sZW5ndGg7IGMrKylcbiAgICAgICAgdGhpcy53b3Jkc1tjXSA9IDA7XG4gICAgICB2YXIgYiA9IDAsIEUgPSAwLCBTO1xuICAgICAgaWYgKGEgPT09IFwiYmVcIilcbiAgICAgICAgZm9yIChjID0gcC5sZW5ndGggLSAxOyBjID49IGw7IGMgLT0gMilcbiAgICAgICAgICBTID0gaChwLCBsLCBjKSA8PCBiLCB0aGlzLndvcmRzW0VdIHw9IFMgJiA2NzEwODg2MywgYiA+PSAxOCA/IChiIC09IDE4LCBFICs9IDEsIHRoaXMud29yZHNbRV0gfD0gUyA+Pj4gMjYpIDogYiArPSA4O1xuICAgICAgZWxzZSB7XG4gICAgICAgIHZhciB4ID0gcC5sZW5ndGggLSBsO1xuICAgICAgICBmb3IgKGMgPSB4ICUgMiA9PT0gMCA/IGwgKyAxIDogbDsgYyA8IHAubGVuZ3RoOyBjICs9IDIpXG4gICAgICAgICAgUyA9IGgocCwgbCwgYykgPDwgYiwgdGhpcy53b3Jkc1tFXSB8PSBTICYgNjcxMDg4NjMsIGIgPj0gMTggPyAoYiAtPSAxOCwgRSArPSAxLCB0aGlzLndvcmRzW0VdIHw9IFMgPj4+IDI2KSA6IGIgKz0gODtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RyaXAoKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGQoTywgcCwgbCwgYSkge1xuICAgICAgZm9yICh2YXIgYyA9IDAsIGIgPSBNYXRoLm1pbihPLmxlbmd0aCwgbCksIEUgPSBwOyBFIDwgYjsgRSsrKSB7XG4gICAgICAgIHZhciBTID0gTy5jaGFyQ29kZUF0KEUpIC0gNDg7XG4gICAgICAgIGMgKj0gYSwgUyA+PSA0OSA/IGMgKz0gUyAtIDQ5ICsgMTAgOiBTID49IDE3ID8gYyArPSBTIC0gMTcgKyAxMCA6IGMgKz0gUztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjO1xuICAgIH1cbiAgICBzLnByb3RvdHlwZS5fcGFyc2VCYXNlID0gZnVuY3Rpb24ocCwgbCwgYSkge1xuICAgICAgdGhpcy53b3JkcyA9IFswXSwgdGhpcy5sZW5ndGggPSAxO1xuICAgICAgZm9yICh2YXIgYyA9IDAsIGIgPSAxOyBiIDw9IDY3MTA4ODYzOyBiICo9IGwpXG4gICAgICAgIGMrKztcbiAgICAgIGMtLSwgYiA9IGIgLyBsIHwgMDtcbiAgICAgIGZvciAodmFyIEUgPSBwLmxlbmd0aCAtIGEsIFMgPSBFICUgYywgeCA9IE1hdGgubWluKEUsIEUgLSBTKSArIGEsIHUgPSAwLCBtID0gYTsgbSA8IHg7IG0gKz0gYylcbiAgICAgICAgdSA9IGQocCwgbSwgbSArIGMsIGwpLCB0aGlzLmltdWxuKGIpLCB0aGlzLndvcmRzWzBdICsgdSA8IDY3MTA4ODY0ID8gdGhpcy53b3Jkc1swXSArPSB1IDogdGhpcy5faWFkZG4odSk7XG4gICAgICBpZiAoUyAhPT0gMCkge1xuICAgICAgICB2YXIgZyA9IDE7XG4gICAgICAgIGZvciAodSA9IGQocCwgbSwgcC5sZW5ndGgsIGwpLCBtID0gMDsgbSA8IFM7IG0rKylcbiAgICAgICAgICBnICo9IGw7XG4gICAgICAgIHRoaXMuaW11bG4oZyksIHRoaXMud29yZHNbMF0gKyB1IDwgNjcxMDg4NjQgPyB0aGlzLndvcmRzWzBdICs9IHUgOiB0aGlzLl9pYWRkbih1KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuc3RyaXAoKTtcbiAgICB9LCBzLnByb3RvdHlwZS5jb3B5ID0gZnVuY3Rpb24ocCkge1xuICAgICAgcC53b3JkcyA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aCk7XG4gICAgICBmb3IgKHZhciBsID0gMDsgbCA8IHRoaXMubGVuZ3RoOyBsKyspXG4gICAgICAgIHAud29yZHNbbF0gPSB0aGlzLndvcmRzW2xdO1xuICAgICAgcC5sZW5ndGggPSB0aGlzLmxlbmd0aCwgcC5uZWdhdGl2ZSA9IHRoaXMubmVnYXRpdmUsIHAucmVkID0gdGhpcy5yZWQ7XG4gICAgfSwgcy5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwID0gbmV3IHMobnVsbCk7XG4gICAgICByZXR1cm4gdGhpcy5jb3B5KHApLCBwO1xuICAgIH0sIHMucHJvdG90eXBlLl9leHBhbmQgPSBmdW5jdGlvbihwKSB7XG4gICAgICBmb3IgKDsgdGhpcy5sZW5ndGggPCBwOyApXG4gICAgICAgIHRoaXMud29yZHNbdGhpcy5sZW5ndGgrK10gPSAwO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSwgcy5wcm90b3R5cGUuc3RyaXAgPSBmdW5jdGlvbigpIHtcbiAgICAgIGZvciAoOyB0aGlzLmxlbmd0aCA+IDEgJiYgdGhpcy53b3Jkc1t0aGlzLmxlbmd0aCAtIDFdID09PSAwOyApXG4gICAgICAgIHRoaXMubGVuZ3RoLS07XG4gICAgICByZXR1cm4gdGhpcy5fbm9ybVNpZ24oKTtcbiAgICB9LCBzLnByb3RvdHlwZS5fbm9ybVNpZ24gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmxlbmd0aCA9PT0gMSAmJiB0aGlzLndvcmRzWzBdID09PSAwICYmICh0aGlzLm5lZ2F0aXZlID0gMCksIHRoaXM7XG4gICAgfSwgcy5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICh0aGlzLnJlZCA/IFwiPEJOLVI6IFwiIDogXCI8Qk46IFwiKSArIHRoaXMudG9TdHJpbmcoMTYpICsgXCI+XCI7XG4gICAgfTtcbiAgICB2YXIgdiA9IFtcbiAgICAgIFwiXCIsXG4gICAgICBcIjBcIixcbiAgICAgIFwiMDBcIixcbiAgICAgIFwiMDAwXCIsXG4gICAgICBcIjAwMDBcIixcbiAgICAgIFwiMDAwMDBcIixcbiAgICAgIFwiMDAwMDAwXCIsXG4gICAgICBcIjAwMDAwMDBcIixcbiAgICAgIFwiMDAwMDAwMDBcIixcbiAgICAgIFwiMDAwMDAwMDAwXCIsXG4gICAgICBcIjAwMDAwMDAwMDBcIixcbiAgICAgIFwiMDAwMDAwMDAwMDBcIixcbiAgICAgIFwiMDAwMDAwMDAwMDAwXCIsXG4gICAgICBcIjAwMDAwMDAwMDAwMDBcIixcbiAgICAgIFwiMDAwMDAwMDAwMDAwMDBcIixcbiAgICAgIFwiMDAwMDAwMDAwMDAwMDAwXCIsXG4gICAgICBcIjAwMDAwMDAwMDAwMDAwMDBcIixcbiAgICAgIFwiMDAwMDAwMDAwMDAwMDAwMDBcIixcbiAgICAgIFwiMDAwMDAwMDAwMDAwMDAwMDAwXCIsXG4gICAgICBcIjAwMDAwMDAwMDAwMDAwMDAwMDBcIixcbiAgICAgIFwiMDAwMDAwMDAwMDAwMDAwMDAwMDBcIixcbiAgICAgIFwiMDAwMDAwMDAwMDAwMDAwMDAwMDAwXCIsXG4gICAgICBcIjAwMDAwMDAwMDAwMDAwMDAwMDAwMDBcIixcbiAgICAgIFwiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBcIixcbiAgICAgIFwiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwXCIsXG4gICAgICBcIjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBcIlxuICAgIF0sIHcgPSBbXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDI1LFxuICAgICAgMTYsXG4gICAgICAxMixcbiAgICAgIDExLFxuICAgICAgMTAsXG4gICAgICA5LFxuICAgICAgOCxcbiAgICAgIDgsXG4gICAgICA3LFxuICAgICAgNyxcbiAgICAgIDcsXG4gICAgICA3LFxuICAgICAgNixcbiAgICAgIDYsXG4gICAgICA2LFxuICAgICAgNixcbiAgICAgIDYsXG4gICAgICA2LFxuICAgICAgNixcbiAgICAgIDUsXG4gICAgICA1LFxuICAgICAgNSxcbiAgICAgIDUsXG4gICAgICA1LFxuICAgICAgNSxcbiAgICAgIDUsXG4gICAgICA1LFxuICAgICAgNSxcbiAgICAgIDUsXG4gICAgICA1LFxuICAgICAgNSxcbiAgICAgIDUsXG4gICAgICA1LFxuICAgICAgNSxcbiAgICAgIDVcbiAgICBdLCBBID0gW1xuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAzMzU1NDQzMixcbiAgICAgIDQzMDQ2NzIxLFxuICAgICAgMTY3NzcyMTYsXG4gICAgICA0ODgyODEyNSxcbiAgICAgIDYwNDY2MTc2LFxuICAgICAgNDAzNTM2MDcsXG4gICAgICAxNjc3NzIxNixcbiAgICAgIDQzMDQ2NzIxLFxuICAgICAgMWU3LFxuICAgICAgMTk0ODcxNzEsXG4gICAgICAzNTgzMTgwOCxcbiAgICAgIDYyNzQ4NTE3LFxuICAgICAgNzUyOTUzNixcbiAgICAgIDExMzkwNjI1LFxuICAgICAgMTY3NzcyMTYsXG4gICAgICAyNDEzNzU2OSxcbiAgICAgIDM0MDEyMjI0LFxuICAgICAgNDcwNDU4ODEsXG4gICAgICA2NGU2LFxuICAgICAgNDA4NDEwMSxcbiAgICAgIDUxNTM2MzIsXG4gICAgICA2NDM2MzQzLFxuICAgICAgNzk2MjYyNCxcbiAgICAgIDk3NjU2MjUsXG4gICAgICAxMTg4MTM3NixcbiAgICAgIDE0MzQ4OTA3LFxuICAgICAgMTcyMTAzNjgsXG4gICAgICAyMDUxMTE0OSxcbiAgICAgIDI0M2U1LFxuICAgICAgMjg2MjkxNTEsXG4gICAgICAzMzU1NDQzMixcbiAgICAgIDM5MTM1MzkzLFxuICAgICAgNDU0MzU0MjQsXG4gICAgICA1MjUyMTg3NSxcbiAgICAgIDYwNDY2MTc2XG4gICAgXTtcbiAgICBzLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKHAsIGwpIHtcbiAgICAgIHAgPSBwIHx8IDEwLCBsID0gbCB8IDAgfHwgMTtcbiAgICAgIHZhciBhO1xuICAgICAgaWYgKHAgPT09IDE2IHx8IHAgPT09IFwiaGV4XCIpIHtcbiAgICAgICAgYSA9IFwiXCI7XG4gICAgICAgIGZvciAodmFyIGMgPSAwLCBiID0gMCwgRSA9IDA7IEUgPCB0aGlzLmxlbmd0aDsgRSsrKSB7XG4gICAgICAgICAgdmFyIFMgPSB0aGlzLndvcmRzW0VdLCB4ID0gKChTIDw8IGMgfCBiKSAmIDE2Nzc3MjE1KS50b1N0cmluZygxNik7XG4gICAgICAgICAgYiA9IFMgPj4+IDI0IC0gYyAmIDE2Nzc3MjE1LCBjICs9IDIsIGMgPj0gMjYgJiYgKGMgLT0gMjYsIEUtLSksIGIgIT09IDAgfHwgRSAhPT0gdGhpcy5sZW5ndGggLSAxID8gYSA9IHZbNiAtIHgubGVuZ3RoXSArIHggKyBhIDogYSA9IHggKyBhO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoYiAhPT0gMCAmJiAoYSA9IGIudG9TdHJpbmcoMTYpICsgYSk7IGEubGVuZ3RoICUgbCAhPT0gMDsgKVxuICAgICAgICAgIGEgPSBcIjBcIiArIGE7XG4gICAgICAgIHJldHVybiB0aGlzLm5lZ2F0aXZlICE9PSAwICYmIChhID0gXCItXCIgKyBhKSwgYTtcbiAgICAgIH1cbiAgICAgIGlmIChwID09PSAocCB8IDApICYmIHAgPj0gMiAmJiBwIDw9IDM2KSB7XG4gICAgICAgIHZhciB1ID0gd1twXSwgbSA9IEFbcF07XG4gICAgICAgIGEgPSBcIlwiO1xuICAgICAgICB2YXIgZyA9IHRoaXMuY2xvbmUoKTtcbiAgICAgICAgZm9yIChnLm5lZ2F0aXZlID0gMDsgIWcuaXNaZXJvKCk7ICkge1xuICAgICAgICAgIHZhciBQID0gZy5tb2RuKG0pLnRvU3RyaW5nKHApO1xuICAgICAgICAgIGcgPSBnLmlkaXZuKG0pLCBnLmlzWmVybygpID8gYSA9IFAgKyBhIDogYSA9IHZbdSAtIFAubGVuZ3RoXSArIFAgKyBhO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodGhpcy5pc1plcm8oKSAmJiAoYSA9IFwiMFwiICsgYSk7IGEubGVuZ3RoICUgbCAhPT0gMDsgKVxuICAgICAgICAgIGEgPSBcIjBcIiArIGE7XG4gICAgICAgIHJldHVybiB0aGlzLm5lZ2F0aXZlICE9PSAwICYmIChhID0gXCItXCIgKyBhKSwgYTtcbiAgICAgIH1cbiAgICAgIGkoITEsIFwiQmFzZSBzaG91bGQgYmUgYmV0d2VlbiAyIGFuZCAzNlwiKTtcbiAgICB9LCBzLnByb3RvdHlwZS50b051bWJlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHAgPSB0aGlzLndvcmRzWzBdO1xuICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoID09PSAyID8gcCArPSB0aGlzLndvcmRzWzFdICogNjcxMDg4NjQgOiB0aGlzLmxlbmd0aCA9PT0gMyAmJiB0aGlzLndvcmRzWzJdID09PSAxID8gcCArPSA0NTAzNTk5NjI3MzcwNDk2ICsgdGhpcy53b3Jkc1sxXSAqIDY3MTA4ODY0IDogdGhpcy5sZW5ndGggPiAyICYmIGkoITEsIFwiTnVtYmVyIGNhbiBvbmx5IHNhZmVseSBzdG9yZSB1cCB0byA1MyBiaXRzXCIpLCB0aGlzLm5lZ2F0aXZlICE9PSAwID8gLXAgOiBwO1xuICAgIH0sIHMucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudG9TdHJpbmcoMTYpO1xuICAgIH0sIHMucHJvdG90eXBlLnRvQnVmZmVyID0gZnVuY3Rpb24ocCwgbCkge1xuICAgICAgcmV0dXJuIGkodHlwZW9mIG8gPCBcInVcIiksIHRoaXMudG9BcnJheUxpa2UobywgcCwgbCk7XG4gICAgfSwgcy5wcm90b3R5cGUudG9BcnJheSA9IGZ1bmN0aW9uKHAsIGwpIHtcbiAgICAgIHJldHVybiB0aGlzLnRvQXJyYXlMaWtlKEFycmF5LCBwLCBsKTtcbiAgICB9LCBzLnByb3RvdHlwZS50b0FycmF5TGlrZSA9IGZ1bmN0aW9uKHAsIGwsIGEpIHtcbiAgICAgIHZhciBjID0gdGhpcy5ieXRlTGVuZ3RoKCksIGIgPSBhIHx8IE1hdGgubWF4KDEsIGMpO1xuICAgICAgaShjIDw9IGIsIFwiYnl0ZSBhcnJheSBsb25nZXIgdGhhbiBkZXNpcmVkIGxlbmd0aFwiKSwgaShiID4gMCwgXCJSZXF1ZXN0ZWQgYXJyYXkgbGVuZ3RoIDw9IDBcIiksIHRoaXMuc3RyaXAoKTtcbiAgICAgIHZhciBFID0gbCA9PT0gXCJsZVwiLCBTID0gbmV3IHAoYiksIHgsIHUsIG0gPSB0aGlzLmNsb25lKCk7XG4gICAgICBpZiAoRSkge1xuICAgICAgICBmb3IgKHUgPSAwOyAhbS5pc1plcm8oKTsgdSsrKVxuICAgICAgICAgIHggPSBtLmFuZGxuKDI1NSksIG0uaXVzaHJuKDgpLCBTW3VdID0geDtcbiAgICAgICAgZm9yICg7IHUgPCBiOyB1KyspXG4gICAgICAgICAgU1t1XSA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHUgPSAwOyB1IDwgYiAtIGM7IHUrKylcbiAgICAgICAgICBTW3VdID0gMDtcbiAgICAgICAgZm9yICh1ID0gMDsgIW0uaXNaZXJvKCk7IHUrKylcbiAgICAgICAgICB4ID0gbS5hbmRsbigyNTUpLCBtLml1c2hybig4KSwgU1tiIC0gdSAtIDFdID0geDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBTO1xuICAgIH0sIE1hdGguY2x6MzIgPyBzLnByb3RvdHlwZS5fY291bnRCaXRzID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIDMyIC0gTWF0aC5jbHozMihwKTtcbiAgICB9IDogcy5wcm90b3R5cGUuX2NvdW50Qml0cyA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHZhciBsID0gcCwgYSA9IDA7XG4gICAgICByZXR1cm4gbCA+PSA0MDk2ICYmIChhICs9IDEzLCBsID4+Pj0gMTMpLCBsID49IDY0ICYmIChhICs9IDcsIGwgPj4+PSA3KSwgbCA+PSA4ICYmIChhICs9IDQsIGwgPj4+PSA0KSwgbCA+PSAyICYmIChhICs9IDIsIGwgPj4+PSAyKSwgYSArIGw7XG4gICAgfSwgcy5wcm90b3R5cGUuX3plcm9CaXRzID0gZnVuY3Rpb24ocCkge1xuICAgICAgaWYgKHAgPT09IDApXG4gICAgICAgIHJldHVybiAyNjtcbiAgICAgIHZhciBsID0gcCwgYSA9IDA7XG4gICAgICByZXR1cm4gbCAmIDgxOTEgfHwgKGEgKz0gMTMsIGwgPj4+PSAxMyksIGwgJiAxMjcgfHwgKGEgKz0gNywgbCA+Pj49IDcpLCBsICYgMTUgfHwgKGEgKz0gNCwgbCA+Pj49IDQpLCBsICYgMyB8fCAoYSArPSAyLCBsID4+Pj0gMiksIGwgJiAxIHx8IGErKywgYTtcbiAgICB9LCBzLnByb3RvdHlwZS5iaXRMZW5ndGggPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwID0gdGhpcy53b3Jkc1t0aGlzLmxlbmd0aCAtIDFdLCBsID0gdGhpcy5fY291bnRCaXRzKHApO1xuICAgICAgcmV0dXJuICh0aGlzLmxlbmd0aCAtIDEpICogMjYgKyBsO1xuICAgIH07XG4gICAgZnVuY3Rpb24gSShPKSB7XG4gICAgICBmb3IgKHZhciBwID0gbmV3IEFycmF5KE8uYml0TGVuZ3RoKCkpLCBsID0gMDsgbCA8IHAubGVuZ3RoOyBsKyspIHtcbiAgICAgICAgdmFyIGEgPSBsIC8gMjYgfCAwLCBjID0gbCAlIDI2O1xuICAgICAgICBwW2xdID0gKE8ud29yZHNbYV0gJiAxIDw8IGMpID4+PiBjO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHA7XG4gICAgfVxuICAgIHMucHJvdG90eXBlLnplcm9CaXRzID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5pc1plcm8oKSlcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICBmb3IgKHZhciBwID0gMCwgbCA9IDA7IGwgPCB0aGlzLmxlbmd0aDsgbCsrKSB7XG4gICAgICAgIHZhciBhID0gdGhpcy5femVyb0JpdHModGhpcy53b3Jkc1tsXSk7XG4gICAgICAgIGlmIChwICs9IGEsIGEgIT09IDI2KVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHA7XG4gICAgfSwgcy5wcm90b3R5cGUuYnl0ZUxlbmd0aCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIE1hdGguY2VpbCh0aGlzLmJpdExlbmd0aCgpIC8gOCk7XG4gICAgfSwgcy5wcm90b3R5cGUudG9Ud29zID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHRoaXMubmVnYXRpdmUgIT09IDAgPyB0aGlzLmFicygpLmlub3RuKHApLmlhZGRuKDEpIDogdGhpcy5jbG9uZSgpO1xuICAgIH0sIHMucHJvdG90eXBlLmZyb21Ud29zID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHRoaXMudGVzdG4ocCAtIDEpID8gdGhpcy5ub3RuKHApLmlhZGRuKDEpLmluZWcoKSA6IHRoaXMuY2xvbmUoKTtcbiAgICB9LCBzLnByb3RvdHlwZS5pc05lZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMubmVnYXRpdmUgIT09IDA7XG4gICAgfSwgcy5wcm90b3R5cGUubmVnID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmluZWcoKTtcbiAgICB9LCBzLnByb3RvdHlwZS5pbmVnID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5pc1plcm8oKSB8fCAodGhpcy5uZWdhdGl2ZSBePSAxKSwgdGhpcztcbiAgICB9LCBzLnByb3RvdHlwZS5pdW9yID0gZnVuY3Rpb24ocCkge1xuICAgICAgZm9yICg7IHRoaXMubGVuZ3RoIDwgcC5sZW5ndGg7IClcbiAgICAgICAgdGhpcy53b3Jkc1t0aGlzLmxlbmd0aCsrXSA9IDA7XG4gICAgICBmb3IgKHZhciBsID0gMDsgbCA8IHAubGVuZ3RoOyBsKyspXG4gICAgICAgIHRoaXMud29yZHNbbF0gPSB0aGlzLndvcmRzW2xdIHwgcC53b3Jkc1tsXTtcbiAgICAgIHJldHVybiB0aGlzLnN0cmlwKCk7XG4gICAgfSwgcy5wcm90b3R5cGUuaW9yID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIGkoKHRoaXMubmVnYXRpdmUgfCBwLm5lZ2F0aXZlKSA9PT0gMCksIHRoaXMuaXVvcihwKTtcbiAgICB9LCBzLnByb3RvdHlwZS5vciA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiB0aGlzLmxlbmd0aCA+IHAubGVuZ3RoID8gdGhpcy5jbG9uZSgpLmlvcihwKSA6IHAuY2xvbmUoKS5pb3IodGhpcyk7XG4gICAgfSwgcy5wcm90b3R5cGUudW9yID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoID4gcC5sZW5ndGggPyB0aGlzLmNsb25lKCkuaXVvcihwKSA6IHAuY2xvbmUoKS5pdW9yKHRoaXMpO1xuICAgIH0sIHMucHJvdG90eXBlLml1YW5kID0gZnVuY3Rpb24ocCkge1xuICAgICAgdmFyIGw7XG4gICAgICB0aGlzLmxlbmd0aCA+IHAubGVuZ3RoID8gbCA9IHAgOiBsID0gdGhpcztcbiAgICAgIGZvciAodmFyIGEgPSAwOyBhIDwgbC5sZW5ndGg7IGErKylcbiAgICAgICAgdGhpcy53b3Jkc1thXSA9IHRoaXMud29yZHNbYV0gJiBwLndvcmRzW2FdO1xuICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoID0gbC5sZW5ndGgsIHRoaXMuc3RyaXAoKTtcbiAgICB9LCBzLnByb3RvdHlwZS5pYW5kID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIGkoKHRoaXMubmVnYXRpdmUgfCBwLm5lZ2F0aXZlKSA9PT0gMCksIHRoaXMuaXVhbmQocCk7XG4gICAgfSwgcy5wcm90b3R5cGUuYW5kID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoID4gcC5sZW5ndGggPyB0aGlzLmNsb25lKCkuaWFuZChwKSA6IHAuY2xvbmUoKS5pYW5kKHRoaXMpO1xuICAgIH0sIHMucHJvdG90eXBlLnVhbmQgPSBmdW5jdGlvbihwKSB7XG4gICAgICByZXR1cm4gdGhpcy5sZW5ndGggPiBwLmxlbmd0aCA/IHRoaXMuY2xvbmUoKS5pdWFuZChwKSA6IHAuY2xvbmUoKS5pdWFuZCh0aGlzKTtcbiAgICB9LCBzLnByb3RvdHlwZS5pdXhvciA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHZhciBsLCBhO1xuICAgICAgdGhpcy5sZW5ndGggPiBwLmxlbmd0aCA/IChsID0gdGhpcywgYSA9IHApIDogKGwgPSBwLCBhID0gdGhpcyk7XG4gICAgICBmb3IgKHZhciBjID0gMDsgYyA8IGEubGVuZ3RoOyBjKyspXG4gICAgICAgIHRoaXMud29yZHNbY10gPSBsLndvcmRzW2NdIF4gYS53b3Jkc1tjXTtcbiAgICAgIGlmICh0aGlzICE9PSBsKVxuICAgICAgICBmb3IgKDsgYyA8IGwubGVuZ3RoOyBjKyspXG4gICAgICAgICAgdGhpcy53b3Jkc1tjXSA9IGwud29yZHNbY107XG4gICAgICByZXR1cm4gdGhpcy5sZW5ndGggPSBsLmxlbmd0aCwgdGhpcy5zdHJpcCgpO1xuICAgIH0sIHMucHJvdG90eXBlLml4b3IgPSBmdW5jdGlvbihwKSB7XG4gICAgICByZXR1cm4gaSgodGhpcy5uZWdhdGl2ZSB8IHAubmVnYXRpdmUpID09PSAwKSwgdGhpcy5pdXhvcihwKTtcbiAgICB9LCBzLnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbihwKSB7XG4gICAgICByZXR1cm4gdGhpcy5sZW5ndGggPiBwLmxlbmd0aCA/IHRoaXMuY2xvbmUoKS5peG9yKHApIDogcC5jbG9uZSgpLml4b3IodGhpcyk7XG4gICAgfSwgcy5wcm90b3R5cGUudXhvciA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiB0aGlzLmxlbmd0aCA+IHAubGVuZ3RoID8gdGhpcy5jbG9uZSgpLml1eG9yKHApIDogcC5jbG9uZSgpLml1eG9yKHRoaXMpO1xuICAgIH0sIHMucHJvdG90eXBlLmlub3RuID0gZnVuY3Rpb24ocCkge1xuICAgICAgaSh0eXBlb2YgcCA9PSBcIm51bWJlclwiICYmIHAgPj0gMCk7XG4gICAgICB2YXIgbCA9IE1hdGguY2VpbChwIC8gMjYpIHwgMCwgYSA9IHAgJSAyNjtcbiAgICAgIHRoaXMuX2V4cGFuZChsKSwgYSA+IDAgJiYgbC0tO1xuICAgICAgZm9yICh2YXIgYyA9IDA7IGMgPCBsOyBjKyspXG4gICAgICAgIHRoaXMud29yZHNbY10gPSB+dGhpcy53b3Jkc1tjXSAmIDY3MTA4ODYzO1xuICAgICAgcmV0dXJuIGEgPiAwICYmICh0aGlzLndvcmRzW2NdID0gfnRoaXMud29yZHNbY10gJiA2NzEwODg2MyA+PiAyNiAtIGEpLCB0aGlzLnN0cmlwKCk7XG4gICAgfSwgcy5wcm90b3R5cGUubm90biA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuaW5vdG4ocCk7XG4gICAgfSwgcy5wcm90b3R5cGUuc2V0biA9IGZ1bmN0aW9uKHAsIGwpIHtcbiAgICAgIGkodHlwZW9mIHAgPT0gXCJudW1iZXJcIiAmJiBwID49IDApO1xuICAgICAgdmFyIGEgPSBwIC8gMjYgfCAwLCBjID0gcCAlIDI2O1xuICAgICAgcmV0dXJuIHRoaXMuX2V4cGFuZChhICsgMSksIGwgPyB0aGlzLndvcmRzW2FdID0gdGhpcy53b3Jkc1thXSB8IDEgPDwgYyA6IHRoaXMud29yZHNbYV0gPSB0aGlzLndvcmRzW2FdICYgfigxIDw8IGMpLCB0aGlzLnN0cmlwKCk7XG4gICAgfSwgcy5wcm90b3R5cGUuaWFkZCA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHZhciBsO1xuICAgICAgaWYgKHRoaXMubmVnYXRpdmUgIT09IDAgJiYgcC5uZWdhdGl2ZSA9PT0gMClcbiAgICAgICAgcmV0dXJuIHRoaXMubmVnYXRpdmUgPSAwLCBsID0gdGhpcy5pc3ViKHApLCB0aGlzLm5lZ2F0aXZlIF49IDEsIHRoaXMuX25vcm1TaWduKCk7XG4gICAgICBpZiAodGhpcy5uZWdhdGl2ZSA9PT0gMCAmJiBwLm5lZ2F0aXZlICE9PSAwKVxuICAgICAgICByZXR1cm4gcC5uZWdhdGl2ZSA9IDAsIGwgPSB0aGlzLmlzdWIocCksIHAubmVnYXRpdmUgPSAxLCBsLl9ub3JtU2lnbigpO1xuICAgICAgdmFyIGEsIGM7XG4gICAgICB0aGlzLmxlbmd0aCA+IHAubGVuZ3RoID8gKGEgPSB0aGlzLCBjID0gcCkgOiAoYSA9IHAsIGMgPSB0aGlzKTtcbiAgICAgIGZvciAodmFyIGIgPSAwLCBFID0gMDsgRSA8IGMubGVuZ3RoOyBFKyspXG4gICAgICAgIGwgPSAoYS53b3Jkc1tFXSB8IDApICsgKGMud29yZHNbRV0gfCAwKSArIGIsIHRoaXMud29yZHNbRV0gPSBsICYgNjcxMDg4NjMsIGIgPSBsID4+PiAyNjtcbiAgICAgIGZvciAoOyBiICE9PSAwICYmIEUgPCBhLmxlbmd0aDsgRSsrKVxuICAgICAgICBsID0gKGEud29yZHNbRV0gfCAwKSArIGIsIHRoaXMud29yZHNbRV0gPSBsICYgNjcxMDg4NjMsIGIgPSBsID4+PiAyNjtcbiAgICAgIGlmICh0aGlzLmxlbmd0aCA9IGEubGVuZ3RoLCBiICE9PSAwKVxuICAgICAgICB0aGlzLndvcmRzW3RoaXMubGVuZ3RoXSA9IGIsIHRoaXMubGVuZ3RoKys7XG4gICAgICBlbHNlIGlmIChhICE9PSB0aGlzKVxuICAgICAgICBmb3IgKDsgRSA8IGEubGVuZ3RoOyBFKyspXG4gICAgICAgICAgdGhpcy53b3Jkc1tFXSA9IGEud29yZHNbRV07XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9LCBzLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihwKSB7XG4gICAgICB2YXIgbDtcbiAgICAgIHJldHVybiBwLm5lZ2F0aXZlICE9PSAwICYmIHRoaXMubmVnYXRpdmUgPT09IDAgPyAocC5uZWdhdGl2ZSA9IDAsIGwgPSB0aGlzLnN1YihwKSwgcC5uZWdhdGl2ZSBePSAxLCBsKSA6IHAubmVnYXRpdmUgPT09IDAgJiYgdGhpcy5uZWdhdGl2ZSAhPT0gMCA/ICh0aGlzLm5lZ2F0aXZlID0gMCwgbCA9IHAuc3ViKHRoaXMpLCB0aGlzLm5lZ2F0aXZlID0gMSwgbCkgOiB0aGlzLmxlbmd0aCA+IHAubGVuZ3RoID8gdGhpcy5jbG9uZSgpLmlhZGQocCkgOiBwLmNsb25lKCkuaWFkZCh0aGlzKTtcbiAgICB9LCBzLnByb3RvdHlwZS5pc3ViID0gZnVuY3Rpb24ocCkge1xuICAgICAgaWYgKHAubmVnYXRpdmUgIT09IDApIHtcbiAgICAgICAgcC5uZWdhdGl2ZSA9IDA7XG4gICAgICAgIHZhciBsID0gdGhpcy5pYWRkKHApO1xuICAgICAgICByZXR1cm4gcC5uZWdhdGl2ZSA9IDEsIGwuX25vcm1TaWduKCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMubmVnYXRpdmUgIT09IDApXG4gICAgICAgIHJldHVybiB0aGlzLm5lZ2F0aXZlID0gMCwgdGhpcy5pYWRkKHApLCB0aGlzLm5lZ2F0aXZlID0gMSwgdGhpcy5fbm9ybVNpZ24oKTtcbiAgICAgIHZhciBhID0gdGhpcy5jbXAocCk7XG4gICAgICBpZiAoYSA9PT0gMClcbiAgICAgICAgcmV0dXJuIHRoaXMubmVnYXRpdmUgPSAwLCB0aGlzLmxlbmd0aCA9IDEsIHRoaXMud29yZHNbMF0gPSAwLCB0aGlzO1xuICAgICAgdmFyIGMsIGI7XG4gICAgICBhID4gMCA/IChjID0gdGhpcywgYiA9IHApIDogKGMgPSBwLCBiID0gdGhpcyk7XG4gICAgICBmb3IgKHZhciBFID0gMCwgUyA9IDA7IFMgPCBiLmxlbmd0aDsgUysrKVxuICAgICAgICBsID0gKGMud29yZHNbU10gfCAwKSAtIChiLndvcmRzW1NdIHwgMCkgKyBFLCBFID0gbCA+PiAyNiwgdGhpcy53b3Jkc1tTXSA9IGwgJiA2NzEwODg2MztcbiAgICAgIGZvciAoOyBFICE9PSAwICYmIFMgPCBjLmxlbmd0aDsgUysrKVxuICAgICAgICBsID0gKGMud29yZHNbU10gfCAwKSArIEUsIEUgPSBsID4+IDI2LCB0aGlzLndvcmRzW1NdID0gbCAmIDY3MTA4ODYzO1xuICAgICAgaWYgKEUgPT09IDAgJiYgUyA8IGMubGVuZ3RoICYmIGMgIT09IHRoaXMpXG4gICAgICAgIGZvciAoOyBTIDwgYy5sZW5ndGg7IFMrKylcbiAgICAgICAgICB0aGlzLndvcmRzW1NdID0gYy53b3Jkc1tTXTtcbiAgICAgIHJldHVybiB0aGlzLmxlbmd0aCA9IE1hdGgubWF4KHRoaXMubGVuZ3RoLCBTKSwgYyAhPT0gdGhpcyAmJiAodGhpcy5uZWdhdGl2ZSA9IDEpLCB0aGlzLnN0cmlwKCk7XG4gICAgfSwgcy5wcm90b3R5cGUuc3ViID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5pc3ViKHApO1xuICAgIH07XG4gICAgZnVuY3Rpb24gRChPLCBwLCBsKSB7XG4gICAgICBsLm5lZ2F0aXZlID0gcC5uZWdhdGl2ZSBeIE8ubmVnYXRpdmU7XG4gICAgICB2YXIgYSA9IE8ubGVuZ3RoICsgcC5sZW5ndGggfCAwO1xuICAgICAgbC5sZW5ndGggPSBhLCBhID0gYSAtIDEgfCAwO1xuICAgICAgdmFyIGMgPSBPLndvcmRzWzBdIHwgMCwgYiA9IHAud29yZHNbMF0gfCAwLCBFID0gYyAqIGIsIFMgPSBFICYgNjcxMDg4NjMsIHggPSBFIC8gNjcxMDg4NjQgfCAwO1xuICAgICAgbC53b3Jkc1swXSA9IFM7XG4gICAgICBmb3IgKHZhciB1ID0gMTsgdSA8IGE7IHUrKykge1xuICAgICAgICBmb3IgKHZhciBtID0geCA+Pj4gMjYsIGcgPSB4ICYgNjcxMDg4NjMsIFAgPSBNYXRoLm1pbih1LCBwLmxlbmd0aCAtIDEpLCBHID0gTWF0aC5tYXgoMCwgdSAtIE8ubGVuZ3RoICsgMSk7IEcgPD0gUDsgRysrKSB7XG4gICAgICAgICAgdmFyIE0gPSB1IC0gRyB8IDA7XG4gICAgICAgICAgYyA9IE8ud29yZHNbTV0gfCAwLCBiID0gcC53b3Jkc1tHXSB8IDAsIEUgPSBjICogYiArIGcsIG0gKz0gRSAvIDY3MTA4ODY0IHwgMCwgZyA9IEUgJiA2NzEwODg2MztcbiAgICAgICAgfVxuICAgICAgICBsLndvcmRzW3VdID0gZyB8IDAsIHggPSBtIHwgMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB4ICE9PSAwID8gbC53b3Jkc1t1XSA9IHggfCAwIDogbC5sZW5ndGgtLSwgbC5zdHJpcCgpO1xuICAgIH1cbiAgICB2YXIgTiA9IGZ1bmN0aW9uKHAsIGwsIGEpIHtcbiAgICAgIHZhciBjID0gcC53b3JkcywgYiA9IGwud29yZHMsIEUgPSBhLndvcmRzLCBTID0gMCwgeCwgdSwgbSwgZyA9IGNbMF0gfCAwLCBQID0gZyAmIDgxOTEsIEcgPSBnID4+PiAxMywgTSA9IGNbMV0gfCAwLCBIID0gTSAmIDgxOTEsIEMgPSBNID4+PiAxMywgcSA9IGNbMl0gfCAwLCBMID0gcSAmIDgxOTEsIHkgPSBxID4+PiAxMywgRiA9IGNbM10gfCAwLCBXID0gRiAmIDgxOTEsIFkgPSBGID4+PiAxMywgWCA9IGNbNF0gfCAwLCBlZSA9IFggJiA4MTkxLCB3ZSA9IFggPj4+IDEzLCBNZSA9IGNbNV0gfCAwLCBoZSA9IE1lICYgODE5MSwgUmUgPSBNZSA+Pj4gMTMsIHhlID0gY1s2XSB8IDAsIHNlID0geGUgJiA4MTkxLCBnZSA9IHhlID4+PiAxMywgbGUgPSBjWzddIHwgMCwgbmUgPSBsZSAmIDgxOTEsIHVlID0gbGUgPj4+IDEzLCBmZSA9IGNbOF0gfCAwLCB0ZSA9IGZlICYgODE5MSwgcGUgPSBmZSA+Pj4gMTMsIF9lID0gY1s5XSB8IDAsIHJlID0gX2UgJiA4MTkxLCBFZSA9IF9lID4+PiAxMywgU2UgPSBiWzBdIHwgMCwgb2UgPSBTZSAmIDgxOTEsIERlID0gU2UgPj4+IDEzLCBJZSA9IGJbMV0gfCAwLCBQZSA9IEllICYgODE5MSwgR2UgPSBJZSA+Pj4gMTMsIFllID0gYlsyXSB8IDAsIEFlID0gWWUgJiA4MTkxLCBaZSA9IFllID4+PiAxMywgZXQgPSBiWzNdIHwgMCwgTmUgPSBldCAmIDgxOTEsIENlID0gZXQgPj4+IDEzLCBUZSA9IGJbNF0gfCAwLCBkZSA9IFRlICYgODE5MSwgJGUgPSBUZSA+Pj4gMTMsIExlID0gYls1XSB8IDAsIGNlID0gTGUgJiA4MTkxLCBVZSA9IExlID4+PiAxMywgemUgPSBiWzZdIHwgMCwgeWUgPSB6ZSAmIDgxOTEsIEJlID0gemUgPj4+IDEzLCBrZSA9IGJbN10gfCAwLCB2ZSA9IGtlICYgODE5MSwgRmUgPSBrZSA+Pj4gMTMsIE9lID0gYls4XSB8IDAsIG1lID0gT2UgJiA4MTkxLCBqZSA9IE9lID4+PiAxMywgcnQgPSBiWzldIHwgMCwgcWUgPSBydCAmIDgxOTEsIGl0ID0gcnQgPj4+IDEzO1xuICAgICAgYS5uZWdhdGl2ZSA9IHAubmVnYXRpdmUgXiBsLm5lZ2F0aXZlLCBhLmxlbmd0aCA9IDE5LCB4ID0gTWF0aC5pbXVsKFAsIG9lKSwgdSA9IE1hdGguaW11bChQLCBEZSksIHUgPSB1ICsgTWF0aC5pbXVsKEcsIG9lKSB8IDAsIG0gPSBNYXRoLmltdWwoRywgRGUpO1xuICAgICAgdmFyIEplID0gKFMgKyB4IHwgMCkgKyAoKHUgJiA4MTkxKSA8PCAxMykgfCAwO1xuICAgICAgUyA9IChtICsgKHUgPj4+IDEzKSB8IDApICsgKEplID4+PiAyNikgfCAwLCBKZSAmPSA2NzEwODg2MywgeCA9IE1hdGguaW11bChILCBvZSksIHUgPSBNYXRoLmltdWwoSCwgRGUpLCB1ID0gdSArIE1hdGguaW11bChDLCBvZSkgfCAwLCBtID0gTWF0aC5pbXVsKEMsIERlKSwgeCA9IHggKyBNYXRoLmltdWwoUCwgUGUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoUCwgR2UpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoRywgUGUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoRywgR2UpIHwgMDtcbiAgICAgIHZhciB0dCA9IChTICsgeCB8IDApICsgKCh1ICYgODE5MSkgPDwgMTMpIHwgMDtcbiAgICAgIFMgPSAobSArICh1ID4+PiAxMykgfCAwKSArICh0dCA+Pj4gMjYpIHwgMCwgdHQgJj0gNjcxMDg4NjMsIHggPSBNYXRoLmltdWwoTCwgb2UpLCB1ID0gTWF0aC5pbXVsKEwsIERlKSwgdSA9IHUgKyBNYXRoLmltdWwoeSwgb2UpIHwgMCwgbSA9IE1hdGguaW11bCh5LCBEZSksIHggPSB4ICsgTWF0aC5pbXVsKEgsIFBlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKEgsIEdlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKEMsIFBlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKEMsIEdlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKFAsIEFlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKFAsIFplKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKEcsIEFlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKEcsIFplKSB8IDA7XG4gICAgICB2YXIganQgPSAoUyArIHggfCAwKSArICgodSAmIDgxOTEpIDw8IDEzKSB8IDA7XG4gICAgICBTID0gKG0gKyAodSA+Pj4gMTMpIHwgMCkgKyAoanQgPj4+IDI2KSB8IDAsIGp0ICY9IDY3MTA4ODYzLCB4ID0gTWF0aC5pbXVsKFcsIG9lKSwgdSA9IE1hdGguaW11bChXLCBEZSksIHUgPSB1ICsgTWF0aC5pbXVsKFksIG9lKSB8IDAsIG0gPSBNYXRoLmltdWwoWSwgRGUpLCB4ID0geCArIE1hdGguaW11bChMLCBQZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChMLCBHZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bCh5LCBQZSkgfCAwLCBtID0gbSArIE1hdGguaW11bCh5LCBHZSkgfCAwLCB4ID0geCArIE1hdGguaW11bChILCBBZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChILCBaZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChDLCBBZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChDLCBaZSkgfCAwLCB4ID0geCArIE1hdGguaW11bChQLCBOZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChQLCBDZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChHLCBOZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChHLCBDZSkgfCAwO1xuICAgICAgdmFyIEt0ID0gKFMgKyB4IHwgMCkgKyAoKHUgJiA4MTkxKSA8PCAxMykgfCAwO1xuICAgICAgUyA9IChtICsgKHUgPj4+IDEzKSB8IDApICsgKEt0ID4+PiAyNikgfCAwLCBLdCAmPSA2NzEwODg2MywgeCA9IE1hdGguaW11bChlZSwgb2UpLCB1ID0gTWF0aC5pbXVsKGVlLCBEZSksIHUgPSB1ICsgTWF0aC5pbXVsKHdlLCBvZSkgfCAwLCBtID0gTWF0aC5pbXVsKHdlLCBEZSksIHggPSB4ICsgTWF0aC5pbXVsKFcsIFBlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKFcsIEdlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKFksIFBlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKFksIEdlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKEwsIEFlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKEwsIFplKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKHksIEFlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKHksIFplKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKEgsIE5lKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKEgsIENlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKEMsIE5lKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKEMsIENlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKFAsIGRlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKFAsICRlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKEcsIGRlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKEcsICRlKSB8IDA7XG4gICAgICB2YXIgSHQgPSAoUyArIHggfCAwKSArICgodSAmIDgxOTEpIDw8IDEzKSB8IDA7XG4gICAgICBTID0gKG0gKyAodSA+Pj4gMTMpIHwgMCkgKyAoSHQgPj4+IDI2KSB8IDAsIEh0ICY9IDY3MTA4ODYzLCB4ID0gTWF0aC5pbXVsKGhlLCBvZSksIHUgPSBNYXRoLmltdWwoaGUsIERlKSwgdSA9IHUgKyBNYXRoLmltdWwoUmUsIG9lKSB8IDAsIG0gPSBNYXRoLmltdWwoUmUsIERlKSwgeCA9IHggKyBNYXRoLmltdWwoZWUsIFBlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKGVlLCBHZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bCh3ZSwgUGUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwod2UsIEdlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKFcsIEFlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKFcsIFplKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKFksIEFlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKFksIFplKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKEwsIE5lKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKEwsIENlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKHksIE5lKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKHksIENlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKEgsIGRlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKEgsICRlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKEMsIGRlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKEMsICRlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKFAsIGNlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKFAsIFVlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKEcsIGNlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKEcsIFVlKSB8IDA7XG4gICAgICB2YXIgVnQgPSAoUyArIHggfCAwKSArICgodSAmIDgxOTEpIDw8IDEzKSB8IDA7XG4gICAgICBTID0gKG0gKyAodSA+Pj4gMTMpIHwgMCkgKyAoVnQgPj4+IDI2KSB8IDAsIFZ0ICY9IDY3MTA4ODYzLCB4ID0gTWF0aC5pbXVsKHNlLCBvZSksIHUgPSBNYXRoLmltdWwoc2UsIERlKSwgdSA9IHUgKyBNYXRoLmltdWwoZ2UsIG9lKSB8IDAsIG0gPSBNYXRoLmltdWwoZ2UsIERlKSwgeCA9IHggKyBNYXRoLmltdWwoaGUsIFBlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKGhlLCBHZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChSZSwgUGUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoUmUsIEdlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKGVlLCBBZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChlZSwgWmUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwod2UsIEFlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKHdlLCBaZSkgfCAwLCB4ID0geCArIE1hdGguaW11bChXLCBOZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChXLCBDZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChZLCBOZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChZLCBDZSkgfCAwLCB4ID0geCArIE1hdGguaW11bChMLCBkZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChMLCAkZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bCh5LCBkZSkgfCAwLCBtID0gbSArIE1hdGguaW11bCh5LCAkZSkgfCAwLCB4ID0geCArIE1hdGguaW11bChILCBjZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChILCBVZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChDLCBjZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChDLCBVZSkgfCAwLCB4ID0geCArIE1hdGguaW11bChQLCB5ZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChQLCBCZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChHLCB5ZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChHLCBCZSkgfCAwO1xuICAgICAgdmFyIGd0ID0gKFMgKyB4IHwgMCkgKyAoKHUgJiA4MTkxKSA8PCAxMykgfCAwO1xuICAgICAgUyA9IChtICsgKHUgPj4+IDEzKSB8IDApICsgKGd0ID4+PiAyNikgfCAwLCBndCAmPSA2NzEwODg2MywgeCA9IE1hdGguaW11bChuZSwgb2UpLCB1ID0gTWF0aC5pbXVsKG5lLCBEZSksIHUgPSB1ICsgTWF0aC5pbXVsKHVlLCBvZSkgfCAwLCBtID0gTWF0aC5pbXVsKHVlLCBEZSksIHggPSB4ICsgTWF0aC5pbXVsKHNlLCBQZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChzZSwgR2UpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoZ2UsIFBlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKGdlLCBHZSkgfCAwLCB4ID0geCArIE1hdGguaW11bChoZSwgQWUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoaGUsIFplKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKFJlLCBBZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChSZSwgWmUpIHwgMCwgeCA9IHggKyBNYXRoLmltdWwoZWUsIE5lKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKGVlLCBDZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bCh3ZSwgTmUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwod2UsIENlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKFcsIGRlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKFcsICRlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKFksIGRlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKFksICRlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKEwsIGNlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKEwsIFVlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKHksIGNlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKHksIFVlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKEgsIHllKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKEgsIEJlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKEMsIHllKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKEMsIEJlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKFAsIHZlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKFAsIEZlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKEcsIHZlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKEcsIEZlKSB8IDA7XG4gICAgICB2YXIgVnIgPSAoUyArIHggfCAwKSArICgodSAmIDgxOTEpIDw8IDEzKSB8IDA7XG4gICAgICBTID0gKG0gKyAodSA+Pj4gMTMpIHwgMCkgKyAoVnIgPj4+IDI2KSB8IDAsIFZyICY9IDY3MTA4ODYzLCB4ID0gTWF0aC5pbXVsKHRlLCBvZSksIHUgPSBNYXRoLmltdWwodGUsIERlKSwgdSA9IHUgKyBNYXRoLmltdWwocGUsIG9lKSB8IDAsIG0gPSBNYXRoLmltdWwocGUsIERlKSwgeCA9IHggKyBNYXRoLmltdWwobmUsIFBlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKG5lLCBHZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bCh1ZSwgUGUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwodWUsIEdlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKHNlLCBBZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChzZSwgWmUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoZ2UsIEFlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKGdlLCBaZSkgfCAwLCB4ID0geCArIE1hdGguaW11bChoZSwgTmUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoaGUsIENlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKFJlLCBOZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChSZSwgQ2UpIHwgMCwgeCA9IHggKyBNYXRoLmltdWwoZWUsIGRlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKGVlLCAkZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bCh3ZSwgZGUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwod2UsICRlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKFcsIGNlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKFcsIFVlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKFksIGNlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKFksIFVlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKEwsIHllKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKEwsIEJlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKHksIHllKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKHksIEJlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKEgsIHZlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKEgsIEZlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKEMsIHZlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKEMsIEZlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKFAsIG1lKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKFAsIGplKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKEcsIG1lKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKEcsIGplKSB8IDA7XG4gICAgICB2YXIgV3IgPSAoUyArIHggfCAwKSArICgodSAmIDgxOTEpIDw8IDEzKSB8IDA7XG4gICAgICBTID0gKG0gKyAodSA+Pj4gMTMpIHwgMCkgKyAoV3IgPj4+IDI2KSB8IDAsIFdyICY9IDY3MTA4ODYzLCB4ID0gTWF0aC5pbXVsKHJlLCBvZSksIHUgPSBNYXRoLmltdWwocmUsIERlKSwgdSA9IHUgKyBNYXRoLmltdWwoRWUsIG9lKSB8IDAsIG0gPSBNYXRoLmltdWwoRWUsIERlKSwgeCA9IHggKyBNYXRoLmltdWwodGUsIFBlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKHRlLCBHZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChwZSwgUGUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwocGUsIEdlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKG5lLCBBZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChuZSwgWmUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwodWUsIEFlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKHVlLCBaZSkgfCAwLCB4ID0geCArIE1hdGguaW11bChzZSwgTmUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoc2UsIENlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKGdlLCBOZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChnZSwgQ2UpIHwgMCwgeCA9IHggKyBNYXRoLmltdWwoaGUsIGRlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKGhlLCAkZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChSZSwgZGUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoUmUsICRlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKGVlLCBjZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChlZSwgVWUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwod2UsIGNlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKHdlLCBVZSkgfCAwLCB4ID0geCArIE1hdGguaW11bChXLCB5ZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChXLCBCZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChZLCB5ZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChZLCBCZSkgfCAwLCB4ID0geCArIE1hdGguaW11bChMLCB2ZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChMLCBGZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bCh5LCB2ZSkgfCAwLCBtID0gbSArIE1hdGguaW11bCh5LCBGZSkgfCAwLCB4ID0geCArIE1hdGguaW11bChILCBtZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChILCBqZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChDLCBtZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChDLCBqZSkgfCAwLCB4ID0geCArIE1hdGguaW11bChQLCBxZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChQLCBpdCkgfCAwLCB1ID0gdSArIE1hdGguaW11bChHLCBxZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChHLCBpdCkgfCAwO1xuICAgICAgdmFyIEdyID0gKFMgKyB4IHwgMCkgKyAoKHUgJiA4MTkxKSA8PCAxMykgfCAwO1xuICAgICAgUyA9IChtICsgKHUgPj4+IDEzKSB8IDApICsgKEdyID4+PiAyNikgfCAwLCBHciAmPSA2NzEwODg2MywgeCA9IE1hdGguaW11bChyZSwgUGUpLCB1ID0gTWF0aC5pbXVsKHJlLCBHZSksIHUgPSB1ICsgTWF0aC5pbXVsKEVlLCBQZSkgfCAwLCBtID0gTWF0aC5pbXVsKEVlLCBHZSksIHggPSB4ICsgTWF0aC5pbXVsKHRlLCBBZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bCh0ZSwgWmUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwocGUsIEFlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKHBlLCBaZSkgfCAwLCB4ID0geCArIE1hdGguaW11bChuZSwgTmUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwobmUsIENlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKHVlLCBOZSkgfCAwLCBtID0gbSArIE1hdGguaW11bCh1ZSwgQ2UpIHwgMCwgeCA9IHggKyBNYXRoLmltdWwoc2UsIGRlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKHNlLCAkZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChnZSwgZGUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoZ2UsICRlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKGhlLCBjZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChoZSwgVWUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoUmUsIGNlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKFJlLCBVZSkgfCAwLCB4ID0geCArIE1hdGguaW11bChlZSwgeWUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoZWUsIEJlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKHdlLCB5ZSkgfCAwLCBtID0gbSArIE1hdGguaW11bCh3ZSwgQmUpIHwgMCwgeCA9IHggKyBNYXRoLmltdWwoVywgdmUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoVywgRmUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoWSwgdmUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoWSwgRmUpIHwgMCwgeCA9IHggKyBNYXRoLmltdWwoTCwgbWUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoTCwgamUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoeSwgbWUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoeSwgamUpIHwgMCwgeCA9IHggKyBNYXRoLmltdWwoSCwgcWUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoSCwgaXQpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoQywgcWUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoQywgaXQpIHwgMDtcbiAgICAgIHZhciBKciA9IChTICsgeCB8IDApICsgKCh1ICYgODE5MSkgPDwgMTMpIHwgMDtcbiAgICAgIFMgPSAobSArICh1ID4+PiAxMykgfCAwKSArIChKciA+Pj4gMjYpIHwgMCwgSnIgJj0gNjcxMDg4NjMsIHggPSBNYXRoLmltdWwocmUsIEFlKSwgdSA9IE1hdGguaW11bChyZSwgWmUpLCB1ID0gdSArIE1hdGguaW11bChFZSwgQWUpIHwgMCwgbSA9IE1hdGguaW11bChFZSwgWmUpLCB4ID0geCArIE1hdGguaW11bCh0ZSwgTmUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwodGUsIENlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKHBlLCBOZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChwZSwgQ2UpIHwgMCwgeCA9IHggKyBNYXRoLmltdWwobmUsIGRlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKG5lLCAkZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bCh1ZSwgZGUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwodWUsICRlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKHNlLCBjZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChzZSwgVWUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoZ2UsIGNlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKGdlLCBVZSkgfCAwLCB4ID0geCArIE1hdGguaW11bChoZSwgeWUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoaGUsIEJlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKFJlLCB5ZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChSZSwgQmUpIHwgMCwgeCA9IHggKyBNYXRoLmltdWwoZWUsIHZlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKGVlLCBGZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bCh3ZSwgdmUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwod2UsIEZlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKFcsIG1lKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKFcsIGplKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKFksIG1lKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKFksIGplKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKEwsIHFlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKEwsIGl0KSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKHksIHFlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKHksIGl0KSB8IDA7XG4gICAgICB2YXIgWXIgPSAoUyArIHggfCAwKSArICgodSAmIDgxOTEpIDw8IDEzKSB8IDA7XG4gICAgICBTID0gKG0gKyAodSA+Pj4gMTMpIHwgMCkgKyAoWXIgPj4+IDI2KSB8IDAsIFlyICY9IDY3MTA4ODYzLCB4ID0gTWF0aC5pbXVsKHJlLCBOZSksIHUgPSBNYXRoLmltdWwocmUsIENlKSwgdSA9IHUgKyBNYXRoLmltdWwoRWUsIE5lKSB8IDAsIG0gPSBNYXRoLmltdWwoRWUsIENlKSwgeCA9IHggKyBNYXRoLmltdWwodGUsIGRlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKHRlLCAkZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChwZSwgZGUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwocGUsICRlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKG5lLCBjZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChuZSwgVWUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwodWUsIGNlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKHVlLCBVZSkgfCAwLCB4ID0geCArIE1hdGguaW11bChzZSwgeWUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoc2UsIEJlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKGdlLCB5ZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChnZSwgQmUpIHwgMCwgeCA9IHggKyBNYXRoLmltdWwoaGUsIHZlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKGhlLCBGZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChSZSwgdmUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoUmUsIEZlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKGVlLCBtZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChlZSwgamUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwod2UsIG1lKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKHdlLCBqZSkgfCAwLCB4ID0geCArIE1hdGguaW11bChXLCBxZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChXLCBpdCkgfCAwLCB1ID0gdSArIE1hdGguaW11bChZLCBxZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChZLCBpdCkgfCAwO1xuICAgICAgdmFyIG9yID0gKFMgKyB4IHwgMCkgKyAoKHUgJiA4MTkxKSA8PCAxMykgfCAwO1xuICAgICAgUyA9IChtICsgKHUgPj4+IDEzKSB8IDApICsgKG9yID4+PiAyNikgfCAwLCBvciAmPSA2NzEwODg2MywgeCA9IE1hdGguaW11bChyZSwgZGUpLCB1ID0gTWF0aC5pbXVsKHJlLCAkZSksIHUgPSB1ICsgTWF0aC5pbXVsKEVlLCBkZSkgfCAwLCBtID0gTWF0aC5pbXVsKEVlLCAkZSksIHggPSB4ICsgTWF0aC5pbXVsKHRlLCBjZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bCh0ZSwgVWUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwocGUsIGNlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKHBlLCBVZSkgfCAwLCB4ID0geCArIE1hdGguaW11bChuZSwgeWUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwobmUsIEJlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKHVlLCB5ZSkgfCAwLCBtID0gbSArIE1hdGguaW11bCh1ZSwgQmUpIHwgMCwgeCA9IHggKyBNYXRoLmltdWwoc2UsIHZlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKHNlLCBGZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChnZSwgdmUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwoZ2UsIEZlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKGhlLCBtZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChoZSwgamUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoUmUsIG1lKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKFJlLCBqZSkgfCAwLCB4ID0geCArIE1hdGguaW11bChlZSwgcWUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoZWUsIGl0KSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKHdlLCBxZSkgfCAwLCBtID0gbSArIE1hdGguaW11bCh3ZSwgaXQpIHwgMDtcbiAgICAgIHZhciBYciA9IChTICsgeCB8IDApICsgKCh1ICYgODE5MSkgPDwgMTMpIHwgMDtcbiAgICAgIFMgPSAobSArICh1ID4+PiAxMykgfCAwKSArIChYciA+Pj4gMjYpIHwgMCwgWHIgJj0gNjcxMDg4NjMsIHggPSBNYXRoLmltdWwocmUsIGNlKSwgdSA9IE1hdGguaW11bChyZSwgVWUpLCB1ID0gdSArIE1hdGguaW11bChFZSwgY2UpIHwgMCwgbSA9IE1hdGguaW11bChFZSwgVWUpLCB4ID0geCArIE1hdGguaW11bCh0ZSwgeWUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwodGUsIEJlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKHBlLCB5ZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChwZSwgQmUpIHwgMCwgeCA9IHggKyBNYXRoLmltdWwobmUsIHZlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKG5lLCBGZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bCh1ZSwgdmUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwodWUsIEZlKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKHNlLCBtZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChzZSwgamUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoZ2UsIG1lKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKGdlLCBqZSkgfCAwLCB4ID0geCArIE1hdGguaW11bChoZSwgcWUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoaGUsIGl0KSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKFJlLCBxZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChSZSwgaXQpIHwgMDtcbiAgICAgIHZhciBaciA9IChTICsgeCB8IDApICsgKCh1ICYgODE5MSkgPDwgMTMpIHwgMDtcbiAgICAgIFMgPSAobSArICh1ID4+PiAxMykgfCAwKSArIChaciA+Pj4gMjYpIHwgMCwgWnIgJj0gNjcxMDg4NjMsIHggPSBNYXRoLmltdWwocmUsIHllKSwgdSA9IE1hdGguaW11bChyZSwgQmUpLCB1ID0gdSArIE1hdGguaW11bChFZSwgeWUpIHwgMCwgbSA9IE1hdGguaW11bChFZSwgQmUpLCB4ID0geCArIE1hdGguaW11bCh0ZSwgdmUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwodGUsIEZlKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKHBlLCB2ZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChwZSwgRmUpIHwgMCwgeCA9IHggKyBNYXRoLmltdWwobmUsIG1lKSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKG5lLCBqZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bCh1ZSwgbWUpIHwgMCwgbSA9IG0gKyBNYXRoLmltdWwodWUsIGplKSB8IDAsIHggPSB4ICsgTWF0aC5pbXVsKHNlLCBxZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bChzZSwgaXQpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwoZ2UsIHFlKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKGdlLCBpdCkgfCAwO1xuICAgICAgdmFyICR0ID0gKFMgKyB4IHwgMCkgKyAoKHUgJiA4MTkxKSA8PCAxMykgfCAwO1xuICAgICAgUyA9IChtICsgKHUgPj4+IDEzKSB8IDApICsgKCR0ID4+PiAyNikgfCAwLCAkdCAmPSA2NzEwODg2MywgeCA9IE1hdGguaW11bChyZSwgdmUpLCB1ID0gTWF0aC5pbXVsKHJlLCBGZSksIHUgPSB1ICsgTWF0aC5pbXVsKEVlLCB2ZSkgfCAwLCBtID0gTWF0aC5pbXVsKEVlLCBGZSksIHggPSB4ICsgTWF0aC5pbXVsKHRlLCBtZSkgfCAwLCB1ID0gdSArIE1hdGguaW11bCh0ZSwgamUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwocGUsIG1lKSB8IDAsIG0gPSBtICsgTWF0aC5pbXVsKHBlLCBqZSkgfCAwLCB4ID0geCArIE1hdGguaW11bChuZSwgcWUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwobmUsIGl0KSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKHVlLCBxZSkgfCAwLCBtID0gbSArIE1hdGguaW11bCh1ZSwgaXQpIHwgMDtcbiAgICAgIHZhciBRciA9IChTICsgeCB8IDApICsgKCh1ICYgODE5MSkgPDwgMTMpIHwgMDtcbiAgICAgIFMgPSAobSArICh1ID4+PiAxMykgfCAwKSArIChRciA+Pj4gMjYpIHwgMCwgUXIgJj0gNjcxMDg4NjMsIHggPSBNYXRoLmltdWwocmUsIG1lKSwgdSA9IE1hdGguaW11bChyZSwgamUpLCB1ID0gdSArIE1hdGguaW11bChFZSwgbWUpIHwgMCwgbSA9IE1hdGguaW11bChFZSwgamUpLCB4ID0geCArIE1hdGguaW11bCh0ZSwgcWUpIHwgMCwgdSA9IHUgKyBNYXRoLmltdWwodGUsIGl0KSB8IDAsIHUgPSB1ICsgTWF0aC5pbXVsKHBlLCBxZSkgfCAwLCBtID0gbSArIE1hdGguaW11bChwZSwgaXQpIHwgMDtcbiAgICAgIHZhciBlaSA9IChTICsgeCB8IDApICsgKCh1ICYgODE5MSkgPDwgMTMpIHwgMDtcbiAgICAgIFMgPSAobSArICh1ID4+PiAxMykgfCAwKSArIChlaSA+Pj4gMjYpIHwgMCwgZWkgJj0gNjcxMDg4NjMsIHggPSBNYXRoLmltdWwocmUsIHFlKSwgdSA9IE1hdGguaW11bChyZSwgaXQpLCB1ID0gdSArIE1hdGguaW11bChFZSwgcWUpIHwgMCwgbSA9IE1hdGguaW11bChFZSwgaXQpO1xuICAgICAgdmFyIHRpID0gKFMgKyB4IHwgMCkgKyAoKHUgJiA4MTkxKSA8PCAxMykgfCAwO1xuICAgICAgcmV0dXJuIFMgPSAobSArICh1ID4+PiAxMykgfCAwKSArICh0aSA+Pj4gMjYpIHwgMCwgdGkgJj0gNjcxMDg4NjMsIEVbMF0gPSBKZSwgRVsxXSA9IHR0LCBFWzJdID0ganQsIEVbM10gPSBLdCwgRVs0XSA9IEh0LCBFWzVdID0gVnQsIEVbNl0gPSBndCwgRVs3XSA9IFZyLCBFWzhdID0gV3IsIEVbOV0gPSBHciwgRVsxMF0gPSBKciwgRVsxMV0gPSBZciwgRVsxMl0gPSBvciwgRVsxM10gPSBYciwgRVsxNF0gPSBaciwgRVsxNV0gPSAkdCwgRVsxNl0gPSBRciwgRVsxN10gPSBlaSwgRVsxOF0gPSB0aSwgUyAhPT0gMCAmJiAoRVsxOV0gPSBTLCBhLmxlbmd0aCsrKSwgYTtcbiAgICB9O1xuICAgIE1hdGguaW11bCB8fCAoTiA9IEQpO1xuICAgIGZ1bmN0aW9uIGsoTywgcCwgbCkge1xuICAgICAgbC5uZWdhdGl2ZSA9IHAubmVnYXRpdmUgXiBPLm5lZ2F0aXZlLCBsLmxlbmd0aCA9IE8ubGVuZ3RoICsgcC5sZW5ndGg7XG4gICAgICBmb3IgKHZhciBhID0gMCwgYyA9IDAsIGIgPSAwOyBiIDwgbC5sZW5ndGggLSAxOyBiKyspIHtcbiAgICAgICAgdmFyIEUgPSBjO1xuICAgICAgICBjID0gMDtcbiAgICAgICAgZm9yICh2YXIgUyA9IGEgJiA2NzEwODg2MywgeCA9IE1hdGgubWluKGIsIHAubGVuZ3RoIC0gMSksIHUgPSBNYXRoLm1heCgwLCBiIC0gTy5sZW5ndGggKyAxKTsgdSA8PSB4OyB1KyspIHtcbiAgICAgICAgICB2YXIgbSA9IGIgLSB1LCBnID0gTy53b3Jkc1ttXSB8IDAsIFAgPSBwLndvcmRzW3VdIHwgMCwgRyA9IGcgKiBQLCBNID0gRyAmIDY3MTA4ODYzO1xuICAgICAgICAgIEUgPSBFICsgKEcgLyA2NzEwODg2NCB8IDApIHwgMCwgTSA9IE0gKyBTIHwgMCwgUyA9IE0gJiA2NzEwODg2MywgRSA9IEUgKyAoTSA+Pj4gMjYpIHwgMCwgYyArPSBFID4+PiAyNiwgRSAmPSA2NzEwODg2MztcbiAgICAgICAgfVxuICAgICAgICBsLndvcmRzW2JdID0gUywgYSA9IEUsIEUgPSBjO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGEgIT09IDAgPyBsLndvcmRzW2JdID0gYSA6IGwubGVuZ3RoLS0sIGwuc3RyaXAoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaihPLCBwLCBsKSB7XG4gICAgICB2YXIgYSA9IG5ldyBUKCk7XG4gICAgICByZXR1cm4gYS5tdWxwKE8sIHAsIGwpO1xuICAgIH1cbiAgICBzLnByb3RvdHlwZS5tdWxUbyA9IGZ1bmN0aW9uKHAsIGwpIHtcbiAgICAgIHZhciBhLCBjID0gdGhpcy5sZW5ndGggKyBwLmxlbmd0aDtcbiAgICAgIHJldHVybiB0aGlzLmxlbmd0aCA9PT0gMTAgJiYgcC5sZW5ndGggPT09IDEwID8gYSA9IE4odGhpcywgcCwgbCkgOiBjIDwgNjMgPyBhID0gRCh0aGlzLCBwLCBsKSA6IGMgPCAxMDI0ID8gYSA9IGsodGhpcywgcCwgbCkgOiBhID0gaih0aGlzLCBwLCBsKSwgYTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIFQoTywgcCkge1xuICAgICAgdGhpcy54ID0gTywgdGhpcy55ID0gcDtcbiAgICB9XG4gICAgVC5wcm90b3R5cGUubWFrZVJCVCA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIGZvciAodmFyIGwgPSBuZXcgQXJyYXkocCksIGEgPSBzLnByb3RvdHlwZS5fY291bnRCaXRzKHApIC0gMSwgYyA9IDA7IGMgPCBwOyBjKyspXG4gICAgICAgIGxbY10gPSB0aGlzLnJldkJpbihjLCBhLCBwKTtcbiAgICAgIHJldHVybiBsO1xuICAgIH0sIFQucHJvdG90eXBlLnJldkJpbiA9IGZ1bmN0aW9uKHAsIGwsIGEpIHtcbiAgICAgIGlmIChwID09PSAwIHx8IHAgPT09IGEgLSAxKVxuICAgICAgICByZXR1cm4gcDtcbiAgICAgIGZvciAodmFyIGMgPSAwLCBiID0gMDsgYiA8IGw7IGIrKylcbiAgICAgICAgYyB8PSAocCAmIDEpIDw8IGwgLSBiIC0gMSwgcCA+Pj0gMTtcbiAgICAgIHJldHVybiBjO1xuICAgIH0sIFQucHJvdG90eXBlLnBlcm11dGUgPSBmdW5jdGlvbihwLCBsLCBhLCBjLCBiLCBFKSB7XG4gICAgICBmb3IgKHZhciBTID0gMDsgUyA8IEU7IFMrKylcbiAgICAgICAgY1tTXSA9IGxbcFtTXV0sIGJbU10gPSBhW3BbU11dO1xuICAgIH0sIFQucHJvdG90eXBlLnRyYW5zZm9ybSA9IGZ1bmN0aW9uKHAsIGwsIGEsIGMsIGIsIEUpIHtcbiAgICAgIHRoaXMucGVybXV0ZShFLCBwLCBsLCBhLCBjLCBiKTtcbiAgICAgIGZvciAodmFyIFMgPSAxOyBTIDwgYjsgUyA8PD0gMSlcbiAgICAgICAgZm9yICh2YXIgeCA9IFMgPDwgMSwgdSA9IE1hdGguY29zKDIgKiBNYXRoLlBJIC8geCksIG0gPSBNYXRoLnNpbigyICogTWF0aC5QSSAvIHgpLCBnID0gMDsgZyA8IGI7IGcgKz0geClcbiAgICAgICAgICBmb3IgKHZhciBQID0gdSwgRyA9IG0sIE0gPSAwOyBNIDwgUzsgTSsrKSB7XG4gICAgICAgICAgICB2YXIgSCA9IGFbZyArIE1dLCBDID0gY1tnICsgTV0sIHEgPSBhW2cgKyBNICsgU10sIEwgPSBjW2cgKyBNICsgU10sIHkgPSBQICogcSAtIEcgKiBMO1xuICAgICAgICAgICAgTCA9IFAgKiBMICsgRyAqIHEsIHEgPSB5LCBhW2cgKyBNXSA9IEggKyBxLCBjW2cgKyBNXSA9IEMgKyBMLCBhW2cgKyBNICsgU10gPSBIIC0gcSwgY1tnICsgTSArIFNdID0gQyAtIEwsIE0gIT09IHggJiYgKHkgPSB1ICogUCAtIG0gKiBHLCBHID0gdSAqIEcgKyBtICogUCwgUCA9IHkpO1xuICAgICAgICAgIH1cbiAgICB9LCBULnByb3RvdHlwZS5ndWVzc0xlbjEzYiA9IGZ1bmN0aW9uKHAsIGwpIHtcbiAgICAgIHZhciBhID0gTWF0aC5tYXgobCwgcCkgfCAxLCBjID0gYSAmIDEsIGIgPSAwO1xuICAgICAgZm9yIChhID0gYSAvIDIgfCAwOyBhOyBhID0gYSA+Pj4gMSlcbiAgICAgICAgYisrO1xuICAgICAgcmV0dXJuIDEgPDwgYiArIDEgKyBjO1xuICAgIH0sIFQucHJvdG90eXBlLmNvbmp1Z2F0ZSA9IGZ1bmN0aW9uKHAsIGwsIGEpIHtcbiAgICAgIGlmICghKGEgPD0gMSkpXG4gICAgICAgIGZvciAodmFyIGMgPSAwOyBjIDwgYSAvIDI7IGMrKykge1xuICAgICAgICAgIHZhciBiID0gcFtjXTtcbiAgICAgICAgICBwW2NdID0gcFthIC0gYyAtIDFdLCBwW2EgLSBjIC0gMV0gPSBiLCBiID0gbFtjXSwgbFtjXSA9IC1sW2EgLSBjIC0gMV0sIGxbYSAtIGMgLSAxXSA9IC1iO1xuICAgICAgICB9XG4gICAgfSwgVC5wcm90b3R5cGUubm9ybWFsaXplMTNiID0gZnVuY3Rpb24ocCwgbCkge1xuICAgICAgZm9yICh2YXIgYSA9IDAsIGMgPSAwOyBjIDwgbCAvIDI7IGMrKykge1xuICAgICAgICB2YXIgYiA9IE1hdGgucm91bmQocFsyICogYyArIDFdIC8gbCkgKiA4MTkyICsgTWF0aC5yb3VuZChwWzIgKiBjXSAvIGwpICsgYTtcbiAgICAgICAgcFtjXSA9IGIgJiA2NzEwODg2MywgYiA8IDY3MTA4ODY0ID8gYSA9IDAgOiBhID0gYiAvIDY3MTA4ODY0IHwgMDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwO1xuICAgIH0sIFQucHJvdG90eXBlLmNvbnZlcnQxM2IgPSBmdW5jdGlvbihwLCBsLCBhLCBjKSB7XG4gICAgICBmb3IgKHZhciBiID0gMCwgRSA9IDA7IEUgPCBsOyBFKyspXG4gICAgICAgIGIgPSBiICsgKHBbRV0gfCAwKSwgYVsyICogRV0gPSBiICYgODE5MSwgYiA9IGIgPj4+IDEzLCBhWzIgKiBFICsgMV0gPSBiICYgODE5MSwgYiA9IGIgPj4+IDEzO1xuICAgICAgZm9yIChFID0gMiAqIGw7IEUgPCBjOyArK0UpXG4gICAgICAgIGFbRV0gPSAwO1xuICAgICAgaShiID09PSAwKSwgaSgoYiAmIC04MTkyKSA9PT0gMCk7XG4gICAgfSwgVC5wcm90b3R5cGUuc3R1YiA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIGZvciAodmFyIGwgPSBuZXcgQXJyYXkocCksIGEgPSAwOyBhIDwgcDsgYSsrKVxuICAgICAgICBsW2FdID0gMDtcbiAgICAgIHJldHVybiBsO1xuICAgIH0sIFQucHJvdG90eXBlLm11bHAgPSBmdW5jdGlvbihwLCBsLCBhKSB7XG4gICAgICB2YXIgYyA9IDIgKiB0aGlzLmd1ZXNzTGVuMTNiKHAubGVuZ3RoLCBsLmxlbmd0aCksIGIgPSB0aGlzLm1ha2VSQlQoYyksIEUgPSB0aGlzLnN0dWIoYyksIFMgPSBuZXcgQXJyYXkoYyksIHggPSBuZXcgQXJyYXkoYyksIHUgPSBuZXcgQXJyYXkoYyksIG0gPSBuZXcgQXJyYXkoYyksIGcgPSBuZXcgQXJyYXkoYyksIFAgPSBuZXcgQXJyYXkoYyksIEcgPSBhLndvcmRzO1xuICAgICAgRy5sZW5ndGggPSBjLCB0aGlzLmNvbnZlcnQxM2IocC53b3JkcywgcC5sZW5ndGgsIFMsIGMpLCB0aGlzLmNvbnZlcnQxM2IobC53b3JkcywgbC5sZW5ndGgsIG0sIGMpLCB0aGlzLnRyYW5zZm9ybShTLCBFLCB4LCB1LCBjLCBiKSwgdGhpcy50cmFuc2Zvcm0obSwgRSwgZywgUCwgYywgYik7XG4gICAgICBmb3IgKHZhciBNID0gMDsgTSA8IGM7IE0rKykge1xuICAgICAgICB2YXIgSCA9IHhbTV0gKiBnW01dIC0gdVtNXSAqIFBbTV07XG4gICAgICAgIHVbTV0gPSB4W01dICogUFtNXSArIHVbTV0gKiBnW01dLCB4W01dID0gSDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmNvbmp1Z2F0ZSh4LCB1LCBjKSwgdGhpcy50cmFuc2Zvcm0oeCwgdSwgRywgRSwgYywgYiksIHRoaXMuY29uanVnYXRlKEcsIEUsIGMpLCB0aGlzLm5vcm1hbGl6ZTEzYihHLCBjKSwgYS5uZWdhdGl2ZSA9IHAubmVnYXRpdmUgXiBsLm5lZ2F0aXZlLCBhLmxlbmd0aCA9IHAubGVuZ3RoICsgbC5sZW5ndGgsIGEuc3RyaXAoKTtcbiAgICB9LCBzLnByb3RvdHlwZS5tdWwgPSBmdW5jdGlvbihwKSB7XG4gICAgICB2YXIgbCA9IG5ldyBzKG51bGwpO1xuICAgICAgcmV0dXJuIGwud29yZHMgPSBuZXcgQXJyYXkodGhpcy5sZW5ndGggKyBwLmxlbmd0aCksIHRoaXMubXVsVG8ocCwgbCk7XG4gICAgfSwgcy5wcm90b3R5cGUubXVsZiA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHZhciBsID0gbmV3IHMobnVsbCk7XG4gICAgICByZXR1cm4gbC53b3JkcyA9IG5ldyBBcnJheSh0aGlzLmxlbmd0aCArIHAubGVuZ3RoKSwgaih0aGlzLCBwLCBsKTtcbiAgICB9LCBzLnByb3RvdHlwZS5pbXVsID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5tdWxUbyhwLCB0aGlzKTtcbiAgICB9LCBzLnByb3RvdHlwZS5pbXVsbiA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIGkodHlwZW9mIHAgPT0gXCJudW1iZXJcIiksIGkocCA8IDY3MTA4ODY0KTtcbiAgICAgIGZvciAodmFyIGwgPSAwLCBhID0gMDsgYSA8IHRoaXMubGVuZ3RoOyBhKyspIHtcbiAgICAgICAgdmFyIGMgPSAodGhpcy53b3Jkc1thXSB8IDApICogcCwgYiA9IChjICYgNjcxMDg4NjMpICsgKGwgJiA2NzEwODg2Myk7XG4gICAgICAgIGwgPj49IDI2LCBsICs9IGMgLyA2NzEwODg2NCB8IDAsIGwgKz0gYiA+Pj4gMjYsIHRoaXMud29yZHNbYV0gPSBiICYgNjcxMDg4NjM7XG4gICAgICB9XG4gICAgICByZXR1cm4gbCAhPT0gMCAmJiAodGhpcy53b3Jkc1thXSA9IGwsIHRoaXMubGVuZ3RoKyspLCB0aGlzO1xuICAgIH0sIHMucHJvdG90eXBlLm11bG4gPSBmdW5jdGlvbihwKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmltdWxuKHApO1xuICAgIH0sIHMucHJvdG90eXBlLnNxciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMubXVsKHRoaXMpO1xuICAgIH0sIHMucHJvdG90eXBlLmlzcXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmltdWwodGhpcy5jbG9uZSgpKTtcbiAgICB9LCBzLnByb3RvdHlwZS5wb3cgPSBmdW5jdGlvbihwKSB7XG4gICAgICB2YXIgbCA9IEkocCk7XG4gICAgICBpZiAobC5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybiBuZXcgcygxKTtcbiAgICAgIGZvciAodmFyIGEgPSB0aGlzLCBjID0gMDsgYyA8IGwubGVuZ3RoICYmIGxbY10gPT09IDA7IGMrKywgYSA9IGEuc3FyKCkpXG4gICAgICAgIDtcbiAgICAgIGlmICgrK2MgPCBsLmxlbmd0aClcbiAgICAgICAgZm9yICh2YXIgYiA9IGEuc3FyKCk7IGMgPCBsLmxlbmd0aDsgYysrLCBiID0gYi5zcXIoKSlcbiAgICAgICAgICBsW2NdICE9PSAwICYmIChhID0gYS5tdWwoYikpO1xuICAgICAgcmV0dXJuIGE7XG4gICAgfSwgcy5wcm90b3R5cGUuaXVzaGxuID0gZnVuY3Rpb24ocCkge1xuICAgICAgaSh0eXBlb2YgcCA9PSBcIm51bWJlclwiICYmIHAgPj0gMCk7XG4gICAgICB2YXIgbCA9IHAgJSAyNiwgYSA9IChwIC0gbCkgLyAyNiwgYyA9IDY3MTA4ODYzID4+PiAyNiAtIGwgPDwgMjYgLSBsLCBiO1xuICAgICAgaWYgKGwgIT09IDApIHtcbiAgICAgICAgdmFyIEUgPSAwO1xuICAgICAgICBmb3IgKGIgPSAwOyBiIDwgdGhpcy5sZW5ndGg7IGIrKykge1xuICAgICAgICAgIHZhciBTID0gdGhpcy53b3Jkc1tiXSAmIGMsIHggPSAodGhpcy53b3Jkc1tiXSB8IDApIC0gUyA8PCBsO1xuICAgICAgICAgIHRoaXMud29yZHNbYl0gPSB4IHwgRSwgRSA9IFMgPj4+IDI2IC0gbDtcbiAgICAgICAgfVxuICAgICAgICBFICYmICh0aGlzLndvcmRzW2JdID0gRSwgdGhpcy5sZW5ndGgrKyk7XG4gICAgICB9XG4gICAgICBpZiAoYSAhPT0gMCkge1xuICAgICAgICBmb3IgKGIgPSB0aGlzLmxlbmd0aCAtIDE7IGIgPj0gMDsgYi0tKVxuICAgICAgICAgIHRoaXMud29yZHNbYiArIGFdID0gdGhpcy53b3Jkc1tiXTtcbiAgICAgICAgZm9yIChiID0gMDsgYiA8IGE7IGIrKylcbiAgICAgICAgICB0aGlzLndvcmRzW2JdID0gMDtcbiAgICAgICAgdGhpcy5sZW5ndGggKz0gYTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnN0cmlwKCk7XG4gICAgfSwgcy5wcm90b3R5cGUuaXNobG4gPSBmdW5jdGlvbihwKSB7XG4gICAgICByZXR1cm4gaSh0aGlzLm5lZ2F0aXZlID09PSAwKSwgdGhpcy5pdXNobG4ocCk7XG4gICAgfSwgcy5wcm90b3R5cGUuaXVzaHJuID0gZnVuY3Rpb24ocCwgbCwgYSkge1xuICAgICAgaSh0eXBlb2YgcCA9PSBcIm51bWJlclwiICYmIHAgPj0gMCk7XG4gICAgICB2YXIgYztcbiAgICAgIGwgPyBjID0gKGwgLSBsICUgMjYpIC8gMjYgOiBjID0gMDtcbiAgICAgIHZhciBiID0gcCAlIDI2LCBFID0gTWF0aC5taW4oKHAgLSBiKSAvIDI2LCB0aGlzLmxlbmd0aCksIFMgPSA2NzEwODg2MyBeIDY3MTA4ODYzID4+PiBiIDw8IGIsIHggPSBhO1xuICAgICAgaWYgKGMgLT0gRSwgYyA9IE1hdGgubWF4KDAsIGMpLCB4KSB7XG4gICAgICAgIGZvciAodmFyIHUgPSAwOyB1IDwgRTsgdSsrKVxuICAgICAgICAgIHgud29yZHNbdV0gPSB0aGlzLndvcmRzW3VdO1xuICAgICAgICB4Lmxlbmd0aCA9IEU7XG4gICAgICB9XG4gICAgICBpZiAoRSAhPT0gMClcbiAgICAgICAgaWYgKHRoaXMubGVuZ3RoID4gRSlcbiAgICAgICAgICBmb3IgKHRoaXMubGVuZ3RoIC09IEUsIHUgPSAwOyB1IDwgdGhpcy5sZW5ndGg7IHUrKylcbiAgICAgICAgICAgIHRoaXMud29yZHNbdV0gPSB0aGlzLndvcmRzW3UgKyBFXTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHRoaXMud29yZHNbMF0gPSAwLCB0aGlzLmxlbmd0aCA9IDE7XG4gICAgICB2YXIgbSA9IDA7XG4gICAgICBmb3IgKHUgPSB0aGlzLmxlbmd0aCAtIDE7IHUgPj0gMCAmJiAobSAhPT0gMCB8fCB1ID49IGMpOyB1LS0pIHtcbiAgICAgICAgdmFyIGcgPSB0aGlzLndvcmRzW3VdIHwgMDtcbiAgICAgICAgdGhpcy53b3Jkc1t1XSA9IG0gPDwgMjYgLSBiIHwgZyA+Pj4gYiwgbSA9IGcgJiBTO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHggJiYgbSAhPT0gMCAmJiAoeC53b3Jkc1t4Lmxlbmd0aCsrXSA9IG0pLCB0aGlzLmxlbmd0aCA9PT0gMCAmJiAodGhpcy53b3Jkc1swXSA9IDAsIHRoaXMubGVuZ3RoID0gMSksIHRoaXMuc3RyaXAoKTtcbiAgICB9LCBzLnByb3RvdHlwZS5pc2hybiA9IGZ1bmN0aW9uKHAsIGwsIGEpIHtcbiAgICAgIHJldHVybiBpKHRoaXMubmVnYXRpdmUgPT09IDApLCB0aGlzLml1c2hybihwLCBsLCBhKTtcbiAgICB9LCBzLnByb3RvdHlwZS5zaGxuID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5pc2hsbihwKTtcbiAgICB9LCBzLnByb3RvdHlwZS51c2hsbiA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuaXVzaGxuKHApO1xuICAgIH0sIHMucHJvdG90eXBlLnNocm4gPSBmdW5jdGlvbihwKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmlzaHJuKHApO1xuICAgIH0sIHMucHJvdG90eXBlLnVzaHJuID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5pdXNocm4ocCk7XG4gICAgfSwgcy5wcm90b3R5cGUudGVzdG4gPSBmdW5jdGlvbihwKSB7XG4gICAgICBpKHR5cGVvZiBwID09IFwibnVtYmVyXCIgJiYgcCA+PSAwKTtcbiAgICAgIHZhciBsID0gcCAlIDI2LCBhID0gKHAgLSBsKSAvIDI2LCBjID0gMSA8PCBsO1xuICAgICAgaWYgKHRoaXMubGVuZ3RoIDw9IGEpXG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgIHZhciBiID0gdGhpcy53b3Jkc1thXTtcbiAgICAgIHJldHVybiAhIShiICYgYyk7XG4gICAgfSwgcy5wcm90b3R5cGUuaW1hc2tuID0gZnVuY3Rpb24ocCkge1xuICAgICAgaSh0eXBlb2YgcCA9PSBcIm51bWJlclwiICYmIHAgPj0gMCk7XG4gICAgICB2YXIgbCA9IHAgJSAyNiwgYSA9IChwIC0gbCkgLyAyNjtcbiAgICAgIGlmIChpKHRoaXMubmVnYXRpdmUgPT09IDAsIFwiaW1hc2tuIHdvcmtzIG9ubHkgd2l0aCBwb3NpdGl2ZSBudW1iZXJzXCIpLCB0aGlzLmxlbmd0aCA8PSBhKVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIGlmIChsICE9PSAwICYmIGErKywgdGhpcy5sZW5ndGggPSBNYXRoLm1pbihhLCB0aGlzLmxlbmd0aCksIGwgIT09IDApIHtcbiAgICAgICAgdmFyIGMgPSA2NzEwODg2MyBeIDY3MTA4ODYzID4+PiBsIDw8IGw7XG4gICAgICAgIHRoaXMud29yZHNbdGhpcy5sZW5ndGggLSAxXSAmPSBjO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc3RyaXAoKTtcbiAgICB9LCBzLnByb3RvdHlwZS5tYXNrbiA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiB0aGlzLmNsb25lKCkuaW1hc2tuKHApO1xuICAgIH0sIHMucHJvdG90eXBlLmlhZGRuID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIGkodHlwZW9mIHAgPT0gXCJudW1iZXJcIiksIGkocCA8IDY3MTA4ODY0KSwgcCA8IDAgPyB0aGlzLmlzdWJuKC1wKSA6IHRoaXMubmVnYXRpdmUgIT09IDAgPyB0aGlzLmxlbmd0aCA9PT0gMSAmJiAodGhpcy53b3Jkc1swXSB8IDApIDwgcCA/ICh0aGlzLndvcmRzWzBdID0gcCAtICh0aGlzLndvcmRzWzBdIHwgMCksIHRoaXMubmVnYXRpdmUgPSAwLCB0aGlzKSA6ICh0aGlzLm5lZ2F0aXZlID0gMCwgdGhpcy5pc3VibihwKSwgdGhpcy5uZWdhdGl2ZSA9IDEsIHRoaXMpIDogdGhpcy5faWFkZG4ocCk7XG4gICAgfSwgcy5wcm90b3R5cGUuX2lhZGRuID0gZnVuY3Rpb24ocCkge1xuICAgICAgdGhpcy53b3Jkc1swXSArPSBwO1xuICAgICAgZm9yICh2YXIgbCA9IDA7IGwgPCB0aGlzLmxlbmd0aCAmJiB0aGlzLndvcmRzW2xdID49IDY3MTA4ODY0OyBsKyspXG4gICAgICAgIHRoaXMud29yZHNbbF0gLT0gNjcxMDg4NjQsIGwgPT09IHRoaXMubGVuZ3RoIC0gMSA/IHRoaXMud29yZHNbbCArIDFdID0gMSA6IHRoaXMud29yZHNbbCArIDFdKys7XG4gICAgICByZXR1cm4gdGhpcy5sZW5ndGggPSBNYXRoLm1heCh0aGlzLmxlbmd0aCwgbCArIDEpLCB0aGlzO1xuICAgIH0sIHMucHJvdG90eXBlLmlzdWJuID0gZnVuY3Rpb24ocCkge1xuICAgICAgaWYgKGkodHlwZW9mIHAgPT0gXCJudW1iZXJcIiksIGkocCA8IDY3MTA4ODY0KSwgcCA8IDApXG4gICAgICAgIHJldHVybiB0aGlzLmlhZGRuKC1wKTtcbiAgICAgIGlmICh0aGlzLm5lZ2F0aXZlICE9PSAwKVxuICAgICAgICByZXR1cm4gdGhpcy5uZWdhdGl2ZSA9IDAsIHRoaXMuaWFkZG4ocCksIHRoaXMubmVnYXRpdmUgPSAxLCB0aGlzO1xuICAgICAgaWYgKHRoaXMud29yZHNbMF0gLT0gcCwgdGhpcy5sZW5ndGggPT09IDEgJiYgdGhpcy53b3Jkc1swXSA8IDApXG4gICAgICAgIHRoaXMud29yZHNbMF0gPSAtdGhpcy53b3Jkc1swXSwgdGhpcy5uZWdhdGl2ZSA9IDE7XG4gICAgICBlbHNlXG4gICAgICAgIGZvciAodmFyIGwgPSAwOyBsIDwgdGhpcy5sZW5ndGggJiYgdGhpcy53b3Jkc1tsXSA8IDA7IGwrKylcbiAgICAgICAgICB0aGlzLndvcmRzW2xdICs9IDY3MTA4ODY0LCB0aGlzLndvcmRzW2wgKyAxXSAtPSAxO1xuICAgICAgcmV0dXJuIHRoaXMuc3RyaXAoKTtcbiAgICB9LCBzLnByb3RvdHlwZS5hZGRuID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5pYWRkbihwKTtcbiAgICB9LCBzLnByb3RvdHlwZS5zdWJuID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5pc3VibihwKTtcbiAgICB9LCBzLnByb3RvdHlwZS5pYWJzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5uZWdhdGl2ZSA9IDAsIHRoaXM7XG4gICAgfSwgcy5wcm90b3R5cGUuYWJzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbG9uZSgpLmlhYnMoKTtcbiAgICB9LCBzLnByb3RvdHlwZS5faXNobG5zdWJtdWwgPSBmdW5jdGlvbihwLCBsLCBhKSB7XG4gICAgICB2YXIgYyA9IHAubGVuZ3RoICsgYSwgYjtcbiAgICAgIHRoaXMuX2V4cGFuZChjKTtcbiAgICAgIHZhciBFLCBTID0gMDtcbiAgICAgIGZvciAoYiA9IDA7IGIgPCBwLmxlbmd0aDsgYisrKSB7XG4gICAgICAgIEUgPSAodGhpcy53b3Jkc1tiICsgYV0gfCAwKSArIFM7XG4gICAgICAgIHZhciB4ID0gKHAud29yZHNbYl0gfCAwKSAqIGw7XG4gICAgICAgIEUgLT0geCAmIDY3MTA4ODYzLCBTID0gKEUgPj4gMjYpIC0gKHggLyA2NzEwODg2NCB8IDApLCB0aGlzLndvcmRzW2IgKyBhXSA9IEUgJiA2NzEwODg2MztcbiAgICAgIH1cbiAgICAgIGZvciAoOyBiIDwgdGhpcy5sZW5ndGggLSBhOyBiKyspXG4gICAgICAgIEUgPSAodGhpcy53b3Jkc1tiICsgYV0gfCAwKSArIFMsIFMgPSBFID4+IDI2LCB0aGlzLndvcmRzW2IgKyBhXSA9IEUgJiA2NzEwODg2MztcbiAgICAgIGlmIChTID09PSAwKVxuICAgICAgICByZXR1cm4gdGhpcy5zdHJpcCgpO1xuICAgICAgZm9yIChpKFMgPT09IC0xKSwgUyA9IDAsIGIgPSAwOyBiIDwgdGhpcy5sZW5ndGg7IGIrKylcbiAgICAgICAgRSA9IC0odGhpcy53b3Jkc1tiXSB8IDApICsgUywgUyA9IEUgPj4gMjYsIHRoaXMud29yZHNbYl0gPSBFICYgNjcxMDg4NjM7XG4gICAgICByZXR1cm4gdGhpcy5uZWdhdGl2ZSA9IDEsIHRoaXMuc3RyaXAoKTtcbiAgICB9LCBzLnByb3RvdHlwZS5fd29yZERpdiA9IGZ1bmN0aW9uKHAsIGwpIHtcbiAgICAgIHZhciBhID0gdGhpcy5sZW5ndGggLSBwLmxlbmd0aCwgYyA9IHRoaXMuY2xvbmUoKSwgYiA9IHAsIEUgPSBiLndvcmRzW2IubGVuZ3RoIC0gMV0gfCAwLCBTID0gdGhpcy5fY291bnRCaXRzKEUpO1xuICAgICAgYSA9IDI2IC0gUywgYSAhPT0gMCAmJiAoYiA9IGIudXNobG4oYSksIGMuaXVzaGxuKGEpLCBFID0gYi53b3Jkc1tiLmxlbmd0aCAtIDFdIHwgMCk7XG4gICAgICB2YXIgeCA9IGMubGVuZ3RoIC0gYi5sZW5ndGgsIHU7XG4gICAgICBpZiAobCAhPT0gXCJtb2RcIikge1xuICAgICAgICB1ID0gbmV3IHMobnVsbCksIHUubGVuZ3RoID0geCArIDEsIHUud29yZHMgPSBuZXcgQXJyYXkodS5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBtID0gMDsgbSA8IHUubGVuZ3RoOyBtKyspXG4gICAgICAgICAgdS53b3Jkc1ttXSA9IDA7XG4gICAgICB9XG4gICAgICB2YXIgZyA9IGMuY2xvbmUoKS5faXNobG5zdWJtdWwoYiwgMSwgeCk7XG4gICAgICBnLm5lZ2F0aXZlID09PSAwICYmIChjID0gZywgdSAmJiAodS53b3Jkc1t4XSA9IDEpKTtcbiAgICAgIGZvciAodmFyIFAgPSB4IC0gMTsgUCA+PSAwOyBQLS0pIHtcbiAgICAgICAgdmFyIEcgPSAoYy53b3Jkc1tiLmxlbmd0aCArIFBdIHwgMCkgKiA2NzEwODg2NCArIChjLndvcmRzW2IubGVuZ3RoICsgUCAtIDFdIHwgMCk7XG4gICAgICAgIGZvciAoRyA9IE1hdGgubWluKEcgLyBFIHwgMCwgNjcxMDg4NjMpLCBjLl9pc2hsbnN1Ym11bChiLCBHLCBQKTsgYy5uZWdhdGl2ZSAhPT0gMDsgKVxuICAgICAgICAgIEctLSwgYy5uZWdhdGl2ZSA9IDAsIGMuX2lzaGxuc3VibXVsKGIsIDEsIFApLCBjLmlzWmVybygpIHx8IChjLm5lZ2F0aXZlIF49IDEpO1xuICAgICAgICB1ICYmICh1LndvcmRzW1BdID0gRyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdSAmJiB1LnN0cmlwKCksIGMuc3RyaXAoKSwgbCAhPT0gXCJkaXZcIiAmJiBhICE9PSAwICYmIGMuaXVzaHJuKGEpLCB7XG4gICAgICAgIGRpdjogdSB8fCBudWxsLFxuICAgICAgICBtb2Q6IGNcbiAgICAgIH07XG4gICAgfSwgcy5wcm90b3R5cGUuZGl2bW9kID0gZnVuY3Rpb24ocCwgbCwgYSkge1xuICAgICAgaWYgKGkoIXAuaXNaZXJvKCkpLCB0aGlzLmlzWmVybygpKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGRpdjogbmV3IHMoMCksXG4gICAgICAgICAgbW9kOiBuZXcgcygwKVxuICAgICAgICB9O1xuICAgICAgdmFyIGMsIGIsIEU7XG4gICAgICByZXR1cm4gdGhpcy5uZWdhdGl2ZSAhPT0gMCAmJiBwLm5lZ2F0aXZlID09PSAwID8gKEUgPSB0aGlzLm5lZygpLmRpdm1vZChwLCBsKSwgbCAhPT0gXCJtb2RcIiAmJiAoYyA9IEUuZGl2Lm5lZygpKSwgbCAhPT0gXCJkaXZcIiAmJiAoYiA9IEUubW9kLm5lZygpLCBhICYmIGIubmVnYXRpdmUgIT09IDAgJiYgYi5pYWRkKHApKSwge1xuICAgICAgICBkaXY6IGMsXG4gICAgICAgIG1vZDogYlxuICAgICAgfSkgOiB0aGlzLm5lZ2F0aXZlID09PSAwICYmIHAubmVnYXRpdmUgIT09IDAgPyAoRSA9IHRoaXMuZGl2bW9kKHAubmVnKCksIGwpLCBsICE9PSBcIm1vZFwiICYmIChjID0gRS5kaXYubmVnKCkpLCB7XG4gICAgICAgIGRpdjogYyxcbiAgICAgICAgbW9kOiBFLm1vZFxuICAgICAgfSkgOiB0aGlzLm5lZ2F0aXZlICYgcC5uZWdhdGl2ZSA/IChFID0gdGhpcy5uZWcoKS5kaXZtb2QocC5uZWcoKSwgbCksIGwgIT09IFwiZGl2XCIgJiYgKGIgPSBFLm1vZC5uZWcoKSwgYSAmJiBiLm5lZ2F0aXZlICE9PSAwICYmIGIuaXN1YihwKSksIHtcbiAgICAgICAgZGl2OiBFLmRpdixcbiAgICAgICAgbW9kOiBiXG4gICAgICB9KSA6IHAubGVuZ3RoID4gdGhpcy5sZW5ndGggfHwgdGhpcy5jbXAocCkgPCAwID8ge1xuICAgICAgICBkaXY6IG5ldyBzKDApLFxuICAgICAgICBtb2Q6IHRoaXNcbiAgICAgIH0gOiBwLmxlbmd0aCA9PT0gMSA/IGwgPT09IFwiZGl2XCIgPyB7XG4gICAgICAgIGRpdjogdGhpcy5kaXZuKHAud29yZHNbMF0pLFxuICAgICAgICBtb2Q6IG51bGxcbiAgICAgIH0gOiBsID09PSBcIm1vZFwiID8ge1xuICAgICAgICBkaXY6IG51bGwsXG4gICAgICAgIG1vZDogbmV3IHModGhpcy5tb2RuKHAud29yZHNbMF0pKVxuICAgICAgfSA6IHtcbiAgICAgICAgZGl2OiB0aGlzLmRpdm4ocC53b3Jkc1swXSksXG4gICAgICAgIG1vZDogbmV3IHModGhpcy5tb2RuKHAud29yZHNbMF0pKVxuICAgICAgfSA6IHRoaXMuX3dvcmREaXYocCwgbCk7XG4gICAgfSwgcy5wcm90b3R5cGUuZGl2ID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGl2bW9kKHAsIFwiZGl2XCIsICExKS5kaXY7XG4gICAgfSwgcy5wcm90b3R5cGUubW9kID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHRoaXMuZGl2bW9kKHAsIFwibW9kXCIsICExKS5tb2Q7XG4gICAgfSwgcy5wcm90b3R5cGUudW1vZCA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiB0aGlzLmRpdm1vZChwLCBcIm1vZFwiLCAhMCkubW9kO1xuICAgIH0sIHMucHJvdG90eXBlLmRpdlJvdW5kID0gZnVuY3Rpb24ocCkge1xuICAgICAgdmFyIGwgPSB0aGlzLmRpdm1vZChwKTtcbiAgICAgIGlmIChsLm1vZC5pc1plcm8oKSlcbiAgICAgICAgcmV0dXJuIGwuZGl2O1xuICAgICAgdmFyIGEgPSBsLmRpdi5uZWdhdGl2ZSAhPT0gMCA/IGwubW9kLmlzdWIocCkgOiBsLm1vZCwgYyA9IHAudXNocm4oMSksIGIgPSBwLmFuZGxuKDEpLCBFID0gYS5jbXAoYyk7XG4gICAgICByZXR1cm4gRSA8IDAgfHwgYiA9PT0gMSAmJiBFID09PSAwID8gbC5kaXYgOiBsLmRpdi5uZWdhdGl2ZSAhPT0gMCA/IGwuZGl2LmlzdWJuKDEpIDogbC5kaXYuaWFkZG4oMSk7XG4gICAgfSwgcy5wcm90b3R5cGUubW9kbiA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIGkocCA8PSA2NzEwODg2Myk7XG4gICAgICBmb3IgKHZhciBsID0gKDEgPDwgMjYpICUgcCwgYSA9IDAsIGMgPSB0aGlzLmxlbmd0aCAtIDE7IGMgPj0gMDsgYy0tKVxuICAgICAgICBhID0gKGwgKiBhICsgKHRoaXMud29yZHNbY10gfCAwKSkgJSBwO1xuICAgICAgcmV0dXJuIGE7XG4gICAgfSwgcy5wcm90b3R5cGUuaWRpdm4gPSBmdW5jdGlvbihwKSB7XG4gICAgICBpKHAgPD0gNjcxMDg4NjMpO1xuICAgICAgZm9yICh2YXIgbCA9IDAsIGEgPSB0aGlzLmxlbmd0aCAtIDE7IGEgPj0gMDsgYS0tKSB7XG4gICAgICAgIHZhciBjID0gKHRoaXMud29yZHNbYV0gfCAwKSArIGwgKiA2NzEwODg2NDtcbiAgICAgICAgdGhpcy53b3Jkc1thXSA9IGMgLyBwIHwgMCwgbCA9IGMgJSBwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuc3RyaXAoKTtcbiAgICB9LCBzLnByb3RvdHlwZS5kaXZuID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHRoaXMuY2xvbmUoKS5pZGl2bihwKTtcbiAgICB9LCBzLnByb3RvdHlwZS5lZ2NkID0gZnVuY3Rpb24ocCkge1xuICAgICAgaShwLm5lZ2F0aXZlID09PSAwKSwgaSghcC5pc1plcm8oKSk7XG4gICAgICB2YXIgbCA9IHRoaXMsIGEgPSBwLmNsb25lKCk7XG4gICAgICBsLm5lZ2F0aXZlICE9PSAwID8gbCA9IGwudW1vZChwKSA6IGwgPSBsLmNsb25lKCk7XG4gICAgICBmb3IgKHZhciBjID0gbmV3IHMoMSksIGIgPSBuZXcgcygwKSwgRSA9IG5ldyBzKDApLCBTID0gbmV3IHMoMSksIHggPSAwOyBsLmlzRXZlbigpICYmIGEuaXNFdmVuKCk7IClcbiAgICAgICAgbC5pdXNocm4oMSksIGEuaXVzaHJuKDEpLCArK3g7XG4gICAgICBmb3IgKHZhciB1ID0gYS5jbG9uZSgpLCBtID0gbC5jbG9uZSgpOyAhbC5pc1plcm8oKTsgKSB7XG4gICAgICAgIGZvciAodmFyIGcgPSAwLCBQID0gMTsgIShsLndvcmRzWzBdICYgUCkgJiYgZyA8IDI2OyArK2csIFAgPDw9IDEpXG4gICAgICAgICAgO1xuICAgICAgICBpZiAoZyA+IDApXG4gICAgICAgICAgZm9yIChsLml1c2hybihnKTsgZy0tID4gMDsgKVxuICAgICAgICAgICAgKGMuaXNPZGQoKSB8fCBiLmlzT2RkKCkpICYmIChjLmlhZGQodSksIGIuaXN1YihtKSksIGMuaXVzaHJuKDEpLCBiLml1c2hybigxKTtcbiAgICAgICAgZm9yICh2YXIgRyA9IDAsIE0gPSAxOyAhKGEud29yZHNbMF0gJiBNKSAmJiBHIDwgMjY7ICsrRywgTSA8PD0gMSlcbiAgICAgICAgICA7XG4gICAgICAgIGlmIChHID4gMClcbiAgICAgICAgICBmb3IgKGEuaXVzaHJuKEcpOyBHLS0gPiAwOyApXG4gICAgICAgICAgICAoRS5pc09kZCgpIHx8IFMuaXNPZGQoKSkgJiYgKEUuaWFkZCh1KSwgUy5pc3ViKG0pKSwgRS5pdXNocm4oMSksIFMuaXVzaHJuKDEpO1xuICAgICAgICBsLmNtcChhKSA+PSAwID8gKGwuaXN1YihhKSwgYy5pc3ViKEUpLCBiLmlzdWIoUykpIDogKGEuaXN1YihsKSwgRS5pc3ViKGMpLCBTLmlzdWIoYikpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYTogRSxcbiAgICAgICAgYjogUyxcbiAgICAgICAgZ2NkOiBhLml1c2hsbih4KVxuICAgICAgfTtcbiAgICB9LCBzLnByb3RvdHlwZS5faW52bXAgPSBmdW5jdGlvbihwKSB7XG4gICAgICBpKHAubmVnYXRpdmUgPT09IDApLCBpKCFwLmlzWmVybygpKTtcbiAgICAgIHZhciBsID0gdGhpcywgYSA9IHAuY2xvbmUoKTtcbiAgICAgIGwubmVnYXRpdmUgIT09IDAgPyBsID0gbC51bW9kKHApIDogbCA9IGwuY2xvbmUoKTtcbiAgICAgIGZvciAodmFyIGMgPSBuZXcgcygxKSwgYiA9IG5ldyBzKDApLCBFID0gYS5jbG9uZSgpOyBsLmNtcG4oMSkgPiAwICYmIGEuY21wbigxKSA+IDA7ICkge1xuICAgICAgICBmb3IgKHZhciBTID0gMCwgeCA9IDE7ICEobC53b3Jkc1swXSAmIHgpICYmIFMgPCAyNjsgKytTLCB4IDw8PSAxKVxuICAgICAgICAgIDtcbiAgICAgICAgaWYgKFMgPiAwKVxuICAgICAgICAgIGZvciAobC5pdXNocm4oUyk7IFMtLSA+IDA7IClcbiAgICAgICAgICAgIGMuaXNPZGQoKSAmJiBjLmlhZGQoRSksIGMuaXVzaHJuKDEpO1xuICAgICAgICBmb3IgKHZhciB1ID0gMCwgbSA9IDE7ICEoYS53b3Jkc1swXSAmIG0pICYmIHUgPCAyNjsgKyt1LCBtIDw8PSAxKVxuICAgICAgICAgIDtcbiAgICAgICAgaWYgKHUgPiAwKVxuICAgICAgICAgIGZvciAoYS5pdXNocm4odSk7IHUtLSA+IDA7IClcbiAgICAgICAgICAgIGIuaXNPZGQoKSAmJiBiLmlhZGQoRSksIGIuaXVzaHJuKDEpO1xuICAgICAgICBsLmNtcChhKSA+PSAwID8gKGwuaXN1YihhKSwgYy5pc3ViKGIpKSA6IChhLmlzdWIobCksIGIuaXN1YihjKSk7XG4gICAgICB9XG4gICAgICB2YXIgZztcbiAgICAgIHJldHVybiBsLmNtcG4oMSkgPT09IDAgPyBnID0gYyA6IGcgPSBiLCBnLmNtcG4oMCkgPCAwICYmIGcuaWFkZChwKSwgZztcbiAgICB9LCBzLnByb3RvdHlwZS5nY2QgPSBmdW5jdGlvbihwKSB7XG4gICAgICBpZiAodGhpcy5pc1plcm8oKSlcbiAgICAgICAgcmV0dXJuIHAuYWJzKCk7XG4gICAgICBpZiAocC5pc1plcm8oKSlcbiAgICAgICAgcmV0dXJuIHRoaXMuYWJzKCk7XG4gICAgICB2YXIgbCA9IHRoaXMuY2xvbmUoKSwgYSA9IHAuY2xvbmUoKTtcbiAgICAgIGwubmVnYXRpdmUgPSAwLCBhLm5lZ2F0aXZlID0gMDtcbiAgICAgIGZvciAodmFyIGMgPSAwOyBsLmlzRXZlbigpICYmIGEuaXNFdmVuKCk7IGMrKylcbiAgICAgICAgbC5pdXNocm4oMSksIGEuaXVzaHJuKDEpO1xuICAgICAgZG8ge1xuICAgICAgICBmb3IgKDsgbC5pc0V2ZW4oKTsgKVxuICAgICAgICAgIGwuaXVzaHJuKDEpO1xuICAgICAgICBmb3IgKDsgYS5pc0V2ZW4oKTsgKVxuICAgICAgICAgIGEuaXVzaHJuKDEpO1xuICAgICAgICB2YXIgYiA9IGwuY21wKGEpO1xuICAgICAgICBpZiAoYiA8IDApIHtcbiAgICAgICAgICB2YXIgRSA9IGw7XG4gICAgICAgICAgbCA9IGEsIGEgPSBFO1xuICAgICAgICB9IGVsc2UgaWYgKGIgPT09IDAgfHwgYS5jbXBuKDEpID09PSAwKVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBsLmlzdWIoYSk7XG4gICAgICB9IHdoaWxlICghMCk7XG4gICAgICByZXR1cm4gYS5pdXNobG4oYyk7XG4gICAgfSwgcy5wcm90b3R5cGUuaW52bSA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiB0aGlzLmVnY2QocCkuYS51bW9kKHApO1xuICAgIH0sIHMucHJvdG90eXBlLmlzRXZlbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICh0aGlzLndvcmRzWzBdICYgMSkgPT09IDA7XG4gICAgfSwgcy5wcm90b3R5cGUuaXNPZGQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAodGhpcy53b3Jkc1swXSAmIDEpID09PSAxO1xuICAgIH0sIHMucHJvdG90eXBlLmFuZGxuID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHRoaXMud29yZHNbMF0gJiBwO1xuICAgIH0sIHMucHJvdG90eXBlLmJpbmNuID0gZnVuY3Rpb24ocCkge1xuICAgICAgaSh0eXBlb2YgcCA9PSBcIm51bWJlclwiKTtcbiAgICAgIHZhciBsID0gcCAlIDI2LCBhID0gKHAgLSBsKSAvIDI2LCBjID0gMSA8PCBsO1xuICAgICAgaWYgKHRoaXMubGVuZ3RoIDw9IGEpXG4gICAgICAgIHJldHVybiB0aGlzLl9leHBhbmQoYSArIDEpLCB0aGlzLndvcmRzW2FdIHw9IGMsIHRoaXM7XG4gICAgICBmb3IgKHZhciBiID0gYywgRSA9IGE7IGIgIT09IDAgJiYgRSA8IHRoaXMubGVuZ3RoOyBFKyspIHtcbiAgICAgICAgdmFyIFMgPSB0aGlzLndvcmRzW0VdIHwgMDtcbiAgICAgICAgUyArPSBiLCBiID0gUyA+Pj4gMjYsIFMgJj0gNjcxMDg4NjMsIHRoaXMud29yZHNbRV0gPSBTO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGIgIT09IDAgJiYgKHRoaXMud29yZHNbRV0gPSBiLCB0aGlzLmxlbmd0aCsrKSwgdGhpcztcbiAgICB9LCBzLnByb3RvdHlwZS5pc1plcm8gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmxlbmd0aCA9PT0gMSAmJiB0aGlzLndvcmRzWzBdID09PSAwO1xuICAgIH0sIHMucHJvdG90eXBlLmNtcG4gPSBmdW5jdGlvbihwKSB7XG4gICAgICB2YXIgbCA9IHAgPCAwO1xuICAgICAgaWYgKHRoaXMubmVnYXRpdmUgIT09IDAgJiYgIWwpXG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIGlmICh0aGlzLm5lZ2F0aXZlID09PSAwICYmIGwpXG4gICAgICAgIHJldHVybiAxO1xuICAgICAgdGhpcy5zdHJpcCgpO1xuICAgICAgdmFyIGE7XG4gICAgICBpZiAodGhpcy5sZW5ndGggPiAxKVxuICAgICAgICBhID0gMTtcbiAgICAgIGVsc2Uge1xuICAgICAgICBsICYmIChwID0gLXApLCBpKHAgPD0gNjcxMDg4NjMsIFwiTnVtYmVyIGlzIHRvbyBiaWdcIik7XG4gICAgICAgIHZhciBjID0gdGhpcy53b3Jkc1swXSB8IDA7XG4gICAgICAgIGEgPSBjID09PSBwID8gMCA6IGMgPCBwID8gLTEgOiAxO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMubmVnYXRpdmUgIT09IDAgPyAtYSB8IDAgOiBhO1xuICAgIH0sIHMucHJvdG90eXBlLmNtcCA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIGlmICh0aGlzLm5lZ2F0aXZlICE9PSAwICYmIHAubmVnYXRpdmUgPT09IDApXG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIGlmICh0aGlzLm5lZ2F0aXZlID09PSAwICYmIHAubmVnYXRpdmUgIT09IDApXG4gICAgICAgIHJldHVybiAxO1xuICAgICAgdmFyIGwgPSB0aGlzLnVjbXAocCk7XG4gICAgICByZXR1cm4gdGhpcy5uZWdhdGl2ZSAhPT0gMCA/IC1sIHwgMCA6IGw7XG4gICAgfSwgcy5wcm90b3R5cGUudWNtcCA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIGlmICh0aGlzLmxlbmd0aCA+IHAubGVuZ3RoKVxuICAgICAgICByZXR1cm4gMTtcbiAgICAgIGlmICh0aGlzLmxlbmd0aCA8IHAubGVuZ3RoKVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgICBmb3IgKHZhciBsID0gMCwgYSA9IHRoaXMubGVuZ3RoIC0gMTsgYSA+PSAwOyBhLS0pIHtcbiAgICAgICAgdmFyIGMgPSB0aGlzLndvcmRzW2FdIHwgMCwgYiA9IHAud29yZHNbYV0gfCAwO1xuICAgICAgICBpZiAoYyAhPT0gYikge1xuICAgICAgICAgIGMgPCBiID8gbCA9IC0xIDogYyA+IGIgJiYgKGwgPSAxKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGw7XG4gICAgfSwgcy5wcm90b3R5cGUuZ3RuID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHRoaXMuY21wbihwKSA9PT0gMTtcbiAgICB9LCBzLnByb3RvdHlwZS5ndCA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiB0aGlzLmNtcChwKSA9PT0gMTtcbiAgICB9LCBzLnByb3RvdHlwZS5ndGVuID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHRoaXMuY21wbihwKSA+PSAwO1xuICAgIH0sIHMucHJvdG90eXBlLmd0ZSA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiB0aGlzLmNtcChwKSA+PSAwO1xuICAgIH0sIHMucHJvdG90eXBlLmx0biA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiB0aGlzLmNtcG4ocCkgPT09IC0xO1xuICAgIH0sIHMucHJvdG90eXBlLmx0ID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHRoaXMuY21wKHApID09PSAtMTtcbiAgICB9LCBzLnByb3RvdHlwZS5sdGVuID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHRoaXMuY21wbihwKSA8PSAwO1xuICAgIH0sIHMucHJvdG90eXBlLmx0ZSA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiB0aGlzLmNtcChwKSA8PSAwO1xuICAgIH0sIHMucHJvdG90eXBlLmVxbiA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiB0aGlzLmNtcG4ocCkgPT09IDA7XG4gICAgfSwgcy5wcm90b3R5cGUuZXEgPSBmdW5jdGlvbihwKSB7XG4gICAgICByZXR1cm4gdGhpcy5jbXAocCkgPT09IDA7XG4gICAgfSwgcy5yZWQgPSBmdW5jdGlvbihwKSB7XG4gICAgICByZXR1cm4gbmV3IEoocCk7XG4gICAgfSwgcy5wcm90b3R5cGUudG9SZWQgPSBmdW5jdGlvbihwKSB7XG4gICAgICByZXR1cm4gaSghdGhpcy5yZWQsIFwiQWxyZWFkeSBhIG51bWJlciBpbiByZWR1Y3Rpb24gY29udGV4dFwiKSwgaSh0aGlzLm5lZ2F0aXZlID09PSAwLCBcInJlZCB3b3JrcyBvbmx5IHdpdGggcG9zaXRpdmVzXCIpLCBwLmNvbnZlcnRUbyh0aGlzKS5fZm9yY2VSZWQocCk7XG4gICAgfSwgcy5wcm90b3R5cGUuZnJvbVJlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGkodGhpcy5yZWQsIFwiZnJvbVJlZCB3b3JrcyBvbmx5IHdpdGggbnVtYmVycyBpbiByZWR1Y3Rpb24gY29udGV4dFwiKSwgdGhpcy5yZWQuY29udmVydEZyb20odGhpcyk7XG4gICAgfSwgcy5wcm90b3R5cGUuX2ZvcmNlUmVkID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVkID0gcCwgdGhpcztcbiAgICB9LCBzLnByb3RvdHlwZS5mb3JjZVJlZCA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiBpKCF0aGlzLnJlZCwgXCJBbHJlYWR5IGEgbnVtYmVyIGluIHJlZHVjdGlvbiBjb250ZXh0XCIpLCB0aGlzLl9mb3JjZVJlZChwKTtcbiAgICB9LCBzLnByb3RvdHlwZS5yZWRBZGQgPSBmdW5jdGlvbihwKSB7XG4gICAgICByZXR1cm4gaSh0aGlzLnJlZCwgXCJyZWRBZGQgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzXCIpLCB0aGlzLnJlZC5hZGQodGhpcywgcCk7XG4gICAgfSwgcy5wcm90b3R5cGUucmVkSUFkZCA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiBpKHRoaXMucmVkLCBcInJlZElBZGQgd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzXCIpLCB0aGlzLnJlZC5pYWRkKHRoaXMsIHApO1xuICAgIH0sIHMucHJvdG90eXBlLnJlZFN1YiA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiBpKHRoaXMucmVkLCBcInJlZFN1YiB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnNcIiksIHRoaXMucmVkLnN1Yih0aGlzLCBwKTtcbiAgICB9LCBzLnByb3RvdHlwZS5yZWRJU3ViID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIGkodGhpcy5yZWQsIFwicmVkSVN1YiB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnNcIiksIHRoaXMucmVkLmlzdWIodGhpcywgcCk7XG4gICAgfSwgcy5wcm90b3R5cGUucmVkU2hsID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIGkodGhpcy5yZWQsIFwicmVkU2hsIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVyc1wiKSwgdGhpcy5yZWQuc2hsKHRoaXMsIHApO1xuICAgIH0sIHMucHJvdG90eXBlLnJlZE11bCA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiBpKHRoaXMucmVkLCBcInJlZE11bCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnNcIiksIHRoaXMucmVkLl92ZXJpZnkyKHRoaXMsIHApLCB0aGlzLnJlZC5tdWwodGhpcywgcCk7XG4gICAgfSwgcy5wcm90b3R5cGUucmVkSU11bCA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiBpKHRoaXMucmVkLCBcInJlZE11bCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnNcIiksIHRoaXMucmVkLl92ZXJpZnkyKHRoaXMsIHApLCB0aGlzLnJlZC5pbXVsKHRoaXMsIHApO1xuICAgIH0sIHMucHJvdG90eXBlLnJlZFNxciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGkodGhpcy5yZWQsIFwicmVkU3FyIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVyc1wiKSwgdGhpcy5yZWQuX3ZlcmlmeTEodGhpcyksIHRoaXMucmVkLnNxcih0aGlzKTtcbiAgICB9LCBzLnByb3RvdHlwZS5yZWRJU3FyID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaSh0aGlzLnJlZCwgXCJyZWRJU3FyIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVyc1wiKSwgdGhpcy5yZWQuX3ZlcmlmeTEodGhpcyksIHRoaXMucmVkLmlzcXIodGhpcyk7XG4gICAgfSwgcy5wcm90b3R5cGUucmVkU3FydCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGkodGhpcy5yZWQsIFwicmVkU3FydCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnNcIiksIHRoaXMucmVkLl92ZXJpZnkxKHRoaXMpLCB0aGlzLnJlZC5zcXJ0KHRoaXMpO1xuICAgIH0sIHMucHJvdG90eXBlLnJlZEludm0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBpKHRoaXMucmVkLCBcInJlZEludm0gd29ya3Mgb25seSB3aXRoIHJlZCBudW1iZXJzXCIpLCB0aGlzLnJlZC5fdmVyaWZ5MSh0aGlzKSwgdGhpcy5yZWQuaW52bSh0aGlzKTtcbiAgICB9LCBzLnByb3RvdHlwZS5yZWROZWcgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBpKHRoaXMucmVkLCBcInJlZE5lZyB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnNcIiksIHRoaXMucmVkLl92ZXJpZnkxKHRoaXMpLCB0aGlzLnJlZC5uZWcodGhpcyk7XG4gICAgfSwgcy5wcm90b3R5cGUucmVkUG93ID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIGkodGhpcy5yZWQgJiYgIXAucmVkLCBcInJlZFBvdyhub3JtYWxOdW0pXCIpLCB0aGlzLnJlZC5fdmVyaWZ5MSh0aGlzKSwgdGhpcy5yZWQucG93KHRoaXMsIHApO1xuICAgIH07XG4gICAgdmFyIEsgPSB7XG4gICAgICBrMjU2OiBudWxsLFxuICAgICAgcDIyNDogbnVsbCxcbiAgICAgIHAxOTI6IG51bGwsXG4gICAgICBwMjU1MTk6IG51bGxcbiAgICB9O1xuICAgIGZ1bmN0aW9uICQoTywgcCkge1xuICAgICAgdGhpcy5uYW1lID0gTywgdGhpcy5wID0gbmV3IHMocCwgMTYpLCB0aGlzLm4gPSB0aGlzLnAuYml0TGVuZ3RoKCksIHRoaXMuayA9IG5ldyBzKDEpLml1c2hsbih0aGlzLm4pLmlzdWIodGhpcy5wKSwgdGhpcy50bXAgPSB0aGlzLl90bXAoKTtcbiAgICB9XG4gICAgJC5wcm90b3R5cGUuX3RtcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHAgPSBuZXcgcyhudWxsKTtcbiAgICAgIHJldHVybiBwLndvcmRzID0gbmV3IEFycmF5KE1hdGguY2VpbCh0aGlzLm4gLyAxMykpLCBwO1xuICAgIH0sICQucHJvdG90eXBlLmlyZWR1Y2UgPSBmdW5jdGlvbihwKSB7XG4gICAgICB2YXIgbCA9IHAsIGE7XG4gICAgICBkb1xuICAgICAgICB0aGlzLnNwbGl0KGwsIHRoaXMudG1wKSwgbCA9IHRoaXMuaW11bEsobCksIGwgPSBsLmlhZGQodGhpcy50bXApLCBhID0gbC5iaXRMZW5ndGgoKTtcbiAgICAgIHdoaWxlIChhID4gdGhpcy5uKTtcbiAgICAgIHZhciBjID0gYSA8IHRoaXMubiA/IC0xIDogbC51Y21wKHRoaXMucCk7XG4gICAgICByZXR1cm4gYyA9PT0gMCA/IChsLndvcmRzWzBdID0gMCwgbC5sZW5ndGggPSAxKSA6IGMgPiAwID8gbC5pc3ViKHRoaXMucCkgOiBsLnN0cmlwICE9PSB2b2lkIDAgPyBsLnN0cmlwKCkgOiBsLl9zdHJpcCgpLCBsO1xuICAgIH0sICQucHJvdG90eXBlLnNwbGl0ID0gZnVuY3Rpb24ocCwgbCkge1xuICAgICAgcC5pdXNocm4odGhpcy5uLCAwLCBsKTtcbiAgICB9LCAkLnByb3RvdHlwZS5pbXVsSyA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiBwLmltdWwodGhpcy5rKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIHooKSB7XG4gICAgICAkLmNhbGwoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIFwiazI1NlwiLFxuICAgICAgICBcImZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZlIGZmZmZmYzJmXCJcbiAgICAgICk7XG4gICAgfVxuICAgIG4oeiwgJCksIHoucHJvdG90eXBlLnNwbGl0ID0gZnVuY3Rpb24ocCwgbCkge1xuICAgICAgZm9yICh2YXIgYSA9IDQxOTQzMDMsIGMgPSBNYXRoLm1pbihwLmxlbmd0aCwgOSksIGIgPSAwOyBiIDwgYzsgYisrKVxuICAgICAgICBsLndvcmRzW2JdID0gcC53b3Jkc1tiXTtcbiAgICAgIGlmIChsLmxlbmd0aCA9IGMsIHAubGVuZ3RoIDw9IDkpIHtcbiAgICAgICAgcC53b3Jkc1swXSA9IDAsIHAubGVuZ3RoID0gMTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIEUgPSBwLndvcmRzWzldO1xuICAgICAgZm9yIChsLndvcmRzW2wubGVuZ3RoKytdID0gRSAmIGEsIGIgPSAxMDsgYiA8IHAubGVuZ3RoOyBiKyspIHtcbiAgICAgICAgdmFyIFMgPSBwLndvcmRzW2JdIHwgMDtcbiAgICAgICAgcC53b3Jkc1tiIC0gMTBdID0gKFMgJiBhKSA8PCA0IHwgRSA+Pj4gMjIsIEUgPSBTO1xuICAgICAgfVxuICAgICAgRSA+Pj49IDIyLCBwLndvcmRzW2IgLSAxMF0gPSBFLCBFID09PSAwICYmIHAubGVuZ3RoID4gMTAgPyBwLmxlbmd0aCAtPSAxMCA6IHAubGVuZ3RoIC09IDk7XG4gICAgfSwgei5wcm90b3R5cGUuaW11bEsgPSBmdW5jdGlvbihwKSB7XG4gICAgICBwLndvcmRzW3AubGVuZ3RoXSA9IDAsIHAud29yZHNbcC5sZW5ndGggKyAxXSA9IDAsIHAubGVuZ3RoICs9IDI7XG4gICAgICBmb3IgKHZhciBsID0gMCwgYSA9IDA7IGEgPCBwLmxlbmd0aDsgYSsrKSB7XG4gICAgICAgIHZhciBjID0gcC53b3Jkc1thXSB8IDA7XG4gICAgICAgIGwgKz0gYyAqIDk3NywgcC53b3Jkc1thXSA9IGwgJiA2NzEwODg2MywgbCA9IGMgKiA2NCArIChsIC8gNjcxMDg4NjQgfCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwLndvcmRzW3AubGVuZ3RoIC0gMV0gPT09IDAgJiYgKHAubGVuZ3RoLS0sIHAud29yZHNbcC5sZW5ndGggLSAxXSA9PT0gMCAmJiBwLmxlbmd0aC0tKSwgcDtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIEIoKSB7XG4gICAgICAkLmNhbGwoXG4gICAgICAgIHRoaXMsXG4gICAgICAgIFwicDIyNFwiLFxuICAgICAgICBcImZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIDAwMDAwMDAwIDAwMDAwMDAwIDAwMDAwMDAxXCJcbiAgICAgICk7XG4gICAgfVxuICAgIG4oQiwgJCk7XG4gICAgZnVuY3Rpb24gXygpIHtcbiAgICAgICQuY2FsbChcbiAgICAgICAgdGhpcyxcbiAgICAgICAgXCJwMTkyXCIsXG4gICAgICAgIFwiZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmUgZmZmZmZmZmYgZmZmZmZmZmZcIlxuICAgICAgKTtcbiAgICB9XG4gICAgbihfLCAkKTtcbiAgICBmdW5jdGlvbiBSKCkge1xuICAgICAgJC5jYWxsKFxuICAgICAgICB0aGlzLFxuICAgICAgICBcIjI1NTE5XCIsXG4gICAgICAgIFwiN2ZmZmZmZmZmZmZmZmZmZiBmZmZmZmZmZmZmZmZmZmZmIGZmZmZmZmZmZmZmZmZmZmYgZmZmZmZmZmZmZmZmZmZlZFwiXG4gICAgICApO1xuICAgIH1cbiAgICBuKFIsICQpLCBSLnByb3RvdHlwZS5pbXVsSyA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIGZvciAodmFyIGwgPSAwLCBhID0gMDsgYSA8IHAubGVuZ3RoOyBhKyspIHtcbiAgICAgICAgdmFyIGMgPSAocC53b3Jkc1thXSB8IDApICogMTkgKyBsLCBiID0gYyAmIDY3MTA4ODYzO1xuICAgICAgICBjID4+Pj0gMjYsIHAud29yZHNbYV0gPSBiLCBsID0gYztcbiAgICAgIH1cbiAgICAgIHJldHVybiBsICE9PSAwICYmIChwLndvcmRzW3AubGVuZ3RoKytdID0gbCksIHA7XG4gICAgfSwgcy5fcHJpbWUgPSBmdW5jdGlvbihwKSB7XG4gICAgICBpZiAoS1twXSlcbiAgICAgICAgcmV0dXJuIEtbcF07XG4gICAgICB2YXIgbDtcbiAgICAgIGlmIChwID09PSBcImsyNTZcIilcbiAgICAgICAgbCA9IG5ldyB6KCk7XG4gICAgICBlbHNlIGlmIChwID09PSBcInAyMjRcIilcbiAgICAgICAgbCA9IG5ldyBCKCk7XG4gICAgICBlbHNlIGlmIChwID09PSBcInAxOTJcIilcbiAgICAgICAgbCA9IG5ldyBfKCk7XG4gICAgICBlbHNlIGlmIChwID09PSBcInAyNTUxOVwiKVxuICAgICAgICBsID0gbmV3IFIoKTtcbiAgICAgIGVsc2VcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBwcmltZSBcIiArIHApO1xuICAgICAgcmV0dXJuIEtbcF0gPSBsLCBsO1xuICAgIH07XG4gICAgZnVuY3Rpb24gSihPKSB7XG4gICAgICBpZiAodHlwZW9mIE8gPT0gXCJzdHJpbmdcIikge1xuICAgICAgICB2YXIgcCA9IHMuX3ByaW1lKE8pO1xuICAgICAgICB0aGlzLm0gPSBwLnAsIHRoaXMucHJpbWUgPSBwO1xuICAgICAgfSBlbHNlXG4gICAgICAgIGkoTy5ndG4oMSksIFwibW9kdWx1cyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAxXCIpLCB0aGlzLm0gPSBPLCB0aGlzLnByaW1lID0gbnVsbDtcbiAgICB9XG4gICAgSi5wcm90b3R5cGUuX3ZlcmlmeTEgPSBmdW5jdGlvbihwKSB7XG4gICAgICBpKHAubmVnYXRpdmUgPT09IDAsIFwicmVkIHdvcmtzIG9ubHkgd2l0aCBwb3NpdGl2ZXNcIiksIGkocC5yZWQsIFwicmVkIHdvcmtzIG9ubHkgd2l0aCByZWQgbnVtYmVyc1wiKTtcbiAgICB9LCBKLnByb3RvdHlwZS5fdmVyaWZ5MiA9IGZ1bmN0aW9uKHAsIGwpIHtcbiAgICAgIGkoKHAubmVnYXRpdmUgfCBsLm5lZ2F0aXZlKSA9PT0gMCwgXCJyZWQgd29ya3Mgb25seSB3aXRoIHBvc2l0aXZlc1wiKSwgaShcbiAgICAgICAgcC5yZWQgJiYgcC5yZWQgPT09IGwucmVkLFxuICAgICAgICBcInJlZCB3b3JrcyBvbmx5IHdpdGggcmVkIG51bWJlcnNcIlxuICAgICAgKTtcbiAgICB9LCBKLnByb3RvdHlwZS5pbW9kID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJpbWUgPyB0aGlzLnByaW1lLmlyZWR1Y2UocCkuX2ZvcmNlUmVkKHRoaXMpIDogcC51bW9kKHRoaXMubSkuX2ZvcmNlUmVkKHRoaXMpO1xuICAgIH0sIEoucHJvdG90eXBlLm5lZyA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiBwLmlzWmVybygpID8gcC5jbG9uZSgpIDogdGhpcy5tLnN1YihwKS5fZm9yY2VSZWQodGhpcyk7XG4gICAgfSwgSi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24ocCwgbCkge1xuICAgICAgdGhpcy5fdmVyaWZ5MihwLCBsKTtcbiAgICAgIHZhciBhID0gcC5hZGQobCk7XG4gICAgICByZXR1cm4gYS5jbXAodGhpcy5tKSA+PSAwICYmIGEuaXN1Yih0aGlzLm0pLCBhLl9mb3JjZVJlZCh0aGlzKTtcbiAgICB9LCBKLnByb3RvdHlwZS5pYWRkID0gZnVuY3Rpb24ocCwgbCkge1xuICAgICAgdGhpcy5fdmVyaWZ5MihwLCBsKTtcbiAgICAgIHZhciBhID0gcC5pYWRkKGwpO1xuICAgICAgcmV0dXJuIGEuY21wKHRoaXMubSkgPj0gMCAmJiBhLmlzdWIodGhpcy5tKSwgYTtcbiAgICB9LCBKLnByb3RvdHlwZS5zdWIgPSBmdW5jdGlvbihwLCBsKSB7XG4gICAgICB0aGlzLl92ZXJpZnkyKHAsIGwpO1xuICAgICAgdmFyIGEgPSBwLnN1YihsKTtcbiAgICAgIHJldHVybiBhLmNtcG4oMCkgPCAwICYmIGEuaWFkZCh0aGlzLm0pLCBhLl9mb3JjZVJlZCh0aGlzKTtcbiAgICB9LCBKLnByb3RvdHlwZS5pc3ViID0gZnVuY3Rpb24ocCwgbCkge1xuICAgICAgdGhpcy5fdmVyaWZ5MihwLCBsKTtcbiAgICAgIHZhciBhID0gcC5pc3ViKGwpO1xuICAgICAgcmV0dXJuIGEuY21wbigwKSA8IDAgJiYgYS5pYWRkKHRoaXMubSksIGE7XG4gICAgfSwgSi5wcm90b3R5cGUuc2hsID0gZnVuY3Rpb24ocCwgbCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZlcmlmeTEocCksIHRoaXMuaW1vZChwLnVzaGxuKGwpKTtcbiAgICB9LCBKLnByb3RvdHlwZS5pbXVsID0gZnVuY3Rpb24ocCwgbCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3ZlcmlmeTIocCwgbCksIHRoaXMuaW1vZChwLmltdWwobCkpO1xuICAgIH0sIEoucHJvdG90eXBlLm11bCA9IGZ1bmN0aW9uKHAsIGwpIHtcbiAgICAgIHJldHVybiB0aGlzLl92ZXJpZnkyKHAsIGwpLCB0aGlzLmltb2QocC5tdWwobCkpO1xuICAgIH0sIEoucHJvdG90eXBlLmlzcXIgPSBmdW5jdGlvbihwKSB7XG4gICAgICByZXR1cm4gdGhpcy5pbXVsKHAsIHAuY2xvbmUoKSk7XG4gICAgfSwgSi5wcm90b3R5cGUuc3FyID0gZnVuY3Rpb24ocCkge1xuICAgICAgcmV0dXJuIHRoaXMubXVsKHAsIHApO1xuICAgIH0sIEoucHJvdG90eXBlLnNxcnQgPSBmdW5jdGlvbihwKSB7XG4gICAgICBpZiAocC5pc1plcm8oKSlcbiAgICAgICAgcmV0dXJuIHAuY2xvbmUoKTtcbiAgICAgIHZhciBsID0gdGhpcy5tLmFuZGxuKDMpO1xuICAgICAgaWYgKGkobCAlIDIgPT09IDEpLCBsID09PSAzKSB7XG4gICAgICAgIHZhciBhID0gdGhpcy5tLmFkZChuZXcgcygxKSkuaXVzaHJuKDIpO1xuICAgICAgICByZXR1cm4gdGhpcy5wb3cocCwgYSk7XG4gICAgICB9XG4gICAgICBmb3IgKHZhciBjID0gdGhpcy5tLnN1Ym4oMSksIGIgPSAwOyAhYy5pc1plcm8oKSAmJiBjLmFuZGxuKDEpID09PSAwOyApXG4gICAgICAgIGIrKywgYy5pdXNocm4oMSk7XG4gICAgICBpKCFjLmlzWmVybygpKTtcbiAgICAgIHZhciBFID0gbmV3IHMoMSkudG9SZWQodGhpcyksIFMgPSBFLnJlZE5lZygpLCB4ID0gdGhpcy5tLnN1Ym4oMSkuaXVzaHJuKDEpLCB1ID0gdGhpcy5tLmJpdExlbmd0aCgpO1xuICAgICAgZm9yICh1ID0gbmV3IHMoMiAqIHUgKiB1KS50b1JlZCh0aGlzKTsgdGhpcy5wb3codSwgeCkuY21wKFMpICE9PSAwOyApXG4gICAgICAgIHUucmVkSUFkZChTKTtcbiAgICAgIGZvciAodmFyIG0gPSB0aGlzLnBvdyh1LCBjKSwgZyA9IHRoaXMucG93KHAsIGMuYWRkbigxKS5pdXNocm4oMSkpLCBQID0gdGhpcy5wb3cocCwgYyksIEcgPSBiOyBQLmNtcChFKSAhPT0gMDsgKSB7XG4gICAgICAgIGZvciAodmFyIE0gPSBQLCBIID0gMDsgTS5jbXAoRSkgIT09IDA7IEgrKylcbiAgICAgICAgICBNID0gTS5yZWRTcXIoKTtcbiAgICAgICAgaShIIDwgRyk7XG4gICAgICAgIHZhciBDID0gdGhpcy5wb3cobSwgbmV3IHMoMSkuaXVzaGxuKEcgLSBIIC0gMSkpO1xuICAgICAgICBnID0gZy5yZWRNdWwoQyksIG0gPSBDLnJlZFNxcigpLCBQID0gUC5yZWRNdWwobSksIEcgPSBIO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGc7XG4gICAgfSwgSi5wcm90b3R5cGUuaW52bSA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHZhciBsID0gcC5faW52bXAodGhpcy5tKTtcbiAgICAgIHJldHVybiBsLm5lZ2F0aXZlICE9PSAwID8gKGwubmVnYXRpdmUgPSAwLCB0aGlzLmltb2QobCkucmVkTmVnKCkpIDogdGhpcy5pbW9kKGwpO1xuICAgIH0sIEoucHJvdG90eXBlLnBvdyA9IGZ1bmN0aW9uKHAsIGwpIHtcbiAgICAgIGlmIChsLmlzWmVybygpKVxuICAgICAgICByZXR1cm4gbmV3IHMoMSkudG9SZWQodGhpcyk7XG4gICAgICBpZiAobC5jbXBuKDEpID09PSAwKVxuICAgICAgICByZXR1cm4gcC5jbG9uZSgpO1xuICAgICAgdmFyIGEgPSA0LCBjID0gbmV3IEFycmF5KDEgPDwgYSk7XG4gICAgICBjWzBdID0gbmV3IHMoMSkudG9SZWQodGhpcyksIGNbMV0gPSBwO1xuICAgICAgZm9yICh2YXIgYiA9IDI7IGIgPCBjLmxlbmd0aDsgYisrKVxuICAgICAgICBjW2JdID0gdGhpcy5tdWwoY1tiIC0gMV0sIHApO1xuICAgICAgdmFyIEUgPSBjWzBdLCBTID0gMCwgeCA9IDAsIHUgPSBsLmJpdExlbmd0aCgpICUgMjY7XG4gICAgICBmb3IgKHUgPT09IDAgJiYgKHUgPSAyNiksIGIgPSBsLmxlbmd0aCAtIDE7IGIgPj0gMDsgYi0tKSB7XG4gICAgICAgIGZvciAodmFyIG0gPSBsLndvcmRzW2JdLCBnID0gdSAtIDE7IGcgPj0gMDsgZy0tKSB7XG4gICAgICAgICAgdmFyIFAgPSBtID4+IGcgJiAxO1xuICAgICAgICAgIGlmIChFICE9PSBjWzBdICYmIChFID0gdGhpcy5zcXIoRSkpLCBQID09PSAwICYmIFMgPT09IDApIHtcbiAgICAgICAgICAgIHggPSAwO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIFMgPDw9IDEsIFMgfD0gUCwgeCsrLCAhKHggIT09IGEgJiYgKGIgIT09IDAgfHwgZyAhPT0gMCkpICYmIChFID0gdGhpcy5tdWwoRSwgY1tTXSksIHggPSAwLCBTID0gMCk7XG4gICAgICAgIH1cbiAgICAgICAgdSA9IDI2O1xuICAgICAgfVxuICAgICAgcmV0dXJuIEU7XG4gICAgfSwgSi5wcm90b3R5cGUuY29udmVydFRvID0gZnVuY3Rpb24ocCkge1xuICAgICAgdmFyIGwgPSBwLnVtb2QodGhpcy5tKTtcbiAgICAgIHJldHVybiBsID09PSBwID8gbC5jbG9uZSgpIDogbDtcbiAgICB9LCBKLnByb3RvdHlwZS5jb252ZXJ0RnJvbSA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHZhciBsID0gcC5jbG9uZSgpO1xuICAgICAgcmV0dXJuIGwucmVkID0gbnVsbCwgbDtcbiAgICB9LCBzLm1vbnQgPSBmdW5jdGlvbihwKSB7XG4gICAgICByZXR1cm4gbmV3IFEocCk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBRKE8pIHtcbiAgICAgIEouY2FsbCh0aGlzLCBPKSwgdGhpcy5zaGlmdCA9IHRoaXMubS5iaXRMZW5ndGgoKSwgdGhpcy5zaGlmdCAlIDI2ICE9PSAwICYmICh0aGlzLnNoaWZ0ICs9IDI2IC0gdGhpcy5zaGlmdCAlIDI2KSwgdGhpcy5yID0gbmV3IHMoMSkuaXVzaGxuKHRoaXMuc2hpZnQpLCB0aGlzLnIyID0gdGhpcy5pbW9kKHRoaXMuci5zcXIoKSksIHRoaXMucmludiA9IHRoaXMuci5faW52bXAodGhpcy5tKSwgdGhpcy5taW52ID0gdGhpcy5yaW52Lm11bCh0aGlzLnIpLmlzdWJuKDEpLmRpdih0aGlzLm0pLCB0aGlzLm1pbnYgPSB0aGlzLm1pbnYudW1vZCh0aGlzLnIpLCB0aGlzLm1pbnYgPSB0aGlzLnIuc3ViKHRoaXMubWludik7XG4gICAgfVxuICAgIG4oUSwgSiksIFEucHJvdG90eXBlLmNvbnZlcnRUbyA9IGZ1bmN0aW9uKHApIHtcbiAgICAgIHJldHVybiB0aGlzLmltb2QocC51c2hsbih0aGlzLnNoaWZ0KSk7XG4gICAgfSwgUS5wcm90b3R5cGUuY29udmVydEZyb20gPSBmdW5jdGlvbihwKSB7XG4gICAgICB2YXIgbCA9IHRoaXMuaW1vZChwLm11bCh0aGlzLnJpbnYpKTtcbiAgICAgIHJldHVybiBsLnJlZCA9IG51bGwsIGw7XG4gICAgfSwgUS5wcm90b3R5cGUuaW11bCA9IGZ1bmN0aW9uKHAsIGwpIHtcbiAgICAgIGlmIChwLmlzWmVybygpIHx8IGwuaXNaZXJvKCkpXG4gICAgICAgIHJldHVybiBwLndvcmRzWzBdID0gMCwgcC5sZW5ndGggPSAxLCBwO1xuICAgICAgdmFyIGEgPSBwLmltdWwobCksIGMgPSBhLm1hc2tuKHRoaXMuc2hpZnQpLm11bCh0aGlzLm1pbnYpLmltYXNrbih0aGlzLnNoaWZ0KS5tdWwodGhpcy5tKSwgYiA9IGEuaXN1YihjKS5pdXNocm4odGhpcy5zaGlmdCksIEUgPSBiO1xuICAgICAgcmV0dXJuIGIuY21wKHRoaXMubSkgPj0gMCA/IEUgPSBiLmlzdWIodGhpcy5tKSA6IGIuY21wbigwKSA8IDAgJiYgKEUgPSBiLmlhZGQodGhpcy5tKSksIEUuX2ZvcmNlUmVkKHRoaXMpO1xuICAgIH0sIFEucHJvdG90eXBlLm11bCA9IGZ1bmN0aW9uKHAsIGwpIHtcbiAgICAgIGlmIChwLmlzWmVybygpIHx8IGwuaXNaZXJvKCkpXG4gICAgICAgIHJldHVybiBuZXcgcygwKS5fZm9yY2VSZWQodGhpcyk7XG4gICAgICB2YXIgYSA9IHAubXVsKGwpLCBjID0gYS5tYXNrbih0aGlzLnNoaWZ0KS5tdWwodGhpcy5taW52KS5pbWFza24odGhpcy5zaGlmdCkubXVsKHRoaXMubSksIGIgPSBhLmlzdWIoYykuaXVzaHJuKHRoaXMuc2hpZnQpLCBFID0gYjtcbiAgICAgIHJldHVybiBiLmNtcCh0aGlzLm0pID49IDAgPyBFID0gYi5pc3ViKHRoaXMubSkgOiBiLmNtcG4oMCkgPCAwICYmIChFID0gYi5pYWRkKHRoaXMubSkpLCBFLl9mb3JjZVJlZCh0aGlzKTtcbiAgICB9LCBRLnByb3RvdHlwZS5pbnZtID0gZnVuY3Rpb24ocCkge1xuICAgICAgdmFyIGwgPSB0aGlzLmltb2QocC5faW52bXAodGhpcy5tKS5tdWwodGhpcy5yMikpO1xuICAgICAgcmV0dXJuIGwuX2ZvcmNlUmVkKHRoaXMpO1xuICAgIH07XG4gIH0pKHIsIHRyKTtcbn0pKFdvKTtcbnZhciBsaSA9IFdvLmV4cG9ydHMsIEdvID0ge307XG4oZnVuY3Rpb24ocikge1xuICB2YXIgZSA9IHI7XG4gIGZ1bmN0aW9uIHQocywgbykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHMpKVxuICAgICAgcmV0dXJuIHMuc2xpY2UoKTtcbiAgICBpZiAoIXMpXG4gICAgICByZXR1cm4gW107XG4gICAgdmFyIGYgPSBbXTtcbiAgICBpZiAodHlwZW9mIHMgIT0gXCJzdHJpbmdcIikge1xuICAgICAgZm9yICh2YXIgaCA9IDA7IGggPCBzLmxlbmd0aDsgaCsrKVxuICAgICAgICBmW2hdID0gc1toXSB8IDA7XG4gICAgICByZXR1cm4gZjtcbiAgICB9XG4gICAgaWYgKG8gPT09IFwiaGV4XCIpIHtcbiAgICAgIHMgPSBzLnJlcGxhY2UoL1teYS16MC05XSsvaWcsIFwiXCIpLCBzLmxlbmd0aCAlIDIgIT09IDAgJiYgKHMgPSBcIjBcIiArIHMpO1xuICAgICAgZm9yICh2YXIgaCA9IDA7IGggPCBzLmxlbmd0aDsgaCArPSAyKVxuICAgICAgICBmLnB1c2gocGFyc2VJbnQoc1toXSArIHNbaCArIDFdLCAxNikpO1xuICAgIH0gZWxzZVxuICAgICAgZm9yICh2YXIgaCA9IDA7IGggPCBzLmxlbmd0aDsgaCsrKSB7XG4gICAgICAgIHZhciBkID0gcy5jaGFyQ29kZUF0KGgpLCB2ID0gZCA+PiA4LCB3ID0gZCAmIDI1NTtcbiAgICAgICAgdiA/IGYucHVzaCh2LCB3KSA6IGYucHVzaCh3KTtcbiAgICAgIH1cbiAgICByZXR1cm4gZjtcbiAgfVxuICBlLnRvQXJyYXkgPSB0O1xuICBmdW5jdGlvbiBpKHMpIHtcbiAgICByZXR1cm4gcy5sZW5ndGggPT09IDEgPyBcIjBcIiArIHMgOiBzO1xuICB9XG4gIGUuemVybzIgPSBpO1xuICBmdW5jdGlvbiBuKHMpIHtcbiAgICBmb3IgKHZhciBvID0gXCJcIiwgZiA9IDA7IGYgPCBzLmxlbmd0aDsgZisrKVxuICAgICAgbyArPSBpKHNbZl0udG9TdHJpbmcoMTYpKTtcbiAgICByZXR1cm4gbztcbiAgfVxuICBlLnRvSGV4ID0gbiwgZS5lbmNvZGUgPSBmdW5jdGlvbihvLCBmKSB7XG4gICAgcmV0dXJuIGYgPT09IFwiaGV4XCIgPyBuKG8pIDogbztcbiAgfTtcbn0pKEdvKTtcbihmdW5jdGlvbihyKSB7XG4gIHZhciBlID0gciwgdCA9IGxpLCBpID0gWWksIG4gPSBHbztcbiAgZS5hc3NlcnQgPSBpLCBlLnRvQXJyYXkgPSBuLnRvQXJyYXksIGUuemVybzIgPSBuLnplcm8yLCBlLnRvSGV4ID0gbi50b0hleCwgZS5lbmNvZGUgPSBuLmVuY29kZTtcbiAgZnVuY3Rpb24gcyh2LCB3LCBBKSB7XG4gICAgdmFyIEkgPSBuZXcgQXJyYXkoTWF0aC5tYXgodi5iaXRMZW5ndGgoKSwgQSkgKyAxKSwgRDtcbiAgICBmb3IgKEQgPSAwOyBEIDwgSS5sZW5ndGg7IEQgKz0gMSlcbiAgICAgIElbRF0gPSAwO1xuICAgIHZhciBOID0gMSA8PCB3ICsgMSwgayA9IHYuY2xvbmUoKTtcbiAgICBmb3IgKEQgPSAwOyBEIDwgSS5sZW5ndGg7IEQrKykge1xuICAgICAgdmFyIGosIFQgPSBrLmFuZGxuKE4gLSAxKTtcbiAgICAgIGsuaXNPZGQoKSA/IChUID4gKE4gPj4gMSkgLSAxID8gaiA9IChOID4+IDEpIC0gVCA6IGogPSBULCBrLmlzdWJuKGopKSA6IGogPSAwLCBJW0RdID0gaiwgay5pdXNocm4oMSk7XG4gICAgfVxuICAgIHJldHVybiBJO1xuICB9XG4gIGUuZ2V0TkFGID0gcztcbiAgZnVuY3Rpb24gbyh2LCB3KSB7XG4gICAgdmFyIEEgPSBbXG4gICAgICBbXSxcbiAgICAgIFtdXG4gICAgXTtcbiAgICB2ID0gdi5jbG9uZSgpLCB3ID0gdy5jbG9uZSgpO1xuICAgIGZvciAodmFyIEkgPSAwLCBEID0gMCwgTjsgdi5jbXBuKC1JKSA+IDAgfHwgdy5jbXBuKC1EKSA+IDA7ICkge1xuICAgICAgdmFyIGsgPSB2LmFuZGxuKDMpICsgSSAmIDMsIGogPSB3LmFuZGxuKDMpICsgRCAmIDM7XG4gICAgICBrID09PSAzICYmIChrID0gLTEpLCBqID09PSAzICYmIChqID0gLTEpO1xuICAgICAgdmFyIFQ7XG4gICAgICBrICYgMSA/IChOID0gdi5hbmRsbig3KSArIEkgJiA3LCAoTiA9PT0gMyB8fCBOID09PSA1KSAmJiBqID09PSAyID8gVCA9IC1rIDogVCA9IGspIDogVCA9IDAsIEFbMF0ucHVzaChUKTtcbiAgICAgIHZhciBLO1xuICAgICAgaiAmIDEgPyAoTiA9IHcuYW5kbG4oNykgKyBEICYgNywgKE4gPT09IDMgfHwgTiA9PT0gNSkgJiYgayA9PT0gMiA/IEsgPSAtaiA6IEsgPSBqKSA6IEsgPSAwLCBBWzFdLnB1c2goSyksIDIgKiBJID09PSBUICsgMSAmJiAoSSA9IDEgLSBJKSwgMiAqIEQgPT09IEsgKyAxICYmIChEID0gMSAtIEQpLCB2Lml1c2hybigxKSwgdy5pdXNocm4oMSk7XG4gICAgfVxuICAgIHJldHVybiBBO1xuICB9XG4gIGUuZ2V0SlNGID0gbztcbiAgZnVuY3Rpb24gZih2LCB3LCBBKSB7XG4gICAgdmFyIEkgPSBcIl9cIiArIHc7XG4gICAgdi5wcm90b3R5cGVbd10gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzW0ldICE9PSB2b2lkIDAgPyB0aGlzW0ldIDogdGhpc1tJXSA9IEEuY2FsbCh0aGlzKTtcbiAgICB9O1xuICB9XG4gIGUuY2FjaGVkUHJvcGVydHkgPSBmO1xuICBmdW5jdGlvbiBoKHYpIHtcbiAgICByZXR1cm4gdHlwZW9mIHYgPT0gXCJzdHJpbmdcIiA/IGUudG9BcnJheSh2LCBcImhleFwiKSA6IHY7XG4gIH1cbiAgZS5wYXJzZUJ5dGVzID0gaDtcbiAgZnVuY3Rpb24gZCh2KSB7XG4gICAgcmV0dXJuIG5ldyB0KHYsIFwiaGV4XCIsIFwibGVcIik7XG4gIH1cbiAgZS5pbnRGcm9tTEUgPSBkO1xufSkoYXIpO1xudmFyIEpvID0geyBleHBvcnRzOiB7fSB9LCBKYTtcbkpvLmV4cG9ydHMgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBKYSB8fCAoSmEgPSBuZXcgeWkobnVsbCkpLCBKYS5nZW5lcmF0ZShlKTtcbn07XG5mdW5jdGlvbiB5aShyKSB7XG4gIHRoaXMucmFuZCA9IHI7XG59XG5Kby5leHBvcnRzLlJhbmQgPSB5aTtcbnlpLnByb3RvdHlwZS5nZW5lcmF0ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIHRoaXMuX3JhbmQoZSk7XG59O1xueWkucHJvdG90eXBlLl9yYW5kID0gZnVuY3Rpb24oZSkge1xuICBpZiAodGhpcy5yYW5kLmdldEJ5dGVzKVxuICAgIHJldHVybiB0aGlzLnJhbmQuZ2V0Qnl0ZXMoZSk7XG4gIGZvciAodmFyIHQgPSBuZXcgVWludDhBcnJheShlKSwgaSA9IDA7IGkgPCB0Lmxlbmd0aDsgaSsrKVxuICAgIHRbaV0gPSB0aGlzLnJhbmQuZ2V0Qnl0ZSgpO1xuICByZXR1cm4gdDtcbn07XG5pZiAodHlwZW9mIHNlbGYgPT0gXCJvYmplY3RcIilcbiAgc2VsZi5jcnlwdG8gJiYgc2VsZi5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID8geWkucHJvdG90eXBlLl9yYW5kID0gZnVuY3Rpb24oZSkge1xuICAgIHZhciB0ID0gbmV3IFVpbnQ4QXJyYXkoZSk7XG4gICAgcmV0dXJuIHNlbGYuY3J5cHRvLmdldFJhbmRvbVZhbHVlcyh0KSwgdDtcbiAgfSA6IHNlbGYubXNDcnlwdG8gJiYgc2VsZi5tc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMgPyB5aS5wcm90b3R5cGUuX3JhbmQgPSBmdW5jdGlvbihlKSB7XG4gICAgdmFyIHQgPSBuZXcgVWludDhBcnJheShlKTtcbiAgICByZXR1cm4gc2VsZi5tc0NyeXB0by5nZXRSYW5kb21WYWx1ZXModCksIHQ7XG4gIH0gOiB0eXBlb2Ygd2luZG93ID09IFwib2JqZWN0XCIgJiYgKHlpLnByb3RvdHlwZS5fcmFuZCA9IGZ1bmN0aW9uKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZCB5ZXRcIik7XG4gIH0pO1xuZWxzZVxuICB0cnkge1xuICAgIHZhciBnYyA9IGZhO1xuICAgIGlmICh0eXBlb2YgZ2MucmFuZG9tQnl0ZXMgIT0gXCJmdW5jdGlvblwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IHN1cHBvcnRlZFwiKTtcbiAgICB5aS5wcm90b3R5cGUuX3JhbmQgPSBmdW5jdGlvbihlKSB7XG4gICAgICByZXR1cm4gZ2MucmFuZG9tQnl0ZXMoZSk7XG4gICAgfTtcbiAgfSBjYXRjaCB7XG4gIH1cbnZhciBIdSA9IEpvLmV4cG9ydHMsIFlvID0ge30sIE5pID0gbGksIG9zID0gYXIsIEhzID0gb3MuZ2V0TkFGLCB1MiA9IG9zLmdldEpTRiwgVnMgPSBvcy5hc3NlcnQ7XG5mdW5jdGlvbiBJaShyLCBlKSB7XG4gIHRoaXMudHlwZSA9IHIsIHRoaXMucCA9IG5ldyBOaShlLnAsIDE2KSwgdGhpcy5yZWQgPSBlLnByaW1lID8gTmkucmVkKGUucHJpbWUpIDogTmkubW9udCh0aGlzLnApLCB0aGlzLnplcm8gPSBuZXcgTmkoMCkudG9SZWQodGhpcy5yZWQpLCB0aGlzLm9uZSA9IG5ldyBOaSgxKS50b1JlZCh0aGlzLnJlZCksIHRoaXMudHdvID0gbmV3IE5pKDIpLnRvUmVkKHRoaXMucmVkKSwgdGhpcy5uID0gZS5uICYmIG5ldyBOaShlLm4sIDE2KSwgdGhpcy5nID0gZS5nICYmIHRoaXMucG9pbnRGcm9tSlNPTihlLmcsIGUuZ1JlZCksIHRoaXMuX3duYWZUMSA9IG5ldyBBcnJheSg0KSwgdGhpcy5fd25hZlQyID0gbmV3IEFycmF5KDQpLCB0aGlzLl93bmFmVDMgPSBuZXcgQXJyYXkoNCksIHRoaXMuX3duYWZUNCA9IG5ldyBBcnJheSg0KSwgdGhpcy5fYml0TGVuZ3RoID0gdGhpcy5uID8gdGhpcy5uLmJpdExlbmd0aCgpIDogMDtcbiAgdmFyIHQgPSB0aGlzLm4gJiYgdGhpcy5wLmRpdih0aGlzLm4pO1xuICAhdCB8fCB0LmNtcG4oMTAwKSA+IDAgPyB0aGlzLnJlZE4gPSBudWxsIDogKHRoaXMuX21heHdlbGxUcmljayA9ICEwLCB0aGlzLnJlZE4gPSB0aGlzLm4udG9SZWQodGhpcy5yZWQpKTtcbn1cbnZhciBiYSA9IElpO1xuSWkucHJvdG90eXBlLnBvaW50ID0gZnVuY3Rpb24oKSB7XG4gIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKTtcbn07XG5JaS5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbigpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkXCIpO1xufTtcbklpLnByb3RvdHlwZS5fZml4ZWROYWZNdWwgPSBmdW5jdGlvbihlLCB0KSB7XG4gIFZzKGUucHJlY29tcHV0ZWQpO1xuICB2YXIgaSA9IGUuX2dldERvdWJsZXMoKSwgbiA9IEhzKHQsIDEsIHRoaXMuX2JpdExlbmd0aCksIHMgPSAoMSA8PCBpLnN0ZXAgKyAxKSAtIChpLnN0ZXAgJSAyID09PSAwID8gMiA6IDEpO1xuICBzIC89IDM7XG4gIHZhciBvID0gW10sIGYsIGg7XG4gIGZvciAoZiA9IDA7IGYgPCBuLmxlbmd0aDsgZiArPSBpLnN0ZXApIHtcbiAgICBoID0gMDtcbiAgICBmb3IgKHZhciBkID0gZiArIGkuc3RlcCAtIDE7IGQgPj0gZjsgZC0tKVxuICAgICAgaCA9IChoIDw8IDEpICsgbltkXTtcbiAgICBvLnB1c2goaCk7XG4gIH1cbiAgZm9yICh2YXIgdiA9IHRoaXMuanBvaW50KG51bGwsIG51bGwsIG51bGwpLCB3ID0gdGhpcy5qcG9pbnQobnVsbCwgbnVsbCwgbnVsbCksIEEgPSBzOyBBID4gMDsgQS0tKSB7XG4gICAgZm9yIChmID0gMDsgZiA8IG8ubGVuZ3RoOyBmKyspXG4gICAgICBoID0gb1tmXSwgaCA9PT0gQSA/IHcgPSB3Lm1peGVkQWRkKGkucG9pbnRzW2ZdKSA6IGggPT09IC1BICYmICh3ID0gdy5taXhlZEFkZChpLnBvaW50c1tmXS5uZWcoKSkpO1xuICAgIHYgPSB2LmFkZCh3KTtcbiAgfVxuICByZXR1cm4gdi50b1AoKTtcbn07XG5JaS5wcm90b3R5cGUuX3duYWZNdWwgPSBmdW5jdGlvbihlLCB0KSB7XG4gIHZhciBpID0gNCwgbiA9IGUuX2dldE5BRlBvaW50cyhpKTtcbiAgaSA9IG4ud25kO1xuICBmb3IgKHZhciBzID0gbi5wb2ludHMsIG8gPSBIcyh0LCBpLCB0aGlzLl9iaXRMZW5ndGgpLCBmID0gdGhpcy5qcG9pbnQobnVsbCwgbnVsbCwgbnVsbCksIGggPSBvLmxlbmd0aCAtIDE7IGggPj0gMDsgaC0tKSB7XG4gICAgZm9yICh2YXIgZCA9IDA7IGggPj0gMCAmJiBvW2hdID09PSAwOyBoLS0pXG4gICAgICBkKys7XG4gICAgaWYgKGggPj0gMCAmJiBkKyssIGYgPSBmLmRibHAoZCksIGggPCAwKVxuICAgICAgYnJlYWs7XG4gICAgdmFyIHYgPSBvW2hdO1xuICAgIFZzKHYgIT09IDApLCBlLnR5cGUgPT09IFwiYWZmaW5lXCIgPyB2ID4gMCA/IGYgPSBmLm1peGVkQWRkKHNbdiAtIDEgPj4gMV0pIDogZiA9IGYubWl4ZWRBZGQoc1stdiAtIDEgPj4gMV0ubmVnKCkpIDogdiA+IDAgPyBmID0gZi5hZGQoc1t2IC0gMSA+PiAxXSkgOiBmID0gZi5hZGQoc1stdiAtIDEgPj4gMV0ubmVnKCkpO1xuICB9XG4gIHJldHVybiBlLnR5cGUgPT09IFwiYWZmaW5lXCIgPyBmLnRvUCgpIDogZjtcbn07XG5JaS5wcm90b3R5cGUuX3duYWZNdWxBZGQgPSBmdW5jdGlvbihlLCB0LCBpLCBuLCBzKSB7XG4gIHZhciBvID0gdGhpcy5fd25hZlQxLCBmID0gdGhpcy5fd25hZlQyLCBoID0gdGhpcy5fd25hZlQzLCBkID0gMCwgdiwgdywgQTtcbiAgZm9yICh2ID0gMDsgdiA8IG47IHYrKykge1xuICAgIEEgPSB0W3ZdO1xuICAgIHZhciBJID0gQS5fZ2V0TkFGUG9pbnRzKGUpO1xuICAgIG9bdl0gPSBJLnduZCwgZlt2XSA9IEkucG9pbnRzO1xuICB9XG4gIGZvciAodiA9IG4gLSAxOyB2ID49IDE7IHYgLT0gMikge1xuICAgIHZhciBEID0gdiAtIDEsIE4gPSB2O1xuICAgIGlmIChvW0RdICE9PSAxIHx8IG9bTl0gIT09IDEpIHtcbiAgICAgIGhbRF0gPSBIcyhpW0RdLCBvW0RdLCB0aGlzLl9iaXRMZW5ndGgpLCBoW05dID0gSHMoaVtOXSwgb1tOXSwgdGhpcy5fYml0TGVuZ3RoKSwgZCA9IE1hdGgubWF4KGhbRF0ubGVuZ3RoLCBkKSwgZCA9IE1hdGgubWF4KGhbTl0ubGVuZ3RoLCBkKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIgayA9IFtcbiAgICAgIHRbRF0sXG4gICAgICAvKiAxICovXG4gICAgICBudWxsLFxuICAgICAgLyogMyAqL1xuICAgICAgbnVsbCxcbiAgICAgIC8qIDUgKi9cbiAgICAgIHRbTl1cbiAgICAgIC8qIDcgKi9cbiAgICBdO1xuICAgIHRbRF0ueS5jbXAodFtOXS55KSA9PT0gMCA/IChrWzFdID0gdFtEXS5hZGQodFtOXSksIGtbMl0gPSB0W0RdLnRvSigpLm1peGVkQWRkKHRbTl0ubmVnKCkpKSA6IHRbRF0ueS5jbXAodFtOXS55LnJlZE5lZygpKSA9PT0gMCA/IChrWzFdID0gdFtEXS50b0ooKS5taXhlZEFkZCh0W05dKSwga1syXSA9IHRbRF0uYWRkKHRbTl0ubmVnKCkpKSA6IChrWzFdID0gdFtEXS50b0ooKS5taXhlZEFkZCh0W05dKSwga1syXSA9IHRbRF0udG9KKCkubWl4ZWRBZGQodFtOXS5uZWcoKSkpO1xuICAgIHZhciBqID0gW1xuICAgICAgLTMsXG4gICAgICAvKiAtMSAtMSAqL1xuICAgICAgLTEsXG4gICAgICAvKiAtMSAwICovXG4gICAgICAtNSxcbiAgICAgIC8qIC0xIDEgKi9cbiAgICAgIC03LFxuICAgICAgLyogMCAtMSAqL1xuICAgICAgMCxcbiAgICAgIC8qIDAgMCAqL1xuICAgICAgNyxcbiAgICAgIC8qIDAgMSAqL1xuICAgICAgNSxcbiAgICAgIC8qIDEgLTEgKi9cbiAgICAgIDEsXG4gICAgICAvKiAxIDAgKi9cbiAgICAgIDNcbiAgICAgIC8qIDEgMSAqL1xuICAgIF0sIFQgPSB1MihpW0RdLCBpW05dKTtcbiAgICBmb3IgKGQgPSBNYXRoLm1heChUWzBdLmxlbmd0aCwgZCksIGhbRF0gPSBuZXcgQXJyYXkoZCksIGhbTl0gPSBuZXcgQXJyYXkoZCksIHcgPSAwOyB3IDwgZDsgdysrKSB7XG4gICAgICB2YXIgSyA9IFRbMF1bd10gfCAwLCAkID0gVFsxXVt3XSB8IDA7XG4gICAgICBoW0RdW3ddID0galsoSyArIDEpICogMyArICgkICsgMSldLCBoW05dW3ddID0gMCwgZltEXSA9IGs7XG4gICAgfVxuICB9XG4gIHZhciB6ID0gdGhpcy5qcG9pbnQobnVsbCwgbnVsbCwgbnVsbCksIEIgPSB0aGlzLl93bmFmVDQ7XG4gIGZvciAodiA9IGQ7IHYgPj0gMDsgdi0tKSB7XG4gICAgZm9yICh2YXIgXyA9IDA7IHYgPj0gMDsgKSB7XG4gICAgICB2YXIgUiA9ICEwO1xuICAgICAgZm9yICh3ID0gMDsgdyA8IG47IHcrKylcbiAgICAgICAgQlt3XSA9IGhbd11bdl0gfCAwLCBCW3ddICE9PSAwICYmIChSID0gITEpO1xuICAgICAgaWYgKCFSKVxuICAgICAgICBicmVhaztcbiAgICAgIF8rKywgdi0tO1xuICAgIH1cbiAgICBpZiAodiA+PSAwICYmIF8rKywgeiA9IHouZGJscChfKSwgdiA8IDApXG4gICAgICBicmVhaztcbiAgICBmb3IgKHcgPSAwOyB3IDwgbjsgdysrKSB7XG4gICAgICB2YXIgSiA9IEJbd107XG4gICAgICBKICE9PSAwICYmIChKID4gMCA/IEEgPSBmW3ddW0ogLSAxID4+IDFdIDogSiA8IDAgJiYgKEEgPSBmW3ddWy1KIC0gMSA+PiAxXS5uZWcoKSksIEEudHlwZSA9PT0gXCJhZmZpbmVcIiA/IHogPSB6Lm1peGVkQWRkKEEpIDogeiA9IHouYWRkKEEpKTtcbiAgICB9XG4gIH1cbiAgZm9yICh2ID0gMDsgdiA8IG47IHYrKylcbiAgICBmW3ZdID0gbnVsbDtcbiAgcmV0dXJuIHMgPyB6IDogei50b1AoKTtcbn07XG5mdW5jdGlvbiBncihyLCBlKSB7XG4gIHRoaXMuY3VydmUgPSByLCB0aGlzLnR5cGUgPSBlLCB0aGlzLnByZWNvbXB1dGVkID0gbnVsbDtcbn1cbklpLkJhc2VQb2ludCA9IGdyO1xuZ3IucHJvdG90eXBlLmVxID0gZnVuY3Rpb24oKSB7XG4gIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKTtcbn07XG5nci5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuY3VydmUudmFsaWRhdGUodGhpcyk7XG59O1xuSWkucHJvdG90eXBlLmRlY29kZVBvaW50ID0gZnVuY3Rpb24oZSwgdCkge1xuICBlID0gb3MudG9BcnJheShlLCB0KTtcbiAgdmFyIGkgPSB0aGlzLnAuYnl0ZUxlbmd0aCgpO1xuICBpZiAoKGVbMF0gPT09IDQgfHwgZVswXSA9PT0gNiB8fCBlWzBdID09PSA3KSAmJiBlLmxlbmd0aCAtIDEgPT09IDIgKiBpKSB7XG4gICAgZVswXSA9PT0gNiA/IFZzKGVbZS5sZW5ndGggLSAxXSAlIDIgPT09IDApIDogZVswXSA9PT0gNyAmJiBWcyhlW2UubGVuZ3RoIC0gMV0gJSAyID09PSAxKTtcbiAgICB2YXIgbiA9IHRoaXMucG9pbnQoXG4gICAgICBlLnNsaWNlKDEsIDEgKyBpKSxcbiAgICAgIGUuc2xpY2UoMSArIGksIDEgKyAyICogaSlcbiAgICApO1xuICAgIHJldHVybiBuO1xuICB9IGVsc2UgaWYgKChlWzBdID09PSAyIHx8IGVbMF0gPT09IDMpICYmIGUubGVuZ3RoIC0gMSA9PT0gaSlcbiAgICByZXR1cm4gdGhpcy5wb2ludEZyb21YKGUuc2xpY2UoMSwgMSArIGkpLCBlWzBdID09PSAzKTtcbiAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBwb2ludCBmb3JtYXRcIik7XG59O1xuZ3IucHJvdG90eXBlLmVuY29kZUNvbXByZXNzZWQgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiB0aGlzLmVuY29kZShlLCAhMCk7XG59O1xuZ3IucHJvdG90eXBlLl9lbmNvZGUgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gdGhpcy5jdXJ2ZS5wLmJ5dGVMZW5ndGgoKSwgaSA9IHRoaXMuZ2V0WCgpLnRvQXJyYXkoXCJiZVwiLCB0KTtcbiAgcmV0dXJuIGUgPyBbdGhpcy5nZXRZKCkuaXNFdmVuKCkgPyAyIDogM10uY29uY2F0KGkpIDogWzRdLmNvbmNhdChpLCB0aGlzLmdldFkoKS50b0FycmF5KFwiYmVcIiwgdCkpO1xufTtcbmdyLnByb3RvdHlwZS5lbmNvZGUgPSBmdW5jdGlvbihlLCB0KSB7XG4gIHJldHVybiBvcy5lbmNvZGUodGhpcy5fZW5jb2RlKHQpLCBlKTtcbn07XG5nci5wcm90b3R5cGUucHJlY29tcHV0ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKHRoaXMucHJlY29tcHV0ZWQpXG4gICAgcmV0dXJuIHRoaXM7XG4gIHZhciB0ID0ge1xuICAgIGRvdWJsZXM6IG51bGwsXG4gICAgbmFmOiBudWxsLFxuICAgIGJldGE6IG51bGxcbiAgfTtcbiAgcmV0dXJuIHQubmFmID0gdGhpcy5fZ2V0TkFGUG9pbnRzKDgpLCB0LmRvdWJsZXMgPSB0aGlzLl9nZXREb3VibGVzKDQsIGUpLCB0LmJldGEgPSB0aGlzLl9nZXRCZXRhKCksIHRoaXMucHJlY29tcHV0ZWQgPSB0LCB0aGlzO1xufTtcbmdyLnByb3RvdHlwZS5faGFzRG91YmxlcyA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKCF0aGlzLnByZWNvbXB1dGVkKVxuICAgIHJldHVybiAhMTtcbiAgdmFyIHQgPSB0aGlzLnByZWNvbXB1dGVkLmRvdWJsZXM7XG4gIHJldHVybiB0ID8gdC5wb2ludHMubGVuZ3RoID49IE1hdGguY2VpbCgoZS5iaXRMZW5ndGgoKSArIDEpIC8gdC5zdGVwKSA6ICExO1xufTtcbmdyLnByb3RvdHlwZS5fZ2V0RG91YmxlcyA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgaWYgKHRoaXMucHJlY29tcHV0ZWQgJiYgdGhpcy5wcmVjb21wdXRlZC5kb3VibGVzKVxuICAgIHJldHVybiB0aGlzLnByZWNvbXB1dGVkLmRvdWJsZXM7XG4gIGZvciAodmFyIGkgPSBbdGhpc10sIG4gPSB0aGlzLCBzID0gMDsgcyA8IHQ7IHMgKz0gZSkge1xuICAgIGZvciAodmFyIG8gPSAwOyBvIDwgZTsgbysrKVxuICAgICAgbiA9IG4uZGJsKCk7XG4gICAgaS5wdXNoKG4pO1xuICB9XG4gIHJldHVybiB7XG4gICAgc3RlcDogZSxcbiAgICBwb2ludHM6IGlcbiAgfTtcbn07XG5nci5wcm90b3R5cGUuX2dldE5BRlBvaW50cyA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKHRoaXMucHJlY29tcHV0ZWQgJiYgdGhpcy5wcmVjb21wdXRlZC5uYWYpXG4gICAgcmV0dXJuIHRoaXMucHJlY29tcHV0ZWQubmFmO1xuICBmb3IgKHZhciB0ID0gW3RoaXNdLCBpID0gKDEgPDwgZSkgLSAxLCBuID0gaSA9PT0gMSA/IG51bGwgOiB0aGlzLmRibCgpLCBzID0gMTsgcyA8IGk7IHMrKylcbiAgICB0W3NdID0gdFtzIC0gMV0uYWRkKG4pO1xuICByZXR1cm4ge1xuICAgIHduZDogZSxcbiAgICBwb2ludHM6IHRcbiAgfTtcbn07XG5nci5wcm90b3R5cGUuX2dldEJldGEgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG51bGw7XG59O1xuZ3IucHJvdG90eXBlLmRibHAgPSBmdW5jdGlvbihlKSB7XG4gIGZvciAodmFyIHQgPSB0aGlzLCBpID0gMDsgaSA8IGU7IGkrKylcbiAgICB0ID0gdC5kYmwoKTtcbiAgcmV0dXJuIHQ7XG59O1xudmFyIGQyID0gYXIsIHB0ID0gbGksIFhvID0gdWEsIEVuID0gYmEsIGwyID0gZDIuYXNzZXJ0O1xuZnVuY3Rpb24geXIocikge1xuICBFbi5jYWxsKHRoaXMsIFwic2hvcnRcIiwgciksIHRoaXMuYSA9IG5ldyBwdChyLmEsIDE2KS50b1JlZCh0aGlzLnJlZCksIHRoaXMuYiA9IG5ldyBwdChyLmIsIDE2KS50b1JlZCh0aGlzLnJlZCksIHRoaXMudGludiA9IHRoaXMudHdvLnJlZEludm0oKSwgdGhpcy56ZXJvQSA9IHRoaXMuYS5mcm9tUmVkKCkuY21wbigwKSA9PT0gMCwgdGhpcy50aHJlZUEgPSB0aGlzLmEuZnJvbVJlZCgpLnN1Yih0aGlzLnApLmNtcG4oLTMpID09PSAwLCB0aGlzLmVuZG8gPSB0aGlzLl9nZXRFbmRvbW9ycGhpc20ociksIHRoaXMuX2VuZG9XbmFmVDEgPSBuZXcgQXJyYXkoNCksIHRoaXMuX2VuZG9XbmFmVDIgPSBuZXcgQXJyYXkoNCk7XG59XG5Ybyh5ciwgRW4pO1xudmFyIHAyID0geXI7XG55ci5wcm90b3R5cGUuX2dldEVuZG9tb3JwaGlzbSA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKCEoIXRoaXMuemVyb0EgfHwgIXRoaXMuZyB8fCAhdGhpcy5uIHx8IHRoaXMucC5tb2RuKDMpICE9PSAxKSkge1xuICAgIHZhciB0LCBpO1xuICAgIGlmIChlLmJldGEpXG4gICAgICB0ID0gbmV3IHB0KGUuYmV0YSwgMTYpLnRvUmVkKHRoaXMucmVkKTtcbiAgICBlbHNlIHtcbiAgICAgIHZhciBuID0gdGhpcy5fZ2V0RW5kb1Jvb3RzKHRoaXMucCk7XG4gICAgICB0ID0gblswXS5jbXAoblsxXSkgPCAwID8gblswXSA6IG5bMV0sIHQgPSB0LnRvUmVkKHRoaXMucmVkKTtcbiAgICB9XG4gICAgaWYgKGUubGFtYmRhKVxuICAgICAgaSA9IG5ldyBwdChlLmxhbWJkYSwgMTYpO1xuICAgIGVsc2Uge1xuICAgICAgdmFyIHMgPSB0aGlzLl9nZXRFbmRvUm9vdHModGhpcy5uKTtcbiAgICAgIHRoaXMuZy5tdWwoc1swXSkueC5jbXAodGhpcy5nLngucmVkTXVsKHQpKSA9PT0gMCA/IGkgPSBzWzBdIDogKGkgPSBzWzFdLCBsMih0aGlzLmcubXVsKGkpLnguY21wKHRoaXMuZy54LnJlZE11bCh0KSkgPT09IDApKTtcbiAgICB9XG4gICAgdmFyIG87XG4gICAgcmV0dXJuIGUuYmFzaXMgPyBvID0gZS5iYXNpcy5tYXAoZnVuY3Rpb24oZikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgYTogbmV3IHB0KGYuYSwgMTYpLFxuICAgICAgICBiOiBuZXcgcHQoZi5iLCAxNilcbiAgICAgIH07XG4gICAgfSkgOiBvID0gdGhpcy5fZ2V0RW5kb0Jhc2lzKGkpLCB7XG4gICAgICBiZXRhOiB0LFxuICAgICAgbGFtYmRhOiBpLFxuICAgICAgYmFzaXM6IG9cbiAgICB9O1xuICB9XG59O1xueXIucHJvdG90eXBlLl9nZXRFbmRvUm9vdHMgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gZSA9PT0gdGhpcy5wID8gdGhpcy5yZWQgOiBwdC5tb250KGUpLCBpID0gbmV3IHB0KDIpLnRvUmVkKHQpLnJlZEludm0oKSwgbiA9IGkucmVkTmVnKCksIHMgPSBuZXcgcHQoMykudG9SZWQodCkucmVkTmVnKCkucmVkU3FydCgpLnJlZE11bChpKSwgbyA9IG4ucmVkQWRkKHMpLmZyb21SZWQoKSwgZiA9IG4ucmVkU3ViKHMpLmZyb21SZWQoKTtcbiAgcmV0dXJuIFtvLCBmXTtcbn07XG55ci5wcm90b3R5cGUuX2dldEVuZG9CYXNpcyA9IGZ1bmN0aW9uKGUpIHtcbiAgZm9yICh2YXIgdCA9IHRoaXMubi51c2hybihNYXRoLmZsb29yKHRoaXMubi5iaXRMZW5ndGgoKSAvIDIpKSwgaSA9IGUsIG4gPSB0aGlzLm4uY2xvbmUoKSwgcyA9IG5ldyBwdCgxKSwgbyA9IG5ldyBwdCgwKSwgZiA9IG5ldyBwdCgwKSwgaCA9IG5ldyBwdCgxKSwgZCwgdiwgdywgQSwgSSwgRCwgTiwgayA9IDAsIGosIFQ7IGkuY21wbigwKSAhPT0gMDsgKSB7XG4gICAgdmFyIEsgPSBuLmRpdihpKTtcbiAgICBqID0gbi5zdWIoSy5tdWwoaSkpLCBUID0gZi5zdWIoSy5tdWwocykpO1xuICAgIHZhciAkID0gaC5zdWIoSy5tdWwobykpO1xuICAgIGlmICghdyAmJiBqLmNtcCh0KSA8IDApXG4gICAgICBkID0gTi5uZWcoKSwgdiA9IHMsIHcgPSBqLm5lZygpLCBBID0gVDtcbiAgICBlbHNlIGlmICh3ICYmICsrayA9PT0gMilcbiAgICAgIGJyZWFrO1xuICAgIE4gPSBqLCBuID0gaSwgaSA9IGosIGYgPSBzLCBzID0gVCwgaCA9IG8sIG8gPSAkO1xuICB9XG4gIEkgPSBqLm5lZygpLCBEID0gVDtcbiAgdmFyIHogPSB3LnNxcigpLmFkZChBLnNxcigpKSwgQiA9IEkuc3FyKCkuYWRkKEQuc3FyKCkpO1xuICByZXR1cm4gQi5jbXAoeikgPj0gMCAmJiAoSSA9IGQsIEQgPSB2KSwgdy5uZWdhdGl2ZSAmJiAodyA9IHcubmVnKCksIEEgPSBBLm5lZygpKSwgSS5uZWdhdGl2ZSAmJiAoSSA9IEkubmVnKCksIEQgPSBELm5lZygpKSwgW1xuICAgIHsgYTogdywgYjogQSB9LFxuICAgIHsgYTogSSwgYjogRCB9XG4gIF07XG59O1xueXIucHJvdG90eXBlLl9lbmRvU3BsaXQgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gdGhpcy5lbmRvLmJhc2lzLCBpID0gdFswXSwgbiA9IHRbMV0sIHMgPSBuLmIubXVsKGUpLmRpdlJvdW5kKHRoaXMubiksIG8gPSBpLmIubmVnKCkubXVsKGUpLmRpdlJvdW5kKHRoaXMubiksIGYgPSBzLm11bChpLmEpLCBoID0gby5tdWwobi5hKSwgZCA9IHMubXVsKGkuYiksIHYgPSBvLm11bChuLmIpLCB3ID0gZS5zdWIoZikuc3ViKGgpLCBBID0gZC5hZGQodikubmVnKCk7XG4gIHJldHVybiB7IGsxOiB3LCBrMjogQSB9O1xufTtcbnlyLnByb3RvdHlwZS5wb2ludEZyb21YID0gZnVuY3Rpb24oZSwgdCkge1xuICBlID0gbmV3IHB0KGUsIDE2KSwgZS5yZWQgfHwgKGUgPSBlLnRvUmVkKHRoaXMucmVkKSk7XG4gIHZhciBpID0gZS5yZWRTcXIoKS5yZWRNdWwoZSkucmVkSUFkZChlLnJlZE11bCh0aGlzLmEpKS5yZWRJQWRkKHRoaXMuYiksIG4gPSBpLnJlZFNxcnQoKTtcbiAgaWYgKG4ucmVkU3FyKCkucmVkU3ViKGkpLmNtcCh0aGlzLnplcm8pICE9PSAwKVxuICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgcG9pbnRcIik7XG4gIHZhciBzID0gbi5mcm9tUmVkKCkuaXNPZGQoKTtcbiAgcmV0dXJuICh0ICYmICFzIHx8ICF0ICYmIHMpICYmIChuID0gbi5yZWROZWcoKSksIHRoaXMucG9pbnQoZSwgbik7XG59O1xueXIucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24oZSkge1xuICBpZiAoZS5pbmYpXG4gICAgcmV0dXJuICEwO1xuICB2YXIgdCA9IGUueCwgaSA9IGUueSwgbiA9IHRoaXMuYS5yZWRNdWwodCksIHMgPSB0LnJlZFNxcigpLnJlZE11bCh0KS5yZWRJQWRkKG4pLnJlZElBZGQodGhpcy5iKTtcbiAgcmV0dXJuIGkucmVkU3FyKCkucmVkSVN1YihzKS5jbXBuKDApID09PSAwO1xufTtcbnlyLnByb3RvdHlwZS5fZW5kb1duYWZNdWxBZGQgPSBmdW5jdGlvbihlLCB0LCBpKSB7XG4gIGZvciAodmFyIG4gPSB0aGlzLl9lbmRvV25hZlQxLCBzID0gdGhpcy5fZW5kb1duYWZUMiwgbyA9IDA7IG8gPCBlLmxlbmd0aDsgbysrKSB7XG4gICAgdmFyIGYgPSB0aGlzLl9lbmRvU3BsaXQodFtvXSksIGggPSBlW29dLCBkID0gaC5fZ2V0QmV0YSgpO1xuICAgIGYuazEubmVnYXRpdmUgJiYgKGYuazEuaW5lZygpLCBoID0gaC5uZWcoITApKSwgZi5rMi5uZWdhdGl2ZSAmJiAoZi5rMi5pbmVnKCksIGQgPSBkLm5lZyghMCkpLCBuW28gKiAyXSA9IGgsIG5bbyAqIDIgKyAxXSA9IGQsIHNbbyAqIDJdID0gZi5rMSwgc1tvICogMiArIDFdID0gZi5rMjtcbiAgfVxuICBmb3IgKHZhciB2ID0gdGhpcy5fd25hZk11bEFkZCgxLCBuLCBzLCBvICogMiwgaSksIHcgPSAwOyB3IDwgbyAqIDI7IHcrKylcbiAgICBuW3ddID0gbnVsbCwgc1t3XSA9IG51bGw7XG4gIHJldHVybiB2O1xufTtcbmZ1bmN0aW9uIFB0KHIsIGUsIHQsIGkpIHtcbiAgRW4uQmFzZVBvaW50LmNhbGwodGhpcywgciwgXCJhZmZpbmVcIiksIGUgPT09IG51bGwgJiYgdCA9PT0gbnVsbCA/ICh0aGlzLnggPSBudWxsLCB0aGlzLnkgPSBudWxsLCB0aGlzLmluZiA9ICEwKSA6ICh0aGlzLnggPSBuZXcgcHQoZSwgMTYpLCB0aGlzLnkgPSBuZXcgcHQodCwgMTYpLCBpICYmICh0aGlzLnguZm9yY2VSZWQodGhpcy5jdXJ2ZS5yZWQpLCB0aGlzLnkuZm9yY2VSZWQodGhpcy5jdXJ2ZS5yZWQpKSwgdGhpcy54LnJlZCB8fCAodGhpcy54ID0gdGhpcy54LnRvUmVkKHRoaXMuY3VydmUucmVkKSksIHRoaXMueS5yZWQgfHwgKHRoaXMueSA9IHRoaXMueS50b1JlZCh0aGlzLmN1cnZlLnJlZCkpLCB0aGlzLmluZiA9ICExKTtcbn1cblhvKFB0LCBFbi5CYXNlUG9pbnQpO1xueXIucHJvdG90eXBlLnBvaW50ID0gZnVuY3Rpb24oZSwgdCwgaSkge1xuICByZXR1cm4gbmV3IFB0KHRoaXMsIGUsIHQsIGkpO1xufTtcbnlyLnByb3RvdHlwZS5wb2ludEZyb21KU09OID0gZnVuY3Rpb24oZSwgdCkge1xuICByZXR1cm4gUHQuZnJvbUpTT04odGhpcywgZSwgdCk7XG59O1xuUHQucHJvdG90eXBlLl9nZXRCZXRhID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmN1cnZlLmVuZG8pIHtcbiAgICB2YXIgZSA9IHRoaXMucHJlY29tcHV0ZWQ7XG4gICAgaWYgKGUgJiYgZS5iZXRhKVxuICAgICAgcmV0dXJuIGUuYmV0YTtcbiAgICB2YXIgdCA9IHRoaXMuY3VydmUucG9pbnQodGhpcy54LnJlZE11bCh0aGlzLmN1cnZlLmVuZG8uYmV0YSksIHRoaXMueSk7XG4gICAgaWYgKGUpIHtcbiAgICAgIHZhciBpID0gdGhpcy5jdXJ2ZSwgbiA9IGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgcmV0dXJuIGkucG9pbnQocy54LnJlZE11bChpLmVuZG8uYmV0YSksIHMueSk7XG4gICAgICB9O1xuICAgICAgZS5iZXRhID0gdCwgdC5wcmVjb21wdXRlZCA9IHtcbiAgICAgICAgYmV0YTogbnVsbCxcbiAgICAgICAgbmFmOiBlLm5hZiAmJiB7XG4gICAgICAgICAgd25kOiBlLm5hZi53bmQsXG4gICAgICAgICAgcG9pbnRzOiBlLm5hZi5wb2ludHMubWFwKG4pXG4gICAgICAgIH0sXG4gICAgICAgIGRvdWJsZXM6IGUuZG91YmxlcyAmJiB7XG4gICAgICAgICAgc3RlcDogZS5kb3VibGVzLnN0ZXAsXG4gICAgICAgICAgcG9pbnRzOiBlLmRvdWJsZXMucG9pbnRzLm1hcChuKVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gdDtcbiAgfVxufTtcblB0LnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMucHJlY29tcHV0ZWQgPyBbdGhpcy54LCB0aGlzLnksIHRoaXMucHJlY29tcHV0ZWQgJiYge1xuICAgIGRvdWJsZXM6IHRoaXMucHJlY29tcHV0ZWQuZG91YmxlcyAmJiB7XG4gICAgICBzdGVwOiB0aGlzLnByZWNvbXB1dGVkLmRvdWJsZXMuc3RlcCxcbiAgICAgIHBvaW50czogdGhpcy5wcmVjb21wdXRlZC5kb3VibGVzLnBvaW50cy5zbGljZSgxKVxuICAgIH0sXG4gICAgbmFmOiB0aGlzLnByZWNvbXB1dGVkLm5hZiAmJiB7XG4gICAgICB3bmQ6IHRoaXMucHJlY29tcHV0ZWQubmFmLnduZCxcbiAgICAgIHBvaW50czogdGhpcy5wcmVjb21wdXRlZC5uYWYucG9pbnRzLnNsaWNlKDEpXG4gICAgfVxuICB9XSA6IFt0aGlzLngsIHRoaXMueV07XG59O1xuUHQuZnJvbUpTT04gPSBmdW5jdGlvbihlLCB0LCBpKSB7XG4gIHR5cGVvZiB0ID09IFwic3RyaW5nXCIgJiYgKHQgPSBKU09OLnBhcnNlKHQpKTtcbiAgdmFyIG4gPSBlLnBvaW50KHRbMF0sIHRbMV0sIGkpO1xuICBpZiAoIXRbMl0pXG4gICAgcmV0dXJuIG47XG4gIGZ1bmN0aW9uIHMoZikge1xuICAgIHJldHVybiBlLnBvaW50KGZbMF0sIGZbMV0sIGkpO1xuICB9XG4gIHZhciBvID0gdFsyXTtcbiAgcmV0dXJuIG4ucHJlY29tcHV0ZWQgPSB7XG4gICAgYmV0YTogbnVsbCxcbiAgICBkb3VibGVzOiBvLmRvdWJsZXMgJiYge1xuICAgICAgc3RlcDogby5kb3VibGVzLnN0ZXAsXG4gICAgICBwb2ludHM6IFtuXS5jb25jYXQoby5kb3VibGVzLnBvaW50cy5tYXAocykpXG4gICAgfSxcbiAgICBuYWY6IG8ubmFmICYmIHtcbiAgICAgIHduZDogby5uYWYud25kLFxuICAgICAgcG9pbnRzOiBbbl0uY29uY2F0KG8ubmFmLnBvaW50cy5tYXAocykpXG4gICAgfVxuICB9LCBuO1xufTtcblB0LnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmlzSW5maW5pdHkoKSA/IFwiPEVDIFBvaW50IEluZmluaXR5PlwiIDogXCI8RUMgUG9pbnQgeDogXCIgKyB0aGlzLnguZnJvbVJlZCgpLnRvU3RyaW5nKDE2LCAyKSArIFwiIHk6IFwiICsgdGhpcy55LmZyb21SZWQoKS50b1N0cmluZygxNiwgMikgKyBcIj5cIjtcbn07XG5QdC5wcm90b3R5cGUuaXNJbmZpbml0eSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5pbmY7XG59O1xuUHQucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKHRoaXMuaW5mKVxuICAgIHJldHVybiBlO1xuICBpZiAoZS5pbmYpXG4gICAgcmV0dXJuIHRoaXM7XG4gIGlmICh0aGlzLmVxKGUpKVxuICAgIHJldHVybiB0aGlzLmRibCgpO1xuICBpZiAodGhpcy5uZWcoKS5lcShlKSlcbiAgICByZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChudWxsLCBudWxsKTtcbiAgaWYgKHRoaXMueC5jbXAoZS54KSA9PT0gMClcbiAgICByZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChudWxsLCBudWxsKTtcbiAgdmFyIHQgPSB0aGlzLnkucmVkU3ViKGUueSk7XG4gIHQuY21wbigwKSAhPT0gMCAmJiAodCA9IHQucmVkTXVsKHRoaXMueC5yZWRTdWIoZS54KS5yZWRJbnZtKCkpKTtcbiAgdmFyIGkgPSB0LnJlZFNxcigpLnJlZElTdWIodGhpcy54KS5yZWRJU3ViKGUueCksIG4gPSB0LnJlZE11bCh0aGlzLngucmVkU3ViKGkpKS5yZWRJU3ViKHRoaXMueSk7XG4gIHJldHVybiB0aGlzLmN1cnZlLnBvaW50KGksIG4pO1xufTtcblB0LnByb3RvdHlwZS5kYmwgPSBmdW5jdGlvbigpIHtcbiAgaWYgKHRoaXMuaW5mKVxuICAgIHJldHVybiB0aGlzO1xuICB2YXIgZSA9IHRoaXMueS5yZWRBZGQodGhpcy55KTtcbiAgaWYgKGUuY21wbigwKSA9PT0gMClcbiAgICByZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChudWxsLCBudWxsKTtcbiAgdmFyIHQgPSB0aGlzLmN1cnZlLmEsIGkgPSB0aGlzLngucmVkU3FyKCksIG4gPSBlLnJlZEludm0oKSwgcyA9IGkucmVkQWRkKGkpLnJlZElBZGQoaSkucmVkSUFkZCh0KS5yZWRNdWwobiksIG8gPSBzLnJlZFNxcigpLnJlZElTdWIodGhpcy54LnJlZEFkZCh0aGlzLngpKSwgZiA9IHMucmVkTXVsKHRoaXMueC5yZWRTdWIobykpLnJlZElTdWIodGhpcy55KTtcbiAgcmV0dXJuIHRoaXMuY3VydmUucG9pbnQobywgZik7XG59O1xuUHQucHJvdG90eXBlLmdldFggPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMueC5mcm9tUmVkKCk7XG59O1xuUHQucHJvdG90eXBlLmdldFkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMueS5mcm9tUmVkKCk7XG59O1xuUHQucHJvdG90eXBlLm11bCA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGUgPSBuZXcgcHQoZSwgMTYpLCB0aGlzLmlzSW5maW5pdHkoKSA/IHRoaXMgOiB0aGlzLl9oYXNEb3VibGVzKGUpID8gdGhpcy5jdXJ2ZS5fZml4ZWROYWZNdWwodGhpcywgZSkgOiB0aGlzLmN1cnZlLmVuZG8gPyB0aGlzLmN1cnZlLl9lbmRvV25hZk11bEFkZChbdGhpc10sIFtlXSkgOiB0aGlzLmN1cnZlLl93bmFmTXVsKHRoaXMsIGUpO1xufTtcblB0LnByb3RvdHlwZS5tdWxBZGQgPSBmdW5jdGlvbihlLCB0LCBpKSB7XG4gIHZhciBuID0gW3RoaXMsIHRdLCBzID0gW2UsIGldO1xuICByZXR1cm4gdGhpcy5jdXJ2ZS5lbmRvID8gdGhpcy5jdXJ2ZS5fZW5kb1duYWZNdWxBZGQobiwgcykgOiB0aGlzLmN1cnZlLl93bmFmTXVsQWRkKDEsIG4sIHMsIDIpO1xufTtcblB0LnByb3RvdHlwZS5qbXVsQWRkID0gZnVuY3Rpb24oZSwgdCwgaSkge1xuICB2YXIgbiA9IFt0aGlzLCB0XSwgcyA9IFtlLCBpXTtcbiAgcmV0dXJuIHRoaXMuY3VydmUuZW5kbyA/IHRoaXMuY3VydmUuX2VuZG9XbmFmTXVsQWRkKG4sIHMsICEwKSA6IHRoaXMuY3VydmUuX3duYWZNdWxBZGQoMSwgbiwgcywgMiwgITApO1xufTtcblB0LnByb3RvdHlwZS5lcSA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIHRoaXMgPT09IGUgfHwgdGhpcy5pbmYgPT09IGUuaW5mICYmICh0aGlzLmluZiB8fCB0aGlzLnguY21wKGUueCkgPT09IDAgJiYgdGhpcy55LmNtcChlLnkpID09PSAwKTtcbn07XG5QdC5wcm90b3R5cGUubmVnID0gZnVuY3Rpb24oZSkge1xuICBpZiAodGhpcy5pbmYpXG4gICAgcmV0dXJuIHRoaXM7XG4gIHZhciB0ID0gdGhpcy5jdXJ2ZS5wb2ludCh0aGlzLngsIHRoaXMueS5yZWROZWcoKSk7XG4gIGlmIChlICYmIHRoaXMucHJlY29tcHV0ZWQpIHtcbiAgICB2YXIgaSA9IHRoaXMucHJlY29tcHV0ZWQsIG4gPSBmdW5jdGlvbihzKSB7XG4gICAgICByZXR1cm4gcy5uZWcoKTtcbiAgICB9O1xuICAgIHQucHJlY29tcHV0ZWQgPSB7XG4gICAgICBuYWY6IGkubmFmICYmIHtcbiAgICAgICAgd25kOiBpLm5hZi53bmQsXG4gICAgICAgIHBvaW50czogaS5uYWYucG9pbnRzLm1hcChuKVxuICAgICAgfSxcbiAgICAgIGRvdWJsZXM6IGkuZG91YmxlcyAmJiB7XG4gICAgICAgIHN0ZXA6IGkuZG91Ymxlcy5zdGVwLFxuICAgICAgICBwb2ludHM6IGkuZG91Ymxlcy5wb2ludHMubWFwKG4pXG4gICAgICB9XG4gICAgfTtcbiAgfVxuICByZXR1cm4gdDtcbn07XG5QdC5wcm90b3R5cGUudG9KID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLmluZilcbiAgICByZXR1cm4gdGhpcy5jdXJ2ZS5qcG9pbnQobnVsbCwgbnVsbCwgbnVsbCk7XG4gIHZhciBlID0gdGhpcy5jdXJ2ZS5qcG9pbnQodGhpcy54LCB0aGlzLnksIHRoaXMuY3VydmUub25lKTtcbiAgcmV0dXJuIGU7XG59O1xuZnVuY3Rpb24gVHQociwgZSwgdCwgaSkge1xuICBFbi5CYXNlUG9pbnQuY2FsbCh0aGlzLCByLCBcImphY29iaWFuXCIpLCBlID09PSBudWxsICYmIHQgPT09IG51bGwgJiYgaSA9PT0gbnVsbCA/ICh0aGlzLnggPSB0aGlzLmN1cnZlLm9uZSwgdGhpcy55ID0gdGhpcy5jdXJ2ZS5vbmUsIHRoaXMueiA9IG5ldyBwdCgwKSkgOiAodGhpcy54ID0gbmV3IHB0KGUsIDE2KSwgdGhpcy55ID0gbmV3IHB0KHQsIDE2KSwgdGhpcy56ID0gbmV3IHB0KGksIDE2KSksIHRoaXMueC5yZWQgfHwgKHRoaXMueCA9IHRoaXMueC50b1JlZCh0aGlzLmN1cnZlLnJlZCkpLCB0aGlzLnkucmVkIHx8ICh0aGlzLnkgPSB0aGlzLnkudG9SZWQodGhpcy5jdXJ2ZS5yZWQpKSwgdGhpcy56LnJlZCB8fCAodGhpcy56ID0gdGhpcy56LnRvUmVkKHRoaXMuY3VydmUucmVkKSksIHRoaXMuek9uZSA9IHRoaXMueiA9PT0gdGhpcy5jdXJ2ZS5vbmU7XG59XG5YbyhUdCwgRW4uQmFzZVBvaW50KTtcbnlyLnByb3RvdHlwZS5qcG9pbnQgPSBmdW5jdGlvbihlLCB0LCBpKSB7XG4gIHJldHVybiBuZXcgVHQodGhpcywgZSwgdCwgaSk7XG59O1xuVHQucHJvdG90eXBlLnRvUCA9IGZ1bmN0aW9uKCkge1xuICBpZiAodGhpcy5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuIHRoaXMuY3VydmUucG9pbnQobnVsbCwgbnVsbCk7XG4gIHZhciBlID0gdGhpcy56LnJlZEludm0oKSwgdCA9IGUucmVkU3FyKCksIGkgPSB0aGlzLngucmVkTXVsKHQpLCBuID0gdGhpcy55LnJlZE11bCh0KS5yZWRNdWwoZSk7XG4gIHJldHVybiB0aGlzLmN1cnZlLnBvaW50KGksIG4pO1xufTtcblR0LnByb3RvdHlwZS5uZWcgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuY3VydmUuanBvaW50KHRoaXMueCwgdGhpcy55LnJlZE5lZygpLCB0aGlzLnopO1xufTtcblR0LnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbihlKSB7XG4gIGlmICh0aGlzLmlzSW5maW5pdHkoKSlcbiAgICByZXR1cm4gZTtcbiAgaWYgKGUuaXNJbmZpbml0eSgpKVxuICAgIHJldHVybiB0aGlzO1xuICB2YXIgdCA9IGUuei5yZWRTcXIoKSwgaSA9IHRoaXMuei5yZWRTcXIoKSwgbiA9IHRoaXMueC5yZWRNdWwodCksIHMgPSBlLngucmVkTXVsKGkpLCBvID0gdGhpcy55LnJlZE11bCh0LnJlZE11bChlLnopKSwgZiA9IGUueS5yZWRNdWwoaS5yZWRNdWwodGhpcy56KSksIGggPSBuLnJlZFN1YihzKSwgZCA9IG8ucmVkU3ViKGYpO1xuICBpZiAoaC5jbXBuKDApID09PSAwKVxuICAgIHJldHVybiBkLmNtcG4oMCkgIT09IDAgPyB0aGlzLmN1cnZlLmpwb2ludChudWxsLCBudWxsLCBudWxsKSA6IHRoaXMuZGJsKCk7XG4gIHZhciB2ID0gaC5yZWRTcXIoKSwgdyA9IHYucmVkTXVsKGgpLCBBID0gbi5yZWRNdWwodiksIEkgPSBkLnJlZFNxcigpLnJlZElBZGQodykucmVkSVN1YihBKS5yZWRJU3ViKEEpLCBEID0gZC5yZWRNdWwoQS5yZWRJU3ViKEkpKS5yZWRJU3ViKG8ucmVkTXVsKHcpKSwgTiA9IHRoaXMuei5yZWRNdWwoZS56KS5yZWRNdWwoaCk7XG4gIHJldHVybiB0aGlzLmN1cnZlLmpwb2ludChJLCBELCBOKTtcbn07XG5UdC5wcm90b3R5cGUubWl4ZWRBZGQgPSBmdW5jdGlvbihlKSB7XG4gIGlmICh0aGlzLmlzSW5maW5pdHkoKSlcbiAgICByZXR1cm4gZS50b0ooKTtcbiAgaWYgKGUuaXNJbmZpbml0eSgpKVxuICAgIHJldHVybiB0aGlzO1xuICB2YXIgdCA9IHRoaXMuei5yZWRTcXIoKSwgaSA9IHRoaXMueCwgbiA9IGUueC5yZWRNdWwodCksIHMgPSB0aGlzLnksIG8gPSBlLnkucmVkTXVsKHQpLnJlZE11bCh0aGlzLnopLCBmID0gaS5yZWRTdWIobiksIGggPSBzLnJlZFN1YihvKTtcbiAgaWYgKGYuY21wbigwKSA9PT0gMClcbiAgICByZXR1cm4gaC5jbXBuKDApICE9PSAwID8gdGhpcy5jdXJ2ZS5qcG9pbnQobnVsbCwgbnVsbCwgbnVsbCkgOiB0aGlzLmRibCgpO1xuICB2YXIgZCA9IGYucmVkU3FyKCksIHYgPSBkLnJlZE11bChmKSwgdyA9IGkucmVkTXVsKGQpLCBBID0gaC5yZWRTcXIoKS5yZWRJQWRkKHYpLnJlZElTdWIodykucmVkSVN1Yih3KSwgSSA9IGgucmVkTXVsKHcucmVkSVN1YihBKSkucmVkSVN1YihzLnJlZE11bCh2KSksIEQgPSB0aGlzLnoucmVkTXVsKGYpO1xuICByZXR1cm4gdGhpcy5jdXJ2ZS5qcG9pbnQoQSwgSSwgRCk7XG59O1xuVHQucHJvdG90eXBlLmRibHAgPSBmdW5jdGlvbihlKSB7XG4gIGlmIChlID09PSAwKVxuICAgIHJldHVybiB0aGlzO1xuICBpZiAodGhpcy5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuIHRoaXM7XG4gIGlmICghZSlcbiAgICByZXR1cm4gdGhpcy5kYmwoKTtcbiAgdmFyIHQ7XG4gIGlmICh0aGlzLmN1cnZlLnplcm9BIHx8IHRoaXMuY3VydmUudGhyZWVBKSB7XG4gICAgdmFyIGkgPSB0aGlzO1xuICAgIGZvciAodCA9IDA7IHQgPCBlOyB0KyspXG4gICAgICBpID0gaS5kYmwoKTtcbiAgICByZXR1cm4gaTtcbiAgfVxuICB2YXIgbiA9IHRoaXMuY3VydmUuYSwgcyA9IHRoaXMuY3VydmUudGludiwgbyA9IHRoaXMueCwgZiA9IHRoaXMueSwgaCA9IHRoaXMueiwgZCA9IGgucmVkU3FyKCkucmVkU3FyKCksIHYgPSBmLnJlZEFkZChmKTtcbiAgZm9yICh0ID0gMDsgdCA8IGU7IHQrKykge1xuICAgIHZhciB3ID0gby5yZWRTcXIoKSwgQSA9IHYucmVkU3FyKCksIEkgPSBBLnJlZFNxcigpLCBEID0gdy5yZWRBZGQodykucmVkSUFkZCh3KS5yZWRJQWRkKG4ucmVkTXVsKGQpKSwgTiA9IG8ucmVkTXVsKEEpLCBrID0gRC5yZWRTcXIoKS5yZWRJU3ViKE4ucmVkQWRkKE4pKSwgaiA9IE4ucmVkSVN1YihrKSwgVCA9IEQucmVkTXVsKGopO1xuICAgIFQgPSBULnJlZElBZGQoVCkucmVkSVN1YihJKTtcbiAgICB2YXIgSyA9IHYucmVkTXVsKGgpO1xuICAgIHQgKyAxIDwgZSAmJiAoZCA9IGQucmVkTXVsKEkpKSwgbyA9IGssIGggPSBLLCB2ID0gVDtcbiAgfVxuICByZXR1cm4gdGhpcy5jdXJ2ZS5qcG9pbnQobywgdi5yZWRNdWwocyksIGgpO1xufTtcblR0LnByb3RvdHlwZS5kYmwgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaXNJbmZpbml0eSgpID8gdGhpcyA6IHRoaXMuY3VydmUuemVyb0EgPyB0aGlzLl96ZXJvRGJsKCkgOiB0aGlzLmN1cnZlLnRocmVlQSA/IHRoaXMuX3RocmVlRGJsKCkgOiB0aGlzLl9kYmwoKTtcbn07XG5UdC5wcm90b3R5cGUuX3plcm9EYmwgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGUsIHQsIGk7XG4gIGlmICh0aGlzLnpPbmUpIHtcbiAgICB2YXIgbiA9IHRoaXMueC5yZWRTcXIoKSwgcyA9IHRoaXMueS5yZWRTcXIoKSwgbyA9IHMucmVkU3FyKCksIGYgPSB0aGlzLngucmVkQWRkKHMpLnJlZFNxcigpLnJlZElTdWIobikucmVkSVN1YihvKTtcbiAgICBmID0gZi5yZWRJQWRkKGYpO1xuICAgIHZhciBoID0gbi5yZWRBZGQobikucmVkSUFkZChuKSwgZCA9IGgucmVkU3FyKCkucmVkSVN1YihmKS5yZWRJU3ViKGYpLCB2ID0gby5yZWRJQWRkKG8pO1xuICAgIHYgPSB2LnJlZElBZGQodiksIHYgPSB2LnJlZElBZGQodiksIGUgPSBkLCB0ID0gaC5yZWRNdWwoZi5yZWRJU3ViKGQpKS5yZWRJU3ViKHYpLCBpID0gdGhpcy55LnJlZEFkZCh0aGlzLnkpO1xuICB9IGVsc2Uge1xuICAgIHZhciB3ID0gdGhpcy54LnJlZFNxcigpLCBBID0gdGhpcy55LnJlZFNxcigpLCBJID0gQS5yZWRTcXIoKSwgRCA9IHRoaXMueC5yZWRBZGQoQSkucmVkU3FyKCkucmVkSVN1Yih3KS5yZWRJU3ViKEkpO1xuICAgIEQgPSBELnJlZElBZGQoRCk7XG4gICAgdmFyIE4gPSB3LnJlZEFkZCh3KS5yZWRJQWRkKHcpLCBrID0gTi5yZWRTcXIoKSwgaiA9IEkucmVkSUFkZChJKTtcbiAgICBqID0gai5yZWRJQWRkKGopLCBqID0gai5yZWRJQWRkKGopLCBlID0gay5yZWRJU3ViKEQpLnJlZElTdWIoRCksIHQgPSBOLnJlZE11bChELnJlZElTdWIoZSkpLnJlZElTdWIoaiksIGkgPSB0aGlzLnkucmVkTXVsKHRoaXMueiksIGkgPSBpLnJlZElBZGQoaSk7XG4gIH1cbiAgcmV0dXJuIHRoaXMuY3VydmUuanBvaW50KGUsIHQsIGkpO1xufTtcblR0LnByb3RvdHlwZS5fdGhyZWVEYmwgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGUsIHQsIGk7XG4gIGlmICh0aGlzLnpPbmUpIHtcbiAgICB2YXIgbiA9IHRoaXMueC5yZWRTcXIoKSwgcyA9IHRoaXMueS5yZWRTcXIoKSwgbyA9IHMucmVkU3FyKCksIGYgPSB0aGlzLngucmVkQWRkKHMpLnJlZFNxcigpLnJlZElTdWIobikucmVkSVN1YihvKTtcbiAgICBmID0gZi5yZWRJQWRkKGYpO1xuICAgIHZhciBoID0gbi5yZWRBZGQobikucmVkSUFkZChuKS5yZWRJQWRkKHRoaXMuY3VydmUuYSksIGQgPSBoLnJlZFNxcigpLnJlZElTdWIoZikucmVkSVN1YihmKTtcbiAgICBlID0gZDtcbiAgICB2YXIgdiA9IG8ucmVkSUFkZChvKTtcbiAgICB2ID0gdi5yZWRJQWRkKHYpLCB2ID0gdi5yZWRJQWRkKHYpLCB0ID0gaC5yZWRNdWwoZi5yZWRJU3ViKGQpKS5yZWRJU3ViKHYpLCBpID0gdGhpcy55LnJlZEFkZCh0aGlzLnkpO1xuICB9IGVsc2Uge1xuICAgIHZhciB3ID0gdGhpcy56LnJlZFNxcigpLCBBID0gdGhpcy55LnJlZFNxcigpLCBJID0gdGhpcy54LnJlZE11bChBKSwgRCA9IHRoaXMueC5yZWRTdWIodykucmVkTXVsKHRoaXMueC5yZWRBZGQodykpO1xuICAgIEQgPSBELnJlZEFkZChEKS5yZWRJQWRkKEQpO1xuICAgIHZhciBOID0gSS5yZWRJQWRkKEkpO1xuICAgIE4gPSBOLnJlZElBZGQoTik7XG4gICAgdmFyIGsgPSBOLnJlZEFkZChOKTtcbiAgICBlID0gRC5yZWRTcXIoKS5yZWRJU3ViKGspLCBpID0gdGhpcy55LnJlZEFkZCh0aGlzLnopLnJlZFNxcigpLnJlZElTdWIoQSkucmVkSVN1Yih3KTtcbiAgICB2YXIgaiA9IEEucmVkU3FyKCk7XG4gICAgaiA9IGoucmVkSUFkZChqKSwgaiA9IGoucmVkSUFkZChqKSwgaiA9IGoucmVkSUFkZChqKSwgdCA9IEQucmVkTXVsKE4ucmVkSVN1YihlKSkucmVkSVN1YihqKTtcbiAgfVxuICByZXR1cm4gdGhpcy5jdXJ2ZS5qcG9pbnQoZSwgdCwgaSk7XG59O1xuVHQucHJvdG90eXBlLl9kYmwgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGUgPSB0aGlzLmN1cnZlLmEsIHQgPSB0aGlzLngsIGkgPSB0aGlzLnksIG4gPSB0aGlzLnosIHMgPSBuLnJlZFNxcigpLnJlZFNxcigpLCBvID0gdC5yZWRTcXIoKSwgZiA9IGkucmVkU3FyKCksIGggPSBvLnJlZEFkZChvKS5yZWRJQWRkKG8pLnJlZElBZGQoZS5yZWRNdWwocykpLCBkID0gdC5yZWRBZGQodCk7XG4gIGQgPSBkLnJlZElBZGQoZCk7XG4gIHZhciB2ID0gZC5yZWRNdWwoZiksIHcgPSBoLnJlZFNxcigpLnJlZElTdWIodi5yZWRBZGQodikpLCBBID0gdi5yZWRJU3ViKHcpLCBJID0gZi5yZWRTcXIoKTtcbiAgSSA9IEkucmVkSUFkZChJKSwgSSA9IEkucmVkSUFkZChJKSwgSSA9IEkucmVkSUFkZChJKTtcbiAgdmFyIEQgPSBoLnJlZE11bChBKS5yZWRJU3ViKEkpLCBOID0gaS5yZWRBZGQoaSkucmVkTXVsKG4pO1xuICByZXR1cm4gdGhpcy5jdXJ2ZS5qcG9pbnQodywgRCwgTik7XG59O1xuVHQucHJvdG90eXBlLnRycGwgPSBmdW5jdGlvbigpIHtcbiAgaWYgKCF0aGlzLmN1cnZlLnplcm9BKVxuICAgIHJldHVybiB0aGlzLmRibCgpLmFkZCh0aGlzKTtcbiAgdmFyIGUgPSB0aGlzLngucmVkU3FyKCksIHQgPSB0aGlzLnkucmVkU3FyKCksIGkgPSB0aGlzLnoucmVkU3FyKCksIG4gPSB0LnJlZFNxcigpLCBzID0gZS5yZWRBZGQoZSkucmVkSUFkZChlKSwgbyA9IHMucmVkU3FyKCksIGYgPSB0aGlzLngucmVkQWRkKHQpLnJlZFNxcigpLnJlZElTdWIoZSkucmVkSVN1YihuKTtcbiAgZiA9IGYucmVkSUFkZChmKSwgZiA9IGYucmVkQWRkKGYpLnJlZElBZGQoZiksIGYgPSBmLnJlZElTdWIobyk7XG4gIHZhciBoID0gZi5yZWRTcXIoKSwgZCA9IG4ucmVkSUFkZChuKTtcbiAgZCA9IGQucmVkSUFkZChkKSwgZCA9IGQucmVkSUFkZChkKSwgZCA9IGQucmVkSUFkZChkKTtcbiAgdmFyIHYgPSBzLnJlZElBZGQoZikucmVkU3FyKCkucmVkSVN1YihvKS5yZWRJU3ViKGgpLnJlZElTdWIoZCksIHcgPSB0LnJlZE11bCh2KTtcbiAgdyA9IHcucmVkSUFkZCh3KSwgdyA9IHcucmVkSUFkZCh3KTtcbiAgdmFyIEEgPSB0aGlzLngucmVkTXVsKGgpLnJlZElTdWIodyk7XG4gIEEgPSBBLnJlZElBZGQoQSksIEEgPSBBLnJlZElBZGQoQSk7XG4gIHZhciBJID0gdGhpcy55LnJlZE11bCh2LnJlZE11bChkLnJlZElTdWIodikpLnJlZElTdWIoZi5yZWRNdWwoaCkpKTtcbiAgSSA9IEkucmVkSUFkZChJKSwgSSA9IEkucmVkSUFkZChJKSwgSSA9IEkucmVkSUFkZChJKTtcbiAgdmFyIEQgPSB0aGlzLnoucmVkQWRkKGYpLnJlZFNxcigpLnJlZElTdWIoaSkucmVkSVN1YihoKTtcbiAgcmV0dXJuIHRoaXMuY3VydmUuanBvaW50KEEsIEksIEQpO1xufTtcblR0LnByb3RvdHlwZS5tdWwgPSBmdW5jdGlvbihlLCB0KSB7XG4gIHJldHVybiBlID0gbmV3IHB0KGUsIHQpLCB0aGlzLmN1cnZlLl93bmFmTXVsKHRoaXMsIGUpO1xufTtcblR0LnByb3RvdHlwZS5lcSA9IGZ1bmN0aW9uKGUpIHtcbiAgaWYgKGUudHlwZSA9PT0gXCJhZmZpbmVcIilcbiAgICByZXR1cm4gdGhpcy5lcShlLnRvSigpKTtcbiAgaWYgKHRoaXMgPT09IGUpXG4gICAgcmV0dXJuICEwO1xuICB2YXIgdCA9IHRoaXMuei5yZWRTcXIoKSwgaSA9IGUuei5yZWRTcXIoKTtcbiAgaWYgKHRoaXMueC5yZWRNdWwoaSkucmVkSVN1YihlLngucmVkTXVsKHQpKS5jbXBuKDApICE9PSAwKVxuICAgIHJldHVybiAhMTtcbiAgdmFyIG4gPSB0LnJlZE11bCh0aGlzLnopLCBzID0gaS5yZWRNdWwoZS56KTtcbiAgcmV0dXJuIHRoaXMueS5yZWRNdWwocykucmVkSVN1YihlLnkucmVkTXVsKG4pKS5jbXBuKDApID09PSAwO1xufTtcblR0LnByb3RvdHlwZS5lcVhUb1AgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gdGhpcy56LnJlZFNxcigpLCBpID0gZS50b1JlZCh0aGlzLmN1cnZlLnJlZCkucmVkTXVsKHQpO1xuICBpZiAodGhpcy54LmNtcChpKSA9PT0gMClcbiAgICByZXR1cm4gITA7XG4gIGZvciAodmFyIG4gPSBlLmNsb25lKCksIHMgPSB0aGlzLmN1cnZlLnJlZE4ucmVkTXVsKHQpOyA7ICkge1xuICAgIGlmIChuLmlhZGQodGhpcy5jdXJ2ZS5uKSwgbi5jbXAodGhpcy5jdXJ2ZS5wKSA+PSAwKVxuICAgICAgcmV0dXJuICExO1xuICAgIGlmIChpLnJlZElBZGQocyksIHRoaXMueC5jbXAoaSkgPT09IDApXG4gICAgICByZXR1cm4gITA7XG4gIH1cbn07XG5UdC5wcm90b3R5cGUuaW5zcGVjdCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5pc0luZmluaXR5KCkgPyBcIjxFQyBKUG9pbnQgSW5maW5pdHk+XCIgOiBcIjxFQyBKUG9pbnQgeDogXCIgKyB0aGlzLngudG9TdHJpbmcoMTYsIDIpICsgXCIgeTogXCIgKyB0aGlzLnkudG9TdHJpbmcoMTYsIDIpICsgXCIgejogXCIgKyB0aGlzLnoudG9TdHJpbmcoMTYsIDIpICsgXCI+XCI7XG59O1xuVHQucHJvdG90eXBlLmlzSW5maW5pdHkgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuei5jbXBuKDApID09PSAwO1xufTtcbnZhciBvbiA9IGxpLCBWdSA9IHVhLCBnYSA9IGJhLCB2MiA9IGFyO1xuZnVuY3Rpb24gU24ocikge1xuICBnYS5jYWxsKHRoaXMsIFwibW9udFwiLCByKSwgdGhpcy5hID0gbmV3IG9uKHIuYSwgMTYpLnRvUmVkKHRoaXMucmVkKSwgdGhpcy5iID0gbmV3IG9uKHIuYiwgMTYpLnRvUmVkKHRoaXMucmVkKSwgdGhpcy5pNCA9IG5ldyBvbig0KS50b1JlZCh0aGlzLnJlZCkucmVkSW52bSgpLCB0aGlzLnR3byA9IG5ldyBvbigyKS50b1JlZCh0aGlzLnJlZCksIHRoaXMuYTI0ID0gdGhpcy5pNC5yZWRNdWwodGhpcy5hLnJlZEFkZCh0aGlzLnR3bykpO1xufVxuVnUoU24sIGdhKTtcbnZhciBiMiA9IFNuO1xuU24ucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGUubm9ybWFsaXplKCkueCwgaSA9IHQucmVkU3FyKCksIG4gPSBpLnJlZE11bCh0KS5yZWRBZGQoaS5yZWRNdWwodGhpcy5hKSkucmVkQWRkKHQpLCBzID0gbi5yZWRTcXJ0KCk7XG4gIHJldHVybiBzLnJlZFNxcigpLmNtcChuKSA9PT0gMDtcbn07XG5mdW5jdGlvbiBBdChyLCBlLCB0KSB7XG4gIGdhLkJhc2VQb2ludC5jYWxsKHRoaXMsIHIsIFwicHJvamVjdGl2ZVwiKSwgZSA9PT0gbnVsbCAmJiB0ID09PSBudWxsID8gKHRoaXMueCA9IHRoaXMuY3VydmUub25lLCB0aGlzLnogPSB0aGlzLmN1cnZlLnplcm8pIDogKHRoaXMueCA9IG5ldyBvbihlLCAxNiksIHRoaXMueiA9IG5ldyBvbih0LCAxNiksIHRoaXMueC5yZWQgfHwgKHRoaXMueCA9IHRoaXMueC50b1JlZCh0aGlzLmN1cnZlLnJlZCkpLCB0aGlzLnoucmVkIHx8ICh0aGlzLnogPSB0aGlzLnoudG9SZWQodGhpcy5jdXJ2ZS5yZWQpKSk7XG59XG5WdShBdCwgZ2EuQmFzZVBvaW50KTtcblNuLnByb3RvdHlwZS5kZWNvZGVQb2ludCA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgcmV0dXJuIHRoaXMucG9pbnQodjIudG9BcnJheShlLCB0KSwgMSk7XG59O1xuU24ucHJvdG90eXBlLnBvaW50ID0gZnVuY3Rpb24oZSwgdCkge1xuICByZXR1cm4gbmV3IEF0KHRoaXMsIGUsIHQpO1xufTtcblNuLnByb3RvdHlwZS5wb2ludEZyb21KU09OID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gQXQuZnJvbUpTT04odGhpcywgZSk7XG59O1xuQXQucHJvdG90eXBlLnByZWNvbXB1dGUgPSBmdW5jdGlvbigpIHtcbn07XG5BdC5wcm90b3R5cGUuX2VuY29kZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5nZXRYKCkudG9BcnJheShcImJlXCIsIHRoaXMuY3VydmUucC5ieXRlTGVuZ3RoKCkpO1xufTtcbkF0LmZyb21KU09OID0gZnVuY3Rpb24oZSwgdCkge1xuICByZXR1cm4gbmV3IEF0KGUsIHRbMF0sIHRbMV0gfHwgZS5vbmUpO1xufTtcbkF0LnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmlzSW5maW5pdHkoKSA/IFwiPEVDIFBvaW50IEluZmluaXR5PlwiIDogXCI8RUMgUG9pbnQgeDogXCIgKyB0aGlzLnguZnJvbVJlZCgpLnRvU3RyaW5nKDE2LCAyKSArIFwiIHo6IFwiICsgdGhpcy56LmZyb21SZWQoKS50b1N0cmluZygxNiwgMikgKyBcIj5cIjtcbn07XG5BdC5wcm90b3R5cGUuaXNJbmZpbml0eSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy56LmNtcG4oMCkgPT09IDA7XG59O1xuQXQucHJvdG90eXBlLmRibCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZSA9IHRoaXMueC5yZWRBZGQodGhpcy56KSwgdCA9IGUucmVkU3FyKCksIGkgPSB0aGlzLngucmVkU3ViKHRoaXMueiksIG4gPSBpLnJlZFNxcigpLCBzID0gdC5yZWRTdWIobiksIG8gPSB0LnJlZE11bChuKSwgZiA9IHMucmVkTXVsKG4ucmVkQWRkKHRoaXMuY3VydmUuYTI0LnJlZE11bChzKSkpO1xuICByZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChvLCBmKTtcbn07XG5BdC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oKSB7XG4gIHRocm93IG5ldyBFcnJvcihcIk5vdCBzdXBwb3J0ZWQgb24gTW9udGdvbWVyeSBjdXJ2ZVwiKTtcbn07XG5BdC5wcm90b3R5cGUuZGlmZkFkZCA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgdmFyIGkgPSB0aGlzLngucmVkQWRkKHRoaXMueiksIG4gPSB0aGlzLngucmVkU3ViKHRoaXMueiksIHMgPSBlLngucmVkQWRkKGUueiksIG8gPSBlLngucmVkU3ViKGUueiksIGYgPSBvLnJlZE11bChpKSwgaCA9IHMucmVkTXVsKG4pLCBkID0gdC56LnJlZE11bChmLnJlZEFkZChoKS5yZWRTcXIoKSksIHYgPSB0LngucmVkTXVsKGYucmVkSVN1YihoKS5yZWRTcXIoKSk7XG4gIHJldHVybiB0aGlzLmN1cnZlLnBvaW50KGQsIHYpO1xufTtcbkF0LnByb3RvdHlwZS5tdWwgPSBmdW5jdGlvbihlKSB7XG4gIGZvciAodmFyIHQgPSBlLmNsb25lKCksIGkgPSB0aGlzLCBuID0gdGhpcy5jdXJ2ZS5wb2ludChudWxsLCBudWxsKSwgcyA9IHRoaXMsIG8gPSBbXTsgdC5jbXBuKDApICE9PSAwOyB0Lml1c2hybigxKSlcbiAgICBvLnB1c2godC5hbmRsbigxKSk7XG4gIGZvciAodmFyIGYgPSBvLmxlbmd0aCAtIDE7IGYgPj0gMDsgZi0tKVxuICAgIG9bZl0gPT09IDAgPyAoaSA9IGkuZGlmZkFkZChuLCBzKSwgbiA9IG4uZGJsKCkpIDogKG4gPSBpLmRpZmZBZGQobiwgcyksIGkgPSBpLmRibCgpKTtcbiAgcmV0dXJuIG47XG59O1xuQXQucHJvdG90eXBlLm11bEFkZCA9IGZ1bmN0aW9uKCkge1xuICB0aHJvdyBuZXcgRXJyb3IoXCJOb3Qgc3VwcG9ydGVkIG9uIE1vbnRnb21lcnkgY3VydmVcIik7XG59O1xuQXQucHJvdG90eXBlLmp1bWxBZGQgPSBmdW5jdGlvbigpIHtcbiAgdGhyb3cgbmV3IEVycm9yKFwiTm90IHN1cHBvcnRlZCBvbiBNb250Z29tZXJ5IGN1cnZlXCIpO1xufTtcbkF0LnByb3RvdHlwZS5lcSA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIHRoaXMuZ2V0WCgpLmNtcChlLmdldFgoKSkgPT09IDA7XG59O1xuQXQucHJvdG90eXBlLm5vcm1hbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy54ID0gdGhpcy54LnJlZE11bCh0aGlzLnoucmVkSW52bSgpKSwgdGhpcy56ID0gdGhpcy5jdXJ2ZS5vbmUsIHRoaXM7XG59O1xuQXQucHJvdG90eXBlLmdldFggPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMubm9ybWFsaXplKCksIHRoaXMueC5mcm9tUmVkKCk7XG59O1xudmFyIGcyID0gYXIsIGNpID0gbGksIFd1ID0gdWEsIHlhID0gYmEsIHkyID0gZzIuYXNzZXJ0O1xuZnVuY3Rpb24gSHIocikge1xuICB0aGlzLnR3aXN0ZWQgPSAoci5hIHwgMCkgIT09IDEsIHRoaXMubU9uZUEgPSB0aGlzLnR3aXN0ZWQgJiYgKHIuYSB8IDApID09PSAtMSwgdGhpcy5leHRlbmRlZCA9IHRoaXMubU9uZUEsIHlhLmNhbGwodGhpcywgXCJlZHdhcmRzXCIsIHIpLCB0aGlzLmEgPSBuZXcgY2koci5hLCAxNikudW1vZCh0aGlzLnJlZC5tKSwgdGhpcy5hID0gdGhpcy5hLnRvUmVkKHRoaXMucmVkKSwgdGhpcy5jID0gbmV3IGNpKHIuYywgMTYpLnRvUmVkKHRoaXMucmVkKSwgdGhpcy5jMiA9IHRoaXMuYy5yZWRTcXIoKSwgdGhpcy5kID0gbmV3IGNpKHIuZCwgMTYpLnRvUmVkKHRoaXMucmVkKSwgdGhpcy5kZCA9IHRoaXMuZC5yZWRBZGQodGhpcy5kKSwgeTIoIXRoaXMudHdpc3RlZCB8fCB0aGlzLmMuZnJvbVJlZCgpLmNtcG4oMSkgPT09IDApLCB0aGlzLm9uZUMgPSAoci5jIHwgMCkgPT09IDE7XG59XG5XdShIciwgeWEpO1xudmFyIG0yID0gSHI7XG5Ici5wcm90b3R5cGUuX211bEEgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiB0aGlzLm1PbmVBID8gZS5yZWROZWcoKSA6IHRoaXMuYS5yZWRNdWwoZSk7XG59O1xuSHIucHJvdG90eXBlLl9tdWxDID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gdGhpcy5vbmVDID8gZSA6IHRoaXMuYy5yZWRNdWwoZSk7XG59O1xuSHIucHJvdG90eXBlLmpwb2ludCA9IGZ1bmN0aW9uKGUsIHQsIGksIG4pIHtcbiAgcmV0dXJuIHRoaXMucG9pbnQoZSwgdCwgaSwgbik7XG59O1xuSHIucHJvdG90eXBlLnBvaW50RnJvbVggPSBmdW5jdGlvbihlLCB0KSB7XG4gIGUgPSBuZXcgY2koZSwgMTYpLCBlLnJlZCB8fCAoZSA9IGUudG9SZWQodGhpcy5yZWQpKTtcbiAgdmFyIGkgPSBlLnJlZFNxcigpLCBuID0gdGhpcy5jMi5yZWRTdWIodGhpcy5hLnJlZE11bChpKSksIHMgPSB0aGlzLm9uZS5yZWRTdWIodGhpcy5jMi5yZWRNdWwodGhpcy5kKS5yZWRNdWwoaSkpLCBvID0gbi5yZWRNdWwocy5yZWRJbnZtKCkpLCBmID0gby5yZWRTcXJ0KCk7XG4gIGlmIChmLnJlZFNxcigpLnJlZFN1YihvKS5jbXAodGhpcy56ZXJvKSAhPT0gMClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHBvaW50XCIpO1xuICB2YXIgaCA9IGYuZnJvbVJlZCgpLmlzT2RkKCk7XG4gIHJldHVybiAodCAmJiAhaCB8fCAhdCAmJiBoKSAmJiAoZiA9IGYucmVkTmVnKCkpLCB0aGlzLnBvaW50KGUsIGYpO1xufTtcbkhyLnByb3RvdHlwZS5wb2ludEZyb21ZID0gZnVuY3Rpb24oZSwgdCkge1xuICBlID0gbmV3IGNpKGUsIDE2KSwgZS5yZWQgfHwgKGUgPSBlLnRvUmVkKHRoaXMucmVkKSk7XG4gIHZhciBpID0gZS5yZWRTcXIoKSwgbiA9IGkucmVkU3ViKHRoaXMuYzIpLCBzID0gaS5yZWRNdWwodGhpcy5kKS5yZWRNdWwodGhpcy5jMikucmVkU3ViKHRoaXMuYSksIG8gPSBuLnJlZE11bChzLnJlZEludm0oKSk7XG4gIGlmIChvLmNtcCh0aGlzLnplcm8pID09PSAwKSB7XG4gICAgaWYgKHQpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnZhbGlkIHBvaW50XCIpO1xuICAgIHJldHVybiB0aGlzLnBvaW50KHRoaXMuemVybywgZSk7XG4gIH1cbiAgdmFyIGYgPSBvLnJlZFNxcnQoKTtcbiAgaWYgKGYucmVkU3FyKCkucmVkU3ViKG8pLmNtcCh0aGlzLnplcm8pICE9PSAwKVxuICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgcG9pbnRcIik7XG4gIHJldHVybiBmLmZyb21SZWQoKS5pc09kZCgpICE9PSB0ICYmIChmID0gZi5yZWROZWcoKSksIHRoaXMucG9pbnQoZiwgZSk7XG59O1xuSHIucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24oZSkge1xuICBpZiAoZS5pc0luZmluaXR5KCkpXG4gICAgcmV0dXJuICEwO1xuICBlLm5vcm1hbGl6ZSgpO1xuICB2YXIgdCA9IGUueC5yZWRTcXIoKSwgaSA9IGUueS5yZWRTcXIoKSwgbiA9IHQucmVkTXVsKHRoaXMuYSkucmVkQWRkKGkpLCBzID0gdGhpcy5jMi5yZWRNdWwodGhpcy5vbmUucmVkQWRkKHRoaXMuZC5yZWRNdWwodCkucmVkTXVsKGkpKSk7XG4gIHJldHVybiBuLmNtcChzKSA9PT0gMDtcbn07XG5mdW5jdGlvbiBmdChyLCBlLCB0LCBpLCBuKSB7XG4gIHlhLkJhc2VQb2ludC5jYWxsKHRoaXMsIHIsIFwicHJvamVjdGl2ZVwiKSwgZSA9PT0gbnVsbCAmJiB0ID09PSBudWxsICYmIGkgPT09IG51bGwgPyAodGhpcy54ID0gdGhpcy5jdXJ2ZS56ZXJvLCB0aGlzLnkgPSB0aGlzLmN1cnZlLm9uZSwgdGhpcy56ID0gdGhpcy5jdXJ2ZS5vbmUsIHRoaXMudCA9IHRoaXMuY3VydmUuemVybywgdGhpcy56T25lID0gITApIDogKHRoaXMueCA9IG5ldyBjaShlLCAxNiksIHRoaXMueSA9IG5ldyBjaSh0LCAxNiksIHRoaXMueiA9IGkgPyBuZXcgY2koaSwgMTYpIDogdGhpcy5jdXJ2ZS5vbmUsIHRoaXMudCA9IG4gJiYgbmV3IGNpKG4sIDE2KSwgdGhpcy54LnJlZCB8fCAodGhpcy54ID0gdGhpcy54LnRvUmVkKHRoaXMuY3VydmUucmVkKSksIHRoaXMueS5yZWQgfHwgKHRoaXMueSA9IHRoaXMueS50b1JlZCh0aGlzLmN1cnZlLnJlZCkpLCB0aGlzLnoucmVkIHx8ICh0aGlzLnogPSB0aGlzLnoudG9SZWQodGhpcy5jdXJ2ZS5yZWQpKSwgdGhpcy50ICYmICF0aGlzLnQucmVkICYmICh0aGlzLnQgPSB0aGlzLnQudG9SZWQodGhpcy5jdXJ2ZS5yZWQpKSwgdGhpcy56T25lID0gdGhpcy56ID09PSB0aGlzLmN1cnZlLm9uZSwgdGhpcy5jdXJ2ZS5leHRlbmRlZCAmJiAhdGhpcy50ICYmICh0aGlzLnQgPSB0aGlzLngucmVkTXVsKHRoaXMueSksIHRoaXMuek9uZSB8fCAodGhpcy50ID0gdGhpcy50LnJlZE11bCh0aGlzLnoucmVkSW52bSgpKSkpKTtcbn1cbld1KGZ0LCB5YS5CYXNlUG9pbnQpO1xuSHIucHJvdG90eXBlLnBvaW50RnJvbUpTT04gPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBmdC5mcm9tSlNPTih0aGlzLCBlKTtcbn07XG5Ici5wcm90b3R5cGUucG9pbnQgPSBmdW5jdGlvbihlLCB0LCBpLCBuKSB7XG4gIHJldHVybiBuZXcgZnQodGhpcywgZSwgdCwgaSwgbik7XG59O1xuZnQuZnJvbUpTT04gPSBmdW5jdGlvbihlLCB0KSB7XG4gIHJldHVybiBuZXcgZnQoZSwgdFswXSwgdFsxXSwgdFsyXSk7XG59O1xuZnQucHJvdG90eXBlLmluc3BlY3QgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaXNJbmZpbml0eSgpID8gXCI8RUMgUG9pbnQgSW5maW5pdHk+XCIgOiBcIjxFQyBQb2ludCB4OiBcIiArIHRoaXMueC5mcm9tUmVkKCkudG9TdHJpbmcoMTYsIDIpICsgXCIgeTogXCIgKyB0aGlzLnkuZnJvbVJlZCgpLnRvU3RyaW5nKDE2LCAyKSArIFwiIHo6IFwiICsgdGhpcy56LmZyb21SZWQoKS50b1N0cmluZygxNiwgMikgKyBcIj5cIjtcbn07XG5mdC5wcm90b3R5cGUuaXNJbmZpbml0eSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy54LmNtcG4oMCkgPT09IDAgJiYgKHRoaXMueS5jbXAodGhpcy56KSA9PT0gMCB8fCB0aGlzLnpPbmUgJiYgdGhpcy55LmNtcCh0aGlzLmN1cnZlLmMpID09PSAwKTtcbn07XG5mdC5wcm90b3R5cGUuX2V4dERibCA9IGZ1bmN0aW9uKCkge1xuICB2YXIgZSA9IHRoaXMueC5yZWRTcXIoKSwgdCA9IHRoaXMueS5yZWRTcXIoKSwgaSA9IHRoaXMuei5yZWRTcXIoKTtcbiAgaSA9IGkucmVkSUFkZChpKTtcbiAgdmFyIG4gPSB0aGlzLmN1cnZlLl9tdWxBKGUpLCBzID0gdGhpcy54LnJlZEFkZCh0aGlzLnkpLnJlZFNxcigpLnJlZElTdWIoZSkucmVkSVN1Yih0KSwgbyA9IG4ucmVkQWRkKHQpLCBmID0gby5yZWRTdWIoaSksIGggPSBuLnJlZFN1Yih0KSwgZCA9IHMucmVkTXVsKGYpLCB2ID0gby5yZWRNdWwoaCksIHcgPSBzLnJlZE11bChoKSwgQSA9IGYucmVkTXVsKG8pO1xuICByZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChkLCB2LCBBLCB3KTtcbn07XG5mdC5wcm90b3R5cGUuX3Byb2pEYmwgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGUgPSB0aGlzLngucmVkQWRkKHRoaXMueSkucmVkU3FyKCksIHQgPSB0aGlzLngucmVkU3FyKCksIGkgPSB0aGlzLnkucmVkU3FyKCksIG4sIHMsIG8sIGYsIGgsIGQ7XG4gIGlmICh0aGlzLmN1cnZlLnR3aXN0ZWQpIHtcbiAgICBmID0gdGhpcy5jdXJ2ZS5fbXVsQSh0KTtcbiAgICB2YXIgdiA9IGYucmVkQWRkKGkpO1xuICAgIHRoaXMuek9uZSA/IChuID0gZS5yZWRTdWIodCkucmVkU3ViKGkpLnJlZE11bCh2LnJlZFN1Yih0aGlzLmN1cnZlLnR3bykpLCBzID0gdi5yZWRNdWwoZi5yZWRTdWIoaSkpLCBvID0gdi5yZWRTcXIoKS5yZWRTdWIodikucmVkU3ViKHYpKSA6IChoID0gdGhpcy56LnJlZFNxcigpLCBkID0gdi5yZWRTdWIoaCkucmVkSVN1YihoKSwgbiA9IGUucmVkU3ViKHQpLnJlZElTdWIoaSkucmVkTXVsKGQpLCBzID0gdi5yZWRNdWwoZi5yZWRTdWIoaSkpLCBvID0gdi5yZWRNdWwoZCkpO1xuICB9IGVsc2VcbiAgICBmID0gdC5yZWRBZGQoaSksIGggPSB0aGlzLmN1cnZlLl9tdWxDKHRoaXMueikucmVkU3FyKCksIGQgPSBmLnJlZFN1YihoKS5yZWRTdWIoaCksIG4gPSB0aGlzLmN1cnZlLl9tdWxDKGUucmVkSVN1YihmKSkucmVkTXVsKGQpLCBzID0gdGhpcy5jdXJ2ZS5fbXVsQyhmKS5yZWRNdWwodC5yZWRJU3ViKGkpKSwgbyA9IGYucmVkTXVsKGQpO1xuICByZXR1cm4gdGhpcy5jdXJ2ZS5wb2ludChuLCBzLCBvKTtcbn07XG5mdC5wcm90b3R5cGUuZGJsID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmlzSW5maW5pdHkoKSA/IHRoaXMgOiB0aGlzLmN1cnZlLmV4dGVuZGVkID8gdGhpcy5fZXh0RGJsKCkgOiB0aGlzLl9wcm9qRGJsKCk7XG59O1xuZnQucHJvdG90eXBlLl9leHRBZGQgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gdGhpcy55LnJlZFN1Yih0aGlzLngpLnJlZE11bChlLnkucmVkU3ViKGUueCkpLCBpID0gdGhpcy55LnJlZEFkZCh0aGlzLngpLnJlZE11bChlLnkucmVkQWRkKGUueCkpLCBuID0gdGhpcy50LnJlZE11bCh0aGlzLmN1cnZlLmRkKS5yZWRNdWwoZS50KSwgcyA9IHRoaXMuei5yZWRNdWwoZS56LnJlZEFkZChlLnopKSwgbyA9IGkucmVkU3ViKHQpLCBmID0gcy5yZWRTdWIobiksIGggPSBzLnJlZEFkZChuKSwgZCA9IGkucmVkQWRkKHQpLCB2ID0gby5yZWRNdWwoZiksIHcgPSBoLnJlZE11bChkKSwgQSA9IG8ucmVkTXVsKGQpLCBJID0gZi5yZWRNdWwoaCk7XG4gIHJldHVybiB0aGlzLmN1cnZlLnBvaW50KHYsIHcsIEksIEEpO1xufTtcbmZ0LnByb3RvdHlwZS5fcHJvakFkZCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSB0aGlzLnoucmVkTXVsKGUueiksIGkgPSB0LnJlZFNxcigpLCBuID0gdGhpcy54LnJlZE11bChlLngpLCBzID0gdGhpcy55LnJlZE11bChlLnkpLCBvID0gdGhpcy5jdXJ2ZS5kLnJlZE11bChuKS5yZWRNdWwocyksIGYgPSBpLnJlZFN1YihvKSwgaCA9IGkucmVkQWRkKG8pLCBkID0gdGhpcy54LnJlZEFkZCh0aGlzLnkpLnJlZE11bChlLngucmVkQWRkKGUueSkpLnJlZElTdWIobikucmVkSVN1YihzKSwgdiA9IHQucmVkTXVsKGYpLnJlZE11bChkKSwgdywgQTtcbiAgcmV0dXJuIHRoaXMuY3VydmUudHdpc3RlZCA/ICh3ID0gdC5yZWRNdWwoaCkucmVkTXVsKHMucmVkU3ViKHRoaXMuY3VydmUuX211bEEobikpKSwgQSA9IGYucmVkTXVsKGgpKSA6ICh3ID0gdC5yZWRNdWwoaCkucmVkTXVsKHMucmVkU3ViKG4pKSwgQSA9IHRoaXMuY3VydmUuX211bEMoZikucmVkTXVsKGgpKSwgdGhpcy5jdXJ2ZS5wb2ludCh2LCB3LCBBKTtcbn07XG5mdC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gdGhpcy5pc0luZmluaXR5KCkgPyBlIDogZS5pc0luZmluaXR5KCkgPyB0aGlzIDogdGhpcy5jdXJ2ZS5leHRlbmRlZCA/IHRoaXMuX2V4dEFkZChlKSA6IHRoaXMuX3Byb2pBZGQoZSk7XG59O1xuZnQucHJvdG90eXBlLm11bCA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIHRoaXMuX2hhc0RvdWJsZXMoZSkgPyB0aGlzLmN1cnZlLl9maXhlZE5hZk11bCh0aGlzLCBlKSA6IHRoaXMuY3VydmUuX3duYWZNdWwodGhpcywgZSk7XG59O1xuZnQucHJvdG90eXBlLm11bEFkZCA9IGZ1bmN0aW9uKGUsIHQsIGkpIHtcbiAgcmV0dXJuIHRoaXMuY3VydmUuX3duYWZNdWxBZGQoMSwgW3RoaXMsIHRdLCBbZSwgaV0sIDIsICExKTtcbn07XG5mdC5wcm90b3R5cGUuam11bEFkZCA9IGZ1bmN0aW9uKGUsIHQsIGkpIHtcbiAgcmV0dXJuIHRoaXMuY3VydmUuX3duYWZNdWxBZGQoMSwgW3RoaXMsIHRdLCBbZSwgaV0sIDIsICEwKTtcbn07XG5mdC5wcm90b3R5cGUubm9ybWFsaXplID0gZnVuY3Rpb24oKSB7XG4gIGlmICh0aGlzLnpPbmUpXG4gICAgcmV0dXJuIHRoaXM7XG4gIHZhciBlID0gdGhpcy56LnJlZEludm0oKTtcbiAgcmV0dXJuIHRoaXMueCA9IHRoaXMueC5yZWRNdWwoZSksIHRoaXMueSA9IHRoaXMueS5yZWRNdWwoZSksIHRoaXMudCAmJiAodGhpcy50ID0gdGhpcy50LnJlZE11bChlKSksIHRoaXMueiA9IHRoaXMuY3VydmUub25lLCB0aGlzLnpPbmUgPSAhMCwgdGhpcztcbn07XG5mdC5wcm90b3R5cGUubmVnID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmN1cnZlLnBvaW50KFxuICAgIHRoaXMueC5yZWROZWcoKSxcbiAgICB0aGlzLnksXG4gICAgdGhpcy56LFxuICAgIHRoaXMudCAmJiB0aGlzLnQucmVkTmVnKClcbiAgKTtcbn07XG5mdC5wcm90b3R5cGUuZ2V0WCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5ub3JtYWxpemUoKSwgdGhpcy54LmZyb21SZWQoKTtcbn07XG5mdC5wcm90b3R5cGUuZ2V0WSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5ub3JtYWxpemUoKSwgdGhpcy55LmZyb21SZWQoKTtcbn07XG5mdC5wcm90b3R5cGUuZXEgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiB0aGlzID09PSBlIHx8IHRoaXMuZ2V0WCgpLmNtcChlLmdldFgoKSkgPT09IDAgJiYgdGhpcy5nZXRZKCkuY21wKGUuZ2V0WSgpKSA9PT0gMDtcbn07XG5mdC5wcm90b3R5cGUuZXFYVG9QID0gZnVuY3Rpb24oZSkge1xuICB2YXIgdCA9IGUudG9SZWQodGhpcy5jdXJ2ZS5yZWQpLnJlZE11bCh0aGlzLnopO1xuICBpZiAodGhpcy54LmNtcCh0KSA9PT0gMClcbiAgICByZXR1cm4gITA7XG4gIGZvciAodmFyIGkgPSBlLmNsb25lKCksIG4gPSB0aGlzLmN1cnZlLnJlZE4ucmVkTXVsKHRoaXMueik7IDsgKSB7XG4gICAgaWYgKGkuaWFkZCh0aGlzLmN1cnZlLm4pLCBpLmNtcCh0aGlzLmN1cnZlLnApID49IDApXG4gICAgICByZXR1cm4gITE7XG4gICAgaWYgKHQucmVkSUFkZChuKSwgdGhpcy54LmNtcCh0KSA9PT0gMClcbiAgICAgIHJldHVybiAhMDtcbiAgfVxufTtcbmZ0LnByb3RvdHlwZS50b1AgPSBmdC5wcm90b3R5cGUubm9ybWFsaXplO1xuZnQucHJvdG90eXBlLm1peGVkQWRkID0gZnQucHJvdG90eXBlLmFkZDtcbihmdW5jdGlvbihyKSB7XG4gIHZhciBlID0gcjtcbiAgZS5iYXNlID0gYmEsIGUuc2hvcnQgPSBwMiwgZS5tb250ID0gYjIsIGUuZWR3YXJkcyA9IG0yO1xufSkoWW8pO1xudmFyIG1hID0ge30sIFlhLCB5YztcbmZ1bmN0aW9uIHcyKCkge1xuICByZXR1cm4geWMgfHwgKHljID0gMSwgWWEgPSB7XG4gICAgZG91Ymxlczoge1xuICAgICAgc3RlcDogNCxcbiAgICAgIHBvaW50czogW1xuICAgICAgICBbXG4gICAgICAgICAgXCJlNjBmY2U5M2I1OWU5ZWM1MzAxMWFhYmMyMWMyM2U5N2IyYTMxMzY5Yjg3YTVhZTljNDRlZTg5ZTJhNmRlYzBhXCIsXG4gICAgICAgICAgXCJmN2UzNTA3Mzk5ZTU5NTkyOWRiOTlmMzRmNTc5MzcxMDEyOTY4OTFlNDRkMjNmMGJlMWYzMmNjZTY5NjE2ODIxXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiODI4MjI2MzIxMmM2MDlkOWVhMmE2ZTNlMTcyZGUyMzhkOGMzOWNhYmQ1YWMxY2ExMDY0NmUyM2ZkNWY1MTUwOFwiLFxuICAgICAgICAgIFwiMTFmOGE4MDk4NTU3ZGZlNDVlODI1NmU4MzBiNjBhY2U2MmQ2MTNhYzJmN2IxN2JlZDMxYjZlYWZmNmUyNmNhZlwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjE3NWUxNTlmNzI4Yjg2NWE3MmY5OWNjNmM2ZmM4NDZkZTBiOTM4MzNmZDIyMjJlZDczZmNlNWI1NTFlNWI3MzlcIixcbiAgICAgICAgICBcImQzNTA2ZTBkOWUzYzc5ZWJhNGVmOTdhNTFmZjcxZjVlYWNiNTk1NWFkZDI0MzQ1YzZlZmE2ZmZlZTlmZWQ2OTVcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCIzNjNkOTBkNDQ3YjAwYzljOTljZWFjMDViNjI2MmVlMDUzNDQxYzdlNTU1NTJmZmU1MjZiYWQ4ZjgzZmY0NjQwXCIsXG4gICAgICAgICAgXCI0ZTI3M2FkZmM3MzIyMjE5NTNiNDQ1Mzk3ZjMzNjMxNDViOWE4OTAwODE5OWVjYjYyMDAzYzdmM2JlZTlkZTlcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI4YjRiNWYxNjVkZjNjMmJlOGM2MjQ0YjViNzQ1NjM4ODQzZTRhNzgxYTE1YmNkMWI2OWY3OWE1NWRmZmRmODBjXCIsXG4gICAgICAgICAgXCI0YWFkMGE2ZjY4ZDMwOGI0YjNmYmQ3ODEzYWIwZGEwNGY5ZTMzNjU0NjE2MmVlNTZiM2VmZjBjNjVmZDRmZDM2XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiNzIzY2JhYTZlNWRiOTk2ZDZiZjc3MWMwMGJkNTQ4YzdiNzAwZGJmZmE2YzBlNzdiY2I2MTE1OTI1MjMyZmNkYVwiLFxuICAgICAgICAgIFwiOTZlODY3YjU1OTVjYzQ5OGE5MjExMzc0ODg4MjRkNmUyNjYwYTA2NTM3Nzk0OTQ4MDFkYzA2OWQ5ZWIzOWY1ZlwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImVlYmZhNGQ0OTNiZWJmOThiYTVmZWVjODEyYzJkM2I1MDk0Nzk2MTIzN2E5MTk4MzlhNTMzZWNhMGU3ZGQ3ZmFcIixcbiAgICAgICAgICBcIjVkOWE4Y2EzOTcwZWYwZjI2OWVlN2VkYWYxNzgwODlkOWFlNGNkYzNhNzExZjcxMmRkZmQ0ZmRhZTFkZTg5OTlcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCIxMDBmNDRkYTY5NmU3MTY3Mjc5MWQwYTA5YjdiZGU0NTlmMTIxNWEyOWIzYzAzYmZlZmQ3ODM1YjM5YTQ4ZGIwXCIsXG4gICAgICAgICAgXCJjZGQ5ZTEzMTkyYTAwYjc3MmVjOGYzMzAwYzA5MDY2NmI3ZmY0YTE4ZmY1MTk1YWMwZmJkNWNkNjJiYzY1YTA5XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiZTEwMzFiZTI2MmM3ZWQxYjFkYzkyMjdhNGEwNGMwMTdhNzdmOGQ0NDY0ZjNiMzg1MmM4YWNkZTZlNTM0ZmQyZFwiLFxuICAgICAgICAgIFwiOWQ3MDYxOTI4OTQwNDA1ZTZiYjZhNDE3NjU5NzUzNWFmMjkyZGQ0MTllMWNlZDc5YTQ0ZjE4ZjI5NDU2YTAwZFwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImZlZWE2Y2FlNDZkNTViNTMwYWMyODM5ZjE0M2JkN2VjNWNmOGIyNjZhNDFkNmFmNTJkNWU2ODhkOTA5NDY5NmRcIixcbiAgICAgICAgICBcImU1N2M2YjZjOTdkY2UxYmFiMDZlNGUxMmJmM2VjZDVjOTgxYzg5NTdjYzQxNDQyZDMxNTVkZWJmMTgwOTAwODhcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCJkYTY3YTkxZDkxMDQ5Y2RjYjM2N2JlNGJlNmZmY2EzY2ZlZWQ2NTdkODA4NTgzZGUzM2ZhOTc4YmMxZWM2Y2IxXCIsXG4gICAgICAgICAgXCI5YmFjYWEzNTQ4MTY0MmJjNDFmNDYzZjdlYzk3ODBlNWRlYzdhZGM1MDhmNzQwYTE3ZTllYThlMjdhNjhiZTFkXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiNTM5MDRmYWEwYjMzNGNkZGE2ZTAwMDkzNWVmMjIxNTFlYzA4ZDBmN2JiMTEwNjlmNTc1NDVjY2MxYTM3YjdjMFwiLFxuICAgICAgICAgIFwiNWJjMDg3ZDBiYzgwMTA2ZDg4YzllY2NhYzIwZDNjMWMxMzk5OTk4MWUxNDQzNDY5OWRjYjA5NmIwMjI3NzFjOFwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjhlN2JjZDBiZDM1OTgzYTc3MTljY2E3NzY0Y2E5MDY3NzliNTNhMDQzYTliOGJjYWVmZjk1OWY0M2FkODYwNDdcIixcbiAgICAgICAgICBcIjEwYjc3NzBiMmEzZGE0YjM5NDAzMTA0MjBjYTk1MTQ1NzllODhlMmU0N2ZkNjhiM2VhMTAwNDdlODQ2MDM3MmFcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCIzODVlZWQzNGMxY2RmZjIxZTZkMDgxODY4OWI4MWJkZTcxYTdmNGYxODM5N2U2NjkwYTg0MWUxNTk5YzQzODYyXCIsXG4gICAgICAgICAgXCIyODNiZWJjM2U4ZWEyM2Y1NjcwMWRlMTllOWViZjQ1NzZiMzA0ZWVjMjA4NmRjOGNjMDQ1OGZlNTU0MmU1NDUzXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiNmY5ZDliODAzZWNmMTkxNjM3YzczYTQ0MTNkZmExODBmZGRmODRhNTk0N2ZiYzljNjA2ZWQ4NmMzZmFjM2E3XCIsXG4gICAgICAgICAgXCI3YzgwYzY4ZTYwMzA1OWJhNjliOGUyYTMwZTQ1YzRkNDdlYTRkZDJmNWMyODEwMDJkODY4OTA2MDNhODQyMTYwXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiMzMyMmQ0MDEyNDNjNGUyNTgyYTIxNDdjMTA0ZDZlY2JmNzc0ZDE2M2RiMGY1ZTUzMTNiN2UwZTc0MmQwZTZiZFwiLFxuICAgICAgICAgIFwiNTZlNzA3OTdlOTY2NGVmNWJmYjAxOWJjNGRkYWY5YjcyODA1ZjYzZWEyODczYWY2MjRmM2EyZTk2YzI4YjJhMFwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjg1NjcyYzdkMmRlMGI3ZGEyYmQxNzcwZDg5NjY1ODY4NzQxYjNmOWFmNzY0MzM5NzcyMWQ3NGQyODEzNGFiODNcIixcbiAgICAgICAgICBcIjdjNDgxYjliNWI0M2IyZWI2Mzc0MDQ5YmZhNjJjMmU1ZTc3ZjE3ZmNjNTI5OGY0NGM4ZTMwOTRmNzkwMzEzYTZcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI5NDhiZjgwOWIxOTg4YTQ2YjA2YzlmMTkxOTQxM2IxMGY5MjI2YzYwZjY2ODgzMmZmZDk1OWFmNjBjODJhMGFcIixcbiAgICAgICAgICBcIjUzYTU2Mjg1NmRjYjY2NDZkYzZiNzRjNWQxYzM0MThjNmQ0ZGZmMDhjOTdjZDJiZWQ0Y2I3Zjg4ZDhjOGU1ODlcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI2MjYwY2U3ZjQ2MTgwMWMzNGYwNjdjZTBmMDI4NzNhOGYxYjBlNDRkZmM2OTc1MmFjY2VjZDgxOWYzOGZkOGU4XCIsXG4gICAgICAgICAgXCJiYzJkYTgyYjZmYTViNTcxYTdmMDkwNDk3NzZhMWVmN2VjZDI5MjIzODA1MWMxOThjMWE4NGU5NWIyYjRhZTE3XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiZTUwMzdkZTBhZmMxZDhkNDNkODM0ODQxNGJiZjQxMDMwNDNlYzhmNTc1YmZkYzQzMjk1M2NjOGQyMDM3ZmEyZFwiLFxuICAgICAgICAgIFwiNDU3MTUzNGJhYTk0ZDNiNWY5Zjk4ZDA5ZmI5OTBiZGRiZDVmNWIwM2VjNDgxZjEwZTBlNWRjODQxZDc1NWJkYVwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImUwNjM3MmIwZjRhMjA3YWRmNWVhOTA1ZThmMTc3MWI0ZTdlOGRiZDFjNmE2YzViNzI1ODY2YTBhZTRmY2U3MjVcIixcbiAgICAgICAgICBcIjdhOTA4OTc0YmNlMThjZmUxMmEyN2JiMmFkNWE0ODhjZDc0ODRhNzc4NzEwNDg3MGIyNzAzNGY5NGVlZTMxZGRcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCIyMTNjN2E3MTVjZDVkNDUzNThkMGJiZjlkYzBjZTAyMjA0YjEwYmRkZTJhM2Y1ODU0MGFkNjkwOGQwNTU5NzU0XCIsXG4gICAgICAgICAgXCI0YjZkYWQwYjVhZTQ2MjUwNzAxM2FkMDYyNDViYTE5MGJiNDg1MGY1ZjM2YTdlZWRkZmYyYzI3NTM0YjQ1OGYyXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiNGU3YzI3MmE3YWY0YjM0ZThkYmI5MzUyYTU0MTlhODdlMjgzOGM3MGFkYzYyY2RkZjBjYzNhM2IwOGZiZDUzY1wiLFxuICAgICAgICAgIFwiMTc3NDljNzY2YzlkMGIxOGUxNmZkMDlmNmRlZjY4MWI1MzBiOTYxNGJmZjdkZDMzZTBiMzk0MTgxN2RjYWFlNlwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImZlYTc0ZTNkYmU3NzhiMWIxMGYyMzhhZDYxNjg2YWE1Yzc2ZTNkYjJiZTQzMDU3NjMyNDI3ZTI4NDBmYjI3YjZcIixcbiAgICAgICAgICBcIjZlMDU2OGRiOWIwYjEzMjk3Y2Y2NzRkZWNjYjZhZjkzMTI2YjU5NmI5NzNmN2I3NzcwMWQzZGI3ZjIzY2I5NmZcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI3NmU2NDExM2Y2NzdjZjBlMTBhMjU3MGQ1OTk5NjhkMzE1NDRlMTc5Yjc2MDQzMjk1MmMwMmE0NDE3YmRkZTM5XCIsXG4gICAgICAgICAgXCJjOTBkZGY4ZGVlNGU5NWNmNTc3MDY2ZDcwNjgxZjBkMzVlMmEzM2QyYjU2ZDIwMzJiNGIxNzUyZDE5MDFhYzAxXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiYzczOGM1NmIwM2IyYWJlMWU4MjgxYmFhNzQzZjhmOWE4ZjdjYzY0M2RmMjZjYmVlM2FiMTUwMjQyYmNiYjg5MVwiLFxuICAgICAgICAgIFwiODkzZmI1Nzg5NTFhZDI1MzdmNzE4ZjJlYWNiZmJiYmI4MjMxNGVlZjc4ODBjZmU5MTdlNzM1ZDk2OTlhODRjM1wiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImQ4OTU2MjY1NDhiNjViODFlMjY0Yzc2MzdjOTcyODc3ZDFkNzJlNWYzYTkyNTAxNDM3MmU5ZjY1ODhmNmMxNGJcIixcbiAgICAgICAgICBcImZlYmZhYTM4ZjJiYzdlYWU3MjhlYzYwODE4YzM0MGViMDM0MjhkNjMyYmIwNjdlMTc5MzYzZWQ3NWQ3ZDk5MWZcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCJiOGRhOTQwMzJhOTU3NTE4ZWIwZjY0MzM1NzFlODc2MWNlZmZjNzM2OTNlODRlZGQ0OTE1MGE1NjRmNjc2ZTAzXCIsXG4gICAgICAgICAgXCIyODA0ZGZhNDQ4MDVhMWU0ZDdjOTljYzk3NjI4MDhiMDkyY2M1ODRkOTVmZjNiNTExNDg4ZTRlNzRlZmRmNmU3XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiZTgwZmVhMTQ0NDFmYjMzYTdkOGFkYWI5NDc1ZDdmYWIyMDE5ZWZmYjUxNTZhNzkyZjFhMTE3NzhlM2MwZGY1ZFwiLFxuICAgICAgICAgIFwiZWVkMWRlN2Y2MzhlMDA3NzFlODk3NjhjYTNjYTk0NDcyZDE1NWU4MGFmMzIyZWE5ZmNiNDI5MWI2YWM5ZWM3OFwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImEzMDE2OTdiZGZjZDcwNDMxM2JhNDhlNTFkNTY3NTQzZjJhMTgyMDMxZWZkNjkxNWRkYzA3YmJjYzRlMTYwNzBcIixcbiAgICAgICAgICBcIjczNzBmOTFjZmI2N2U0ZjUwODE4MDlmYTI1ZDQwZjliMTczNWRiZjdjMGExMWExMzBjMGQxYTA0MWUxNzdlYTFcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI5MGFkODViMzg5ZDZiOTM2NDYzZjlkMDUxMjY3OGRlMjA4Y2MzMzBiMTEzMDdmZmZhYjdhYzYzZTNmYjA0ZWQ0XCIsXG4gICAgICAgICAgXCJlNTA3YTM2MjBhMzgyNjFhZmZkY2JkOTQyNzIyMmI4MzlhZWZhYmUxNTgyODk0ZDk5MWQ0ZDQ4Y2I2ZWYxNTBcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI4ZjY4YjlkMmY2M2I1ZjMzOTIzOWMxYWQ5ODFmMTYyZWU4OGM1Njc4NzIzZWEzMzUxYjdiNDQ0YzllYzRjMGRhXCIsXG4gICAgICAgICAgXCI2NjJhOWYyZGJhMDYzOTg2ZGUxZDkwYzJiNmJlMjE1ZGJiZWEyY2ZlOTU1MTBiZmRmMjNjYmY3OTUwMWZmZjgyXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiZTRmM2ZiMDE3NmFmODVkNjVmZjk5ZmY5MTk4YzM2MDkxZjQ4ZTg2NTAzNjgxZTNlNjY4NmZkNTA1MzIzMWUxMVwiLFxuICAgICAgICAgIFwiMWU2MzYzM2FkMGVmNGYxYzE2NjFhNmQwZWEwMmI3Mjg2Y2M3ZTc0ZWM5NTFkMWM5ODIyYzM4NTc2ZmViNzNiY1wiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjhjMDBmYTliMThlYmYzMzFlYjk2MTUzN2E0NWE0MjY2YzcwMzRmMmYwZDRlMWQwNzE2ZmI2ZWFlMjBlYWUyOWVcIixcbiAgICAgICAgICBcImVmYTQ3MjY3ZmVhNTIxYTFhOWRjMzQzYTM3MzZjOTc0YzJmYWRhZmE4MWUzNmM1NGU3ZDJhNGM2NjcwMjQxNGJcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCJlN2EyNmNlNjlkZDQ4MjlmM2UxMGNlYzBhOWU5OGVkMzE0M2QwODRmMzA4YjkyYzA5OTdmZGRmYzYwY2IzZTQxXCIsXG4gICAgICAgICAgXCIyYTc1OGUzMDBmYTc5ODRiNDcxYjAwNmExYWFmYmIxOGQwYTZiMmMwNDIwZTgzZTIwZThhOTQyMWNmMmNmZDUxXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiYjY0NTllMGVlMzY2MmVjOGQyMzU0MGMyMjNiY2JkYzU3MWNiY2I5NjdkNzk0MjRmM2NmMjllYjNkZTZiODBlZlwiLFxuICAgICAgICAgIFwiNjdjODc2ZDA2ZjNlMDZkZTFkYWRmMTZlNTY2MWRiM2M0YjNhZTZkNDhlMzViMmZmMzBiZjBiNjFhNzFiYTQ1XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiZDY4YTgwYzgyODBiYjg0MDc5MzIzNGFhMTE4ZjA2MjMxZDZmMWZjNjdlNzNjNWE1ZGVkYTBmNWI0OTY5NDNlOFwiLFxuICAgICAgICAgIFwiZGI4YmE5ZmZmNGI1ODZkMDBjNGIxZjkxNzdiMGUyOGI1YjBlN2I4Zjc4NDUyOTVhMjk0Yzg0MjY2YjEzMzEyMFwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjMyNGFlZDdkZjY1YzgwNDI1MmRjMDI3MDkwN2EzMGIwOTYxMmFlYjk3MzQ0OWNlYTQwOTU5ODBmYzI4ZDNkNWRcIixcbiAgICAgICAgICBcIjY0OGEzNjU3NzRiNjFmMmZmMTMwYzBjMzVhZWMxZjRmMTkyMTNiMGM3ZTMzMjg0Mzk2NzIyNGFmOTZhYjdjODRcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI0ZGY5YzE0OTE5Y2RlNjFmNmQ1MWRmZGJlNWZlZTVkY2VlYzQxNDNiYThkMWNhODg4ZThiZDM3M2ZkMDU0Yzk2XCIsXG4gICAgICAgICAgXCIzNWVjNTEwOTJkODcyODA1MDk3NGMyM2ExZDg1ZDRiNWQ1MDZjZGMyODg0OTAxOTJlYmFjMDZjYWQxMGQ1ZFwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjljMzkxOWE4NGE0NzQ4NzBmYWVkOGE5YzFjYzY2MDIxNTIzNDg5MDU0ZDdmMDMwOGNiZmM5OWM4YWMxZjk4Y2RcIixcbiAgICAgICAgICBcImRkYjg0ZjBmNGE0ZGRkNTc1ODRmMDQ0YmYyNjBlNjQxOTA1MzI2Zjc2YzY0YzhlNmJlN2U1ZTAzZDRmYzU5OWRcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI2MDU3MTcwYjFkZDEyZmRmOGRlMDVmMjgxZDhlMDZiYjkxZTE0OTNhOGI5MWQ0Y2M1YTIxMzgyMTIwYTk1OWU1XCIsXG4gICAgICAgICAgXCI5YTFhZjBiMjZhNmE0ODA3YWRkOWEyZGFmNzFkZjI2MjQ2NTE1MmJjM2VlMjRjNjVlODk5YmU5MzIzODVhMmE4XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiYTU3NmRmOGUyM2EwODQxMTQyMTQzOWE0NTE4ZGEzMTg4MGNlZjBmYmE3ZDRkZjEyYjFhNjk3M2VlY2I5NDI2NlwiLFxuICAgICAgICAgIFwiNDBhNmJmMjBlNzY2NDBiMmM5MmI5N2FmZTU4Y2Q4MmM0MzJlMTBhN2Y1MTRkOWYzZWU4YmUxMWFlMWIyOGVjOFwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjc3NzhhNzhjMjhkZWMzZTMwYTA1ZmU5NjI5ZGU4YzM4YmIzMGQxZjVjZjlhM2EyMDhmNzYzODg5YmU1OGFkNzFcIixcbiAgICAgICAgICBcIjM0NjI2ZDlhYjVhNWIyMmZmNzA5OGUxMmYyZmY1ODAwODdiMzg0MTFmZjI0YWM1NjNiNTEzZmMxZmQ5ZjQzYWNcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI5Mjg5NTVlZTYzN2E4NDQ2MzcyOWZkMzBlN2FmZDJlZDVmOTYyNzRlNWFkN2U1Y2IwOWVkYTljMDZkOTAzYWNcIixcbiAgICAgICAgICBcImMyNTYyMTAwM2QzZjQyYTgyN2I3OGExMzA5M2E5NWVlYWMzZDI2ZWZhOGE4ZDgzZmM1MTgwZTkzNWJjZDA5MWZcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI4NWQwZmVmM2VjNmRiMTA5Mzk5MDY0ZjNhMGUzYjI4NTU2NDViNGE5MDdhZDM1NDUyN2FhZTc1MTYzZDgyNzUxXCIsXG4gICAgICAgICAgXCIxZjAzNjQ4NDEzYTM4YzBiZTI5ZDQ5NmU1ODJjZjU2NjNlODc1MWU5Njg3NzMzMTU4MmMyMzdhMjRlYjFmOTYyXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiZmYyYjBkY2U5N2VlY2U5N2MxYzliNjA0MTc5OGI4NWRmZGZiNmQ4ODgyZGEyMDMwOGY1NDA0ODI0NTI2MDg3ZVwiLFxuICAgICAgICAgIFwiNDkzZDEzZmVmNTI0YmExODhhZjRjNGRjNTRkMDc5MzZjN2I3ZWQ2ZmI5MGUyY2ViMmM5NTFlMDFmMGMyOTkwN1wiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjgyN2ZiYmU0YjFlODgwZWE5ZWQyYjJlNjMwMWIyMTJiNTdmMWVlMTQ4Y2Q2ZGQyODc4MGU1ZTJjZjg1NmUyNDFcIixcbiAgICAgICAgICBcImM2MGY5YzkyM2M3MjdiMGI3MWJlZjJjNjdkMWQxMjY4N2ZmN2E2MzE4NjkwMzE2NmQ2MDViNjhiYWVjMjkzZWNcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCJlYWE2NDlmMjFmNTFiZGJhZTdiZTRhZTM0Y2U2ZTUyMTdhNThmZGNlN2Y0N2Y5YWE3ZjNiNThmYTIxMjBlMmIzXCIsXG4gICAgICAgICAgXCJiZTMyNzllZDViYmJiMDNhYzY5YTgwZjg5ODc5YWE1YTAxYTZiOTY1ZjEzZjdlNTlkNDdhNTMwNWJhNWFkOTNkXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiZTRhNDJkNDNjNWNmMTY5ZDkzOTFkZjZkZWNmNDJlZTU0MWI2ZDhmMGM5YTEzNzQwMWUyMzYzMmRkYTM0ZDI0ZlwiLFxuICAgICAgICAgIFwiNGQ5ZjkyZTcxNmQxYzczNTI2ZmM5OWNjZmI4YWQzNGNlODg2ZWVkZmE4ZDhlNGYxM2E3ZjcxMzFkZWJhOTQxNFwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjFlYzgwZmVmMzYwY2JkZDk1NDE2MGZhZGFiMzUyYjZiOTJiNTM1NzZhODhmZWE0OTQ3MTczYjlkNDMwMGJmMTlcIixcbiAgICAgICAgICBcImFlZWZlOTM3NTZiNTM0MGQyZjNhNDk1OGE3YWJiZjVlMDE0NmU3N2Y2Mjk1YTA3YjY3MWNkYzFjYzEwN2NlZmRcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCIxNDZhNzc4YzA0NjcwYzJmOTFiMDBhZjQ2ODBkZmE4YmNlMzQ5MDcxN2Q1OGJhODg5ZGRiNTkyODM2NjY0MmJlXCIsXG4gICAgICAgICAgXCJiMzE4ZTBlYzMzNTQwMjhhZGQ2Njk4MjdmOWQ0YjI4NzBhYWE5NzFkMmY3ZTVlZDFkMGIyOTc0ODNkODNlZmQwXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiZmE1MGMwZjYxZDIyZTVmMDdlM2FjZWJiMWFhMDdiMTI4ZDAwMTIyMDlhMjhiOTc3NmQ3NmE4NzkzMTgwZWVmOVwiLFxuICAgICAgICAgIFwiNmI4NGM2OTIyMzk3ZWJhOWI3MmNkMjg3MjI4MWE2OGE1ZTY4MzI5M2E1N2EyMTNiMzhjZDhkN2QzZjRmMjgxMVwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImRhMWQ2MWQwY2E3MjFhMTFiMWE1YmY2YjdkODhlODQyMWEyODhhYjVkNWJiYTUyMjBlNTNkMzJiNWYwNjdlYzJcIixcbiAgICAgICAgICBcIjgxNTdmNTVhN2M5OTMwNmM3OWMwNzY2MTYxYzkxZTI5NjZhNzM4OTlkMjc5YjQ4YTY1NWZiYTBmMWFkODM2ZjFcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCJhOGUyODJmZjBjOTcwNjkwNzIxNWZmOThlOGZkNDE2NjE1MzExZGUwNDQ2ZjFlMDYyYTczYjA2MTBkMDY0ZTEzXCIsXG4gICAgICAgICAgXCI3Zjk3MzU1YjhkYjgxYzA5YWJmYjdmM2M1YjI1MTU4ODhiNjc5YTNlNTBkZDZiZDZjZWY3YzczMTExZjRjYzBjXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiMTc0YTUzYjljOWEyODU4NzJkMzllNTZlNjkxM2NhYjE1ZDU5YjFmYTUxMjUwOGMwMjJmMzgyZGU4MzE5NDk3Y1wiLFxuICAgICAgICAgIFwiY2NjOWRjMzdhYmZjOWMxNjU3YjQxNTVmMmM0N2Y5ZTY2NDZiM2ExZDhjYjk4NTQzODNkYTEzYWMwNzlhZmE3M1wiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjk1OTM5Njk4MTk0Mzc4NWMzZDNlNTdlZGY1MDE4Y2RiZTAzOWU3MzBlNDkxOGIzZDg4NGZkZmYwOTQ3NWI3YmFcIixcbiAgICAgICAgICBcIjJlN2U1NTI4ODhjMzMxZGQ4YmEwMzg2YTRiOWNkNjg0OWM2NTNmNjRjODcwOTM4NWU5YjhhYmY4NzUyNGYyZmRcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCJkMmE2M2E1MGFlNDAxZTU2ZDY0NWExMTUzYjEwOWE4ZmNjYTBhNDNkNTYxZmJhMmRiYjUxMzQwYzlkODJiMTUxXCIsXG4gICAgICAgICAgXCJlODJkODZmYjY0NDNmY2I3NTY1YWVlNThiMjk0ODIyMGE3MGY3NTBhZjQ4NGNhNTJkNDE0MjE3NGRjZjg5NDA1XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiNjQ1ODdlMjMzNTQ3MWViODkwZWU3ODk2ZDdjZmRjODY2YmFjYmRiZDM4MzkzMTdiMzQzNmY5YjQ1NjE3ZTA3M1wiLFxuICAgICAgICAgIFwiZDk5ZmNkZDViZjY5MDJlMmFlOTZkZDY0NDdjMjk5YTE4NWI5MGEzOTEzM2FlYWIzNTgyOTllNWU5ZmFmNjU4OVwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjg0ODFiZGUwZTRlNGQ4ODViM2E1NDZkM2U1NDlkZTA0MmYwYWE2Y2VhMjUwZTdmZDM1OGQ2Yzg2ZGQ0NWU0NThcIixcbiAgICAgICAgICBcIjM4ZWU3YjhjYmE1NDA0ZGQ4NGEyNWJmMzljZWNiMmNhOTAwYTc5YzQyYjI2MmU1NTZkNjRiMWI1OTc3OTA1N2VcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCIxMzQ2NGE1N2E3ODEwMmFhNjJiNjk3OWFlODE3ZjQ2MzdmZmNmZWQzYzRiMWNlMzBiY2Q2MzAzZjZjYWY2NjZiXCIsXG4gICAgICAgICAgXCI2OWJlMTU5MDA0NjE0NTgwZWY3ZTQzMzQ1M2NjYjBjYTQ4ZjMwMGE4MWQwOTQyZTEzZjQ5NWE5MDdmNmVjYzI3XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiYmM0YTlkZjViNzEzZmUyZTlhZWY0MzBiY2MxZGM5N2EwY2Q5Y2NlZGUyZjI4NTg4Y2FkYTNhMGQyZDgzZjM2NlwiLFxuICAgICAgICAgIFwiZDNhODFjYTZlNzg1YzA2MzgzOTM3YWRmNGI3OThjYWE2ZThhOWZiZmE1NDdiMTZkNzU4ZDY2NjU4MWYzM2MxXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiOGMyOGE5N2JmODI5OGJjMGQyM2Q4Yzc0OTQ1MmEzMmU2OTRiNjVlMzBhOTQ3MmEzOTU0YWIzMGZlNTMyNGNhYVwiLFxuICAgICAgICAgIFwiNDBhMzA0NjNhMzMwNTE5MzM3OGZlZGYzMWY3Y2MwZWI3YWU3ODRmMDQ1MWNiOTQ1OWU3MWRjNzNjYmVmOTQ4MlwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjhlYTk2NjYxMzk1MjdhOGMxZGQ5NGNlNGYwNzFmZDIzYzhiMzUwYzVhNGJiMzM3NDhjNGJhMTExZmFjY2FlMFwiLFxuICAgICAgICAgIFwiNjIwZWZhYmJjOGVlMjc4MmUyNGU3YzBjZmI5NWM1ZDczNWI3ODNiZTljZjBmOGU5NTVhZjM0YTMwZTYyYjk0NVwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImRkMzYyNWZhZWY1YmEwNjA3NDY2OTcxNmJiZDM3ODhkODliZGRlODE1OTU5OTY4MDkyZjc2Y2M0ZWI5YTk3ODdcIixcbiAgICAgICAgICBcIjdhMTg4ZmEzNTIwZTMwZDQ2MWRhMjUwMTA0NTczMWNhOTQxNDYxOTgyODgzMzk1OTM3ZjY4ZDAwYzY0NGE1NzNcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCJmNzEwZDc5ZDllYjk2MjI5N2U0ZjYyMzJiNDBlOGY3ZmViMmJjNjM4MTQ2MTRkNjkyYzEyZGU3NTI0MDgyMjFlXCIsXG4gICAgICAgICAgXCJlYTk4ZTY3MjMyZDNiMzI5NWQzYjUzNTUzMjExNWNjYWM4NjEyYzcyMTg1MTYxNzUyNmFlNDdhOWM3N2JmYzgyXCJcbiAgICAgICAgXVxuICAgICAgXVxuICAgIH0sXG4gICAgbmFmOiB7XG4gICAgICB3bmQ6IDcsXG4gICAgICBwb2ludHM6IFtcbiAgICAgICAgW1xuICAgICAgICAgIFwiZjkzMDhhMDE5MjU4YzMxMDQ5MzQ0Zjg1Zjg5ZDUyMjliNTMxYzg0NTgzNmY5OWIwODYwMWYxMTNiY2UwMzZmOVwiLFxuICAgICAgICAgIFwiMzg4ZjdiMGY2MzJkZTgxNDBmZTMzN2U2MmEzN2YzNTY2NTAwYTk5OTM0YzIyMzFiNmNiOWZkNzU4NGI4ZTY3MlwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjJmOGJkZTRkMWEwNzIwOTM1NWI0YTcyNTBhNWM1MTI4ZTg4Yjg0YmRkYzYxOWFiN2NiYThkNTY5YjI0MGVmZTRcIixcbiAgICAgICAgICBcImQ4YWMyMjI2MzZlNWUzZDZkNGRiYTlkZGE2YzljNDI2Zjc4ODI3MWJhYjBkNjg0MGRjYTg3ZDNhYTZhYzYyZDZcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI1Y2JkZjA2NDZlNWRiNGVhYTM5OGYzNjVmMmVhN2EwZTNkNDE5YjdlMDMzMGUzOWNlOTJiZGRlZGNhYzRmOWJjXCIsXG4gICAgICAgICAgXCI2YWViY2E0MGJhMjU1OTYwYTMxNzhkNmQ4NjFhNTRkYmE4MTNkMGI4MTNmZGU3YjVhNTA4MjYyODA4NzI2NGRhXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiYWNkNDg0ZTJmMGM3ZjY1MzA5YWQxNzhhOWY1NTlhYmRlMDk3OTY5NzRjNTdlNzE0YzM1ZjExMGRmYzI3Y2NiZVwiLFxuICAgICAgICAgIFwiY2MzMzg5MjFiMGE3ZDlmZDY0MzgwOTcxNzYzYjYxZTlhZGQ4ODhhNDM3NWY4ZTBmMDVjYzI2MmFjNjRmOWMzN1wiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjc3NGFlN2Y4NThhOTQxMWU1ZWY0MjQ2YjcwYzY1YWFjNTY0OTk4MGJlNWMxNzg5MWJiZWMxNzg5NWRhMDA4Y2JcIixcbiAgICAgICAgICBcImQ5ODRhMDMyZWI2YjVlMTkwMjQzZGQ1NmQ3YjdiMzY1MzcyZGIxZTJkZmY5ZDZhODMwMWQ3NGM5Yzk1M2M2MWJcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCJmMjg3NzNjMmQ5NzUyODhiYzdkMWQyMDVjMzc0ODY1MWIwNzVmYmM2NjEwZTU4Y2RkZWVkZGY4ZjE5NDA1YWE4XCIsXG4gICAgICAgICAgXCJhYjA5MDJlOGQ4ODBhODk3NTgyMTJlYjY1Y2RhZjQ3M2ExYTA2ZGE1MjFmYTkxZjI5YjVjYjUyZGIwM2VkODFcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCJkNzkyNGQ0ZjdkNDNlYTk2NWE0NjVhZTMwOTVmZjQxMTMxZTU5NDZmM2M4NWY3OWU0NGFkYmNmOGUyN2UwODBlXCIsXG4gICAgICAgICAgXCI1ODFlMjg3MmE4NmM3MmE2ODM4NDJlYzIyOGNjNmRlZmVhNDBhZjJiZDg5NmQzYTVjNTA0ZGM5ZmY2YTI2YjU4XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiZGVmZGVhNGNkYjY3Nzc1MGE0MjBmZWU4MDdlYWNmMjFlYjk4OThhZTc5Yjk3Njg3NjZlNGZhYTA0YTJkNGEzNFwiLFxuICAgICAgICAgIFwiNDIxMWFiMDY5NDYzNTE2OGU5OTdiMGVhZDJhOTNkYWVjZWQxZjRhMDRhOTVjMGY2Y2ZiMTk5ZjY5ZTU2ZWI3N1wiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjJiNGVhMGE3OTdhNDQzZDI5M2VmNWNmZjQ0NGY0OTc5ZjA2YWNmZWJkN2U4NmQyNzc0NzU2NTYxMzgzODViNmNcIixcbiAgICAgICAgICBcIjg1ZTg5YmMwMzc5NDVkOTNiMzQzMDgzYjVhMWM4NjEzMWEwMWY2MGM1MDI2OTc2M2I1NzBjODU0ZTVjMDliN2FcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCIzNTJiYmY0YTRjZGQxMjU2NGY5M2ZhMzMyY2UzMzMzMDFkOWFkNDAyNzFmODEwNzE4MTM0MGFlZjI1YmU1OWQ1XCIsXG4gICAgICAgICAgXCIzMjFlYjQwNzUzNDhmNTM0ZDU5YzE4MjU5ZGRhM2UxZjRhMWIzYjJlNzFiMTAzOWM2N2JkM2Q4YmNmODE5OThjXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiMmZhMjEwNGQ2YjM4ZDExYjAyMzAwMTA1NTk4NzkxMjRlNDJhYjhkZmVmZjVmZjI5ZGM5Y2RhZGQ0ZWNhY2MzZlwiLFxuICAgICAgICAgIFwiMmRlMTA2ODI5NWRkODY1YjY0NTY5MzM1YmQ1ZGQ4MDE4MWQ3MGVjZmM4ODI2NDg0MjNiYTc2YjUzMmI3ZDY3XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiOTI0ODI3OWIwOWI0ZDY4ZGFiMjFhOWIwNjZlZGRhODMyNjNjM2Q4NGUwOTU3MmUyNjljYTBjZDdmNTQ1MzcxNFwiLFxuICAgICAgICAgIFwiNzMwMTZmN2JmMjM0YWFkZTVkMWFhNzFiZGVhMmIxZmYzZmMwZGUyYTg4NzkxMmZmZTU0YTMyY2U5N2NiMzQwMlwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImRhZWQ0ZjJiZTNhOGJmMjc4ZTcwMTMyZmIwYmViNzUyMmY1NzBlMTQ0YmY2MTVjMDdlOTk2ZDQ0M2RlZTg3MjlcIixcbiAgICAgICAgICBcImE2OWRjZTRhN2Q2Yzk4ZThkNGExYWNhODdlZjhkNzAwM2Y4M2MyMzBmM2FmYTcyNmFiNDBlNTIyOTBiZTFjNTVcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCJjNDRkMTJjNzA2NWQ4MTJlOGFjZjI4ZDdjYmIxOWY5MDExZWNkOWU5ZmRmMjgxYjBlNmEzYjVlODdkMjJlN2RiXCIsXG4gICAgICAgICAgXCIyMTE5YTQ2MGNlMzI2Y2RjNzZjNDU5MjZjOTgyZmRhYzBlMTA2ZTg2MWVkZjYxYzVhMDM5MDYzZjBlMGU2NDgyXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiNmEyNDViZjZkYzY5ODUwNGM4OWEyMGNmZGVkNjA4NTMxNTJiNjk1MzM2YzI4MDYzYjYxYzY1Y2JkMjY5ZTZiNFwiLFxuICAgICAgICAgIFwiZTAyMmNmNDJjMmJkNGE3MDhiM2Y1MTI2ZjE2YTI0YWQ4YjMzYmE0OGQwNDIzYjZlZmQ1ZTYzNDgxMDBkOGE4MlwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjE2OTdmZmE2ZmQ5ZGU2MjdjMDc3ZTNkMmZlNTQxMDg0Y2UxMzMwMGIwYmVjMTE0NmY5NWFlNTdmMGQwYmQ2YTVcIixcbiAgICAgICAgICBcImI5YzM5OGYxODY4MDZmNWQyNzU2MTUwNmU0NTU3NDMzYTJjZjE1MDA5ZTQ5OGFlN2FkZWU5ZDYzZDAxYjIzOTZcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI2MDViZGIwMTk5ODE3MThiOTg2ZDBmMDdlODM0Y2IwZDlkZWI4MzYwZmZiN2Y2MWRmOTgyMzQ1ZWYyN2E3NDc5XCIsXG4gICAgICAgICAgXCIyOTcyZDJkZTRmOGQyMDY4MWE3OGQ5M2VjOTZmZTIzYzI2YmZhZTg0ZmIxNGRiNDNiMDFlMWU5MDU2YjhjNDlcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI2MmQxNGRhYjQxNTBiZjQ5NzQwMmZkYzQ1YTIxNWUxMGRjYjAxYzM1NDk1OWIxMGNmZTMxYzdlOWQ4N2ZmMzNkXCIsXG4gICAgICAgICAgXCI4MGZjMDZiZDhjYzViMDEwOTgwODhhMTk1MGVlZDBkYjAxYWExMzI5NjdhYjQ3MjIzNWY1NjQyNDgzYjI1ZWFmXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiODBjNjBhZDAwNDBmMjdkYWRlNWI0YjA2YzQwOGU1NmIyYzUwZTlmNTZiOWI4YjQyNWU1NTVjMmY4NjMwOGI2ZlwiLFxuICAgICAgICAgIFwiMWMzODMwM2YxY2M1YzMwZjI2ZTY2YmFkN2ZlNzJmNzBhNjVlZWQ0Y2JlNzAyNGViMWFhMDFmNTY0MzBiZDU3YVwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjdhOTM3NWFkNjE2N2FkNTRhYTc0YzYzNDhjYzU0ZDM0NGNjNWRjOTQ4N2Q4NDcwNDlkNWVhYmIwZmEwM2M4ZmJcIixcbiAgICAgICAgICBcImQwZTNmYTllY2E4NzI2OTA5NTU5ZTBkNzkyNjkwNDZiZGM1OWVhMTBjNzBjZTJiMDJkNDk5ZWMyMjRkYzdmN1wiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImQ1MjhlY2Q5YjY5NmI1NGM5MDdhOWVkMDQ1NDQ3YTc5YmI0MDhlYzM5YjY4ZGY1MDRiYjUxZjQ1OWJjM2ZmYzlcIixcbiAgICAgICAgICBcImVlY2Y0MTI1MzEzNmU1Zjk5OTY2ZjIxODgxZmQ2NTZlYmM0MzQ1NDA1YzUyMGRiYzA2MzQ2NWI1MjE0MDk5MzNcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI0OTM3MGE0YjVmNDM0MTJlYTI1ZjUxNGU4ZWNkYWQwNTI2NjExNWU0YTdlY2IxMzg3MjMxODA4ZjhiNDU5NjNcIixcbiAgICAgICAgICBcIjc1OGYzZjQxYWZkNmVkNDI4YjMwODFiMDUxMmZkNjJhNTRjM2YzYWZiYjViNjc2NGI2NTMwNTJhMTI5NDljOWFcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI3N2YyMzA5MzZlZTg4Y2JiZDczZGY5MzBkNjQ3MDJlZjg4MWQ4MTFlMGUxNDk4ZTJmMWMxM2ViMWZjMzQ1ZDc0XCIsXG4gICAgICAgICAgXCI5NThlZjQyYTc4ODZiNjQwMGEwODI2NmU5YmExYjM3ODk2Yzk1MzMwZDk3MDc3Y2JiZThlYjNjNzY3MWM2MGQ2XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiZjJkYWM5OTFjYzRjZTRiOWVhNDQ4ODdlNWM3YzBiY2U1OGM4MDA3NGFiOWQ0ZGJhZWIyODUzMWI3NzM5ZjUzMFwiLFxuICAgICAgICAgIFwiZTBkZWRjOWIzYjJmOGRhZDRkYTFmMzJkZWMyNTMxZGY5ZWI1ZmJlYjA1OThlNGZkMWExMTdkYmE3MDNhM2MzN1wiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjQ2M2IzZDlmNjYyNjIxZmIxYjRiZThmYmJlMjUyMDEyNWEyMTZjZGZjOWRhZTNkZWJjYmE0ODUwYzY5MGQ0NWJcIixcbiAgICAgICAgICBcIjVlZDQzMGQ3OGMyOTZjMzU0MzExNDMwNmRkODYyMmQ3YzYyMmUyN2M5NzBhMWRlMzFjYjM3N2IwMWFmNzMwN2VcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCJmMTZmODA0MjQ0ZTQ2ZTJhMDkyMzJkNGFmZjNiNTk5NzZiOThmYWMxNDMyOGEyZDFhMzI0OTZiNDk5OThmMjQ3XCIsXG4gICAgICAgICAgXCJjZWRhYmQ5YjgyMjAzZjdlMTNkMjA2ZmNkZjRlMzNkOTJhNmM1M2MyNmU1Y2NlMjZkNjU3OTk2MmM0ZTMxZGY2XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiY2FmNzU0MjcyZGM4NDU2M2IwMzUyYjdhMTQzMTFhZjU1ZDI0NTMxNWFjZTI3YzY1MzY5ZTE1ZjcxNTFkNDFkMVwiLFxuICAgICAgICAgIFwiY2I0NzQ2NjBlZjM1ZjVmMmE0MWI2NDNmYTVlNDYwNTc1ZjRmYTliNzk2MjIzMmE1YzMyZjkwODMxOGEwNDQ3NlwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjI2MDBjYTRiMjgyY2I5ODZmODVkMGYxNzA5OTc5ZDhiNDRhMDljMDdjYjg2ZDdjMTI0NDk3YmM4NmYwODIxMjBcIixcbiAgICAgICAgICBcIjQxMTliODg3NTNjMTViZDZhNjkzYjAzZmNkZGJiNDVkNWFjNmJlNzRhYjVmMGVmNDRiMGJlOTQ3NWE3ZTRiNDBcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI3NjM1Y2E3MmQ3ZTg0MzJjMzM4ZWM1M2NkMTIyMjBiYzAxYzQ4Njg1ZTI0ZjdkYzhjNjAyYTc3NDY5OThlNDM1XCIsXG4gICAgICAgICAgXCI5MWI2NDk2MDk0ODlkNjEzZDFkNWU1OTBmNzhlNmQ3NGVjZmMwNjFkNTcwNDhiYWQ5ZTc2ZjMwMmM1YjljNjFcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI3NTRlMzIzOWYzMjU1NzBjZGJiZjRhODdkZWVlOGE2NmI3ZjJiMzM0NzlkNDY4ZmJjMWE1MDc0M2JmNTZjYzE4XCIsXG4gICAgICAgICAgXCI2NzNmYjg2ZTViZGEzMGZiM2NkMGVkMzA0ZWE0OWEwMjNlZTMzZDAxOTdhNjk1ZDBjNWQ5ODA5M2M1MzY2ODNcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCJlM2U2YmQxMDcxYTFlOTZhZmY1Nzg1OWM4MmQ1NzBmMDMzMDgwMDY2MWQxYzk1MmY5ZmUyNjk0NjkxZDliOWU4XCIsXG4gICAgICAgICAgXCI1OWM5ZTBiYmEzOTRlNzZmNDBjMGFhNTgzNzlhM2NiNmE1YTIyODM5OTNlOTBjNDE2NzAwMmFmNDkyMGUzN2Y1XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiMTg2YjQ4M2QwNTZhMDMzODI2YWU3M2Q4OGY3MzI5ODVjNGNjYjFmMzJiYTM1ZjRiNGNjNDdmZGNmMDRhYTZlYlwiLFxuICAgICAgICAgIFwiM2I5NTJkMzJjNjdjZjc3ZTJlMTc0NDZlMjA0MTgwYWIyMWZiODA5MDg5NTEzOGI0YTRhNzk3Zjg2ZTgwODg4YlwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImRmOWQ3MGE2Yjk4NzZjZTU0NGM5ODU2MWY0YmU0ZjcyNTQ0MmU2ZDJiNzM3ZDljOTFhODMyMTcyNGNlMDk2M2ZcIixcbiAgICAgICAgICBcIjU1ZWIyZGFmZDg0ZDZjY2Q1Zjg2MmI3ODVkYzM5ZDRhYjE1NzIyMjcyMGVmOWRhMjE3YjhjNDVjZjJiYTI0MTdcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI1ZWRkNWNjMjNjNTFlODdhNDk3Y2E4MTVkNWRjZTBmOGFiNTI1NTRmODQ5ZWQ4OTk1ZGU2NGM1ZjM0Y2U3MTQzXCIsXG4gICAgICAgICAgXCJlZmFlOWM4ZGJjMTQxMzA2NjFlOGNlYzAzMGM4OWFkMGMxM2M2NmMwZDE3YTI5MDVjZGM3MDZhYjczOTlhODY4XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiMjkwNzk4YzJiNjQ3NjgzMGRhMTJmZTAyMjg3ZTllNzc3YWEzZmJhMWMzNTViMTdhNzIyZDM2MmY4NDYxNGZiYVwiLFxuICAgICAgICAgIFwiZTM4ZGE3NmRjZDQ0MDYyMTk4OGQwMGJjZjc5YWYyNWQ1YjI5YzA5NGRiMmEyMzE0NmQwMDNhZmQ0MTk0M2U3YVwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImFmM2M0MjNhOTVkOWY1YjMwNTQ3NTRlZmExNTBhYzM5Y2QyOTU1MmZlMzYwMjU3MzYyZGZkZWNlZjQwNTNiNDVcIixcbiAgICAgICAgICBcImY5OGEzZmQ4MzFlYjJiNzQ5YTkzYjBlNmYzNWNmYjQwYzhjZDVhYTY2N2ExNTU4MWJjMmZlZGVkNDk4ZmQ5YzZcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI3NjZkYmIyNGQxMzRlNzQ1Y2NjYWEyOGM5OWJmMjc0OTA2YmI2NmIyNmRjZjk4ZGY4ZDJmZWQ1MGQ4ODQyNDlhXCIsXG4gICAgICAgICAgXCI3NDRiMTE1MmVhY2JlNWUzOGRjYzg4Nzk4MGRhMzhiODk3NTg0YTY1ZmEwNmNlZGQyYzkyNGY5N2NiYWM1OTk2XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiNTlkYmY0NmY4Yzk0NzU5YmEyMTI3N2MzMzc4NGY0MTY0NWY3YjQ0ZjZjNTk2YTU4Y2U5MmU2NjYxOTFhYmUzZVwiLFxuICAgICAgICAgIFwiYzUzNGFkNDQxNzVmYmMzMDBmNGVhNmNlNjQ4MzA5YTA0MmNlNzM5YTc5MTk3OThjZDg1ZTIxNmM0YTMwN2Y2ZVwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImYxM2FkYTk1MTAzYzQ1MzczMDVlNjkxZTc0ZTlhNGE4ZGQ2NDdlNzExYTk1ZTczY2I2MmRjNjAxOGNmZDg3YjhcIixcbiAgICAgICAgICBcImUxMzgxN2I0NGVlMTRkZTY2M2JmNGJjODA4MzQxZjMyNjk0OWUyMWE2YTc1YzI1NzA3Nzg0MTliZGFmNTczM2RcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI3NzU0YjRmYTBlOGFjZWQwNmQ0MTY3YTJjNTljY2E0Y2RhMTg2OWMwNmViYWRmYjY0ODg1NTAwMTVhODg1MjJjXCIsXG4gICAgICAgICAgXCIzMGU5M2U4NjRlNjY5ZDgyMjI0Yjk2N2MzMDIwYjhmYThkMWU0ZTM1MGI2Y2JjYzUzN2E0OGI1Nzg0MTE2M2EyXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiOTQ4ZGNhZGY1OTkwZTA0OGFhMzg3NGQ0NmFiZWY5ZDcwMTg1OGY5NWRlODA0MWQyYTY4MjhjOTllMjI2MjUxOVwiLFxuICAgICAgICAgIFwiZTQ5MWE0MjUzN2Y2ZTU5N2Q1ZDI4YTMyMjRiMWJjMjVkZjkxNTRlZmJkMmVmMWQyY2JiYTJjYWU1MzQ3ZDU3ZVwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjc5NjI0MTQ0NTBjNzZjMTY4OWM3YjQ4ZjgyMDJlYzM3ZmIyMjRjZjVhYzBiZmExNTcwMzI4YThhM2Q3Yzc3YWJcIixcbiAgICAgICAgICBcIjEwMGI2MTBlYzRmZmI0NzYwZDVjMWZjMTMzZWY2ZjZiMTI1MDdhMDUxZjA0YWM1NzYwYWZhNWIyOWRiODM0MzdcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCIzNTE0MDg3ODM0OTY0YjU0YjE1YjE2MDY0NGQ5MTU0ODVhMTY5NzcyMjViODg0N2JiMGRkMDg1MTM3ZWM0N2NhXCIsXG4gICAgICAgICAgXCJlZjBhZmJiMjA1NjIwNTQ0OGUxNjUyYzQ4ZTgxMjdmYzYwMzllNzdjMTVjMjM3OGI3ZTdkMTVhMGRlMjkzMzExXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiZDNjYzMwYWQ2YjQ4M2U0YmM3OWNlMmM5ZGQ4YmM1NDk5M2U5NDdlYjhkZjc4N2I0NDI5NDNkM2Y3YjUyN2VhZlwiLFxuICAgICAgICAgIFwiOGIzNzhhMjJkODI3Mjc4ZDg5YzVlOWJlOGY5NTA4YWUzYzJhZDQ2MjkwMzU4NjMwYWZiMzRkYjA0ZWVkZTBhNFwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjE2MjRkODQ3ODA3MzI4NjBjZTFjNzhmY2JmZWZlMDhiMmIyOTgyM2RiOTEzZjY0OTM5NzViYTBmZjQ4NDc2MTBcIixcbiAgICAgICAgICBcIjY4NjUxY2Y5YjZkYTkwM2UwOTE0NDQ4YzZjZDlkNGNhODk2ODc4ZjUyODJiZTRjOGNjMDZlMmE0MDQwNzg1NzVcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI3MzNjZTgwZGE5NTVhOGEyNjkwMmM5NTYzM2U2MmE5ODUxOTI0NzRiNWFmMjA3ZGE2ZGY3YjRmZDVmYzYxY2Q0XCIsXG4gICAgICAgICAgXCJmNTQzNWEyYmQyYmFkZjdkNDg1YTRkOGI4ZGI5ZmNjZTNlMWVmOGUwMjAxZTQ1NzhjNTQ2NzNiYzFkYzVlYTFkXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiMTVkOTQ0MTI1NDk0NTA2NGNmMWExYzMzYmJkM2I0OWY4OTY2YzUwOTIxNzFlNjk5ZWYyNThkZmFiODFjMDQ1Y1wiLFxuICAgICAgICAgIFwiZDU2ZWIzMGI2OTQ2M2U3MjM0ZjUxMzdiNzNiODQxNzc0MzQ4MDBiYWNlYmZjNjg1ZmMzN2JiZTllZmU0MDcwZFwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImExZDBmY2YyZWM5ZGU2NzViNjEyMTM2ZTVjZTcwZDI3MWMyMTQxN2M5ZDJiOGFhYWFjMTM4NTk5ZDA3MTc5NDBcIixcbiAgICAgICAgICBcImVkZDc3ZjUwYmNiNWEzY2FiMmU5MDczNzMwOTY2N2YyNjQxNDYyYTU0MDcwZjNkNTE5MjEyZDM5YzE5N2E2MjlcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCJlMjJmYmUxNWMwYWY4Y2NjNTc4MGMwNzM1Zjg0ZGJlOWE3OTBiYWRlZTgyNDVjMDZjN2NhMzczMzFjYjM2OTgwXCIsXG4gICAgICAgICAgXCJhODU1YmFiYWQ1Y2Q2MGM4OGI0MzBhNjlmNTNhMWE3YTM4Mjg5MTU0OTY0Nzk5YmU0M2QwNmQ3N2QzMWRhMDZcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCIzMTEwOTFkZDk4NjBlOGUyMGVlMTM0NzNjMTE1NWY1ZjY5NjM1ZTM5NDcwNGVhYTc0MDA5NDUyMjQ2Y2ZhOWIzXCIsXG4gICAgICAgICAgXCI2NmRiNjU2Zjg3ZDFmMDRmZmZkMWYwNDc4OGMwNjgzMDg3MWVjNWE2NGZlZWU2ODViZDgwZjBiMTI4NmQ4Mzc0XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiMzRjMWZkMDRkMzAxYmU4OWIzMWMwNDQyZDNlNmFjMjQ4ODM5MjhiNDVhOTM0MDc4MTg2N2Q0MjMyZWMyZGJkZlwiLFxuICAgICAgICAgIFwiOTQxNDY4NWU5N2IxYjU5NTRiZDQ2ZjczMDE3NDEzNmQ1N2YxY2VlYjQ4NzQ0M2RjNTMyMTg1N2JhNzNhYmVlXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiZjIxOWVhNWQ2YjU0NzAxYzFjMTRkZTViNTU3ZWI0MmE4ZDEzZjNhYmJjZDA4YWZmY2MyYTVlNmIwNDliOGQ2M1wiLFxuICAgICAgICAgIFwiNGNiOTU5NTdlODNkNDBiMGY3M2FmNDU0NGNjY2Y2YjFmNGIwOGQzYzA3YjI3ZmI4ZDhjMjk2MmE0MDA3NjZkMVwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImQ3Yjg3NDBmNzRhOGZiYWFiMWY2ODNkYjhmNDVkZTI2NTQzYTU0OTBiY2E2MjcwODcyMzY5MTI0NjlhMGI0NDhcIixcbiAgICAgICAgICBcImZhNzc5NjgxMjhkOWM5MmVlMTAxMGYzMzdhZDQ3MTdlZmYxNWRiNWVkM2MwNDliMzQxMWUwMzE1ZWFhNDU5M2JcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCIzMmQzMWMyMjJmOGY2ZjBlZjg2ZjdjOThkM2EzMzM1ZWFkNWJjZDMyYWJkZDk0Mjg5ZmU0ZDMwOTFhYTgyNGJmXCIsXG4gICAgICAgICAgXCI1ZjMwMzJmNTg5MjE1NmUzOWNjZDNkNzkxNWI5ZTFkYTJlNmRhYzllNmYyNmU5NjExMThkMTRiODQ2MmUxNjYxXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiNzQ2MWYzNzE5MTRhYjMyNjcxMDQ1YTE1NWQ5ODMxZWE4NzkzZDc3Y2Q1OTU5MmM0MzQwZjg2Y2JjMTgzNDdiNVwiLFxuICAgICAgICAgIFwiOGVjMGJhMjM4Yjk2YmVjMGNiZGRkY2FlMGFhNDQyNTQyZWVlMWZmNTBjOTg2ZWE2YjM5ODQ3YjNjYzA5MmZmNlwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImVlMDc5YWRiMWRmMTg2MDA3NDM1NmEyNWFhMzgyMDZhNmQ3MTZiMmMzZTY3NDUzZDI4NzY5OGJhZDdiMmIyZDZcIixcbiAgICAgICAgICBcIjhkYzI0MTJhYWZlM2JlNWM0YzVmMzdlMGVjYzVmOWY2YTQ0Njk4OWFmMDRjNGUyNWViYWFjNDc5ZWMxYzhjMWVcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCIxNmVjOTNlNDQ3ZWM4M2YwNDY3YjE4MzAyZWU2MjBmN2U2NWRlMzMxODc0YzlkYzcyYmZkODYxNmJhOWRhNmI1XCIsXG4gICAgICAgICAgXCI1ZTQ2MzExNTBlNjJmYjQwZDBlOGMyYTdjYTU4MDRhMzlkNTgxODZhNTBlNDk3MTM5NjI2Nzc4ZTI1YjA2NzRkXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiZWFhNWY5ODBjMjQ1ZjZmMDM4OTc4MjkwYWZhNzBiNmJkODg1NTg5N2Y5OGI2YWE0ODViOTYwNjVkNTM3YmQ5OVwiLFxuICAgICAgICAgIFwiZjY1ZjVkM2UyOTJjMmUwODE5YTUyODM5MWM5OTQ2MjRkNzg0ODY5ZDdlNmVhNjdmYjE4MDQxMDI0ZWRjMDdkY1wiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjc4Yzk0MDc1NDRhYzEzMjY5MmVlMTkxMGEwMjQzOTk1OGFlMDQ4NzcxNTEzNDJlYTk2YzRiNmIzNWE0OWY1MVwiLFxuICAgICAgICAgIFwiZjNlMDMxOTE2OWViOWI4NWQ1NDA0Nzk1NTM5YTVlNjhmYTFmYmQ1ODNjMDY0ZDI0NjJiNjc1ZjE5NGEzZGRiNFwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjQ5NGY0YmUyMTlhMWE3NzAxNmRjZDgzODQzMWFlYTAwMDFjZGM4YWU3YTZmYzY4ODcyNjU3OGQ5NzAyODU3YTVcIixcbiAgICAgICAgICBcIjQyMjQyYTk2OTI4M2E1ZjMzOWJhN2YwNzVlMzZiYTJhZjkyNWNlMzBkNzY3ZWQ2ZTU1ZjRiMDMxODgwZDU2MmNcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCJhNTk4YTgwMzBkYTZkODZjNmJjN2YyZjUxNDRlYTU0OWQyODIxMWVhNThmYWE3MGViZjRjMWU2NjVjMWZlOWI1XCIsXG4gICAgICAgICAgXCIyMDRiNWQ2Zjg0ODIyYzMwN2U0YjRhNzE0MDczN2FlYzIzZmM2M2I2NWIzNWY4NmExMDAyNmRiZDJkODY0ZTZiXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiYzQxOTE2MzY1YWJiMmI1ZDA5MTkyZjVmMmRiZWFmZWMyMDhmMDIwZjEyNTcwYTE4NGRiYWRjM2U1ODU5NTk5N1wiLFxuICAgICAgICAgIFwiNGYxNDM1MWQwMDg3ZWZhNDlkMjQ1YjMyODk4NDk4OWQ1Y2FmOTQ1MGYzNGJmYzBlZDE2ZTk2YjU4ZmE5OTEzXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiODQxZDYwNjNhNTg2ZmE0NzVhNzI0NjA0ZGEwM2JjNWI5MmEyZTBkMmUwYTM2YWNmZTRjNzNhNTUxNDc0Mjg4MVwiLFxuICAgICAgICAgIFwiNzM4NjdmNTljMDY1OWU4MTkwNGY5YTFjNzU0MzY5OGU2MjU2MmQ2NzQ0YzE2OWNlN2EzNmRlMDFhOGQ2MTU0XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiNWU5NWJiMzk5YTY5NzFkMzc2MDI2OTQ3Zjg5YmRlMmYyODJiMzM4MTA5MjhiZTRkZWQxMTJhYzRkNzBlMjBkNVwiLFxuICAgICAgICAgIFwiMzlmMjNmMzY2ODA5MDg1YmVlYmZjNzExODEzMTM3NzVhOTljOWFlZDdkOGJhMzhiMTYxMzg0Yzc0NjAxMjg2NVwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjM2ZTQ2NDFhNTM5NDhmZDQ3NmMzOWY4YTk5ZmQ5NzRlNWVjMDc1NjRiNTMxNWQ4YmY5OTQ3MWJjYTBlZjJmNjZcIixcbiAgICAgICAgICBcImQyNDI0YjFiMWFiZTRlYjgxNjQyMjdiMDg1YzlhYTk0NTZlYTEzNDkzZmQ1NjNlMDZmZDUxY2Y1Njk0Yzc4ZmNcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCIzMzY1ODFlYTdiZmJiYjI5MGMxOTFhMmY1MDdhNDFjZjU2NDM4NDIxNzBlOTE0ZmFlYWIyN2MyYzU3OWY3MjZcIixcbiAgICAgICAgICBcImVhZDEyMTY4NTk1ZmUxYmU5OTI1MjEyOWI2ZTU2YjMzOTFmN2FiMTQxMGNkMWUwZWYzZGNkY2FiZDJmZGEyMjRcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI4YWI4OTgxNmRhZGZkNmI2YTFmMjYzNGZjZjAwZWM4NDAzNzgxMDI1ZWQ2ODkwYzQ4NDk3NDI3MDZiZDQzZWRlXCIsXG4gICAgICAgICAgXCI2ZmRjZWYwOWYyZjZkMGEwNDRlNjU0YWVmNjI0MTM2ZjUwM2Q0NTljM2U4OTg0NTg1OGE0N2E5MTI5Y2RkMjRlXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiMWUzM2YxYTc0NmM5YzU3NzgxMzMzNDRkOTI5OWZjYWEyMGIwOTM4ZThhY2ZmMjU0NGJiNDAyODRiOGM1ZmI5NFwiLFxuICAgICAgICAgIFwiNjA2NjAyNTdkZDExYjNhYTljOGVkNjE4ZDI0ZWRmZjIzMDZkMzIwZjFkMDMwMTBlMzNhN2QyMDU3ZjNiM2I2XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiODViN2MxZGNiM2NlYzFiN2VlN2YzMGRlZDc5ZGQyMGEwZWQxZjRjYzE4Y2JjZmNmYTQxMDM2MWZkOGYwOGYzMVwiLFxuICAgICAgICAgIFwiM2Q5OGE5Y2RkMDI2ZGQ0M2YzOTA0OGYyNWE4ODQ3ZjRmY2FmYWQxODk1ZDdhNjMzYzZmZWQzYzM1ZTk5OTUxMVwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjI5ZGY5ZmJkOGQ5ZTQ2NTA5Mjc1ZjRiMTI1ZDZkNDVkN2ZiZTlhM2I4NzhhN2FmODcyYTI4MDA2NjFhYzVmNTFcIixcbiAgICAgICAgICBcImI0YzRmZTk5Yzc3NWE2MDZlMmQ4ODYyMTc5MTM5ZmZkYTYxZGM4NjFjMDE5ZTU1Y2QyODc2ZWIyYTI3ZDg0YlwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImEwYjFjYWUwNmIwYTg0N2EzZmVhNmU2NzFhYWY4YWRmZGZlNThjYTJmNzY4MTA1YzgwODJiMmU0NDlmY2UyNTJcIixcbiAgICAgICAgICBcImFlNDM0MTAyZWRkZTA5NThlYzRiMTlkOTE3YTZhMjhlNmI3MmRhMTgzNGFmZjBlNjUwZjA0OTUwM2EyOTZjZjJcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI0ZThjZWFmYjliM2U5YTEzNmRjN2ZmNjdlODQwMjk1YjQ5OWRmYjNiMjEzM2U0YmExMTNmMmU0YzBlMTIxZTVcIixcbiAgICAgICAgICBcImNmMjE3NDExOGM4YjZkN2E0YjQ4ZjZkNTM0Y2U1Yzc5NDIyYzA4NmE2MzQ2MDUwMmI4MjdjZTYyYTMyNjY4M2NcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCJkMjRhNDRlMDQ3ZTE5YjZmNWFmYjgxYzdjYTJmNjkwODBhNTA3NjY4OWEwMTA5MTlmNDI3MjVjMmI3ODlhMzNiXCIsXG4gICAgICAgICAgXCI2ZmI4ZDU1OTFiNDY2ZjhmYzYzZGI1MGYxYzBmMWM2OTAxM2Y5OTY4ODdiODI0NGQyY2RlYzQxN2FmZWE4ZmEzXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiZWEwMTYwNmE3YTZjOWNkZDI0OWZkZmNmYWNiOTk1ODQwMDFlZGQyOGFiYmFiNzdiNTEwNGU5OGU4ZTNiMzVkNFwiLFxuICAgICAgICAgIFwiMzIyYWY0OTA4YzczMTJiMGNmYmZlMzY5ZjdhN2IzY2RiN2Q0NDk0YmMyODIzNzAwY2ZkNjUyMTg4YTNlYTk4ZFwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImFmOGFkZGJmMmI2NjFjOGE2YzYzMjg2NTVlYjk2NjUxMjUyMDA3ZDhjNWVhMzFiZTRhZDE5NmRlOGNlMjEzMWZcIixcbiAgICAgICAgICBcIjY3NDllNjdjMDI5Yjg1ZjUyYTAzNGVhZmQwOTY4MzZiMjUyMDgxODY4MGUyNmFjOGYzZGZiY2RiNzE3NDk3MDBcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCJlM2FlMTk3NDU2NmNhMDZjYzUxNmQ0N2UwZmIxNjVhNjc0YTNkYWJjZmNhMTVlNzIyZjBlMzQ1MGY0NTg4OVwiLFxuICAgICAgICAgIFwiMmFlYWJlN2U0NTMxNTEwMTE2MjE3ZjA3YmY0ZDA3MzAwZGU5N2U0ODc0ZjgxZjUzMzQyMGE3MmVlYjBiZDZhNFwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjU5MWVlMzU1MzEzZDk5NzIxY2Y2OTkzZmZlZDFlM2UzMDE5OTNmZjNlZDI1ODgwMjA3NWVhOGNlZDM5N2UyNDZcIixcbiAgICAgICAgICBcImIwZWE1NThhMTEzYzMwYmVhNjBmYzQ3NzU0NjBjNzkwMWZmMGIwNTNkMjVjYTJiZGVlZTk4ZjFhNGJlNWQxOTZcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCIxMTM5NmQ1NWZkYTU0YzQ5ZjE5YWE5NzMxOGQ4ZGE2MWZhODU4NGU0N2IwODQ5NDUwNzdjZjAzMjU1YjUyOTg0XCIsXG4gICAgICAgICAgXCI5OThjNzRhOGNkNDVhYzAxMjg5ZDU4MzNhN2JlYjQ3NDRmZjUzNmIwMWIyNTdiZTRjNTc2N2JlYTkzZWE1N2E0XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiM2M1ZDJhMWJhMzljNWExNzkwMDAwNzM4YzllMGM0MGI4ZGNkZmQ1NDY4NzU0YjY0MDU1NDAxNTdlMDE3YWE3YVwiLFxuICAgICAgICAgIFwiYjIyODQyNzk5OTVhMzRlMmY5ZDRkZTczOTZmYzE4YjgwZjliOGI5ZmRkMjcwZjY2NjFmNzljYTRjODFiZDI1N1wiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImNjODcwNGI4YTYwYTBkZWZhM2E5OWE3Mjk5ZjJlOWMzZmJjMzk1YWZiMDRhYzA3ODQyNWVmOGExNzkzY2MwMzBcIixcbiAgICAgICAgICBcImJkZDQ2MDM5ZmVlZDE3ODgxZDFlMDg2MmRiMzQ3ZjhjZjM5NWI3NGZjNGJjZGM0ZTk0MGI3NGUzYWMxZjFiMTNcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCJjNTMzZTRmN2VhODU1NWFhY2Q5Nzc3YWM1Y2FkMjliOTdkZDRkZWZjY2M1M2VlN2VhMjA0MTE5YjI4ODliMTk3XCIsXG4gICAgICAgICAgXCI2ZjBhMjU2YmM1ZWZkZjQyOWEyZmI2MjQyZjFhNDNhMmQ5YjkyNWJiNGE0YjNhMjZiYjhlMGY0NWViNTk2MDk2XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiYzE0ZjhmMmNjYjI3ZDZmMTA5ZjZkMDhkMDNjYzk2YTY5YmE4YzM0ZWVjMDdiYmNmNTY2ZDQ4ZTMzZGE2NTkzXCIsXG4gICAgICAgICAgXCJjMzU5ZDY5MjNiYjM5OGY3ZmQ0NDczZTE2ZmUxYzI4NDc1Yjc0MGRkMDk4MDc1ZTZjMGU4NjQ5MTEzZGMzYTM4XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiYTZjYmMzMDQ2YmM2YTQ1MGJhYzI0Nzg5ZmExNzExNWE0Yzk3MzllZDc1ZjhmMjFjZTQ0MWY3MmUwYjkwZTZlZlwiLFxuICAgICAgICAgIFwiMjFhZTdmNDY4MGU4ODliYjEzMDYxOWUyYzBmOTVhMzYwY2ViNTczYzcwNjAzMTM5ODYyYWZkNjE3ZmE5YjlmXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiMzQ3ZDZkOWEwMmM0ODkyN2ViZmI4NmMxMzU5YjFjYWYxMzBhM2MwMjY3ZDExY2U2MzQ0YjM5Zjk5ZDQzY2MzOFwiLFxuICAgICAgICAgIFwiNjBlYTdmNjFhMzUzNTI0ZDFjOTg3ZjZlY2VjOTJmMDg2ZDU2NWFiNjg3ODcwY2IxMjY4OWZmMWUzMWM3NDQ0OFwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImRhNjU0NWQyMTgxZGI4ZDk4M2Y3ZGNiMzc1ZWY1ODY2ZDQ3YzY3YjFiZjMxYzhjZjg1NWVmNzQzN2I3MjY1NmFcIixcbiAgICAgICAgICBcIjQ5Yjk2NzE1YWI2ODc4YTc5ZTc4ZjA3Y2U1NjgwYzVkNjY3MzA1MWI0OTM1YmQ4OTdmZWE4MjRiNzdkYzIwOGFcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCJjNDA3NDdjYzlkMDEyY2IxYTEzYjgxNDgzMDljNmRlN2VjMjVkNjk0NWQ2NTcxNDZiOWQ1OTk0YjhmZWIxMTExXCIsXG4gICAgICAgICAgXCI1Y2E1NjA3NTNiZTJhMTJmYzZkZTZjYWYyY2I0ODk1NjVkYjkzNjE1NmI5NTE0ZTFiYjVlODMwMzdlMGZhMmQ0XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiNGU0MmM4ZWM4MmM5OTc5OGNjZjNhNjEwYmU4NzBlNzgzMzhjN2Y3MTMzNDhiZDM0YzgyMDNlZjQwMzdmMzUwMlwiLFxuICAgICAgICAgIFwiNzU3MWQ3NGVlNWUwZmI5MmE3YThiMzNhMDc3ODMzNDFhNTQ5MjE0NGNjNTRiY2M0MGE5NDQ3MzY5MzYwNjQzN1wiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjM3NzVhYjcwODliYzZhZjgyM2FiYTJlMWFmNzBiMjM2ZDI1MWNhZGIwYzg2NzQzMjg3NTIyYTFiM2IwZGVkZWFcIixcbiAgICAgICAgICBcImJlNTJkMTA3YmNmYTA5ZDhiY2I5NzM2YTgyOGNmYTdmYWM4ZGIxN2JmN2E3NmEyYzQyYWQ5NjE0MDkwMThjZjdcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCJjZWUzMWNiZjdlMzRlYzM3OWQ5NGZiODE0ZDNkNzc1YWQ5NTQ1OTVkMTMxNGJhODg0Njk1OWUzZTgyZjc0ZTI2XCIsXG4gICAgICAgICAgXCI4ZmQ2NGExNGMwNmI1ODljMjZiOTQ3YWUyYmNmNmJmYTAxNDllZjBiZTE0ZWQ0ZDgwZjQ0OGEwMWM0M2IxYzZkXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiYjRmOWVhZWEwOWI2OTE3NjE5ZjZlYTZhNGViNTQ2NGVmZGRiNThmZDQ1YjFlYmVmY2RjMWEwMWQwOGI0Nzk4NlwiLFxuICAgICAgICAgIFwiMzllNWM5OTI1YjVhNTRiMDc0MzNhNGYxOGM2MTcyNmY4YmIxMzFjMDEyY2E1NDJlYjI0YThhYzA3MjAwNjgyYVwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImQ0MjYzZGZjM2QyZGY5MjNhMDE3OWE0ODk2NmQzMGNlODRlMjUxNWFmYzNkY2NjMWI3NzkwNzc5MmViY2M2MGVcIixcbiAgICAgICAgICBcIjYyZGZhZjA3YTBmNzhmZWIzMGUzMGQ2Mjk1ODUzY2UxODllMTI3NzYwYWQ2Y2Y3ZmFlMTY0ZTEyMmEyMDhkNTRcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI0ODQ1NzUyNDgyMGZhNjVhNGY4ZDM1ZWI2OTMwODU3YzAwMzJhY2MwYTRhMmRlNDIyMjMzZWVkYTg5NzYxMmM0XCIsXG4gICAgICAgICAgXCIyNWE3NDhhYjM2Nzk3OWQ5ODczM2MzOGExZmExYzJlN2RjNmNjMDdkYjJkNjBhOWFlN2E3NmFhYTQ5YmQwZjc3XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiZGZlZWVmMTg4MTEwMWYyY2IxMTY0NGYzYTJhZmRmYzIwNDVlMTk5MTkxNTI5MjNmMzY3YTE3NjdjMTFjY2VkYVwiLFxuICAgICAgICAgIFwiZWNmYjcwNTZjZjFkZTA0MmY5NDIwYmFiMzk2NzkzYzBjMzkwYmRlNzRiNGJiZGZmMTZhODNhZTA5YTlhNzUxN1wiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjZkN2VmNmIxNzU0M2Y4MzczYzU3M2Y0NGUxZjM4OTgzNWQ4OWJjYmM2MDYyY2VkMzZjODJkZjgzYjhmYWU4NTlcIixcbiAgICAgICAgICBcImNkNDUwZWMzMzU0Mzg5ODZkZmVmYTEwYzU3ZmVhOWJjYzUyMWEwOTU5YjJkODBiYmY3NGIxOTBkY2E3MTJkMTBcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCJlNzU2MDVkNTkxMDJhNWEyNjg0NTAwZDNiOTkxZjJlM2YzYzg4YjkzMjI1NTQ3MDM1YWYyNWFmNjZlMDQ1NDFmXCIsXG4gICAgICAgICAgXCJmNWM1NDc1NGE4ZjcxZWU1NDBiOWI0ODcyODQ3M2UzMTRmNzI5YWM1MzA4YjA2OTM4MzYwOTkwZTJiZmFkMTI1XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiZWI5ODY2MGY0YzRkZmFhMDZhMmJlNDUzZDUwMjBiYzk5YTBjMmU2MGFiZTM4ODQ1N2RkNDNmZWZiMWVkNjIwY1wiLFxuICAgICAgICAgIFwiNmNiOWE4ODc2ZDljYjg1MjA2MDlhZjNhZGQyNmNkMjBhMGE3Y2Q4YTk0MTExMzFjZTg1ZjQ0MTAwMDk5MjIzZVwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjEzZTg3YjAyN2Q4NTE0ZDM1OTM5ZjJlNjg5MmIxOTkyMjE1NDU5Njk0MTg4ODMzNmRjMzU2M2UzYjhkYmE5NDJcIixcbiAgICAgICAgICBcImZlZjVhM2M2ODA1OWE2ZGVjNWQ2MjQxMTRiZjFlOTFhYWMyYjlkYTU2OGQ2YWJlYjI1NzBkNTU2NDZiOGFkZjFcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCJlZTE2MzAyNmU5ZmQ2ZmUwMTdjMzhmMDZhNWJlNmZjMTI1NDI0YjM3MWNlMjcwOGU3YmY0NDkxNjkxZTU3NjRhXCIsXG4gICAgICAgICAgXCIxYWNiMjUwZjI1NWRkNjFjNDNkOTRjY2M2NzBkMGY1OGY0OWFlM2ZhMTViOTY2MjNlNTQzMGRhMGFkNmM2MmIyXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiYjI2OGY1ZWY5YWQ1MWU0ZDc4ZGUzYTc1MGMyZGM4OWIxZTYyNmQ0MzUwNTg2Nzk5OTkzMmU1ZGIzM2FmM2Q4MFwiLFxuICAgICAgICAgIFwiNWYzMTBkNGIzYzk5YjllYmIxOWY3N2Q0MWMxZGVlMDE4Y2YwZDM0ZmQ0MTkxNjE0MDAzZTk0NWExMjE2ZTQyM1wiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImZmMDdmMzExOGE5ZGYwMzVlOWZhZDg1ZWI2YzdiZmU0MmIwMmYwMWNhOTljZWVhM2JmN2ZmZGJhOTNjNDc1MGRcIixcbiAgICAgICAgICBcIjQzODEzNmQ2MDNlODU4YTNhNWM0NDBjMzhlY2NiYWRkYzFkMjk0MjExNGUyZWRkZDQ3NDBkMDk4Y2VkMWYwZDhcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI4ZDhiOTg1NWM3YzA1MmEzNDE0NmZkMjBmZmI2NThiZWE0YjlmNjllMGQ4MjVlYmVjMTZlOGMzY2UyYjUyNmExXCIsXG4gICAgICAgICAgXCJjZGI1NTllZWRjMmQ3OWY5MjZiYWY0NGZiODRlYTRkNDRiY2Y1MGZlZTUxZDdjZWIzMGUyZTdmNDYzMDM2NzU4XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiNTJkYjBiNTM4NGRmYmYwNWJmYTlkNDcyZDdhZTI2ZGZlNGI4NTFjZWNhOTFiMWViYTU0MjYzMTgwZGEzMmI2M1wiLFxuICAgICAgICAgIFwiYzNiOTk3ZDA1MGVlNWQ0MjNlYmFmNjZhNmRiOWY1N2IzMTgwYzkwMjg3NTY3OWRlOTI0YjY5ZDg0YTdiMzc1XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiZTYyZjk0OTBkM2Q1MWRhNjM5NWVmZDI0ZTgwOTE5Y2M3ZDBmMjljM2YzZmE0OGM2ZmZmNTQzYmVjYmQ0MzM1MlwiLFxuICAgICAgICAgIFwiNmQ4OWFkN2JhNDg3NmIwYjIyYzJjYTI4MGM2ODI4NjJmMzQyYzg1OTFmMWRhZjUxNzBlMDdiZmQ5Y2NhZmE3ZFwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjdmMzBlYTI0NzZiMzk5YjQ5NTc1MDljODhmNzdkMDE5MWFmYTJmZjVjYjdiMTRmZDZkOGU3ZDY1YWFhYjExOTNcIixcbiAgICAgICAgICBcImNhNWVmN2Q0YjIzMWM5NGMzYjE1Mzg5YTVmNjMxMWU5ZGFmZjdiYjY3YjEwM2U5ODgwZWY0YmZmNjM3YWNhZWNcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI1MDk4ZmYxZTFkOWYxNGZiNDZhMjEwZmFkYTZjOTAzZmVmMGZiN2I0YTFkZDFkOWFjNjBhMDM2MTgwMGI3YTAwXCIsXG4gICAgICAgICAgXCI5NzMxMTQxZDgxZmM4ZjgwODRkMzdjNmU3NTQyMDA2YjNlZTFiNDBkNjBkZmU1MzYyYTViMTMyZmQxN2RkYzBcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCIzMmI3OGM3ZGU5ZWU1MTJhNzI4OTViZTZiOWNiZWZhNmUyZjNjNGNjY2U0NDVjOTZiOWYyYzgxZTI3NzhhZDU4XCIsXG4gICAgICAgICAgXCJlZTE4NDlmNTEzZGY3MWUzMmVmYzM4OTZlZTI4MjYwYzczYmI4MDU0N2FlMjI3NWJhNDk3MjM3Nzk0Yzg3NTNjXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiZTJjYjc0ZmRkYzhlOWZiY2QwNzZlZWYyYTdjNzJiMGNlMzdkNTBmMDgyNjlkZmMwNzRiNTgxNTUwNTQ3YTRmN1wiLFxuICAgICAgICAgIFwiZDNhYTJlZDcxYzlkZDIyNDdhNjJkZjA2MjczNmViMGJhZGRlYTllMzYxMjJkMmJlODY0MWFiY2IwMDVjYzRhNFwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjg0Mzg0NDc1NjZkNGQ3YmVkYWRjMjk5NDk2YWIzNTc0MjYwMDlhMzVmMjM1Y2IxNDFiZTBkOTljZDEwYWUzYThcIixcbiAgICAgICAgICBcImM0ZTEwMjA5MTY5ODBhNGRhNWQwMWFjNWU2YWQzMzA3MzRlZjBkNzkwNjYzMWM0ZjIzOTA0MjZiMmVkZDc5MWZcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI0MTYyZDQ4OGI4OTQwMjAzOWI1ODRjNmZjNmMzMDg4NzA1ODdkOWM0NmY2NjBiODc4YWI2NWM4MmM3MTFkNjdlXCIsXG4gICAgICAgICAgXCI2NzE2M2U5MDMyMzYyODlmNzc2ZjIyYzI1ZmI4YTNhZmMxNzMyZjJiODRiNGU5NWRiZGE0N2FlNWEwODUyNjQ5XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiM2ZhZDNmYTg0Y2FmMGYzNGYwZjg5YmZkMmRjZjU0ZmMxNzVkNzY3YWVjM2U1MDY4NGYzYmE0YTRiZjVmNjgzZFwiLFxuICAgICAgICAgIFwiY2QxYmM3Y2I2Y2M0MDdiYjJmMGNhNjQ3YzcxOGE3MzBjZjcxODcyZTdkMGQyYTUzZmEyMGVmY2RmZTYxODI2XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiNjc0ZjI2MDBhMzAwN2EwMDU2OGMxYTdjZTA1ZDA4MTZjMWZiODRiZjEzNzA3OThmMWM2OTUzMmZhZWIxYTg2YlwiLFxuICAgICAgICAgIFwiMjk5ZDIxZjk0MTNmMzNiM2VkZjQzYjI1NzAwNDU4MGI3MGRiNTdkYTBiMTgyMjU5ZTA5ZWVjYzY5ZTBkMzhhNVwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImQzMmY0ZGE1NGFkZTc0YWJiODFiODE1YWQxZmIzYjI2M2Q4MmQ2YzY5MjcxNGJjZmY4N2QyOWJkNWVlOWYwOGZcIixcbiAgICAgICAgICBcImY5NDI5ZTczOGI4ZTUzYjk2OGU5OTAxNmMwNTk3MDc3ODJlMTRmNDUzNTM1OWQ1ODJmYzQxNjkxMGIzZWVhODdcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCIzMGU0ZTY3MDQzNTM4NTU1NmU1OTM2NTcxMzU4NDVkMzZmYmI2OTMxZjcyYjA4Y2IxZWQ5NTRmMWUzY2UzZmY2XCIsXG4gICAgICAgICAgXCI0NjJmOWJjZTYxOTg5ODYzODQ5OTM1MDExM2JiYzliMTBhODc4ZDM1ZGE3MDc0MGRjNjk1YTU1OWViODhkYjdiXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiYmUyMDYyMDAzYzUxY2MzMDA0NjgyOTA0MzMwZTRkZWU3ZjNkY2QxMGIwMWU1ODBiZjE5NzFiMDRkNGNhZDI5N1wiLFxuICAgICAgICAgIFwiNjIxODhiYzQ5ZDYxZTU0Mjg1NzNkNDhhNzRlMWM2NTViMWM2MTA5MDkwNTY4MmEwZDU1NThlZDcyZGNjYjliY1wiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjkzMTQ0NDIzYWNlMzQ1MWVkMjllMGZiOWFjMmFmMjExY2I2ZTg0YTYwMWRmNTk5M2M0MTk4NTlmZmY1ZGYwNGFcIixcbiAgICAgICAgICBcIjdjMTBkZmIxNjRjMzQyNWY1YzcxYTNmOWQ3OTkyMDM4ZjEwNjUyMjRmNzJiYjlkMWQ5MDJhNmQxMzAzN2I0N2NcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCJiMDE1ZjgwNDRmNWZjYmRjZjIxY2EyNmQ2YzM0ZmI4MTk3ODI5MjA1YzdiN2QyYTdjYjY2NDE4YzE1N2IxMTJjXCIsXG4gICAgICAgICAgXCJhYjhjMWUwODZkMDRlODEzNzQ0YTY1NWIyZGY4ZDVmODNiM2NkYzZmYWEzMDg4YzFkM2FlYTE0NTRlM2ExZDVmXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiZDVlOWUxZGE2NDlkOTdkODllNDg2ODExN2E0NjVhM2E0ZjhhMThkZTU3YTE0MGQzNmIzZjJhZjM0MWEyMWI1MlwiLFxuICAgICAgICAgIFwiNGNiMDQ0MzdmMzkxZWQ3MzExMWExM2NjMWQ0ZGQwZGIxNjkzNDY1YzIyNDA0ODBkODk1NWU4NTkyZjI3NDQ3YVwiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcImQzYWU0MTA0N2RkN2NhMDY1ZGJmOGVkNzdiOTkyNDM5OTgzMDA1Y2Q3MmUxNmQ2Zjk5NmE1MzE2ZDM2OTY2YmJcIixcbiAgICAgICAgICBcImJkMWFlYjIxYWQyMmViYjIyYTEwZjAzMDM0MTdjNmQ5NjRmOGNkZDdkZjBhY2E2MTRiMTBkYzE0ZDEyNWFjNDZcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI0NjNlMjc2M2Q4ODVmOTU4ZmM2NmNkZDIyODAwZjBhNDg3MTk3ZDBhODJlMzc3YjQ5ZjgwYWY4N2M4OTdiMDY1XCIsXG4gICAgICAgICAgXCJiZmVmYWNkYjBlNWQwZmQ3ZGYzYTMxMWE5NGRlMDYyYjI2YjgwYzYxZmJjOTc1MDhiNzk5OTI2NzFlZjdjYTdmXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiNzk4NWZkZmQxMjdjMDU2N2M2ZjUzZWMxYmI2M2VjMzE1OGU1OTdjNDBiZmU3NDdjODNjZGRmYzkxMDY0MTkxN1wiLFxuICAgICAgICAgIFwiNjAzYzEyZGFmM2Q5ODYyZWYyYjI1ZmUxZGUyODlhZWQyNGVkMjkxZTBlYzY3MDg3MDNhNWJkNTY3ZjMyZWQwM1wiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjc0YTFhZDZiNWY3NmUzOWRiMmRkMjQ5NDEwZWFjN2Y5OWU3NGM1OWNiODNkMmQwZWQ1ZmYxNTQzZGE3NzAzZTlcIixcbiAgICAgICAgICBcImNjNjE1N2VmMThjOWM2M2NkNjE5M2Q4MzYzMWJiZWEwMDkzZTA5Njg5NDJlOGMzM2Q1NzM3ZmQ3OTBlMGRiMDhcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCIzMDY4MmE1MDcwMzM3NWY2MDJkNDE2NjY0YmExOWI3ZmM5YmFiNDJjNzI3NDc0NjNhNzFkMDg5NmIyMmY2ZGEzXCIsXG4gICAgICAgICAgXCI1NTNlMDRmNmIwMThiNGZhNmM4ZjM5ZTdmMzExZDMxNzYyOTBkMGUwZjE5Y2E3M2YxNzcxNGQ5OTc3YTIyZmY4XCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiOWUyMTU4ZjBkN2MwZDVmMjZjMzc5MWVmZWZhNzk1OTc2NTRlN2EyYjI0NjRmNTJiMWVlNmMxMzQ3NzY5ZWY1N1wiLFxuICAgICAgICAgIFwiNzEyZmNkZDFiOTA1M2YwOTAwM2EzNDgxZmE3NzYyZTlmZmQ3YzhlZjM1YTM4NTA5ZTJmYmYyNjI5MDA4MzczXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiMTc2ZTI2OTg5YTQzYzljZmViYTQwMjljMjAyNTM4YzI4MTcyZTU2NmUzYzRmY2U3MzIyODU3ZjNiZTMyN2Q2NlwiLFxuICAgICAgICAgIFwiZWQ4Y2M5ZDA0YjI5ZWI4NzdkMjcwYjQ4NzhkYzQzYzE5YWVmZDMxZjRlZWUwOWVlN2I0NzgzNGMxZmE0YjFjM1wiXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBcIjc1ZDQ2ZWZlYTM3NzFlNmU2OGFiYjg5YTEzYWQ3NDdlY2YxODkyMzkzZGZjNGYxYjcwMDQ3ODhjNTAzNzRkYThcIixcbiAgICAgICAgICBcIjk4NTIzOTBhOTk1MDc2NzlmZDBiODZmZDJiMzlhODY4ZDdlZmMyMjE1MTM0NmUxYTNjYTQ3MjY1ODZhNmJlZDhcIlxuICAgICAgICBdLFxuICAgICAgICBbXG4gICAgICAgICAgXCI4MDlhMjBjNjdkNjQ5MDBmZmI2OThjNGM4MjVmNmQ1ZjIzMTBmYjA0NTFjODY5MzQ1YjczMTlmNjQ1NjA1NzIxXCIsXG4gICAgICAgICAgXCI5ZTk5NDk4MGQ5OTE3ZTIyYjc2YjA2MTkyN2ZhMDQxNDNkMDk2Y2NjNTQ5NjNlNmE1ZWJmYTVmM2Y4ZTI4NmMxXCJcbiAgICAgICAgXSxcbiAgICAgICAgW1xuICAgICAgICAgIFwiMWIzODkwM2E0M2Y3ZjExNGVkNDUwMGI0ZWFjNzA4M2ZkZWZlY2UxY2YyOWM2MzUyOGQ1NjM0NDZmOTcyYzE4MFwiLFxuICAgICAgICAgIFwiNDAzNmVkYzkzMWE2MGFlODg5MzUzZjc3ZmQ1M2RlNGEyNzA4YjI2YjZmNWRhNzJhZDMzOTQxMTlkYWY0MDhmOVwiXG4gICAgICAgIF1cbiAgICAgIF1cbiAgICB9XG4gIH0pLCBZYTtcbn1cbihmdW5jdGlvbihyKSB7XG4gIHZhciBlID0gciwgdCA9IG5zLCBpID0gWW8sIG4gPSBhciwgcyA9IG4uYXNzZXJ0O1xuICBmdW5jdGlvbiBvKGQpIHtcbiAgICBkLnR5cGUgPT09IFwic2hvcnRcIiA/IHRoaXMuY3VydmUgPSBuZXcgaS5zaG9ydChkKSA6IGQudHlwZSA9PT0gXCJlZHdhcmRzXCIgPyB0aGlzLmN1cnZlID0gbmV3IGkuZWR3YXJkcyhkKSA6IHRoaXMuY3VydmUgPSBuZXcgaS5tb250KGQpLCB0aGlzLmcgPSB0aGlzLmN1cnZlLmcsIHRoaXMubiA9IHRoaXMuY3VydmUubiwgdGhpcy5oYXNoID0gZC5oYXNoLCBzKHRoaXMuZy52YWxpZGF0ZSgpLCBcIkludmFsaWQgY3VydmVcIiksIHModGhpcy5nLm11bCh0aGlzLm4pLmlzSW5maW5pdHkoKSwgXCJJbnZhbGlkIGN1cnZlLCBHKk4gIT0gT1wiKTtcbiAgfVxuICBlLlByZXNldEN1cnZlID0gbztcbiAgZnVuY3Rpb24gZihkLCB2KSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIGQsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICBlbnVtZXJhYmxlOiAhMCxcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB3ID0gbmV3IG8odik7XG4gICAgICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgZCwge1xuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogITAsXG4gICAgICAgICAgZW51bWVyYWJsZTogITAsXG4gICAgICAgICAgdmFsdWU6IHdcbiAgICAgICAgfSksIHc7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZihcInAxOTJcIiwge1xuICAgIHR5cGU6IFwic2hvcnRcIixcbiAgICBwcmltZTogXCJwMTkyXCIsXG4gICAgcDogXCJmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZSBmZmZmZmZmZiBmZmZmZmZmZlwiLFxuICAgIGE6IFwiZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmUgZmZmZmZmZmYgZmZmZmZmZmNcIixcbiAgICBiOiBcIjY0MjEwNTE5IGU1OWM4MGU3IDBmYTdlOWFiIDcyMjQzMDQ5IGZlYjhkZWVjIGMxNDZiOWIxXCIsXG4gICAgbjogXCJmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiA5OWRlZjgzNiAxNDZiYzliMSBiNGQyMjgzMVwiLFxuICAgIGhhc2g6IHQuc2hhMjU2LFxuICAgIGdSZWQ6ICExLFxuICAgIGc6IFtcbiAgICAgIFwiMTg4ZGE4MGUgYjAzMDkwZjYgN2NiZjIwZWIgNDNhMTg4MDAgZjRmZjBhZmQgODJmZjEwMTJcIixcbiAgICAgIFwiMDcxOTJiOTUgZmZjOGRhNzggNjMxMDExZWQgNmIyNGNkZDUgNzNmOTc3YTEgMWU3OTQ4MTFcIlxuICAgIF1cbiAgfSksIGYoXCJwMjI0XCIsIHtcbiAgICB0eXBlOiBcInNob3J0XCIsXG4gICAgcHJpbWU6IFwicDIyNFwiLFxuICAgIHA6IFwiZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgMDAwMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDFcIixcbiAgICBhOiBcImZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZlIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZlXCIsXG4gICAgYjogXCJiNDA1MGE4NSAwYzA0YjNhYiBmNTQxMzI1NiA1MDQ0YjBiNyBkN2JmZDhiYSAyNzBiMzk0MyAyMzU1ZmZiNFwiLFxuICAgIG46IFwiZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZjE2YTIgZTBiOGYwM2UgMTNkZDI5NDUgNWM1YzJhM2RcIixcbiAgICBoYXNoOiB0LnNoYTI1NixcbiAgICBnUmVkOiAhMSxcbiAgICBnOiBbXG4gICAgICBcImI3MGUwY2JkIDZiYjRiZjdmIDMyMTM5MGI5IDRhMDNjMWQzIDU2YzIxMTIyIDM0MzI4MGQ2IDExNWMxZDIxXCIsXG4gICAgICBcImJkMzc2Mzg4IGI1ZjcyM2ZiIDRjMjJkZmU2IGNkNDM3NWEwIDVhMDc0NzY0IDQ0ZDU4MTk5IDg1MDA3ZTM0XCJcbiAgICBdXG4gIH0pLCBmKFwicDI1NlwiLCB7XG4gICAgdHlwZTogXCJzaG9ydFwiLFxuICAgIHByaW1lOiBudWxsLFxuICAgIHA6IFwiZmZmZmZmZmYgMDAwMDAwMDEgMDAwMDAwMDAgMDAwMDAwMDAgMDAwMDAwMDAgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmZcIixcbiAgICBhOiBcImZmZmZmZmZmIDAwMDAwMDAxIDAwMDAwMDAwIDAwMDAwMDAwIDAwMDAwMDAwIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZjXCIsXG4gICAgYjogXCI1YWM2MzVkOCBhYTNhOTNlNyBiM2ViYmQ1NSA3Njk4ODZiYyA2NTFkMDZiMCBjYzUzYjBmNiAzYmNlM2MzZSAyN2QyNjA0YlwiLFxuICAgIG46IFwiZmZmZmZmZmYgMDAwMDAwMDAgZmZmZmZmZmYgZmZmZmZmZmYgYmNlNmZhYWQgYTcxNzllODQgZjNiOWNhYzIgZmM2MzI1NTFcIixcbiAgICBoYXNoOiB0LnNoYTI1NixcbiAgICBnUmVkOiAhMSxcbiAgICBnOiBbXG4gICAgICBcIjZiMTdkMWYyIGUxMmM0MjQ3IGY4YmNlNmU1IDYzYTQ0MGYyIDc3MDM3ZDgxIDJkZWIzM2EwIGY0YTEzOTQ1IGQ4OThjMjk2XCIsXG4gICAgICBcIjRmZTM0MmUyIGZlMWE3ZjliIDhlZTdlYjRhIDdjMGY5ZTE2IDJiY2UzMzU3IDZiMzE1ZWNlIGNiYjY0MDY4IDM3YmY1MWY1XCJcbiAgICBdXG4gIH0pLCBmKFwicDM4NFwiLCB7XG4gICAgdHlwZTogXCJzaG9ydFwiLFxuICAgIHByaW1lOiBudWxsLFxuICAgIHA6IFwiZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmUgZmZmZmZmZmYgMDAwMDAwMDAgMDAwMDAwMDAgZmZmZmZmZmZcIixcbiAgICBhOiBcImZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZlIGZmZmZmZmZmIDAwMDAwMDAwIDAwMDAwMDAwIGZmZmZmZmZjXCIsXG4gICAgYjogXCJiMzMxMmZhNyBlMjNlZTdlNCA5ODhlMDU2YiBlM2Y4MmQxOSAxODFkOWM2ZSBmZTgxNDExMiAwMzE0MDg4ZiA1MDEzODc1YSBjNjU2Mzk4ZCA4YTJlZDE5ZCAyYTg1YzhlZCBkM2VjMmFlZlwiLFxuICAgIG46IFwiZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgYzc2MzRkODEgZjQzNzJkZGYgNTgxYTBkYjIgNDhiMGE3N2EgZWNlYzE5NmEgY2NjNTI5NzNcIixcbiAgICBoYXNoOiB0LnNoYTM4NCxcbiAgICBnUmVkOiAhMSxcbiAgICBnOiBbXG4gICAgICBcImFhODdjYTIyIGJlOGIwNTM3IDhlYjFjNzFlIGYzMjBhZDc0IDZlMWQzYjYyIDhiYTc5Yjk4IDU5Zjc0MWUwIDgyNTQyYTM4IDU1MDJmMjVkIGJmNTUyOTZjIDNhNTQ1ZTM4IDcyNzYwYWI3XCIsXG4gICAgICBcIjM2MTdkZTRhIDk2MjYyYzZmIDVkOWU5OGJmIDkyOTJkYzI5IGY4ZjQxZGJkIDI4OWExNDdjIGU5ZGEzMTEzIGI1ZjBiOGMwIDBhNjBiMWNlIDFkN2U4MTlkIDdhNDMxZDdjIDkwZWEwZTVmXCJcbiAgICBdXG4gIH0pLCBmKFwicDUyMVwiLCB7XG4gICAgdHlwZTogXCJzaG9ydFwiLFxuICAgIHByaW1lOiBudWxsLFxuICAgIHA6IFwiMDAwMDAxZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmZcIixcbiAgICBhOiBcIjAwMDAwMWZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZjXCIsXG4gICAgYjogXCIwMDAwMDA1MSA5NTNlYjk2MSA4ZTFjOWExZiA5MjlhMjFhMCBiNjg1NDBlZSBhMmRhNzI1YiA5OWIzMTVmMyBiOGI0ODk5MSA4ZWYxMDllMSA1NjE5Mzk1MSBlYzdlOTM3YiAxNjUyYzBiZCAzYmIxYmYwNyAzNTczZGY4OCAzZDJjMzRmMSBlZjQ1MWZkNCA2YjUwM2YwMFwiLFxuICAgIG46IFwiMDAwMDAxZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmYgZmZmZmZmZmEgNTE4Njg3ODMgYmYyZjk2NmIgN2ZjYzAxNDggZjcwOWE1ZDAgM2JiNWM5YjggODk5YzQ3YWUgYmI2ZmI3MWUgOTEzODY0MDlcIixcbiAgICBoYXNoOiB0LnNoYTUxMixcbiAgICBnUmVkOiAhMSxcbiAgICBnOiBbXG4gICAgICBcIjAwMDAwMGM2IDg1OGUwNmI3IDA0MDRlOWNkIDllM2VjYjY2IDIzOTViNDQyIDljNjQ4MTM5IDA1M2ZiNTIxIGY4MjhhZjYwIDZiNGQzZGJhIGExNGI1ZTc3IGVmZTc1OTI4IGZlMWRjMTI3IGEyZmZhOGRlIDMzNDhiM2MxIDg1NmE0MjliIGY5N2U3ZTMxIGMyZTViZDY2XCIsXG4gICAgICBcIjAwMDAwMTE4IDM5Mjk2YTc4IDlhM2JjMDA0IDVjOGE1ZmI0IDJjN2QxYmQ5IDk4ZjU0NDQ5IDU3OWI0NDY4IDE3YWZiZDE3IDI3M2U2NjJjIDk3ZWU3Mjk5IDVlZjQyNjQwIGM1NTBiOTAxIDNmYWQwNzYxIDM1M2M3MDg2IGEyNzJjMjQwIDg4YmU5NDc2IDlmZDE2NjUwXCJcbiAgICBdXG4gIH0pLCBmKFwiY3VydmUyNTUxOVwiLCB7XG4gICAgdHlwZTogXCJtb250XCIsXG4gICAgcHJpbWU6IFwicDI1NTE5XCIsXG4gICAgcDogXCI3ZmZmZmZmZmZmZmZmZmZmIGZmZmZmZmZmZmZmZmZmZmYgZmZmZmZmZmZmZmZmZmZmZiBmZmZmZmZmZmZmZmZmZmVkXCIsXG4gICAgYTogXCI3NmQwNlwiLFxuICAgIGI6IFwiMVwiLFxuICAgIG46IFwiMTAwMDAwMDAwMDAwMDAwMCAwMDAwMDAwMDAwMDAwMDAwIDE0ZGVmOWRlYTJmNzljZDYgNTgxMjYzMWE1Y2Y1ZDNlZFwiLFxuICAgIGhhc2g6IHQuc2hhMjU2LFxuICAgIGdSZWQ6ICExLFxuICAgIGc6IFtcbiAgICAgIFwiOVwiXG4gICAgXVxuICB9KSwgZihcImVkMjU1MTlcIiwge1xuICAgIHR5cGU6IFwiZWR3YXJkc1wiLFxuICAgIHByaW1lOiBcInAyNTUxOVwiLFxuICAgIHA6IFwiN2ZmZmZmZmZmZmZmZmZmZiBmZmZmZmZmZmZmZmZmZmZmIGZmZmZmZmZmZmZmZmZmZmYgZmZmZmZmZmZmZmZmZmZlZFwiLFxuICAgIGE6IFwiLTFcIixcbiAgICBjOiBcIjFcIixcbiAgICAvLyAtMTIxNjY1ICogKDEyMTY2Nl4oLTEpKSAobW9kIFApXG4gICAgZDogXCI1MjAzNmNlZTJiNmZmZTczIDhjYzc0MDc5Nzc3OWU4OTggMDA3MDBhNGQ0MTQxZDhhYiA3NWViNGRjYTEzNTk3OGEzXCIsXG4gICAgbjogXCIxMDAwMDAwMDAwMDAwMDAwIDAwMDAwMDAwMDAwMDAwMDAgMTRkZWY5ZGVhMmY3OWNkNiA1ODEyNjMxYTVjZjVkM2VkXCIsXG4gICAgaGFzaDogdC5zaGEyNTYsXG4gICAgZ1JlZDogITEsXG4gICAgZzogW1xuICAgICAgXCIyMTY5MzZkM2NkNmU1M2ZlYzBhNGUyMzFmZGQ2ZGM1YzY5MmNjNzYwOTUyNWE3YjJjOTU2MmQ2MDhmMjVkNTFhXCIsXG4gICAgICAvLyA0LzVcbiAgICAgIFwiNjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY1OFwiXG4gICAgXVxuICB9KTtcbiAgdmFyIGg7XG4gIHRyeSB7XG4gICAgaCA9IHcyKCk7XG4gIH0gY2F0Y2gge1xuICAgIGggPSB2b2lkIDA7XG4gIH1cbiAgZihcInNlY3AyNTZrMVwiLCB7XG4gICAgdHlwZTogXCJzaG9ydFwiLFxuICAgIHByaW1lOiBcImsyNTZcIixcbiAgICBwOiBcImZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZmIGZmZmZmZmZlIGZmZmZmYzJmXCIsXG4gICAgYTogXCIwXCIsXG4gICAgYjogXCI3XCIsXG4gICAgbjogXCJmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZiBmZmZmZmZmZSBiYWFlZGNlNiBhZjQ4YTAzYiBiZmQyNWU4YyBkMDM2NDE0MVwiLFxuICAgIGg6IFwiMVwiLFxuICAgIGhhc2g6IHQuc2hhMjU2LFxuICAgIC8vIFByZWNvbXB1dGVkIGVuZG9tb3JwaGlzbVxuICAgIGJldGE6IFwiN2FlOTZhMmI2NTdjMDcxMDZlNjQ0NzllYWMzNDM0ZTk5Y2YwNDk3NTEyZjU4OTk1YzEzOTZjMjg3MTk1MDFlZVwiLFxuICAgIGxhbWJkYTogXCI1MzYzYWQ0Y2MwNWMzMGUwYTUyNjFjMDI4ODEyNjQ1YTEyMmUyMmVhMjA4MTY2NzhkZjAyOTY3YzFiMjNiZDcyXCIsXG4gICAgYmFzaXM6IFtcbiAgICAgIHtcbiAgICAgICAgYTogXCIzMDg2ZDIyMWE3ZDQ2YmNkZTg2YzkwZTQ5Mjg0ZWIxNVwiLFxuICAgICAgICBiOiBcIi1lNDQzN2VkNjAxMGU4ODI4NmY1NDdmYTkwYWJmZTRjM1wiXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBhOiBcIjExNGNhNTBmN2E4ZTJmM2Y2NTdjMTEwOGQ5ZDQ0Y2ZkOFwiLFxuICAgICAgICBiOiBcIjMwODZkMjIxYTdkNDZiY2RlODZjOTBlNDkyODRlYjE1XCJcbiAgICAgIH1cbiAgICBdLFxuICAgIGdSZWQ6ICExLFxuICAgIGc6IFtcbiAgICAgIFwiNzliZTY2N2VmOWRjYmJhYzU1YTA2Mjk1Y2U4NzBiMDcwMjliZmNkYjJkY2UyOGQ5NTlmMjgxNWIxNmY4MTc5OFwiLFxuICAgICAgXCI0ODNhZGE3NzI2YTNjNDY1NWRhNGZiZmMwZTExMDhhOGZkMTdiNDQ4YTY4NTU0MTk5YzQ3ZDA4ZmZiMTBkNGI4XCIsXG4gICAgICBoXG4gICAgXVxuICB9KTtcbn0pKG1hKTtcbnZhciBfMiA9IG5zLCBraSA9IEdvLCBHdSA9IFlpO1xuZnVuY3Rpb24geGkocikge1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgeGkpKVxuICAgIHJldHVybiBuZXcgeGkocik7XG4gIHRoaXMuaGFzaCA9IHIuaGFzaCwgdGhpcy5wcmVkUmVzaXN0ID0gISFyLnByZWRSZXNpc3QsIHRoaXMub3V0TGVuID0gdGhpcy5oYXNoLm91dFNpemUsIHRoaXMubWluRW50cm9weSA9IHIubWluRW50cm9weSB8fCB0aGlzLmhhc2guaG1hY1N0cmVuZ3RoLCB0aGlzLl9yZXNlZWQgPSBudWxsLCB0aGlzLnJlc2VlZEludGVydmFsID0gbnVsbCwgdGhpcy5LID0gbnVsbCwgdGhpcy5WID0gbnVsbDtcbiAgdmFyIGUgPSBraS50b0FycmF5KHIuZW50cm9weSwgci5lbnRyb3B5RW5jIHx8IFwiaGV4XCIpLCB0ID0ga2kudG9BcnJheShyLm5vbmNlLCByLm5vbmNlRW5jIHx8IFwiaGV4XCIpLCBpID0ga2kudG9BcnJheShyLnBlcnMsIHIucGVyc0VuYyB8fCBcImhleFwiKTtcbiAgR3UoXG4gICAgZS5sZW5ndGggPj0gdGhpcy5taW5FbnRyb3B5IC8gOCxcbiAgICBcIk5vdCBlbm91Z2ggZW50cm9weS4gTWluaW11bSBpczogXCIgKyB0aGlzLm1pbkVudHJvcHkgKyBcIiBiaXRzXCJcbiAgKSwgdGhpcy5faW5pdChlLCB0LCBpKTtcbn1cbnZhciB4MiA9IHhpO1xueGkucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24oZSwgdCwgaSkge1xuICB2YXIgbiA9IGUuY29uY2F0KHQpLmNvbmNhdChpKTtcbiAgdGhpcy5LID0gbmV3IEFycmF5KHRoaXMub3V0TGVuIC8gOCksIHRoaXMuViA9IG5ldyBBcnJheSh0aGlzLm91dExlbiAvIDgpO1xuICBmb3IgKHZhciBzID0gMDsgcyA8IHRoaXMuVi5sZW5ndGg7IHMrKylcbiAgICB0aGlzLktbc10gPSAwLCB0aGlzLlZbc10gPSAxO1xuICB0aGlzLl91cGRhdGUobiksIHRoaXMuX3Jlc2VlZCA9IDEsIHRoaXMucmVzZWVkSW50ZXJ2YWwgPSAyODE0NzQ5NzY3MTA2NTY7XG59O1xueGkucHJvdG90eXBlLl9obWFjID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgXzIuaG1hYyh0aGlzLmhhc2gsIHRoaXMuSyk7XG59O1xueGkucHJvdG90eXBlLl91cGRhdGUgPSBmdW5jdGlvbihlKSB7XG4gIHZhciB0ID0gdGhpcy5faG1hYygpLnVwZGF0ZSh0aGlzLlYpLnVwZGF0ZShbMF0pO1xuICBlICYmICh0ID0gdC51cGRhdGUoZSkpLCB0aGlzLksgPSB0LmRpZ2VzdCgpLCB0aGlzLlYgPSB0aGlzLl9obWFjKCkudXBkYXRlKHRoaXMuVikuZGlnZXN0KCksIGUgJiYgKHRoaXMuSyA9IHRoaXMuX2htYWMoKS51cGRhdGUodGhpcy5WKS51cGRhdGUoWzFdKS51cGRhdGUoZSkuZGlnZXN0KCksIHRoaXMuViA9IHRoaXMuX2htYWMoKS51cGRhdGUodGhpcy5WKS5kaWdlc3QoKSk7XG59O1xueGkucHJvdG90eXBlLnJlc2VlZCA9IGZ1bmN0aW9uKGUsIHQsIGksIG4pIHtcbiAgdHlwZW9mIHQgIT0gXCJzdHJpbmdcIiAmJiAobiA9IGksIGkgPSB0LCB0ID0gbnVsbCksIGUgPSBraS50b0FycmF5KGUsIHQpLCBpID0ga2kudG9BcnJheShpLCBuKSwgR3UoXG4gICAgZS5sZW5ndGggPj0gdGhpcy5taW5FbnRyb3B5IC8gOCxcbiAgICBcIk5vdCBlbm91Z2ggZW50cm9weS4gTWluaW11bSBpczogXCIgKyB0aGlzLm1pbkVudHJvcHkgKyBcIiBiaXRzXCJcbiAgKSwgdGhpcy5fdXBkYXRlKGUuY29uY2F0KGkgfHwgW10pKSwgdGhpcy5fcmVzZWVkID0gMTtcbn07XG54aS5wcm90b3R5cGUuZ2VuZXJhdGUgPSBmdW5jdGlvbihlLCB0LCBpLCBuKSB7XG4gIGlmICh0aGlzLl9yZXNlZWQgPiB0aGlzLnJlc2VlZEludGVydmFsKVxuICAgIHRocm93IG5ldyBFcnJvcihcIlJlc2VlZCBpcyByZXF1aXJlZFwiKTtcbiAgdHlwZW9mIHQgIT0gXCJzdHJpbmdcIiAmJiAobiA9IGksIGkgPSB0LCB0ID0gbnVsbCksIGkgJiYgKGkgPSBraS50b0FycmF5KGksIG4gfHwgXCJoZXhcIiksIHRoaXMuX3VwZGF0ZShpKSk7XG4gIGZvciAodmFyIHMgPSBbXTsgcy5sZW5ndGggPCBlOyApXG4gICAgdGhpcy5WID0gdGhpcy5faG1hYygpLnVwZGF0ZSh0aGlzLlYpLmRpZ2VzdCgpLCBzID0gcy5jb25jYXQodGhpcy5WKTtcbiAgdmFyIG8gPSBzLnNsaWNlKDAsIGUpO1xuICByZXR1cm4gdGhpcy5fdXBkYXRlKGkpLCB0aGlzLl9yZXNlZWQrKywga2kuZW5jb2RlKG8sIHQpO1xufTtcbnZhciBFMiA9IGxpLCBTMiA9IGFyLCBNbyA9IFMyLmFzc2VydDtcbmZ1bmN0aW9uIFV0KHIsIGUpIHtcbiAgdGhpcy5lYyA9IHIsIHRoaXMucHJpdiA9IG51bGwsIHRoaXMucHViID0gbnVsbCwgZS5wcml2ICYmIHRoaXMuX2ltcG9ydFByaXZhdGUoZS5wcml2LCBlLnByaXZFbmMpLCBlLnB1YiAmJiB0aGlzLl9pbXBvcnRQdWJsaWMoZS5wdWIsIGUucHViRW5jKTtcbn1cbnZhciBNMiA9IFV0O1xuVXQuZnJvbVB1YmxpYyA9IGZ1bmN0aW9uKGUsIHQsIGkpIHtcbiAgcmV0dXJuIHQgaW5zdGFuY2VvZiBVdCA/IHQgOiBuZXcgVXQoZSwge1xuICAgIHB1YjogdCxcbiAgICBwdWJFbmM6IGlcbiAgfSk7XG59O1xuVXQuZnJvbVByaXZhdGUgPSBmdW5jdGlvbihlLCB0LCBpKSB7XG4gIHJldHVybiB0IGluc3RhbmNlb2YgVXQgPyB0IDogbmV3IFV0KGUsIHtcbiAgICBwcml2OiB0LFxuICAgIHByaXZFbmM6IGlcbiAgfSk7XG59O1xuVXQucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24oKSB7XG4gIHZhciBlID0gdGhpcy5nZXRQdWJsaWMoKTtcbiAgcmV0dXJuIGUuaXNJbmZpbml0eSgpID8geyByZXN1bHQ6ICExLCByZWFzb246IFwiSW52YWxpZCBwdWJsaWMga2V5XCIgfSA6IGUudmFsaWRhdGUoKSA/IGUubXVsKHRoaXMuZWMuY3VydmUubikuaXNJbmZpbml0eSgpID8geyByZXN1bHQ6ICEwLCByZWFzb246IG51bGwgfSA6IHsgcmVzdWx0OiAhMSwgcmVhc29uOiBcIlB1YmxpYyBrZXkgKiBOICE9IE9cIiB9IDogeyByZXN1bHQ6ICExLCByZWFzb246IFwiUHVibGljIGtleSBpcyBub3QgYSBwb2ludFwiIH07XG59O1xuVXQucHJvdG90eXBlLmdldFB1YmxpYyA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgcmV0dXJuIHR5cGVvZiBlID09IFwic3RyaW5nXCIgJiYgKHQgPSBlLCBlID0gbnVsbCksIHRoaXMucHViIHx8ICh0aGlzLnB1YiA9IHRoaXMuZWMuZy5tdWwodGhpcy5wcml2KSksIHQgPyB0aGlzLnB1Yi5lbmNvZGUodCwgZSkgOiB0aGlzLnB1Yjtcbn07XG5VdC5wcm90b3R5cGUuZ2V0UHJpdmF0ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGUgPT09IFwiaGV4XCIgPyB0aGlzLnByaXYudG9TdHJpbmcoMTYsIDIpIDogdGhpcy5wcml2O1xufTtcblV0LnByb3RvdHlwZS5faW1wb3J0UHJpdmF0ZSA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgdGhpcy5wcml2ID0gbmV3IEUyKGUsIHQgfHwgMTYpLCB0aGlzLnByaXYgPSB0aGlzLnByaXYudW1vZCh0aGlzLmVjLmN1cnZlLm4pO1xufTtcblV0LnByb3RvdHlwZS5faW1wb3J0UHVibGljID0gZnVuY3Rpb24oZSwgdCkge1xuICBpZiAoZS54IHx8IGUueSkge1xuICAgIHRoaXMuZWMuY3VydmUudHlwZSA9PT0gXCJtb250XCIgPyBNbyhlLngsIFwiTmVlZCB4IGNvb3JkaW5hdGVcIikgOiAodGhpcy5lYy5jdXJ2ZS50eXBlID09PSBcInNob3J0XCIgfHwgdGhpcy5lYy5jdXJ2ZS50eXBlID09PSBcImVkd2FyZHNcIikgJiYgTW8oZS54ICYmIGUueSwgXCJOZWVkIGJvdGggeCBhbmQgeSBjb29yZGluYXRlXCIpLCB0aGlzLnB1YiA9IHRoaXMuZWMuY3VydmUucG9pbnQoZS54LCBlLnkpO1xuICAgIHJldHVybjtcbiAgfVxuICB0aGlzLnB1YiA9IHRoaXMuZWMuY3VydmUuZGVjb2RlUG9pbnQoZSwgdCk7XG59O1xuVXQucHJvdG90eXBlLmRlcml2ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGUudmFsaWRhdGUoKSB8fCBNbyhlLnZhbGlkYXRlKCksIFwicHVibGljIHBvaW50IG5vdCB2YWxpZGF0ZWRcIiksIGUubXVsKHRoaXMucHJpdikuZ2V0WCgpO1xufTtcblV0LnByb3RvdHlwZS5zaWduID0gZnVuY3Rpb24oZSwgdCwgaSkge1xuICByZXR1cm4gdGhpcy5lYy5zaWduKGUsIHRoaXMsIHQsIGkpO1xufTtcblV0LnByb3RvdHlwZS52ZXJpZnkgPSBmdW5jdGlvbihlLCB0LCBpKSB7XG4gIHJldHVybiB0aGlzLmVjLnZlcmlmeShlLCB0LCB0aGlzLCB2b2lkIDAsIGkpO1xufTtcblV0LnByb3RvdHlwZS5pbnNwZWN0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBcIjxLZXkgcHJpdjogXCIgKyAodGhpcy5wcml2ICYmIHRoaXMucHJpdi50b1N0cmluZygxNiwgMikpICsgXCIgcHViOiBcIiArICh0aGlzLnB1YiAmJiB0aGlzLnB1Yi5pbnNwZWN0KCkpICsgXCIgPlwiO1xufTtcbnZhciBXcyA9IGxpLCBabyA9IGFyLCBJMiA9IFpvLmFzc2VydDtcbmZ1bmN0aW9uIHdhKHIsIGUpIHtcbiAgaWYgKHIgaW5zdGFuY2VvZiB3YSlcbiAgICByZXR1cm4gcjtcbiAgdGhpcy5faW1wb3J0REVSKHIsIGUpIHx8IChJMihyLnIgJiYgci5zLCBcIlNpZ25hdHVyZSB3aXRob3V0IHIgb3Igc1wiKSwgdGhpcy5yID0gbmV3IFdzKHIuciwgMTYpLCB0aGlzLnMgPSBuZXcgV3Moci5zLCAxNiksIHIucmVjb3ZlcnlQYXJhbSA9PT0gdm9pZCAwID8gdGhpcy5yZWNvdmVyeVBhcmFtID0gbnVsbCA6IHRoaXMucmVjb3ZlcnlQYXJhbSA9IHIucmVjb3ZlcnlQYXJhbSk7XG59XG52YXIgQTIgPSB3YTtcbmZ1bmN0aW9uIEQyKCkge1xuICB0aGlzLnBsYWNlID0gMDtcbn1cbmZ1bmN0aW9uIFhhKHIsIGUpIHtcbiAgdmFyIHQgPSByW2UucGxhY2UrK107XG4gIGlmICghKHQgJiAxMjgpKVxuICAgIHJldHVybiB0O1xuICB2YXIgaSA9IHQgJiAxNTtcbiAgaWYgKGkgPT09IDAgfHwgaSA+IDQgfHwgcltlLnBsYWNlXSA9PT0gMClcbiAgICByZXR1cm4gITE7XG4gIGZvciAodmFyIG4gPSAwLCBzID0gMCwgbyA9IGUucGxhY2U7IHMgPCBpOyBzKyssIG8rKylcbiAgICBuIDw8PSA4LCBuIHw9IHJbb10sIG4gPj4+PSAwO1xuICByZXR1cm4gbiA8PSAxMjcgPyAhMSA6IChlLnBsYWNlID0gbywgbik7XG59XG5mdW5jdGlvbiBtYyhyKSB7XG4gIGZvciAodmFyIGUgPSAwLCB0ID0gci5sZW5ndGggLSAxOyAhcltlXSAmJiAhKHJbZSArIDFdICYgMTI4KSAmJiBlIDwgdDsgKVxuICAgIGUrKztcbiAgcmV0dXJuIGUgPT09IDAgPyByIDogci5zbGljZShlKTtcbn1cbndhLnByb3RvdHlwZS5faW1wb3J0REVSID0gZnVuY3Rpb24oZSwgdCkge1xuICBlID0gWm8udG9BcnJheShlLCB0KTtcbiAgdmFyIGkgPSBuZXcgRDIoKTtcbiAgaWYgKGVbaS5wbGFjZSsrXSAhPT0gNDgpXG4gICAgcmV0dXJuICExO1xuICB2YXIgbiA9IFhhKGUsIGkpO1xuICBpZiAobiA9PT0gITEgfHwgbiArIGkucGxhY2UgIT09IGUubGVuZ3RoIHx8IGVbaS5wbGFjZSsrXSAhPT0gMilcbiAgICByZXR1cm4gITE7XG4gIHZhciBzID0gWGEoZSwgaSk7XG4gIGlmIChzID09PSAhMSB8fCBlW2kucGxhY2VdICYgMTI4KVxuICAgIHJldHVybiAhMTtcbiAgdmFyIG8gPSBlLnNsaWNlKGkucGxhY2UsIHMgKyBpLnBsYWNlKTtcbiAgaWYgKGkucGxhY2UgKz0gcywgZVtpLnBsYWNlKytdICE9PSAyKVxuICAgIHJldHVybiAhMTtcbiAgdmFyIGYgPSBYYShlLCBpKTtcbiAgaWYgKGYgPT09ICExIHx8IGUubGVuZ3RoICE9PSBmICsgaS5wbGFjZSB8fCBlW2kucGxhY2VdICYgMTI4KVxuICAgIHJldHVybiAhMTtcbiAgdmFyIGggPSBlLnNsaWNlKGkucGxhY2UsIGYgKyBpLnBsYWNlKTtcbiAgaWYgKG9bMF0gPT09IDApXG4gICAgaWYgKG9bMV0gJiAxMjgpXG4gICAgICBvID0gby5zbGljZSgxKTtcbiAgICBlbHNlXG4gICAgICByZXR1cm4gITE7XG4gIGlmIChoWzBdID09PSAwKVxuICAgIGlmIChoWzFdICYgMTI4KVxuICAgICAgaCA9IGguc2xpY2UoMSk7XG4gICAgZWxzZVxuICAgICAgcmV0dXJuICExO1xuICByZXR1cm4gdGhpcy5yID0gbmV3IFdzKG8pLCB0aGlzLnMgPSBuZXcgV3MoaCksIHRoaXMucmVjb3ZlcnlQYXJhbSA9IG51bGwsICEwO1xufTtcbmZ1bmN0aW9uIFphKHIsIGUpIHtcbiAgaWYgKGUgPCAxMjgpIHtcbiAgICByLnB1c2goZSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciB0ID0gMSArIChNYXRoLmxvZyhlKSAvIE1hdGguTE4yID4+PiAzKTtcbiAgZm9yIChyLnB1c2godCB8IDEyOCk7IC0tdDsgKVxuICAgIHIucHVzaChlID4+PiAodCA8PCAzKSAmIDI1NSk7XG4gIHIucHVzaChlKTtcbn1cbndhLnByb3RvdHlwZS50b0RFUiA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSB0aGlzLnIudG9BcnJheSgpLCBpID0gdGhpcy5zLnRvQXJyYXkoKTtcbiAgZm9yICh0WzBdICYgMTI4ICYmICh0ID0gWzBdLmNvbmNhdCh0KSksIGlbMF0gJiAxMjggJiYgKGkgPSBbMF0uY29uY2F0KGkpKSwgdCA9IG1jKHQpLCBpID0gbWMoaSk7ICFpWzBdICYmICEoaVsxXSAmIDEyOCk7IClcbiAgICBpID0gaS5zbGljZSgxKTtcbiAgdmFyIG4gPSBbMl07XG4gIFphKG4sIHQubGVuZ3RoKSwgbiA9IG4uY29uY2F0KHQpLCBuLnB1c2goMiksIFphKG4sIGkubGVuZ3RoKTtcbiAgdmFyIHMgPSBuLmNvbmNhdChpKSwgbyA9IFs0OF07XG4gIHJldHVybiBaYShvLCBzLmxlbmd0aCksIG8gPSBvLmNvbmNhdChzKSwgWm8uZW5jb2RlKG8sIGUpO1xufTtcbnZhciBJciA9IGxpLCBKdSA9IHgyLCBQMiA9IGFyLCBRYSA9IG1hLCBPMiA9IEh1LCBGaSA9IFAyLmFzc2VydCwgUW8gPSBNMiwgX2EgPSBBMjtcbmZ1bmN0aW9uIHByKHIpIHtcbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIHByKSlcbiAgICByZXR1cm4gbmV3IHByKHIpO1xuICB0eXBlb2YgciA9PSBcInN0cmluZ1wiICYmIChGaShcbiAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoUWEsIHIpLFxuICAgIFwiVW5rbm93biBjdXJ2ZSBcIiArIHJcbiAgKSwgciA9IFFhW3JdKSwgciBpbnN0YW5jZW9mIFFhLlByZXNldEN1cnZlICYmIChyID0geyBjdXJ2ZTogciB9KSwgdGhpcy5jdXJ2ZSA9IHIuY3VydmUuY3VydmUsIHRoaXMubiA9IHRoaXMuY3VydmUubiwgdGhpcy5uaCA9IHRoaXMubi51c2hybigxKSwgdGhpcy5nID0gdGhpcy5jdXJ2ZS5nLCB0aGlzLmcgPSByLmN1cnZlLmcsIHRoaXMuZy5wcmVjb21wdXRlKHIuY3VydmUubi5iaXRMZW5ndGgoKSArIDEpLCB0aGlzLmhhc2ggPSByLmhhc2ggfHwgci5jdXJ2ZS5oYXNoO1xufVxudmFyIFIyID0gcHI7XG5wci5wcm90b3R5cGUua2V5UGFpciA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIG5ldyBRbyh0aGlzLCBlKTtcbn07XG5wci5wcm90b3R5cGUua2V5RnJvbVByaXZhdGUgPSBmdW5jdGlvbihlLCB0KSB7XG4gIHJldHVybiBRby5mcm9tUHJpdmF0ZSh0aGlzLCBlLCB0KTtcbn07XG5wci5wcm90b3R5cGUua2V5RnJvbVB1YmxpYyA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgcmV0dXJuIFFvLmZyb21QdWJsaWModGhpcywgZSwgdCk7XG59O1xucHIucHJvdG90eXBlLmdlbktleVBhaXIgPSBmdW5jdGlvbihlKSB7XG4gIGUgfHwgKGUgPSB7fSk7XG4gIGZvciAodmFyIHQgPSBuZXcgSnUoe1xuICAgIGhhc2g6IHRoaXMuaGFzaCxcbiAgICBwZXJzOiBlLnBlcnMsXG4gICAgcGVyc0VuYzogZS5wZXJzRW5jIHx8IFwidXRmOFwiLFxuICAgIGVudHJvcHk6IGUuZW50cm9weSB8fCBPMih0aGlzLmhhc2guaG1hY1N0cmVuZ3RoKSxcbiAgICBlbnRyb3B5RW5jOiBlLmVudHJvcHkgJiYgZS5lbnRyb3B5RW5jIHx8IFwidXRmOFwiLFxuICAgIG5vbmNlOiB0aGlzLm4udG9BcnJheSgpXG4gIH0pLCBpID0gdGhpcy5uLmJ5dGVMZW5ndGgoKSwgbiA9IHRoaXMubi5zdWIobmV3IElyKDIpKTsgOyApIHtcbiAgICB2YXIgcyA9IG5ldyBJcih0LmdlbmVyYXRlKGkpKTtcbiAgICBpZiAoIShzLmNtcChuKSA+IDApKVxuICAgICAgcmV0dXJuIHMuaWFkZG4oMSksIHRoaXMua2V5RnJvbVByaXZhdGUocyk7XG4gIH1cbn07XG5wci5wcm90b3R5cGUuX3RydW5jYXRlVG9OID0gZnVuY3Rpb24oZSwgdCwgaSkge1xuICB2YXIgbjtcbiAgaWYgKElyLmlzQk4oZSkgfHwgdHlwZW9mIGUgPT0gXCJudW1iZXJcIilcbiAgICBlID0gbmV3IElyKGUsIDE2KSwgbiA9IGUuYnl0ZUxlbmd0aCgpO1xuICBlbHNlIGlmICh0eXBlb2YgZSA9PSBcIm9iamVjdFwiKVxuICAgIG4gPSBlLmxlbmd0aCwgZSA9IG5ldyBJcihlLCAxNik7XG4gIGVsc2Uge1xuICAgIHZhciBzID0gZS50b1N0cmluZygpO1xuICAgIG4gPSBzLmxlbmd0aCArIDEgPj4+IDEsIGUgPSBuZXcgSXIocywgMTYpO1xuICB9XG4gIHR5cGVvZiBpICE9IFwibnVtYmVyXCIgJiYgKGkgPSBuICogOCk7XG4gIHZhciBvID0gaSAtIHRoaXMubi5iaXRMZW5ndGgoKTtcbiAgcmV0dXJuIG8gPiAwICYmIChlID0gZS51c2hybihvKSksICF0ICYmIGUuY21wKHRoaXMubikgPj0gMCA/IGUuc3ViKHRoaXMubikgOiBlO1xufTtcbnByLnByb3RvdHlwZS5zaWduID0gZnVuY3Rpb24oZSwgdCwgaSwgbikge1xuICBpZiAodHlwZW9mIGkgPT0gXCJvYmplY3RcIiAmJiAobiA9IGksIGkgPSBudWxsKSwgbiB8fCAobiA9IHt9KSwgdHlwZW9mIGUgIT0gXCJzdHJpbmdcIiAmJiB0eXBlb2YgZSAhPSBcIm51bWJlclwiICYmICFJci5pc0JOKGUpKSB7XG4gICAgRmkoXG4gICAgICB0eXBlb2YgZSA9PSBcIm9iamVjdFwiICYmIGUgJiYgdHlwZW9mIGUubGVuZ3RoID09IFwibnVtYmVyXCIsXG4gICAgICBcIkV4cGVjdGVkIG1lc3NhZ2UgdG8gYmUgYW4gYXJyYXktbGlrZSwgYSBoZXggc3RyaW5nLCBvciBhIEJOIGluc3RhbmNlXCJcbiAgICApLCBGaShlLmxlbmd0aCA+Pj4gMCA9PT0gZS5sZW5ndGgpO1xuICAgIGZvciAodmFyIHMgPSAwOyBzIDwgZS5sZW5ndGg7IHMrKylcbiAgICAgIEZpKChlW3NdICYgMjU1KSA9PT0gZVtzXSk7XG4gIH1cbiAgdCA9IHRoaXMua2V5RnJvbVByaXZhdGUodCwgaSksIGUgPSB0aGlzLl90cnVuY2F0ZVRvTihlLCAhMSwgbi5tc2dCaXRMZW5ndGgpLCBGaSghZS5pc05lZygpLCBcIkNhbiBub3Qgc2lnbiBhIG5lZ2F0aXZlIG1lc3NhZ2VcIik7XG4gIHZhciBvID0gdGhpcy5uLmJ5dGVMZW5ndGgoKSwgZiA9IHQuZ2V0UHJpdmF0ZSgpLnRvQXJyYXkoXCJiZVwiLCBvKSwgaCA9IGUudG9BcnJheShcImJlXCIsIG8pO1xuICBGaShuZXcgSXIoaCkuZXEoZSksIFwiQ2FuIG5vdCBzaWduIG1lc3NhZ2VcIik7XG4gIGZvciAodmFyIGQgPSBuZXcgSnUoe1xuICAgIGhhc2g6IHRoaXMuaGFzaCxcbiAgICBlbnRyb3B5OiBmLFxuICAgIG5vbmNlOiBoLFxuICAgIHBlcnM6IG4ucGVycyxcbiAgICBwZXJzRW5jOiBuLnBlcnNFbmMgfHwgXCJ1dGY4XCJcbiAgfSksIHYgPSB0aGlzLm4uc3ViKG5ldyBJcigxKSksIHcgPSAwOyA7IHcrKykge1xuICAgIHZhciBBID0gbi5rID8gbi5rKHcpIDogbmV3IElyKGQuZ2VuZXJhdGUodGhpcy5uLmJ5dGVMZW5ndGgoKSkpO1xuICAgIGlmIChBID0gdGhpcy5fdHJ1bmNhdGVUb04oQSwgITApLCAhKEEuY21wbigxKSA8PSAwIHx8IEEuY21wKHYpID49IDApKSB7XG4gICAgICB2YXIgSSA9IHRoaXMuZy5tdWwoQSk7XG4gICAgICBpZiAoIUkuaXNJbmZpbml0eSgpKSB7XG4gICAgICAgIHZhciBEID0gSS5nZXRYKCksIE4gPSBELnVtb2QodGhpcy5uKTtcbiAgICAgICAgaWYgKE4uY21wbigwKSAhPT0gMCkge1xuICAgICAgICAgIHZhciBrID0gQS5pbnZtKHRoaXMubikubXVsKE4ubXVsKHQuZ2V0UHJpdmF0ZSgpKS5pYWRkKGUpKTtcbiAgICAgICAgICBpZiAoayA9IGsudW1vZCh0aGlzLm4pLCBrLmNtcG4oMCkgIT09IDApIHtcbiAgICAgICAgICAgIHZhciBqID0gKEkuZ2V0WSgpLmlzT2RkKCkgPyAxIDogMCkgfCAoRC5jbXAoTikgIT09IDAgPyAyIDogMCk7XG4gICAgICAgICAgICByZXR1cm4gbi5jYW5vbmljYWwgJiYgay5jbXAodGhpcy5uaCkgPiAwICYmIChrID0gdGhpcy5uLnN1YihrKSwgaiBePSAxKSwgbmV3IF9hKHsgcjogTiwgczogaywgcmVjb3ZlcnlQYXJhbTogaiB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5wci5wcm90b3R5cGUudmVyaWZ5ID0gZnVuY3Rpb24oZSwgdCwgaSwgbiwgcykge1xuICBzIHx8IChzID0ge30pLCBlID0gdGhpcy5fdHJ1bmNhdGVUb04oZSwgITEsIHMubXNnQml0TGVuZ3RoKSwgaSA9IHRoaXMua2V5RnJvbVB1YmxpYyhpLCBuKSwgdCA9IG5ldyBfYSh0LCBcImhleFwiKTtcbiAgdmFyIG8gPSB0LnIsIGYgPSB0LnM7XG4gIGlmIChvLmNtcG4oMSkgPCAwIHx8IG8uY21wKHRoaXMubikgPj0gMCB8fCBmLmNtcG4oMSkgPCAwIHx8IGYuY21wKHRoaXMubikgPj0gMClcbiAgICByZXR1cm4gITE7XG4gIHZhciBoID0gZi5pbnZtKHRoaXMubiksIGQgPSBoLm11bChlKS51bW9kKHRoaXMubiksIHYgPSBoLm11bChvKS51bW9kKHRoaXMubiksIHc7XG4gIHJldHVybiB0aGlzLmN1cnZlLl9tYXh3ZWxsVHJpY2sgPyAodyA9IHRoaXMuZy5qbXVsQWRkKGQsIGkuZ2V0UHVibGljKCksIHYpLCB3LmlzSW5maW5pdHkoKSA/ICExIDogdy5lcVhUb1AobykpIDogKHcgPSB0aGlzLmcubXVsQWRkKGQsIGkuZ2V0UHVibGljKCksIHYpLCB3LmlzSW5maW5pdHkoKSA/ICExIDogdy5nZXRYKCkudW1vZCh0aGlzLm4pLmNtcChvKSA9PT0gMCk7XG59O1xucHIucHJvdG90eXBlLnJlY292ZXJQdWJLZXkgPSBmdW5jdGlvbihyLCBlLCB0LCBpKSB7XG4gIEZpKCgzICYgdCkgPT09IHQsIFwiVGhlIHJlY292ZXJ5IHBhcmFtIGlzIG1vcmUgdGhhbiB0d28gYml0c1wiKSwgZSA9IG5ldyBfYShlLCBpKTtcbiAgdmFyIG4gPSB0aGlzLm4sIHMgPSBuZXcgSXIociksIG8gPSBlLnIsIGYgPSBlLnMsIGggPSB0ICYgMSwgZCA9IHQgPj4gMTtcbiAgaWYgKG8uY21wKHRoaXMuY3VydmUucC51bW9kKHRoaXMuY3VydmUubikpID49IDAgJiYgZClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmFibGUgdG8gZmluZCBzZW5jb25kIGtleSBjYW5kaW5hdGVcIik7XG4gIGQgPyBvID0gdGhpcy5jdXJ2ZS5wb2ludEZyb21YKG8uYWRkKHRoaXMuY3VydmUubiksIGgpIDogbyA9IHRoaXMuY3VydmUucG9pbnRGcm9tWChvLCBoKTtcbiAgdmFyIHYgPSBlLnIuaW52bShuKSwgdyA9IG4uc3ViKHMpLm11bCh2KS51bW9kKG4pLCBBID0gZi5tdWwodikudW1vZChuKTtcbiAgcmV0dXJuIHRoaXMuZy5tdWxBZGQodywgbywgQSk7XG59O1xucHIucHJvdG90eXBlLmdldEtleVJlY292ZXJ5UGFyYW0gPSBmdW5jdGlvbihyLCBlLCB0LCBpKSB7XG4gIGlmIChlID0gbmV3IF9hKGUsIGkpLCBlLnJlY292ZXJ5UGFyYW0gIT09IG51bGwpXG4gICAgcmV0dXJuIGUucmVjb3ZlcnlQYXJhbTtcbiAgZm9yICh2YXIgbiA9IDA7IG4gPCA0OyBuKyspIHtcbiAgICB2YXIgcztcbiAgICB0cnkge1xuICAgICAgcyA9IHRoaXMucmVjb3ZlclB1YktleShyLCBlLCBuKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAocy5lcSh0KSlcbiAgICAgIHJldHVybiBuO1xuICB9XG4gIHRocm93IG5ldyBFcnJvcihcIlVuYWJsZSB0byBmaW5kIHZhbGlkIHJlY292ZXJ5IGZhY3RvclwiKTtcbn07XG52YXIgZnMgPSBhciwgWXUgPSBmcy5hc3NlcnQsIHdjID0gZnMucGFyc2VCeXRlcywgTW4gPSBmcy5jYWNoZWRQcm9wZXJ0eTtcbmZ1bmN0aW9uIEl0KHIsIGUpIHtcbiAgdGhpcy5lZGRzYSA9IHIsIHRoaXMuX3NlY3JldCA9IHdjKGUuc2VjcmV0KSwgci5pc1BvaW50KGUucHViKSA/IHRoaXMuX3B1YiA9IGUucHViIDogdGhpcy5fcHViQnl0ZXMgPSB3YyhlLnB1Yik7XG59XG5JdC5mcm9tUHVibGljID0gZnVuY3Rpb24oZSwgdCkge1xuICByZXR1cm4gdCBpbnN0YW5jZW9mIEl0ID8gdCA6IG5ldyBJdChlLCB7IHB1YjogdCB9KTtcbn07XG5JdC5mcm9tU2VjcmV0ID0gZnVuY3Rpb24oZSwgdCkge1xuICByZXR1cm4gdCBpbnN0YW5jZW9mIEl0ID8gdCA6IG5ldyBJdChlLCB7IHNlY3JldDogdCB9KTtcbn07XG5JdC5wcm90b3R5cGUuc2VjcmV0ID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9zZWNyZXQ7XG59O1xuTW4oSXQsIFwicHViQnl0ZXNcIiwgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmVkZHNhLmVuY29kZVBvaW50KHRoaXMucHViKCkpO1xufSk7XG5NbihJdCwgXCJwdWJcIiwgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLl9wdWJCeXRlcyA/IHRoaXMuZWRkc2EuZGVjb2RlUG9pbnQodGhpcy5fcHViQnl0ZXMpIDogdGhpcy5lZGRzYS5nLm11bCh0aGlzLnByaXYoKSk7XG59KTtcbk1uKEl0LCBcInByaXZCeXRlc1wiLCBmdW5jdGlvbigpIHtcbiAgdmFyIGUgPSB0aGlzLmVkZHNhLCB0ID0gdGhpcy5oYXNoKCksIGkgPSBlLmVuY29kaW5nTGVuZ3RoIC0gMSwgbiA9IHQuc2xpY2UoMCwgZS5lbmNvZGluZ0xlbmd0aCk7XG4gIHJldHVybiBuWzBdICY9IDI0OCwgbltpXSAmPSAxMjcsIG5baV0gfD0gNjQsIG47XG59KTtcbk1uKEl0LCBcInByaXZcIiwgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmVkZHNhLmRlY29kZUludCh0aGlzLnByaXZCeXRlcygpKTtcbn0pO1xuTW4oSXQsIFwiaGFzaFwiLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZWRkc2EuaGFzaCgpLnVwZGF0ZSh0aGlzLnNlY3JldCgpKS5kaWdlc3QoKTtcbn0pO1xuTW4oSXQsIFwibWVzc2FnZVByZWZpeFwiLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuaGFzaCgpLnNsaWNlKHRoaXMuZWRkc2EuZW5jb2RpbmdMZW5ndGgpO1xufSk7XG5JdC5wcm90b3R5cGUuc2lnbiA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIFl1KHRoaXMuX3NlY3JldCwgXCJLZXlQYWlyIGNhbiBvbmx5IHZlcmlmeVwiKSwgdGhpcy5lZGRzYS5zaWduKGUsIHRoaXMpO1xufTtcbkl0LnByb3RvdHlwZS52ZXJpZnkgPSBmdW5jdGlvbihlLCB0KSB7XG4gIHJldHVybiB0aGlzLmVkZHNhLnZlcmlmeShlLCB0LCB0aGlzKTtcbn07XG5JdC5wcm90b3R5cGUuZ2V0U2VjcmV0ID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gWXUodGhpcy5fc2VjcmV0LCBcIktleVBhaXIgaXMgcHVibGljIG9ubHlcIiksIGZzLmVuY29kZSh0aGlzLnNlY3JldCgpLCBlKTtcbn07XG5JdC5wcm90b3R5cGUuZ2V0UHVibGljID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gZnMuZW5jb2RlKHRoaXMucHViQnl0ZXMoKSwgZSk7XG59O1xudmFyIE4yID0gSXQsIFQyID0gbGksIHhhID0gYXIsIF9jID0geGEuYXNzZXJ0LCBFYSA9IHhhLmNhY2hlZFByb3BlcnR5LCBDMiA9IHhhLnBhcnNlQnl0ZXM7XG5mdW5jdGlvbiBaaShyLCBlKSB7XG4gIHRoaXMuZWRkc2EgPSByLCB0eXBlb2YgZSAhPSBcIm9iamVjdFwiICYmIChlID0gQzIoZSkpLCBBcnJheS5pc0FycmF5KGUpICYmIChfYyhlLmxlbmd0aCA9PT0gci5lbmNvZGluZ0xlbmd0aCAqIDIsIFwiU2lnbmF0dXJlIGhhcyBpbnZhbGlkIHNpemVcIiksIGUgPSB7XG4gICAgUjogZS5zbGljZSgwLCByLmVuY29kaW5nTGVuZ3RoKSxcbiAgICBTOiBlLnNsaWNlKHIuZW5jb2RpbmdMZW5ndGgpXG4gIH0pLCBfYyhlLlIgJiYgZS5TLCBcIlNpZ25hdHVyZSB3aXRob3V0IFIgb3IgU1wiKSwgci5pc1BvaW50KGUuUikgJiYgKHRoaXMuX1IgPSBlLlIpLCBlLlMgaW5zdGFuY2VvZiBUMiAmJiAodGhpcy5fUyA9IGUuUyksIHRoaXMuX1JlbmNvZGVkID0gQXJyYXkuaXNBcnJheShlLlIpID8gZS5SIDogZS5SZW5jb2RlZCwgdGhpcy5fU2VuY29kZWQgPSBBcnJheS5pc0FycmF5KGUuUykgPyBlLlMgOiBlLlNlbmNvZGVkO1xufVxuRWEoWmksIFwiU1wiLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHRoaXMuZWRkc2EuZGVjb2RlSW50KHRoaXMuU2VuY29kZWQoKSk7XG59KTtcbkVhKFppLCBcIlJcIiwgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB0aGlzLmVkZHNhLmRlY29kZVBvaW50KHRoaXMuUmVuY29kZWQoKSk7XG59KTtcbkVhKFppLCBcIlJlbmNvZGVkXCIsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5lZGRzYS5lbmNvZGVQb2ludCh0aGlzLlIoKSk7XG59KTtcbkVhKFppLCBcIlNlbmNvZGVkXCIsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5lZGRzYS5lbmNvZGVJbnQodGhpcy5TKCkpO1xufSk7XG5aaS5wcm90b3R5cGUudG9CeXRlcyA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gdGhpcy5SZW5jb2RlZCgpLmNvbmNhdCh0aGlzLlNlbmNvZGVkKCkpO1xufTtcblppLnByb3RvdHlwZS50b0hleCA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4geGEuZW5jb2RlKHRoaXMudG9CeXRlcygpLCBcImhleFwiKS50b1VwcGVyQ2FzZSgpO1xufTtcbnZhciAkMiA9IFppLCBMMiA9IG5zLCBGMiA9IG1hLCB2biA9IGFyLCBxMiA9IHZuLmFzc2VydCwgWHUgPSB2bi5wYXJzZUJ5dGVzLCBadSA9IE4yLCB4YyA9ICQyO1xuZnVuY3Rpb24gWHQocikge1xuICBpZiAocTIociA9PT0gXCJlZDI1NTE5XCIsIFwib25seSB0ZXN0ZWQgd2l0aCBlZDI1NTE5IHNvIGZhclwiKSwgISh0aGlzIGluc3RhbmNlb2YgWHQpKVxuICAgIHJldHVybiBuZXcgWHQocik7XG4gIHIgPSBGMltyXS5jdXJ2ZSwgdGhpcy5jdXJ2ZSA9IHIsIHRoaXMuZyA9IHIuZywgdGhpcy5nLnByZWNvbXB1dGUoci5uLmJpdExlbmd0aCgpICsgMSksIHRoaXMucG9pbnRDbGFzcyA9IHIucG9pbnQoKS5jb25zdHJ1Y3RvciwgdGhpcy5lbmNvZGluZ0xlbmd0aCA9IE1hdGguY2VpbChyLm4uYml0TGVuZ3RoKCkgLyA4KSwgdGhpcy5oYXNoID0gTDIuc2hhNTEyO1xufVxudmFyIFUyID0gWHQ7XG5YdC5wcm90b3R5cGUuc2lnbiA9IGZ1bmN0aW9uKGUsIHQpIHtcbiAgZSA9IFh1KGUpO1xuICB2YXIgaSA9IHRoaXMua2V5RnJvbVNlY3JldCh0KSwgbiA9IHRoaXMuaGFzaEludChpLm1lc3NhZ2VQcmVmaXgoKSwgZSksIHMgPSB0aGlzLmcubXVsKG4pLCBvID0gdGhpcy5lbmNvZGVQb2ludChzKSwgZiA9IHRoaXMuaGFzaEludChvLCBpLnB1YkJ5dGVzKCksIGUpLm11bChpLnByaXYoKSksIGggPSBuLmFkZChmKS51bW9kKHRoaXMuY3VydmUubik7XG4gIHJldHVybiB0aGlzLm1ha2VTaWduYXR1cmUoeyBSOiBzLCBTOiBoLCBSZW5jb2RlZDogbyB9KTtcbn07XG5YdC5wcm90b3R5cGUudmVyaWZ5ID0gZnVuY3Rpb24oZSwgdCwgaSkge1xuICBpZiAoZSA9IFh1KGUpLCB0ID0gdGhpcy5tYWtlU2lnbmF0dXJlKHQpLCB0LlMoKS5ndGUodC5lZGRzYS5jdXJ2ZS5uKSB8fCB0LlMoKS5pc05lZygpKVxuICAgIHJldHVybiAhMTtcbiAgdmFyIG4gPSB0aGlzLmtleUZyb21QdWJsaWMoaSksIHMgPSB0aGlzLmhhc2hJbnQodC5SZW5jb2RlZCgpLCBuLnB1YkJ5dGVzKCksIGUpLCBvID0gdGhpcy5nLm11bCh0LlMoKSksIGYgPSB0LlIoKS5hZGQobi5wdWIoKS5tdWwocykpO1xuICByZXR1cm4gZi5lcShvKTtcbn07XG5YdC5wcm90b3R5cGUuaGFzaEludCA9IGZ1bmN0aW9uKCkge1xuICBmb3IgKHZhciBlID0gdGhpcy5oYXNoKCksIHQgPSAwOyB0IDwgYXJndW1lbnRzLmxlbmd0aDsgdCsrKVxuICAgIGUudXBkYXRlKGFyZ3VtZW50c1t0XSk7XG4gIHJldHVybiB2bi5pbnRGcm9tTEUoZS5kaWdlc3QoKSkudW1vZCh0aGlzLmN1cnZlLm4pO1xufTtcblh0LnByb3RvdHlwZS5rZXlGcm9tUHVibGljID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gWnUuZnJvbVB1YmxpYyh0aGlzLCBlKTtcbn07XG5YdC5wcm90b3R5cGUua2V5RnJvbVNlY3JldCA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIFp1LmZyb21TZWNyZXQodGhpcywgZSk7XG59O1xuWHQucHJvdG90eXBlLm1ha2VTaWduYXR1cmUgPSBmdW5jdGlvbihlKSB7XG4gIHJldHVybiBlIGluc3RhbmNlb2YgeGMgPyBlIDogbmV3IHhjKHRoaXMsIGUpO1xufTtcblh0LnByb3RvdHlwZS5lbmNvZGVQb2ludCA9IGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHQgPSBlLmdldFkoKS50b0FycmF5KFwibGVcIiwgdGhpcy5lbmNvZGluZ0xlbmd0aCk7XG4gIHJldHVybiB0W3RoaXMuZW5jb2RpbmdMZW5ndGggLSAxXSB8PSBlLmdldFgoKS5pc09kZCgpID8gMTI4IDogMCwgdDtcbn07XG5YdC5wcm90b3R5cGUuZGVjb2RlUG9pbnQgPSBmdW5jdGlvbihlKSB7XG4gIGUgPSB2bi5wYXJzZUJ5dGVzKGUpO1xuICB2YXIgdCA9IGUubGVuZ3RoIC0gMSwgaSA9IGUuc2xpY2UoMCwgdCkuY29uY2F0KGVbdF0gJiAtMTI5KSwgbiA9IChlW3RdICYgMTI4KSAhPT0gMCwgcyA9IHZuLmludEZyb21MRShpKTtcbiAgcmV0dXJuIHRoaXMuY3VydmUucG9pbnRGcm9tWShzLCBuKTtcbn07XG5YdC5wcm90b3R5cGUuZW5jb2RlSW50ID0gZnVuY3Rpb24oZSkge1xuICByZXR1cm4gZS50b0FycmF5KFwibGVcIiwgdGhpcy5lbmNvZGluZ0xlbmd0aCk7XG59O1xuWHQucHJvdG90eXBlLmRlY29kZUludCA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIHZuLmludEZyb21MRShlKTtcbn07XG5YdC5wcm90b3R5cGUuaXNQb2ludCA9IGZ1bmN0aW9uKGUpIHtcbiAgcmV0dXJuIGUgaW5zdGFuY2VvZiB0aGlzLnBvaW50Q2xhc3M7XG59O1xuKGZ1bmN0aW9uKHIpIHtcbiAgdmFyIGUgPSByO1xuICBlLnZlcnNpb24gPSBoMi52ZXJzaW9uLCBlLnV0aWxzID0gYXIsIGUucmFuZCA9IEh1LCBlLmN1cnZlID0gWW8sIGUuY3VydmVzID0gbWEsIGUuZWMgPSBSMiwgZS5lZGRzYSA9IFUyO1xufSkoS3UpO1xuY29uc3QgejIgPSB7IHdha3U6IHsgcHVibGlzaDogXCJ3YWt1X3B1Ymxpc2hcIiwgYmF0Y2hQdWJsaXNoOiBcIndha3VfYmF0Y2hQdWJsaXNoXCIsIHN1YnNjcmliZTogXCJ3YWt1X3N1YnNjcmliZVwiLCBiYXRjaFN1YnNjcmliZTogXCJ3YWt1X2JhdGNoU3Vic2NyaWJlXCIsIHN1YnNjcmlwdGlvbjogXCJ3YWt1X3N1YnNjcmlwdGlvblwiLCB1bnN1YnNjcmliZTogXCJ3YWt1X3Vuc3Vic2NyaWJlXCIsIGJhdGNoVW5zdWJzY3JpYmU6IFwid2FrdV9iYXRjaFVuc3Vic2NyaWJlXCIsIGJhdGNoRmV0Y2hNZXNzYWdlczogXCJ3YWt1X2JhdGNoRmV0Y2hNZXNzYWdlc1wiIH0sIGlybjogeyBwdWJsaXNoOiBcImlybl9wdWJsaXNoXCIsIGJhdGNoUHVibGlzaDogXCJpcm5fYmF0Y2hQdWJsaXNoXCIsIHN1YnNjcmliZTogXCJpcm5fc3Vic2NyaWJlXCIsIGJhdGNoU3Vic2NyaWJlOiBcImlybl9iYXRjaFN1YnNjcmliZVwiLCBzdWJzY3JpcHRpb246IFwiaXJuX3N1YnNjcmlwdGlvblwiLCB1bnN1YnNjcmliZTogXCJpcm5fdW5zdWJzY3JpYmVcIiwgYmF0Y2hVbnN1YnNjcmliZTogXCJpcm5fYmF0Y2hVbnN1YnNjcmliZVwiLCBiYXRjaEZldGNoTWVzc2FnZXM6IFwiaXJuX2JhdGNoRmV0Y2hNZXNzYWdlc1wiIH0sIGlyaWRpdW06IHsgcHVibGlzaDogXCJpcmlkaXVtX3B1Ymxpc2hcIiwgYmF0Y2hQdWJsaXNoOiBcImlyaWRpdW1fYmF0Y2hQdWJsaXNoXCIsIHN1YnNjcmliZTogXCJpcmlkaXVtX3N1YnNjcmliZVwiLCBiYXRjaFN1YnNjcmliZTogXCJpcmlkaXVtX2JhdGNoU3Vic2NyaWJlXCIsIHN1YnNjcmlwdGlvbjogXCJpcmlkaXVtX3N1YnNjcmlwdGlvblwiLCB1bnN1YnNjcmliZTogXCJpcmlkaXVtX3Vuc3Vic2NyaWJlXCIsIGJhdGNoVW5zdWJzY3JpYmU6IFwiaXJpZGl1bV9iYXRjaFVuc3Vic2NyaWJlXCIsIGJhdGNoRmV0Y2hNZXNzYWdlczogXCJpcmlkaXVtX2JhdGNoRmV0Y2hNZXNzYWdlc1wiIH0gfSwgZWYgPSBcIjpcIjtcbmZ1bmN0aW9uIE5zKHIpIHtcbiAgY29uc3QgW2UsIHRdID0gci5zcGxpdChlZik7XG4gIHJldHVybiB7IG5hbWVzcGFjZTogZSwgcmVmZXJlbmNlOiB0IH07XG59XG5mdW5jdGlvbiBCMihyKSB7XG4gIGNvbnN0IHsgbmFtZXNwYWNlOiBlLCByZWZlcmVuY2U6IHQgfSA9IHI7XG4gIHJldHVybiBbZSwgdF0uam9pbihlZik7XG59XG5mdW5jdGlvbiBrMihyKSB7XG4gIGNvbnN0IFtlLCB0LCBpXSA9IHIuc3BsaXQoZWYpO1xuICByZXR1cm4geyBuYW1lc3BhY2U6IGUsIHJlZmVyZW5jZTogdCwgYWRkcmVzczogaSB9O1xufVxuZnVuY3Rpb24gajIociwgZSkge1xuICBjb25zdCB0ID0gW107XG4gIHJldHVybiByLmZvckVhY2goKGkpID0+IHtcbiAgICBjb25zdCBuID0gZShpKTtcbiAgICB0LmluY2x1ZGVzKG4pIHx8IHQucHVzaChuKTtcbiAgfSksIHQ7XG59XG5mdW5jdGlvbiBLMihyKSB7XG4gIGNvbnN0IHsgbmFtZXNwYWNlOiBlLCByZWZlcmVuY2U6IHQgfSA9IGsyKHIpO1xuICByZXR1cm4gQjIoeyBuYW1lc3BhY2U6IGUsIHJlZmVyZW5jZTogdCB9KTtcbn1cbmZ1bmN0aW9uIEgyKHIpIHtcbiAgcmV0dXJuIGoyKHIsIEsyKTtcbn1cbmZ1bmN0aW9uIFF1KHIsIGUgPSBbXSkge1xuICBjb25zdCB0ID0gW107XG4gIHJldHVybiBPYmplY3Qua2V5cyhyKS5mb3JFYWNoKChpKSA9PiB7XG4gICAgaWYgKGUubGVuZ3RoICYmICFlLmluY2x1ZGVzKGkpKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IG4gPSByW2ldO1xuICAgIHQucHVzaCguLi5uLmFjY291bnRzKTtcbiAgfSksIHQ7XG59XG5mdW5jdGlvbiBlZChyLCBlID0gW10pIHtcbiAgY29uc3QgdCA9IFtdO1xuICByZXR1cm4gT2JqZWN0LmtleXMocikuZm9yRWFjaCgoaSkgPT4ge1xuICAgIGlmIChlLmxlbmd0aCAmJiAhZS5pbmNsdWRlcyhpKSlcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBuID0gcltpXTtcbiAgICB0LnB1c2goLi4uSDIobi5hY2NvdW50cykpO1xuICB9KSwgdDtcbn1cbmZ1bmN0aW9uIFYyKHIsIGUgPSBbXSkge1xuICBjb25zdCB0ID0gW107XG4gIHJldHVybiBPYmplY3Qua2V5cyhyKS5mb3JFYWNoKChpKSA9PiB7XG4gICAgaWYgKGUubGVuZ3RoICYmICFlLmluY2x1ZGVzKGkpKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IG4gPSByW2ldO1xuICAgIHQucHVzaCguLi50ZihpLCBuKSk7XG4gIH0pLCB0O1xufVxuZnVuY3Rpb24gdGYociwgZSkge1xuICByZXR1cm4gci5pbmNsdWRlcyhcIjpcIikgPyBbcl0gOiBlLmNoYWlucyB8fCBbXTtcbn1cbnZhciBXMiA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgRWMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLCBHMiA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksIEoyID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSwgU2MgPSAociwgZSwgdCkgPT4gZSBpbiByID8gVzIociwgZSwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZTogdCB9KSA6IHJbZV0gPSB0LCBNYyA9IChyLCBlKSA9PiB7XG4gIGZvciAodmFyIHQgaW4gZSB8fCAoZSA9IHt9KSlcbiAgICBHMi5jYWxsKGUsIHQpICYmIFNjKHIsIHQsIGVbdF0pO1xuICBpZiAoRWMpXG4gICAgZm9yICh2YXIgdCBvZiBFYyhlKSlcbiAgICAgIEoyLmNhbGwoZSwgdCkgJiYgU2MociwgdCwgZVt0XSk7XG4gIHJldHVybiByO1xufTtcbmNvbnN0IFkyID0gXCJSZWFjdE5hdGl2ZVwiLCByciA9IHsgcmVhY3ROYXRpdmU6IFwicmVhY3QtbmF0aXZlXCIsIG5vZGU6IFwibm9kZVwiLCBicm93c2VyOiBcImJyb3dzZXJcIiwgdW5rbm93bjogXCJ1bmtub3duXCIgfSwgWDIgPSBcImpzXCI7XG5mdW5jdGlvbiBHcygpIHtcbiAgcmV0dXJuIHR5cGVvZiBwcm9jZXNzIDwgXCJ1XCIgJiYgdHlwZW9mIHByb2Nlc3MudmVyc2lvbnMgPCBcInVcIiAmJiB0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucy5ub2RlIDwgXCJ1XCI7XG59XG5mdW5jdGlvbiBBaSgpIHtcbiAgcmV0dXJuICFpcygpICYmICEhJG8oKSAmJiBuYXZpZ2F0b3IucHJvZHVjdCA9PT0gWTI7XG59XG5mdW5jdGlvbiBaMigpIHtcbiAgcmV0dXJuIEFpKCkgJiYgdHlwZW9mIGdsb2JhbCA8IFwidVwiICYmIHR5cGVvZiAoZ2xvYmFsID09IG51bGwgPyB2b2lkIDAgOiBnbG9iYWwuUGxhdGZvcm0pIDwgXCJ1XCIgJiYgKGdsb2JhbCA9PSBudWxsID8gdm9pZCAwIDogZ2xvYmFsLlBsYXRmb3JtLk9TKSA9PT0gXCJhbmRyb2lkXCI7XG59XG5mdW5jdGlvbiBRMigpIHtcbiAgcmV0dXJuIEFpKCkgJiYgdHlwZW9mIGdsb2JhbCA8IFwidVwiICYmIHR5cGVvZiAoZ2xvYmFsID09IG51bGwgPyB2b2lkIDAgOiBnbG9iYWwuUGxhdGZvcm0pIDwgXCJ1XCIgJiYgKGdsb2JhbCA9PSBudWxsID8gdm9pZCAwIDogZ2xvYmFsLlBsYXRmb3JtLk9TKSA9PT0gXCJpb3NcIjtcbn1cbmZ1bmN0aW9uIGNzKCkge1xuICByZXR1cm4gIUdzKCkgJiYgISEkbygpICYmICEhaXMoKTtcbn1cbmZ1bmN0aW9uIGhzKCkge1xuICByZXR1cm4gQWkoKSA/IHJyLnJlYWN0TmF0aXZlIDogR3MoKSA/IHJyLm5vZGUgOiBjcygpID8gcnIuYnJvd3NlciA6IHJyLnVua25vd247XG59XG5mdW5jdGlvbiBJYygpIHtcbiAgdmFyIHI7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEFpKCkgJiYgdHlwZW9mIGdsb2JhbCA8IFwidVwiICYmIHR5cGVvZiAoZ2xvYmFsID09IG51bGwgPyB2b2lkIDAgOiBnbG9iYWwuQXBwbGljYXRpb24pIDwgXCJ1XCIgPyAociA9IGdsb2JhbC5BcHBsaWNhdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IHIuYXBwbGljYXRpb25JZCA6IHZvaWQgMDtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuO1xuICB9XG59XG5mdW5jdGlvbiBleShyLCBlKSB7XG4gIGxldCB0ID0gWW4ucGFyc2Uocik7XG4gIHJldHVybiB0ID0gTWMoTWMoe30sIHQpLCBlKSwgciA9IFluLnN0cmluZ2lmeSh0KSwgcjtcbn1cbmZ1bmN0aW9uIHRkKCkge1xuICByZXR1cm4gdXUoKSB8fCB7IG5hbWU6IFwiXCIsIGRlc2NyaXB0aW9uOiBcIlwiLCB1cmw6IFwiXCIsIGljb25zOiBbXCJcIl0gfTtcbn1cbmZ1bmN0aW9uIHR5KCkge1xuICBpZiAoaHMoKSA9PT0gcnIucmVhY3ROYXRpdmUgJiYgdHlwZW9mIGdsb2JhbCA8IFwidVwiICYmIHR5cGVvZiAoZ2xvYmFsID09IG51bGwgPyB2b2lkIDAgOiBnbG9iYWwuUGxhdGZvcm0pIDwgXCJ1XCIpIHtcbiAgICBjb25zdCB7IE9TOiB0LCBWZXJzaW9uOiBpIH0gPSBnbG9iYWwuUGxhdGZvcm07XG4gICAgcmV0dXJuIFt0LCBpXS5qb2luKFwiLVwiKTtcbiAgfVxuICBjb25zdCByID0gY3UoKTtcbiAgaWYgKHIgPT09IG51bGwpXG4gICAgcmV0dXJuIFwidW5rbm93blwiO1xuICBjb25zdCBlID0gci5vcyA/IHIub3MucmVwbGFjZShcIiBcIiwgXCJcIikudG9Mb3dlckNhc2UoKSA6IFwidW5rbm93blwiO1xuICByZXR1cm4gci50eXBlID09PSBcImJyb3dzZXJcIiA/IFtlLCByLm5hbWUsIHIudmVyc2lvbl0uam9pbihcIi1cIikgOiBbZSwgci52ZXJzaW9uXS5qb2luKFwiLVwiKTtcbn1cbmZ1bmN0aW9uIHJ5KCkge1xuICB2YXIgcjtcbiAgY29uc3QgZSA9IGhzKCk7XG4gIHJldHVybiBlID09PSByci5icm93c2VyID8gW2UsICgociA9IGh1KCkpID09IG51bGwgPyB2b2lkIDAgOiByLmhvc3QpIHx8IFwidW5rbm93blwiXS5qb2luKFwiOlwiKSA6IGU7XG59XG5mdW5jdGlvbiByZChyLCBlLCB0KSB7XG4gIGNvbnN0IGkgPSB0eSgpLCBuID0gcnkoKTtcbiAgcmV0dXJuIFtbciwgZV0uam9pbihcIi1cIiksIFtYMiwgdF0uam9pbihcIi1cIiksIGksIG5dLmpvaW4oXCIvXCIpO1xufVxuZnVuY3Rpb24gaXkoeyBwcm90b2NvbDogciwgdmVyc2lvbjogZSwgcmVsYXlVcmw6IHQsIHNka1ZlcnNpb246IGksIGF1dGg6IG4sIHByb2plY3RJZDogcywgdXNlT25DbG9zZUV2ZW50OiBvLCBidW5kbGVJZDogZiwgcGFja2FnZU5hbWU6IGggfSkge1xuICBjb25zdCBkID0gdC5zcGxpdChcIj9cIiksIHYgPSByZChyLCBlLCBpKSwgdyA9IHsgYXV0aDogbiwgdWE6IHYsIHByb2plY3RJZDogcywgdXNlT25DbG9zZUV2ZW50OiBvIHx8IHZvaWQgMCwgcGFja2FnZU5hbWU6IGggfHwgdm9pZCAwLCBidW5kbGVJZDogZiB8fCB2b2lkIDAgfSwgQSA9IGV5KGRbMV0gfHwgXCJcIiwgdyk7XG4gIHJldHVybiBkWzBdICsgXCI/XCIgKyBBO1xufVxuZnVuY3Rpb24gVWkociwgZSkge1xuICByZXR1cm4gci5maWx0ZXIoKHQpID0+IGUuaW5jbHVkZXModCkpLmxlbmd0aCA9PT0gci5sZW5ndGg7XG59XG5mdW5jdGlvbiBpZChyKSB7XG4gIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoci5lbnRyaWVzKCkpO1xufVxuZnVuY3Rpb24gbmQocikge1xuICByZXR1cm4gbmV3IE1hcChPYmplY3QuZW50cmllcyhyKSk7XG59XG5mdW5jdGlvbiBMaShyID0gaWUuRklWRV9NSU5VVEVTLCBlKSB7XG4gIGNvbnN0IHQgPSBpZS50b01pbGlzZWNvbmRzKHIgfHwgaWUuRklWRV9NSU5VVEVTKTtcbiAgbGV0IGksIG4sIHMsIG87XG4gIHJldHVybiB7IHJlc29sdmU6IChmKSA9PiB7XG4gICAgcyAmJiBpICYmIChjbGVhclRpbWVvdXQocyksIGkoZiksIG8gPSBQcm9taXNlLnJlc29sdmUoZikpO1xuICB9LCByZWplY3Q6IChmKSA9PiB7XG4gICAgcyAmJiBuICYmIChjbGVhclRpbWVvdXQocyksIG4oZikpO1xuICB9LCBkb25lOiAoKSA9PiBuZXcgUHJvbWlzZSgoZiwgaCkgPT4ge1xuICAgIGlmIChvKVxuICAgICAgcmV0dXJuIGYobyk7XG4gICAgcyA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY29uc3QgZCA9IG5ldyBFcnJvcihlKTtcbiAgICAgIG8gPSBQcm9taXNlLnJlamVjdChkKSwgaChkKTtcbiAgICB9LCB0KSwgaSA9IGYsIG4gPSBoO1xuICB9KSB9O1xufVxuZnVuY3Rpb24gbWkociwgZSwgdCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKGksIG4pID0+IHtcbiAgICBjb25zdCBzID0gc2V0VGltZW91dCgoKSA9PiBuKG5ldyBFcnJvcih0KSksIGUpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBvID0gYXdhaXQgcjtcbiAgICAgIGkobyk7XG4gICAgfSBjYXRjaCAobykge1xuICAgICAgbihvKTtcbiAgICB9XG4gICAgY2xlYXJUaW1lb3V0KHMpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHNkKHIsIGUpIHtcbiAgaWYgKHR5cGVvZiBlID09IFwic3RyaW5nXCIgJiYgZS5zdGFydHNXaXRoKGAke3J9OmApKVxuICAgIHJldHVybiBlO1xuICBpZiAoci50b0xvd2VyQ2FzZSgpID09PSBcInRvcGljXCIpIHtcbiAgICBpZiAodHlwZW9mIGUgIT0gXCJzdHJpbmdcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcignVmFsdWUgbXVzdCBiZSBcInN0cmluZ1wiIGZvciBleHBpcmVyIHRhcmdldCB0eXBlOiB0b3BpYycpO1xuICAgIHJldHVybiBgdG9waWM6JHtlfWA7XG4gIH0gZWxzZSBpZiAoci50b0xvd2VyQ2FzZSgpID09PSBcImlkXCIpIHtcbiAgICBpZiAodHlwZW9mIGUgIT0gXCJudW1iZXJcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcignVmFsdWUgbXVzdCBiZSBcIm51bWJlclwiIGZvciBleHBpcmVyIHRhcmdldCB0eXBlOiBpZCcpO1xuICAgIHJldHVybiBgaWQ6JHtlfWA7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGV4cGlyZXIgdGFyZ2V0IHR5cGU6ICR7cn1gKTtcbn1cbmZ1bmN0aW9uIG55KHIpIHtcbiAgcmV0dXJuIHNkKFwidG9waWNcIiwgcik7XG59XG5mdW5jdGlvbiBzeShyKSB7XG4gIHJldHVybiBzZChcImlkXCIsIHIpO1xufVxuZnVuY3Rpb24gYWQocikge1xuICBjb25zdCBbZSwgdF0gPSByLnNwbGl0KFwiOlwiKSwgaSA9IHsgaWQ6IHZvaWQgMCwgdG9waWM6IHZvaWQgMCB9O1xuICBpZiAoZSA9PT0gXCJ0b3BpY1wiICYmIHR5cGVvZiB0ID09IFwic3RyaW5nXCIpXG4gICAgaS50b3BpYyA9IHQ7XG4gIGVsc2UgaWYgKGUgPT09IFwiaWRcIiAmJiBOdW1iZXIuaXNJbnRlZ2VyKE51bWJlcih0KSkpXG4gICAgaS5pZCA9IE51bWJlcih0KTtcbiAgZWxzZVxuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0YXJnZXQsIGV4cGVjdGVkIGlkOm51bWJlciBvciB0b3BpYzpzdHJpbmcsIGdvdCAke2V9OiR7dH1gKTtcbiAgcmV0dXJuIGk7XG59XG5mdW5jdGlvbiBtdChyLCBlKSB7XG4gIHJldHVybiBpZS5mcm9tTWlsaXNlY29uZHMoKGUgfHwgRGF0ZS5ub3coKSkgKyBpZS50b01pbGlzZWNvbmRzKHIpKTtcbn1cbmZ1bmN0aW9uIGdpKHIpIHtcbiAgcmV0dXJuIERhdGUubm93KCkgPj0gaWUudG9NaWxpc2Vjb25kcyhyKTtcbn1cbmZ1bmN0aW9uIFhlKHIsIGUpIHtcbiAgcmV0dXJuIGAke3J9JHtlID8gYDoke2V9YCA6IFwiXCJ9YDtcbn1cbmZ1bmN0aW9uIGF5KHIgPSBbXSwgZSA9IFtdKSB7XG4gIHJldHVybiBbLi4uLyogQF9fUFVSRV9fICovIG5ldyBTZXQoWy4uLnIsIC4uLmVdKV07XG59XG5hc3luYyBmdW5jdGlvbiBveSh7IGlkOiByLCB0b3BpYzogZSwgd2NEZWVwTGluazogdCB9KSB7XG4gIHZhciBpO1xuICB0cnkge1xuICAgIGlmICghdClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBuID0gdHlwZW9mIHQgPT0gXCJzdHJpbmdcIiA/IEpTT04ucGFyc2UodCkgOiB0LCBzID0gbj8uaHJlZjtcbiAgICBpZiAodHlwZW9mIHMgIT0gXCJzdHJpbmdcIilcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBvID0gZnkocywgciwgZSksIGYgPSBocygpO1xuICAgIGlmIChmID09PSByci5icm93c2VyKSB7XG4gICAgICBpZiAoISgoaSA9IGlzKCkpICE9IG51bGwgJiYgaS5oYXNGb2N1cygpKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJEb2N1bWVudCBkb2VzIG5vdCBoYXZlIGZvY3VzLCBza2lwcGluZyBkZWVwbGluay5cIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG8uc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpIHx8IG8uc3RhcnRzV2l0aChcImh0dHA6Ly9cIikgPyB3aW5kb3cub3BlbihvLCBcIl9ibGFua1wiLCBcIm5vcmVmZXJyZXIgbm9vcGVuZXJcIikgOiB3aW5kb3cub3BlbihvLCBoeSgpID8gXCJfYmxhbmtcIiA6IFwiX3NlbGZcIiwgXCJub3JlZmVycmVyIG5vb3BlbmVyXCIpO1xuICAgIH0gZWxzZVxuICAgICAgZiA9PT0gcnIucmVhY3ROYXRpdmUgJiYgdHlwZW9mIChnbG9iYWwgPT0gbnVsbCA/IHZvaWQgMCA6IGdsb2JhbC5MaW5raW5nKSA8IFwidVwiICYmIGF3YWl0IGdsb2JhbC5MaW5raW5nLm9wZW5VUkwobyk7XG4gIH0gY2F0Y2ggKG4pIHtcbiAgICBjb25zb2xlLmVycm9yKG4pO1xuICB9XG59XG5mdW5jdGlvbiBmeShyLCBlLCB0KSB7XG4gIGNvbnN0IGkgPSBgcmVxdWVzdElkPSR7ZX0mc2Vzc2lvblRvcGljPSR7dH1gO1xuICByLmVuZHNXaXRoKFwiL1wiKSAmJiAociA9IHIuc2xpY2UoMCwgLTEpKTtcbiAgbGV0IG4gPSBgJHtyfWA7XG4gIGlmIChyLnN0YXJ0c1dpdGgoXCJodHRwczovL3QubWVcIikpIHtcbiAgICBjb25zdCBzID0gci5pbmNsdWRlcyhcIj9cIikgPyBcIiZzdGFydGFwcD1cIiA6IFwiP3N0YXJ0YXBwPVwiO1xuICAgIG4gPSBgJHtufSR7c30ke3V5KGksICEwKX1gO1xuICB9IGVsc2VcbiAgICBuID0gYCR7bn0vd2M/JHtpfWA7XG4gIHJldHVybiBuO1xufVxuYXN5bmMgZnVuY3Rpb24gY3kociwgZSkge1xuICBsZXQgdCA9IFwiXCI7XG4gIHRyeSB7XG4gICAgaWYgKGNzKCkgJiYgKHQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKSwgdCkpXG4gICAgICByZXR1cm4gdDtcbiAgICB0ID0gYXdhaXQgci5nZXRJdGVtKGUpO1xuICB9IGNhdGNoIChpKSB7XG4gICAgY29uc29sZS5lcnJvcihpKTtcbiAgfVxuICByZXR1cm4gdDtcbn1cbmZ1bmN0aW9uIEFjKHIsIGUpIHtcbiAgaWYgKCFyLmluY2x1ZGVzKGUpKVxuICAgIHJldHVybiBudWxsO1xuICBjb25zdCB0ID0gci5zcGxpdCgvKFsmLD8sPV0pLyksIGkgPSB0LmluZGV4T2YoZSk7XG4gIHJldHVybiB0W2kgKyAyXTtcbn1cbmZ1bmN0aW9uIERjKCkge1xuICByZXR1cm4gdHlwZW9mIGNyeXB0byA8IFwidVwiICYmIGNyeXB0byAhPSBudWxsICYmIGNyeXB0by5yYW5kb21VVUlEID8gY3J5cHRvLnJhbmRvbVVVSUQoKSA6IFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9ndSwgKHIpID0+IHtcbiAgICBjb25zdCBlID0gTWF0aC5yYW5kb20oKSAqIDE2IHwgMDtcbiAgICByZXR1cm4gKHIgPT09IFwieFwiID8gZSA6IGUgJiAzIHwgOCkudG9TdHJpbmcoMTYpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHJmKCkge1xuICByZXR1cm4gdHlwZW9mIHByb2Nlc3MgPCBcInVcIiAmJiBwcm9jZXNzLmVudi5JU19WSVRFU1QgPT09IFwidHJ1ZVwiO1xufVxuZnVuY3Rpb24gaHkoKSB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93IDwgXCJ1XCIgJiYgKCEhd2luZG93LlRlbGVncmFtV2Vidmlld1Byb3h5IHx8ICEhd2luZG93LlRlbGVncmFtIHx8ICEhd2luZG93LlRlbGVncmFtV2Vidmlld1Byb3h5UHJvdG8pO1xufVxuZnVuY3Rpb24gdXkociwgZSA9ICExKSB7XG4gIGNvbnN0IHQgPSBCdWZmZXIuZnJvbShyKS50b1N0cmluZyhcImJhc2U2NFwiKTtcbiAgcmV0dXJuIGUgPyB0LnJlcGxhY2UoL1s9XS9nLCBcIlwiKSA6IHQ7XG59XG5mdW5jdGlvbiBvZChyKSB7XG4gIHJldHVybiBCdWZmZXIuZnJvbShyLCBcImJhc2U2NFwiKS50b1N0cmluZyhcInV0Zi04XCIpO1xufVxuZnVuY3Rpb24gZHkocikge1xuICByZXR1cm4gbmV3IFByb21pc2UoKGUpID0+IHNldFRpbWVvdXQoZSwgcikpO1xufVxuY29uc3QgbHkgPSBcImh0dHBzOi8vcnBjLndhbGxldGNvbm5lY3Qub3JnL3YxXCI7XG5hc3luYyBmdW5jdGlvbiBweShyLCBlLCB0LCBpLCBuLCBzKSB7XG4gIHN3aXRjaCAodC50KSB7XG4gICAgY2FzZSBcImVpcDE5MVwiOlxuICAgICAgcmV0dXJuIHZ5KHIsIGUsIHQucyk7XG4gICAgY2FzZSBcImVpcDEyNzFcIjpcbiAgICAgIHJldHVybiBhd2FpdCBieShyLCBlLCB0LnMsIGksIG4sIHMpO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYHZlcmlmeVNpZ25hdHVyZSBmYWlsZWQ6IEF0dGVtcHRlZCB0byB2ZXJpZnkgQ2FjYW9TaWduYXR1cmUgd2l0aCB1bmtub3duIHR5cGU6ICR7dC50fWApO1xuICB9XG59XG5mdW5jdGlvbiB2eShyLCBlLCB0KSB7XG4gIHJldHVybiBMZyhidShlKSwgdCkudG9Mb3dlckNhc2UoKSA9PT0gci50b0xvd2VyQ2FzZSgpO1xufVxuYXN5bmMgZnVuY3Rpb24gYnkociwgZSwgdCwgaSwgbiwgcykge1xuICBjb25zdCBvID0gTnMoaSk7XG4gIGlmICghby5uYW1lc3BhY2UgfHwgIW8ucmVmZXJlbmNlKVxuICAgIHRocm93IG5ldyBFcnJvcihgaXNWYWxpZEVpcDEyNzFTaWduYXR1cmUgZmFpbGVkOiBjaGFpbklkIG11c3QgYmUgaW4gQ0FJUC0yIGZvcm1hdCwgcmVjZWl2ZWQ6ICR7aX1gKTtcbiAgdHJ5IHtcbiAgICBjb25zdCBmID0gXCIweDE2MjZiYTdlXCIsIGggPSBcIjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNDBcIiwgZCA9IFwiMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA0MVwiLCB2ID0gdC5zdWJzdHJpbmcoMiksIHcgPSBidShlKS5zdWJzdHJpbmcoMiksIEEgPSBmICsgdyArIGggKyBkICsgdiwgSSA9IGF3YWl0IGZldGNoKGAke3MgfHwgbHl9Lz9jaGFpbklkPSR7aX0mcHJvamVjdElkPSR7bn1gLCB7IG1ldGhvZDogXCJQT1NUXCIsIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgaWQ6IGd5KCksIGpzb25ycGM6IFwiMi4wXCIsIG1ldGhvZDogXCJldGhfY2FsbFwiLCBwYXJhbXM6IFt7IHRvOiByLCBkYXRhOiBBIH0sIFwibGF0ZXN0XCJdIH0pIH0pLCB7IHJlc3VsdDogRCB9ID0gYXdhaXQgSS5qc29uKCk7XG4gICAgcmV0dXJuIEQgPyBELnNsaWNlKDAsIGYubGVuZ3RoKS50b0xvd2VyQ2FzZSgpID09PSBmLnRvTG93ZXJDYXNlKCkgOiAhMTtcbiAgfSBjYXRjaCAoZikge1xuICAgIHJldHVybiBjb25zb2xlLmVycm9yKFwiaXNWYWxpZEVpcDEyNzFTaWduYXR1cmU6IFwiLCBmKSwgITE7XG4gIH1cbn1cbmZ1bmN0aW9uIGd5KCkge1xuICByZXR1cm4gRGF0ZS5ub3coKSArIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDFlMyk7XG59XG52YXIgeXkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHksIG15ID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMsIHd5ID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMsIFBjID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scywgX3kgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LCB4eSA9IE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsIE9jID0gKHIsIGUsIHQpID0+IGUgaW4gciA/IHl5KHIsIGUsIHsgZW51bWVyYWJsZTogITAsIGNvbmZpZ3VyYWJsZTogITAsIHdyaXRhYmxlOiAhMCwgdmFsdWU6IHQgfSkgOiByW2VdID0gdCwgRXkgPSAociwgZSkgPT4ge1xuICBmb3IgKHZhciB0IGluIGUgfHwgKGUgPSB7fSkpXG4gICAgX3kuY2FsbChlLCB0KSAmJiBPYyhyLCB0LCBlW3RdKTtcbiAgaWYgKFBjKVxuICAgIGZvciAodmFyIHQgb2YgUGMoZSkpXG4gICAgICB4eS5jYWxsKGUsIHQpICYmIE9jKHIsIHQsIGVbdF0pO1xuICByZXR1cm4gcjtcbn0sIFN5ID0gKHIsIGUpID0+IG15KHIsIHd5KGUpKTtcbmNvbnN0IE15ID0gXCJkaWQ6cGtoOlwiLCBuZiA9IChyKSA9PiByPy5zcGxpdChcIjpcIiksIEl5ID0gKHIpID0+IHtcbiAgY29uc3QgZSA9IHIgJiYgbmYocik7XG4gIGlmIChlKVxuICAgIHJldHVybiByLmluY2x1ZGVzKE15KSA/IGVbM10gOiBlWzFdO1xufSwgSW8gPSAocikgPT4ge1xuICBjb25zdCBlID0gciAmJiBuZihyKTtcbiAgaWYgKGUpXG4gICAgcmV0dXJuIGVbMl0gKyBcIjpcIiArIGVbM107XG59LCBKcyA9IChyKSA9PiB7XG4gIGNvbnN0IGUgPSByICYmIG5mKHIpO1xuICBpZiAoZSlcbiAgICByZXR1cm4gZS5wb3AoKTtcbn07XG5hc3luYyBmdW5jdGlvbiBSYyhyKSB7XG4gIGNvbnN0IHsgY2FjYW86IGUsIHByb2plY3RJZDogdCB9ID0gciwgeyBzOiBpLCBwOiBuIH0gPSBlLCBzID0gZmQobiwgbi5pc3MpLCBvID0gSnMobi5pc3MpO1xuICByZXR1cm4gYXdhaXQgcHkobywgcywgaSwgSW8obi5pc3MpLCB0KTtcbn1cbmNvbnN0IGZkID0gKHIsIGUpID0+IHtcbiAgY29uc3QgdCA9IGAke3IuZG9tYWlufSB3YW50cyB5b3UgdG8gc2lnbiBpbiB3aXRoIHlvdXIgRXRoZXJldW0gYWNjb3VudDpgLCBpID0gSnMoZSk7XG4gIGlmICghci5hdWQgJiYgIXIudXJpKVxuICAgIHRocm93IG5ldyBFcnJvcihcIkVpdGhlciBgYXVkYCBvciBgdXJpYCBpcyByZXF1aXJlZCB0byBjb25zdHJ1Y3QgdGhlIG1lc3NhZ2VcIik7XG4gIGxldCBuID0gci5zdGF0ZW1lbnQgfHwgdm9pZCAwO1xuICBjb25zdCBzID0gYFVSSTogJHtyLmF1ZCB8fCByLnVyaX1gLCBvID0gYFZlcnNpb246ICR7ci52ZXJzaW9ufWAsIGYgPSBgQ2hhaW4gSUQ6ICR7SXkoZSl9YCwgaCA9IGBOb25jZTogJHtyLm5vbmNlfWAsIGQgPSBgSXNzdWVkIEF0OiAke3IuaWF0fWAsIHYgPSByLmV4cCA/IGBFeHBpcmF0aW9uIFRpbWU6ICR7ci5leHB9YCA6IHZvaWQgMCwgdyA9IHIubmJmID8gYE5vdCBCZWZvcmU6ICR7ci5uYmZ9YCA6IHZvaWQgMCwgQSA9IHIucmVxdWVzdElkID8gYFJlcXVlc3QgSUQ6ICR7ci5yZXF1ZXN0SWR9YCA6IHZvaWQgMCwgSSA9IHIucmVzb3VyY2VzID8gYFJlc291cmNlczoke3IucmVzb3VyY2VzLm1hcCgoTikgPT4gYFxuLSAke059YCkuam9pbihcIlwiKX1gIDogdm9pZCAwLCBEID0gVHMoci5yZXNvdXJjZXMpO1xuICBpZiAoRCkge1xuICAgIGNvbnN0IE4gPSBYbihEKTtcbiAgICBuID0gJHkobiwgTik7XG4gIH1cbiAgcmV0dXJuIFt0LCBpLCBcIlwiLCBuLCBcIlwiLCBzLCBvLCBmLCBoLCBkLCB2LCB3LCBBLCBJXS5maWx0ZXIoKE4pID0+IE4gIT0gbnVsbCkuam9pbihgXG5gKTtcbn07XG5mdW5jdGlvbiBBeShyKSB7XG4gIHJldHVybiBCdWZmZXIuZnJvbShKU09OLnN0cmluZ2lmeShyKSkudG9TdHJpbmcoXCJiYXNlNjRcIik7XG59XG5mdW5jdGlvbiBEeShyKSB7XG4gIHJldHVybiBKU09OLnBhcnNlKEJ1ZmZlci5mcm9tKHIsIFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwidXRmLThcIikpO1xufVxuZnVuY3Rpb24gSGkocikge1xuICBpZiAoIXIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gcmVjYXAgcHJvdmlkZWQsIHZhbHVlIGlzIHVuZGVmaW5lZFwiKTtcbiAgaWYgKCFyLmF0dClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBgYXR0YCBwcm9wZXJ0eSBmb3VuZFwiKTtcbiAgY29uc3QgZSA9IE9iamVjdC5rZXlzKHIuYXR0KTtcbiAgaWYgKCEoZSAhPSBudWxsICYmIGUubGVuZ3RoKSlcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyByZXNvdXJjZXMgZm91bmQgaW4gYGF0dGAgcHJvcGVydHlcIik7XG4gIGUuZm9yRWFjaCgodCkgPT4ge1xuICAgIGNvbnN0IGkgPSByLmF0dFt0XTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShpKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUmVzb3VyY2UgbXVzdCBiZSBhbiBvYmplY3Q6ICR7dH1gKTtcbiAgICBpZiAodHlwZW9mIGkgIT0gXCJvYmplY3RcIilcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUmVzb3VyY2UgbXVzdCBiZSBhbiBvYmplY3Q6ICR7dH1gKTtcbiAgICBpZiAoIU9iamVjdC5rZXlzKGkpLmxlbmd0aClcbiAgICAgIHRocm93IG5ldyBFcnJvcihgUmVzb3VyY2Ugb2JqZWN0IGlzIGVtcHR5OiAke3R9YCk7XG4gICAgT2JqZWN0LmtleXMoaSkuZm9yRWFjaCgobikgPT4ge1xuICAgICAgY29uc3QgcyA9IGlbbl07XG4gICAgICBpZiAoIUFycmF5LmlzQXJyYXkocykpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQWJpbGl0eSBsaW1pdHMgJHtufSBtdXN0IGJlIGFuIGFycmF5IG9mIG9iamVjdHMsIGZvdW5kOiAke3N9YCk7XG4gICAgICBpZiAoIXMubGVuZ3RoKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFZhbHVlIG9mICR7bn0gaXMgZW1wdHkgYXJyYXksIG11c3QgYmUgYW4gYXJyYXkgd2l0aCBvYmplY3RzYCk7XG4gICAgICBzLmZvckVhY2goKG8pID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBvICE9IFwib2JqZWN0XCIpXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBYmlsaXR5IGxpbWl0cyAoJHtufSkgbXVzdCBiZSBhbiBhcnJheSBvZiBvYmplY3RzLCBmb3VuZDogJHtvfWApO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufVxuZnVuY3Rpb24gUHkociwgZSwgdCwgaSA9IHt9KSB7XG4gIHJldHVybiB0Py5zb3J0KChuLCBzKSA9PiBuLmxvY2FsZUNvbXBhcmUocykpLCB7IGF0dDogeyBbcl06IE95KGUsIHQsIGkpIH0gfTtcbn1cbmZ1bmN0aW9uIE95KHIsIGUsIHQgPSB7fSkge1xuICBlID0gZT8uc29ydCgobiwgcykgPT4gbi5sb2NhbGVDb21wYXJlKHMpKTtcbiAgY29uc3QgaSA9IGUubWFwKChuKSA9PiAoeyBbYCR7cn0vJHtufWBdOiBbdF0gfSkpO1xuICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgLi4uaSk7XG59XG5mdW5jdGlvbiBjZChyKSB7XG4gIHJldHVybiBIaShyKSwgYHVybjpyZWNhcDoke0F5KHIpLnJlcGxhY2UoLz0vZywgXCJcIil9YDtcbn1cbmZ1bmN0aW9uIFhuKHIpIHtcbiAgY29uc3QgZSA9IER5KHIucmVwbGFjZShcInVybjpyZWNhcDpcIiwgXCJcIikpO1xuICByZXR1cm4gSGkoZSksIGU7XG59XG5mdW5jdGlvbiBSeShyLCBlLCB0KSB7XG4gIGNvbnN0IGkgPSBQeShyLCBlLCB0KTtcbiAgcmV0dXJuIGNkKGkpO1xufVxuZnVuY3Rpb24gTnkocikge1xuICByZXR1cm4gciAmJiByLmluY2x1ZGVzKFwidXJuOnJlY2FwOlwiKTtcbn1cbmZ1bmN0aW9uIFR5KHIsIGUpIHtcbiAgY29uc3QgdCA9IFhuKHIpLCBpID0gWG4oZSksIG4gPSBDeSh0LCBpKTtcbiAgcmV0dXJuIGNkKG4pO1xufVxuZnVuY3Rpb24gQ3kociwgZSkge1xuICBIaShyKSwgSGkoZSk7XG4gIGNvbnN0IHQgPSBPYmplY3Qua2V5cyhyLmF0dCkuY29uY2F0KE9iamVjdC5rZXlzKGUuYXR0KSkuc29ydCgobiwgcykgPT4gbi5sb2NhbGVDb21wYXJlKHMpKSwgaSA9IHsgYXR0OiB7fSB9O1xuICByZXR1cm4gdC5mb3JFYWNoKChuKSA9PiB7XG4gICAgdmFyIHMsIG87XG4gICAgT2JqZWN0LmtleXMoKChzID0gci5hdHQpID09IG51bGwgPyB2b2lkIDAgOiBzW25dKSB8fCB7fSkuY29uY2F0KE9iamVjdC5rZXlzKCgobyA9IGUuYXR0KSA9PSBudWxsID8gdm9pZCAwIDogb1tuXSkgfHwge30pKS5zb3J0KChmLCBoKSA9PiBmLmxvY2FsZUNvbXBhcmUoaCkpLmZvckVhY2goKGYpID0+IHtcbiAgICAgIHZhciBoLCBkO1xuICAgICAgaS5hdHRbbl0gPSBTeShFeSh7fSwgaS5hdHRbbl0pLCB7IFtmXTogKChoID0gci5hdHRbbl0pID09IG51bGwgPyB2b2lkIDAgOiBoW2ZdKSB8fCAoKGQgPSBlLmF0dFtuXSkgPT0gbnVsbCA/IHZvaWQgMCA6IGRbZl0pIH0pO1xuICAgIH0pO1xuICB9KSwgaTtcbn1cbmZ1bmN0aW9uICR5KHIgPSBcIlwiLCBlKSB7XG4gIEhpKGUpO1xuICBjb25zdCB0ID0gXCJJIGZ1cnRoZXIgYXV0aG9yaXplIHRoZSBzdGF0ZWQgVVJJIHRvIHBlcmZvcm0gdGhlIGZvbGxvd2luZyBhY3Rpb25zIG9uIG15IGJlaGFsZjogXCI7XG4gIGlmIChyLmluY2x1ZGVzKHQpKVxuICAgIHJldHVybiByO1xuICBjb25zdCBpID0gW107XG4gIGxldCBuID0gMDtcbiAgT2JqZWN0LmtleXMoZS5hdHQpLmZvckVhY2goKGYpID0+IHtcbiAgICBjb25zdCBoID0gT2JqZWN0LmtleXMoZS5hdHRbZl0pLm1hcCgodykgPT4gKHsgYWJpbGl0eTogdy5zcGxpdChcIi9cIilbMF0sIGFjdGlvbjogdy5zcGxpdChcIi9cIilbMV0gfSkpO1xuICAgIGguc29ydCgodywgQSkgPT4gdy5hY3Rpb24ubG9jYWxlQ29tcGFyZShBLmFjdGlvbikpO1xuICAgIGNvbnN0IGQgPSB7fTtcbiAgICBoLmZvckVhY2goKHcpID0+IHtcbiAgICAgIGRbdy5hYmlsaXR5XSB8fCAoZFt3LmFiaWxpdHldID0gW10pLCBkW3cuYWJpbGl0eV0ucHVzaCh3LmFjdGlvbik7XG4gICAgfSk7XG4gICAgY29uc3QgdiA9IE9iamVjdC5rZXlzKGQpLm1hcCgodykgPT4gKG4rKywgYCgke259KSAnJHt3fSc6ICcke2Rbd10uam9pbihcIicsICdcIil9JyBmb3IgJyR7Zn0nLmApKTtcbiAgICBpLnB1c2godi5qb2luKFwiLCBcIikucmVwbGFjZShcIi4sXCIsIFwiLlwiKSk7XG4gIH0pO1xuICBjb25zdCBzID0gaS5qb2luKFwiIFwiKSwgbyA9IGAke3R9JHtzfWA7XG4gIHJldHVybiBgJHtyID8gciArIFwiIFwiIDogXCJcIn0ke299YDtcbn1cbmZ1bmN0aW9uIE5jKHIpIHtcbiAgdmFyIGU7XG4gIGNvbnN0IHQgPSBYbihyKTtcbiAgSGkodCk7XG4gIGNvbnN0IGkgPSAoZSA9IHQuYXR0KSA9PSBudWxsID8gdm9pZCAwIDogZS5laXAxNTU7XG4gIHJldHVybiBpID8gT2JqZWN0LmtleXMoaSkubWFwKChuKSA9PiBuLnNwbGl0KFwiL1wiKVsxXSkgOiBbXTtcbn1cbmZ1bmN0aW9uIFRjKHIpIHtcbiAgY29uc3QgZSA9IFhuKHIpO1xuICBIaShlKTtcbiAgY29uc3QgdCA9IFtdO1xuICByZXR1cm4gT2JqZWN0LnZhbHVlcyhlLmF0dCkuZm9yRWFjaCgoaSkgPT4ge1xuICAgIE9iamVjdC52YWx1ZXMoaSkuZm9yRWFjaCgobikgPT4ge1xuICAgICAgdmFyIHM7XG4gICAgICAocyA9IG4/LlswXSkgIT0gbnVsbCAmJiBzLmNoYWlucyAmJiB0LnB1c2goblswXS5jaGFpbnMpO1xuICAgIH0pO1xuICB9KSwgWy4uLm5ldyBTZXQodC5mbGF0KCkpXTtcbn1cbmZ1bmN0aW9uIFRzKHIpIHtcbiAgaWYgKCFyKVxuICAgIHJldHVybjtcbiAgY29uc3QgZSA9IHI/LltyLmxlbmd0aCAtIDFdO1xuICByZXR1cm4gTnkoZSkgPyBlIDogdm9pZCAwO1xufVxuY29uc3QgaGQgPSBcImJhc2UxMFwiLCBCdCA9IFwiYmFzZTE2XCIsIHdpID0gXCJiYXNlNjRwYWRcIiwgTG4gPSBcImJhc2U2NHVybFwiLCB1cyA9IFwidXRmOFwiLCB1ZCA9IDAsIGhpID0gMSwgZHMgPSAyLCBMeSA9IDAsIENjID0gMSwgS24gPSAxMiwgc2YgPSAzMjtcbmZ1bmN0aW9uIEZ5KCkge1xuICBjb25zdCByID0gVm8uZ2VuZXJhdGVLZXlQYWlyKCk7XG4gIHJldHVybiB7IHByaXZhdGVLZXk6IE10KHIuc2VjcmV0S2V5LCBCdCksIHB1YmxpY0tleTogTXQoci5wdWJsaWNLZXksIEJ0KSB9O1xufVxuZnVuY3Rpb24gQW8oKSB7XG4gIGNvbnN0IHIgPSBFaS5yYW5kb21CeXRlcyhzZik7XG4gIHJldHVybiBNdChyLCBCdCk7XG59XG5mdW5jdGlvbiBxeShyLCBlKSB7XG4gIGNvbnN0IHQgPSBWby5zaGFyZWRLZXkoU3QociwgQnQpLCBTdChlLCBCdCksICEwKSwgaSA9IG5ldyBKZyhhcy5TSEEyNTYsIHQpLmV4cGFuZChzZik7XG4gIHJldHVybiBNdChpLCBCdCk7XG59XG5mdW5jdGlvbiBDcyhyKSB7XG4gIGNvbnN0IGUgPSBhcy5oYXNoKFN0KHIsIEJ0KSk7XG4gIHJldHVybiBNdChlLCBCdCk7XG59XG5mdW5jdGlvbiBmaShyKSB7XG4gIGNvbnN0IGUgPSBhcy5oYXNoKFN0KHIsIHVzKSk7XG4gIHJldHVybiBNdChlLCBCdCk7XG59XG5mdW5jdGlvbiBkZChyKSB7XG4gIHJldHVybiBTdChgJHtyfWAsIGhkKTtcbn1cbmZ1bmN0aW9uIFZpKHIpIHtcbiAgcmV0dXJuIE51bWJlcihNdChyLCBoZCkpO1xufVxuZnVuY3Rpb24gVXkocikge1xuICBjb25zdCBlID0gZGQodHlwZW9mIHIudHlwZSA8IFwidVwiID8gci50eXBlIDogdWQpO1xuICBpZiAoVmkoZSkgPT09IGhpICYmIHR5cGVvZiByLnNlbmRlclB1YmxpY0tleSA+IFwidVwiKVxuICAgIHRocm93IG5ldyBFcnJvcihcIk1pc3Npbmcgc2VuZGVyIHB1YmxpYyBrZXkgZm9yIHR5cGUgMSBlbnZlbG9wZVwiKTtcbiAgY29uc3QgdCA9IHR5cGVvZiByLnNlbmRlclB1YmxpY0tleSA8IFwidVwiID8gU3Qoci5zZW5kZXJQdWJsaWNLZXksIEJ0KSA6IHZvaWQgMCwgaSA9IHR5cGVvZiByLml2IDwgXCJ1XCIgPyBTdChyLml2LCBCdCkgOiBFaS5yYW5kb21CeXRlcyhLbiksIG4gPSBuZXcgS28uQ2hhQ2hhMjBQb2x5MTMwNShTdChyLnN5bUtleSwgQnQpKS5zZWFsKGksIFN0KHIubWVzc2FnZSwgdXMpKTtcbiAgcmV0dXJuIGxkKHsgdHlwZTogZSwgc2VhbGVkOiBuLCBpdjogaSwgc2VuZGVyUHVibGljS2V5OiB0LCBlbmNvZGluZzogci5lbmNvZGluZyB9KTtcbn1cbmZ1bmN0aW9uIHp5KHIsIGUpIHtcbiAgY29uc3QgdCA9IGRkKGRzKSwgaSA9IEVpLnJhbmRvbUJ5dGVzKEtuKSwgbiA9IFN0KHIsIHVzKTtcbiAgcmV0dXJuIGxkKHsgdHlwZTogdCwgc2VhbGVkOiBuLCBpdjogaSwgZW5jb2Rpbmc6IGUgfSk7XG59XG5mdW5jdGlvbiBCeShyKSB7XG4gIGNvbnN0IGUgPSBuZXcgS28uQ2hhQ2hhMjBQb2x5MTMwNShTdChyLnN5bUtleSwgQnQpKSwgeyBzZWFsZWQ6IHQsIGl2OiBpIH0gPSBabih7IGVuY29kZWQ6IHIuZW5jb2RlZCwgZW5jb2Rpbmc6IHI/LmVuY29kaW5nIH0pLCBuID0gZS5vcGVuKGksIHQpO1xuICBpZiAobiA9PT0gbnVsbClcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZGVjcnlwdFwiKTtcbiAgcmV0dXJuIE10KG4sIHVzKTtcbn1cbmZ1bmN0aW9uIGt5KHIsIGUpIHtcbiAgY29uc3QgeyBzZWFsZWQ6IHQgfSA9IFpuKHsgZW5jb2RlZDogciwgZW5jb2Rpbmc6IGUgfSk7XG4gIHJldHVybiBNdCh0LCB1cyk7XG59XG5mdW5jdGlvbiBsZChyKSB7XG4gIGNvbnN0IHsgZW5jb2Rpbmc6IGUgPSB3aSB9ID0gcjtcbiAgaWYgKFZpKHIudHlwZSkgPT09IGRzKVxuICAgIHJldHVybiBNdChEcyhbci50eXBlLCByLnNlYWxlZF0pLCBlKTtcbiAgaWYgKFZpKHIudHlwZSkgPT09IGhpKSB7XG4gICAgaWYgKHR5cGVvZiByLnNlbmRlclB1YmxpY0tleSA+IFwidVwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWlzc2luZyBzZW5kZXIgcHVibGljIGtleSBmb3IgdHlwZSAxIGVudmVsb3BlXCIpO1xuICAgIHJldHVybiBNdChEcyhbci50eXBlLCByLnNlbmRlclB1YmxpY0tleSwgci5pdiwgci5zZWFsZWRdKSwgZSk7XG4gIH1cbiAgcmV0dXJuIE10KERzKFtyLnR5cGUsIHIuaXYsIHIuc2VhbGVkXSksIGUpO1xufVxuZnVuY3Rpb24gWm4ocikge1xuICBjb25zdCB7IGVuY29kZWQ6IGUsIGVuY29kaW5nOiB0ID0gd2kgfSA9IHIsIGkgPSBTdChlLCB0KSwgbiA9IGkuc2xpY2UoTHksIENjKSwgcyA9IENjO1xuICBpZiAoVmkobikgPT09IGhpKSB7XG4gICAgY29uc3QgZCA9IHMgKyBzZiwgdiA9IGQgKyBLbiwgdyA9IGkuc2xpY2UocywgZCksIEEgPSBpLnNsaWNlKGQsIHYpLCBJID0gaS5zbGljZSh2KTtcbiAgICByZXR1cm4geyB0eXBlOiBuLCBzZWFsZWQ6IEksIGl2OiBBLCBzZW5kZXJQdWJsaWNLZXk6IHcgfTtcbiAgfVxuICBpZiAoVmkobikgPT09IGRzKSB7XG4gICAgY29uc3QgZCA9IGkuc2xpY2UocyksIHYgPSBFaS5yYW5kb21CeXRlcyhLbik7XG4gICAgcmV0dXJuIHsgdHlwZTogbiwgc2VhbGVkOiBkLCBpdjogdiB9O1xuICB9XG4gIGNvbnN0IG8gPSBzICsgS24sIGYgPSBpLnNsaWNlKHMsIG8pLCBoID0gaS5zbGljZShvKTtcbiAgcmV0dXJuIHsgdHlwZTogbiwgc2VhbGVkOiBoLCBpdjogZiB9O1xufVxuZnVuY3Rpb24gankociwgZSkge1xuICBjb25zdCB0ID0gWm4oeyBlbmNvZGVkOiByLCBlbmNvZGluZzogZT8uZW5jb2RpbmcgfSk7XG4gIHJldHVybiBwZCh7IHR5cGU6IFZpKHQudHlwZSksIHNlbmRlclB1YmxpY0tleTogdHlwZW9mIHQuc2VuZGVyUHVibGljS2V5IDwgXCJ1XCIgPyBNdCh0LnNlbmRlclB1YmxpY0tleSwgQnQpIDogdm9pZCAwLCByZWNlaXZlclB1YmxpY0tleTogZT8ucmVjZWl2ZXJQdWJsaWNLZXkgfSk7XG59XG5mdW5jdGlvbiBwZChyKSB7XG4gIGNvbnN0IGUgPSByPy50eXBlIHx8IHVkO1xuICBpZiAoZSA9PT0gaGkpIHtcbiAgICBpZiAodHlwZW9mIHI/LnNlbmRlclB1YmxpY0tleSA+IFwidVwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwibWlzc2luZyBzZW5kZXIgcHVibGljIGtleVwiKTtcbiAgICBpZiAodHlwZW9mIHI/LnJlY2VpdmVyUHVibGljS2V5ID4gXCJ1XCIpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtaXNzaW5nIHJlY2VpdmVyIHB1YmxpYyBrZXlcIik7XG4gIH1cbiAgcmV0dXJuIHsgdHlwZTogZSwgc2VuZGVyUHVibGljS2V5OiByPy5zZW5kZXJQdWJsaWNLZXksIHJlY2VpdmVyUHVibGljS2V5OiByPy5yZWNlaXZlclB1YmxpY0tleSB9O1xufVxuZnVuY3Rpb24gJGMocikge1xuICByZXR1cm4gci50eXBlID09PSBoaSAmJiB0eXBlb2Ygci5zZW5kZXJQdWJsaWNLZXkgPT0gXCJzdHJpbmdcIiAmJiB0eXBlb2Ygci5yZWNlaXZlclB1YmxpY0tleSA9PSBcInN0cmluZ1wiO1xufVxuZnVuY3Rpb24gTGMocikge1xuICByZXR1cm4gci50eXBlID09PSBkcztcbn1cbmZ1bmN0aW9uIEt5KHIpIHtcbiAgcmV0dXJuIG5ldyBLdS5lYyhcInAyNTZcIikua2V5RnJvbVB1YmxpYyh7IHg6IEJ1ZmZlci5mcm9tKHIueCwgXCJiYXNlNjRcIikudG9TdHJpbmcoXCJoZXhcIiksIHk6IEJ1ZmZlci5mcm9tKHIueSwgXCJiYXNlNjRcIikudG9TdHJpbmcoXCJoZXhcIikgfSwgXCJoZXhcIik7XG59XG5mdW5jdGlvbiBIeShyKSB7XG4gIGxldCBlID0gci5yZXBsYWNlKC8tL2csIFwiK1wiKS5yZXBsYWNlKC9fL2csIFwiL1wiKTtcbiAgY29uc3QgdCA9IGUubGVuZ3RoICUgNDtcbiAgcmV0dXJuIHQgPiAwICYmIChlICs9IFwiPVwiLnJlcGVhdCg0IC0gdCkpLCBlO1xufVxuZnVuY3Rpb24gVnkocikge1xuICByZXR1cm4gQnVmZmVyLmZyb20oSHkociksIFwiYmFzZTY0XCIpO1xufVxuZnVuY3Rpb24gV3kociwgZSkge1xuICBjb25zdCBbdCwgaSwgbl0gPSByLnNwbGl0KFwiLlwiKSwgcyA9IFZ5KG4pO1xuICBpZiAocy5sZW5ndGggIT09IDY0KVxuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc2lnbmF0dXJlIGxlbmd0aFwiKTtcbiAgY29uc3QgbyA9IHMuc2xpY2UoMCwgMzIpLnRvU3RyaW5nKFwiaGV4XCIpLCBmID0gcy5zbGljZSgzMiwgNjQpLnRvU3RyaW5nKFwiaGV4XCIpLCBoID0gYCR7dH0uJHtpfWAsIGQgPSBuZXcgYXMuU0hBMjU2KCkudXBkYXRlKEJ1ZmZlci5mcm9tKGgpKS5kaWdlc3QoKSwgdiA9IEt5KGUpLCB3ID0gQnVmZmVyLmZyb20oZCkudG9TdHJpbmcoXCJoZXhcIik7XG4gIGlmICghdi52ZXJpZnkodywgeyByOiBvLCBzOiBmIH0pKVxuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc2lnbmF0dXJlXCIpO1xuICByZXR1cm4gYm8ocikucGF5bG9hZDtcbn1cbmNvbnN0IEd5ID0gXCJpcm5cIjtcbmZ1bmN0aW9uIFlzKHIpIHtcbiAgcmV0dXJuIHI/LnJlbGF5IHx8IHsgcHJvdG9jb2w6IEd5IH07XG59XG5mdW5jdGlvbiBqbihyKSB7XG4gIGNvbnN0IGUgPSB6MltyXTtcbiAgaWYgKHR5cGVvZiBlID4gXCJ1XCIpXG4gICAgdGhyb3cgbmV3IEVycm9yKGBSZWxheSBQcm90b2NvbCBub3Qgc3VwcG9ydGVkOiAke3J9YCk7XG4gIHJldHVybiBlO1xufVxudmFyIEp5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBZeSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLCBYeSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLCBGYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsIFp5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSwgUXkgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLCBxYyA9IChyLCBlLCB0KSA9PiBlIGluIHIgPyBKeShyLCBlLCB7IGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAsIHZhbHVlOiB0IH0pIDogcltlXSA9IHQsIFVjID0gKHIsIGUpID0+IHtcbiAgZm9yICh2YXIgdCBpbiBlIHx8IChlID0ge30pKVxuICAgIFp5LmNhbGwoZSwgdCkgJiYgcWMociwgdCwgZVt0XSk7XG4gIGlmIChGYylcbiAgICBmb3IgKHZhciB0IG9mIEZjKGUpKVxuICAgICAgUXkuY2FsbChlLCB0KSAmJiBxYyhyLCB0LCBlW3RdKTtcbiAgcmV0dXJuIHI7XG59LCBlbSA9IChyLCBlKSA9PiBZeShyLCBYeShlKSk7XG5mdW5jdGlvbiB0bShyLCBlID0gXCItXCIpIHtcbiAgY29uc3QgdCA9IHt9LCBpID0gXCJyZWxheVwiICsgZTtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHIpLmZvckVhY2goKG4pID0+IHtcbiAgICBpZiAobi5zdGFydHNXaXRoKGkpKSB7XG4gICAgICBjb25zdCBzID0gbi5yZXBsYWNlKGksIFwiXCIpLCBvID0gcltuXTtcbiAgICAgIHRbc10gPSBvO1xuICAgIH1cbiAgfSksIHQ7XG59XG5mdW5jdGlvbiB6YyhyKSB7XG4gIGlmICghci5pbmNsdWRlcyhcIndjOlwiKSkge1xuICAgIGNvbnN0IGggPSBvZChyKTtcbiAgICBoICE9IG51bGwgJiYgaC5pbmNsdWRlcyhcIndjOlwiKSAmJiAociA9IGgpO1xuICB9XG4gIHIgPSByLmluY2x1ZGVzKFwid2M6Ly9cIikgPyByLnJlcGxhY2UoXCJ3YzovL1wiLCBcIlwiKSA6IHIsIHIgPSByLmluY2x1ZGVzKFwid2M6XCIpID8gci5yZXBsYWNlKFwid2M6XCIsIFwiXCIpIDogcjtcbiAgY29uc3QgZSA9IHIuaW5kZXhPZihcIjpcIiksIHQgPSByLmluZGV4T2YoXCI/XCIpICE9PSAtMSA/IHIuaW5kZXhPZihcIj9cIikgOiB2b2lkIDAsIGkgPSByLnN1YnN0cmluZygwLCBlKSwgbiA9IHIuc3Vic3RyaW5nKGUgKyAxLCB0KS5zcGxpdChcIkBcIiksIHMgPSB0eXBlb2YgdCA8IFwidVwiID8gci5zdWJzdHJpbmcodCkgOiBcIlwiLCBvID0gWW4ucGFyc2UocyksIGYgPSB0eXBlb2Ygby5tZXRob2RzID09IFwic3RyaW5nXCIgPyBvLm1ldGhvZHMuc3BsaXQoXCIsXCIpIDogdm9pZCAwO1xuICByZXR1cm4geyBwcm90b2NvbDogaSwgdG9waWM6IHJtKG5bMF0pLCB2ZXJzaW9uOiBwYXJzZUludChuWzFdLCAxMCksIHN5bUtleTogby5zeW1LZXksIHJlbGF5OiB0bShvKSwgbWV0aG9kczogZiwgZXhwaXJ5VGltZXN0YW1wOiBvLmV4cGlyeVRpbWVzdGFtcCA/IHBhcnNlSW50KG8uZXhwaXJ5VGltZXN0YW1wLCAxMCkgOiB2b2lkIDAgfTtcbn1cbmZ1bmN0aW9uIHJtKHIpIHtcbiAgcmV0dXJuIHIuc3RhcnRzV2l0aChcIi8vXCIpID8gci5zdWJzdHJpbmcoMikgOiByO1xufVxuZnVuY3Rpb24gaW0ociwgZSA9IFwiLVwiKSB7XG4gIGNvbnN0IHQgPSBcInJlbGF5XCIsIGkgPSB7fTtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHIpLmZvckVhY2goKG4pID0+IHtcbiAgICBjb25zdCBzID0gdCArIGUgKyBuO1xuICAgIHJbbl0gJiYgKGlbc10gPSByW25dKTtcbiAgfSksIGk7XG59XG5mdW5jdGlvbiBCYyhyKSB7XG4gIHJldHVybiBgJHtyLnByb3RvY29sfToke3IudG9waWN9QCR7ci52ZXJzaW9ufT9gICsgWW4uc3RyaW5naWZ5KFVjKGVtKFVjKHsgc3ltS2V5OiByLnN5bUtleSB9LCBpbShyLnJlbGF5KSksIHsgZXhwaXJ5VGltZXN0YW1wOiByLmV4cGlyeVRpbWVzdGFtcCB9KSwgci5tZXRob2RzID8geyBtZXRob2RzOiByLm1ldGhvZHMuam9pbihcIixcIikgfSA6IHt9KSk7XG59XG5mdW5jdGlvbiBFcyhyLCBlLCB0KSB7XG4gIHJldHVybiBgJHtyfT93Y19ldj0ke3R9JnRvcGljPSR7ZX1gO1xufVxuZnVuY3Rpb24gSW4ocikge1xuICBjb25zdCBlID0gW107XG4gIHJldHVybiByLmZvckVhY2goKHQpID0+IHtcbiAgICBjb25zdCBbaSwgbl0gPSB0LnNwbGl0KFwiOlwiKTtcbiAgICBlLnB1c2goYCR7aX06JHtufWApO1xuICB9KSwgZTtcbn1cbmZ1bmN0aW9uIG5tKHIpIHtcbiAgY29uc3QgZSA9IFtdO1xuICByZXR1cm4gT2JqZWN0LnZhbHVlcyhyKS5mb3JFYWNoKCh0KSA9PiB7XG4gICAgZS5wdXNoKC4uLkluKHQuYWNjb3VudHMpKTtcbiAgfSksIGU7XG59XG5mdW5jdGlvbiBzbShyLCBlKSB7XG4gIGNvbnN0IHQgPSBbXTtcbiAgcmV0dXJuIE9iamVjdC52YWx1ZXMocikuZm9yRWFjaCgoaSkgPT4ge1xuICAgIEluKGkuYWNjb3VudHMpLmluY2x1ZGVzKGUpICYmIHQucHVzaCguLi5pLm1ldGhvZHMpO1xuICB9KSwgdDtcbn1cbmZ1bmN0aW9uIGFtKHIsIGUpIHtcbiAgY29uc3QgdCA9IFtdO1xuICByZXR1cm4gT2JqZWN0LnZhbHVlcyhyKS5mb3JFYWNoKChpKSA9PiB7XG4gICAgSW4oaS5hY2NvdW50cykuaW5jbHVkZXMoZSkgJiYgdC5wdXNoKC4uLmkuZXZlbnRzKTtcbiAgfSksIHQ7XG59XG5mdW5jdGlvbiBvbShyKSB7XG4gIGNvbnN0IGUgPSB7fTtcbiAgcmV0dXJuIHI/LmZvckVhY2goKHQpID0+IHtcbiAgICBjb25zdCBbaSwgbl0gPSB0LnNwbGl0KFwiOlwiKTtcbiAgICBlW2ldIHx8IChlW2ldID0geyBhY2NvdW50czogW10sIGNoYWluczogW10sIGV2ZW50czogW10gfSksIGVbaV0uYWNjb3VudHMucHVzaCh0KSwgZVtpXS5jaGFpbnMucHVzaChgJHtpfToke259YCk7XG4gIH0pLCBlO1xufVxuZnVuY3Rpb24ga2MociwgZSkge1xuICBlID0gZS5tYXAoKGkpID0+IGkucmVwbGFjZShcImRpZDpwa2g6XCIsIFwiXCIpKTtcbiAgY29uc3QgdCA9IG9tKGUpO1xuICBmb3IgKGNvbnN0IFtpLCBuXSBvZiBPYmplY3QuZW50cmllcyh0KSlcbiAgICBuLm1ldGhvZHMgPyBuLm1ldGhvZHMgPSBheShuLm1ldGhvZHMsIHIpIDogbi5tZXRob2RzID0gciwgbi5ldmVudHMgPSBbXCJjaGFpbkNoYW5nZWRcIiwgXCJhY2NvdW50c0NoYW5nZWRcIl07XG4gIHJldHVybiB0O1xufVxuY29uc3QgZm0gPSB7IElOVkFMSURfTUVUSE9EOiB7IG1lc3NhZ2U6IFwiSW52YWxpZCBtZXRob2QuXCIsIGNvZGU6IDEwMDEgfSwgSU5WQUxJRF9FVkVOVDogeyBtZXNzYWdlOiBcIkludmFsaWQgZXZlbnQuXCIsIGNvZGU6IDEwMDIgfSwgSU5WQUxJRF9VUERBVEVfUkVRVUVTVDogeyBtZXNzYWdlOiBcIkludmFsaWQgdXBkYXRlIHJlcXVlc3QuXCIsIGNvZGU6IDEwMDMgfSwgSU5WQUxJRF9FWFRFTkRfUkVRVUVTVDogeyBtZXNzYWdlOiBcIkludmFsaWQgZXh0ZW5kIHJlcXVlc3QuXCIsIGNvZGU6IDEwMDQgfSwgSU5WQUxJRF9TRVNTSU9OX1NFVFRMRV9SRVFVRVNUOiB7IG1lc3NhZ2U6IFwiSW52YWxpZCBzZXNzaW9uIHNldHRsZSByZXF1ZXN0LlwiLCBjb2RlOiAxMDA1IH0sIFVOQVVUSE9SSVpFRF9NRVRIT0Q6IHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWQgbWV0aG9kLlwiLCBjb2RlOiAzMDAxIH0sIFVOQVVUSE9SSVpFRF9FVkVOVDogeyBtZXNzYWdlOiBcIlVuYXV0aG9yaXplZCBldmVudC5cIiwgY29kZTogMzAwMiB9LCBVTkFVVEhPUklaRURfVVBEQVRFX1JFUVVFU1Q6IHsgbWVzc2FnZTogXCJVbmF1dGhvcml6ZWQgdXBkYXRlIHJlcXVlc3QuXCIsIGNvZGU6IDMwMDMgfSwgVU5BVVRIT1JJWkVEX0VYVEVORF9SRVFVRVNUOiB7IG1lc3NhZ2U6IFwiVW5hdXRob3JpemVkIGV4dGVuZCByZXF1ZXN0LlwiLCBjb2RlOiAzMDA0IH0sIFVTRVJfUkVKRUNURUQ6IHsgbWVzc2FnZTogXCJVc2VyIHJlamVjdGVkLlwiLCBjb2RlOiA1ZTMgfSwgVVNFUl9SRUpFQ1RFRF9DSEFJTlM6IHsgbWVzc2FnZTogXCJVc2VyIHJlamVjdGVkIGNoYWlucy5cIiwgY29kZTogNTAwMSB9LCBVU0VSX1JFSkVDVEVEX01FVEhPRFM6IHsgbWVzc2FnZTogXCJVc2VyIHJlamVjdGVkIG1ldGhvZHMuXCIsIGNvZGU6IDUwMDIgfSwgVVNFUl9SRUpFQ1RFRF9FVkVOVFM6IHsgbWVzc2FnZTogXCJVc2VyIHJlamVjdGVkIGV2ZW50cy5cIiwgY29kZTogNTAwMyB9LCBVTlNVUFBPUlRFRF9DSEFJTlM6IHsgbWVzc2FnZTogXCJVbnN1cHBvcnRlZCBjaGFpbnMuXCIsIGNvZGU6IDUxMDAgfSwgVU5TVVBQT1JURURfTUVUSE9EUzogeyBtZXNzYWdlOiBcIlVuc3VwcG9ydGVkIG1ldGhvZHMuXCIsIGNvZGU6IDUxMDEgfSwgVU5TVVBQT1JURURfRVZFTlRTOiB7IG1lc3NhZ2U6IFwiVW5zdXBwb3J0ZWQgZXZlbnRzLlwiLCBjb2RlOiA1MTAyIH0sIFVOU1VQUE9SVEVEX0FDQ09VTlRTOiB7IG1lc3NhZ2U6IFwiVW5zdXBwb3J0ZWQgYWNjb3VudHMuXCIsIGNvZGU6IDUxMDMgfSwgVU5TVVBQT1JURURfTkFNRVNQQUNFX0tFWTogeyBtZXNzYWdlOiBcIlVuc3VwcG9ydGVkIG5hbWVzcGFjZSBrZXkuXCIsIGNvZGU6IDUxMDQgfSwgVVNFUl9ESVNDT05ORUNURUQ6IHsgbWVzc2FnZTogXCJVc2VyIGRpc2Nvbm5lY3RlZC5cIiwgY29kZTogNmUzIH0sIFNFU1NJT05fU0VUVExFTUVOVF9GQUlMRUQ6IHsgbWVzc2FnZTogXCJTZXNzaW9uIHNldHRsZW1lbnQgZmFpbGVkLlwiLCBjb2RlOiA3ZTMgfSwgV0NfTUVUSE9EX1VOU1VQUE9SVEVEOiB7IG1lc3NhZ2U6IFwiVW5zdXBwb3J0ZWQgd2NfIG1ldGhvZC5cIiwgY29kZTogMTAwMDEgfSB9LCBjbSA9IHsgTk9UX0lOSVRJQUxJWkVEOiB7IG1lc3NhZ2U6IFwiTm90IGluaXRpYWxpemVkLlwiLCBjb2RlOiAxIH0sIE5PX01BVENISU5HX0tFWTogeyBtZXNzYWdlOiBcIk5vIG1hdGNoaW5nIGtleS5cIiwgY29kZTogMiB9LCBSRVNUT1JFX1dJTExfT1ZFUlJJREU6IHsgbWVzc2FnZTogXCJSZXN0b3JlIHdpbGwgb3ZlcnJpZGUuXCIsIGNvZGU6IDMgfSwgUkVTVUJTQ1JJQkVEOiB7IG1lc3NhZ2U6IFwiUmVzdWJzY3JpYmVkLlwiLCBjb2RlOiA0IH0sIE1JU1NJTkdfT1JfSU5WQUxJRDogeyBtZXNzYWdlOiBcIk1pc3Npbmcgb3IgaW52YWxpZC5cIiwgY29kZTogNSB9LCBFWFBJUkVEOiB7IG1lc3NhZ2U6IFwiRXhwaXJlZC5cIiwgY29kZTogNiB9LCBVTktOT1dOX1RZUEU6IHsgbWVzc2FnZTogXCJVbmtub3duIHR5cGUuXCIsIGNvZGU6IDcgfSwgTUlTTUFUQ0hFRF9UT1BJQzogeyBtZXNzYWdlOiBcIk1pc21hdGNoZWQgdG9waWMuXCIsIGNvZGU6IDggfSwgTk9OX0NPTkZPUk1JTkdfTkFNRVNQQUNFUzogeyBtZXNzYWdlOiBcIk5vbiBjb25mb3JtaW5nIG5hbWVzcGFjZXMuXCIsIGNvZGU6IDkgfSB9O1xuZnVuY3Rpb24gYWUociwgZSkge1xuICBjb25zdCB7IG1lc3NhZ2U6IHQsIGNvZGU6IGkgfSA9IGNtW3JdO1xuICByZXR1cm4geyBtZXNzYWdlOiBlID8gYCR7dH0gJHtlfWAgOiB0LCBjb2RlOiBpIH07XG59XG5mdW5jdGlvbiBzdChyLCBlKSB7XG4gIGNvbnN0IHsgbWVzc2FnZTogdCwgY29kZTogaSB9ID0gZm1bcl07XG4gIHJldHVybiB7IG1lc3NhZ2U6IGUgPyBgJHt0fSAke2V9YCA6IHQsIGNvZGU6IGkgfTtcbn1cbmZ1bmN0aW9uIFNhKHIsIGUpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkocikgPyB0eXBlb2YgZSA8IFwidVwiICYmIHIubGVuZ3RoID8gci5ldmVyeShlKSA6ICEwIDogITE7XG59XG5mdW5jdGlvbiBYcyhyKSB7XG4gIHJldHVybiBPYmplY3QuZ2V0UHJvdG90eXBlT2YocikgPT09IE9iamVjdC5wcm90b3R5cGUgJiYgT2JqZWN0LmtleXMocikubGVuZ3RoO1xufVxuZnVuY3Rpb24genQocikge1xuICByZXR1cm4gdHlwZW9mIHIgPiBcInVcIjtcbn1cbmZ1bmN0aW9uIGJ0KHIsIGUpIHtcbiAgcmV0dXJuIGUgJiYgenQocikgPyAhMCA6IHR5cGVvZiByID09IFwic3RyaW5nXCIgJiYgISFyLnRyaW0oKS5sZW5ndGg7XG59XG5mdW5jdGlvbiBhZihyLCBlKSB7XG4gIHJldHVybiBlICYmIHp0KHIpID8gITAgOiB0eXBlb2YgciA9PSBcIm51bWJlclwiICYmICFpc05hTihyKTtcbn1cbmZ1bmN0aW9uIGhtKHIsIGUpIHtcbiAgY29uc3QgeyByZXF1aXJlZE5hbWVzcGFjZXM6IHQgfSA9IGUsIGkgPSBPYmplY3Qua2V5cyhyLm5hbWVzcGFjZXMpLCBuID0gT2JqZWN0LmtleXModCk7XG4gIGxldCBzID0gITA7XG4gIHJldHVybiBVaShuLCBpKSA/IChpLmZvckVhY2goKG8pID0+IHtcbiAgICBjb25zdCB7IGFjY291bnRzOiBmLCBtZXRob2RzOiBoLCBldmVudHM6IGQgfSA9IHIubmFtZXNwYWNlc1tvXSwgdiA9IEluKGYpLCB3ID0gdFtvXTtcbiAgICAoIVVpKHRmKG8sIHcpLCB2KSB8fCAhVWkody5tZXRob2RzLCBoKSB8fCAhVWkody5ldmVudHMsIGQpKSAmJiAocyA9ICExKTtcbiAgfSksIHMpIDogITE7XG59XG5mdW5jdGlvbiBacyhyKSB7XG4gIHJldHVybiBidChyLCAhMSkgJiYgci5pbmNsdWRlcyhcIjpcIikgPyByLnNwbGl0KFwiOlwiKS5sZW5ndGggPT09IDIgOiAhMTtcbn1cbmZ1bmN0aW9uIHVtKHIpIHtcbiAgaWYgKGJ0KHIsICExKSAmJiByLmluY2x1ZGVzKFwiOlwiKSkge1xuICAgIGNvbnN0IGUgPSByLnNwbGl0KFwiOlwiKTtcbiAgICBpZiAoZS5sZW5ndGggPT09IDMpIHtcbiAgICAgIGNvbnN0IHQgPSBlWzBdICsgXCI6XCIgKyBlWzFdO1xuICAgICAgcmV0dXJuICEhZVsyXSAmJiBacyh0KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICExO1xufVxuZnVuY3Rpb24gZG0ocikge1xuICBmdW5jdGlvbiBlKHQpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBuZXcgVVJMKHQpIDwgXCJ1XCI7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gITE7XG4gICAgfVxuICB9XG4gIHRyeSB7XG4gICAgaWYgKGJ0KHIsICExKSkge1xuICAgICAgaWYgKGUocikpXG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIGNvbnN0IHQgPSBvZChyKTtcbiAgICAgIHJldHVybiBlKHQpO1xuICAgIH1cbiAgfSBjYXRjaCB7XG4gIH1cbiAgcmV0dXJuICExO1xufVxuZnVuY3Rpb24gbG0ocikge1xuICB2YXIgZTtcbiAgcmV0dXJuIChlID0gcj8ucHJvcG9zZXIpID09IG51bGwgPyB2b2lkIDAgOiBlLnB1YmxpY0tleTtcbn1cbmZ1bmN0aW9uIHBtKHIpIHtcbiAgcmV0dXJuIHI/LnRvcGljO1xufVxuZnVuY3Rpb24gdm0ociwgZSkge1xuICBsZXQgdCA9IG51bGw7XG4gIHJldHVybiBidChyPy5wdWJsaWNLZXksICExKSB8fCAodCA9IGFlKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsIGAke2V9IGNvbnRyb2xsZXIgcHVibGljIGtleSBzaG91bGQgYmUgYSBzdHJpbmdgKSksIHQ7XG59XG5mdW5jdGlvbiBqYyhyKSB7XG4gIGxldCBlID0gITA7XG4gIHJldHVybiBTYShyKSA/IHIubGVuZ3RoICYmIChlID0gci5ldmVyeSgodCkgPT4gYnQodCwgITEpKSkgOiBlID0gITEsIGU7XG59XG5mdW5jdGlvbiBibShyLCBlLCB0KSB7XG4gIGxldCBpID0gbnVsbDtcbiAgcmV0dXJuIFNhKGUpICYmIGUubGVuZ3RoID8gZS5mb3JFYWNoKChuKSA9PiB7XG4gICAgaSB8fCBacyhuKSB8fCAoaSA9IHN0KFwiVU5TVVBQT1JURURfQ0hBSU5TXCIsIGAke3R9LCBjaGFpbiAke259IHNob3VsZCBiZSBhIHN0cmluZyBhbmQgY29uZm9ybSB0byBcIm5hbWVzcGFjZTpjaGFpbklkXCIgZm9ybWF0YCkpO1xuICB9KSA6IFpzKHIpIHx8IChpID0gc3QoXCJVTlNVUFBPUlRFRF9DSEFJTlNcIiwgYCR7dH0sIGNoYWlucyBtdXN0IGJlIGRlZmluZWQgYXMgXCJuYW1lc3BhY2U6Y2hhaW5JZFwiIGUuZy4gXCJlaXAxNTU6MVwiOiB7Li4ufSBpbiB0aGUgbmFtZXNwYWNlIGtleSBPUiBhcyBhbiBhcnJheSBvZiBDQUlQLTIgY2hhaW5JZHMgZS5nLiBlaXAxNTU6IHsgY2hhaW5zOiBbXCJlaXAxNTU6MVwiLCBcImVpcDE1NTo1XCJdIH1gKSksIGk7XG59XG5mdW5jdGlvbiBnbShyLCBlLCB0KSB7XG4gIGxldCBpID0gbnVsbDtcbiAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKHIpLmZvckVhY2goKFtuLCBzXSkgPT4ge1xuICAgIGlmIChpKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IG8gPSBibShuLCB0ZihuLCBzKSwgYCR7ZX0gJHt0fWApO1xuICAgIG8gJiYgKGkgPSBvKTtcbiAgfSksIGk7XG59XG5mdW5jdGlvbiB5bShyLCBlKSB7XG4gIGxldCB0ID0gbnVsbDtcbiAgcmV0dXJuIFNhKHIpID8gci5mb3JFYWNoKChpKSA9PiB7XG4gICAgdCB8fCB1bShpKSB8fCAodCA9IHN0KFwiVU5TVVBQT1JURURfQUNDT1VOVFNcIiwgYCR7ZX0sIGFjY291bnQgJHtpfSBzaG91bGQgYmUgYSBzdHJpbmcgYW5kIGNvbmZvcm0gdG8gXCJuYW1lc3BhY2U6Y2hhaW5JZDphZGRyZXNzXCIgZm9ybWF0YCkpO1xuICB9KSA6IHQgPSBzdChcIlVOU1VQUE9SVEVEX0FDQ09VTlRTXCIsIGAke2V9LCBhY2NvdW50cyBzaG91bGQgYmUgYW4gYXJyYXkgb2Ygc3RyaW5ncyBjb25mb3JtaW5nIHRvIFwibmFtZXNwYWNlOmNoYWluSWQ6YWRkcmVzc1wiIGZvcm1hdGApLCB0O1xufVxuZnVuY3Rpb24gbW0ociwgZSkge1xuICBsZXQgdCA9IG51bGw7XG4gIHJldHVybiBPYmplY3QudmFsdWVzKHIpLmZvckVhY2goKGkpID0+IHtcbiAgICBpZiAodClcbiAgICAgIHJldHVybjtcbiAgICBjb25zdCBuID0geW0oaT8uYWNjb3VudHMsIGAke2V9IG5hbWVzcGFjZWApO1xuICAgIG4gJiYgKHQgPSBuKTtcbiAgfSksIHQ7XG59XG5mdW5jdGlvbiB3bShyLCBlKSB7XG4gIGxldCB0ID0gbnVsbDtcbiAgcmV0dXJuIGpjKHI/Lm1ldGhvZHMpID8gamMocj8uZXZlbnRzKSB8fCAodCA9IHN0KFwiVU5TVVBQT1JURURfRVZFTlRTXCIsIGAke2V9LCBldmVudHMgc2hvdWxkIGJlIGFuIGFycmF5IG9mIHN0cmluZ3Mgb3IgZW1wdHkgYXJyYXkgZm9yIG5vIGV2ZW50c2ApKSA6IHQgPSBzdChcIlVOU1VQUE9SVEVEX01FVEhPRFNcIiwgYCR7ZX0sIG1ldGhvZHMgc2hvdWxkIGJlIGFuIGFycmF5IG9mIHN0cmluZ3Mgb3IgZW1wdHkgYXJyYXkgZm9yIG5vIG1ldGhvZHNgKSwgdDtcbn1cbmZ1bmN0aW9uIHZkKHIsIGUpIHtcbiAgbGV0IHQgPSBudWxsO1xuICByZXR1cm4gT2JqZWN0LnZhbHVlcyhyKS5mb3JFYWNoKChpKSA9PiB7XG4gICAgaWYgKHQpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgbiA9IHdtKGksIGAke2V9LCBuYW1lc3BhY2VgKTtcbiAgICBuICYmICh0ID0gbik7XG4gIH0pLCB0O1xufVxuZnVuY3Rpb24gX20ociwgZSwgdCkge1xuICBsZXQgaSA9IG51bGw7XG4gIGlmIChyICYmIFhzKHIpKSB7XG4gICAgY29uc3QgbiA9IHZkKHIsIGUpO1xuICAgIG4gJiYgKGkgPSBuKTtcbiAgICBjb25zdCBzID0gZ20ociwgZSwgdCk7XG4gICAgcyAmJiAoaSA9IHMpO1xuICB9IGVsc2VcbiAgICBpID0gYWUoXCJNSVNTSU5HX09SX0lOVkFMSURcIiwgYCR7ZX0sICR7dH0gc2hvdWxkIGJlIGFuIG9iamVjdCB3aXRoIGRhdGFgKTtcbiAgcmV0dXJuIGk7XG59XG5mdW5jdGlvbiBlbyhyLCBlKSB7XG4gIGxldCB0ID0gbnVsbDtcbiAgaWYgKHIgJiYgWHMocikpIHtcbiAgICBjb25zdCBpID0gdmQociwgZSk7XG4gICAgaSAmJiAodCA9IGkpO1xuICAgIGNvbnN0IG4gPSBtbShyLCBlKTtcbiAgICBuICYmICh0ID0gbik7XG4gIH0gZWxzZVxuICAgIHQgPSBhZShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLCBgJHtlfSwgbmFtZXNwYWNlcyBzaG91bGQgYmUgYW4gb2JqZWN0IHdpdGggZGF0YWApO1xuICByZXR1cm4gdDtcbn1cbmZ1bmN0aW9uIGJkKHIpIHtcbiAgcmV0dXJuIGJ0KHIucHJvdG9jb2wsICEwKTtcbn1cbmZ1bmN0aW9uIHhtKHIsIGUpIHtcbiAgbGV0IHQgPSAhMTtcbiAgcmV0dXJuIGUgJiYgIXIgPyB0ID0gITAgOiByICYmIFNhKHIpICYmIHIubGVuZ3RoICYmIHIuZm9yRWFjaCgoaSkgPT4ge1xuICAgIHQgPSBiZChpKTtcbiAgfSksIHQ7XG59XG5mdW5jdGlvbiBFbShyKSB7XG4gIHJldHVybiB0eXBlb2YgciA9PSBcIm51bWJlclwiO1xufVxuZnVuY3Rpb24gR3Qocikge1xuICByZXR1cm4gdHlwZW9mIHIgPCBcInVcIiAmJiB0eXBlb2YgciAhPT0gbnVsbDtcbn1cbmZ1bmN0aW9uIFNtKHIpIHtcbiAgcmV0dXJuICEoIXIgfHwgdHlwZW9mIHIgIT0gXCJvYmplY3RcIiB8fCAhci5jb2RlIHx8ICFhZihyLmNvZGUsICExKSB8fCAhci5tZXNzYWdlIHx8ICFidChyLm1lc3NhZ2UsICExKSk7XG59XG5mdW5jdGlvbiBNbShyKSB7XG4gIHJldHVybiAhKHp0KHIpIHx8ICFidChyLm1ldGhvZCwgITEpKTtcbn1cbmZ1bmN0aW9uIEltKHIpIHtcbiAgcmV0dXJuICEoenQocikgfHwgenQoci5yZXN1bHQpICYmIHp0KHIuZXJyb3IpIHx8ICFhZihyLmlkLCAhMSkgfHwgIWJ0KHIuanNvbnJwYywgITEpKTtcbn1cbmZ1bmN0aW9uIEFtKHIpIHtcbiAgcmV0dXJuICEoenQocikgfHwgIWJ0KHIubmFtZSwgITEpKTtcbn1cbmZ1bmN0aW9uIEtjKHIsIGUpIHtcbiAgcmV0dXJuICEoIVpzKGUpIHx8ICFubShyKS5pbmNsdWRlcyhlKSk7XG59XG5mdW5jdGlvbiBEbShyLCBlLCB0KSB7XG4gIHJldHVybiBidCh0LCAhMSkgPyBzbShyLCBlKS5pbmNsdWRlcyh0KSA6ICExO1xufVxuZnVuY3Rpb24gUG0ociwgZSwgdCkge1xuICByZXR1cm4gYnQodCwgITEpID8gYW0ociwgZSkuaW5jbHVkZXModCkgOiAhMTtcbn1cbmZ1bmN0aW9uIEhjKHIsIGUsIHQpIHtcbiAgbGV0IGkgPSBudWxsO1xuICBjb25zdCBuID0gT20ociksIHMgPSBSbShlKSwgbyA9IE9iamVjdC5rZXlzKG4pLCBmID0gT2JqZWN0LmtleXMocyksIGggPSBWYyhPYmplY3Qua2V5cyhyKSksIGQgPSBWYyhPYmplY3Qua2V5cyhlKSksIHYgPSBoLmZpbHRlcigodykgPT4gIWQuaW5jbHVkZXModykpO1xuICByZXR1cm4gdi5sZW5ndGggJiYgKGkgPSBhZShcIk5PTl9DT05GT1JNSU5HX05BTUVTUEFDRVNcIiwgYCR7dH0gbmFtZXNwYWNlcyBrZXlzIGRvbid0IHNhdGlzZnkgcmVxdWlyZWROYW1lc3BhY2VzLlxuICAgICAgUmVxdWlyZWQ6ICR7di50b1N0cmluZygpfVxuICAgICAgUmVjZWl2ZWQ6ICR7T2JqZWN0LmtleXMoZSkudG9TdHJpbmcoKX1gKSksIFVpKG8sIGYpIHx8IChpID0gYWUoXCJOT05fQ09ORk9STUlOR19OQU1FU1BBQ0VTXCIsIGAke3R9IG5hbWVzcGFjZXMgY2hhaW5zIGRvbid0IHNhdGlzZnkgcmVxdWlyZWQgbmFtZXNwYWNlcy5cbiAgICAgIFJlcXVpcmVkOiAke28udG9TdHJpbmcoKX1cbiAgICAgIEFwcHJvdmVkOiAke2YudG9TdHJpbmcoKX1gKSksIE9iamVjdC5rZXlzKGUpLmZvckVhY2goKHcpID0+IHtcbiAgICBpZiAoIXcuaW5jbHVkZXMoXCI6XCIpIHx8IGkpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgQSA9IEluKGVbd10uYWNjb3VudHMpO1xuICAgIEEuaW5jbHVkZXModykgfHwgKGkgPSBhZShcIk5PTl9DT05GT1JNSU5HX05BTUVTUEFDRVNcIiwgYCR7dH0gbmFtZXNwYWNlcyBhY2NvdW50cyBkb24ndCBzYXRpc2Z5IG5hbWVzcGFjZSBhY2NvdW50cyBmb3IgJHt3fVxuICAgICAgICBSZXF1aXJlZDogJHt3fVxuICAgICAgICBBcHByb3ZlZDogJHtBLnRvU3RyaW5nKCl9YCkpO1xuICB9KSwgby5mb3JFYWNoKCh3KSA9PiB7XG4gICAgaSB8fCAoVWkoblt3XS5tZXRob2RzLCBzW3ddLm1ldGhvZHMpID8gVWkoblt3XS5ldmVudHMsIHNbd10uZXZlbnRzKSB8fCAoaSA9IGFlKFwiTk9OX0NPTkZPUk1JTkdfTkFNRVNQQUNFU1wiLCBgJHt0fSBuYW1lc3BhY2VzIGV2ZW50cyBkb24ndCBzYXRpc2Z5IG5hbWVzcGFjZSBldmVudHMgZm9yICR7d31gKSkgOiBpID0gYWUoXCJOT05fQ09ORk9STUlOR19OQU1FU1BBQ0VTXCIsIGAke3R9IG5hbWVzcGFjZXMgbWV0aG9kcyBkb24ndCBzYXRpc2Z5IG5hbWVzcGFjZSBtZXRob2RzIGZvciAke3d9YCkpO1xuICB9KSwgaTtcbn1cbmZ1bmN0aW9uIE9tKHIpIHtcbiAgY29uc3QgZSA9IHt9O1xuICByZXR1cm4gT2JqZWN0LmtleXMocikuZm9yRWFjaCgodCkgPT4ge1xuICAgIHZhciBpO1xuICAgIHQuaW5jbHVkZXMoXCI6XCIpID8gZVt0XSA9IHJbdF0gOiAoaSA9IHJbdF0uY2hhaW5zKSA9PSBudWxsIHx8IGkuZm9yRWFjaCgobikgPT4ge1xuICAgICAgZVtuXSA9IHsgbWV0aG9kczogclt0XS5tZXRob2RzLCBldmVudHM6IHJbdF0uZXZlbnRzIH07XG4gICAgfSk7XG4gIH0pLCBlO1xufVxuZnVuY3Rpb24gVmMocikge1xuICByZXR1cm4gWy4uLm5ldyBTZXQoci5tYXAoKGUpID0+IGUuaW5jbHVkZXMoXCI6XCIpID8gZS5zcGxpdChcIjpcIilbMF0gOiBlKSldO1xufVxuZnVuY3Rpb24gUm0ocikge1xuICBjb25zdCBlID0ge307XG4gIHJldHVybiBPYmplY3Qua2V5cyhyKS5mb3JFYWNoKCh0KSA9PiB7XG4gICAgdC5pbmNsdWRlcyhcIjpcIikgPyBlW3RdID0gclt0XSA6IEluKHJbdF0uYWNjb3VudHMpPy5mb3JFYWNoKChuKSA9PiB7XG4gICAgICBlW25dID0geyBhY2NvdW50czogclt0XS5hY2NvdW50cy5maWx0ZXIoKHMpID0+IHMuaW5jbHVkZXMoYCR7bn06YCkpLCBtZXRob2RzOiByW3RdLm1ldGhvZHMsIGV2ZW50czogclt0XS5ldmVudHMgfTtcbiAgICB9KTtcbiAgfSksIGU7XG59XG5mdW5jdGlvbiBObShyLCBlKSB7XG4gIHJldHVybiBhZihyLCAhMSkgJiYgciA8PSBlLm1heCAmJiByID49IGUubWluO1xufVxuZnVuY3Rpb24gV2MoKSB7XG4gIGNvbnN0IHIgPSBocygpO1xuICByZXR1cm4gbmV3IFByb21pc2UoKGUpID0+IHtcbiAgICBzd2l0Y2ggKHIpIHtcbiAgICAgIGNhc2UgcnIuYnJvd3NlcjpcbiAgICAgICAgZShUbSgpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIHJyLnJlYWN0TmF0aXZlOlxuICAgICAgICBlKENtKCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgcnIubm9kZTpcbiAgICAgICAgZSgkbSgpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBlKCEwKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gVG0oKSB7XG4gIHJldHVybiBjcygpICYmIG5hdmlnYXRvcj8ub25MaW5lO1xufVxuYXN5bmMgZnVuY3Rpb24gQ20oKSB7XG4gIHJldHVybiBBaSgpICYmIHR5cGVvZiBnbG9iYWwgPCBcInVcIiAmJiBnbG9iYWwgIT0gbnVsbCAmJiBnbG9iYWwuTmV0SW5mbyA/IChhd2FpdCAoZ2xvYmFsID09IG51bGwgPyB2b2lkIDAgOiBnbG9iYWwuTmV0SW5mby5mZXRjaCgpKSk/LmlzQ29ubmVjdGVkIDogITA7XG59XG5mdW5jdGlvbiAkbSgpIHtcbiAgcmV0dXJuICEwO1xufVxuZnVuY3Rpb24gTG0ocikge1xuICBzd2l0Y2ggKGhzKCkpIHtcbiAgICBjYXNlIHJyLmJyb3dzZXI6XG4gICAgICBGbShyKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgcnIucmVhY3ROYXRpdmU6XG4gICAgICBxbShyKTtcbiAgICAgIGJyZWFrO1xuICB9XG59XG5mdW5jdGlvbiBGbShyKSB7XG4gICFBaSgpICYmIGNzKCkgJiYgKHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib25saW5lXCIsICgpID0+IHIoITApKSwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsICgpID0+IHIoITEpKSk7XG59XG5mdW5jdGlvbiBxbShyKSB7XG4gIEFpKCkgJiYgdHlwZW9mIGdsb2JhbCA8IFwidVwiICYmIGdsb2JhbCAhPSBudWxsICYmIGdsb2JhbC5OZXRJbmZvICYmIGdsb2JhbD8uTmV0SW5mby5hZGRFdmVudExpc3RlbmVyKChlKSA9PiByKGU/LmlzQ29ubmVjdGVkKSk7XG59XG5jb25zdCB0byA9IHt9O1xuY2xhc3MgRm4ge1xuICBzdGF0aWMgZ2V0KGUpIHtcbiAgICByZXR1cm4gdG9bZV07XG4gIH1cbiAgc3RhdGljIHNldChlLCB0KSB7XG4gICAgdG9bZV0gPSB0O1xuICB9XG4gIHN0YXRpYyBkZWxldGUoZSkge1xuICAgIGRlbGV0ZSB0b1tlXTtcbiAgfVxufVxuY29uc3QgVW0gPSBcIlBBUlNFX0VSUk9SXCIsIHptID0gXCJJTlZBTElEX1JFUVVFU1RcIiwgQm0gPSBcIk1FVEhPRF9OT1RfRk9VTkRcIiwga20gPSBcIklOVkFMSURfUEFSQU1TXCIsIGdkID0gXCJJTlRFUk5BTF9FUlJPUlwiLCBvZiA9IFwiU0VSVkVSX0VSUk9SXCIsIGptID0gWy0zMjcwMCwgLTMyNjAwLCAtMzI2MDEsIC0zMjYwMiwgLTMyNjAzXSwgSG4gPSB7XG4gIFtVbV06IHsgY29kZTogLTMyNzAwLCBtZXNzYWdlOiBcIlBhcnNlIGVycm9yXCIgfSxcbiAgW3ptXTogeyBjb2RlOiAtMzI2MDAsIG1lc3NhZ2U6IFwiSW52YWxpZCBSZXF1ZXN0XCIgfSxcbiAgW0JtXTogeyBjb2RlOiAtMzI2MDEsIG1lc3NhZ2U6IFwiTWV0aG9kIG5vdCBmb3VuZFwiIH0sXG4gIFtrbV06IHsgY29kZTogLTMyNjAyLCBtZXNzYWdlOiBcIkludmFsaWQgcGFyYW1zXCIgfSxcbiAgW2dkXTogeyBjb2RlOiAtMzI2MDMsIG1lc3NhZ2U6IFwiSW50ZXJuYWwgZXJyb3JcIiB9LFxuICBbb2ZdOiB7IGNvZGU6IC0zMmUzLCBtZXNzYWdlOiBcIlNlcnZlciBlcnJvclwiIH1cbn0sIHlkID0gb2Y7XG5mdW5jdGlvbiBLbShyKSB7XG4gIHJldHVybiBqbS5pbmNsdWRlcyhyKTtcbn1cbmZ1bmN0aW9uIEdjKHIpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKEhuKS5pbmNsdWRlcyhyKSA/IEhuW3JdIDogSG5beWRdO1xufVxuZnVuY3Rpb24gSG0ocikge1xuICBjb25zdCBlID0gT2JqZWN0LnZhbHVlcyhIbikuZmluZCgodCkgPT4gdC5jb2RlID09PSByKTtcbiAgcmV0dXJuIGUgfHwgSG5beWRdO1xufVxuZnVuY3Rpb24gVm0ociwgZSwgdCkge1xuICByZXR1cm4gci5tZXNzYWdlLmluY2x1ZGVzKFwiZ2V0YWRkcmluZm8gRU5PVEZPVU5EXCIpIHx8IHIubWVzc2FnZS5pbmNsdWRlcyhcImNvbm5lY3QgRUNPTk5SRUZVU0VEXCIpID8gbmV3IEVycm9yKGBVbmF2YWlsYWJsZSAke3R9IFJQQyB1cmwgYXQgJHtlfWApIDogcjtcbn1cbnZhciBtZCA9IHt9LCBpaSA9IHt9LCBKYztcbmZ1bmN0aW9uIFdtKCkge1xuICBpZiAoSmMpXG4gICAgcmV0dXJuIGlpO1xuICBKYyA9IDEsIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpaSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pLCBpaS5pc0Jyb3dzZXJDcnlwdG9BdmFpbGFibGUgPSBpaS5nZXRTdWJ0bGVDcnlwdG8gPSBpaS5nZXRCcm93ZXJDcnlwdG8gPSB2b2lkIDA7XG4gIGZ1bmN0aW9uIHIoKSB7XG4gICAgcmV0dXJuICh0ciA9PT0gbnVsbCB8fCB0ciA9PT0gdm9pZCAwID8gdm9pZCAwIDogdHIuY3J5cHRvKSB8fCAodHIgPT09IG51bGwgfHwgdHIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRyLm1zQ3J5cHRvKSB8fCB7fTtcbiAgfVxuICBpaS5nZXRCcm93ZXJDcnlwdG8gPSByO1xuICBmdW5jdGlvbiBlKCkge1xuICAgIGNvbnN0IGkgPSByKCk7XG4gICAgcmV0dXJuIGkuc3VidGxlIHx8IGkud2Via2l0U3VidGxlO1xuICB9XG4gIGlpLmdldFN1YnRsZUNyeXB0byA9IGU7XG4gIGZ1bmN0aW9uIHQoKSB7XG4gICAgcmV0dXJuICEhcigpICYmICEhZSgpO1xuICB9XG4gIHJldHVybiBpaS5pc0Jyb3dzZXJDcnlwdG9BdmFpbGFibGUgPSB0LCBpaTtcbn1cbnZhciBuaSA9IHt9LCBZYztcbmZ1bmN0aW9uIEdtKCkge1xuICBpZiAoWWMpXG4gICAgcmV0dXJuIG5pO1xuICBZYyA9IDEsIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuaSwgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6ICEwIH0pLCBuaS5pc0Jyb3dzZXIgPSBuaS5pc05vZGUgPSBuaS5pc1JlYWN0TmF0aXZlID0gdm9pZCAwO1xuICBmdW5jdGlvbiByKCkge1xuICAgIHJldHVybiB0eXBlb2YgZG9jdW1lbnQgPiBcInVcIiAmJiB0eXBlb2YgbmF2aWdhdG9yIDwgXCJ1XCIgJiYgbmF2aWdhdG9yLnByb2R1Y3QgPT09IFwiUmVhY3ROYXRpdmVcIjtcbiAgfVxuICBuaS5pc1JlYWN0TmF0aXZlID0gcjtcbiAgZnVuY3Rpb24gZSgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHByb2Nlc3MgPCBcInVcIiAmJiB0eXBlb2YgcHJvY2Vzcy52ZXJzaW9ucyA8IFwidVwiICYmIHR5cGVvZiBwcm9jZXNzLnZlcnNpb25zLm5vZGUgPCBcInVcIjtcbiAgfVxuICBuaS5pc05vZGUgPSBlO1xuICBmdW5jdGlvbiB0KCkge1xuICAgIHJldHVybiAhcigpICYmICFlKCk7XG4gIH1cbiAgcmV0dXJuIG5pLmlzQnJvd3NlciA9IHQsIG5pO1xufVxuKGZ1bmN0aW9uKHIpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHIsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiAhMCB9KTtcbiAgY29uc3QgZSA9IFFuO1xuICBlLl9fZXhwb3J0U3RhcihXbSgpLCByKSwgZS5fX2V4cG9ydFN0YXIoR20oKSwgcik7XG59KShtZCk7XG5mdW5jdGlvbiBvaShyID0gMykge1xuICBjb25zdCBlID0gRGF0ZS5ub3coKSAqIE1hdGgucG93KDEwLCByKSwgdCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1hdGgucG93KDEwLCByKSk7XG4gIHJldHVybiBlICsgdDtcbn1cbmZ1bmN0aW9uIHppKHIgPSA2KSB7XG4gIHJldHVybiBCaWdJbnQob2kocikpO1xufVxuZnVuY3Rpb24gQmkociwgZSwgdCkge1xuICByZXR1cm4ge1xuICAgIGlkOiB0IHx8IG9pKCksXG4gICAganNvbnJwYzogXCIyLjBcIixcbiAgICBtZXRob2Q6IHIsXG4gICAgcGFyYW1zOiBlXG4gIH07XG59XG5mdW5jdGlvbiBNYShyLCBlKSB7XG4gIHJldHVybiB7XG4gICAgaWQ6IHIsXG4gICAganNvbnJwYzogXCIyLjBcIixcbiAgICByZXN1bHQ6IGVcbiAgfTtcbn1cbmZ1bmN0aW9uIElhKHIsIGUsIHQpIHtcbiAgcmV0dXJuIHtcbiAgICBpZDogcixcbiAgICBqc29ucnBjOiBcIjIuMFwiLFxuICAgIGVycm9yOiBKbShlLCB0KVxuICB9O1xufVxuZnVuY3Rpb24gSm0ociwgZSkge1xuICByZXR1cm4gdHlwZW9mIHIgPiBcInVcIiA/IEdjKGdkKSA6ICh0eXBlb2YgciA9PSBcInN0cmluZ1wiICYmIChyID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBHYyhvZikpLCB7IG1lc3NhZ2U6IHIgfSkpLCB0eXBlb2YgZSA8IFwidVwiICYmIChyLmRhdGEgPSBlKSwgS20oci5jb2RlKSAmJiAociA9IEhtKHIuY29kZSkpLCByKTtcbn1cbmNsYXNzIHdkIHtcbn1cbmxldCBZbSA9IGNsYXNzIGV4dGVuZHMgd2Qge1xuICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgc3VwZXIoKTtcbiAgfVxufTtcbmNsYXNzIFhtIGV4dGVuZHMgd2Qge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG59XG5sZXQgWm0gPSBjbGFzcyBleHRlbmRzIFhtIHtcbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHN1cGVyKCk7XG4gIH1cbn07XG5jb25zdCBRbSA9IFwiXndzcz86XCI7XG5mdW5jdGlvbiBlMyhyKSB7XG4gIGNvbnN0IGUgPSByLm1hdGNoKG5ldyBSZWdFeHAoL15cXHcrOi8sIFwiZ2lcIikpO1xuICBpZiAoISghZSB8fCAhZS5sZW5ndGgpKVxuICAgIHJldHVybiBlWzBdO1xufVxuZnVuY3Rpb24gdDMociwgZSkge1xuICBjb25zdCB0ID0gZTMocik7XG4gIHJldHVybiB0eXBlb2YgdCA+IFwidVwiID8gITEgOiBuZXcgUmVnRXhwKGUpLnRlc3QodCk7XG59XG5mdW5jdGlvbiBYYyhyKSB7XG4gIHJldHVybiB0MyhyLCBRbSk7XG59XG5mdW5jdGlvbiByMyhyKSB7XG4gIHJldHVybiBuZXcgUmVnRXhwKFwid3NzPzovL2xvY2FsaG9zdCg6ZHsyLDV9KT9cIikudGVzdChyKTtcbn1cbmZ1bmN0aW9uIF9kKHIpIHtcbiAgcmV0dXJuIHR5cGVvZiByID09IFwib2JqZWN0XCIgJiYgXCJpZFwiIGluIHIgJiYgXCJqc29ucnBjXCIgaW4gciAmJiByLmpzb25ycGMgPT09IFwiMi4wXCI7XG59XG5mdW5jdGlvbiBmZihyKSB7XG4gIHJldHVybiBfZChyKSAmJiBcIm1ldGhvZFwiIGluIHI7XG59XG5mdW5jdGlvbiBBYShyKSB7XG4gIHJldHVybiBfZChyKSAmJiAoUnIocikgfHwgZHIocikpO1xufVxuZnVuY3Rpb24gUnIocikge1xuICByZXR1cm4gXCJyZXN1bHRcIiBpbiByO1xufVxuZnVuY3Rpb24gZHIocikge1xuICByZXR1cm4gXCJlcnJvclwiIGluIHI7XG59XG5jbGFzcyB4ZCBleHRlbmRzIFptIHtcbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHN1cGVyKGUpLCB0aGlzLmV2ZW50cyA9IG5ldyBpci5FdmVudEVtaXR0ZXIoKSwgdGhpcy5oYXNSZWdpc3RlcmVkRXZlbnRMaXN0ZW5lcnMgPSAhMSwgdGhpcy5jb25uZWN0aW9uID0gdGhpcy5zZXRDb25uZWN0aW9uKGUpLCB0aGlzLmNvbm5lY3Rpb24uY29ubmVjdGVkICYmIHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpO1xuICB9XG4gIGFzeW5jIGNvbm5lY3QoZSA9IHRoaXMuY29ubmVjdGlvbikge1xuICAgIGF3YWl0IHRoaXMub3BlbihlKTtcbiAgfVxuICBhc3luYyBkaXNjb25uZWN0KCkge1xuICAgIGF3YWl0IHRoaXMuY2xvc2UoKTtcbiAgfVxuICBvbihlLCB0KSB7XG4gICAgdGhpcy5ldmVudHMub24oZSwgdCk7XG4gIH1cbiAgb25jZShlLCB0KSB7XG4gICAgdGhpcy5ldmVudHMub25jZShlLCB0KTtcbiAgfVxuICBvZmYoZSwgdCkge1xuICAgIHRoaXMuZXZlbnRzLm9mZihlLCB0KTtcbiAgfVxuICByZW1vdmVMaXN0ZW5lcihlLCB0KSB7XG4gICAgdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZSwgdCk7XG4gIH1cbiAgYXN5bmMgcmVxdWVzdChlLCB0KSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdFN0cmljdChCaShlLm1ldGhvZCwgZS5wYXJhbXMgfHwgW10sIGUuaWQgfHwgemkoKS50b1N0cmluZygpKSwgdCk7XG4gIH1cbiAgYXN5bmMgcmVxdWVzdFN0cmljdChlLCB0KSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChpLCBuKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuY29ubmVjdGlvbi5jb25uZWN0ZWQpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5vcGVuKCk7XG4gICAgICAgIH0gY2F0Y2ggKHMpIHtcbiAgICAgICAgICBuKHMpO1xuICAgICAgICB9XG4gICAgICB0aGlzLmV2ZW50cy5vbihgJHtlLmlkfWAsIChzKSA9PiB7XG4gICAgICAgIGRyKHMpID8gbihzLmVycm9yKSA6IGkocy5yZXN1bHQpO1xuICAgICAgfSk7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLmNvbm5lY3Rpb24uc2VuZChlLCB0KTtcbiAgICAgIH0gY2F0Y2ggKHMpIHtcbiAgICAgICAgbihzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBzZXRDb25uZWN0aW9uKGUgPSB0aGlzLmNvbm5lY3Rpb24pIHtcbiAgICByZXR1cm4gZTtcbiAgfVxuICBvblBheWxvYWQoZSkge1xuICAgIHRoaXMuZXZlbnRzLmVtaXQoXCJwYXlsb2FkXCIsIGUpLCBBYShlKSA/IHRoaXMuZXZlbnRzLmVtaXQoYCR7ZS5pZH1gLCBlKSA6IHRoaXMuZXZlbnRzLmVtaXQoXCJtZXNzYWdlXCIsIHsgdHlwZTogZS5tZXRob2QsIGRhdGE6IGUucGFyYW1zIH0pO1xuICB9XG4gIG9uQ2xvc2UoZSkge1xuICAgIGUgJiYgZS5jb2RlID09PSAzZTMgJiYgdGhpcy5ldmVudHMuZW1pdChcImVycm9yXCIsIG5ldyBFcnJvcihgV2ViU29ja2V0IGNvbm5lY3Rpb24gY2xvc2VkIGFibm9ybWFsbHkgd2l0aCBjb2RlOiAke2UuY29kZX0gJHtlLnJlYXNvbiA/IGAoJHtlLnJlYXNvbn0pYCA6IFwiXCJ9YCkpLCB0aGlzLmV2ZW50cy5lbWl0KFwiZGlzY29ubmVjdFwiKTtcbiAgfVxuICBhc3luYyBvcGVuKGUgPSB0aGlzLmNvbm5lY3Rpb24pIHtcbiAgICB0aGlzLmNvbm5lY3Rpb24gPT09IGUgJiYgdGhpcy5jb25uZWN0aW9uLmNvbm5lY3RlZCB8fCAodGhpcy5jb25uZWN0aW9uLmNvbm5lY3RlZCAmJiB0aGlzLmNsb3NlKCksIHR5cGVvZiBlID09IFwic3RyaW5nXCIgJiYgKGF3YWl0IHRoaXMuY29ubmVjdGlvbi5vcGVuKGUpLCBlID0gdGhpcy5jb25uZWN0aW9uKSwgdGhpcy5jb25uZWN0aW9uID0gdGhpcy5zZXRDb25uZWN0aW9uKGUpLCBhd2FpdCB0aGlzLmNvbm5lY3Rpb24ub3BlbigpLCB0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKSwgdGhpcy5ldmVudHMuZW1pdChcImNvbm5lY3RcIikpO1xuICB9XG4gIGFzeW5jIGNsb3NlKCkge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdGlvbi5jbG9zZSgpO1xuICB9XG4gIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5oYXNSZWdpc3RlcmVkRXZlbnRMaXN0ZW5lcnMgfHwgKHRoaXMuY29ubmVjdGlvbi5vbihcInBheWxvYWRcIiwgKGUpID0+IHRoaXMub25QYXlsb2FkKGUpKSwgdGhpcy5jb25uZWN0aW9uLm9uKFwiY2xvc2VcIiwgKGUpID0+IHRoaXMub25DbG9zZShlKSksIHRoaXMuY29ubmVjdGlvbi5vbihcImVycm9yXCIsIChlKSA9PiB0aGlzLmV2ZW50cy5lbWl0KFwiZXJyb3JcIiwgZSkpLCB0aGlzLmNvbm5lY3Rpb24ub24oXCJyZWdpc3Rlcl9lcnJvclwiLCAoZSkgPT4gdGhpcy5vbkNsb3NlKCkpLCB0aGlzLmhhc1JlZ2lzdGVyZWRFdmVudExpc3RlbmVycyA9ICEwKTtcbiAgfVxufVxuY29uc3QgaTMgPSAoKSA9PiB0eXBlb2YgV2ViU29ja2V0IDwgXCJ1XCIgPyBXZWJTb2NrZXQgOiB0eXBlb2YgZ2xvYmFsIDwgXCJ1XCIgJiYgdHlwZW9mIGdsb2JhbC5XZWJTb2NrZXQgPCBcInVcIiA/IGdsb2JhbC5XZWJTb2NrZXQgOiB0eXBlb2Ygd2luZG93IDwgXCJ1XCIgJiYgdHlwZW9mIHdpbmRvdy5XZWJTb2NrZXQgPCBcInVcIiA/IHdpbmRvdy5XZWJTb2NrZXQgOiB0eXBlb2Ygc2VsZiA8IFwidVwiICYmIHR5cGVvZiBzZWxmLldlYlNvY2tldCA8IFwidVwiID8gc2VsZi5XZWJTb2NrZXQgOiByZXF1aXJlKFwid3NcIiksIG4zID0gKCkgPT4gdHlwZW9mIFdlYlNvY2tldCA8IFwidVwiIHx8IHR5cGVvZiBnbG9iYWwgPCBcInVcIiAmJiB0eXBlb2YgZ2xvYmFsLldlYlNvY2tldCA8IFwidVwiIHx8IHR5cGVvZiB3aW5kb3cgPCBcInVcIiAmJiB0eXBlb2Ygd2luZG93LldlYlNvY2tldCA8IFwidVwiIHx8IHR5cGVvZiBzZWxmIDwgXCJ1XCIgJiYgdHlwZW9mIHNlbGYuV2ViU29ja2V0IDwgXCJ1XCIsIFpjID0gKHIpID0+IHIuc3BsaXQoXCI/XCIpWzBdLCBRYyA9IDEwLCBzMyA9IGkzKCk7XG5jbGFzcyBhMyB7XG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICBpZiAodGhpcy51cmwgPSBlLCB0aGlzLmV2ZW50cyA9IG5ldyBpci5FdmVudEVtaXR0ZXIoKSwgdGhpcy5yZWdpc3RlcmluZyA9ICExLCAhWGMoZSkpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb3ZpZGVkIFVSTCBpcyBub3QgY29tcGF0aWJsZSB3aXRoIFdlYlNvY2tldCBjb25uZWN0aW9uOiAke2V9YCk7XG4gICAgdGhpcy51cmwgPSBlO1xuICB9XG4gIGdldCBjb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGlzLnNvY2tldCA8IFwidVwiO1xuICB9XG4gIGdldCBjb25uZWN0aW5nKCkge1xuICAgIHJldHVybiB0aGlzLnJlZ2lzdGVyaW5nO1xuICB9XG4gIG9uKGUsIHQpIHtcbiAgICB0aGlzLmV2ZW50cy5vbihlLCB0KTtcbiAgfVxuICBvbmNlKGUsIHQpIHtcbiAgICB0aGlzLmV2ZW50cy5vbmNlKGUsIHQpO1xuICB9XG4gIG9mZihlLCB0KSB7XG4gICAgdGhpcy5ldmVudHMub2ZmKGUsIHQpO1xuICB9XG4gIHJlbW92ZUxpc3RlbmVyKGUsIHQpIHtcbiAgICB0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihlLCB0KTtcbiAgfVxuICBhc3luYyBvcGVuKGUgPSB0aGlzLnVybCkge1xuICAgIGF3YWl0IHRoaXMucmVnaXN0ZXIoZSk7XG4gIH1cbiAgYXN5bmMgY2xvc2UoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChlLCB0KSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHRoaXMuc29ja2V0ID4gXCJ1XCIpIHtcbiAgICAgICAgdChuZXcgRXJyb3IoXCJDb25uZWN0aW9uIGFscmVhZHkgY2xvc2VkXCIpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy5zb2NrZXQub25jbG9zZSA9IChpKSA9PiB7XG4gICAgICAgIHRoaXMub25DbG9zZShpKSwgZSgpO1xuICAgICAgfSwgdGhpcy5zb2NrZXQuY2xvc2UoKTtcbiAgICB9KTtcbiAgfVxuICBhc3luYyBzZW5kKGUpIHtcbiAgICB0eXBlb2YgdGhpcy5zb2NrZXQgPiBcInVcIiAmJiAodGhpcy5zb2NrZXQgPSBhd2FpdCB0aGlzLnJlZ2lzdGVyKCkpO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLnNvY2tldC5zZW5kKGppKGUpKTtcbiAgICB9IGNhdGNoICh0KSB7XG4gICAgICB0aGlzLm9uRXJyb3IoZS5pZCwgdCk7XG4gICAgfVxuICB9XG4gIHJlZ2lzdGVyKGUgPSB0aGlzLnVybCkge1xuICAgIGlmICghWGMoZSkpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb3ZpZGVkIFVSTCBpcyBub3QgY29tcGF0aWJsZSB3aXRoIFdlYlNvY2tldCBjb25uZWN0aW9uOiAke2V9YCk7XG4gICAgaWYgKHRoaXMucmVnaXN0ZXJpbmcpIHtcbiAgICAgIGNvbnN0IHQgPSB0aGlzLmV2ZW50cy5nZXRNYXhMaXN0ZW5lcnMoKTtcbiAgICAgIHJldHVybiAodGhpcy5ldmVudHMubGlzdGVuZXJDb3VudChcInJlZ2lzdGVyX2Vycm9yXCIpID49IHQgfHwgdGhpcy5ldmVudHMubGlzdGVuZXJDb3VudChcIm9wZW5cIikgPj0gdCkgJiYgdGhpcy5ldmVudHMuc2V0TWF4TGlzdGVuZXJzKHQgKyAxKSwgbmV3IFByb21pc2UoKGksIG4pID0+IHtcbiAgICAgICAgdGhpcy5ldmVudHMub25jZShcInJlZ2lzdGVyX2Vycm9yXCIsIChzKSA9PiB7XG4gICAgICAgICAgdGhpcy5yZXNldE1heExpc3RlbmVycygpLCBuKHMpO1xuICAgICAgICB9KSwgdGhpcy5ldmVudHMub25jZShcIm9wZW5cIiwgKCkgPT4ge1xuICAgICAgICAgIGlmICh0aGlzLnJlc2V0TWF4TGlzdGVuZXJzKCksIHR5cGVvZiB0aGlzLnNvY2tldCA+IFwidVwiKVxuICAgICAgICAgICAgcmV0dXJuIG4obmV3IEVycm9yKFwiV2ViU29ja2V0IGNvbm5lY3Rpb24gaXMgbWlzc2luZyBvciBpbnZhbGlkXCIpKTtcbiAgICAgICAgICBpKHRoaXMuc29ja2V0KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudXJsID0gZSwgdGhpcy5yZWdpc3RlcmluZyA9ICEwLCBuZXcgUHJvbWlzZSgodCwgaSkgPT4ge1xuICAgICAgY29uc3QgbiA9IG1kLmlzUmVhY3ROYXRpdmUoKSA/IHZvaWQgMCA6IHsgcmVqZWN0VW5hdXRob3JpemVkOiAhcjMoZSkgfSwgcyA9IG5ldyBzMyhlLCBbXSwgbik7XG4gICAgICBuMygpID8gcy5vbmVycm9yID0gKG8pID0+IHtcbiAgICAgICAgY29uc3QgZiA9IG87XG4gICAgICAgIGkodGhpcy5lbWl0RXJyb3IoZi5lcnJvcikpO1xuICAgICAgfSA6IHMub24oXCJlcnJvclwiLCAobykgPT4ge1xuICAgICAgICBpKHRoaXMuZW1pdEVycm9yKG8pKTtcbiAgICAgIH0pLCBzLm9ub3BlbiA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5vbk9wZW4ocyksIHQocyk7XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG4gIG9uT3BlbihlKSB7XG4gICAgZS5vbm1lc3NhZ2UgPSAodCkgPT4gdGhpcy5vblBheWxvYWQodCksIGUub25jbG9zZSA9ICh0KSA9PiB0aGlzLm9uQ2xvc2UodCksIHRoaXMuc29ja2V0ID0gZSwgdGhpcy5yZWdpc3RlcmluZyA9ICExLCB0aGlzLmV2ZW50cy5lbWl0KFwib3BlblwiKTtcbiAgfVxuICBvbkNsb3NlKGUpIHtcbiAgICB0aGlzLnNvY2tldCA9IHZvaWQgMCwgdGhpcy5yZWdpc3RlcmluZyA9ICExLCB0aGlzLmV2ZW50cy5lbWl0KFwiY2xvc2VcIiwgZSk7XG4gIH1cbiAgb25QYXlsb2FkKGUpIHtcbiAgICBpZiAodHlwZW9mIGUuZGF0YSA+IFwidVwiKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHQgPSB0eXBlb2YgZS5kYXRhID09IFwic3RyaW5nXCIgPyB1bihlLmRhdGEpIDogZS5kYXRhO1xuICAgIHRoaXMuZXZlbnRzLmVtaXQoXCJwYXlsb2FkXCIsIHQpO1xuICB9XG4gIG9uRXJyb3IoZSwgdCkge1xuICAgIGNvbnN0IGkgPSB0aGlzLnBhcnNlRXJyb3IodCksIG4gPSBpLm1lc3NhZ2UgfHwgaS50b1N0cmluZygpLCBzID0gSWEoZSwgbik7XG4gICAgdGhpcy5ldmVudHMuZW1pdChcInBheWxvYWRcIiwgcyk7XG4gIH1cbiAgcGFyc2VFcnJvcihlLCB0ID0gdGhpcy51cmwpIHtcbiAgICByZXR1cm4gVm0oZSwgWmModCksIFwiV1NcIik7XG4gIH1cbiAgcmVzZXRNYXhMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5ldmVudHMuZ2V0TWF4TGlzdGVuZXJzKCkgPiBRYyAmJiB0aGlzLmV2ZW50cy5zZXRNYXhMaXN0ZW5lcnMoUWMpO1xuICB9XG4gIGVtaXRFcnJvcihlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMucGFyc2VFcnJvcihuZXcgRXJyb3IoZT8ubWVzc2FnZSB8fCBgV2ViU29ja2V0IGNvbm5lY3Rpb24gZmFpbGVkIGZvciBob3N0OiAke1pjKHRoaXMudXJsKX1gKSk7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRzLmVtaXQoXCJyZWdpc3Rlcl9lcnJvclwiLCB0KSwgdDtcbiAgfVxufVxudmFyIFFzID0geyBleHBvcnRzOiB7fSB9O1xuUXMuZXhwb3J0cztcbihmdW5jdGlvbihyLCBlKSB7XG4gIHZhciB0ID0gMjAwLCBpID0gXCJfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fXCIsIG4gPSAxLCBzID0gMiwgbyA9IDkwMDcxOTkyNTQ3NDA5OTEsIGYgPSBcIltvYmplY3QgQXJndW1lbnRzXVwiLCBoID0gXCJbb2JqZWN0IEFycmF5XVwiLCBkID0gXCJbb2JqZWN0IEFzeW5jRnVuY3Rpb25dXCIsIHYgPSBcIltvYmplY3QgQm9vbGVhbl1cIiwgdyA9IFwiW29iamVjdCBEYXRlXVwiLCBBID0gXCJbb2JqZWN0IEVycm9yXVwiLCBJID0gXCJbb2JqZWN0IEZ1bmN0aW9uXVwiLCBEID0gXCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXVwiLCBOID0gXCJbb2JqZWN0IE1hcF1cIiwgayA9IFwiW29iamVjdCBOdW1iZXJdXCIsIGogPSBcIltvYmplY3QgTnVsbF1cIiwgVCA9IFwiW29iamVjdCBPYmplY3RdXCIsIEsgPSBcIltvYmplY3QgUHJvbWlzZV1cIiwgJCA9IFwiW29iamVjdCBQcm94eV1cIiwgeiA9IFwiW29iamVjdCBSZWdFeHBdXCIsIEIgPSBcIltvYmplY3QgU2V0XVwiLCBfID0gXCJbb2JqZWN0IFN0cmluZ11cIiwgUiA9IFwiW29iamVjdCBTeW1ib2xdXCIsIEogPSBcIltvYmplY3QgVW5kZWZpbmVkXVwiLCBRID0gXCJbb2JqZWN0IFdlYWtNYXBdXCIsIE8gPSBcIltvYmplY3QgQXJyYXlCdWZmZXJdXCIsIHAgPSBcIltvYmplY3QgRGF0YVZpZXddXCIsIGwgPSBcIltvYmplY3QgRmxvYXQzMkFycmF5XVwiLCBhID0gXCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIiwgYyA9IFwiW29iamVjdCBJbnQ4QXJyYXldXCIsIGIgPSBcIltvYmplY3QgSW50MTZBcnJheV1cIiwgRSA9IFwiW29iamVjdCBJbnQzMkFycmF5XVwiLCBTID0gXCJbb2JqZWN0IFVpbnQ4QXJyYXldXCIsIHggPSBcIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCIsIHUgPSBcIltvYmplY3QgVWludDE2QXJyYXldXCIsIG0gPSBcIltvYmplY3QgVWludDMyQXJyYXldXCIsIGcgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csIFAgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvLCBHID0gL14oPzowfFsxLTldXFxkKikkLywgTSA9IHt9O1xuICBNW2xdID0gTVthXSA9IE1bY10gPSBNW2JdID0gTVtFXSA9IE1bU10gPSBNW3hdID0gTVt1XSA9IE1bbV0gPSAhMCwgTVtmXSA9IE1baF0gPSBNW09dID0gTVt2XSA9IE1bcF0gPSBNW3ddID0gTVtBXSA9IE1bSV0gPSBNW05dID0gTVtrXSA9IE1bVF0gPSBNW3pdID0gTVtCXSA9IE1bX10gPSBNW1FdID0gITE7XG4gIHZhciBIID0gdHlwZW9mIHRyID09IFwib2JqZWN0XCIgJiYgdHIgJiYgdHIuT2JqZWN0ID09PSBPYmplY3QgJiYgdHIsIEMgPSB0eXBlb2Ygc2VsZiA9PSBcIm9iamVjdFwiICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmLCBxID0gSCB8fCBDIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSwgTCA9IGUgJiYgIWUubm9kZVR5cGUgJiYgZSwgeSA9IEwgJiYgITAgJiYgciAmJiAhci5ub2RlVHlwZSAmJiByLCBGID0geSAmJiB5LmV4cG9ydHMgPT09IEwsIFcgPSBGICYmIEgucHJvY2VzcywgWSA9IGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gVyAmJiBXLmJpbmRpbmcgJiYgVy5iaW5kaW5nKFwidXRpbFwiKTtcbiAgICB9IGNhdGNoIHtcbiAgICB9XG4gIH0oKSwgWCA9IFkgJiYgWS5pc1R5cGVkQXJyYXk7XG4gIGZ1bmN0aW9uIGVlKFUsIFYpIHtcbiAgICBmb3IgKHZhciBaID0gLTEsIGJlID0gVSA9PSBudWxsID8gMCA6IFUubGVuZ3RoLCBjdCA9IDAsIFdlID0gW107ICsrWiA8IGJlOyApIHtcbiAgICAgIHZhciBkdCA9IFVbWl07XG4gICAgICBWKGR0LCBaLCBVKSAmJiAoV2VbY3QrK10gPSBkdCk7XG4gICAgfVxuICAgIHJldHVybiBXZTtcbiAgfVxuICBmdW5jdGlvbiB3ZShVLCBWKSB7XG4gICAgZm9yICh2YXIgWiA9IC0xLCBiZSA9IFYubGVuZ3RoLCBjdCA9IFUubGVuZ3RoOyArK1ogPCBiZTsgKVxuICAgICAgVVtjdCArIFpdID0gVltaXTtcbiAgICByZXR1cm4gVTtcbiAgfVxuICBmdW5jdGlvbiBNZShVLCBWKSB7XG4gICAgZm9yICh2YXIgWiA9IC0xLCBiZSA9IFUgPT0gbnVsbCA/IDAgOiBVLmxlbmd0aDsgKytaIDwgYmU7IClcbiAgICAgIGlmIChWKFVbWl0sIFosIFUpKVxuICAgICAgICByZXR1cm4gITA7XG4gICAgcmV0dXJuICExO1xuICB9XG4gIGZ1bmN0aW9uIGhlKFUsIFYpIHtcbiAgICBmb3IgKHZhciBaID0gLTEsIGJlID0gQXJyYXkoVSk7ICsrWiA8IFU7IClcbiAgICAgIGJlW1pdID0gVihaKTtcbiAgICByZXR1cm4gYmU7XG4gIH1cbiAgZnVuY3Rpb24gUmUoVSkge1xuICAgIHJldHVybiBmdW5jdGlvbihWKSB7XG4gICAgICByZXR1cm4gVShWKTtcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIHhlKFUsIFYpIHtcbiAgICByZXR1cm4gVS5oYXMoVik7XG4gIH1cbiAgZnVuY3Rpb24gc2UoVSwgVikge1xuICAgIHJldHVybiBVPy5bVl07XG4gIH1cbiAgZnVuY3Rpb24gZ2UoVSkge1xuICAgIHZhciBWID0gLTEsIFogPSBBcnJheShVLnNpemUpO1xuICAgIHJldHVybiBVLmZvckVhY2goZnVuY3Rpb24oYmUsIGN0KSB7XG4gICAgICBaWysrVl0gPSBbY3QsIGJlXTtcbiAgICB9KSwgWjtcbiAgfVxuICBmdW5jdGlvbiBsZShVLCBWKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKFopIHtcbiAgICAgIHJldHVybiBVKFYoWikpO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gbmUoVSkge1xuICAgIHZhciBWID0gLTEsIFogPSBBcnJheShVLnNpemUpO1xuICAgIHJldHVybiBVLmZvckVhY2goZnVuY3Rpb24oYmUpIHtcbiAgICAgIFpbKytWXSA9IGJlO1xuICAgIH0pLCBaO1xuICB9XG4gIHZhciB1ZSA9IEFycmF5LnByb3RvdHlwZSwgZmUgPSBGdW5jdGlvbi5wcm90b3R5cGUsIHRlID0gT2JqZWN0LnByb3RvdHlwZSwgcGUgPSBxW1wiX19jb3JlLWpzX3NoYXJlZF9fXCJdLCBfZSA9IGZlLnRvU3RyaW5nLCByZSA9IHRlLmhhc093blByb3BlcnR5LCBFZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBVID0gL1teLl0rJC8uZXhlYyhwZSAmJiBwZS5rZXlzICYmIHBlLmtleXMuSUVfUFJPVE8gfHwgXCJcIik7XG4gICAgcmV0dXJuIFUgPyBcIlN5bWJvbChzcmMpXzEuXCIgKyBVIDogXCJcIjtcbiAgfSgpLCBTZSA9IHRlLnRvU3RyaW5nLCBvZSA9IFJlZ0V4cChcbiAgICBcIl5cIiArIF9lLmNhbGwocmUpLnJlcGxhY2UoZywgXCJcXFxcJCZcIikucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZywgXCIkMS4qP1wiKSArIFwiJFwiXG4gICksIERlID0gRiA/IHEuQnVmZmVyIDogdm9pZCAwLCBJZSA9IHEuU3ltYm9sLCBQZSA9IHEuVWludDhBcnJheSwgR2UgPSB0ZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSwgWWUgPSB1ZS5zcGxpY2UsIEFlID0gSWUgPyBJZS50b1N0cmluZ1RhZyA6IHZvaWQgMCwgWmUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLCBldCA9IERlID8gRGUuaXNCdWZmZXIgOiB2b2lkIDAsIE5lID0gbGUoT2JqZWN0LmtleXMsIE9iamVjdCksIENlID0gZW4ocSwgXCJEYXRhVmlld1wiKSwgVGUgPSBlbihxLCBcIk1hcFwiKSwgZGUgPSBlbihxLCBcIlByb21pc2VcIiksICRlID0gZW4ocSwgXCJTZXRcIiksIExlID0gZW4ocSwgXCJXZWFrTWFwXCIpLCBjZSA9IGVuKE9iamVjdCwgXCJjcmVhdGVcIiksIFVlID0gRGkoQ2UpLCB6ZSA9IERpKFRlKSwgeWUgPSBEaShkZSksIEJlID0gRGkoJGUpLCBrZSA9IERpKExlKSwgdmUgPSBJZSA/IEllLnByb3RvdHlwZSA6IHZvaWQgMCwgRmUgPSB2ZSA/IHZlLnZhbHVlT2YgOiB2b2lkIDA7XG4gIGZ1bmN0aW9uIE9lKFUpIHtcbiAgICB2YXIgViA9IC0xLCBaID0gVSA9PSBudWxsID8gMCA6IFUubGVuZ3RoO1xuICAgIGZvciAodGhpcy5jbGVhcigpOyArK1YgPCBaOyApIHtcbiAgICAgIHZhciBiZSA9IFVbVl07XG4gICAgICB0aGlzLnNldChiZVswXSwgYmVbMV0pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBtZSgpIHtcbiAgICB0aGlzLl9fZGF0YV9fID0gY2UgPyBjZShudWxsKSA6IHt9LCB0aGlzLnNpemUgPSAwO1xuICB9XG4gIGZ1bmN0aW9uIGplKFUpIHtcbiAgICB2YXIgViA9IHRoaXMuaGFzKFUpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW1VdO1xuICAgIHJldHVybiB0aGlzLnNpemUgLT0gViA/IDEgOiAwLCBWO1xuICB9XG4gIGZ1bmN0aW9uIHJ0KFUpIHtcbiAgICB2YXIgViA9IHRoaXMuX19kYXRhX187XG4gICAgaWYgKGNlKSB7XG4gICAgICB2YXIgWiA9IFZbVV07XG4gICAgICByZXR1cm4gWiA9PT0gaSA/IHZvaWQgMCA6IFo7XG4gICAgfVxuICAgIHJldHVybiByZS5jYWxsKFYsIFUpID8gVltVXSA6IHZvaWQgMDtcbiAgfVxuICBmdW5jdGlvbiBxZShVKSB7XG4gICAgdmFyIFYgPSB0aGlzLl9fZGF0YV9fO1xuICAgIHJldHVybiBjZSA/IFZbVV0gIT09IHZvaWQgMCA6IHJlLmNhbGwoViwgVSk7XG4gIH1cbiAgZnVuY3Rpb24gaXQoVSwgVikge1xuICAgIHZhciBaID0gdGhpcy5fX2RhdGFfXztcbiAgICByZXR1cm4gdGhpcy5zaXplICs9IHRoaXMuaGFzKFUpID8gMCA6IDEsIFpbVV0gPSBjZSAmJiBWID09PSB2b2lkIDAgPyBpIDogViwgdGhpcztcbiAgfVxuICBPZS5wcm90b3R5cGUuY2xlYXIgPSBtZSwgT2UucHJvdG90eXBlLmRlbGV0ZSA9IGplLCBPZS5wcm90b3R5cGUuZ2V0ID0gcnQsIE9lLnByb3RvdHlwZS5oYXMgPSBxZSwgT2UucHJvdG90eXBlLnNldCA9IGl0O1xuICBmdW5jdGlvbiBKZShVKSB7XG4gICAgdmFyIFYgPSAtMSwgWiA9IFUgPT0gbnVsbCA/IDAgOiBVLmxlbmd0aDtcbiAgICBmb3IgKHRoaXMuY2xlYXIoKTsgKytWIDwgWjsgKSB7XG4gICAgICB2YXIgYmUgPSBVW1ZdO1xuICAgICAgdGhpcy5zZXQoYmVbMF0sIGJlWzFdKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gdHQoKSB7XG4gICAgdGhpcy5fX2RhdGFfXyA9IFtdLCB0aGlzLnNpemUgPSAwO1xuICB9XG4gIGZ1bmN0aW9uIGp0KFUpIHtcbiAgICB2YXIgViA9IHRoaXMuX19kYXRhX18sIFogPSBwcyhWLCBVKTtcbiAgICBpZiAoWiA8IDApXG4gICAgICByZXR1cm4gITE7XG4gICAgdmFyIGJlID0gVi5sZW5ndGggLSAxO1xuICAgIHJldHVybiBaID09IGJlID8gVi5wb3AoKSA6IFllLmNhbGwoViwgWiwgMSksIC0tdGhpcy5zaXplLCAhMDtcbiAgfVxuICBmdW5jdGlvbiBLdChVKSB7XG4gICAgdmFyIFYgPSB0aGlzLl9fZGF0YV9fLCBaID0gcHMoViwgVSk7XG4gICAgcmV0dXJuIFogPCAwID8gdm9pZCAwIDogVltaXVsxXTtcbiAgfVxuICBmdW5jdGlvbiBIdChVKSB7XG4gICAgcmV0dXJuIHBzKHRoaXMuX19kYXRhX18sIFUpID4gLTE7XG4gIH1cbiAgZnVuY3Rpb24gVnQoVSwgVikge1xuICAgIHZhciBaID0gdGhpcy5fX2RhdGFfXywgYmUgPSBwcyhaLCBVKTtcbiAgICByZXR1cm4gYmUgPCAwID8gKCsrdGhpcy5zaXplLCBaLnB1c2goW1UsIFZdKSkgOiBaW2JlXVsxXSA9IFYsIHRoaXM7XG4gIH1cbiAgSmUucHJvdG90eXBlLmNsZWFyID0gdHQsIEplLnByb3RvdHlwZS5kZWxldGUgPSBqdCwgSmUucHJvdG90eXBlLmdldCA9IEt0LCBKZS5wcm90b3R5cGUuaGFzID0gSHQsIEplLnByb3RvdHlwZS5zZXQgPSBWdDtcbiAgZnVuY3Rpb24gZ3QoVSkge1xuICAgIHZhciBWID0gLTEsIFogPSBVID09IG51bGwgPyAwIDogVS5sZW5ndGg7XG4gICAgZm9yICh0aGlzLmNsZWFyKCk7ICsrViA8IFo7ICkge1xuICAgICAgdmFyIGJlID0gVVtWXTtcbiAgICAgIHRoaXMuc2V0KGJlWzBdLCBiZVsxXSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIFZyKCkge1xuICAgIHRoaXMuc2l6ZSA9IDAsIHRoaXMuX19kYXRhX18gPSB7XG4gICAgICBoYXNoOiBuZXcgT2UoKSxcbiAgICAgIG1hcDogbmV3IChUZSB8fCBKZSkoKSxcbiAgICAgIHN0cmluZzogbmV3IE9lKClcbiAgICB9O1xuICB9XG4gIGZ1bmN0aW9uIFdyKFUpIHtcbiAgICB2YXIgViA9IHZzKHRoaXMsIFUpLmRlbGV0ZShVKTtcbiAgICByZXR1cm4gdGhpcy5zaXplIC09IFYgPyAxIDogMCwgVjtcbiAgfVxuICBmdW5jdGlvbiBHcihVKSB7XG4gICAgcmV0dXJuIHZzKHRoaXMsIFUpLmdldChVKTtcbiAgfVxuICBmdW5jdGlvbiBKcihVKSB7XG4gICAgcmV0dXJuIHZzKHRoaXMsIFUpLmhhcyhVKTtcbiAgfVxuICBmdW5jdGlvbiBZcihVLCBWKSB7XG4gICAgdmFyIFogPSB2cyh0aGlzLCBVKSwgYmUgPSBaLnNpemU7XG4gICAgcmV0dXJuIFouc2V0KFUsIFYpLCB0aGlzLnNpemUgKz0gWi5zaXplID09IGJlID8gMCA6IDEsIHRoaXM7XG4gIH1cbiAgZ3QucHJvdG90eXBlLmNsZWFyID0gVnIsIGd0LnByb3RvdHlwZS5kZWxldGUgPSBXciwgZ3QucHJvdG90eXBlLmdldCA9IEdyLCBndC5wcm90b3R5cGUuaGFzID0gSnIsIGd0LnByb3RvdHlwZS5zZXQgPSBZcjtcbiAgZnVuY3Rpb24gb3IoVSkge1xuICAgIHZhciBWID0gLTEsIFogPSBVID09IG51bGwgPyAwIDogVS5sZW5ndGg7XG4gICAgZm9yICh0aGlzLl9fZGF0YV9fID0gbmV3IGd0KCk7ICsrViA8IFo7IClcbiAgICAgIHRoaXMuYWRkKFVbVl0pO1xuICB9XG4gIGZ1bmN0aW9uIFhyKFUpIHtcbiAgICByZXR1cm4gdGhpcy5fX2RhdGFfXy5zZXQoVSwgaSksIHRoaXM7XG4gIH1cbiAgZnVuY3Rpb24gWnIoVSkge1xuICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhVKTtcbiAgfVxuICBvci5wcm90b3R5cGUuYWRkID0gb3IucHJvdG90eXBlLnB1c2ggPSBYciwgb3IucHJvdG90eXBlLmhhcyA9IFpyO1xuICBmdW5jdGlvbiAkdChVKSB7XG4gICAgdmFyIFYgPSB0aGlzLl9fZGF0YV9fID0gbmV3IEplKFUpO1xuICAgIHRoaXMuc2l6ZSA9IFYuc2l6ZTtcbiAgfVxuICBmdW5jdGlvbiBRcigpIHtcbiAgICB0aGlzLl9fZGF0YV9fID0gbmV3IEplKCksIHRoaXMuc2l6ZSA9IDA7XG4gIH1cbiAgZnVuY3Rpb24gZWkoVSkge1xuICAgIHZhciBWID0gdGhpcy5fX2RhdGFfXywgWiA9IFYuZGVsZXRlKFUpO1xuICAgIHJldHVybiB0aGlzLnNpemUgPSBWLnNpemUsIFo7XG4gIH1cbiAgZnVuY3Rpb24gdGkoVSkge1xuICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChVKTtcbiAgfVxuICBmdW5jdGlvbiBBbihVKSB7XG4gICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKFUpO1xuICB9XG4gIGZ1bmN0aW9uIERuKFUsIFYpIHtcbiAgICB2YXIgWiA9IHRoaXMuX19kYXRhX187XG4gICAgaWYgKFogaW5zdGFuY2VvZiBKZSkge1xuICAgICAgdmFyIGJlID0gWi5fX2RhdGFfXztcbiAgICAgIGlmICghVGUgfHwgYmUubGVuZ3RoIDwgdCAtIDEpXG4gICAgICAgIHJldHVybiBiZS5wdXNoKFtVLCBWXSksIHRoaXMuc2l6ZSA9ICsrWi5zaXplLCB0aGlzO1xuICAgICAgWiA9IHRoaXMuX19kYXRhX18gPSBuZXcgZ3QoYmUpO1xuICAgIH1cbiAgICByZXR1cm4gWi5zZXQoVSwgViksIHRoaXMuc2l6ZSA9IFouc2l6ZSwgdGhpcztcbiAgfVxuICAkdC5wcm90b3R5cGUuY2xlYXIgPSBRciwgJHQucHJvdG90eXBlLmRlbGV0ZSA9IGVpLCAkdC5wcm90b3R5cGUuZ2V0ID0gdGksICR0LnByb3RvdHlwZS5oYXMgPSBBbiwgJHQucHJvdG90eXBlLnNldCA9IERuO1xuICBmdW5jdGlvbiBrZChVLCBWKSB7XG4gICAgdmFyIFogPSBicyhVKSwgYmUgPSAhWiAmJiBpbChVKSwgY3QgPSAhWiAmJiAhYmUgJiYgUmEoVSksIFdlID0gIVogJiYgIWJlICYmICFjdCAmJiB5ZihVKSwgZHQgPSBaIHx8IGJlIHx8IGN0IHx8IFdlLCB3dCA9IGR0ID8gaGUoVS5sZW5ndGgsIFN0cmluZykgOiBbXSwgT3QgPSB3dC5sZW5ndGg7XG4gICAgZm9yICh2YXIgdXQgaW4gVSlcbiAgICAgIChWIHx8IHJlLmNhbGwoVSwgdXQpKSAmJiAhKGR0ICYmIC8vIFNhZmFyaSA5IGhhcyBlbnVtZXJhYmxlIGBhcmd1bWVudHMubGVuZ3RoYCBpbiBzdHJpY3QgbW9kZS5cbiAgICAgICh1dCA9PSBcImxlbmd0aFwiIHx8IC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgY3QgJiYgKHV0ID09IFwib2Zmc2V0XCIgfHwgdXQgPT0gXCJwYXJlbnRcIikgfHwgLy8gUGhhbnRvbUpTIDIgaGFzIGVudW1lcmFibGUgbm9uLWluZGV4IHByb3BlcnRpZXMgb24gdHlwZWQgYXJyYXlzLlxuICAgICAgV2UgJiYgKHV0ID09IFwiYnVmZmVyXCIgfHwgdXQgPT0gXCJieXRlTGVuZ3RoXCIgfHwgdXQgPT0gXCJieXRlT2Zmc2V0XCIpIHx8IC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgIFpkKHV0LCBPdCkpKSAmJiB3dC5wdXNoKHV0KTtcbiAgICByZXR1cm4gd3Q7XG4gIH1cbiAgZnVuY3Rpb24gcHMoVSwgVikge1xuICAgIGZvciAodmFyIFogPSBVLmxlbmd0aDsgWi0tOyApXG4gICAgICBpZiAocGYoVVtaXVswXSwgVikpXG4gICAgICAgIHJldHVybiBaO1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBmdW5jdGlvbiBqZChVLCBWLCBaKSB7XG4gICAgdmFyIGJlID0gVihVKTtcbiAgICByZXR1cm4gYnMoVSkgPyBiZSA6IHdlKGJlLCBaKFUpKTtcbiAgfVxuICBmdW5jdGlvbiBQbihVKSB7XG4gICAgcmV0dXJuIFUgPT0gbnVsbCA/IFUgPT09IHZvaWQgMCA/IEogOiBqIDogQWUgJiYgQWUgaW4gT2JqZWN0KFUpID8gWWQoVSkgOiBybChVKTtcbiAgfVxuICBmdW5jdGlvbiBoZihVKSB7XG4gICAgcmV0dXJuIE9uKFUpICYmIFBuKFUpID09IGY7XG4gIH1cbiAgZnVuY3Rpb24gdWYoVSwgViwgWiwgYmUsIGN0KSB7XG4gICAgcmV0dXJuIFUgPT09IFYgPyAhMCA6IFUgPT0gbnVsbCB8fCBWID09IG51bGwgfHwgIU9uKFUpICYmICFPbihWKSA/IFUgIT09IFUgJiYgViAhPT0gViA6IEtkKFUsIFYsIFosIGJlLCB1ZiwgY3QpO1xuICB9XG4gIGZ1bmN0aW9uIEtkKFUsIFYsIFosIGJlLCBjdCwgV2UpIHtcbiAgICB2YXIgZHQgPSBicyhVKSwgd3QgPSBicyhWKSwgT3QgPSBkdCA/IGggOiBwaShVKSwgdXQgPSB3dCA/IGggOiBwaShWKTtcbiAgICBPdCA9IE90ID09IGYgPyBUIDogT3QsIHV0ID0gdXQgPT0gZiA/IFQgOiB1dDtcbiAgICB2YXIgUXQgPSBPdCA9PSBULCBtciA9IHV0ID09IFQsIEx0ID0gT3QgPT0gdXQ7XG4gICAgaWYgKEx0ICYmIFJhKFUpKSB7XG4gICAgICBpZiAoIVJhKFYpKVxuICAgICAgICByZXR1cm4gITE7XG4gICAgICBkdCA9ICEwLCBRdCA9ICExO1xuICAgIH1cbiAgICBpZiAoTHQgJiYgIVF0KVxuICAgICAgcmV0dXJuIFdlIHx8IChXZSA9IG5ldyAkdCgpKSwgZHQgfHwgeWYoVSkgPyBkZihVLCBWLCBaLCBiZSwgY3QsIFdlKSA6IEdkKFUsIFYsIE90LCBaLCBiZSwgY3QsIFdlKTtcbiAgICBpZiAoIShaICYgbikpIHtcbiAgICAgIHZhciBmciA9IFF0ICYmIHJlLmNhbGwoVSwgXCJfX3dyYXBwZWRfX1wiKSwgY3IgPSBtciAmJiByZS5jYWxsKFYsIFwiX193cmFwcGVkX19cIik7XG4gICAgICBpZiAoZnIgfHwgY3IpIHtcbiAgICAgICAgdmFyIHZpID0gZnIgPyBVLnZhbHVlKCkgOiBVLCByaSA9IGNyID8gVi52YWx1ZSgpIDogVjtcbiAgICAgICAgcmV0dXJuIFdlIHx8IChXZSA9IG5ldyAkdCgpKSwgY3QodmksIHJpLCBaLCBiZSwgV2UpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gTHQgPyAoV2UgfHwgKFdlID0gbmV3ICR0KCkpLCBKZChVLCBWLCBaLCBiZSwgY3QsIFdlKSkgOiAhMTtcbiAgfVxuICBmdW5jdGlvbiBIZChVKSB7XG4gICAgaWYgKCFnZihVKSB8fCBlbChVKSlcbiAgICAgIHJldHVybiAhMTtcbiAgICB2YXIgViA9IHZmKFUpID8gb2UgOiBQO1xuICAgIHJldHVybiBWLnRlc3QoRGkoVSkpO1xuICB9XG4gIGZ1bmN0aW9uIFZkKFUpIHtcbiAgICByZXR1cm4gT24oVSkgJiYgYmYoVS5sZW5ndGgpICYmICEhTVtQbihVKV07XG4gIH1cbiAgZnVuY3Rpb24gV2QoVSkge1xuICAgIGlmICghdGwoVSkpXG4gICAgICByZXR1cm4gTmUoVSk7XG4gICAgdmFyIFYgPSBbXTtcbiAgICBmb3IgKHZhciBaIGluIE9iamVjdChVKSlcbiAgICAgIHJlLmNhbGwoVSwgWikgJiYgWiAhPSBcImNvbnN0cnVjdG9yXCIgJiYgVi5wdXNoKFopO1xuICAgIHJldHVybiBWO1xuICB9XG4gIGZ1bmN0aW9uIGRmKFUsIFYsIFosIGJlLCBjdCwgV2UpIHtcbiAgICB2YXIgZHQgPSBaICYgbiwgd3QgPSBVLmxlbmd0aCwgT3QgPSBWLmxlbmd0aDtcbiAgICBpZiAod3QgIT0gT3QgJiYgIShkdCAmJiBPdCA+IHd0KSlcbiAgICAgIHJldHVybiAhMTtcbiAgICB2YXIgdXQgPSBXZS5nZXQoVSk7XG4gICAgaWYgKHV0ICYmIFdlLmdldChWKSlcbiAgICAgIHJldHVybiB1dCA9PSBWO1xuICAgIHZhciBRdCA9IC0xLCBtciA9ICEwLCBMdCA9IFogJiBzID8gbmV3IG9yKCkgOiB2b2lkIDA7XG4gICAgZm9yIChXZS5zZXQoVSwgViksIFdlLnNldChWLCBVKTsgKytRdCA8IHd0OyApIHtcbiAgICAgIHZhciBmciA9IFVbUXRdLCBjciA9IFZbUXRdO1xuICAgICAgaWYgKGJlKVxuICAgICAgICB2YXIgdmkgPSBkdCA/IGJlKGNyLCBmciwgUXQsIFYsIFUsIFdlKSA6IGJlKGZyLCBjciwgUXQsIFUsIFYsIFdlKTtcbiAgICAgIGlmICh2aSAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGlmICh2aSlcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgbXIgPSAhMTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBpZiAoTHQpIHtcbiAgICAgICAgaWYgKCFNZShWLCBmdW5jdGlvbihyaSwgUGkpIHtcbiAgICAgICAgICBpZiAoIXhlKEx0LCBQaSkgJiYgKGZyID09PSByaSB8fCBjdChmciwgcmksIFosIGJlLCBXZSkpKVxuICAgICAgICAgICAgcmV0dXJuIEx0LnB1c2goUGkpO1xuICAgICAgICB9KSkge1xuICAgICAgICAgIG1yID0gITE7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoIShmciA9PT0gY3IgfHwgY3QoZnIsIGNyLCBaLCBiZSwgV2UpKSkge1xuICAgICAgICBtciA9ICExO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFdlLmRlbGV0ZShVKSwgV2UuZGVsZXRlKFYpLCBtcjtcbiAgfVxuICBmdW5jdGlvbiBHZChVLCBWLCBaLCBiZSwgY3QsIFdlLCBkdCkge1xuICAgIHN3aXRjaCAoWikge1xuICAgICAgY2FzZSBwOlxuICAgICAgICBpZiAoVS5ieXRlTGVuZ3RoICE9IFYuYnl0ZUxlbmd0aCB8fCBVLmJ5dGVPZmZzZXQgIT0gVi5ieXRlT2Zmc2V0KVxuICAgICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgVSA9IFUuYnVmZmVyLCBWID0gVi5idWZmZXI7XG4gICAgICBjYXNlIE86XG4gICAgICAgIHJldHVybiAhKFUuYnl0ZUxlbmd0aCAhPSBWLmJ5dGVMZW5ndGggfHwgIVdlKG5ldyBQZShVKSwgbmV3IFBlKFYpKSk7XG4gICAgICBjYXNlIHY6XG4gICAgICBjYXNlIHc6XG4gICAgICBjYXNlIGs6XG4gICAgICAgIHJldHVybiBwZigrVSwgK1YpO1xuICAgICAgY2FzZSBBOlxuICAgICAgICByZXR1cm4gVS5uYW1lID09IFYubmFtZSAmJiBVLm1lc3NhZ2UgPT0gVi5tZXNzYWdlO1xuICAgICAgY2FzZSB6OlxuICAgICAgY2FzZSBfOlxuICAgICAgICByZXR1cm4gVSA9PSBWICsgXCJcIjtcbiAgICAgIGNhc2UgTjpcbiAgICAgICAgdmFyIHd0ID0gZ2U7XG4gICAgICBjYXNlIEI6XG4gICAgICAgIHZhciBPdCA9IGJlICYgbjtcbiAgICAgICAgaWYgKHd0IHx8ICh3dCA9IG5lKSwgVS5zaXplICE9IFYuc2l6ZSAmJiAhT3QpXG4gICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICB2YXIgdXQgPSBkdC5nZXQoVSk7XG4gICAgICAgIGlmICh1dClcbiAgICAgICAgICByZXR1cm4gdXQgPT0gVjtcbiAgICAgICAgYmUgfD0gcywgZHQuc2V0KFUsIFYpO1xuICAgICAgICB2YXIgUXQgPSBkZih3dChVKSwgd3QoViksIGJlLCBjdCwgV2UsIGR0KTtcbiAgICAgICAgcmV0dXJuIGR0LmRlbGV0ZShVKSwgUXQ7XG4gICAgICBjYXNlIFI6XG4gICAgICAgIGlmIChGZSlcbiAgICAgICAgICByZXR1cm4gRmUuY2FsbChVKSA9PSBGZS5jYWxsKFYpO1xuICAgIH1cbiAgICByZXR1cm4gITE7XG4gIH1cbiAgZnVuY3Rpb24gSmQoVSwgViwgWiwgYmUsIGN0LCBXZSkge1xuICAgIHZhciBkdCA9IFogJiBuLCB3dCA9IGxmKFUpLCBPdCA9IHd0Lmxlbmd0aCwgdXQgPSBsZihWKSwgUXQgPSB1dC5sZW5ndGg7XG4gICAgaWYgKE90ICE9IFF0ICYmICFkdClcbiAgICAgIHJldHVybiAhMTtcbiAgICBmb3IgKHZhciBtciA9IE90OyBtci0tOyApIHtcbiAgICAgIHZhciBMdCA9IHd0W21yXTtcbiAgICAgIGlmICghKGR0ID8gTHQgaW4gViA6IHJlLmNhbGwoViwgTHQpKSlcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICB2YXIgZnIgPSBXZS5nZXQoVSk7XG4gICAgaWYgKGZyICYmIFdlLmdldChWKSlcbiAgICAgIHJldHVybiBmciA9PSBWO1xuICAgIHZhciBjciA9ICEwO1xuICAgIFdlLnNldChVLCBWKSwgV2Uuc2V0KFYsIFUpO1xuICAgIGZvciAodmFyIHZpID0gZHQ7ICsrbXIgPCBPdDsgKSB7XG4gICAgICBMdCA9IHd0W21yXTtcbiAgICAgIHZhciByaSA9IFVbTHRdLCBQaSA9IFZbTHRdO1xuICAgICAgaWYgKGJlKVxuICAgICAgICB2YXIgbWYgPSBkdCA/IGJlKFBpLCByaSwgTHQsIFYsIFUsIFdlKSA6IGJlKHJpLCBQaSwgTHQsIFUsIFYsIFdlKTtcbiAgICAgIGlmICghKG1mID09PSB2b2lkIDAgPyByaSA9PT0gUGkgfHwgY3QocmksIFBpLCBaLCBiZSwgV2UpIDogbWYpKSB7XG4gICAgICAgIGNyID0gITE7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgdmkgfHwgKHZpID0gTHQgPT0gXCJjb25zdHJ1Y3RvclwiKTtcbiAgICB9XG4gICAgaWYgKGNyICYmICF2aSkge1xuICAgICAgdmFyIGdzID0gVS5jb25zdHJ1Y3RvciwgeXMgPSBWLmNvbnN0cnVjdG9yO1xuICAgICAgZ3MgIT0geXMgJiYgXCJjb25zdHJ1Y3RvclwiIGluIFUgJiYgXCJjb25zdHJ1Y3RvclwiIGluIFYgJiYgISh0eXBlb2YgZ3MgPT0gXCJmdW5jdGlvblwiICYmIGdzIGluc3RhbmNlb2YgZ3MgJiYgdHlwZW9mIHlzID09IFwiZnVuY3Rpb25cIiAmJiB5cyBpbnN0YW5jZW9mIHlzKSAmJiAoY3IgPSAhMSk7XG4gICAgfVxuICAgIHJldHVybiBXZS5kZWxldGUoVSksIFdlLmRlbGV0ZShWKSwgY3I7XG4gIH1cbiAgZnVuY3Rpb24gbGYoVSkge1xuICAgIHJldHVybiBqZChVLCBhbCwgWGQpO1xuICB9XG4gIGZ1bmN0aW9uIHZzKFUsIFYpIHtcbiAgICB2YXIgWiA9IFUuX19kYXRhX187XG4gICAgcmV0dXJuIFFkKFYpID8gWlt0eXBlb2YgViA9PSBcInN0cmluZ1wiID8gXCJzdHJpbmdcIiA6IFwiaGFzaFwiXSA6IFoubWFwO1xuICB9XG4gIGZ1bmN0aW9uIGVuKFUsIFYpIHtcbiAgICB2YXIgWiA9IHNlKFUsIFYpO1xuICAgIHJldHVybiBIZChaKSA/IFogOiB2b2lkIDA7XG4gIH1cbiAgZnVuY3Rpb24gWWQoVSkge1xuICAgIHZhciBWID0gcmUuY2FsbChVLCBBZSksIFogPSBVW0FlXTtcbiAgICB0cnkge1xuICAgICAgVVtBZV0gPSB2b2lkIDA7XG4gICAgICB2YXIgYmUgPSAhMDtcbiAgICB9IGNhdGNoIHtcbiAgICB9XG4gICAgdmFyIGN0ID0gU2UuY2FsbChVKTtcbiAgICByZXR1cm4gYmUgJiYgKFYgPyBVW0FlXSA9IFogOiBkZWxldGUgVVtBZV0pLCBjdDtcbiAgfVxuICB2YXIgWGQgPSBaZSA/IGZ1bmN0aW9uKFUpIHtcbiAgICByZXR1cm4gVSA9PSBudWxsID8gW10gOiAoVSA9IE9iamVjdChVKSwgZWUoWmUoVSksIGZ1bmN0aW9uKFYpIHtcbiAgICAgIHJldHVybiBHZS5jYWxsKFUsIFYpO1xuICAgIH0pKTtcbiAgfSA6IG9sLCBwaSA9IFBuO1xuICAoQ2UgJiYgcGkobmV3IENlKG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IHAgfHwgVGUgJiYgcGkobmV3IFRlKCkpICE9IE4gfHwgZGUgJiYgcGkoZGUucmVzb2x2ZSgpKSAhPSBLIHx8ICRlICYmIHBpKG5ldyAkZSgpKSAhPSBCIHx8IExlICYmIHBpKG5ldyBMZSgpKSAhPSBRKSAmJiAocGkgPSBmdW5jdGlvbihVKSB7XG4gICAgdmFyIFYgPSBQbihVKSwgWiA9IFYgPT0gVCA/IFUuY29uc3RydWN0b3IgOiB2b2lkIDAsIGJlID0gWiA/IERpKFopIDogXCJcIjtcbiAgICBpZiAoYmUpXG4gICAgICBzd2l0Y2ggKGJlKSB7XG4gICAgICAgIGNhc2UgVWU6XG4gICAgICAgICAgcmV0dXJuIHA7XG4gICAgICAgIGNhc2UgemU6XG4gICAgICAgICAgcmV0dXJuIE47XG4gICAgICAgIGNhc2UgeWU6XG4gICAgICAgICAgcmV0dXJuIEs7XG4gICAgICAgIGNhc2UgQmU6XG4gICAgICAgICAgcmV0dXJuIEI7XG4gICAgICAgIGNhc2Uga2U6XG4gICAgICAgICAgcmV0dXJuIFE7XG4gICAgICB9XG4gICAgcmV0dXJuIFY7XG4gIH0pO1xuICBmdW5jdGlvbiBaZChVLCBWKSB7XG4gICAgcmV0dXJuIFYgPSBWID8/IG8sICEhViAmJiAodHlwZW9mIFUgPT0gXCJudW1iZXJcIiB8fCBHLnRlc3QoVSkpICYmIFUgPiAtMSAmJiBVICUgMSA9PSAwICYmIFUgPCBWO1xuICB9XG4gIGZ1bmN0aW9uIFFkKFUpIHtcbiAgICB2YXIgViA9IHR5cGVvZiBVO1xuICAgIHJldHVybiBWID09IFwic3RyaW5nXCIgfHwgViA9PSBcIm51bWJlclwiIHx8IFYgPT0gXCJzeW1ib2xcIiB8fCBWID09IFwiYm9vbGVhblwiID8gVSAhPT0gXCJfX3Byb3RvX19cIiA6IFUgPT09IG51bGw7XG4gIH1cbiAgZnVuY3Rpb24gZWwoVSkge1xuICAgIHJldHVybiAhIUVlICYmIEVlIGluIFU7XG4gIH1cbiAgZnVuY3Rpb24gdGwoVSkge1xuICAgIHZhciBWID0gVSAmJiBVLmNvbnN0cnVjdG9yLCBaID0gdHlwZW9mIFYgPT0gXCJmdW5jdGlvblwiICYmIFYucHJvdG90eXBlIHx8IHRlO1xuICAgIHJldHVybiBVID09PSBaO1xuICB9XG4gIGZ1bmN0aW9uIHJsKFUpIHtcbiAgICByZXR1cm4gU2UuY2FsbChVKTtcbiAgfVxuICBmdW5jdGlvbiBEaShVKSB7XG4gICAgaWYgKFUgIT0gbnVsbCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIF9lLmNhbGwoVSk7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBVICsgXCJcIjtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbiAgfVxuICBmdW5jdGlvbiBwZihVLCBWKSB7XG4gICAgcmV0dXJuIFUgPT09IFYgfHwgVSAhPT0gVSAmJiBWICE9PSBWO1xuICB9XG4gIHZhciBpbCA9IGhmKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBhcmd1bWVudHM7XG4gIH0oKSkgPyBoZiA6IGZ1bmN0aW9uKFUpIHtcbiAgICByZXR1cm4gT24oVSkgJiYgcmUuY2FsbChVLCBcImNhbGxlZVwiKSAmJiAhR2UuY2FsbChVLCBcImNhbGxlZVwiKTtcbiAgfSwgYnMgPSBBcnJheS5pc0FycmF5O1xuICBmdW5jdGlvbiBubChVKSB7XG4gICAgcmV0dXJuIFUgIT0gbnVsbCAmJiBiZihVLmxlbmd0aCkgJiYgIXZmKFUpO1xuICB9XG4gIHZhciBSYSA9IGV0IHx8IGZsO1xuICBmdW5jdGlvbiBzbChVLCBWKSB7XG4gICAgcmV0dXJuIHVmKFUsIFYpO1xuICB9XG4gIGZ1bmN0aW9uIHZmKFUpIHtcbiAgICBpZiAoIWdmKFUpKVxuICAgICAgcmV0dXJuICExO1xuICAgIHZhciBWID0gUG4oVSk7XG4gICAgcmV0dXJuIFYgPT0gSSB8fCBWID09IEQgfHwgViA9PSBkIHx8IFYgPT0gJDtcbiAgfVxuICBmdW5jdGlvbiBiZihVKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBVID09IFwibnVtYmVyXCIgJiYgVSA+IC0xICYmIFUgJSAxID09IDAgJiYgVSA8PSBvO1xuICB9XG4gIGZ1bmN0aW9uIGdmKFUpIHtcbiAgICB2YXIgViA9IHR5cGVvZiBVO1xuICAgIHJldHVybiBVICE9IG51bGwgJiYgKFYgPT0gXCJvYmplY3RcIiB8fCBWID09IFwiZnVuY3Rpb25cIik7XG4gIH1cbiAgZnVuY3Rpb24gT24oVSkge1xuICAgIHJldHVybiBVICE9IG51bGwgJiYgdHlwZW9mIFUgPT0gXCJvYmplY3RcIjtcbiAgfVxuICB2YXIgeWYgPSBYID8gUmUoWCkgOiBWZDtcbiAgZnVuY3Rpb24gYWwoVSkge1xuICAgIHJldHVybiBubChVKSA/IGtkKFUpIDogV2QoVSk7XG4gIH1cbiAgZnVuY3Rpb24gb2woKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGZ1bmN0aW9uIGZsKCkge1xuICAgIHJldHVybiAhMTtcbiAgfVxuICByLmV4cG9ydHMgPSBzbDtcbn0pKFFzLCBRcy5leHBvcnRzKTtcbnZhciBvMyA9IFFzLmV4cG9ydHM7XG5jb25zdCBmMyA9IC8qIEBfX1BVUkVfXyAqLyBibihvMyksIEVkID0gXCJ3Y1wiLCBTZCA9IDIsIGVhID0gXCJjb3JlXCIsIGpyID0gYCR7RWR9QDI6JHtlYX06YCwgYzMgPSB7IG5hbWU6IGVhLCBsb2dnZXI6IFwiZXJyb3JcIiB9LCBoMyA9IHsgZGF0YWJhc2U6IFwiOm1lbW9yeTpcIiB9LCB1MyA9IFwiY3J5cHRvXCIsIGVoID0gXCJjbGllbnRfZWQyNTUxOV9zZWVkXCIsIGQzID0gaWUuT05FX0RBWSwgbDMgPSBcImtleWNoYWluXCIsIHAzID0gXCIwLjNcIiwgdjMgPSBcIm1lc3NhZ2VzXCIsIGIzID0gXCIwLjNcIiwgdGggPSBpZS5TSVhfSE9VUlMsIGczID0gXCJwdWJsaXNoZXJcIiwgTWQgPSBcImlyblwiLCB5MyA9IFwiZXJyb3JcIiwgSWQgPSBcIndzczovL3JlbGF5LndhbGxldGNvbm5lY3Qub3JnXCIsIG0zID0gXCJyZWxheWVyXCIsIEV0ID0geyBtZXNzYWdlOiBcInJlbGF5ZXJfbWVzc2FnZVwiLCBtZXNzYWdlX2FjazogXCJyZWxheWVyX21lc3NhZ2VfYWNrXCIsIGNvbm5lY3Q6IFwicmVsYXllcl9jb25uZWN0XCIsIGRpc2Nvbm5lY3Q6IFwicmVsYXllcl9kaXNjb25uZWN0XCIsIGVycm9yOiBcInJlbGF5ZXJfZXJyb3JcIiwgY29ubmVjdGlvbl9zdGFsbGVkOiBcInJlbGF5ZXJfY29ubmVjdGlvbl9zdGFsbGVkXCIsIHRyYW5zcG9ydF9jbG9zZWQ6IFwicmVsYXllcl90cmFuc3BvcnRfY2xvc2VkXCIsIHB1Ymxpc2g6IFwicmVsYXllcl9wdWJsaXNoXCIgfSwgdzMgPSBcIl9zdWJzY3JpcHRpb25cIiwgaHIgPSB7IHBheWxvYWQ6IFwicGF5bG9hZFwiLCBjb25uZWN0OiBcImNvbm5lY3RcIiwgZGlzY29ubmVjdDogXCJkaXNjb25uZWN0XCIsIGVycm9yOiBcImVycm9yXCIgfSwgXzMgPSAwLjEsIERvID0gXCIyLjE3LjNcIiwgYXQgPSB7IGxpbmtfbW9kZTogXCJsaW5rX21vZGVcIiwgcmVsYXk6IFwicmVsYXlcIiB9LCB4MyA9IFwiMC4zXCIsIEUzID0gXCJXQUxMRVRDT05ORUNUX0NMSUVOVF9JRFwiLCByaCA9IFwiV0FMTEVUQ09OTkVDVF9MSU5LX01PREVfQVBQU1wiLCBlciA9IHsgY3JlYXRlZDogXCJzdWJzY3JpcHRpb25fY3JlYXRlZFwiLCBkZWxldGVkOiBcInN1YnNjcmlwdGlvbl9kZWxldGVkXCIsIGV4cGlyZWQ6IFwic3Vic2NyaXB0aW9uX2V4cGlyZWRcIiwgZGlzYWJsZWQ6IFwic3Vic2NyaXB0aW9uX2Rpc2FibGVkXCIsIHN5bmM6IFwic3Vic2NyaXB0aW9uX3N5bmNcIiwgcmVzdWJzY3JpYmVkOiBcInN1YnNjcmlwdGlvbl9yZXN1YnNjcmliZWRcIiB9LCBTMyA9IFwic3Vic2NyaXB0aW9uXCIsIE0zID0gXCIwLjNcIiwgSTMgPSBpZS5GSVZFX1NFQ09ORFMgKiAxZTMsIEEzID0gXCJwYWlyaW5nXCIsIEQzID0gXCIwLjNcIiwgcW4gPSB7IHdjX3BhaXJpbmdEZWxldGU6IHsgcmVxOiB7IHR0bDogaWUuT05FX0RBWSwgcHJvbXB0OiAhMSwgdGFnOiAxZTMgfSwgcmVzOiB7IHR0bDogaWUuT05FX0RBWSwgcHJvbXB0OiAhMSwgdGFnOiAxMDAxIH0gfSwgd2NfcGFpcmluZ1Bpbmc6IHsgcmVxOiB7IHR0bDogaWUuVEhJUlRZX1NFQ09ORFMsIHByb21wdDogITEsIHRhZzogMTAwMiB9LCByZXM6IHsgdHRsOiBpZS5USElSVFlfU0VDT05EUywgcHJvbXB0OiAhMSwgdGFnOiAxMDAzIH0gfSwgdW5yZWdpc3RlcmVkX21ldGhvZDogeyByZXE6IHsgdHRsOiBpZS5PTkVfREFZLCBwcm9tcHQ6ICExLCB0YWc6IDAgfSwgcmVzOiB7IHR0bDogaWUuT05FX0RBWSwgcHJvbXB0OiAhMSwgdGFnOiAwIH0gfSB9LCBxaSA9IHsgY3JlYXRlOiBcInBhaXJpbmdfY3JlYXRlXCIsIGV4cGlyZTogXCJwYWlyaW5nX2V4cGlyZVwiLCBkZWxldGU6IFwicGFpcmluZ19kZWxldGVcIiwgcGluZzogXCJwYWlyaW5nX3BpbmdcIiB9LCBfciA9IHsgY3JlYXRlZDogXCJoaXN0b3J5X2NyZWF0ZWRcIiwgdXBkYXRlZDogXCJoaXN0b3J5X3VwZGF0ZWRcIiwgZGVsZXRlZDogXCJoaXN0b3J5X2RlbGV0ZWRcIiwgc3luYzogXCJoaXN0b3J5X3N5bmNcIiB9LCBQMyA9IFwiaGlzdG9yeVwiLCBPMyA9IFwiMC4zXCIsIFIzID0gXCJleHBpcmVyXCIsIHVyID0geyBjcmVhdGVkOiBcImV4cGlyZXJfY3JlYXRlZFwiLCBkZWxldGVkOiBcImV4cGlyZXJfZGVsZXRlZFwiLCBleHBpcmVkOiBcImV4cGlyZXJfZXhwaXJlZFwiLCBzeW5jOiBcImV4cGlyZXJfc3luY1wiIH0sIE4zID0gXCIwLjNcIiwgVDMgPSBcInZlcmlmeS1hcGlcIiwgQzMgPSBcImh0dHBzOi8vdmVyaWZ5LndhbGxldGNvbm5lY3QuY29tXCIsIEFkID0gXCJodHRwczovL3ZlcmlmeS53YWxsZXRjb25uZWN0Lm9yZ1wiLCBWbiA9IEFkLCAkMyA9IGAke1ZufS92M2AsIEwzID0gW0MzLCBBZF0sIEYzID0gXCJlY2hvXCIsIHEzID0gXCJodHRwczovL2VjaG8ud2FsbGV0Y29ubmVjdC5jb21cIiwgT3IgPSB7IHBhaXJpbmdfc3RhcnRlZDogXCJwYWlyaW5nX3N0YXJ0ZWRcIiwgcGFpcmluZ191cmlfdmFsaWRhdGlvbl9zdWNjZXNzOiBcInBhaXJpbmdfdXJpX3ZhbGlkYXRpb25fc3VjY2Vzc1wiLCBwYWlyaW5nX3VyaV9ub3RfZXhwaXJlZDogXCJwYWlyaW5nX3VyaV9ub3RfZXhwaXJlZFwiLCBzdG9yZV9uZXdfcGFpcmluZzogXCJzdG9yZV9uZXdfcGFpcmluZ1wiLCBzdWJzY3JpYmluZ19wYWlyaW5nX3RvcGljOiBcInN1YnNjcmliaW5nX3BhaXJpbmdfdG9waWNcIiwgc3Vic2NyaWJlX3BhaXJpbmdfdG9waWNfc3VjY2VzczogXCJzdWJzY3JpYmVfcGFpcmluZ190b3BpY19zdWNjZXNzXCIsIGV4aXN0aW5nX3BhaXJpbmc6IFwiZXhpc3RpbmdfcGFpcmluZ1wiLCBwYWlyaW5nX25vdF9leHBpcmVkOiBcInBhaXJpbmdfbm90X2V4cGlyZWRcIiwgZW1pdF9pbmFjdGl2ZV9wYWlyaW5nOiBcImVtaXRfaW5hY3RpdmVfcGFpcmluZ1wiLCBlbWl0X3Nlc3Npb25fcHJvcG9zYWw6IFwiZW1pdF9zZXNzaW9uX3Byb3Bvc2FsXCIsIHN1YnNjcmliaW5nX3RvX3BhaXJpbmdfdG9waWM6IFwic3Vic2NyaWJpbmdfdG9fcGFpcmluZ190b3BpY1wiIH0sIGFpID0geyBub193c3NfY29ubmVjdGlvbjogXCJub193c3NfY29ubmVjdGlvblwiLCBub19pbnRlcm5ldF9jb25uZWN0aW9uOiBcIm5vX2ludGVybmV0X2Nvbm5lY3Rpb25cIiwgbWFsZm9ybWVkX3BhaXJpbmdfdXJpOiBcIm1hbGZvcm1lZF9wYWlyaW5nX3VyaVwiLCBhY3RpdmVfcGFpcmluZ19hbHJlYWR5X2V4aXN0czogXCJhY3RpdmVfcGFpcmluZ19hbHJlYWR5X2V4aXN0c1wiLCBzdWJzY3JpYmVfcGFpcmluZ190b3BpY19mYWlsdXJlOiBcInN1YnNjcmliZV9wYWlyaW5nX3RvcGljX2ZhaWx1cmVcIiwgcGFpcmluZ19leHBpcmVkOiBcInBhaXJpbmdfZXhwaXJlZFwiLCBwcm9wb3NhbF9leHBpcmVkOiBcInByb3Bvc2FsX2V4cGlyZWRcIiwgcHJvcG9zYWxfbGlzdGVuZXJfbm90X2ZvdW5kOiBcInByb3Bvc2FsX2xpc3RlbmVyX25vdF9mb3VuZFwiIH0sIHhyID0geyBzZXNzaW9uX2FwcHJvdmVfc3RhcnRlZDogXCJzZXNzaW9uX2FwcHJvdmVfc3RhcnRlZFwiLCBwcm9wb3NhbF9ub3RfZXhwaXJlZDogXCJwcm9wb3NhbF9ub3RfZXhwaXJlZFwiLCBzZXNzaW9uX25hbWVzcGFjZXNfdmFsaWRhdGlvbl9zdWNjZXNzOiBcInNlc3Npb25fbmFtZXNwYWNlc192YWxpZGF0aW9uX3N1Y2Nlc3NcIiwgY3JlYXRlX3Nlc3Npb25fdG9waWM6IFwiY3JlYXRlX3Nlc3Npb25fdG9waWNcIiwgc3Vic2NyaWJpbmdfc2Vzc2lvbl90b3BpYzogXCJzdWJzY3JpYmluZ19zZXNzaW9uX3RvcGljXCIsIHN1YnNjcmliZV9zZXNzaW9uX3RvcGljX3N1Y2Nlc3M6IFwic3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfc3VjY2Vzc1wiLCBwdWJsaXNoaW5nX3Nlc3Npb25fYXBwcm92ZTogXCJwdWJsaXNoaW5nX3Nlc3Npb25fYXBwcm92ZVwiLCBzZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9zdWNjZXNzOiBcInNlc3Npb25fYXBwcm92ZV9wdWJsaXNoX3N1Y2Nlc3NcIiwgc3RvcmVfc2Vzc2lvbjogXCJzdG9yZV9zZXNzaW9uXCIsIHB1Ymxpc2hpbmdfc2Vzc2lvbl9zZXR0bGU6IFwicHVibGlzaGluZ19zZXNzaW9uX3NldHRsZVwiLCBzZXNzaW9uX3NldHRsZV9wdWJsaXNoX3N1Y2Nlc3M6IFwic2Vzc2lvbl9zZXR0bGVfcHVibGlzaF9zdWNjZXNzXCIgfSwgVGkgPSB7IG5vX2ludGVybmV0X2Nvbm5lY3Rpb246IFwibm9faW50ZXJuZXRfY29ubmVjdGlvblwiLCBub193c3NfY29ubmVjdGlvbjogXCJub193c3NfY29ubmVjdGlvblwiLCBwcm9wb3NhbF9leHBpcmVkOiBcInByb3Bvc2FsX2V4cGlyZWRcIiwgc3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfZmFpbHVyZTogXCJzdWJzY3JpYmVfc2Vzc2lvbl90b3BpY19mYWlsdXJlXCIsIHNlc3Npb25fYXBwcm92ZV9wdWJsaXNoX2ZhaWx1cmU6IFwic2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfZmFpbHVyZVwiLCBzZXNzaW9uX3NldHRsZV9wdWJsaXNoX2ZhaWx1cmU6IFwic2Vzc2lvbl9zZXR0bGVfcHVibGlzaF9mYWlsdXJlXCIsIHNlc3Npb25fYXBwcm92ZV9uYW1lc3BhY2VfdmFsaWRhdGlvbl9mYWlsdXJlOiBcInNlc3Npb25fYXBwcm92ZV9uYW1lc3BhY2VfdmFsaWRhdGlvbl9mYWlsdXJlXCIsIHByb3Bvc2FsX25vdF9mb3VuZDogXCJwcm9wb3NhbF9ub3RfZm91bmRcIiB9LCBDaSA9IHsgYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmVfc3RhcnRlZDogXCJhdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9zdGFydGVkXCIsIGF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9ub3RfZXhwaXJlZDogXCJhdXRoZW50aWNhdGVkX3Nlc3Npb25fbm90X2V4cGlyZWRcIiwgY2hhaW5zX2NhaXAyX2NvbXBsaWFudDogXCJjaGFpbnNfY2FpcDJfY29tcGxpYW50XCIsIGNoYWluc19ldm1fY29tcGxpYW50OiBcImNoYWluc19ldm1fY29tcGxpYW50XCIsIGNyZWF0ZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWM6IFwiY3JlYXRlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpY1wiLCBjYWNhb3NfdmVyaWZpZWQ6IFwiY2FjYW9zX3ZlcmlmaWVkXCIsIHN0b3JlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbjogXCJzdG9yZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25cIiwgc3Vic2NyaWJpbmdfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljOiBcInN1YnNjcmliaW5nX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpY1wiLCBzdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX3N1Y2Nlc3M6IFwic3Vic2NyaWJlX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpY19zdWNjZXNzXCIsIHB1Ymxpc2hpbmdfYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmU6IFwicHVibGlzaGluZ19hdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZVwiLCBhdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9wdWJsaXNoX3N1Y2Nlc3M6IFwiYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9zdWNjZXNzXCIgfSwgVW4gPSB7IG5vX2ludGVybmV0X2Nvbm5lY3Rpb246IFwibm9faW50ZXJuZXRfY29ubmVjdGlvblwiLCBub193c3NfY29ubmVjdGlvbjogXCJub193c3NfY29ubmVjdGlvblwiLCBtaXNzaW5nX3Nlc3Npb25fYXV0aGVudGljYXRlX3JlcXVlc3Q6IFwibWlzc2luZ19zZXNzaW9uX2F1dGhlbnRpY2F0ZV9yZXF1ZXN0XCIsIHNlc3Npb25fYXV0aGVudGljYXRlX3JlcXVlc3RfZXhwaXJlZDogXCJzZXNzaW9uX2F1dGhlbnRpY2F0ZV9yZXF1ZXN0X2V4cGlyZWRcIiwgY2hhaW5zX2NhaXAyX2NvbXBsaWFudF9mYWlsdXJlOiBcImNoYWluc19jYWlwMl9jb21wbGlhbnRfZmFpbHVyZVwiLCBjaGFpbnNfZXZtX2NvbXBsaWFudF9mYWlsdXJlOiBcImNoYWluc19ldm1fY29tcGxpYW50X2ZhaWx1cmVcIiwgaW52YWxpZF9jYWNhbzogXCJpbnZhbGlkX2NhY2FvXCIsIHN1YnNjcmliZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWNfZmFpbHVyZTogXCJzdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX2ZhaWx1cmVcIiwgYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmVfcHVibGlzaF9mYWlsdXJlOiBcImF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfZmFpbHVyZVwiLCBhdXRoZW50aWNhdGVkX3Nlc3Npb25fcGVuZGluZ19yZXF1ZXN0X25vdF9mb3VuZDogXCJhdXRoZW50aWNhdGVkX3Nlc3Npb25fcGVuZGluZ19yZXF1ZXN0X25vdF9mb3VuZFwiIH0sIFUzID0gMC4xLCB6MyA9IFwiZXZlbnQtY2xpZW50XCIsIEIzID0gODY0MDAsIGszID0gXCJodHRwczovL3B1bHNlLndhbGxldGNvbm5lY3Qub3JnL2JhdGNoXCI7XG5mdW5jdGlvbiBqMyhyLCBlKSB7XG4gIGlmIChyLmxlbmd0aCA+PSAyNTUpXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFscGhhYmV0IHRvbyBsb25nXCIpO1xuICBmb3IgKHZhciB0ID0gbmV3IFVpbnQ4QXJyYXkoMjU2KSwgaSA9IDA7IGkgPCB0Lmxlbmd0aDsgaSsrKVxuICAgIHRbaV0gPSAyNTU7XG4gIGZvciAodmFyIG4gPSAwOyBuIDwgci5sZW5ndGg7IG4rKykge1xuICAgIHZhciBzID0gci5jaGFyQXQobiksIG8gPSBzLmNoYXJDb2RlQXQoMCk7XG4gICAgaWYgKHRbb10gIT09IDI1NSlcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyArIFwiIGlzIGFtYmlndW91c1wiKTtcbiAgICB0W29dID0gbjtcbiAgfVxuICB2YXIgZiA9IHIubGVuZ3RoLCBoID0gci5jaGFyQXQoMCksIGQgPSBNYXRoLmxvZyhmKSAvIE1hdGgubG9nKDI1NiksIHYgPSBNYXRoLmxvZygyNTYpIC8gTWF0aC5sb2coZik7XG4gIGZ1bmN0aW9uIHcoRCkge1xuICAgIGlmIChEIGluc3RhbmNlb2YgVWludDhBcnJheSB8fCAoQXJyYXlCdWZmZXIuaXNWaWV3KEQpID8gRCA9IG5ldyBVaW50OEFycmF5KEQuYnVmZmVyLCBELmJ5dGVPZmZzZXQsIEQuYnl0ZUxlbmd0aCkgOiBBcnJheS5pc0FycmF5KEQpICYmIChEID0gVWludDhBcnJheS5mcm9tKEQpKSksICEoRCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkV4cGVjdGVkIFVpbnQ4QXJyYXlcIik7XG4gICAgaWYgKEQubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgZm9yICh2YXIgTiA9IDAsIGsgPSAwLCBqID0gMCwgVCA9IEQubGVuZ3RoOyBqICE9PSBUICYmIERbal0gPT09IDA7IClcbiAgICAgIGorKywgTisrO1xuICAgIGZvciAodmFyIEsgPSAoVCAtIGopICogdiArIDEgPj4+IDAsICQgPSBuZXcgVWludDhBcnJheShLKTsgaiAhPT0gVDsgKSB7XG4gICAgICBmb3IgKHZhciB6ID0gRFtqXSwgQiA9IDAsIF8gPSBLIC0gMTsgKHogIT09IDAgfHwgQiA8IGspICYmIF8gIT09IC0xOyBfLS0sIEIrKylcbiAgICAgICAgeiArPSAyNTYgKiAkW19dID4+PiAwLCAkW19dID0geiAlIGYgPj4+IDAsIHogPSB6IC8gZiA+Pj4gMDtcbiAgICAgIGlmICh6ICE9PSAwKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb24temVybyBjYXJyeVwiKTtcbiAgICAgIGsgPSBCLCBqKys7XG4gICAgfVxuICAgIGZvciAodmFyIFIgPSBLIC0gazsgUiAhPT0gSyAmJiAkW1JdID09PSAwOyApXG4gICAgICBSKys7XG4gICAgZm9yICh2YXIgSiA9IGgucmVwZWF0KE4pOyBSIDwgSzsgKytSKVxuICAgICAgSiArPSByLmNoYXJBdCgkW1JdKTtcbiAgICByZXR1cm4gSjtcbiAgfVxuICBmdW5jdGlvbiBBKEQpIHtcbiAgICBpZiAodHlwZW9mIEQgIT0gXCJzdHJpbmdcIilcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJFeHBlY3RlZCBTdHJpbmdcIik7XG4gICAgaWYgKEQubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KCk7XG4gICAgdmFyIE4gPSAwO1xuICAgIGlmIChEW05dICE9PSBcIiBcIikge1xuICAgICAgZm9yICh2YXIgayA9IDAsIGogPSAwOyBEW05dID09PSBoOyApXG4gICAgICAgIGsrKywgTisrO1xuICAgICAgZm9yICh2YXIgVCA9IChELmxlbmd0aCAtIE4pICogZCArIDEgPj4+IDAsIEsgPSBuZXcgVWludDhBcnJheShUKTsgRFtOXTsgKSB7XG4gICAgICAgIHZhciAkID0gdFtELmNoYXJDb2RlQXQoTildO1xuICAgICAgICBpZiAoJCA9PT0gMjU1KVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZm9yICh2YXIgeiA9IDAsIEIgPSBUIC0gMTsgKCQgIT09IDAgfHwgeiA8IGopICYmIEIgIT09IC0xOyBCLS0sIHorKylcbiAgICAgICAgICAkICs9IGYgKiBLW0JdID4+PiAwLCBLW0JdID0gJCAlIDI1NiA+Pj4gMCwgJCA9ICQgLyAyNTYgPj4+IDA7XG4gICAgICAgIGlmICgkICE9PSAwKVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vbi16ZXJvIGNhcnJ5XCIpO1xuICAgICAgICBqID0geiwgTisrO1xuICAgICAgfVxuICAgICAgaWYgKERbTl0gIT09IFwiIFwiKSB7XG4gICAgICAgIGZvciAodmFyIF8gPSBUIC0gajsgXyAhPT0gVCAmJiBLW19dID09PSAwOyApXG4gICAgICAgICAgXysrO1xuICAgICAgICBmb3IgKHZhciBSID0gbmV3IFVpbnQ4QXJyYXkoayArIChUIC0gXykpLCBKID0gazsgXyAhPT0gVDsgKVxuICAgICAgICAgIFJbSisrXSA9IEtbXysrXTtcbiAgICAgICAgcmV0dXJuIFI7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIEkoRCkge1xuICAgIHZhciBOID0gQShEKTtcbiAgICBpZiAoTilcbiAgICAgIHJldHVybiBOO1xuICAgIHRocm93IG5ldyBFcnJvcihgTm9uLSR7ZX0gY2hhcmFjdGVyYCk7XG4gIH1cbiAgcmV0dXJuIHsgZW5jb2RlOiB3LCBkZWNvZGVVbnNhZmU6IEEsIGRlY29kZTogSSB9O1xufVxudmFyIEszID0gajMsIEgzID0gSzM7XG5jb25zdCBEZCA9IChyKSA9PiB7XG4gIGlmIChyIGluc3RhbmNlb2YgVWludDhBcnJheSAmJiByLmNvbnN0cnVjdG9yLm5hbWUgPT09IFwiVWludDhBcnJheVwiKVxuICAgIHJldHVybiByO1xuICBpZiAociBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKVxuICAgIHJldHVybiBuZXcgVWludDhBcnJheShyKTtcbiAgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhyKSlcbiAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoci5idWZmZXIsIHIuYnl0ZU9mZnNldCwgci5ieXRlTGVuZ3RoKTtcbiAgdGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biB0eXBlLCBtdXN0IGJlIGJpbmFyeSB0eXBlXCIpO1xufSwgVjMgPSAocikgPT4gbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHIpLCBXMyA9IChyKSA9PiBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUocik7XG5jbGFzcyBHMyB7XG4gIGNvbnN0cnVjdG9yKGUsIHQsIGkpIHtcbiAgICB0aGlzLm5hbWUgPSBlLCB0aGlzLnByZWZpeCA9IHQsIHRoaXMuYmFzZUVuY29kZSA9IGk7XG4gIH1cbiAgZW5jb2RlKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpXG4gICAgICByZXR1cm4gYCR7dGhpcy5wcmVmaXh9JHt0aGlzLmJhc2VFbmNvZGUoZSl9YDtcbiAgICB0aHJvdyBFcnJvcihcIlVua25vd24gdHlwZSwgbXVzdCBiZSBiaW5hcnkgdHlwZVwiKTtcbiAgfVxufVxuY2xhc3MgSjMge1xuICBjb25zdHJ1Y3RvcihlLCB0LCBpKSB7XG4gICAgaWYgKHRoaXMubmFtZSA9IGUsIHRoaXMucHJlZml4ID0gdCwgdC5jb2RlUG9pbnRBdCgwKSA9PT0gdm9pZCAwKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwcmVmaXggY2hhcmFjdGVyXCIpO1xuICAgIHRoaXMucHJlZml4Q29kZVBvaW50ID0gdC5jb2RlUG9pbnRBdCgwKSwgdGhpcy5iYXNlRGVjb2RlID0gaTtcbiAgfVxuICBkZWNvZGUoZSkge1xuICAgIGlmICh0eXBlb2YgZSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICBpZiAoZS5jb2RlUG9pbnRBdCgwKSAhPT0gdGhpcy5wcmVmaXhDb2RlUG9pbnQpXG4gICAgICAgIHRocm93IEVycm9yKGBVbmFibGUgdG8gZGVjb2RlIG11bHRpYmFzZSBzdHJpbmcgJHtKU09OLnN0cmluZ2lmeShlKX0sICR7dGhpcy5uYW1lfSBkZWNvZGVyIG9ubHkgc3VwcG9ydHMgaW5wdXRzIHByZWZpeGVkIHdpdGggJHt0aGlzLnByZWZpeH1gKTtcbiAgICAgIHJldHVybiB0aGlzLmJhc2VEZWNvZGUoZS5zbGljZSh0aGlzLnByZWZpeC5sZW5ndGgpKTtcbiAgICB9IGVsc2VcbiAgICAgIHRocm93IEVycm9yKFwiQ2FuIG9ubHkgbXVsdGliYXNlIGRlY29kZSBzdHJpbmdzXCIpO1xuICB9XG4gIG9yKGUpIHtcbiAgICByZXR1cm4gUGQodGhpcywgZSk7XG4gIH1cbn1cbmNsYXNzIFkzIHtcbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHRoaXMuZGVjb2RlcnMgPSBlO1xuICB9XG4gIG9yKGUpIHtcbiAgICByZXR1cm4gUGQodGhpcywgZSk7XG4gIH1cbiAgZGVjb2RlKGUpIHtcbiAgICBjb25zdCB0ID0gZVswXSwgaSA9IHRoaXMuZGVjb2RlcnNbdF07XG4gICAgaWYgKGkpXG4gICAgICByZXR1cm4gaS5kZWNvZGUoZSk7XG4gICAgdGhyb3cgUmFuZ2VFcnJvcihgVW5hYmxlIHRvIGRlY29kZSBtdWx0aWJhc2Ugc3RyaW5nICR7SlNPTi5zdHJpbmdpZnkoZSl9LCBvbmx5IGlucHV0cyBwcmVmaXhlZCB3aXRoICR7T2JqZWN0LmtleXModGhpcy5kZWNvZGVycyl9IGFyZSBzdXBwb3J0ZWRgKTtcbiAgfVxufVxuY29uc3QgUGQgPSAociwgZSkgPT4gbmV3IFkzKHsgLi4uci5kZWNvZGVycyB8fCB7IFtyLnByZWZpeF06IHIgfSwgLi4uZS5kZWNvZGVycyB8fCB7IFtlLnByZWZpeF06IGUgfSB9KTtcbmNsYXNzIFgzIHtcbiAgY29uc3RydWN0b3IoZSwgdCwgaSwgbikge1xuICAgIHRoaXMubmFtZSA9IGUsIHRoaXMucHJlZml4ID0gdCwgdGhpcy5iYXNlRW5jb2RlID0gaSwgdGhpcy5iYXNlRGVjb2RlID0gbiwgdGhpcy5lbmNvZGVyID0gbmV3IEczKGUsIHQsIGkpLCB0aGlzLmRlY29kZXIgPSBuZXcgSjMoZSwgdCwgbik7XG4gIH1cbiAgZW5jb2RlKGUpIHtcbiAgICByZXR1cm4gdGhpcy5lbmNvZGVyLmVuY29kZShlKTtcbiAgfVxuICBkZWNvZGUoZSkge1xuICAgIHJldHVybiB0aGlzLmRlY29kZXIuZGVjb2RlKGUpO1xuICB9XG59XG5jb25zdCBEYSA9ICh7IG5hbWU6IHIsIHByZWZpeDogZSwgZW5jb2RlOiB0LCBkZWNvZGU6IGkgfSkgPT4gbmV3IFgzKHIsIGUsIHQsIGkpLCBscyA9ICh7IHByZWZpeDogciwgbmFtZTogZSwgYWxwaGFiZXQ6IHQgfSkgPT4ge1xuICBjb25zdCB7IGVuY29kZTogaSwgZGVjb2RlOiBuIH0gPSBIMyh0LCBlKTtcbiAgcmV0dXJuIERhKHsgcHJlZml4OiByLCBuYW1lOiBlLCBlbmNvZGU6IGksIGRlY29kZTogKHMpID0+IERkKG4ocykpIH0pO1xufSwgWjMgPSAociwgZSwgdCwgaSkgPT4ge1xuICBjb25zdCBuID0ge307XG4gIGZvciAobGV0IHYgPSAwOyB2IDwgZS5sZW5ndGg7ICsrdilcbiAgICBuW2Vbdl1dID0gdjtcbiAgbGV0IHMgPSByLmxlbmd0aDtcbiAgZm9yICg7IHJbcyAtIDFdID09PSBcIj1cIjsgKVxuICAgIC0tcztcbiAgY29uc3QgbyA9IG5ldyBVaW50OEFycmF5KHMgKiB0IC8gOCB8IDApO1xuICBsZXQgZiA9IDAsIGggPSAwLCBkID0gMDtcbiAgZm9yIChsZXQgdiA9IDA7IHYgPCBzOyArK3YpIHtcbiAgICBjb25zdCB3ID0gbltyW3ZdXTtcbiAgICBpZiAodyA9PT0gdm9pZCAwKVxuICAgICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKGBOb24tJHtpfSBjaGFyYWN0ZXJgKTtcbiAgICBoID0gaCA8PCB0IHwgdywgZiArPSB0LCBmID49IDggJiYgKGYgLT0gOCwgb1tkKytdID0gMjU1ICYgaCA+PiBmKTtcbiAgfVxuICBpZiAoZiA+PSB0IHx8IDI1NSAmIGggPDwgOCAtIGYpXG4gICAgdGhyb3cgbmV3IFN5bnRheEVycm9yKFwiVW5leHBlY3RlZCBlbmQgb2YgZGF0YVwiKTtcbiAgcmV0dXJuIG87XG59LCBRMyA9IChyLCBlLCB0KSA9PiB7XG4gIGNvbnN0IGkgPSBlW2UubGVuZ3RoIC0gMV0gPT09IFwiPVwiLCBuID0gKDEgPDwgdCkgLSAxO1xuICBsZXQgcyA9IFwiXCIsIG8gPSAwLCBmID0gMDtcbiAgZm9yIChsZXQgaCA9IDA7IGggPCByLmxlbmd0aDsgKytoKVxuICAgIGZvciAoZiA9IGYgPDwgOCB8IHJbaF0sIG8gKz0gODsgbyA+IHQ7IClcbiAgICAgIG8gLT0gdCwgcyArPSBlW24gJiBmID4+IG9dO1xuICBpZiAobyAmJiAocyArPSBlW24gJiBmIDw8IHQgLSBvXSksIGkpXG4gICAgZm9yICg7IHMubGVuZ3RoICogdCAmIDc7IClcbiAgICAgIHMgKz0gXCI9XCI7XG4gIHJldHVybiBzO1xufSwgQ3QgPSAoeyBuYW1lOiByLCBwcmVmaXg6IGUsIGJpdHNQZXJDaGFyOiB0LCBhbHBoYWJldDogaSB9KSA9PiBEYSh7IHByZWZpeDogZSwgbmFtZTogciwgZW5jb2RlKG4pIHtcbiAgcmV0dXJuIFEzKG4sIGksIHQpO1xufSwgZGVjb2RlKG4pIHtcbiAgcmV0dXJuIFozKG4sIGksIHQsIHIpO1xufSB9KSwgZTYgPSBEYSh7IHByZWZpeDogXCJcXDBcIiwgbmFtZTogXCJpZGVudGl0eVwiLCBlbmNvZGU6IChyKSA9PiBXMyhyKSwgZGVjb2RlOiAocikgPT4gVjMocikgfSk7XG52YXIgdDYgPSBPYmplY3QuZnJlZXplKHsgX19wcm90b19fOiBudWxsLCBpZGVudGl0eTogZTYgfSk7XG5jb25zdCByNiA9IEN0KHsgcHJlZml4OiBcIjBcIiwgbmFtZTogXCJiYXNlMlwiLCBhbHBoYWJldDogXCIwMVwiLCBiaXRzUGVyQ2hhcjogMSB9KTtcbnZhciBpNiA9IE9iamVjdC5mcmVlemUoeyBfX3Byb3RvX186IG51bGwsIGJhc2UyOiByNiB9KTtcbmNvbnN0IG42ID0gQ3QoeyBwcmVmaXg6IFwiN1wiLCBuYW1lOiBcImJhc2U4XCIsIGFscGhhYmV0OiBcIjAxMjM0NTY3XCIsIGJpdHNQZXJDaGFyOiAzIH0pO1xudmFyIHM2ID0gT2JqZWN0LmZyZWV6ZSh7IF9fcHJvdG9fXzogbnVsbCwgYmFzZTg6IG42IH0pO1xuY29uc3QgYTYgPSBscyh7IHByZWZpeDogXCI5XCIsIG5hbWU6IFwiYmFzZTEwXCIsIGFscGhhYmV0OiBcIjAxMjM0NTY3ODlcIiB9KTtcbnZhciBvNiA9IE9iamVjdC5mcmVlemUoeyBfX3Byb3RvX186IG51bGwsIGJhc2UxMDogYTYgfSk7XG5jb25zdCBmNiA9IEN0KHsgcHJlZml4OiBcImZcIiwgbmFtZTogXCJiYXNlMTZcIiwgYWxwaGFiZXQ6IFwiMDEyMzQ1Njc4OWFiY2RlZlwiLCBiaXRzUGVyQ2hhcjogNCB9KSwgYzYgPSBDdCh7IHByZWZpeDogXCJGXCIsIG5hbWU6IFwiYmFzZTE2dXBwZXJcIiwgYWxwaGFiZXQ6IFwiMDEyMzQ1Njc4OUFCQ0RFRlwiLCBiaXRzUGVyQ2hhcjogNCB9KTtcbnZhciBoNiA9IE9iamVjdC5mcmVlemUoeyBfX3Byb3RvX186IG51bGwsIGJhc2UxNjogZjYsIGJhc2UxNnVwcGVyOiBjNiB9KTtcbmNvbnN0IHU2ID0gQ3QoeyBwcmVmaXg6IFwiYlwiLCBuYW1lOiBcImJhc2UzMlwiLCBhbHBoYWJldDogXCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejIzNDU2N1wiLCBiaXRzUGVyQ2hhcjogNSB9KSwgZDYgPSBDdCh7IHByZWZpeDogXCJCXCIsIG5hbWU6IFwiYmFzZTMydXBwZXJcIiwgYWxwaGFiZXQ6IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVoyMzQ1NjdcIiwgYml0c1BlckNoYXI6IDUgfSksIGw2ID0gQ3QoeyBwcmVmaXg6IFwiY1wiLCBuYW1lOiBcImJhc2UzMnBhZFwiLCBhbHBoYWJldDogXCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejIzNDU2Nz1cIiwgYml0c1BlckNoYXI6IDUgfSksIHA2ID0gQ3QoeyBwcmVmaXg6IFwiQ1wiLCBuYW1lOiBcImJhc2UzMnBhZHVwcGVyXCIsIGFscGhhYmV0OiBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMjM0NTY3PVwiLCBiaXRzUGVyQ2hhcjogNSB9KSwgdjYgPSBDdCh7IHByZWZpeDogXCJ2XCIsIG5hbWU6IFwiYmFzZTMyaGV4XCIsIGFscGhhYmV0OiBcIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2XCIsIGJpdHNQZXJDaGFyOiA1IH0pLCBiNiA9IEN0KHsgcHJlZml4OiBcIlZcIiwgbmFtZTogXCJiYXNlMzJoZXh1cHBlclwiLCBhbHBoYWJldDogXCIwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVlwiLCBiaXRzUGVyQ2hhcjogNSB9KSwgZzYgPSBDdCh7IHByZWZpeDogXCJ0XCIsIG5hbWU6IFwiYmFzZTMyaGV4cGFkXCIsIGFscGhhYmV0OiBcIjAxMjM0NTY3ODlhYmNkZWZnaGlqa2xtbm9wcXJzdHV2PVwiLCBiaXRzUGVyQ2hhcjogNSB9KSwgeTYgPSBDdCh7IHByZWZpeDogXCJUXCIsIG5hbWU6IFwiYmFzZTMyaGV4cGFkdXBwZXJcIiwgYWxwaGFiZXQ6IFwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVY9XCIsIGJpdHNQZXJDaGFyOiA1IH0pLCBtNiA9IEN0KHsgcHJlZml4OiBcImhcIiwgbmFtZTogXCJiYXNlMzJ6XCIsIGFscGhhYmV0OiBcInlibmRyZmc4ZWprbWNwcXhvdDF1d2lzemEzNDVoNzY5XCIsIGJpdHNQZXJDaGFyOiA1IH0pO1xudmFyIHc2ID0gT2JqZWN0LmZyZWV6ZSh7IF9fcHJvdG9fXzogbnVsbCwgYmFzZTMyOiB1NiwgYmFzZTMydXBwZXI6IGQ2LCBiYXNlMzJwYWQ6IGw2LCBiYXNlMzJwYWR1cHBlcjogcDYsIGJhc2UzMmhleDogdjYsIGJhc2UzMmhleHVwcGVyOiBiNiwgYmFzZTMyaGV4cGFkOiBnNiwgYmFzZTMyaGV4cGFkdXBwZXI6IHk2LCBiYXNlMzJ6OiBtNiB9KTtcbmNvbnN0IF82ID0gbHMoeyBwcmVmaXg6IFwia1wiLCBuYW1lOiBcImJhc2UzNlwiLCBhbHBoYWJldDogXCIwMTIzNDU2Nzg5YWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIiB9KSwgeDYgPSBscyh7IHByZWZpeDogXCJLXCIsIG5hbWU6IFwiYmFzZTM2dXBwZXJcIiwgYWxwaGFiZXQ6IFwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaXCIgfSk7XG52YXIgRTYgPSBPYmplY3QuZnJlZXplKHsgX19wcm90b19fOiBudWxsLCBiYXNlMzY6IF82LCBiYXNlMzZ1cHBlcjogeDYgfSk7XG5jb25zdCBTNiA9IGxzKHsgbmFtZTogXCJiYXNlNThidGNcIiwgcHJlZml4OiBcInpcIiwgYWxwaGFiZXQ6IFwiMTIzNDU2Nzg5QUJDREVGR0hKS0xNTlBRUlNUVVZXWFlaYWJjZGVmZ2hpamttbm9wcXJzdHV2d3h5elwiIH0pLCBNNiA9IGxzKHsgbmFtZTogXCJiYXNlNThmbGlja3JcIiwgcHJlZml4OiBcIlpcIiwgYWxwaGFiZXQ6IFwiMTIzNDU2Nzg5YWJjZGVmZ2hpamttbm9wcXJzdHV2d3h5ekFCQ0RFRkdISktMTU5QUVJTVFVWV1hZWlwiIH0pO1xudmFyIEk2ID0gT2JqZWN0LmZyZWV6ZSh7IF9fcHJvdG9fXzogbnVsbCwgYmFzZTU4YnRjOiBTNiwgYmFzZTU4ZmxpY2tyOiBNNiB9KTtcbmNvbnN0IEE2ID0gQ3QoeyBwcmVmaXg6IFwibVwiLCBuYW1lOiBcImJhc2U2NFwiLCBhbHBoYWJldDogXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIsIGJpdHNQZXJDaGFyOiA2IH0pLCBENiA9IEN0KHsgcHJlZml4OiBcIk1cIiwgbmFtZTogXCJiYXNlNjRwYWRcIiwgYWxwaGFiZXQ6IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cIiwgYml0c1BlckNoYXI6IDYgfSksIFA2ID0gQ3QoeyBwcmVmaXg6IFwidVwiLCBuYW1lOiBcImJhc2U2NHVybFwiLCBhbHBoYWJldDogXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OS1fXCIsIGJpdHNQZXJDaGFyOiA2IH0pLCBPNiA9IEN0KHsgcHJlZml4OiBcIlVcIiwgbmFtZTogXCJiYXNlNjR1cmxwYWRcIiwgYWxwaGFiZXQ6IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODktXz1cIiwgYml0c1BlckNoYXI6IDYgfSk7XG52YXIgUjYgPSBPYmplY3QuZnJlZXplKHsgX19wcm90b19fOiBudWxsLCBiYXNlNjQ6IEE2LCBiYXNlNjRwYWQ6IEQ2LCBiYXNlNjR1cmw6IFA2LCBiYXNlNjR1cmxwYWQ6IE82IH0pO1xuY29uc3QgT2QgPSBBcnJheS5mcm9tKFwi8J+agPCfqpDimITwn5uw8J+MjPCfjJHwn4yS8J+Mk/CfjJTwn4yV8J+MlvCfjJfwn4yY8J+MjfCfjI/wn4yO8J+QieKYgPCfkrvwn5al8J+SvvCfkr/wn5iC4p2k8J+YjfCfpKPwn5iK8J+Zj/CfkpXwn5it8J+YmPCfkY3wn5iF8J+Rj/CfmIHwn5Sl8J+lsPCfkpTwn5KW8J+SmfCfmKLwn6SU8J+YhvCfmYTwn5Kq8J+YieKYuvCfkYzwn6SX8J+SnPCfmJTwn5iO8J+Yh/CfjLnwn6Sm8J+OifCfkp7inIzinKjwn6S38J+YsfCfmIzwn4y48J+ZjPCfmIvwn5KX8J+SmvCfmI/wn5Kb8J+ZgvCfkpPwn6Sp8J+YhPCfmIDwn5ak8J+Yg/Cfkq/wn5mI8J+Rh/Cfjrbwn5iS8J+kreKdo/CfmJzwn5KL8J+RgPCfmKrwn5iR8J+SpfCfmYvwn5ie8J+YqfCfmKHwn6Sq8J+RivCfpbPwn5il8J+kpPCfkYnwn5KD8J+Ys+Kci/CfmJrwn5id8J+YtPCfjJ/wn5is8J+Zg/CfjYDwn4y38J+Yu/CfmJPirZDinIXwn6W68J+MiPCfmIjwn6SY8J+SpuKclPCfmKPwn4+D8J+SkOKYufCfjorwn5KY8J+YoOKYnfCfmJXwn4y68J+OgvCfjLvwn5iQ8J+WlfCfkp3wn5mK8J+YufCfl6Pwn5Kr8J+SgPCfkZHwn4618J+knvCfmJvwn5S08J+YpPCfjLzwn5ir4pq98J+kmeKYlfCfj4bwn6Sr8J+RiPCfmK7wn5mG8J+Nu/CfjYPwn5C28J+SgfCfmLLwn4y/8J+nofCfjoHimqHwn4ye8J+OiOKdjOKcivCfkYvwn5iw8J+kqPCfmLbwn6Sd8J+atvCfkrDwn42T8J+SovCfpJ/wn5mB8J+aqPCfkqjwn6Ss4pyI8J+OgPCfjbrwn6ST8J+YmfCfkp/wn4yx8J+YlvCfkbbwn6W04pa24p6h4p2T8J+SjvCfkrjirIfwn5io8J+MmvCfpovwn5i38J+VuuKaoPCfmYXwn5if8J+YtfCfkY7wn6Sy8J+koPCfpKfwn5OM8J+UtfCfkoXwn6eQ8J+QvvCfjZLwn5iX8J+kkfCfjIrwn6Sv8J+Qt+KYjvCfkqfwn5iv8J+ShvCfkYbwn46k8J+Zh/CfjZHinYTwn4y08J+So/CfkLjwn5KM8J+TjfCfpYDwn6Si8J+RhfCfkqHwn5Kp8J+RkPCfk7jwn5G78J+kkPCfpK7wn4688J+ltfCfmqnwn42O8J+NivCfkbzwn5KN8J+To/CfpYJcIiksIE42ID0gT2QucmVkdWNlKChyLCBlLCB0KSA9PiAoclt0XSA9IGUsIHIpLCBbXSksIFQ2ID0gT2QucmVkdWNlKChyLCBlLCB0KSA9PiAocltlLmNvZGVQb2ludEF0KDApXSA9IHQsIHIpLCBbXSk7XG5mdW5jdGlvbiBDNihyKSB7XG4gIHJldHVybiByLnJlZHVjZSgoZSwgdCkgPT4gKGUgKz0gTjZbdF0sIGUpLCBcIlwiKTtcbn1cbmZ1bmN0aW9uICQ2KHIpIHtcbiAgY29uc3QgZSA9IFtdO1xuICBmb3IgKGNvbnN0IHQgb2Ygcikge1xuICAgIGNvbnN0IGkgPSBUNlt0LmNvZGVQb2ludEF0KDApXTtcbiAgICBpZiAoaSA9PT0gdm9pZCAwKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBOb24tYmFzZTI1NmVtb2ppIGNoYXJhY3RlcjogJHt0fWApO1xuICAgIGUucHVzaChpKTtcbiAgfVxuICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZSk7XG59XG5jb25zdCBMNiA9IERhKHsgcHJlZml4OiBcIvCfmoBcIiwgbmFtZTogXCJiYXNlMjU2ZW1vamlcIiwgZW5jb2RlOiBDNiwgZGVjb2RlOiAkNiB9KTtcbnZhciBGNiA9IE9iamVjdC5mcmVlemUoeyBfX3Byb3RvX186IG51bGwsIGJhc2UyNTZlbW9qaTogTDYgfSksIHE2ID0gUmQsIGloID0gMTI4LCBVNiA9IDEyNywgejYgPSB+VTYsIEI2ID0gTWF0aC5wb3coMiwgMzEpO1xuZnVuY3Rpb24gUmQociwgZSwgdCkge1xuICBlID0gZSB8fCBbXSwgdCA9IHQgfHwgMDtcbiAgZm9yICh2YXIgaSA9IHQ7IHIgPj0gQjY7IClcbiAgICBlW3QrK10gPSByICYgMjU1IHwgaWgsIHIgLz0gMTI4O1xuICBmb3IgKDsgciAmIHo2OyApXG4gICAgZVt0KytdID0gciAmIDI1NSB8IGloLCByID4+Pj0gNztcbiAgcmV0dXJuIGVbdF0gPSByIHwgMCwgUmQuYnl0ZXMgPSB0IC0gaSArIDEsIGU7XG59XG52YXIgazYgPSBQbywgajYgPSAxMjgsIG5oID0gMTI3O1xuZnVuY3Rpb24gUG8ociwgaSkge1xuICB2YXIgdCA9IDAsIGkgPSBpIHx8IDAsIG4gPSAwLCBzID0gaSwgbywgZiA9IHIubGVuZ3RoO1xuICBkbyB7XG4gICAgaWYgKHMgPj0gZilcbiAgICAgIHRocm93IFBvLmJ5dGVzID0gMCwgbmV3IFJhbmdlRXJyb3IoXCJDb3VsZCBub3QgZGVjb2RlIHZhcmludFwiKTtcbiAgICBvID0gcltzKytdLCB0ICs9IG4gPCAyOCA/IChvICYgbmgpIDw8IG4gOiAobyAmIG5oKSAqIE1hdGgucG93KDIsIG4pLCBuICs9IDc7XG4gIH0gd2hpbGUgKG8gPj0gajYpO1xuICByZXR1cm4gUG8uYnl0ZXMgPSBzIC0gaSwgdDtcbn1cbnZhciBLNiA9IE1hdGgucG93KDIsIDcpLCBINiA9IE1hdGgucG93KDIsIDE0KSwgVjYgPSBNYXRoLnBvdygyLCAyMSksIFc2ID0gTWF0aC5wb3coMiwgMjgpLCBHNiA9IE1hdGgucG93KDIsIDM1KSwgSjYgPSBNYXRoLnBvdygyLCA0MiksIFk2ID0gTWF0aC5wb3coMiwgNDkpLCBYNiA9IE1hdGgucG93KDIsIDU2KSwgWjYgPSBNYXRoLnBvdygyLCA2MyksIFE2ID0gZnVuY3Rpb24ocikge1xuICByZXR1cm4gciA8IEs2ID8gMSA6IHIgPCBINiA/IDIgOiByIDwgVjYgPyAzIDogciA8IFc2ID8gNCA6IHIgPCBHNiA/IDUgOiByIDwgSjYgPyA2IDogciA8IFk2ID8gNyA6IHIgPCBYNiA/IDggOiByIDwgWjYgPyA5IDogMTA7XG59LCBldyA9IHsgZW5jb2RlOiBxNiwgZGVjb2RlOiBrNiwgZW5jb2RpbmdMZW5ndGg6IFE2IH0sIE5kID0gZXc7XG5jb25zdCBzaCA9IChyLCBlLCB0ID0gMCkgPT4gKE5kLmVuY29kZShyLCBlLCB0KSwgZSksIGFoID0gKHIpID0+IE5kLmVuY29kaW5nTGVuZ3RoKHIpLCBPbyA9IChyLCBlKSA9PiB7XG4gIGNvbnN0IHQgPSBlLmJ5dGVMZW5ndGgsIGkgPSBhaChyKSwgbiA9IGkgKyBhaCh0KSwgcyA9IG5ldyBVaW50OEFycmF5KG4gKyB0KTtcbiAgcmV0dXJuIHNoKHIsIHMsIDApLCBzaCh0LCBzLCBpKSwgcy5zZXQoZSwgbiksIG5ldyB0dyhyLCB0LCBlLCBzKTtcbn07XG5jbGFzcyB0dyB7XG4gIGNvbnN0cnVjdG9yKGUsIHQsIGksIG4pIHtcbiAgICB0aGlzLmNvZGUgPSBlLCB0aGlzLnNpemUgPSB0LCB0aGlzLmRpZ2VzdCA9IGksIHRoaXMuYnl0ZXMgPSBuO1xuICB9XG59XG5jb25zdCBUZCA9ICh7IG5hbWU6IHIsIGNvZGU6IGUsIGVuY29kZTogdCB9KSA9PiBuZXcgcncociwgZSwgdCk7XG5jbGFzcyBydyB7XG4gIGNvbnN0cnVjdG9yKGUsIHQsIGkpIHtcbiAgICB0aGlzLm5hbWUgPSBlLCB0aGlzLmNvZGUgPSB0LCB0aGlzLmVuY29kZSA9IGk7XG4gIH1cbiAgZGlnZXN0KGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgIGNvbnN0IHQgPSB0aGlzLmVuY29kZShlKTtcbiAgICAgIHJldHVybiB0IGluc3RhbmNlb2YgVWludDhBcnJheSA/IE9vKHRoaXMuY29kZSwgdCkgOiB0LnRoZW4oKGkpID0+IE9vKHRoaXMuY29kZSwgaSkpO1xuICAgIH0gZWxzZVxuICAgICAgdGhyb3cgRXJyb3IoXCJVbmtub3duIHR5cGUsIG11c3QgYmUgYmluYXJ5IHR5cGVcIik7XG4gIH1cbn1cbmNvbnN0IENkID0gKHIpID0+IGFzeW5jIChlKSA9PiBuZXcgVWludDhBcnJheShhd2FpdCBjcnlwdG8uc3VidGxlLmRpZ2VzdChyLCBlKSksIGl3ID0gVGQoeyBuYW1lOiBcInNoYTItMjU2XCIsIGNvZGU6IDE4LCBlbmNvZGU6IENkKFwiU0hBLTI1NlwiKSB9KSwgbncgPSBUZCh7IG5hbWU6IFwic2hhMi01MTJcIiwgY29kZTogMTksIGVuY29kZTogQ2QoXCJTSEEtNTEyXCIpIH0pO1xudmFyIHN3ID0gT2JqZWN0LmZyZWV6ZSh7IF9fcHJvdG9fXzogbnVsbCwgc2hhMjU2OiBpdywgc2hhNTEyOiBudyB9KTtcbmNvbnN0ICRkID0gMCwgYXcgPSBcImlkZW50aXR5XCIsIExkID0gRGQsIG93ID0gKHIpID0+IE9vKCRkLCBMZChyKSksIGZ3ID0geyBjb2RlOiAkZCwgbmFtZTogYXcsIGVuY29kZTogTGQsIGRpZ2VzdDogb3cgfTtcbnZhciBjdyA9IE9iamVjdC5mcmVlemUoeyBfX3Byb3RvX186IG51bGwsIGlkZW50aXR5OiBmdyB9KTtcbm5ldyBUZXh0RW5jb2RlcigpLCBuZXcgVGV4dERlY29kZXIoKTtcbmNvbnN0IG9oID0geyAuLi50NiwgLi4uaTYsIC4uLnM2LCAuLi5vNiwgLi4uaDYsIC4uLnc2LCAuLi5FNiwgLi4uSTYsIC4uLlI2LCAuLi5GNiB9O1xuKHsgLi4uc3csIC4uLmN3IH0pO1xuZnVuY3Rpb24gaHcociA9IDApIHtcbiAgcmV0dXJuIGdsb2JhbFRoaXMuQnVmZmVyICE9IG51bGwgJiYgZ2xvYmFsVGhpcy5CdWZmZXIuYWxsb2NVbnNhZmUgIT0gbnVsbCA/IGdsb2JhbFRoaXMuQnVmZmVyLmFsbG9jVW5zYWZlKHIpIDogbmV3IFVpbnQ4QXJyYXkocik7XG59XG5mdW5jdGlvbiBGZChyLCBlLCB0LCBpKSB7XG4gIHJldHVybiB7IG5hbWU6IHIsIHByZWZpeDogZSwgZW5jb2RlcjogeyBuYW1lOiByLCBwcmVmaXg6IGUsIGVuY29kZTogdCB9LCBkZWNvZGVyOiB7IGRlY29kZTogaSB9IH07XG59XG5jb25zdCBmaCA9IEZkKFwidXRmOFwiLCBcInVcIiwgKHIpID0+IFwidVwiICsgbmV3IFRleHREZWNvZGVyKFwidXRmOFwiKS5kZWNvZGUociksIChyKSA9PiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoci5zdWJzdHJpbmcoMSkpKSwgcm8gPSBGZChcImFzY2lpXCIsIFwiYVwiLCAocikgPT4ge1xuICBsZXQgZSA9IFwiYVwiO1xuICBmb3IgKGxldCB0ID0gMDsgdCA8IHIubGVuZ3RoOyB0KyspXG4gICAgZSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHJbdF0pO1xuICByZXR1cm4gZTtcbn0sIChyKSA9PiB7XG4gIHIgPSByLnN1YnN0cmluZygxKTtcbiAgY29uc3QgZSA9IGh3KHIubGVuZ3RoKTtcbiAgZm9yIChsZXQgdCA9IDA7IHQgPCByLmxlbmd0aDsgdCsrKVxuICAgIGVbdF0gPSByLmNoYXJDb2RlQXQodCk7XG4gIHJldHVybiBlO1xufSksIHV3ID0geyB1dGY4OiBmaCwgXCJ1dGYtOFwiOiBmaCwgaGV4OiBvaC5iYXNlMTYsIGxhdGluMTogcm8sIGFzY2lpOiBybywgYmluYXJ5OiBybywgLi4ub2ggfTtcbmZ1bmN0aW9uIGR3KHIsIGUgPSBcInV0ZjhcIikge1xuICBjb25zdCB0ID0gdXdbZV07XG4gIGlmICghdClcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGVuY29kaW5nIFwiJHtlfVwiYCk7XG4gIHJldHVybiAoZSA9PT0gXCJ1dGY4XCIgfHwgZSA9PT0gXCJ1dGYtOFwiKSAmJiBnbG9iYWxUaGlzLkJ1ZmZlciAhPSBudWxsICYmIGdsb2JhbFRoaXMuQnVmZmVyLmZyb20gIT0gbnVsbCA/IGdsb2JhbFRoaXMuQnVmZmVyLmZyb20ociwgXCJ1dGY4XCIpIDogdC5kZWNvZGVyLmRlY29kZShgJHt0LnByZWZpeH0ke3J9YCk7XG59XG5jbGFzcyBsdyB7XG4gIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICB0aGlzLmNvcmUgPSBlLCB0aGlzLmxvZ2dlciA9IHQsIHRoaXMua2V5Y2hhaW4gPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCB0aGlzLm5hbWUgPSBsMywgdGhpcy52ZXJzaW9uID0gcDMsIHRoaXMuaW5pdGlhbGl6ZWQgPSAhMSwgdGhpcy5zdG9yYWdlUHJlZml4ID0ganIsIHRoaXMuaW5pdCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghdGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgICBjb25zdCBpID0gYXdhaXQgdGhpcy5nZXRLZXlDaGFpbigpO1xuICAgICAgICB0eXBlb2YgaSA8IFwidVwiICYmICh0aGlzLmtleWNoYWluID0gaSksIHRoaXMuaW5pdGlhbGl6ZWQgPSAhMDtcbiAgICAgIH1cbiAgICB9LCB0aGlzLmhhcyA9IChpKSA9PiAodGhpcy5pc0luaXRpYWxpemVkKCksIHRoaXMua2V5Y2hhaW4uaGFzKGkpKSwgdGhpcy5zZXQgPSBhc3luYyAoaSwgbikgPT4ge1xuICAgICAgdGhpcy5pc0luaXRpYWxpemVkKCksIHRoaXMua2V5Y2hhaW4uc2V0KGksIG4pLCBhd2FpdCB0aGlzLnBlcnNpc3QoKTtcbiAgICB9LCB0aGlzLmdldCA9IChpKSA9PiB7XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKTtcbiAgICAgIGNvbnN0IG4gPSB0aGlzLmtleWNoYWluLmdldChpKTtcbiAgICAgIGlmICh0eXBlb2YgbiA+IFwidVwiKSB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZTogcyB9ID0gYWUoXCJOT19NQVRDSElOR19LRVlcIiwgYCR7dGhpcy5uYW1lfTogJHtpfWApO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3Iocyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbjtcbiAgICB9LCB0aGlzLmRlbCA9IGFzeW5jIChpKSA9PiB7XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKSwgdGhpcy5rZXljaGFpbi5kZWxldGUoaSksIGF3YWl0IHRoaXMucGVyc2lzdCgpO1xuICAgIH0sIHRoaXMuY29yZSA9IGUsIHRoaXMubG9nZ2VyID0ga3QodCwgdGhpcy5uYW1lKTtcbiAgfVxuICBnZXQgY29udGV4dCgpIHtcbiAgICByZXR1cm4gWnQodGhpcy5sb2dnZXIpO1xuICB9XG4gIGdldCBzdG9yYWdlS2V5KCkge1xuICAgIHJldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXggKyB0aGlzLnZlcnNpb24gKyB0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCArIFwiLy9cIiArIHRoaXMubmFtZTtcbiAgfVxuICBhc3luYyBzZXRLZXlDaGFpbihlKSB7XG4gICAgYXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksIGlkKGUpKTtcbiAgfVxuICBhc3luYyBnZXRLZXlDaGFpbigpIHtcbiAgICBjb25zdCBlID0gYXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXkpO1xuICAgIHJldHVybiB0eXBlb2YgZSA8IFwidVwiID8gbmQoZSkgOiB2b2lkIDA7XG4gIH1cbiAgYXN5bmMgcGVyc2lzdCgpIHtcbiAgICBhd2FpdCB0aGlzLnNldEtleUNoYWluKHRoaXMua2V5Y2hhaW4pO1xuICB9XG4gIGlzSW5pdGlhbGl6ZWQoKSB7XG4gICAgaWYgKCF0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICBjb25zdCB7IG1lc3NhZ2U6IGUgfSA9IGFlKFwiTk9UX0lOSVRJQUxJWkVEXCIsIHRoaXMubmFtZSk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZSk7XG4gICAgfVxuICB9XG59XG5jbGFzcyBwdyB7XG4gIGNvbnN0cnVjdG9yKGUsIHQsIGkpIHtcbiAgICB0aGlzLmNvcmUgPSBlLCB0aGlzLmxvZ2dlciA9IHQsIHRoaXMubmFtZSA9IHUzLCB0aGlzLnJhbmRvbVNlc3Npb25JZGVudGlmaWVyID0gQW8oKSwgdGhpcy5pbml0aWFsaXplZCA9ICExLCB0aGlzLmluaXQgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0aGlzLmluaXRpYWxpemVkIHx8IChhd2FpdCB0aGlzLmtleWNoYWluLmluaXQoKSwgdGhpcy5pbml0aWFsaXplZCA9ICEwKTtcbiAgICB9LCB0aGlzLmhhc0tleXMgPSAobikgPT4gKHRoaXMuaXNJbml0aWFsaXplZCgpLCB0aGlzLmtleWNoYWluLmhhcyhuKSksIHRoaXMuZ2V0Q2xpZW50SWQgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKTtcbiAgICAgIGNvbnN0IG4gPSBhd2FpdCB0aGlzLmdldENsaWVudFNlZWQoKSwgcyA9IEhmKG4pO1xuICAgICAgcmV0dXJuIGZ1KHMucHVibGljS2V5KTtcbiAgICB9LCB0aGlzLmdlbmVyYXRlS2V5UGFpciA9ICgpID0+IHtcbiAgICAgIHRoaXMuaXNJbml0aWFsaXplZCgpO1xuICAgICAgY29uc3QgbiA9IEZ5KCk7XG4gICAgICByZXR1cm4gdGhpcy5zZXRQcml2YXRlS2V5KG4ucHVibGljS2V5LCBuLnByaXZhdGVLZXkpO1xuICAgIH0sIHRoaXMuc2lnbkpXVCA9IGFzeW5jIChuKSA9PiB7XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKTtcbiAgICAgIGNvbnN0IHMgPSBhd2FpdCB0aGlzLmdldENsaWVudFNlZWQoKSwgbyA9IEhmKHMpLCBmID0gdGhpcy5yYW5kb21TZXNzaW9uSWRlbnRpZmllcjtcbiAgICAgIHJldHVybiBhd2FpdCBldihmLCBuLCBkMywgbyk7XG4gICAgfSwgdGhpcy5nZW5lcmF0ZVNoYXJlZEtleSA9IChuLCBzLCBvKSA9PiB7XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKTtcbiAgICAgIGNvbnN0IGYgPSB0aGlzLmdldFByaXZhdGVLZXkobiksIGggPSBxeShmLCBzKTtcbiAgICAgIHJldHVybiB0aGlzLnNldFN5bUtleShoLCBvKTtcbiAgICB9LCB0aGlzLnNldFN5bUtleSA9IGFzeW5jIChuLCBzKSA9PiB7XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKTtcbiAgICAgIGNvbnN0IG8gPSBzIHx8IENzKG4pO1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMua2V5Y2hhaW4uc2V0KG8sIG4pLCBvO1xuICAgIH0sIHRoaXMuZGVsZXRlS2V5UGFpciA9IGFzeW5jIChuKSA9PiB7XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKSwgYXdhaXQgdGhpcy5rZXljaGFpbi5kZWwobik7XG4gICAgfSwgdGhpcy5kZWxldGVTeW1LZXkgPSBhc3luYyAobikgPT4ge1xuICAgICAgdGhpcy5pc0luaXRpYWxpemVkKCksIGF3YWl0IHRoaXMua2V5Y2hhaW4uZGVsKG4pO1xuICAgIH0sIHRoaXMuZW5jb2RlID0gYXN5bmMgKG4sIHMsIG8pID0+IHtcbiAgICAgIHRoaXMuaXNJbml0aWFsaXplZCgpO1xuICAgICAgY29uc3QgZiA9IHBkKG8pLCBoID0gamkocyk7XG4gICAgICBpZiAoTGMoZikpXG4gICAgICAgIHJldHVybiB6eShoLCBvPy5lbmNvZGluZyk7XG4gICAgICBpZiAoJGMoZikpIHtcbiAgICAgICAgY29uc3QgQSA9IGYuc2VuZGVyUHVibGljS2V5LCBJID0gZi5yZWNlaXZlclB1YmxpY0tleTtcbiAgICAgICAgbiA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVTaGFyZWRLZXkoQSwgSSk7XG4gICAgICB9XG4gICAgICBjb25zdCBkID0gdGhpcy5nZXRTeW1LZXkobiksIHsgdHlwZTogdiwgc2VuZGVyUHVibGljS2V5OiB3IH0gPSBmO1xuICAgICAgcmV0dXJuIFV5KHsgdHlwZTogdiwgc3ltS2V5OiBkLCBtZXNzYWdlOiBoLCBzZW5kZXJQdWJsaWNLZXk6IHcsIGVuY29kaW5nOiBvPy5lbmNvZGluZyB9KTtcbiAgICB9LCB0aGlzLmRlY29kZSA9IGFzeW5jIChuLCBzLCBvKSA9PiB7XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKTtcbiAgICAgIGNvbnN0IGYgPSBqeShzLCBvKTtcbiAgICAgIGlmIChMYyhmKSkge1xuICAgICAgICBjb25zdCBoID0ga3kocywgbz8uZW5jb2RpbmcpO1xuICAgICAgICByZXR1cm4gdW4oaCk7XG4gICAgICB9XG4gICAgICBpZiAoJGMoZikpIHtcbiAgICAgICAgY29uc3QgaCA9IGYucmVjZWl2ZXJQdWJsaWNLZXksIGQgPSBmLnNlbmRlclB1YmxpY0tleTtcbiAgICAgICAgbiA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVTaGFyZWRLZXkoaCwgZCk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBoID0gdGhpcy5nZXRTeW1LZXkobiksIGQgPSBCeSh7IHN5bUtleTogaCwgZW5jb2RlZDogcywgZW5jb2Rpbmc6IG8/LmVuY29kaW5nIH0pO1xuICAgICAgICByZXR1cm4gdW4oZCk7XG4gICAgICB9IGNhdGNoIChoKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGBGYWlsZWQgdG8gZGVjb2RlIG1lc3NhZ2UgZnJvbSB0b3BpYzogJyR7bn0nLCBjbGllbnRJZDogJyR7YXdhaXQgdGhpcy5nZXRDbGllbnRJZCgpfSdgKSwgdGhpcy5sb2dnZXIuZXJyb3IoaCk7XG4gICAgICB9XG4gICAgfSwgdGhpcy5nZXRQYXlsb2FkVHlwZSA9IChuLCBzID0gd2kpID0+IHtcbiAgICAgIGNvbnN0IG8gPSBabih7IGVuY29kZWQ6IG4sIGVuY29kaW5nOiBzIH0pO1xuICAgICAgcmV0dXJuIFZpKG8udHlwZSk7XG4gICAgfSwgdGhpcy5nZXRQYXlsb2FkU2VuZGVyUHVibGljS2V5ID0gKG4sIHMgPSB3aSkgPT4ge1xuICAgICAgY29uc3QgbyA9IFpuKHsgZW5jb2RlZDogbiwgZW5jb2Rpbmc6IHMgfSk7XG4gICAgICByZXR1cm4gby5zZW5kZXJQdWJsaWNLZXkgPyBNdChvLnNlbmRlclB1YmxpY0tleSwgQnQpIDogdm9pZCAwO1xuICAgIH0sIHRoaXMuY29yZSA9IGUsIHRoaXMubG9nZ2VyID0ga3QodCwgdGhpcy5uYW1lKSwgdGhpcy5rZXljaGFpbiA9IGkgfHwgbmV3IGx3KHRoaXMuY29yZSwgdGhpcy5sb2dnZXIpO1xuICB9XG4gIGdldCBjb250ZXh0KCkge1xuICAgIHJldHVybiBadCh0aGlzLmxvZ2dlcik7XG4gIH1cbiAgYXN5bmMgc2V0UHJpdmF0ZUtleShlLCB0KSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMua2V5Y2hhaW4uc2V0KGUsIHQpLCBlO1xuICB9XG4gIGdldFByaXZhdGVLZXkoZSkge1xuICAgIHJldHVybiB0aGlzLmtleWNoYWluLmdldChlKTtcbiAgfVxuICBhc3luYyBnZXRDbGllbnRTZWVkKCkge1xuICAgIGxldCBlID0gXCJcIjtcbiAgICB0cnkge1xuICAgICAgZSA9IHRoaXMua2V5Y2hhaW4uZ2V0KGVoKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIGUgPSBBbygpLCBhd2FpdCB0aGlzLmtleWNoYWluLnNldChlaCwgZSk7XG4gICAgfVxuICAgIHJldHVybiBkdyhlLCBcImJhc2UxNlwiKTtcbiAgfVxuICBnZXRTeW1LZXkoZSkge1xuICAgIHJldHVybiB0aGlzLmtleWNoYWluLmdldChlKTtcbiAgfVxuICBpc0luaXRpYWxpemVkKCkge1xuICAgIGlmICghdGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgY29uc3QgeyBtZXNzYWdlOiBlIH0gPSBhZShcIk5PVF9JTklUSUFMSVpFRFwiLCB0aGlzLm5hbWUpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGUpO1xuICAgIH1cbiAgfVxufVxuY2xhc3MgdncgZXh0ZW5kcyBzcCB7XG4gIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICBzdXBlcihlLCB0KSwgdGhpcy5sb2dnZXIgPSBlLCB0aGlzLmNvcmUgPSB0LCB0aGlzLm1lc3NhZ2VzID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSwgdGhpcy5uYW1lID0gdjMsIHRoaXMudmVyc2lvbiA9IGIzLCB0aGlzLmluaXRpYWxpemVkID0gITEsIHRoaXMuc3RvcmFnZVByZWZpeCA9IGpyLCB0aGlzLmluaXQgPSBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBpID0gYXdhaXQgdGhpcy5nZXRSZWxheWVyTWVzc2FnZXMoKTtcbiAgICAgICAgICB0eXBlb2YgaSA8IFwidVwiICYmICh0aGlzLm1lc3NhZ2VzID0gaSksIHRoaXMubG9nZ2VyLmRlYnVnKGBTdWNjZXNzZnVsbHkgUmVzdG9yZWQgcmVjb3JkcyBmb3IgJHt0aGlzLm5hbWV9YCksIHRoaXMubG9nZ2VyLnRyYWNlKHsgdHlwZTogXCJtZXRob2RcIiwgbWV0aG9kOiBcInJlc3RvcmVcIiwgc2l6ZTogdGhpcy5tZXNzYWdlcy5zaXplIH0pO1xuICAgICAgICB9IGNhdGNoIChpKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYEZhaWxlZCB0byBSZXN0b3JlIHJlY29yZHMgZm9yICR7dGhpcy5uYW1lfWApLCB0aGlzLmxvZ2dlci5lcnJvcihpKTtcbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gITA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB0aGlzLnNldCA9IGFzeW5jIChpLCBuKSA9PiB7XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKTtcbiAgICAgIGNvbnN0IHMgPSBmaShuKTtcbiAgICAgIGxldCBvID0gdGhpcy5tZXNzYWdlcy5nZXQoaSk7XG4gICAgICByZXR1cm4gdHlwZW9mIG8gPiBcInVcIiAmJiAobyA9IHt9KSwgdHlwZW9mIG9bc10gPCBcInVcIiB8fCAob1tzXSA9IG4sIHRoaXMubWVzc2FnZXMuc2V0KGksIG8pLCBhd2FpdCB0aGlzLnBlcnNpc3QoKSksIHM7XG4gICAgfSwgdGhpcy5nZXQgPSAoaSkgPT4ge1xuICAgICAgdGhpcy5pc0luaXRpYWxpemVkKCk7XG4gICAgICBsZXQgbiA9IHRoaXMubWVzc2FnZXMuZ2V0KGkpO1xuICAgICAgcmV0dXJuIHR5cGVvZiBuID4gXCJ1XCIgJiYgKG4gPSB7fSksIG47XG4gICAgfSwgdGhpcy5oYXMgPSAoaSwgbikgPT4ge1xuICAgICAgdGhpcy5pc0luaXRpYWxpemVkKCk7XG4gICAgICBjb25zdCBzID0gdGhpcy5nZXQoaSksIG8gPSBmaShuKTtcbiAgICAgIHJldHVybiB0eXBlb2Ygc1tvXSA8IFwidVwiO1xuICAgIH0sIHRoaXMuZGVsID0gYXN5bmMgKGkpID0+IHtcbiAgICAgIHRoaXMuaXNJbml0aWFsaXplZCgpLCB0aGlzLm1lc3NhZ2VzLmRlbGV0ZShpKSwgYXdhaXQgdGhpcy5wZXJzaXN0KCk7XG4gICAgfSwgdGhpcy5sb2dnZXIgPSBrdChlLCB0aGlzLm5hbWUpLCB0aGlzLmNvcmUgPSB0O1xuICB9XG4gIGdldCBjb250ZXh0KCkge1xuICAgIHJldHVybiBadCh0aGlzLmxvZ2dlcik7XG4gIH1cbiAgZ2V0IHN0b3JhZ2VLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCArIHRoaXMudmVyc2lvbiArIHRoaXMuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4ICsgXCIvL1wiICsgdGhpcy5uYW1lO1xuICB9XG4gIGFzeW5jIHNldFJlbGF5ZXJNZXNzYWdlcyhlKSB7XG4gICAgYXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksIGlkKGUpKTtcbiAgfVxuICBhc3luYyBnZXRSZWxheWVyTWVzc2FnZXMoKSB7XG4gICAgY29uc3QgZSA9IGF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KTtcbiAgICByZXR1cm4gdHlwZW9mIGUgPCBcInVcIiA/IG5kKGUpIDogdm9pZCAwO1xuICB9XG4gIGFzeW5jIHBlcnNpc3QoKSB7XG4gICAgYXdhaXQgdGhpcy5zZXRSZWxheWVyTWVzc2FnZXModGhpcy5tZXNzYWdlcyk7XG4gIH1cbiAgaXNJbml0aWFsaXplZCgpIHtcbiAgICBpZiAoIXRoaXMuaW5pdGlhbGl6ZWQpIHtcbiAgICAgIGNvbnN0IHsgbWVzc2FnZTogZSB9ID0gYWUoXCJOT1RfSU5JVElBTElaRURcIiwgdGhpcy5uYW1lKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlKTtcbiAgICB9XG4gIH1cbn1cbnZhciBidyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgZ3cgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcywgeXcgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycywgY2ggPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLCBtdyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksIHd3ID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSwgaGggPSAociwgZSwgdCkgPT4gZSBpbiByID8gYncociwgZSwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZTogdCB9KSA6IHJbZV0gPSB0LCB1aCA9IChyLCBlKSA9PiB7XG4gIGZvciAodmFyIHQgaW4gZSB8fCAoZSA9IHt9KSlcbiAgICBtdy5jYWxsKGUsIHQpICYmIGhoKHIsIHQsIGVbdF0pO1xuICBpZiAoY2gpXG4gICAgZm9yICh2YXIgdCBvZiBjaChlKSlcbiAgICAgIHd3LmNhbGwoZSwgdCkgJiYgaGgociwgdCwgZVt0XSk7XG4gIHJldHVybiByO1xufSwgZGggPSAociwgZSkgPT4gZ3cociwgeXcoZSkpO1xuY2xhc3MgX3cgZXh0ZW5kcyBhcCB7XG4gIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICBzdXBlcihlLCB0KSwgdGhpcy5yZWxheWVyID0gZSwgdGhpcy5sb2dnZXIgPSB0LCB0aGlzLmV2ZW50cyA9IG5ldyBpci5FdmVudEVtaXR0ZXIoKSwgdGhpcy5uYW1lID0gZzMsIHRoaXMucXVldWUgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCB0aGlzLnB1Ymxpc2hUaW1lb3V0ID0gaWUudG9NaWxpc2Vjb25kcyhpZS5PTkVfTUlOVVRFKSwgdGhpcy5pbml0aWFsUHVibGlzaFRpbWVvdXQgPSBpZS50b01pbGlzZWNvbmRzKGllLk9ORV9TRUNPTkQgKiAxNSksIHRoaXMubmVlZHNUcmFuc3BvcnRSZXN0YXJ0ID0gITEsIHRoaXMucHVibGlzaCA9IGFzeW5jIChpLCBuLCBzKSA9PiB7XG4gICAgICB2YXIgbztcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKFwiUHVibGlzaGluZyBQYXlsb2FkXCIpLCB0aGlzLmxvZ2dlci50cmFjZSh7IHR5cGU6IFwibWV0aG9kXCIsIG1ldGhvZDogXCJwdWJsaXNoXCIsIHBhcmFtczogeyB0b3BpYzogaSwgbWVzc2FnZTogbiwgb3B0czogcyB9IH0pO1xuICAgICAgY29uc3QgZiA9IHM/LnR0bCB8fCB0aCwgaCA9IFlzKHMpLCBkID0gcz8ucHJvbXB0IHx8ICExLCB2ID0gcz8udGFnIHx8IDAsIHcgPSBzPy5pZCB8fCB6aSgpLnRvU3RyaW5nKCksIEEgPSB7IHRvcGljOiBpLCBtZXNzYWdlOiBuLCBvcHRzOiB7IHR0bDogZiwgcmVsYXk6IGgsIHByb21wdDogZCwgdGFnOiB2LCBpZDogdywgYXR0ZXN0YXRpb246IHM/LmF0dGVzdGF0aW9uIH0gfSwgSSA9IGBGYWlsZWQgdG8gcHVibGlzaCBwYXlsb2FkLCBwbGVhc2UgdHJ5IGFnYWluLiBpZDoke3d9IHRhZzoke3Z9YDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IEQgPSBuZXcgUHJvbWlzZShhc3luYyAoTikgPT4ge1xuICAgICAgICAgIGNvbnN0IGsgPSAoeyBpZDogVCB9KSA9PiB7XG4gICAgICAgICAgICBBLm9wdHMuaWQgPT09IFQgJiYgKHRoaXMucmVtb3ZlUmVxdWVzdEZyb21RdWV1ZShUKSwgdGhpcy5yZWxheWVyLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihFdC5wdWJsaXNoLCBrKSwgTihBKSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICB0aGlzLnJlbGF5ZXIuZXZlbnRzLm9uKEV0LnB1Ymxpc2gsIGspO1xuICAgICAgICAgIGNvbnN0IGogPSBtaShuZXcgUHJvbWlzZSgoVCwgSykgPT4ge1xuICAgICAgICAgICAgdGhpcy5ycGNQdWJsaXNoKHsgdG9waWM6IGksIG1lc3NhZ2U6IG4sIHR0bDogZiwgcHJvbXB0OiBkLCB0YWc6IHYsIGlkOiB3LCBhdHRlc3RhdGlvbjogcz8uYXR0ZXN0YXRpb24gfSkudGhlbihUKS5jYXRjaCgoJCkgPT4ge1xuICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKCQsICQ/Lm1lc3NhZ2UpLCBLKCQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSksIHRoaXMuaW5pdGlhbFB1Ymxpc2hUaW1lb3V0LCBgRmFpbGVkIGluaXRpYWwgcHVibGlzaCwgcmV0cnlpbmcuLi4uIGlkOiR7d30gdGFnOiR7dn1gKTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgaiwgdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoRXQucHVibGlzaCwgayk7XG4gICAgICAgICAgfSBjYXRjaCAoVCkge1xuICAgICAgICAgICAgdGhpcy5xdWV1ZS5zZXQodywgZGgodWgoe30sIEEpLCB7IGF0dGVtcHQ6IDEgfSkpLCB0aGlzLmxvZ2dlci53YXJuKFQsIFQ/Lm1lc3NhZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKHsgdHlwZTogXCJtZXRob2RcIiwgbWV0aG9kOiBcInB1Ymxpc2hcIiwgcGFyYW1zOiB7IGlkOiB3LCB0b3BpYzogaSwgbWVzc2FnZTogbiwgb3B0czogcyB9IH0pLCBhd2FpdCBtaShELCB0aGlzLnB1Ymxpc2hUaW1lb3V0LCBJKTtcbiAgICAgIH0gY2F0Y2ggKEQpIHtcbiAgICAgICAgaWYgKHRoaXMubG9nZ2VyLmRlYnVnKFwiRmFpbGVkIHRvIFB1Ymxpc2ggUGF5bG9hZFwiKSwgdGhpcy5sb2dnZXIuZXJyb3IoRCksIChvID0gcz8uaW50ZXJuYWwpICE9IG51bGwgJiYgby50aHJvd09uRmFpbGVkUHVibGlzaClcbiAgICAgICAgICB0aHJvdyBEO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgdGhpcy5xdWV1ZS5kZWxldGUodyk7XG4gICAgICB9XG4gICAgfSwgdGhpcy5vbiA9IChpLCBuKSA9PiB7XG4gICAgICB0aGlzLmV2ZW50cy5vbihpLCBuKTtcbiAgICB9LCB0aGlzLm9uY2UgPSAoaSwgbikgPT4ge1xuICAgICAgdGhpcy5ldmVudHMub25jZShpLCBuKTtcbiAgICB9LCB0aGlzLm9mZiA9IChpLCBuKSA9PiB7XG4gICAgICB0aGlzLmV2ZW50cy5vZmYoaSwgbik7XG4gICAgfSwgdGhpcy5yZW1vdmVMaXN0ZW5lciA9IChpLCBuKSA9PiB7XG4gICAgICB0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihpLCBuKTtcbiAgICB9LCB0aGlzLnJlbGF5ZXIgPSBlLCB0aGlzLmxvZ2dlciA9IGt0KHQsIHRoaXMubmFtZSksIHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpO1xuICB9XG4gIGdldCBjb250ZXh0KCkge1xuICAgIHJldHVybiBadCh0aGlzLmxvZ2dlcik7XG4gIH1cbiAgYXN5bmMgcnBjUHVibGlzaChlKSB7XG4gICAgdmFyIHQsIGksIG4sIHM7XG4gICAgY29uc3QgeyB0b3BpYzogbywgbWVzc2FnZTogZiwgdHRsOiBoID0gdGgsIHByb21wdDogZCwgdGFnOiB2LCBpZDogdywgYXR0ZXN0YXRpb246IEEgfSA9IGUsIEkgPSB7IG1ldGhvZDogam4oWXMoKS5wcm90b2NvbCkucHVibGlzaCwgcGFyYW1zOiB7IHRvcGljOiBvLCBtZXNzYWdlOiBmLCB0dGw6IGgsIHByb21wdDogZCwgdGFnOiB2LCBhdHRlc3RhdGlvbjogQSB9LCBpZDogdyB9O1xuICAgIHp0KCh0ID0gSS5wYXJhbXMpID09IG51bGwgPyB2b2lkIDAgOiB0LnByb21wdCkgJiYgKChpID0gSS5wYXJhbXMpID09IG51bGwgfHwgZGVsZXRlIGkucHJvbXB0KSwgenQoKG4gPSBJLnBhcmFtcykgPT0gbnVsbCA/IHZvaWQgMCA6IG4udGFnKSAmJiAoKHMgPSBJLnBhcmFtcykgPT0gbnVsbCB8fCBkZWxldGUgcy50YWcpLCB0aGlzLmxvZ2dlci5kZWJ1ZyhcIk91dGdvaW5nIFJlbGF5IFBheWxvYWRcIiksIHRoaXMubG9nZ2VyLnRyYWNlKHsgdHlwZTogXCJtZXNzYWdlXCIsIGRpcmVjdGlvbjogXCJvdXRnb2luZ1wiLCByZXF1ZXN0OiBJIH0pO1xuICAgIGNvbnN0IEQgPSBhd2FpdCB0aGlzLnJlbGF5ZXIucmVxdWVzdChJKTtcbiAgICByZXR1cm4gdGhpcy5yZWxheWVyLmV2ZW50cy5lbWl0KEV0LnB1Ymxpc2gsIGUpLCB0aGlzLmxvZ2dlci5kZWJ1ZyhcIlN1Y2Nlc3NmdWxseSBQdWJsaXNoZWQgUGF5bG9hZFwiKSwgRDtcbiAgfVxuICByZW1vdmVSZXF1ZXN0RnJvbVF1ZXVlKGUpIHtcbiAgICB0aGlzLnF1ZXVlLmRlbGV0ZShlKTtcbiAgfVxuICBjaGVja1F1ZXVlKCkge1xuICAgIHRoaXMucXVldWUuZm9yRWFjaChhc3luYyAoZSwgdCkgPT4ge1xuICAgICAgY29uc3QgaSA9IGUuYXR0ZW1wdCArIDE7XG4gICAgICB0aGlzLnF1ZXVlLnNldCh0LCBkaCh1aCh7fSwgZSksIHsgYXR0ZW1wdDogaSB9KSk7XG4gICAgICBjb25zdCB7IHRvcGljOiBuLCBtZXNzYWdlOiBzLCBvcHRzOiBvLCBhdHRlc3RhdGlvbjogZiB9ID0gZTtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oe30sIGBQdWJsaXNoZXI6IHF1ZXVlLT5wdWJsaXNoaW5nOiAke2Uub3B0cy5pZH0sIHRhZzogJHtlLm9wdHMudGFnfSwgYXR0ZW1wdDogJHtpfWApLCBhd2FpdCB0aGlzLnJwY1B1Ymxpc2goeyB0b3BpYzogbiwgbWVzc2FnZTogcywgdHRsOiBvLnR0bCwgcHJvbXB0OiBvLnByb21wdCwgdGFnOiBvLnRhZywgaWQ6IG8uaWQsIGF0dGVzdGF0aW9uOiBmIH0pLCB0aGlzLmxvZ2dlci53YXJuKHt9LCBgUHVibGlzaGVyOiBxdWV1ZS0+cHVibGlzaGVkOiAke2Uub3B0cy5pZH1gKTtcbiAgICB9KTtcbiAgfVxuICByZWdpc3RlckV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMucmVsYXllci5jb3JlLmhlYXJ0YmVhdC5vbihnbi5wdWxzZSwgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMubmVlZHNUcmFuc3BvcnRSZXN0YXJ0KSB7XG4gICAgICAgIHRoaXMubmVlZHNUcmFuc3BvcnRSZXN0YXJ0ID0gITEsIHRoaXMucmVsYXllci5ldmVudHMuZW1pdChFdC5jb25uZWN0aW9uX3N0YWxsZWQpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLmNoZWNrUXVldWUoKTtcbiAgICB9KSwgdGhpcy5yZWxheWVyLm9uKEV0Lm1lc3NhZ2VfYWNrLCAoZSkgPT4ge1xuICAgICAgdGhpcy5yZW1vdmVSZXF1ZXN0RnJvbVF1ZXVlKGUuaWQudG9TdHJpbmcoKSk7XG4gICAgfSk7XG4gIH1cbn1cbmNsYXNzIHh3IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5tYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCB0aGlzLnNldCA9IChlLCB0KSA9PiB7XG4gICAgICBjb25zdCBpID0gdGhpcy5nZXQoZSk7XG4gICAgICB0aGlzLmV4aXN0cyhlLCB0KSB8fCB0aGlzLm1hcC5zZXQoZSwgWy4uLmksIHRdKTtcbiAgICB9LCB0aGlzLmdldCA9IChlKSA9PiB0aGlzLm1hcC5nZXQoZSkgfHwgW10sIHRoaXMuZXhpc3RzID0gKGUsIHQpID0+IHRoaXMuZ2V0KGUpLmluY2x1ZGVzKHQpLCB0aGlzLmRlbGV0ZSA9IChlLCB0KSA9PiB7XG4gICAgICBpZiAodHlwZW9mIHQgPiBcInVcIikge1xuICAgICAgICB0aGlzLm1hcC5kZWxldGUoZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5tYXAuaGFzKGUpKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBpID0gdGhpcy5nZXQoZSk7XG4gICAgICBpZiAoIXRoaXMuZXhpc3RzKGUsIHQpKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBuID0gaS5maWx0ZXIoKHMpID0+IHMgIT09IHQpO1xuICAgICAgaWYgKCFuLmxlbmd0aCkge1xuICAgICAgICB0aGlzLm1hcC5kZWxldGUoZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMubWFwLnNldChlLCBuKTtcbiAgICB9LCB0aGlzLmNsZWFyID0gKCkgPT4ge1xuICAgICAgdGhpcy5tYXAuY2xlYXIoKTtcbiAgICB9O1xuICB9XG4gIGdldCB0b3BpY3MoKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5tYXAua2V5cygpKTtcbiAgfVxufVxudmFyIEV3ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBTdyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLCBNdyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzLCBsaCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsIEl3ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSwgQXcgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLCBwaCA9IChyLCBlLCB0KSA9PiBlIGluIHIgPyBFdyhyLCBlLCB7IGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAsIHZhbHVlOiB0IH0pIDogcltlXSA9IHQsIHpuID0gKHIsIGUpID0+IHtcbiAgZm9yICh2YXIgdCBpbiBlIHx8IChlID0ge30pKVxuICAgIEl3LmNhbGwoZSwgdCkgJiYgcGgociwgdCwgZVt0XSk7XG4gIGlmIChsaClcbiAgICBmb3IgKHZhciB0IG9mIGxoKGUpKVxuICAgICAgQXcuY2FsbChlLCB0KSAmJiBwaChyLCB0LCBlW3RdKTtcbiAgcmV0dXJuIHI7XG59LCBpbyA9IChyLCBlKSA9PiBTdyhyLCBNdyhlKSk7XG5jbGFzcyBEdyBleHRlbmRzIGNwIHtcbiAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgIHN1cGVyKGUsIHQpLCB0aGlzLnJlbGF5ZXIgPSBlLCB0aGlzLmxvZ2dlciA9IHQsIHRoaXMuc3Vic2NyaXB0aW9ucyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksIHRoaXMudG9waWNNYXAgPSBuZXcgeHcoKSwgdGhpcy5ldmVudHMgPSBuZXcgaXIuRXZlbnRFbWl0dGVyKCksIHRoaXMubmFtZSA9IFMzLCB0aGlzLnZlcnNpb24gPSBNMywgdGhpcy5wZW5kaW5nID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSwgdGhpcy5jYWNoZWQgPSBbXSwgdGhpcy5pbml0aWFsaXplZCA9ICExLCB0aGlzLnBlbmRpbmdTdWJzY3JpcHRpb25XYXRjaExhYmVsID0gXCJwZW5kaW5nX3N1Yl93YXRjaF9sYWJlbFwiLCB0aGlzLnBvbGxpbmdJbnRlcnZhbCA9IDIwLCB0aGlzLnN0b3JhZ2VQcmVmaXggPSBqciwgdGhpcy5zdWJzY3JpYmVUaW1lb3V0ID0gaWUudG9NaWxpc2Vjb25kcyhpZS5PTkVfTUlOVVRFKSwgdGhpcy5pbml0aWFsU3Vic2NyaWJlVGltZW91dCA9IGllLnRvTWlsaXNlY29uZHMoaWUuT05FX1NFQ09ORCAqIDE1KSwgdGhpcy5iYXRjaFN1YnNjcmliZVRvcGljc0xpbWl0ID0gNTAwLCB0aGlzLmluaXQgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0aGlzLmluaXRpYWxpemVkIHx8ICh0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpLCB0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKSwgdGhpcy5jbGllbnRJZCA9IGF3YWl0IHRoaXMucmVsYXllci5jb3JlLmNyeXB0by5nZXRDbGllbnRJZCgpLCBhd2FpdCB0aGlzLnJlc3RvcmUoKSksIHRoaXMuaW5pdGlhbGl6ZWQgPSAhMDtcbiAgICB9LCB0aGlzLnN1YnNjcmliZSA9IGFzeW5jIChpLCBuKSA9PiB7XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKSwgdGhpcy5sb2dnZXIuZGVidWcoXCJTdWJzY3JpYmluZyBUb3BpY1wiKSwgdGhpcy5sb2dnZXIudHJhY2UoeyB0eXBlOiBcIm1ldGhvZFwiLCBtZXRob2Q6IFwic3Vic2NyaWJlXCIsIHBhcmFtczogeyB0b3BpYzogaSwgb3B0czogbiB9IH0pO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcyA9IFlzKG4pLCBvID0geyB0b3BpYzogaSwgcmVsYXk6IHMsIHRyYW5zcG9ydFR5cGU6IG4/LnRyYW5zcG9ydFR5cGUgfTtcbiAgICAgICAgdGhpcy5wZW5kaW5nLnNldChpLCBvKTtcbiAgICAgICAgY29uc3QgZiA9IGF3YWl0IHRoaXMucnBjU3Vic2NyaWJlKGksIHMsIG4pO1xuICAgICAgICByZXR1cm4gdHlwZW9mIGYgPT0gXCJzdHJpbmdcIiAmJiAodGhpcy5vblN1YnNjcmliZShmLCBvKSwgdGhpcy5sb2dnZXIuZGVidWcoXCJTdWNjZXNzZnVsbHkgU3Vic2NyaWJlZCBUb3BpY1wiKSwgdGhpcy5sb2dnZXIudHJhY2UoeyB0eXBlOiBcIm1ldGhvZFwiLCBtZXRob2Q6IFwic3Vic2NyaWJlXCIsIHBhcmFtczogeyB0b3BpYzogaSwgb3B0czogbiB9IH0pKSwgZjtcbiAgICAgIH0gY2F0Y2ggKHMpIHtcbiAgICAgICAgdGhyb3cgdGhpcy5sb2dnZXIuZGVidWcoXCJGYWlsZWQgdG8gU3Vic2NyaWJlIFRvcGljXCIpLCB0aGlzLmxvZ2dlci5lcnJvcihzKSwgcztcbiAgICAgIH1cbiAgICB9LCB0aGlzLnVuc3Vic2NyaWJlID0gYXN5bmMgKGksIG4pID0+IHtcbiAgICAgIGF3YWl0IHRoaXMucmVzdGFydFRvQ29tcGxldGUoKSwgdGhpcy5pc0luaXRpYWxpemVkKCksIHR5cGVvZiBuPy5pZCA8IFwidVwiID8gYXdhaXQgdGhpcy51bnN1YnNjcmliZUJ5SWQoaSwgbi5pZCwgbikgOiBhd2FpdCB0aGlzLnVuc3Vic2NyaWJlQnlUb3BpYyhpLCBuKTtcbiAgICB9LCB0aGlzLmlzU3Vic2NyaWJlZCA9IGFzeW5jIChpKSA9PiB7XG4gICAgICBpZiAodGhpcy50b3BpY3MuaW5jbHVkZXMoaSkpXG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgIGNvbnN0IG4gPSBgJHt0aGlzLnBlbmRpbmdTdWJzY3JpcHRpb25XYXRjaExhYmVsfV8ke2l9YDtcbiAgICAgIHJldHVybiBhd2FpdCBuZXcgUHJvbWlzZSgocywgbykgPT4ge1xuICAgICAgICBjb25zdCBmID0gbmV3IGllLldhdGNoKCk7XG4gICAgICAgIGYuc3RhcnQobik7XG4gICAgICAgIGNvbnN0IGggPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICAgICAgKCF0aGlzLnBlbmRpbmcuaGFzKGkpICYmIHRoaXMudG9waWNzLmluY2x1ZGVzKGkpIHx8IHRoaXMuY2FjaGVkLnNvbWUoKGQpID0+IGQudG9waWMgPT09IGkpKSAmJiAoY2xlYXJJbnRlcnZhbChoKSwgZi5zdG9wKG4pLCBzKCEwKSksIGYuZWxhcHNlZChuKSA+PSBJMyAmJiAoY2xlYXJJbnRlcnZhbChoKSwgZi5zdG9wKG4pLCBvKG5ldyBFcnJvcihcIlN1YnNjcmlwdGlvbiByZXNvbHV0aW9uIHRpbWVvdXRcIikpKTtcbiAgICAgICAgfSwgdGhpcy5wb2xsaW5nSW50ZXJ2YWwpO1xuICAgICAgfSkuY2F0Y2goKCkgPT4gITEpO1xuICAgIH0sIHRoaXMub24gPSAoaSwgbikgPT4ge1xuICAgICAgdGhpcy5ldmVudHMub24oaSwgbik7XG4gICAgfSwgdGhpcy5vbmNlID0gKGksIG4pID0+IHtcbiAgICAgIHRoaXMuZXZlbnRzLm9uY2UoaSwgbik7XG4gICAgfSwgdGhpcy5vZmYgPSAoaSwgbikgPT4ge1xuICAgICAgdGhpcy5ldmVudHMub2ZmKGksIG4pO1xuICAgIH0sIHRoaXMucmVtb3ZlTGlzdGVuZXIgPSAoaSwgbikgPT4ge1xuICAgICAgdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoaSwgbik7XG4gICAgfSwgdGhpcy5zdGFydCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHRoaXMub25Db25uZWN0KCk7XG4gICAgfSwgdGhpcy5zdG9wID0gYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgdGhpcy5vbkRpc2Nvbm5lY3QoKTtcbiAgICB9LCB0aGlzLnJlc3RhcnQgPSBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCB0aGlzLnJlc3RvcmUoKSwgYXdhaXQgdGhpcy5vblJlc3RhcnQoKTtcbiAgICB9LCB0aGlzLmNoZWNrUGVuZGluZyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICh0aGlzLnBlbmRpbmcuc2l6ZSA9PT0gMCAmJiAoIXRoaXMuaW5pdGlhbGl6ZWQgfHwgIXRoaXMucmVsYXllci5jb25uZWN0ZWQpKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBpID0gW107XG4gICAgICB0aGlzLnBlbmRpbmcuZm9yRWFjaCgobikgPT4ge1xuICAgICAgICBpLnB1c2gobik7XG4gICAgICB9KSwgYXdhaXQgdGhpcy5iYXRjaFN1YnNjcmliZShpKTtcbiAgICB9LCB0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgICB0aGlzLnJlbGF5ZXIuY29yZS5oZWFydGJlYXQub24oZ24ucHVsc2UsIGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgdGhpcy5jaGVja1BlbmRpbmcoKTtcbiAgICAgIH0pLCB0aGlzLmV2ZW50cy5vbihlci5jcmVhdGVkLCBhc3luYyAoaSkgPT4ge1xuICAgICAgICBjb25zdCBuID0gZXIuY3JlYXRlZDtcbiAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgRW1pdHRpbmcgJHtufWApLCB0aGlzLmxvZ2dlci5kZWJ1Zyh7IHR5cGU6IFwiZXZlbnRcIiwgZXZlbnQ6IG4sIGRhdGE6IGkgfSksIGF3YWl0IHRoaXMucGVyc2lzdCgpO1xuICAgICAgfSksIHRoaXMuZXZlbnRzLm9uKGVyLmRlbGV0ZWQsIGFzeW5jIChpKSA9PiB7XG4gICAgICAgIGNvbnN0IG4gPSBlci5kZWxldGVkO1xuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke259YCksIHRoaXMubG9nZ2VyLmRlYnVnKHsgdHlwZTogXCJldmVudFwiLCBldmVudDogbiwgZGF0YTogaSB9KSwgYXdhaXQgdGhpcy5wZXJzaXN0KCk7XG4gICAgICB9KTtcbiAgICB9LCB0aGlzLnJlbGF5ZXIgPSBlLCB0aGlzLmxvZ2dlciA9IGt0KHQsIHRoaXMubmFtZSksIHRoaXMuY2xpZW50SWQgPSBcIlwiO1xuICB9XG4gIGdldCBjb250ZXh0KCkge1xuICAgIHJldHVybiBadCh0aGlzLmxvZ2dlcik7XG4gIH1cbiAgZ2V0IHN0b3JhZ2VLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCArIHRoaXMudmVyc2lvbiArIHRoaXMucmVsYXllci5jb3JlLmN1c3RvbVN0b3JhZ2VQcmVmaXggKyBcIi8vXCIgKyB0aGlzLm5hbWU7XG4gIH1cbiAgZ2V0IGxlbmd0aCgpIHtcbiAgICByZXR1cm4gdGhpcy5zdWJzY3JpcHRpb25zLnNpemU7XG4gIH1cbiAgZ2V0IGlkcygpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnN1YnNjcmlwdGlvbnMua2V5cygpKTtcbiAgfVxuICBnZXQgdmFsdWVzKCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuc3Vic2NyaXB0aW9ucy52YWx1ZXMoKSk7XG4gIH1cbiAgZ2V0IHRvcGljcygpIHtcbiAgICByZXR1cm4gdGhpcy50b3BpY01hcC50b3BpY3M7XG4gIH1cbiAgaGFzU3Vic2NyaXB0aW9uKGUsIHQpIHtcbiAgICBsZXQgaSA9ICExO1xuICAgIHRyeSB7XG4gICAgICBpID0gdGhpcy5nZXRTdWJzY3JpcHRpb24oZSkudG9waWMgPT09IHQ7XG4gICAgfSBjYXRjaCB7XG4gICAgfVxuICAgIHJldHVybiBpO1xuICB9XG4gIHJlc2V0KCkge1xuICAgIHRoaXMuY2FjaGVkID0gW10sIHRoaXMuaW5pdGlhbGl6ZWQgPSAhMDtcbiAgfVxuICBvbkRpc2FibGUoKSB7XG4gICAgdGhpcy5jYWNoZWQgPSB0aGlzLnZhbHVlcywgdGhpcy5zdWJzY3JpcHRpb25zLmNsZWFyKCksIHRoaXMudG9waWNNYXAuY2xlYXIoKTtcbiAgfVxuICBhc3luYyB1bnN1YnNjcmliZUJ5VG9waWMoZSwgdCkge1xuICAgIGNvbnN0IGkgPSB0aGlzLnRvcGljTWFwLmdldChlKTtcbiAgICBhd2FpdCBQcm9taXNlLmFsbChpLm1hcChhc3luYyAobikgPT4gYXdhaXQgdGhpcy51bnN1YnNjcmliZUJ5SWQoZSwgbiwgdCkpKTtcbiAgfVxuICBhc3luYyB1bnN1YnNjcmliZUJ5SWQoZSwgdCwgaSkge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKFwiVW5zdWJzY3JpYmluZyBUb3BpY1wiKSwgdGhpcy5sb2dnZXIudHJhY2UoeyB0eXBlOiBcIm1ldGhvZFwiLCBtZXRob2Q6IFwidW5zdWJzY3JpYmVcIiwgcGFyYW1zOiB7IHRvcGljOiBlLCBpZDogdCwgb3B0czogaSB9IH0pO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBuID0gWXMoaSk7XG4gICAgICBhd2FpdCB0aGlzLnJwY1Vuc3Vic2NyaWJlKGUsIHQsIG4pO1xuICAgICAgY29uc3QgcyA9IHN0KFwiVVNFUl9ESVNDT05ORUNURURcIiwgYCR7dGhpcy5uYW1lfSwgJHtlfWApO1xuICAgICAgYXdhaXQgdGhpcy5vblVuc3Vic2NyaWJlKGUsIHQsIHMpLCB0aGlzLmxvZ2dlci5kZWJ1ZyhcIlN1Y2Nlc3NmdWxseSBVbnN1YnNjcmliZWQgVG9waWNcIiksIHRoaXMubG9nZ2VyLnRyYWNlKHsgdHlwZTogXCJtZXRob2RcIiwgbWV0aG9kOiBcInVuc3Vic2NyaWJlXCIsIHBhcmFtczogeyB0b3BpYzogZSwgaWQ6IHQsIG9wdHM6IGkgfSB9KTtcbiAgICB9IGNhdGNoIChuKSB7XG4gICAgICB0aHJvdyB0aGlzLmxvZ2dlci5kZWJ1ZyhcIkZhaWxlZCB0byBVbnN1YnNjcmliZSBUb3BpY1wiKSwgdGhpcy5sb2dnZXIuZXJyb3IobiksIG47XG4gICAgfVxuICB9XG4gIGFzeW5jIHJwY1N1YnNjcmliZShlLCB0LCBpKSB7XG4gICAgdmFyIG47XG4gICAgaT8udHJhbnNwb3J0VHlwZSA9PT0gYXQucmVsYXkgJiYgYXdhaXQgdGhpcy5yZXN0YXJ0VG9Db21wbGV0ZSgpO1xuICAgIGNvbnN0IHMgPSB7IG1ldGhvZDogam4odC5wcm90b2NvbCkuc3Vic2NyaWJlLCBwYXJhbXM6IHsgdG9waWM6IGUgfSB9O1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKFwiT3V0Z29pbmcgUmVsYXkgUGF5bG9hZFwiKSwgdGhpcy5sb2dnZXIudHJhY2UoeyB0eXBlOiBcInBheWxvYWRcIiwgZGlyZWN0aW9uOiBcIm91dGdvaW5nXCIsIHJlcXVlc3Q6IHMgfSk7XG4gICAgY29uc3QgbyA9IChuID0gaT8uaW50ZXJuYWwpID09IG51bGwgPyB2b2lkIDAgOiBuLnRocm93T25GYWlsZWRQdWJsaXNoO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBmID0gdGhpcy5nZXRTdWJzY3JpcHRpb25JZChlKTtcbiAgICAgIGlmIChpPy50cmFuc3BvcnRUeXBlID09PSBhdC5saW5rX21vZGUpXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAodGhpcy5yZWxheWVyLmNvbm5lY3RlZCB8fCB0aGlzLnJlbGF5ZXIuY29ubmVjdGluZykgJiYgdGhpcy5yZWxheWVyLnJlcXVlc3QocykuY2F0Y2goKHYpID0+IHRoaXMubG9nZ2VyLndhcm4odikpO1xuICAgICAgICB9LCBpZS50b01pbGlzZWNvbmRzKGllLk9ORV9TRUNPTkQpKSwgZjtcbiAgICAgIGNvbnN0IGggPSBuZXcgUHJvbWlzZShhc3luYyAodikgPT4ge1xuICAgICAgICBjb25zdCB3ID0gKEEpID0+IHtcbiAgICAgICAgICBBLnRvcGljID09PSBlICYmICh0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihlci5jcmVhdGVkLCB3KSwgdihBLmlkKSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKGVyLmNyZWF0ZWQsIHcpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IEEgPSBhd2FpdCBtaShuZXcgUHJvbWlzZSgoSSwgRCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZWxheWVyLnJlcXVlc3QocykuY2F0Y2goKE4pID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihOLCBOPy5tZXNzYWdlKSwgRChOKTtcbiAgICAgICAgICAgIH0pLnRoZW4oSSk7XG4gICAgICAgICAgfSksIHRoaXMuaW5pdGlhbFN1YnNjcmliZVRpbWVvdXQsIGBTdWJzY3JpYmluZyB0byAke2V9IGZhaWxlZCwgcGxlYXNlIHRyeSBhZ2FpbmApO1xuICAgICAgICAgIHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGVyLmNyZWF0ZWQsIHcpLCB2KEEpO1xuICAgICAgICB9IGNhdGNoIHtcbiAgICAgICAgfVxuICAgICAgfSksIGQgPSBhd2FpdCBtaShoLCB0aGlzLnN1YnNjcmliZVRpbWVvdXQsIGBTdWJzY3JpYmluZyB0byAke2V9IGZhaWxlZCwgcGxlYXNlIHRyeSBhZ2FpbmApO1xuICAgICAgaWYgKCFkICYmIG8pXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU3Vic2NyaWJpbmcgdG8gJHtlfSBmYWlsZWQsIHBsZWFzZSB0cnkgYWdhaW5gKTtcbiAgICAgIHJldHVybiBkID8gZiA6IG51bGw7XG4gICAgfSBjYXRjaCAoZikge1xuICAgICAgaWYgKHRoaXMubG9nZ2VyLmRlYnVnKFwiT3V0Z29pbmcgUmVsYXkgU3Vic2NyaWJlIFBheWxvYWQgc3RhbGxlZFwiKSwgdGhpcy5yZWxheWVyLmV2ZW50cy5lbWl0KEV0LmNvbm5lY3Rpb25fc3RhbGxlZCksIG8pXG4gICAgICAgIHRocm93IGY7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGFzeW5jIHJwY0JhdGNoU3Vic2NyaWJlKGUpIHtcbiAgICBpZiAoIWUubGVuZ3RoKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHQgPSBlWzBdLnJlbGF5LCBpID0geyBtZXRob2Q6IGpuKHQucHJvdG9jb2wpLmJhdGNoU3Vic2NyaWJlLCBwYXJhbXM6IHsgdG9waWNzOiBlLm1hcCgobikgPT4gbi50b3BpYykgfSB9O1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKFwiT3V0Z29pbmcgUmVsYXkgUGF5bG9hZFwiKSwgdGhpcy5sb2dnZXIudHJhY2UoeyB0eXBlOiBcInBheWxvYWRcIiwgZGlyZWN0aW9uOiBcIm91dGdvaW5nXCIsIHJlcXVlc3Q6IGkgfSk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGF3YWl0IG1pKG5ldyBQcm9taXNlKChuKSA9PiB7XG4gICAgICAgIHRoaXMucmVsYXllci5yZXF1ZXN0KGkpLmNhdGNoKChzKSA9PiB0aGlzLmxvZ2dlci53YXJuKHMpKS50aGVuKG4pO1xuICAgICAgfSksIHRoaXMuc3Vic2NyaWJlVGltZW91dCwgXCJycGNCYXRjaFN1YnNjcmliZSBmYWlsZWQsIHBsZWFzZSB0cnkgYWdhaW5cIik7XG4gICAgfSBjYXRjaCB7XG4gICAgICB0aGlzLnJlbGF5ZXIuZXZlbnRzLmVtaXQoRXQuY29ubmVjdGlvbl9zdGFsbGVkKTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgcnBjQmF0Y2hGZXRjaE1lc3NhZ2VzKGUpIHtcbiAgICBpZiAoIWUubGVuZ3RoKVxuICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHQgPSBlWzBdLnJlbGF5LCBpID0geyBtZXRob2Q6IGpuKHQucHJvdG9jb2wpLmJhdGNoRmV0Y2hNZXNzYWdlcywgcGFyYW1zOiB7IHRvcGljczogZS5tYXAoKHMpID0+IHMudG9waWMpIH0gfTtcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhcIk91dGdvaW5nIFJlbGF5IFBheWxvYWRcIiksIHRoaXMubG9nZ2VyLnRyYWNlKHsgdHlwZTogXCJwYXlsb2FkXCIsIGRpcmVjdGlvbjogXCJvdXRnb2luZ1wiLCByZXF1ZXN0OiBpIH0pO1xuICAgIGxldCBuO1xuICAgIHRyeSB7XG4gICAgICBuID0gYXdhaXQgYXdhaXQgbWkobmV3IFByb21pc2UoKHMsIG8pID0+IHtcbiAgICAgICAgdGhpcy5yZWxheWVyLnJlcXVlc3QoaSkuY2F0Y2goKGYpID0+IHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGYpLCBvKGYpO1xuICAgICAgICB9KS50aGVuKHMpO1xuICAgICAgfSksIHRoaXMuc3Vic2NyaWJlVGltZW91dCwgXCJycGNCYXRjaEZldGNoTWVzc2FnZXMgZmFpbGVkLCBwbGVhc2UgdHJ5IGFnYWluXCIpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgdGhpcy5yZWxheWVyLmV2ZW50cy5lbWl0KEV0LmNvbm5lY3Rpb25fc3RhbGxlZCk7XG4gICAgfVxuICAgIHJldHVybiBuO1xuICB9XG4gIHJwY1Vuc3Vic2NyaWJlKGUsIHQsIGkpIHtcbiAgICBjb25zdCBuID0geyBtZXRob2Q6IGpuKGkucHJvdG9jb2wpLnVuc3Vic2NyaWJlLCBwYXJhbXM6IHsgdG9waWM6IGUsIGlkOiB0IH0gfTtcbiAgICByZXR1cm4gdGhpcy5sb2dnZXIuZGVidWcoXCJPdXRnb2luZyBSZWxheSBQYXlsb2FkXCIpLCB0aGlzLmxvZ2dlci50cmFjZSh7IHR5cGU6IFwicGF5bG9hZFwiLCBkaXJlY3Rpb246IFwib3V0Z29pbmdcIiwgcmVxdWVzdDogbiB9KSwgdGhpcy5yZWxheWVyLnJlcXVlc3Qobik7XG4gIH1cbiAgb25TdWJzY3JpYmUoZSwgdCkge1xuICAgIHRoaXMuc2V0U3Vic2NyaXB0aW9uKGUsIGlvKHpuKHt9LCB0KSwgeyBpZDogZSB9KSksIHRoaXMucGVuZGluZy5kZWxldGUodC50b3BpYyk7XG4gIH1cbiAgb25CYXRjaFN1YnNjcmliZShlKSB7XG4gICAgZS5sZW5ndGggJiYgZS5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICB0aGlzLnNldFN1YnNjcmlwdGlvbih0LmlkLCB6bih7fSwgdCkpLCB0aGlzLnBlbmRpbmcuZGVsZXRlKHQudG9waWMpO1xuICAgIH0pO1xuICB9XG4gIGFzeW5jIG9uVW5zdWJzY3JpYmUoZSwgdCwgaSkge1xuICAgIHRoaXMuZXZlbnRzLnJlbW92ZUFsbExpc3RlbmVycyh0KSwgdGhpcy5oYXNTdWJzY3JpcHRpb24odCwgZSkgJiYgdGhpcy5kZWxldGVTdWJzY3JpcHRpb24odCwgaSksIGF3YWl0IHRoaXMucmVsYXllci5tZXNzYWdlcy5kZWwoZSk7XG4gIH1cbiAgYXN5bmMgc2V0UmVsYXllclN1YnNjcmlwdGlvbnMoZSkge1xuICAgIGF3YWl0IHRoaXMucmVsYXllci5jb3JlLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksIGUpO1xuICB9XG4gIGFzeW5jIGdldFJlbGF5ZXJTdWJzY3JpcHRpb25zKCkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLnJlbGF5ZXIuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KTtcbiAgfVxuICBzZXRTdWJzY3JpcHRpb24oZSwgdCkge1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKFwiU2V0dGluZyBzdWJzY3JpcHRpb25cIiksIHRoaXMubG9nZ2VyLnRyYWNlKHsgdHlwZTogXCJtZXRob2RcIiwgbWV0aG9kOiBcInNldFN1YnNjcmlwdGlvblwiLCBpZDogZSwgc3Vic2NyaXB0aW9uOiB0IH0pLCB0aGlzLmFkZFN1YnNjcmlwdGlvbihlLCB0KTtcbiAgfVxuICBhZGRTdWJzY3JpcHRpb24oZSwgdCkge1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5zZXQoZSwgem4oe30sIHQpKSwgdGhpcy50b3BpY01hcC5zZXQodC50b3BpYywgZSksIHRoaXMuZXZlbnRzLmVtaXQoZXIuY3JlYXRlZCwgdCk7XG4gIH1cbiAgZ2V0U3Vic2NyaXB0aW9uKGUpIHtcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhcIkdldHRpbmcgc3Vic2NyaXB0aW9uXCIpLCB0aGlzLmxvZ2dlci50cmFjZSh7IHR5cGU6IFwibWV0aG9kXCIsIG1ldGhvZDogXCJnZXRTdWJzY3JpcHRpb25cIiwgaWQ6IGUgfSk7XG4gICAgY29uc3QgdCA9IHRoaXMuc3Vic2NyaXB0aW9ucy5nZXQoZSk7XG4gICAgaWYgKCF0KSB7XG4gICAgICBjb25zdCB7IG1lc3NhZ2U6IGkgfSA9IGFlKFwiTk9fTUFUQ0hJTkdfS0VZXCIsIGAke3RoaXMubmFtZX06ICR7ZX1gKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihpKTtcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG4gIH1cbiAgZGVsZXRlU3Vic2NyaXB0aW9uKGUsIHQpIHtcbiAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhcIkRlbGV0aW5nIHN1YnNjcmlwdGlvblwiKSwgdGhpcy5sb2dnZXIudHJhY2UoeyB0eXBlOiBcIm1ldGhvZFwiLCBtZXRob2Q6IFwiZGVsZXRlU3Vic2NyaXB0aW9uXCIsIGlkOiBlLCByZWFzb246IHQgfSk7XG4gICAgY29uc3QgaSA9IHRoaXMuZ2V0U3Vic2NyaXB0aW9uKGUpO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5kZWxldGUoZSksIHRoaXMudG9waWNNYXAuZGVsZXRlKGkudG9waWMsIGUpLCB0aGlzLmV2ZW50cy5lbWl0KGVyLmRlbGV0ZWQsIGlvKHpuKHt9LCBpKSwgeyByZWFzb246IHQgfSkpO1xuICB9XG4gIGFzeW5jIHBlcnNpc3QoKSB7XG4gICAgYXdhaXQgdGhpcy5zZXRSZWxheWVyU3Vic2NyaXB0aW9ucyh0aGlzLnZhbHVlcyksIHRoaXMuZXZlbnRzLmVtaXQoZXIuc3luYyk7XG4gIH1cbiAgYXN5bmMgb25SZXN0YXJ0KCkge1xuICAgIGlmICh0aGlzLmNhY2hlZC5sZW5ndGgpIHtcbiAgICAgIGNvbnN0IGUgPSBbLi4udGhpcy5jYWNoZWRdLCB0ID0gTWF0aC5jZWlsKHRoaXMuY2FjaGVkLmxlbmd0aCAvIHRoaXMuYmF0Y2hTdWJzY3JpYmVUb3BpY3NMaW1pdCk7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHQ7IGkrKykge1xuICAgICAgICBjb25zdCBuID0gZS5zcGxpY2UoMCwgdGhpcy5iYXRjaFN1YnNjcmliZVRvcGljc0xpbWl0KTtcbiAgICAgICAgYXdhaXQgdGhpcy5iYXRjaFN1YnNjcmliZShuKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5ldmVudHMuZW1pdChlci5yZXN1YnNjcmliZWQpO1xuICB9XG4gIGFzeW5jIHJlc3RvcmUoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGUgPSBhd2FpdCB0aGlzLmdldFJlbGF5ZXJTdWJzY3JpcHRpb25zKCk7XG4gICAgICBpZiAodHlwZW9mIGUgPiBcInVcIiB8fCAhZS5sZW5ndGgpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGlmICh0aGlzLnN1YnNjcmlwdGlvbnMuc2l6ZSkge1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2U6IHQgfSA9IGFlKFwiUkVTVE9SRV9XSUxMX09WRVJSSURFXCIsIHRoaXMubmFtZSk7XG4gICAgICAgIHRocm93IHRoaXMubG9nZ2VyLmVycm9yKHQpLCB0aGlzLmxvZ2dlci5lcnJvcihgJHt0aGlzLm5hbWV9OiAke0pTT04uc3RyaW5naWZ5KHRoaXMudmFsdWVzKX1gKSwgbmV3IEVycm9yKHQpO1xuICAgICAgfVxuICAgICAgdGhpcy5jYWNoZWQgPSBlLCB0aGlzLmxvZ2dlci5kZWJ1ZyhgU3VjY2Vzc2Z1bGx5IFJlc3RvcmVkIHN1YnNjcmlwdGlvbnMgZm9yICR7dGhpcy5uYW1lfWApLCB0aGlzLmxvZ2dlci50cmFjZSh7IHR5cGU6IFwibWV0aG9kXCIsIG1ldGhvZDogXCJyZXN0b3JlXCIsIHN1YnNjcmlwdGlvbnM6IHRoaXMudmFsdWVzIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBGYWlsZWQgdG8gUmVzdG9yZSBzdWJzY3JpcHRpb25zIGZvciAke3RoaXMubmFtZX1gKSwgdGhpcy5sb2dnZXIuZXJyb3IoZSk7XG4gICAgfVxuICB9XG4gIGFzeW5jIGJhdGNoU3Vic2NyaWJlKGUpIHtcbiAgICBlLmxlbmd0aCAmJiAoYXdhaXQgdGhpcy5ycGNCYXRjaFN1YnNjcmliZShlKSwgdGhpcy5vbkJhdGNoU3Vic2NyaWJlKGUubWFwKCh0KSA9PiBpbyh6bih7fSwgdCksIHsgaWQ6IHRoaXMuZ2V0U3Vic2NyaXB0aW9uSWQodC50b3BpYykgfSkpKSk7XG4gIH1cbiAgYXN5bmMgYmF0Y2hGZXRjaE1lc3NhZ2VzKGUpIHtcbiAgICBpZiAoIWUubGVuZ3RoKVxuICAgICAgcmV0dXJuO1xuICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBGZXRjaGluZyBiYXRjaCBtZXNzYWdlcyBmb3IgJHtlLmxlbmd0aH0gc3Vic2NyaXB0aW9uc2ApO1xuICAgIGNvbnN0IHQgPSBhd2FpdCB0aGlzLnJwY0JhdGNoRmV0Y2hNZXNzYWdlcyhlKTtcbiAgICB0ICYmIHQubWVzc2FnZXMgJiYgKGF3YWl0IGR5KGllLnRvTWlsaXNlY29uZHMoaWUuT05FX1NFQ09ORCkpLCBhd2FpdCB0aGlzLnJlbGF5ZXIuaGFuZGxlQmF0Y2hNZXNzYWdlRXZlbnRzKHQubWVzc2FnZXMpKTtcbiAgfVxuICBhc3luYyBvbkNvbm5lY3QoKSB7XG4gICAgYXdhaXQgdGhpcy5yZXN0YXJ0KCksIHRoaXMucmVzZXQoKTtcbiAgfVxuICBvbkRpc2Nvbm5lY3QoKSB7XG4gICAgdGhpcy5vbkRpc2FibGUoKTtcbiAgfVxuICBpc0luaXRpYWxpemVkKCkge1xuICAgIGlmICghdGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgY29uc3QgeyBtZXNzYWdlOiBlIH0gPSBhZShcIk5PVF9JTklUSUFMSVpFRFwiLCB0aGlzLm5hbWUpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGUpO1xuICAgIH1cbiAgfVxuICBhc3luYyByZXN0YXJ0VG9Db21wbGV0ZSgpIHtcbiAgICAhdGhpcy5yZWxheWVyLmNvbm5lY3RlZCAmJiAhdGhpcy5yZWxheWVyLmNvbm5lY3RpbmcgJiYgYXdhaXQgdGhpcy5yZWxheWVyLnRyYW5zcG9ydE9wZW4oKTtcbiAgfVxuICBnZXRTdWJzY3JpcHRpb25JZChlKSB7XG4gICAgcmV0dXJuIGZpKGUgKyB0aGlzLmNsaWVudElkKTtcbiAgfVxufVxudmFyIFB3ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCB2aCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsIE93ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSwgUncgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLCBiaCA9IChyLCBlLCB0KSA9PiBlIGluIHIgPyBQdyhyLCBlLCB7IGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAsIHZhbHVlOiB0IH0pIDogcltlXSA9IHQsIGdoID0gKHIsIGUpID0+IHtcbiAgZm9yICh2YXIgdCBpbiBlIHx8IChlID0ge30pKVxuICAgIE93LmNhbGwoZSwgdCkgJiYgYmgociwgdCwgZVt0XSk7XG4gIGlmICh2aClcbiAgICBmb3IgKHZhciB0IG9mIHZoKGUpKVxuICAgICAgUncuY2FsbChlLCB0KSAmJiBiaChyLCB0LCBlW3RdKTtcbiAgcmV0dXJuIHI7XG59O1xuY2xhc3MgTncgZXh0ZW5kcyBvcCB7XG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICBzdXBlcihlKSwgdGhpcy5wcm90b2NvbCA9IFwid2NcIiwgdGhpcy52ZXJzaW9uID0gMiwgdGhpcy5ldmVudHMgPSBuZXcgaXIuRXZlbnRFbWl0dGVyKCksIHRoaXMubmFtZSA9IG0zLCB0aGlzLnRyYW5zcG9ydEV4cGxpY2l0bHlDbG9zZWQgPSAhMSwgdGhpcy5pbml0aWFsaXplZCA9ICExLCB0aGlzLmNvbm5lY3Rpb25BdHRlbXB0SW5Qcm9ncmVzcyA9ICExLCB0aGlzLmhhc0V4cGVyaWVuY2VkTmV0d29ya0Rpc3J1cHRpb24gPSAhMSwgdGhpcy5oZWFydEJlYXRUaW1lb3V0ID0gaWUudG9NaWxpc2Vjb25kcyhpZS5USElSVFlfU0VDT05EUyArIGllLkZJVkVfU0VDT05EUyksIHRoaXMucmVxdWVzdHNJbkZsaWdodCA9IFtdLCB0aGlzLmNvbm5lY3RUaW1lb3V0ID0gaWUudG9NaWxpc2Vjb25kcyhpZS5PTkVfU0VDT05EICogMTUpLCB0aGlzLnJlcXVlc3QgPSBhc3luYyAodCkgPT4ge1xuICAgICAgdmFyIGksIG47XG4gICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhcIlB1Ymxpc2hpbmcgUmVxdWVzdCBQYXlsb2FkXCIpO1xuICAgICAgY29uc3QgcyA9IHQuaWQgfHwgemkoKS50b1N0cmluZygpO1xuICAgICAgYXdhaXQgdGhpcy50b0VzdGFibGlzaENvbm5lY3Rpb24oKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKHsgaWQ6IHMsIG1ldGhvZDogdC5tZXRob2QsIHRvcGljOiAoaSA9IHQucGFyYW1zKSA9PSBudWxsID8gdm9pZCAwIDogaS50b3BpYyB9LCBcInJlbGF5ZXIucmVxdWVzdCAtIHB1Ymxpc2hpbmcuLi5cIik7XG4gICAgICAgIGNvbnN0IG8gPSBgJHtzfTokeygobiA9IHQucGFyYW1zKSA9PSBudWxsID8gdm9pZCAwIDogbi50YWcpIHx8IFwiXCJ9YDtcbiAgICAgICAgdGhpcy5yZXF1ZXN0c0luRmxpZ2h0LnB1c2gobyk7XG4gICAgICAgIGNvbnN0IGYgPSBhd2FpdCB0aGlzLnByb3ZpZGVyLnJlcXVlc3QodCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3RzSW5GbGlnaHQgPSB0aGlzLnJlcXVlc3RzSW5GbGlnaHQuZmlsdGVyKChoKSA9PiBoICE9PSBvKSwgZjtcbiAgICAgIH0gY2F0Y2ggKG8pIHtcbiAgICAgICAgdGhyb3cgdGhpcy5sb2dnZXIuZGVidWcoYEZhaWxlZCB0byBQdWJsaXNoIFJlcXVlc3Q6ICR7c31gKSwgbztcbiAgICAgIH1cbiAgICB9LCB0aGlzLnJlc2V0UGluZ1RpbWVvdXQgPSAoKSA9PiB7XG4gICAgICBpZiAoR3MoKSlcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCksIHRoaXMucGluZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHZhciB0LCBpLCBuO1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoe30sIFwicGluZ1RpbWVvdXQ6IENvbm5lY3Rpb24gc3RhbGxlZCwgdGVybWluYXRpbmcuLi5cIiksIChuID0gKGkgPSAodCA9IHRoaXMucHJvdmlkZXIpID09IG51bGwgPyB2b2lkIDAgOiB0LmNvbm5lY3Rpb24pID09IG51bGwgPyB2b2lkIDAgOiBpLnNvY2tldCkgPT0gbnVsbCB8fCBuLnRlcm1pbmF0ZSgpO1xuICAgICAgICAgIH0sIHRoaXMuaGVhcnRCZWF0VGltZW91dCk7XG4gICAgICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKHQsIHQ/Lm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfSwgdGhpcy5vblBheWxvYWRIYW5kbGVyID0gKHQpID0+IHtcbiAgICAgIHRoaXMub25Qcm92aWRlclBheWxvYWQodCksIHRoaXMucmVzZXRQaW5nVGltZW91dCgpO1xuICAgIH0sIHRoaXMub25Db25uZWN0SGFuZGxlciA9ICgpID0+IHtcbiAgICAgIHRoaXMubG9nZ2VyLndhcm4oe30sIFwiUmVsYXllciBjb25uZWN0ZWQg8J+bnFwiKSwgdGhpcy5zdGFydFBpbmdUaW1lb3V0KCksIHRoaXMuZXZlbnRzLmVtaXQoRXQuY29ubmVjdCk7XG4gICAgfSwgdGhpcy5vbkRpc2Nvbm5lY3RIYW5kbGVyID0gKCkgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIud2Fybih7fSwgXCJSZWxheWVyIGRpc2Nvbm5lY3RlZCDwn5uRXCIpLCB0aGlzLnJlcXVlc3RzSW5GbGlnaHQgPSBbXSwgdGhpcy5vblByb3ZpZGVyRGlzY29ubmVjdCgpO1xuICAgIH0sIHRoaXMub25Qcm92aWRlckVycm9ySGFuZGxlciA9ICh0KSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlci5mYXRhbCh0LCBgRmF0YWwgc29ja2V0IGVycm9yOiAke3Q/Lm1lc3NhZ2V9YCksIHRoaXMuZXZlbnRzLmVtaXQoRXQuZXJyb3IsIHQpLCB0aGlzLmxvZ2dlci5mYXRhbChcIkZhdGFsIHNvY2tldCBlcnJvciByZWNlaXZlZCwgY2xvc2luZyB0cmFuc3BvcnRcIiksIHRoaXMudHJhbnNwb3J0Q2xvc2UoKTtcbiAgICB9LCB0aGlzLnJlZ2lzdGVyUHJvdmlkZXJMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgICB0aGlzLnByb3ZpZGVyLm9uKGhyLnBheWxvYWQsIHRoaXMub25QYXlsb2FkSGFuZGxlciksIHRoaXMucHJvdmlkZXIub24oaHIuY29ubmVjdCwgdGhpcy5vbkNvbm5lY3RIYW5kbGVyKSwgdGhpcy5wcm92aWRlci5vbihoci5kaXNjb25uZWN0LCB0aGlzLm9uRGlzY29ubmVjdEhhbmRsZXIpLCB0aGlzLnByb3ZpZGVyLm9uKGhyLmVycm9yLCB0aGlzLm9uUHJvdmlkZXJFcnJvckhhbmRsZXIpO1xuICAgIH0sIHRoaXMuY29yZSA9IGUuY29yZSwgdGhpcy5sb2dnZXIgPSB0eXBlb2YgZS5sb2dnZXIgPCBcInVcIiAmJiB0eXBlb2YgZS5sb2dnZXIgIT0gXCJzdHJpbmdcIiA/IGt0KGUubG9nZ2VyLCB0aGlzLm5hbWUpIDogbmEoVG8oeyBsZXZlbDogZS5sb2dnZXIgfHwgeTMgfSkpLCB0aGlzLm1lc3NhZ2VzID0gbmV3IHZ3KHRoaXMubG9nZ2VyLCBlLmNvcmUpLCB0aGlzLnN1YnNjcmliZXIgPSBuZXcgRHcodGhpcywgdGhpcy5sb2dnZXIpLCB0aGlzLnB1Ymxpc2hlciA9IG5ldyBfdyh0aGlzLCB0aGlzLmxvZ2dlciksIHRoaXMucmVsYXlVcmwgPSBlPy5yZWxheVVybCB8fCBJZCwgdGhpcy5wcm9qZWN0SWQgPSBlLnByb2plY3RJZCwgWjIoKSA/IHRoaXMucGFja2FnZU5hbWUgPSBJYygpIDogUTIoKSAmJiAodGhpcy5idW5kbGVJZCA9IEljKCkpLCB0aGlzLnByb3ZpZGVyID0ge307XG4gIH1cbiAgYXN5bmMgaW5pdCgpIHtcbiAgICBpZiAodGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKSwgdGhpcy5yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCksIGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLm1lc3NhZ2VzLmluaXQoKSwgdGhpcy5zdWJzY3JpYmVyLmluaXQoKV0pLCB0aGlzLmluaXRpYWxpemVkID0gITAsIHRoaXMuc3Vic2NyaWJlci5jYWNoZWQubGVuZ3RoID4gMClcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMudHJhbnNwb3J0T3BlbigpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGUsIGU/Lm1lc3NhZ2UpO1xuICAgICAgfVxuICB9XG4gIGdldCBjb250ZXh0KCkge1xuICAgIHJldHVybiBadCh0aGlzLmxvZ2dlcik7XG4gIH1cbiAgZ2V0IGNvbm5lY3RlZCgpIHtcbiAgICB2YXIgZSwgdCwgaTtcbiAgICByZXR1cm4gKChpID0gKHQgPSAoZSA9IHRoaXMucHJvdmlkZXIpID09IG51bGwgPyB2b2lkIDAgOiBlLmNvbm5lY3Rpb24pID09IG51bGwgPyB2b2lkIDAgOiB0LnNvY2tldCkgPT0gbnVsbCA/IHZvaWQgMCA6IGkucmVhZHlTdGF0ZSkgPT09IDE7XG4gIH1cbiAgZ2V0IGNvbm5lY3RpbmcoKSB7XG4gICAgdmFyIGUsIHQsIGk7XG4gICAgcmV0dXJuICgoaSA9ICh0ID0gKGUgPSB0aGlzLnByb3ZpZGVyKSA9PSBudWxsID8gdm9pZCAwIDogZS5jb25uZWN0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogdC5zb2NrZXQpID09IG51bGwgPyB2b2lkIDAgOiBpLnJlYWR5U3RhdGUpID09PSAwO1xuICB9XG4gIGFzeW5jIHB1Ymxpc2goZSwgdCwgaSkge1xuICAgIHRoaXMuaXNJbml0aWFsaXplZCgpLCBhd2FpdCB0aGlzLnB1Ymxpc2hlci5wdWJsaXNoKGUsIHQsIGkpLCBhd2FpdCB0aGlzLnJlY29yZE1lc3NhZ2VFdmVudCh7IHRvcGljOiBlLCBtZXNzYWdlOiB0LCBwdWJsaXNoZWRBdDogRGF0ZS5ub3coKSwgdHJhbnNwb3J0VHlwZTogYXQucmVsYXkgfSk7XG4gIH1cbiAgYXN5bmMgc3Vic2NyaWJlKGUsIHQpIHtcbiAgICB2YXIgaSwgbiwgcztcbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKSwgKCEodCAhPSBudWxsICYmIHQudHJhbnNwb3J0VHlwZSkgfHwgdD8udHJhbnNwb3J0VHlwZSA9PT0gXCJyZWxheVwiKSAmJiBhd2FpdCB0aGlzLnRvRXN0YWJsaXNoQ29ubmVjdGlvbigpO1xuICAgIGNvbnN0IG8gPSB0eXBlb2YgKChpID0gdD8uaW50ZXJuYWwpID09IG51bGwgPyB2b2lkIDAgOiBpLnRocm93T25GYWlsZWRQdWJsaXNoKSA+IFwidVwiID8gITAgOiAobiA9IHQ/LmludGVybmFsKSA9PSBudWxsID8gdm9pZCAwIDogbi50aHJvd09uRmFpbGVkUHVibGlzaDtcbiAgICBsZXQgZiA9ICgocyA9IHRoaXMuc3Vic2NyaWJlci50b3BpY01hcC5nZXQoZSkpID09IG51bGwgPyB2b2lkIDAgOiBzWzBdKSB8fCBcIlwiLCBoO1xuICAgIGNvbnN0IGQgPSAodikgPT4ge1xuICAgICAgdi50b3BpYyA9PT0gZSAmJiAodGhpcy5zdWJzY3JpYmVyLm9mZihlci5jcmVhdGVkLCBkKSwgaCgpKTtcbiAgICB9O1xuICAgIHJldHVybiBhd2FpdCBQcm9taXNlLmFsbChbbmV3IFByb21pc2UoKHYpID0+IHtcbiAgICAgIGggPSB2LCB0aGlzLnN1YnNjcmliZXIub24oZXIuY3JlYXRlZCwgZCk7XG4gICAgfSksIG5ldyBQcm9taXNlKGFzeW5jICh2LCB3KSA9PiB7XG4gICAgICBmID0gYXdhaXQgdGhpcy5zdWJzY3JpYmVyLnN1YnNjcmliZShlLCBnaCh7IGludGVybmFsOiB7IHRocm93T25GYWlsZWRQdWJsaXNoOiBvIH0gfSwgdCkpLmNhdGNoKChBKSA9PiB7XG4gICAgICAgIG8gJiYgdyhBKTtcbiAgICAgIH0pIHx8IGYsIHYoKTtcbiAgICB9KV0pLCBmO1xuICB9XG4gIGFzeW5jIHVuc3Vic2NyaWJlKGUsIHQpIHtcbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKSwgYXdhaXQgdGhpcy5zdWJzY3JpYmVyLnVuc3Vic2NyaWJlKGUsIHQpO1xuICB9XG4gIG9uKGUsIHQpIHtcbiAgICB0aGlzLmV2ZW50cy5vbihlLCB0KTtcbiAgfVxuICBvbmNlKGUsIHQpIHtcbiAgICB0aGlzLmV2ZW50cy5vbmNlKGUsIHQpO1xuICB9XG4gIG9mZihlLCB0KSB7XG4gICAgdGhpcy5ldmVudHMub2ZmKGUsIHQpO1xuICB9XG4gIHJlbW92ZUxpc3RlbmVyKGUsIHQpIHtcbiAgICB0aGlzLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihlLCB0KTtcbiAgfVxuICBhc3luYyB0cmFuc3BvcnREaXNjb25uZWN0KCkge1xuICAgIHRoaXMucHJvdmlkZXIuZGlzY29ubmVjdCAmJiAodGhpcy5oYXNFeHBlcmllbmNlZE5ldHdvcmtEaXNydXB0aW9uIHx8IHRoaXMuY29ubmVjdGVkKSA/IGF3YWl0IG1pKHRoaXMucHJvdmlkZXIuZGlzY29ubmVjdCgpLCAyZTMsIFwicHJvdmlkZXIuZGlzY29ubmVjdCgpXCIpLmNhdGNoKCgpID0+IHRoaXMub25Qcm92aWRlckRpc2Nvbm5lY3QoKSkgOiB0aGlzLm9uUHJvdmlkZXJEaXNjb25uZWN0KCk7XG4gIH1cbiAgYXN5bmMgdHJhbnNwb3J0Q2xvc2UoKSB7XG4gICAgdGhpcy50cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkID0gITAsIGF3YWl0IHRoaXMudHJhbnNwb3J0RGlzY29ubmVjdCgpO1xuICB9XG4gIGFzeW5jIHRyYW5zcG9ydE9wZW4oZSkge1xuICAgIGlmICh0aGlzLmNvbm5lY3RQcm9taXNlID8gKHRoaXMubG9nZ2VyLmRlYnVnKHt9LCBcIldhaXRpbmcgZm9yIGV4aXN0aW5nIGNvbm5lY3Rpb24gYXR0ZW1wdCB0byByZXNvbHZlLi4uXCIpLCBhd2FpdCB0aGlzLmNvbm5lY3RQcm9taXNlLCB0aGlzLmxvZ2dlci5kZWJ1Zyh7fSwgXCJFeGlzdGluZyBjb25uZWN0aW9uIGF0dGVtcHQgcmVzb2x2ZWRcIikpIDogKHRoaXMuY29ubmVjdFByb21pc2UgPSBuZXcgUHJvbWlzZShhc3luYyAodCwgaSkgPT4ge1xuICAgICAgYXdhaXQgdGhpcy5jb25uZWN0KGUpLnRoZW4odCkuY2F0Y2goaSkuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIHRoaXMuY29ubmVjdFByb21pc2UgPSB2b2lkIDA7XG4gICAgICB9KTtcbiAgICB9KSwgYXdhaXQgdGhpcy5jb25uZWN0UHJvbWlzZSksICF0aGlzLmNvbm5lY3RlZClcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQ291bGRuJ3QgZXN0YWJsaXNoIHNvY2tldCBjb25uZWN0aW9uIHRvIHRoZSByZWxheSBzZXJ2ZXI6ICR7dGhpcy5yZWxheVVybH1gKTtcbiAgfVxuICBhc3luYyByZXN0YXJ0VHJhbnNwb3J0KGUpIHtcbiAgICB0aGlzLmxvZ2dlci5kZWJ1Zyh7fSwgXCJSZXN0YXJ0aW5nIHRyYW5zcG9ydC4uLlwiKSwgIXRoaXMuY29ubmVjdGlvbkF0dGVtcHRJblByb2dyZXNzICYmICh0aGlzLnJlbGF5VXJsID0gZSB8fCB0aGlzLnJlbGF5VXJsLCBhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKSwgYXdhaXQgdGhpcy50cmFuc3BvcnRDbG9zZSgpLCBhd2FpdCB0aGlzLnRyYW5zcG9ydE9wZW4oKSk7XG4gIH1cbiAgYXN5bmMgY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpIHtcbiAgICBpZiAoIWF3YWl0IFdjKCkpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBpbnRlcm5ldCBjb25uZWN0aW9uIGRldGVjdGVkLiBQbGVhc2UgcmVzdGFydCB5b3VyIG5ldHdvcmsgYW5kIHRyeSBhZ2Fpbi5cIik7XG4gIH1cbiAgYXN5bmMgaGFuZGxlQmF0Y2hNZXNzYWdlRXZlbnRzKGUpIHtcbiAgICBpZiAoZT8ubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJhdGNoIG1lc3NhZ2UgZXZlbnRzIGlzIGVtcHR5LiBJZ25vcmluZy4uLlwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdCA9IGUuc29ydCgoaSwgbikgPT4gaS5wdWJsaXNoZWRBdCAtIG4ucHVibGlzaGVkQXQpO1xuICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBCYXRjaCBvZiAke3QubGVuZ3RofSBtZXNzYWdlIGV2ZW50cyBzb3J0ZWRgKTtcbiAgICBmb3IgKGNvbnN0IGkgb2YgdClcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMub25NZXNzYWdlRXZlbnQoaSk7XG4gICAgICB9IGNhdGNoIChuKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLndhcm4obiwgXCJFcnJvciB3aGlsZSBwcm9jZXNzaW5nIGJhdGNoIG1lc3NhZ2UgZXZlbnQ6IFwiICsgbj8ubWVzc2FnZSk7XG4gICAgICB9XG4gICAgdGhpcy5sb2dnZXIudHJhY2UoYEJhdGNoIG9mICR7dC5sZW5ndGh9IG1lc3NhZ2UgZXZlbnRzIHByb2Nlc3NlZGApO1xuICB9XG4gIGFzeW5jIG9uTGlua01lc3NhZ2VFdmVudChlLCB0KSB7XG4gICAgY29uc3QgeyB0b3BpYzogaSB9ID0gZTtcbiAgICBpZiAoIXQuc2Vzc2lvbkV4aXN0cykge1xuICAgICAgY29uc3QgbiA9IG10KGllLkZJVkVfTUlOVVRFUyksIHMgPSB7IHRvcGljOiBpLCBleHBpcnk6IG4sIHJlbGF5OiB7IHByb3RvY29sOiBcImlyblwiIH0sIGFjdGl2ZTogITEgfTtcbiAgICAgIGF3YWl0IHRoaXMuY29yZS5wYWlyaW5nLnBhaXJpbmdzLnNldChpLCBzKTtcbiAgICB9XG4gICAgdGhpcy5ldmVudHMuZW1pdChFdC5tZXNzYWdlLCBlKSwgYXdhaXQgdGhpcy5yZWNvcmRNZXNzYWdlRXZlbnQoZSk7XG4gIH1cbiAgYXN5bmMgY29ubmVjdChlKSB7XG4gICAgYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCksIGUgJiYgZSAhPT0gdGhpcy5yZWxheVVybCAmJiAodGhpcy5yZWxheVVybCA9IGUsIGF3YWl0IHRoaXMudHJhbnNwb3J0RGlzY29ubmVjdCgpKSwgdGhpcy5jb25uZWN0aW9uQXR0ZW1wdEluUHJvZ3Jlc3MgPSAhMCwgdGhpcy50cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkID0gITE7XG4gICAgbGV0IHQgPSAxO1xuICAgIGZvciAoOyB0IDwgNjsgKSB7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1Zyh7fSwgYENvbm5lY3RpbmcgdG8gJHt0aGlzLnJlbGF5VXJsfSwgYXR0ZW1wdDogJHt0fS4uLmApLCBhd2FpdCB0aGlzLmNyZWF0ZVByb3ZpZGVyKCksIGF3YWl0IG5ldyBQcm9taXNlKGFzeW5jIChpLCBuKSA9PiB7XG4gICAgICAgICAgY29uc3QgcyA9ICgpID0+IHtcbiAgICAgICAgICAgIG4obmV3IEVycm9yKFwiQ29ubmVjdGlvbiBpbnRlcnJ1cHRlZCB3aGlsZSB0cnlpbmcgdG8gc3Vic2NyaWJlXCIpKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHRoaXMucHJvdmlkZXIub25jZShoci5kaXNjb25uZWN0LCBzKSwgYXdhaXQgbWkobmV3IFByb21pc2UoKG8sIGYpID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJvdmlkZXIuY29ubmVjdCgpLnRoZW4obykuY2F0Y2goZik7XG4gICAgICAgICAgfSksIHRoaXMuY29ubmVjdFRpbWVvdXQsIGBTb2NrZXQgc3RhbGxlZCB3aGVuIHRyeWluZyB0byBjb25uZWN0IHRvICR7dGhpcy5yZWxheVVybH1gKS5jYXRjaCgobykgPT4ge1xuICAgICAgICAgICAgbihvKTtcbiAgICAgICAgICB9KS5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJvdmlkZXIub2ZmKGhyLmRpc2Nvbm5lY3QsIHMpLCBjbGVhclRpbWVvdXQodGhpcy5yZWNvbm5lY3RUaW1lb3V0KSwgdGhpcy5yZWNvbm5lY3RUaW1lb3V0ID0gdm9pZCAwO1xuICAgICAgICAgIH0pLCBhd2FpdCBuZXcgUHJvbWlzZShhc3luYyAobywgZikgPT4ge1xuICAgICAgICAgICAgY29uc3QgaCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgZihuZXcgRXJyb3IoXCJDb25uZWN0aW9uIGludGVycnVwdGVkIHdoaWxlIHRyeWluZyB0byBzdWJzY3JpYmVcIikpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMucHJvdmlkZXIub25jZShoci5kaXNjb25uZWN0LCBoKSwgYXdhaXQgdGhpcy5zdWJzY3JpYmVyLnN0YXJ0KCkudGhlbihvKS5jYXRjaChmKS5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICAgICAgdGhpcy5wcm92aWRlci5vZmYoaHIuZGlzY29ubmVjdCwgaCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KSwgdGhpcy5oYXNFeHBlcmllbmNlZE5ldHdvcmtEaXNydXB0aW9uID0gITEsIGkoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChpKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc3Vic2NyaWJlci5zdG9wKCk7XG4gICAgICAgIGNvbnN0IG4gPSBpO1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKHt9LCBuLm1lc3NhZ2UpLCB0aGlzLmhhc0V4cGVyaWVuY2VkTmV0d29ya0Rpc3J1cHRpb24gPSAhMDtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkF0dGVtcHRJblByb2dyZXNzID0gITE7XG4gICAgICB9XG4gICAgICBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoe30sIGBDb25uZWN0ZWQgdG8gJHt0aGlzLnJlbGF5VXJsfSBzdWNjZXNzZnVsbHkgb24gYXR0ZW1wdDogJHt0fWApO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChpKSA9PiBzZXRUaW1lb3V0KGksIGllLnRvTWlsaXNlY29uZHModCAqIDEpKSksIHQrKztcbiAgICB9XG4gIH1cbiAgc3RhcnRQaW5nVGltZW91dCgpIHtcbiAgICB2YXIgZSwgdCwgaSwgbiwgcztcbiAgICBpZiAoR3MoKSlcbiAgICAgIHRyeSB7XG4gICAgICAgICh0ID0gKGUgPSB0aGlzLnByb3ZpZGVyKSA9PSBudWxsID8gdm9pZCAwIDogZS5jb25uZWN0aW9uKSAhPSBudWxsICYmIHQuc29ja2V0ICYmICgocyA9IChuID0gKGkgPSB0aGlzLnByb3ZpZGVyKSA9PSBudWxsID8gdm9pZCAwIDogaS5jb25uZWN0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogbi5zb2NrZXQpID09IG51bGwgfHwgcy5vbihcInBpbmdcIiwgKCkgPT4ge1xuICAgICAgICAgIHRoaXMucmVzZXRQaW5nVGltZW91dCgpO1xuICAgICAgICB9KSksIHRoaXMucmVzZXRQaW5nVGltZW91dCgpO1xuICAgICAgfSBjYXRjaCAobykge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKG8sIG8/Lm1lc3NhZ2UpO1xuICAgICAgfVxuICB9XG4gIGFzeW5jIGNyZWF0ZVByb3ZpZGVyKCkge1xuICAgIHRoaXMucHJvdmlkZXIuY29ubmVjdGlvbiAmJiB0aGlzLnVucmVnaXN0ZXJQcm92aWRlckxpc3RlbmVycygpO1xuICAgIGNvbnN0IGUgPSBhd2FpdCB0aGlzLmNvcmUuY3J5cHRvLnNpZ25KV1QodGhpcy5yZWxheVVybCk7XG4gICAgdGhpcy5wcm92aWRlciA9IG5ldyB4ZChuZXcgYTMoaXkoeyBzZGtWZXJzaW9uOiBEbywgcHJvdG9jb2w6IHRoaXMucHJvdG9jb2wsIHZlcnNpb246IHRoaXMudmVyc2lvbiwgcmVsYXlVcmw6IHRoaXMucmVsYXlVcmwsIHByb2plY3RJZDogdGhpcy5wcm9qZWN0SWQsIGF1dGg6IGUsIHVzZU9uQ2xvc2VFdmVudDogITAsIGJ1bmRsZUlkOiB0aGlzLmJ1bmRsZUlkLCBwYWNrYWdlTmFtZTogdGhpcy5wYWNrYWdlTmFtZSB9KSkpLCB0aGlzLnJlZ2lzdGVyUHJvdmlkZXJMaXN0ZW5lcnMoKTtcbiAgfVxuICBhc3luYyByZWNvcmRNZXNzYWdlRXZlbnQoZSkge1xuICAgIGNvbnN0IHsgdG9waWM6IHQsIG1lc3NhZ2U6IGkgfSA9IGU7XG4gICAgYXdhaXQgdGhpcy5tZXNzYWdlcy5zZXQodCwgaSk7XG4gIH1cbiAgYXN5bmMgc2hvdWxkSWdub3JlTWVzc2FnZUV2ZW50KGUpIHtcbiAgICBjb25zdCB7IHRvcGljOiB0LCBtZXNzYWdlOiBpIH0gPSBlO1xuICAgIGlmICghaSB8fCBpLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiB0aGlzLmxvZ2dlci53YXJuKGBJZ25vcmluZyBpbnZhbGlkL2VtcHR5IG1lc3NhZ2U6ICR7aX1gKSwgITA7XG4gICAgaWYgKCFhd2FpdCB0aGlzLnN1YnNjcmliZXIuaXNTdWJzY3JpYmVkKHQpKVxuICAgICAgcmV0dXJuIHRoaXMubG9nZ2VyLndhcm4oYElnbm9yaW5nIG1lc3NhZ2UgZm9yIG5vbi1zdWJzY3JpYmVkIHRvcGljICR7dH1gKSwgITA7XG4gICAgY29uc3QgbiA9IHRoaXMubWVzc2FnZXMuaGFzKHQsIGkpO1xuICAgIHJldHVybiBuICYmIHRoaXMubG9nZ2VyLndhcm4oYElnbm9yaW5nIGR1cGxpY2F0ZSBtZXNzYWdlOiAke2l9YCksIG47XG4gIH1cbiAgYXN5bmMgb25Qcm92aWRlclBheWxvYWQoZSkge1xuICAgIGlmICh0aGlzLmxvZ2dlci5kZWJ1ZyhcIkluY29taW5nIFJlbGF5IFBheWxvYWRcIiksIHRoaXMubG9nZ2VyLnRyYWNlKHsgdHlwZTogXCJwYXlsb2FkXCIsIGRpcmVjdGlvbjogXCJpbmNvbWluZ1wiLCBwYXlsb2FkOiBlIH0pLCBmZihlKSkge1xuICAgICAgaWYgKCFlLm1ldGhvZC5lbmRzV2l0aCh3MykpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IHQgPSBlLnBhcmFtcywgeyB0b3BpYzogaSwgbWVzc2FnZTogbiwgcHVibGlzaGVkQXQ6IHMsIGF0dGVzdGF0aW9uOiBvIH0gPSB0LmRhdGEsIGYgPSB7IHRvcGljOiBpLCBtZXNzYWdlOiBuLCBwdWJsaXNoZWRBdDogcywgdHJhbnNwb3J0VHlwZTogYXQucmVsYXksIGF0dGVzdGF0aW9uOiBvIH07XG4gICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhcIkVtaXR0aW5nIFJlbGF5ZXIgUGF5bG9hZFwiKSwgdGhpcy5sb2dnZXIudHJhY2UoZ2goeyB0eXBlOiBcImV2ZW50XCIsIGV2ZW50OiB0LmlkIH0sIGYpKSwgdGhpcy5ldmVudHMuZW1pdCh0LmlkLCBmKSwgYXdhaXQgdGhpcy5hY2tub3dsZWRnZVBheWxvYWQoZSksIGF3YWl0IHRoaXMub25NZXNzYWdlRXZlbnQoZik7XG4gICAgfSBlbHNlXG4gICAgICBBYShlKSAmJiB0aGlzLmV2ZW50cy5lbWl0KEV0Lm1lc3NhZ2VfYWNrLCBlKTtcbiAgfVxuICBhc3luYyBvbk1lc3NhZ2VFdmVudChlKSB7XG4gICAgYXdhaXQgdGhpcy5zaG91bGRJZ25vcmVNZXNzYWdlRXZlbnQoZSkgfHwgKHRoaXMuZXZlbnRzLmVtaXQoRXQubWVzc2FnZSwgZSksIGF3YWl0IHRoaXMucmVjb3JkTWVzc2FnZUV2ZW50KGUpKTtcbiAgfVxuICBhc3luYyBhY2tub3dsZWRnZVBheWxvYWQoZSkge1xuICAgIGNvbnN0IHQgPSBNYShlLmlkLCAhMCk7XG4gICAgYXdhaXQgdGhpcy5wcm92aWRlci5jb25uZWN0aW9uLnNlbmQodCk7XG4gIH1cbiAgdW5yZWdpc3RlclByb3ZpZGVyTGlzdGVuZXJzKCkge1xuICAgIHRoaXMucHJvdmlkZXIub2ZmKGhyLnBheWxvYWQsIHRoaXMub25QYXlsb2FkSGFuZGxlciksIHRoaXMucHJvdmlkZXIub2ZmKGhyLmNvbm5lY3QsIHRoaXMub25Db25uZWN0SGFuZGxlciksIHRoaXMucHJvdmlkZXIub2ZmKGhyLmRpc2Nvbm5lY3QsIHRoaXMub25EaXNjb25uZWN0SGFuZGxlciksIHRoaXMucHJvdmlkZXIub2ZmKGhyLmVycm9yLCB0aGlzLm9uUHJvdmlkZXJFcnJvckhhbmRsZXIpLCBjbGVhclRpbWVvdXQodGhpcy5waW5nVGltZW91dCk7XG4gIH1cbiAgYXN5bmMgcmVnaXN0ZXJFdmVudExpc3RlbmVycygpIHtcbiAgICBsZXQgZSA9IGF3YWl0IFdjKCk7XG4gICAgTG0oYXN5bmMgKHQpID0+IHtcbiAgICAgIGUgIT09IHQgJiYgKGUgPSB0LCB0ID8gYXdhaXQgdGhpcy50cmFuc3BvcnRPcGVuKCkuY2F0Y2goKGkpID0+IHRoaXMubG9nZ2VyLmVycm9yKGksIGk/Lm1lc3NhZ2UpKSA6ICh0aGlzLmhhc0V4cGVyaWVuY2VkTmV0d29ya0Rpc3J1cHRpb24gPSAhMCwgYXdhaXQgdGhpcy50cmFuc3BvcnREaXNjb25uZWN0KCksIHRoaXMudHJhbnNwb3J0RXhwbGljaXRseUNsb3NlZCA9ICExKSk7XG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgb25Qcm92aWRlckRpc2Nvbm5lY3QoKSB7XG4gICAgYXdhaXQgdGhpcy5zdWJzY3JpYmVyLnN0b3AoKSwgY2xlYXJUaW1lb3V0KHRoaXMucGluZ1RpbWVvdXQpLCB0aGlzLmV2ZW50cy5lbWl0KEV0LmRpc2Nvbm5lY3QpLCB0aGlzLmNvbm5lY3Rpb25BdHRlbXB0SW5Qcm9ncmVzcyA9ICExLCAhdGhpcy50cmFuc3BvcnRFeHBsaWNpdGx5Q2xvc2VkICYmICh0aGlzLnJlY29ubmVjdFRpbWVvdXQgfHwgdGhpcy5jb25uZWN0UHJvbWlzZSB8fCAodGhpcy5yZWNvbm5lY3RUaW1lb3V0ID0gc2V0VGltZW91dChhc3luYyAoKSA9PiB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5yZWNvbm5lY3RUaW1lb3V0KSwgYXdhaXQgdGhpcy50cmFuc3BvcnRPcGVuKCkuY2F0Y2goKGUpID0+IHRoaXMubG9nZ2VyLmVycm9yKGUsIGU/Lm1lc3NhZ2UpKTtcbiAgICB9LCBpZS50b01pbGlzZWNvbmRzKF8zKSkpKTtcbiAgfVxuICBpc0luaXRpYWxpemVkKCkge1xuICAgIGlmICghdGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgY29uc3QgeyBtZXNzYWdlOiBlIH0gPSBhZShcIk5PVF9JTklUSUFMSVpFRFwiLCB0aGlzLm5hbWUpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGUpO1xuICAgIH1cbiAgfVxuICBhc3luYyB0b0VzdGFibGlzaENvbm5lY3Rpb24oKSB7XG4gICAgYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCksICF0aGlzLmNvbm5lY3RlZCAmJiBhd2FpdCB0aGlzLnRyYW5zcG9ydE9wZW4oKTtcbiAgfVxufVxudmFyIFR3ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCB5aCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsIEN3ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSwgJHcgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLCBtaCA9IChyLCBlLCB0KSA9PiBlIGluIHIgPyBUdyhyLCBlLCB7IGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAsIHZhbHVlOiB0IH0pIDogcltlXSA9IHQsIHdoID0gKHIsIGUpID0+IHtcbiAgZm9yICh2YXIgdCBpbiBlIHx8IChlID0ge30pKVxuICAgIEN3LmNhbGwoZSwgdCkgJiYgbWgociwgdCwgZVt0XSk7XG4gIGlmICh5aClcbiAgICBmb3IgKHZhciB0IG9mIHloKGUpKVxuICAgICAgJHcuY2FsbChlLCB0KSAmJiBtaChyLCB0LCBlW3RdKTtcbiAgcmV0dXJuIHI7XG59O1xuY2xhc3MgUWkgZXh0ZW5kcyBmcCB7XG4gIGNvbnN0cnVjdG9yKGUsIHQsIGksIG4gPSBqciwgcyA9IHZvaWQgMCkge1xuICAgIHN1cGVyKGUsIHQsIGksIG4pLCB0aGlzLmNvcmUgPSBlLCB0aGlzLmxvZ2dlciA9IHQsIHRoaXMubmFtZSA9IGksIHRoaXMubWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSwgdGhpcy52ZXJzaW9uID0geDMsIHRoaXMuY2FjaGVkID0gW10sIHRoaXMuaW5pdGlhbGl6ZWQgPSAhMSwgdGhpcy5zdG9yYWdlUHJlZml4ID0ganIsIHRoaXMucmVjZW50bHlEZWxldGVkID0gW10sIHRoaXMucmVjZW50bHlEZWxldGVkTGltaXQgPSAyMDAsIHRoaXMuaW5pdCA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgfHwgKHRoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIiksIGF3YWl0IHRoaXMucmVzdG9yZSgpLCB0aGlzLmNhY2hlZC5mb3JFYWNoKChvKSA9PiB7XG4gICAgICAgIHRoaXMuZ2V0S2V5ICYmIG8gIT09IG51bGwgJiYgIXp0KG8pID8gdGhpcy5tYXAuc2V0KHRoaXMuZ2V0S2V5KG8pLCBvKSA6IGxtKG8pID8gdGhpcy5tYXAuc2V0KG8uaWQsIG8pIDogcG0obykgJiYgdGhpcy5tYXAuc2V0KG8udG9waWMsIG8pO1xuICAgICAgfSksIHRoaXMuY2FjaGVkID0gW10sIHRoaXMuaW5pdGlhbGl6ZWQgPSAhMCk7XG4gICAgfSwgdGhpcy5zZXQgPSBhc3luYyAobywgZikgPT4ge1xuICAgICAgdGhpcy5pc0luaXRpYWxpemVkKCksIHRoaXMubWFwLmhhcyhvKSA/IGF3YWl0IHRoaXMudXBkYXRlKG8sIGYpIDogKHRoaXMubG9nZ2VyLmRlYnVnKFwiU2V0dGluZyB2YWx1ZVwiKSwgdGhpcy5sb2dnZXIudHJhY2UoeyB0eXBlOiBcIm1ldGhvZFwiLCBtZXRob2Q6IFwic2V0XCIsIGtleTogbywgdmFsdWU6IGYgfSksIHRoaXMubWFwLnNldChvLCBmKSwgYXdhaXQgdGhpcy5wZXJzaXN0KCkpO1xuICAgIH0sIHRoaXMuZ2V0ID0gKG8pID0+ICh0aGlzLmlzSW5pdGlhbGl6ZWQoKSwgdGhpcy5sb2dnZXIuZGVidWcoXCJHZXR0aW5nIHZhbHVlXCIpLCB0aGlzLmxvZ2dlci50cmFjZSh7IHR5cGU6IFwibWV0aG9kXCIsIG1ldGhvZDogXCJnZXRcIiwga2V5OiBvIH0pLCB0aGlzLmdldERhdGEobykpLCB0aGlzLmdldEFsbCA9IChvKSA9PiAodGhpcy5pc0luaXRpYWxpemVkKCksIG8gPyB0aGlzLnZhbHVlcy5maWx0ZXIoKGYpID0+IE9iamVjdC5rZXlzKG8pLmV2ZXJ5KChoKSA9PiBmMyhmW2hdLCBvW2hdKSkpIDogdGhpcy52YWx1ZXMpLCB0aGlzLnVwZGF0ZSA9IGFzeW5jIChvLCBmKSA9PiB7XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKSwgdGhpcy5sb2dnZXIuZGVidWcoXCJVcGRhdGluZyB2YWx1ZVwiKSwgdGhpcy5sb2dnZXIudHJhY2UoeyB0eXBlOiBcIm1ldGhvZFwiLCBtZXRob2Q6IFwidXBkYXRlXCIsIGtleTogbywgdXBkYXRlOiBmIH0pO1xuICAgICAgY29uc3QgaCA9IHdoKHdoKHt9LCB0aGlzLmdldERhdGEobykpLCBmKTtcbiAgICAgIHRoaXMubWFwLnNldChvLCBoKSwgYXdhaXQgdGhpcy5wZXJzaXN0KCk7XG4gICAgfSwgdGhpcy5kZWxldGUgPSBhc3luYyAobywgZikgPT4ge1xuICAgICAgdGhpcy5pc0luaXRpYWxpemVkKCksIHRoaXMubWFwLmhhcyhvKSAmJiAodGhpcy5sb2dnZXIuZGVidWcoXCJEZWxldGluZyB2YWx1ZVwiKSwgdGhpcy5sb2dnZXIudHJhY2UoeyB0eXBlOiBcIm1ldGhvZFwiLCBtZXRob2Q6IFwiZGVsZXRlXCIsIGtleTogbywgcmVhc29uOiBmIH0pLCB0aGlzLm1hcC5kZWxldGUobyksIHRoaXMuYWRkVG9SZWNlbnRseURlbGV0ZWQobyksIGF3YWl0IHRoaXMucGVyc2lzdCgpKTtcbiAgICB9LCB0aGlzLmxvZ2dlciA9IGt0KHQsIHRoaXMubmFtZSksIHRoaXMuc3RvcmFnZVByZWZpeCA9IG4sIHRoaXMuZ2V0S2V5ID0gcztcbiAgfVxuICBnZXQgY29udGV4dCgpIHtcbiAgICByZXR1cm4gWnQodGhpcy5sb2dnZXIpO1xuICB9XG4gIGdldCBzdG9yYWdlS2V5KCkge1xuICAgIHJldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXggKyB0aGlzLnZlcnNpb24gKyB0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCArIFwiLy9cIiArIHRoaXMubmFtZTtcbiAgfVxuICBnZXQgbGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLm1hcC5zaXplO1xuICB9XG4gIGdldCBrZXlzKCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMubWFwLmtleXMoKSk7XG4gIH1cbiAgZ2V0IHZhbHVlcygpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLm1hcC52YWx1ZXMoKSk7XG4gIH1cbiAgYWRkVG9SZWNlbnRseURlbGV0ZWQoZSkge1xuICAgIHRoaXMucmVjZW50bHlEZWxldGVkLnB1c2goZSksIHRoaXMucmVjZW50bHlEZWxldGVkLmxlbmd0aCA+PSB0aGlzLnJlY2VudGx5RGVsZXRlZExpbWl0ICYmIHRoaXMucmVjZW50bHlEZWxldGVkLnNwbGljZSgwLCB0aGlzLnJlY2VudGx5RGVsZXRlZExpbWl0IC8gMik7XG4gIH1cbiAgYXN5bmMgc2V0RGF0YVN0b3JlKGUpIHtcbiAgICBhd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSwgZSk7XG4gIH1cbiAgYXN5bmMgZ2V0RGF0YVN0b3JlKCkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSk7XG4gIH1cbiAgZ2V0RGF0YShlKSB7XG4gICAgY29uc3QgdCA9IHRoaXMubWFwLmdldChlKTtcbiAgICBpZiAoIXQpIHtcbiAgICAgIGlmICh0aGlzLnJlY2VudGx5RGVsZXRlZC5pbmNsdWRlcyhlKSkge1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2U6IG4gfSA9IGFlKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsIGBSZWNvcmQgd2FzIHJlY2VudGx5IGRlbGV0ZWQgLSAke3RoaXMubmFtZX06ICR7ZX1gKTtcbiAgICAgICAgdGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IobiksIG5ldyBFcnJvcihuKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgbWVzc2FnZTogaSB9ID0gYWUoXCJOT19NQVRDSElOR19LRVlcIiwgYCR7dGhpcy5uYW1lfTogJHtlfWApO1xuICAgICAgdGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IoaSksIG5ldyBFcnJvcihpKTtcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG4gIH1cbiAgYXN5bmMgcGVyc2lzdCgpIHtcbiAgICBhd2FpdCB0aGlzLnNldERhdGFTdG9yZSh0aGlzLnZhbHVlcyk7XG4gIH1cbiAgYXN5bmMgcmVzdG9yZSgpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZSA9IGF3YWl0IHRoaXMuZ2V0RGF0YVN0b3JlKCk7XG4gICAgICBpZiAodHlwZW9mIGUgPiBcInVcIiB8fCAhZS5sZW5ndGgpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGlmICh0aGlzLm1hcC5zaXplKSB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZTogdCB9ID0gYWUoXCJSRVNUT1JFX1dJTExfT1ZFUlJJREVcIiwgdGhpcy5uYW1lKTtcbiAgICAgICAgdGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodCksIG5ldyBFcnJvcih0KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2FjaGVkID0gZSwgdGhpcy5sb2dnZXIuZGVidWcoYFN1Y2Nlc3NmdWxseSBSZXN0b3JlZCB2YWx1ZSBmb3IgJHt0aGlzLm5hbWV9YCksIHRoaXMubG9nZ2VyLnRyYWNlKHsgdHlwZTogXCJtZXRob2RcIiwgbWV0aG9kOiBcInJlc3RvcmVcIiwgdmFsdWU6IHRoaXMudmFsdWVzIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBGYWlsZWQgdG8gUmVzdG9yZSB2YWx1ZSBmb3IgJHt0aGlzLm5hbWV9YCksIHRoaXMubG9nZ2VyLmVycm9yKGUpO1xuICAgIH1cbiAgfVxuICBpc0luaXRpYWxpemVkKCkge1xuICAgIGlmICghdGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgY29uc3QgeyBtZXNzYWdlOiBlIH0gPSBhZShcIk5PVF9JTklUSUFMSVpFRFwiLCB0aGlzLm5hbWUpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGUpO1xuICAgIH1cbiAgfVxufVxuY2xhc3MgTHcge1xuICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgdGhpcy5jb3JlID0gZSwgdGhpcy5sb2dnZXIgPSB0LCB0aGlzLm5hbWUgPSBBMywgdGhpcy52ZXJzaW9uID0gRDMsIHRoaXMuZXZlbnRzID0gbmV3IHpoKCksIHRoaXMuaW5pdGlhbGl6ZWQgPSAhMSwgdGhpcy5zdG9yYWdlUHJlZml4ID0ganIsIHRoaXMuaWdub3JlZFBheWxvYWRUeXBlcyA9IFtoaV0sIHRoaXMucmVnaXN0ZXJlZE1ldGhvZHMgPSBbXSwgdGhpcy5pbml0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdGhpcy5pbml0aWFsaXplZCB8fCAoYXdhaXQgdGhpcy5wYWlyaW5ncy5pbml0KCksIGF3YWl0IHRoaXMuY2xlYW51cCgpLCB0aGlzLnJlZ2lzdGVyUmVsYXllckV2ZW50cygpLCB0aGlzLnJlZ2lzdGVyRXhwaXJlckV2ZW50cygpLCB0aGlzLmluaXRpYWxpemVkID0gITAsIHRoaXMubG9nZ2VyLnRyYWNlKFwiSW5pdGlhbGl6ZWRcIikpO1xuICAgIH0sIHRoaXMucmVnaXN0ZXIgPSAoeyBtZXRob2RzOiBpIH0pID0+IHtcbiAgICAgIHRoaXMuaXNJbml0aWFsaXplZCgpLCB0aGlzLnJlZ2lzdGVyZWRNZXRob2RzID0gWy4uLi8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFsuLi50aGlzLnJlZ2lzdGVyZWRNZXRob2RzLCAuLi5pXSldO1xuICAgIH0sIHRoaXMuY3JlYXRlID0gYXN5bmMgKGkpID0+IHtcbiAgICAgIHRoaXMuaXNJbml0aWFsaXplZCgpO1xuICAgICAgY29uc3QgbiA9IEFvKCksIHMgPSBhd2FpdCB0aGlzLmNvcmUuY3J5cHRvLnNldFN5bUtleShuKSwgbyA9IG10KGllLkZJVkVfTUlOVVRFUyksIGYgPSB7IHByb3RvY29sOiBNZCB9LCBoID0geyB0b3BpYzogcywgZXhwaXJ5OiBvLCByZWxheTogZiwgYWN0aXZlOiAhMSwgbWV0aG9kczogaT8ubWV0aG9kcyB9LCBkID0gQmMoeyBwcm90b2NvbDogdGhpcy5jb3JlLnByb3RvY29sLCB2ZXJzaW9uOiB0aGlzLmNvcmUudmVyc2lvbiwgdG9waWM6IHMsIHN5bUtleTogbiwgcmVsYXk6IGYsIGV4cGlyeVRpbWVzdGFtcDogbywgbWV0aG9kczogaT8ubWV0aG9kcyB9KTtcbiAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5lbWl0KHFpLmNyZWF0ZSwgaCksIHRoaXMuY29yZS5leHBpcmVyLnNldChzLCBvKSwgYXdhaXQgdGhpcy5wYWlyaW5ncy5zZXQocywgaCksIGF3YWl0IHRoaXMuY29yZS5yZWxheWVyLnN1YnNjcmliZShzLCB7IHRyYW5zcG9ydFR5cGU6IGk/LnRyYW5zcG9ydFR5cGUgfSksIHsgdG9waWM6IHMsIHVyaTogZCB9O1xuICAgIH0sIHRoaXMucGFpciA9IGFzeW5jIChpKSA9PiB7XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKTtcbiAgICAgIGNvbnN0IG4gPSB0aGlzLmNvcmUuZXZlbnRDbGllbnQuY3JlYXRlRXZlbnQoeyBwcm9wZXJ0aWVzOiB7IHRvcGljOiBpPy51cmksIHRyYWNlOiBbT3IucGFpcmluZ19zdGFydGVkXSB9IH0pO1xuICAgICAgdGhpcy5pc1ZhbGlkUGFpcihpLCBuKTtcbiAgICAgIGNvbnN0IHsgdG9waWM6IHMsIHN5bUtleTogbywgcmVsYXk6IGYsIGV4cGlyeVRpbWVzdGFtcDogaCwgbWV0aG9kczogZCB9ID0gemMoaS51cmkpO1xuICAgICAgbi5wcm9wcy5wcm9wZXJ0aWVzLnRvcGljID0gcywgbi5hZGRUcmFjZShPci5wYWlyaW5nX3VyaV92YWxpZGF0aW9uX3N1Y2Nlc3MpLCBuLmFkZFRyYWNlKE9yLnBhaXJpbmdfdXJpX25vdF9leHBpcmVkKTtcbiAgICAgIGxldCB2O1xuICAgICAgaWYgKHRoaXMucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyhzKSkge1xuICAgICAgICBpZiAodiA9IHRoaXMucGFpcmluZ3MuZ2V0KHMpLCBuLmFkZFRyYWNlKE9yLmV4aXN0aW5nX3BhaXJpbmcpLCB2LmFjdGl2ZSlcbiAgICAgICAgICB0aHJvdyBuLnNldEVycm9yKGFpLmFjdGl2ZV9wYWlyaW5nX2FscmVhZHlfZXhpc3RzKSwgbmV3IEVycm9yKGBQYWlyaW5nIGFscmVhZHkgZXhpc3RzOiAke3N9LiBQbGVhc2UgdHJ5IGFnYWluIHdpdGggYSBuZXcgY29ubmVjdGlvbiBVUkkuYCk7XG4gICAgICAgIG4uYWRkVHJhY2UoT3IucGFpcmluZ19ub3RfZXhwaXJlZCk7XG4gICAgICB9XG4gICAgICBjb25zdCB3ID0gaCB8fCBtdChpZS5GSVZFX01JTlVURVMpLCBBID0geyB0b3BpYzogcywgcmVsYXk6IGYsIGV4cGlyeTogdywgYWN0aXZlOiAhMSwgbWV0aG9kczogZCB9O1xuICAgICAgdGhpcy5jb3JlLmV4cGlyZXIuc2V0KHMsIHcpLCBhd2FpdCB0aGlzLnBhaXJpbmdzLnNldChzLCBBKSwgbi5hZGRUcmFjZShPci5zdG9yZV9uZXdfcGFpcmluZyksIGkuYWN0aXZhdGVQYWlyaW5nICYmIGF3YWl0IHRoaXMuYWN0aXZhdGUoeyB0b3BpYzogcyB9KSwgdGhpcy5ldmVudHMuZW1pdChxaS5jcmVhdGUsIEEpLCBuLmFkZFRyYWNlKE9yLmVtaXRfaW5hY3RpdmVfcGFpcmluZyksIHRoaXMuY29yZS5jcnlwdG8ua2V5Y2hhaW4uaGFzKHMpIHx8IGF3YWl0IHRoaXMuY29yZS5jcnlwdG8uc2V0U3ltS2V5KG8sIHMpLCBuLmFkZFRyYWNlKE9yLnN1YnNjcmliaW5nX3BhaXJpbmdfdG9waWMpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5jb3JlLnJlbGF5ZXIuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO1xuICAgICAgfSBjYXRjaCB7XG4gICAgICAgIG4uc2V0RXJyb3IoYWkubm9faW50ZXJuZXRfY29ubmVjdGlvbik7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLmNvcmUucmVsYXllci5zdWJzY3JpYmUocywgeyByZWxheTogZiB9KTtcbiAgICAgIH0gY2F0Y2ggKEkpIHtcbiAgICAgICAgdGhyb3cgbi5zZXRFcnJvcihhaS5zdWJzY3JpYmVfcGFpcmluZ190b3BpY19mYWlsdXJlKSwgSTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuLmFkZFRyYWNlKE9yLnN1YnNjcmliZV9wYWlyaW5nX3RvcGljX3N1Y2Nlc3MpLCBBO1xuICAgIH0sIHRoaXMuYWN0aXZhdGUgPSBhc3luYyAoeyB0b3BpYzogaSB9KSA9PiB7XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKTtcbiAgICAgIGNvbnN0IG4gPSBtdChpZS5USElSVFlfREFZUyk7XG4gICAgICB0aGlzLmNvcmUuZXhwaXJlci5zZXQoaSwgbiksIGF3YWl0IHRoaXMucGFpcmluZ3MudXBkYXRlKGksIHsgYWN0aXZlOiAhMCwgZXhwaXJ5OiBuIH0pO1xuICAgIH0sIHRoaXMucGluZyA9IGFzeW5jIChpKSA9PiB7XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKSwgYXdhaXQgdGhpcy5pc1ZhbGlkUGluZyhpKTtcbiAgICAgIGNvbnN0IHsgdG9waWM6IG4gfSA9IGk7XG4gICAgICBpZiAodGhpcy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKG4pKSB7XG4gICAgICAgIGNvbnN0IHMgPSBhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KG4sIFwid2NfcGFpcmluZ1BpbmdcIiwge30pLCB7IGRvbmU6IG8sIHJlc29sdmU6IGYsIHJlamVjdDogaCB9ID0gTGkoKTtcbiAgICAgICAgdGhpcy5ldmVudHMub25jZShYZShcInBhaXJpbmdfcGluZ1wiLCBzKSwgKHsgZXJyb3I6IGQgfSkgPT4ge1xuICAgICAgICAgIGQgPyBoKGQpIDogZigpO1xuICAgICAgICB9KSwgYXdhaXQgbygpO1xuICAgICAgfVxuICAgIH0sIHRoaXMudXBkYXRlRXhwaXJ5ID0gYXN5bmMgKHsgdG9waWM6IGksIGV4cGlyeTogbiB9KSA9PiB7XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKSwgYXdhaXQgdGhpcy5wYWlyaW5ncy51cGRhdGUoaSwgeyBleHBpcnk6IG4gfSk7XG4gICAgfSwgdGhpcy51cGRhdGVNZXRhZGF0YSA9IGFzeW5jICh7IHRvcGljOiBpLCBtZXRhZGF0YTogbiB9KSA9PiB7XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKSwgYXdhaXQgdGhpcy5wYWlyaW5ncy51cGRhdGUoaSwgeyBwZWVyTWV0YWRhdGE6IG4gfSk7XG4gICAgfSwgdGhpcy5nZXRQYWlyaW5ncyA9ICgpID0+ICh0aGlzLmlzSW5pdGlhbGl6ZWQoKSwgdGhpcy5wYWlyaW5ncy52YWx1ZXMpLCB0aGlzLmRpc2Nvbm5lY3QgPSBhc3luYyAoaSkgPT4ge1xuICAgICAgdGhpcy5pc0luaXRpYWxpemVkKCksIGF3YWl0IHRoaXMuaXNWYWxpZERpc2Nvbm5lY3QoaSk7XG4gICAgICBjb25zdCB7IHRvcGljOiBuIH0gPSBpO1xuICAgICAgdGhpcy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKG4pICYmIChhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KG4sIFwid2NfcGFpcmluZ0RlbGV0ZVwiLCBzdChcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSwgYXdhaXQgdGhpcy5kZWxldGVQYWlyaW5nKG4pKTtcbiAgICB9LCB0aGlzLmZvcm1hdFVyaUZyb21QYWlyaW5nID0gKGkpID0+IHtcbiAgICAgIHRoaXMuaXNJbml0aWFsaXplZCgpO1xuICAgICAgY29uc3QgeyB0b3BpYzogbiwgcmVsYXk6IHMsIGV4cGlyeTogbywgbWV0aG9kczogZiB9ID0gaSwgaCA9IHRoaXMuY29yZS5jcnlwdG8ua2V5Y2hhaW4uZ2V0KG4pO1xuICAgICAgcmV0dXJuIEJjKHsgcHJvdG9jb2w6IHRoaXMuY29yZS5wcm90b2NvbCwgdmVyc2lvbjogdGhpcy5jb3JlLnZlcnNpb24sIHRvcGljOiBuLCBzeW1LZXk6IGgsIHJlbGF5OiBzLCBleHBpcnlUaW1lc3RhbXA6IG8sIG1ldGhvZHM6IGYgfSk7XG4gICAgfSwgdGhpcy5zZW5kUmVxdWVzdCA9IGFzeW5jIChpLCBuLCBzKSA9PiB7XG4gICAgICBjb25zdCBvID0gQmkobiwgcyksIGYgPSBhd2FpdCB0aGlzLmNvcmUuY3J5cHRvLmVuY29kZShpLCBvKSwgaCA9IHFuW25dLnJlcTtcbiAgICAgIHJldHVybiB0aGlzLmNvcmUuaGlzdG9yeS5zZXQoaSwgbyksIHRoaXMuY29yZS5yZWxheWVyLnB1Ymxpc2goaSwgZiwgaCksIG8uaWQ7XG4gICAgfSwgdGhpcy5zZW5kUmVzdWx0ID0gYXN5bmMgKGksIG4sIHMpID0+IHtcbiAgICAgIGNvbnN0IG8gPSBNYShpLCBzKSwgZiA9IGF3YWl0IHRoaXMuY29yZS5jcnlwdG8uZW5jb2RlKG4sIG8pLCBoID0gYXdhaXQgdGhpcy5jb3JlLmhpc3RvcnkuZ2V0KG4sIGkpLCBkID0gcW5baC5yZXF1ZXN0Lm1ldGhvZF0ucmVzO1xuICAgICAgYXdhaXQgdGhpcy5jb3JlLnJlbGF5ZXIucHVibGlzaChuLCBmLCBkKSwgYXdhaXQgdGhpcy5jb3JlLmhpc3RvcnkucmVzb2x2ZShvKTtcbiAgICB9LCB0aGlzLnNlbmRFcnJvciA9IGFzeW5jIChpLCBuLCBzKSA9PiB7XG4gICAgICBjb25zdCBvID0gSWEoaSwgcyksIGYgPSBhd2FpdCB0aGlzLmNvcmUuY3J5cHRvLmVuY29kZShuLCBvKSwgaCA9IGF3YWl0IHRoaXMuY29yZS5oaXN0b3J5LmdldChuLCBpKSwgZCA9IHFuW2gucmVxdWVzdC5tZXRob2RdID8gcW5baC5yZXF1ZXN0Lm1ldGhvZF0ucmVzIDogcW4udW5yZWdpc3RlcmVkX21ldGhvZC5yZXM7XG4gICAgICBhd2FpdCB0aGlzLmNvcmUucmVsYXllci5wdWJsaXNoKG4sIGYsIGQpLCBhd2FpdCB0aGlzLmNvcmUuaGlzdG9yeS5yZXNvbHZlKG8pO1xuICAgIH0sIHRoaXMuZGVsZXRlUGFpcmluZyA9IGFzeW5jIChpLCBuKSA9PiB7XG4gICAgICBhd2FpdCB0aGlzLmNvcmUucmVsYXllci51bnN1YnNjcmliZShpKSwgYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMucGFpcmluZ3MuZGVsZXRlKGksIHN0KFwiVVNFUl9ESVNDT05ORUNURURcIikpLCB0aGlzLmNvcmUuY3J5cHRvLmRlbGV0ZVN5bUtleShpKSwgbiA/IFByb21pc2UucmVzb2x2ZSgpIDogdGhpcy5jb3JlLmV4cGlyZXIuZGVsKGkpXSk7XG4gICAgfSwgdGhpcy5jbGVhbnVwID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaSA9IHRoaXMucGFpcmluZ3MuZ2V0QWxsKCkuZmlsdGVyKChuKSA9PiBnaShuLmV4cGlyeSkpO1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoaS5tYXAoKG4pID0+IHRoaXMuZGVsZXRlUGFpcmluZyhuLnRvcGljKSkpO1xuICAgIH0sIHRoaXMub25SZWxheUV2ZW50UmVxdWVzdCA9IChpKSA9PiB7XG4gICAgICBjb25zdCB7IHRvcGljOiBuLCBwYXlsb2FkOiBzIH0gPSBpO1xuICAgICAgc3dpdGNoIChzLm1ldGhvZCkge1xuICAgICAgICBjYXNlIFwid2NfcGFpcmluZ1BpbmdcIjpcbiAgICAgICAgICByZXR1cm4gdGhpcy5vblBhaXJpbmdQaW5nUmVxdWVzdChuLCBzKTtcbiAgICAgICAgY2FzZSBcIndjX3BhaXJpbmdEZWxldGVcIjpcbiAgICAgICAgICByZXR1cm4gdGhpcy5vblBhaXJpbmdEZWxldGVSZXF1ZXN0KG4sIHMpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiB0aGlzLm9uVW5rbm93blJwY01ldGhvZFJlcXVlc3Qobiwgcyk7XG4gICAgICB9XG4gICAgfSwgdGhpcy5vblJlbGF5RXZlbnRSZXNwb25zZSA9IGFzeW5jIChpKSA9PiB7XG4gICAgICBjb25zdCB7IHRvcGljOiBuLCBwYXlsb2FkOiBzIH0gPSBpLCBvID0gKGF3YWl0IHRoaXMuY29yZS5oaXN0b3J5LmdldChuLCBzLmlkKSkucmVxdWVzdC5tZXRob2Q7XG4gICAgICBzd2l0Y2ggKG8pIHtcbiAgICAgICAgY2FzZSBcIndjX3BhaXJpbmdQaW5nXCI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMub25QYWlyaW5nUGluZ1Jlc3BvbnNlKG4sIHMpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiB0aGlzLm9uVW5rbm93blJwY01ldGhvZFJlc3BvbnNlKG8pO1xuICAgICAgfVxuICAgIH0sIHRoaXMub25QYWlyaW5nUGluZ1JlcXVlc3QgPSBhc3luYyAoaSwgbikgPT4ge1xuICAgICAgY29uc3QgeyBpZDogcyB9ID0gbjtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuaXNWYWxpZFBpbmcoeyB0b3BpYzogaSB9KSwgYXdhaXQgdGhpcy5zZW5kUmVzdWx0KHMsIGksICEwKSwgdGhpcy5ldmVudHMuZW1pdChxaS5waW5nLCB7IGlkOiBzLCB0b3BpYzogaSB9KTtcbiAgICAgIH0gY2F0Y2ggKG8pIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zZW5kRXJyb3IocywgaSwgbyksIHRoaXMubG9nZ2VyLmVycm9yKG8pO1xuICAgICAgfVxuICAgIH0sIHRoaXMub25QYWlyaW5nUGluZ1Jlc3BvbnNlID0gKGksIG4pID0+IHtcbiAgICAgIGNvbnN0IHsgaWQ6IHMgfSA9IG47XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgUnIobikgPyB0aGlzLmV2ZW50cy5lbWl0KFhlKFwicGFpcmluZ19waW5nXCIsIHMpLCB7fSkgOiBkcihuKSAmJiB0aGlzLmV2ZW50cy5lbWl0KFhlKFwicGFpcmluZ19waW5nXCIsIHMpLCB7IGVycm9yOiBuLmVycm9yIH0pO1xuICAgICAgfSwgNTAwKTtcbiAgICB9LCB0aGlzLm9uUGFpcmluZ0RlbGV0ZVJlcXVlc3QgPSBhc3luYyAoaSwgbikgPT4ge1xuICAgICAgY29uc3QgeyBpZDogcyB9ID0gbjtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuaXNWYWxpZERpc2Nvbm5lY3QoeyB0b3BpYzogaSB9KSwgYXdhaXQgdGhpcy5kZWxldGVQYWlyaW5nKGkpLCB0aGlzLmV2ZW50cy5lbWl0KHFpLmRlbGV0ZSwgeyBpZDogcywgdG9waWM6IGkgfSk7XG4gICAgICB9IGNhdGNoIChvKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2VuZEVycm9yKHMsIGksIG8pLCB0aGlzLmxvZ2dlci5lcnJvcihvKTtcbiAgICAgIH1cbiAgICB9LCB0aGlzLm9uVW5rbm93blJwY01ldGhvZFJlcXVlc3QgPSBhc3luYyAoaSwgbikgPT4ge1xuICAgICAgY29uc3QgeyBpZDogcywgbWV0aG9kOiBvIH0gPSBuO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHRoaXMucmVnaXN0ZXJlZE1ldGhvZHMuaW5jbHVkZXMobykpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBmID0gc3QoXCJXQ19NRVRIT0RfVU5TVVBQT1JURURcIiwgbyk7XG4gICAgICAgIGF3YWl0IHRoaXMuc2VuZEVycm9yKHMsIGksIGYpLCB0aGlzLmxvZ2dlci5lcnJvcihmKTtcbiAgICAgIH0gY2F0Y2ggKGYpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zZW5kRXJyb3IocywgaSwgZiksIHRoaXMubG9nZ2VyLmVycm9yKGYpO1xuICAgICAgfVxuICAgIH0sIHRoaXMub25Vbmtub3duUnBjTWV0aG9kUmVzcG9uc2UgPSAoaSkgPT4ge1xuICAgICAgdGhpcy5yZWdpc3RlcmVkTWV0aG9kcy5pbmNsdWRlcyhpKSB8fCB0aGlzLmxvZ2dlci5lcnJvcihzdChcIldDX01FVEhPRF9VTlNVUFBPUlRFRFwiLCBpKSk7XG4gICAgfSwgdGhpcy5pc1ZhbGlkUGFpciA9IChpLCBuKSA9PiB7XG4gICAgICB2YXIgcztcbiAgICAgIGlmICghR3QoaSkpIHtcbiAgICAgICAgY29uc3QgeyBtZXNzYWdlOiBmIH0gPSBhZShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLCBgcGFpcigpIHBhcmFtczogJHtpfWApO1xuICAgICAgICB0aHJvdyBuLnNldEVycm9yKGFpLm1hbGZvcm1lZF9wYWlyaW5nX3VyaSksIG5ldyBFcnJvcihmKTtcbiAgICAgIH1cbiAgICAgIGlmICghZG0oaS51cmkpKSB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZTogZiB9ID0gYWUoXCJNSVNTSU5HX09SX0lOVkFMSURcIiwgYHBhaXIoKSB1cmk6ICR7aS51cml9YCk7XG4gICAgICAgIHRocm93IG4uc2V0RXJyb3IoYWkubWFsZm9ybWVkX3BhaXJpbmdfdXJpKSwgbmV3IEVycm9yKGYpO1xuICAgICAgfVxuICAgICAgY29uc3QgbyA9IHpjKGk/LnVyaSk7XG4gICAgICBpZiAoISgocyA9IG8/LnJlbGF5KSAhPSBudWxsICYmIHMucHJvdG9jb2wpKSB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZTogZiB9ID0gYWUoXCJNSVNTSU5HX09SX0lOVkFMSURcIiwgXCJwYWlyKCkgdXJpI3JlbGF5LXByb3RvY29sXCIpO1xuICAgICAgICB0aHJvdyBuLnNldEVycm9yKGFpLm1hbGZvcm1lZF9wYWlyaW5nX3VyaSksIG5ldyBFcnJvcihmKTtcbiAgICAgIH1cbiAgICAgIGlmICghKG8gIT0gbnVsbCAmJiBvLnN5bUtleSkpIHtcbiAgICAgICAgY29uc3QgeyBtZXNzYWdlOiBmIH0gPSBhZShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLCBcInBhaXIoKSB1cmkjc3ltS2V5XCIpO1xuICAgICAgICB0aHJvdyBuLnNldEVycm9yKGFpLm1hbGZvcm1lZF9wYWlyaW5nX3VyaSksIG5ldyBFcnJvcihmKTtcbiAgICAgIH1cbiAgICAgIGlmIChvICE9IG51bGwgJiYgby5leHBpcnlUaW1lc3RhbXAgJiYgaWUudG9NaWxpc2Vjb25kcyhvPy5leHBpcnlUaW1lc3RhbXApIDwgRGF0ZS5ub3coKSkge1xuICAgICAgICBuLnNldEVycm9yKGFpLnBhaXJpbmdfZXhwaXJlZCk7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZTogZiB9ID0gYWUoXCJFWFBJUkVEXCIsIFwicGFpcigpIFVSSSBoYXMgZXhwaXJlZC4gUGxlYXNlIHRyeSBhZ2FpbiB3aXRoIGEgbmV3IGNvbm5lY3Rpb24gVVJJLlwiKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGYpO1xuICAgICAgfVxuICAgIH0sIHRoaXMuaXNWYWxpZFBpbmcgPSBhc3luYyAoaSkgPT4ge1xuICAgICAgaWYgKCFHdChpKSkge1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2U6IHMgfSA9IGFlKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsIGBwaW5nKCkgcGFyYW1zOiAke2l9YCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihzKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgdG9waWM6IG4gfSA9IGk7XG4gICAgICBhd2FpdCB0aGlzLmlzVmFsaWRQYWlyaW5nVG9waWMobik7XG4gICAgfSwgdGhpcy5pc1ZhbGlkRGlzY29ubmVjdCA9IGFzeW5jIChpKSA9PiB7XG4gICAgICBpZiAoIUd0KGkpKSB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZTogcyB9ID0gYWUoXCJNSVNTSU5HX09SX0lOVkFMSURcIiwgYGRpc2Nvbm5lY3QoKSBwYXJhbXM6ICR7aX1gKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKHMpO1xuICAgICAgfVxuICAgICAgY29uc3QgeyB0b3BpYzogbiB9ID0gaTtcbiAgICAgIGF3YWl0IHRoaXMuaXNWYWxpZFBhaXJpbmdUb3BpYyhuKTtcbiAgICB9LCB0aGlzLmlzVmFsaWRQYWlyaW5nVG9waWMgPSBhc3luYyAoaSkgPT4ge1xuICAgICAgaWYgKCFidChpLCAhMSkpIHtcbiAgICAgICAgY29uc3QgeyBtZXNzYWdlOiBuIH0gPSBhZShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLCBgcGFpcmluZyB0b3BpYyBzaG91bGQgYmUgYSBzdHJpbmc6ICR7aX1gKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG4pO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMoaSkpIHtcbiAgICAgICAgY29uc3QgeyBtZXNzYWdlOiBuIH0gPSBhZShcIk5PX01BVENISU5HX0tFWVwiLCBgcGFpcmluZyB0b3BpYyBkb2Vzbid0IGV4aXN0OiAke2l9YCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihuKTtcbiAgICAgIH1cbiAgICAgIGlmIChnaSh0aGlzLnBhaXJpbmdzLmdldChpKS5leHBpcnkpKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZGVsZXRlUGFpcmluZyhpKTtcbiAgICAgICAgY29uc3QgeyBtZXNzYWdlOiBuIH0gPSBhZShcIkVYUElSRURcIiwgYHBhaXJpbmcgdG9waWM6ICR7aX1gKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG4pO1xuICAgICAgfVxuICAgIH0sIHRoaXMuY29yZSA9IGUsIHRoaXMubG9nZ2VyID0ga3QodCwgdGhpcy5uYW1lKSwgdGhpcy5wYWlyaW5ncyA9IG5ldyBRaSh0aGlzLmNvcmUsIHRoaXMubG9nZ2VyLCB0aGlzLm5hbWUsIHRoaXMuc3RvcmFnZVByZWZpeCk7XG4gIH1cbiAgZ2V0IGNvbnRleHQoKSB7XG4gICAgcmV0dXJuIFp0KHRoaXMubG9nZ2VyKTtcbiAgfVxuICBpc0luaXRpYWxpemVkKCkge1xuICAgIGlmICghdGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgY29uc3QgeyBtZXNzYWdlOiBlIH0gPSBhZShcIk5PVF9JTklUSUFMSVpFRFwiLCB0aGlzLm5hbWUpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGUpO1xuICAgIH1cbiAgfVxuICByZWdpc3RlclJlbGF5ZXJFdmVudHMoKSB7XG4gICAgdGhpcy5jb3JlLnJlbGF5ZXIub24oRXQubWVzc2FnZSwgYXN5bmMgKGUpID0+IHtcbiAgICAgIGNvbnN0IHsgdG9waWM6IHQsIG1lc3NhZ2U6IGksIHRyYW5zcG9ydFR5cGU6IG4gfSA9IGU7XG4gICAgICBpZiAoIXRoaXMucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyh0KSB8fCBuID09PSBhdC5saW5rX21vZGUgfHwgdGhpcy5pZ25vcmVkUGF5bG9hZFR5cGVzLmluY2x1ZGVzKHRoaXMuY29yZS5jcnlwdG8uZ2V0UGF5bG9hZFR5cGUoaSkpKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBzID0gYXdhaXQgdGhpcy5jb3JlLmNyeXB0by5kZWNvZGUodCwgaSk7XG4gICAgICB0cnkge1xuICAgICAgICBmZihzKSA/ICh0aGlzLmNvcmUuaGlzdG9yeS5zZXQodCwgcyksIHRoaXMub25SZWxheUV2ZW50UmVxdWVzdCh7IHRvcGljOiB0LCBwYXlsb2FkOiBzIH0pKSA6IEFhKHMpICYmIChhd2FpdCB0aGlzLmNvcmUuaGlzdG9yeS5yZXNvbHZlKHMpLCBhd2FpdCB0aGlzLm9uUmVsYXlFdmVudFJlc3BvbnNlKHsgdG9waWM6IHQsIHBheWxvYWQ6IHMgfSksIHRoaXMuY29yZS5oaXN0b3J5LmRlbGV0ZSh0LCBzLmlkKSk7XG4gICAgICB9IGNhdGNoIChvKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKG8pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJlZ2lzdGVyRXhwaXJlckV2ZW50cygpIHtcbiAgICB0aGlzLmNvcmUuZXhwaXJlci5vbih1ci5leHBpcmVkLCBhc3luYyAoZSkgPT4ge1xuICAgICAgY29uc3QgeyB0b3BpYzogdCB9ID0gYWQoZS50YXJnZXQpO1xuICAgICAgdCAmJiB0aGlzLnBhaXJpbmdzLmtleXMuaW5jbHVkZXModCkgJiYgKGF3YWl0IHRoaXMuZGVsZXRlUGFpcmluZyh0LCAhMCksIHRoaXMuZXZlbnRzLmVtaXQocWkuZXhwaXJlLCB7IHRvcGljOiB0IH0pKTtcbiAgICB9KTtcbiAgfVxufVxuY2xhc3MgRncgZXh0ZW5kcyBucCB7XG4gIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICBzdXBlcihlLCB0KSwgdGhpcy5jb3JlID0gZSwgdGhpcy5sb2dnZXIgPSB0LCB0aGlzLnJlY29yZHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCB0aGlzLmV2ZW50cyA9IG5ldyBpci5FdmVudEVtaXR0ZXIoKSwgdGhpcy5uYW1lID0gUDMsIHRoaXMudmVyc2lvbiA9IE8zLCB0aGlzLmNhY2hlZCA9IFtdLCB0aGlzLmluaXRpYWxpemVkID0gITEsIHRoaXMuc3RvcmFnZVByZWZpeCA9IGpyLCB0aGlzLmluaXQgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0aGlzLmluaXRpYWxpemVkIHx8ICh0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpLCBhd2FpdCB0aGlzLnJlc3RvcmUoKSwgdGhpcy5jYWNoZWQuZm9yRWFjaCgoaSkgPT4gdGhpcy5yZWNvcmRzLnNldChpLmlkLCBpKSksIHRoaXMuY2FjaGVkID0gW10sIHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpLCB0aGlzLmluaXRpYWxpemVkID0gITApO1xuICAgIH0sIHRoaXMuc2V0ID0gKGksIG4sIHMpID0+IHtcbiAgICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQoKSwgdGhpcy5sb2dnZXIuZGVidWcoXCJTZXR0aW5nIEpTT04tUlBDIHJlcXVlc3QgaGlzdG9yeSByZWNvcmRcIiksIHRoaXMubG9nZ2VyLnRyYWNlKHsgdHlwZTogXCJtZXRob2RcIiwgbWV0aG9kOiBcInNldFwiLCB0b3BpYzogaSwgcmVxdWVzdDogbiwgY2hhaW5JZDogcyB9KSwgdGhpcy5yZWNvcmRzLmhhcyhuLmlkKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgbyA9IHsgaWQ6IG4uaWQsIHRvcGljOiBpLCByZXF1ZXN0OiB7IG1ldGhvZDogbi5tZXRob2QsIHBhcmFtczogbi5wYXJhbXMgfHwgbnVsbCB9LCBjaGFpbklkOiBzLCBleHBpcnk6IG10KGllLlRISVJUWV9EQVlTKSB9O1xuICAgICAgdGhpcy5yZWNvcmRzLnNldChvLmlkLCBvKSwgdGhpcy5wZXJzaXN0KCksIHRoaXMuZXZlbnRzLmVtaXQoX3IuY3JlYXRlZCwgbyk7XG4gICAgfSwgdGhpcy5yZXNvbHZlID0gYXN5bmMgKGkpID0+IHtcbiAgICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQoKSwgdGhpcy5sb2dnZXIuZGVidWcoXCJVcGRhdGluZyBKU09OLVJQQyByZXNwb25zZSBoaXN0b3J5IHJlY29yZFwiKSwgdGhpcy5sb2dnZXIudHJhY2UoeyB0eXBlOiBcIm1ldGhvZFwiLCBtZXRob2Q6IFwidXBkYXRlXCIsIHJlc3BvbnNlOiBpIH0pLCAhdGhpcy5yZWNvcmRzLmhhcyhpLmlkKSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgbiA9IGF3YWl0IHRoaXMuZ2V0UmVjb3JkKGkuaWQpO1xuICAgICAgdHlwZW9mIG4ucmVzcG9uc2UgPiBcInVcIiAmJiAobi5yZXNwb25zZSA9IGRyKGkpID8geyBlcnJvcjogaS5lcnJvciB9IDogeyByZXN1bHQ6IGkucmVzdWx0IH0sIHRoaXMucmVjb3Jkcy5zZXQobi5pZCwgbiksIHRoaXMucGVyc2lzdCgpLCB0aGlzLmV2ZW50cy5lbWl0KF9yLnVwZGF0ZWQsIG4pKTtcbiAgICB9LCB0aGlzLmdldCA9IGFzeW5jIChpLCBuKSA9PiAodGhpcy5pc0luaXRpYWxpemVkKCksIHRoaXMubG9nZ2VyLmRlYnVnKFwiR2V0dGluZyByZWNvcmRcIiksIHRoaXMubG9nZ2VyLnRyYWNlKHsgdHlwZTogXCJtZXRob2RcIiwgbWV0aG9kOiBcImdldFwiLCB0b3BpYzogaSwgaWQ6IG4gfSksIGF3YWl0IHRoaXMuZ2V0UmVjb3JkKG4pKSwgdGhpcy5kZWxldGUgPSAoaSwgbikgPT4ge1xuICAgICAgdGhpcy5pc0luaXRpYWxpemVkKCksIHRoaXMubG9nZ2VyLmRlYnVnKFwiRGVsZXRpbmcgcmVjb3JkXCIpLCB0aGlzLmxvZ2dlci50cmFjZSh7IHR5cGU6IFwibWV0aG9kXCIsIG1ldGhvZDogXCJkZWxldGVcIiwgaWQ6IG4gfSksIHRoaXMudmFsdWVzLmZvckVhY2goKHMpID0+IHtcbiAgICAgICAgaWYgKHMudG9waWMgPT09IGkpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIG4gPCBcInVcIiAmJiBzLmlkICE9PSBuKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIHRoaXMucmVjb3Jkcy5kZWxldGUocy5pZCksIHRoaXMuZXZlbnRzLmVtaXQoX3IuZGVsZXRlZCwgcyk7XG4gICAgICAgIH1cbiAgICAgIH0pLCB0aGlzLnBlcnNpc3QoKTtcbiAgICB9LCB0aGlzLmV4aXN0cyA9IGFzeW5jIChpLCBuKSA9PiAodGhpcy5pc0luaXRpYWxpemVkKCksIHRoaXMucmVjb3Jkcy5oYXMobikgPyAoYXdhaXQgdGhpcy5nZXRSZWNvcmQobikpLnRvcGljID09PSBpIDogITEpLCB0aGlzLm9uID0gKGksIG4pID0+IHtcbiAgICAgIHRoaXMuZXZlbnRzLm9uKGksIG4pO1xuICAgIH0sIHRoaXMub25jZSA9IChpLCBuKSA9PiB7XG4gICAgICB0aGlzLmV2ZW50cy5vbmNlKGksIG4pO1xuICAgIH0sIHRoaXMub2ZmID0gKGksIG4pID0+IHtcbiAgICAgIHRoaXMuZXZlbnRzLm9mZihpLCBuKTtcbiAgICB9LCB0aGlzLnJlbW92ZUxpc3RlbmVyID0gKGksIG4pID0+IHtcbiAgICAgIHRoaXMuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKGksIG4pO1xuICAgIH0sIHRoaXMubG9nZ2VyID0ga3QodCwgdGhpcy5uYW1lKTtcbiAgfVxuICBnZXQgY29udGV4dCgpIHtcbiAgICByZXR1cm4gWnQodGhpcy5sb2dnZXIpO1xuICB9XG4gIGdldCBzdG9yYWdlS2V5KCkge1xuICAgIHJldHVybiB0aGlzLnN0b3JhZ2VQcmVmaXggKyB0aGlzLnZlcnNpb24gKyB0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCArIFwiLy9cIiArIHRoaXMubmFtZTtcbiAgfVxuICBnZXQgc2l6ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5yZWNvcmRzLnNpemU7XG4gIH1cbiAgZ2V0IGtleXMoKSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5yZWNvcmRzLmtleXMoKSk7XG4gIH1cbiAgZ2V0IHZhbHVlcygpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnJlY29yZHMudmFsdWVzKCkpO1xuICB9XG4gIGdldCBwZW5kaW5nKCkge1xuICAgIGNvbnN0IGUgPSBbXTtcbiAgICByZXR1cm4gdGhpcy52YWx1ZXMuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiB0LnJlc3BvbnNlIDwgXCJ1XCIpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IGkgPSB7IHRvcGljOiB0LnRvcGljLCByZXF1ZXN0OiBCaSh0LnJlcXVlc3QubWV0aG9kLCB0LnJlcXVlc3QucGFyYW1zLCB0LmlkKSwgY2hhaW5JZDogdC5jaGFpbklkIH07XG4gICAgICByZXR1cm4gZS5wdXNoKGkpO1xuICAgIH0pLCBlO1xuICB9XG4gIGFzeW5jIHNldEpzb25ScGNSZWNvcmRzKGUpIHtcbiAgICBhd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5zZXRJdGVtKHRoaXMuc3RvcmFnZUtleSwgZSk7XG4gIH1cbiAgYXN5bmMgZ2V0SnNvblJwY1JlY29yZHMoKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLmdldEl0ZW0odGhpcy5zdG9yYWdlS2V5KTtcbiAgfVxuICBnZXRSZWNvcmQoZSkge1xuICAgIHRoaXMuaXNJbml0aWFsaXplZCgpO1xuICAgIGNvbnN0IHQgPSB0aGlzLnJlY29yZHMuZ2V0KGUpO1xuICAgIGlmICghdCkge1xuICAgICAgY29uc3QgeyBtZXNzYWdlOiBpIH0gPSBhZShcIk5PX01BVENISU5HX0tFWVwiLCBgJHt0aGlzLm5hbWV9OiAke2V9YCk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoaSk7XG4gICAgfVxuICAgIHJldHVybiB0O1xuICB9XG4gIGFzeW5jIHBlcnNpc3QoKSB7XG4gICAgYXdhaXQgdGhpcy5zZXRKc29uUnBjUmVjb3Jkcyh0aGlzLnZhbHVlcyksIHRoaXMuZXZlbnRzLmVtaXQoX3Iuc3luYyk7XG4gIH1cbiAgYXN5bmMgcmVzdG9yZSgpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZSA9IGF3YWl0IHRoaXMuZ2V0SnNvblJwY1JlY29yZHMoKTtcbiAgICAgIGlmICh0eXBlb2YgZSA+IFwidVwiIHx8ICFlLmxlbmd0aClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgaWYgKHRoaXMucmVjb3Jkcy5zaXplKSB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZTogdCB9ID0gYWUoXCJSRVNUT1JFX1dJTExfT1ZFUlJJREVcIiwgdGhpcy5uYW1lKTtcbiAgICAgICAgdGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodCksIG5ldyBFcnJvcih0KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2FjaGVkID0gZSwgdGhpcy5sb2dnZXIuZGVidWcoYFN1Y2Nlc3NmdWxseSBSZXN0b3JlZCByZWNvcmRzIGZvciAke3RoaXMubmFtZX1gKSwgdGhpcy5sb2dnZXIudHJhY2UoeyB0eXBlOiBcIm1ldGhvZFwiLCBtZXRob2Q6IFwicmVzdG9yZVwiLCByZWNvcmRzOiB0aGlzLnZhbHVlcyB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhgRmFpbGVkIHRvIFJlc3RvcmUgcmVjb3JkcyBmb3IgJHt0aGlzLm5hbWV9YCksIHRoaXMubG9nZ2VyLmVycm9yKGUpO1xuICAgIH1cbiAgfVxuICByZWdpc3RlckV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuZXZlbnRzLm9uKF9yLmNyZWF0ZWQsIChlKSA9PiB7XG4gICAgICBjb25zdCB0ID0gX3IuY3JlYXRlZDtcbiAgICAgIHRoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7dH1gKSwgdGhpcy5sb2dnZXIuZGVidWcoeyB0eXBlOiBcImV2ZW50XCIsIGV2ZW50OiB0LCByZWNvcmQ6IGUgfSk7XG4gICAgfSksIHRoaXMuZXZlbnRzLm9uKF9yLnVwZGF0ZWQsIChlKSA9PiB7XG4gICAgICBjb25zdCB0ID0gX3IudXBkYXRlZDtcbiAgICAgIHRoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7dH1gKSwgdGhpcy5sb2dnZXIuZGVidWcoeyB0eXBlOiBcImV2ZW50XCIsIGV2ZW50OiB0LCByZWNvcmQ6IGUgfSk7XG4gICAgfSksIHRoaXMuZXZlbnRzLm9uKF9yLmRlbGV0ZWQsIChlKSA9PiB7XG4gICAgICBjb25zdCB0ID0gX3IuZGVsZXRlZDtcbiAgICAgIHRoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7dH1gKSwgdGhpcy5sb2dnZXIuZGVidWcoeyB0eXBlOiBcImV2ZW50XCIsIGV2ZW50OiB0LCByZWNvcmQ6IGUgfSk7XG4gICAgfSksIHRoaXMuY29yZS5oZWFydGJlYXQub24oZ24ucHVsc2UsICgpID0+IHtcbiAgICAgIHRoaXMuY2xlYW51cCgpO1xuICAgIH0pO1xuICB9XG4gIGNsZWFudXAoKSB7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMuaXNJbml0aWFsaXplZCgpO1xuICAgICAgbGV0IGUgPSAhMTtcbiAgICAgIHRoaXMucmVjb3Jkcy5mb3JFYWNoKCh0KSA9PiB7XG4gICAgICAgIGllLnRvTWlsaXNlY29uZHModC5leHBpcnkgfHwgMCkgLSBEYXRlLm5vdygpIDw9IDAgJiYgKHRoaXMubG9nZ2VyLmluZm8oYERlbGV0aW5nIGV4cGlyZWQgaGlzdG9yeSBsb2c6ICR7dC5pZH1gKSwgdGhpcy5yZWNvcmRzLmRlbGV0ZSh0LmlkKSwgdGhpcy5ldmVudHMuZW1pdChfci5kZWxldGVkLCB0LCAhMSksIGUgPSAhMCk7XG4gICAgICB9KSwgZSAmJiB0aGlzLnBlcnNpc3QoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aGlzLmxvZ2dlci53YXJuKGUpO1xuICAgIH1cbiAgfVxuICBpc0luaXRpYWxpemVkKCkge1xuICAgIGlmICghdGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgY29uc3QgeyBtZXNzYWdlOiBlIH0gPSBhZShcIk5PVF9JTklUSUFMSVpFRFwiLCB0aGlzLm5hbWUpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGUpO1xuICAgIH1cbiAgfVxufVxuY2xhc3MgcXcgZXh0ZW5kcyBocCB7XG4gIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICBzdXBlcihlLCB0KSwgdGhpcy5jb3JlID0gZSwgdGhpcy5sb2dnZXIgPSB0LCB0aGlzLmV4cGlyYXRpb25zID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSwgdGhpcy5ldmVudHMgPSBuZXcgaXIuRXZlbnRFbWl0dGVyKCksIHRoaXMubmFtZSA9IFIzLCB0aGlzLnZlcnNpb24gPSBOMywgdGhpcy5jYWNoZWQgPSBbXSwgdGhpcy5pbml0aWFsaXplZCA9ICExLCB0aGlzLnN0b3JhZ2VQcmVmaXggPSBqciwgdGhpcy5pbml0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdGhpcy5pbml0aWFsaXplZCB8fCAodGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKSwgYXdhaXQgdGhpcy5yZXN0b3JlKCksIHRoaXMuY2FjaGVkLmZvckVhY2goKGkpID0+IHRoaXMuZXhwaXJhdGlvbnMuc2V0KGkudGFyZ2V0LCBpKSksIHRoaXMuY2FjaGVkID0gW10sIHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpLCB0aGlzLmluaXRpYWxpemVkID0gITApO1xuICAgIH0sIHRoaXMuaGFzID0gKGkpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLmZvcm1hdFRhcmdldChpKTtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLmdldEV4cGlyYXRpb24obikgPCBcInVcIjtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICB9XG4gICAgfSwgdGhpcy5zZXQgPSAoaSwgbikgPT4ge1xuICAgICAgdGhpcy5pc0luaXRpYWxpemVkKCk7XG4gICAgICBjb25zdCBzID0gdGhpcy5mb3JtYXRUYXJnZXQoaSksIG8gPSB7IHRhcmdldDogcywgZXhwaXJ5OiBuIH07XG4gICAgICB0aGlzLmV4cGlyYXRpb25zLnNldChzLCBvKSwgdGhpcy5jaGVja0V4cGlyeShzLCBvKSwgdGhpcy5ldmVudHMuZW1pdCh1ci5jcmVhdGVkLCB7IHRhcmdldDogcywgZXhwaXJhdGlvbjogbyB9KTtcbiAgICB9LCB0aGlzLmdldCA9IChpKSA9PiB7XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKTtcbiAgICAgIGNvbnN0IG4gPSB0aGlzLmZvcm1hdFRhcmdldChpKTtcbiAgICAgIHJldHVybiB0aGlzLmdldEV4cGlyYXRpb24obik7XG4gICAgfSwgdGhpcy5kZWwgPSAoaSkgPT4ge1xuICAgICAgaWYgKHRoaXMuaXNJbml0aWFsaXplZCgpLCB0aGlzLmhhcyhpKSkge1xuICAgICAgICBjb25zdCBuID0gdGhpcy5mb3JtYXRUYXJnZXQoaSksIHMgPSB0aGlzLmdldEV4cGlyYXRpb24obik7XG4gICAgICAgIHRoaXMuZXhwaXJhdGlvbnMuZGVsZXRlKG4pLCB0aGlzLmV2ZW50cy5lbWl0KHVyLmRlbGV0ZWQsIHsgdGFyZ2V0OiBuLCBleHBpcmF0aW9uOiBzIH0pO1xuICAgICAgfVxuICAgIH0sIHRoaXMub24gPSAoaSwgbikgPT4ge1xuICAgICAgdGhpcy5ldmVudHMub24oaSwgbik7XG4gICAgfSwgdGhpcy5vbmNlID0gKGksIG4pID0+IHtcbiAgICAgIHRoaXMuZXZlbnRzLm9uY2UoaSwgbik7XG4gICAgfSwgdGhpcy5vZmYgPSAoaSwgbikgPT4ge1xuICAgICAgdGhpcy5ldmVudHMub2ZmKGksIG4pO1xuICAgIH0sIHRoaXMucmVtb3ZlTGlzdGVuZXIgPSAoaSwgbikgPT4ge1xuICAgICAgdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoaSwgbik7XG4gICAgfSwgdGhpcy5sb2dnZXIgPSBrdCh0LCB0aGlzLm5hbWUpO1xuICB9XG4gIGdldCBjb250ZXh0KCkge1xuICAgIHJldHVybiBadCh0aGlzLmxvZ2dlcik7XG4gIH1cbiAgZ2V0IHN0b3JhZ2VLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCArIHRoaXMudmVyc2lvbiArIHRoaXMuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4ICsgXCIvL1wiICsgdGhpcy5uYW1lO1xuICB9XG4gIGdldCBsZW5ndGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuZXhwaXJhdGlvbnMuc2l6ZTtcbiAgfVxuICBnZXQga2V5cygpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmV4cGlyYXRpb25zLmtleXMoKSk7XG4gIH1cbiAgZ2V0IHZhbHVlcygpIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmV4cGlyYXRpb25zLnZhbHVlcygpKTtcbiAgfVxuICBmb3JtYXRUYXJnZXQoZSkge1xuICAgIGlmICh0eXBlb2YgZSA9PSBcInN0cmluZ1wiKVxuICAgICAgcmV0dXJuIG55KGUpO1xuICAgIGlmICh0eXBlb2YgZSA9PSBcIm51bWJlclwiKVxuICAgICAgcmV0dXJuIHN5KGUpO1xuICAgIGNvbnN0IHsgbWVzc2FnZTogdCB9ID0gYWUoXCJVTktOT1dOX1RZUEVcIiwgYFRhcmdldCB0eXBlOiAke3R5cGVvZiBlfWApO1xuICAgIHRocm93IG5ldyBFcnJvcih0KTtcbiAgfVxuICBhc3luYyBzZXRFeHBpcmF0aW9ucyhlKSB7XG4gICAgYXdhaXQgdGhpcy5jb3JlLnN0b3JhZ2Uuc2V0SXRlbSh0aGlzLnN0b3JhZ2VLZXksIGUpO1xuICB9XG4gIGFzeW5jIGdldEV4cGlyYXRpb25zKCkge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSk7XG4gIH1cbiAgYXN5bmMgcGVyc2lzdCgpIHtcbiAgICBhd2FpdCB0aGlzLnNldEV4cGlyYXRpb25zKHRoaXMudmFsdWVzKSwgdGhpcy5ldmVudHMuZW1pdCh1ci5zeW5jKTtcbiAgfVxuICBhc3luYyByZXN0b3JlKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBlID0gYXdhaXQgdGhpcy5nZXRFeHBpcmF0aW9ucygpO1xuICAgICAgaWYgKHR5cGVvZiBlID4gXCJ1XCIgfHwgIWUubGVuZ3RoKVxuICAgICAgICByZXR1cm47XG4gICAgICBpZiAodGhpcy5leHBpcmF0aW9ucy5zaXplKSB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZTogdCB9ID0gYWUoXCJSRVNUT1JFX1dJTExfT1ZFUlJJREVcIiwgdGhpcy5uYW1lKTtcbiAgICAgICAgdGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IodCksIG5ldyBFcnJvcih0KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2FjaGVkID0gZSwgdGhpcy5sb2dnZXIuZGVidWcoYFN1Y2Nlc3NmdWxseSBSZXN0b3JlZCBleHBpcmF0aW9ucyBmb3IgJHt0aGlzLm5hbWV9YCksIHRoaXMubG9nZ2VyLnRyYWNlKHsgdHlwZTogXCJtZXRob2RcIiwgbWV0aG9kOiBcInJlc3RvcmVcIiwgZXhwaXJhdGlvbnM6IHRoaXMudmFsdWVzIH0pO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRoaXMubG9nZ2VyLmRlYnVnKGBGYWlsZWQgdG8gUmVzdG9yZSBleHBpcmF0aW9ucyBmb3IgJHt0aGlzLm5hbWV9YCksIHRoaXMubG9nZ2VyLmVycm9yKGUpO1xuICAgIH1cbiAgfVxuICBnZXRFeHBpcmF0aW9uKGUpIHtcbiAgICBjb25zdCB0ID0gdGhpcy5leHBpcmF0aW9ucy5nZXQoZSk7XG4gICAgaWYgKCF0KSB7XG4gICAgICBjb25zdCB7IG1lc3NhZ2U6IGkgfSA9IGFlKFwiTk9fTUFUQ0hJTkdfS0VZXCIsIGAke3RoaXMubmFtZX06ICR7ZX1gKTtcbiAgICAgIHRocm93IHRoaXMubG9nZ2VyLndhcm4oaSksIG5ldyBFcnJvcihpKTtcbiAgICB9XG4gICAgcmV0dXJuIHQ7XG4gIH1cbiAgY2hlY2tFeHBpcnkoZSwgdCkge1xuICAgIGNvbnN0IHsgZXhwaXJ5OiBpIH0gPSB0O1xuICAgIGllLnRvTWlsaXNlY29uZHMoaSkgLSBEYXRlLm5vdygpIDw9IDAgJiYgdGhpcy5leHBpcmUoZSwgdCk7XG4gIH1cbiAgZXhwaXJlKGUsIHQpIHtcbiAgICB0aGlzLmV4cGlyYXRpb25zLmRlbGV0ZShlKSwgdGhpcy5ldmVudHMuZW1pdCh1ci5leHBpcmVkLCB7IHRhcmdldDogZSwgZXhwaXJhdGlvbjogdCB9KTtcbiAgfVxuICBjaGVja0V4cGlyYXRpb25zKCkge1xuICAgIHRoaXMuY29yZS5yZWxheWVyLmNvbm5lY3RlZCAmJiB0aGlzLmV4cGlyYXRpb25zLmZvckVhY2goKGUsIHQpID0+IHRoaXMuY2hlY2tFeHBpcnkodCwgZSkpO1xuICB9XG4gIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5jb3JlLmhlYXJ0YmVhdC5vbihnbi5wdWxzZSwgKCkgPT4gdGhpcy5jaGVja0V4cGlyYXRpb25zKCkpLCB0aGlzLmV2ZW50cy5vbih1ci5jcmVhdGVkLCAoZSkgPT4ge1xuICAgICAgY29uc3QgdCA9IHVyLmNyZWF0ZWQ7XG4gICAgICB0aGlzLmxvZ2dlci5pbmZvKGBFbWl0dGluZyAke3R9YCksIHRoaXMubG9nZ2VyLmRlYnVnKHsgdHlwZTogXCJldmVudFwiLCBldmVudDogdCwgZGF0YTogZSB9KSwgdGhpcy5wZXJzaXN0KCk7XG4gICAgfSksIHRoaXMuZXZlbnRzLm9uKHVyLmV4cGlyZWQsIChlKSA9PiB7XG4gICAgICBjb25zdCB0ID0gdXIuZXhwaXJlZDtcbiAgICAgIHRoaXMubG9nZ2VyLmluZm8oYEVtaXR0aW5nICR7dH1gKSwgdGhpcy5sb2dnZXIuZGVidWcoeyB0eXBlOiBcImV2ZW50XCIsIGV2ZW50OiB0LCBkYXRhOiBlIH0pLCB0aGlzLnBlcnNpc3QoKTtcbiAgICB9KSwgdGhpcy5ldmVudHMub24odXIuZGVsZXRlZCwgKGUpID0+IHtcbiAgICAgIGNvbnN0IHQgPSB1ci5kZWxldGVkO1xuICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgRW1pdHRpbmcgJHt0fWApLCB0aGlzLmxvZ2dlci5kZWJ1Zyh7IHR5cGU6IFwiZXZlbnRcIiwgZXZlbnQ6IHQsIGRhdGE6IGUgfSksIHRoaXMucGVyc2lzdCgpO1xuICAgIH0pO1xuICB9XG4gIGlzSW5pdGlhbGl6ZWQoKSB7XG4gICAgaWYgKCF0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICBjb25zdCB7IG1lc3NhZ2U6IGUgfSA9IGFlKFwiTk9UX0lOSVRJQUxJWkVEXCIsIHRoaXMubmFtZSk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZSk7XG4gICAgfVxuICB9XG59XG5jbGFzcyBVdyBleHRlbmRzIHVwIHtcbiAgY29uc3RydWN0b3IoZSwgdCwgaSkge1xuICAgIHN1cGVyKGUsIHQsIGkpLCB0aGlzLmNvcmUgPSBlLCB0aGlzLmxvZ2dlciA9IHQsIHRoaXMuc3RvcmUgPSBpLCB0aGlzLm5hbWUgPSBUMywgdGhpcy52ZXJpZnlVcmxWMyA9ICQzLCB0aGlzLnN0b3JhZ2VQcmVmaXggPSBqciwgdGhpcy52ZXJzaW9uID0gU2QsIHRoaXMuaW5pdCA9IGFzeW5jICgpID0+IHtcbiAgICAgIHZhciBuO1xuICAgICAgdGhpcy5pc0RldkVudiB8fCAodGhpcy5wdWJsaWNLZXkgPSBhd2FpdCB0aGlzLnN0b3JlLmdldEl0ZW0odGhpcy5zdG9yZUtleSksIHRoaXMucHVibGljS2V5ICYmIGllLnRvTWlsaXNlY29uZHMoKG4gPSB0aGlzLnB1YmxpY0tleSkgPT0gbnVsbCA/IHZvaWQgMCA6IG4uZXhwaXJlc0F0KSA8IERhdGUubm93KCkgJiYgKHRoaXMubG9nZ2VyLmRlYnVnKFwidmVyaWZ5IHYyIHB1YmxpYyBrZXkgZXhwaXJlZFwiKSwgYXdhaXQgdGhpcy5yZW1vdmVQdWJsaWNLZXkoKSkpO1xuICAgIH0sIHRoaXMucmVnaXN0ZXIgPSBhc3luYyAobikgPT4ge1xuICAgICAgaWYgKCFjcygpIHx8IHRoaXMuaXNEZXZFbnYpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IHMgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luLCB7IGlkOiBvLCBkZWNyeXB0ZWRJZDogZiB9ID0gbiwgaCA9IGAke3RoaXMudmVyaWZ5VXJsVjN9L2F0dGVzdGF0aW9uP3Byb2plY3RJZD0ke3RoaXMuY29yZS5wcm9qZWN0SWR9Jm9yaWdpbj0ke3N9JmlkPSR7b30mZGVjcnlwdGVkSWQ9JHtmfWA7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkID0gaXMoKSwgdiA9IHRoaXMuc3RhcnRBYm9ydFRpbWVyKGllLk9ORV9TRUNPTkQgKiA1KSwgdyA9IGF3YWl0IG5ldyBQcm9taXNlKChBLCBJKSA9PiB7XG4gICAgICAgICAgY29uc3QgRCA9ICgpID0+IHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBrKSwgZC5ib2R5LnJlbW92ZUNoaWxkKE4pLCBJKFwiYXR0ZXN0YXRpb24gYWJvcnRlZFwiKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHRoaXMuYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwgRCk7XG4gICAgICAgICAgY29uc3QgTiA9IGQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTtcbiAgICAgICAgICBOLnNyYyA9IGgsIE4uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiLCBOLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBELCB7IHNpZ25hbDogdGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsIH0pO1xuICAgICAgICAgIGNvbnN0IGsgPSAoaikgPT4ge1xuICAgICAgICAgICAgaWYgKGouZGF0YSAmJiB0eXBlb2Ygai5kYXRhID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgVCA9IEpTT04ucGFyc2Uoai5kYXRhKTtcbiAgICAgICAgICAgICAgICBpZiAoVC50eXBlID09PSBcInZlcmlmeV9hdHRlc3RhdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoYm8oVC5hdHRlc3RhdGlvbikucGF5bG9hZC5pZCAhPT0gbylcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh2KSwgZC5ib2R5LnJlbW92ZUNoaWxkKE4pLCB0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsIEQpLCB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgayksIEEoVC5hdHRlc3RhdGlvbiA9PT0gbnVsbCA/IFwiXCIgOiBULmF0dGVzdGF0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKFQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBkLmJvZHkuYXBwZW5kQ2hpbGQoTiksIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCBrLCB7IHNpZ25hbDogdGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9nZ2VyLmRlYnVnKFwiand0IGF0dGVzdGF0aW9uXCIsIHcpLCB3O1xuICAgICAgfSBjYXRjaCAoZCkge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfSwgdGhpcy5yZXNvbHZlID0gYXN5bmMgKG4pID0+IHtcbiAgICAgIGlmICh0aGlzLmlzRGV2RW52KVxuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIGNvbnN0IHsgYXR0ZXN0YXRpb25JZDogcywgaGFzaDogbywgZW5jcnlwdGVkSWQ6IGYgfSA9IG47XG4gICAgICBpZiAocyA9PT0gXCJcIikge1xuICAgICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhcInJlc29sdmU6IGF0dGVzdGF0aW9uSWQgaXMgZW1wdHksIHNraXBwaW5nXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAocykge1xuICAgICAgICBpZiAoYm8ocykucGF5bG9hZC5pZCAhPT0gZilcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGQgPSBhd2FpdCB0aGlzLmlzVmFsaWRKd3RBdHRlc3RhdGlvbihzKTtcbiAgICAgICAgaWYgKGQpIHtcbiAgICAgICAgICBpZiAoIWQuaXNWZXJpZmllZCkge1xuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybihcInJlc29sdmU6IGp3dCBhdHRlc3RhdGlvbjogb3JpZ2luIHVybCBub3QgdmVyaWZpZWRcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIW8pXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IGggPSB0aGlzLmdldFZlcmlmeVVybChuPy52ZXJpZnlVcmwpO1xuICAgICAgcmV0dXJuIHRoaXMuZmV0Y2hBdHRlc3RhdGlvbihvLCBoKTtcbiAgICB9LCB0aGlzLmZldGNoQXR0ZXN0YXRpb24gPSBhc3luYyAobiwgcykgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYHJlc29sdmluZyBhdHRlc3RhdGlvbjogJHtufSBmcm9tIHVybDogJHtzfWApO1xuICAgICAgY29uc3QgbyA9IHRoaXMuc3RhcnRBYm9ydFRpbWVyKGllLk9ORV9TRUNPTkQgKiA1KSwgZiA9IGF3YWl0IGZldGNoKGAke3N9L2F0dGVzdGF0aW9uLyR7bn0/djJTdXBwb3J0ZWQ9dHJ1ZWAsIHsgc2lnbmFsOiB0aGlzLmFib3J0Q29udHJvbGxlci5zaWduYWwgfSk7XG4gICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG8pLCBmLnN0YXR1cyA9PT0gMjAwID8gYXdhaXQgZi5qc29uKCkgOiB2b2lkIDA7XG4gICAgfSwgdGhpcy5nZXRWZXJpZnlVcmwgPSAobikgPT4ge1xuICAgICAgbGV0IHMgPSBuIHx8IFZuO1xuICAgICAgcmV0dXJuIEwzLmluY2x1ZGVzKHMpIHx8ICh0aGlzLmxvZ2dlci5pbmZvKGB2ZXJpZnkgdXJsOiAke3N9LCBub3QgaW5jbHVkZWQgaW4gdHJ1c3RlZCBsaXN0LCBhc3NpZ25pbmcgZGVmYXVsdDogJHtWbn1gKSwgcyA9IFZuKSwgcztcbiAgICB9LCB0aGlzLmZldGNoUHVibGljS2V5ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZGVidWcoYGZldGNoaW5nIHB1YmxpYyBrZXkgZnJvbTogJHt0aGlzLnZlcmlmeVVybFYzfWApO1xuICAgICAgICBjb25zdCBuID0gdGhpcy5zdGFydEFib3J0VGltZXIoaWUuRklWRV9TRUNPTkRTKSwgcyA9IGF3YWl0IGZldGNoKGAke3RoaXMudmVyaWZ5VXJsVjN9L3B1YmxpYy1rZXlgLCB7IHNpZ25hbDogdGhpcy5hYm9ydENvbnRyb2xsZXIuc2lnbmFsIH0pO1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG4pLCBhd2FpdCBzLmpzb24oKTtcbiAgICAgIH0gY2F0Y2ggKG4pIHtcbiAgICAgICAgdGhpcy5sb2dnZXIud2FybihuKTtcbiAgICAgIH1cbiAgICB9LCB0aGlzLnBlcnNpc3RQdWJsaWNLZXkgPSBhc3luYyAobikgPT4ge1xuICAgICAgdGhpcy5sb2dnZXIuZGVidWcoXCJwZXJzaXN0aW5nIHB1YmxpYyBrZXkgdG8gbG9jYWwgc3RvcmFnZVwiLCBuKSwgYXdhaXQgdGhpcy5zdG9yZS5zZXRJdGVtKHRoaXMuc3RvcmVLZXksIG4pLCB0aGlzLnB1YmxpY0tleSA9IG47XG4gICAgfSwgdGhpcy5yZW1vdmVQdWJsaWNLZXkgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0aGlzLmxvZ2dlci5kZWJ1ZyhcInJlbW92aW5nIHZlcmlmeSB2MiBwdWJsaWMga2V5IGZyb20gc3RvcmFnZVwiKSwgYXdhaXQgdGhpcy5zdG9yZS5yZW1vdmVJdGVtKHRoaXMuc3RvcmVLZXkpLCB0aGlzLnB1YmxpY0tleSA9IHZvaWQgMDtcbiAgICB9LCB0aGlzLmlzVmFsaWRKd3RBdHRlc3RhdGlvbiA9IGFzeW5jIChuKSA9PiB7XG4gICAgICBjb25zdCBzID0gYXdhaXQgdGhpcy5nZXRQdWJsaWNLZXkoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChzKVxuICAgICAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRlQXR0ZXN0YXRpb24obiwgcyk7XG4gICAgICB9IGNhdGNoIChmKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGYpLCB0aGlzLmxvZ2dlci53YXJuKFwiZXJyb3IgdmFsaWRhdGluZyBhdHRlc3RhdGlvblwiKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IG8gPSBhd2FpdCB0aGlzLmZldGNoQW5kUGVyc2lzdFB1YmxpY0tleSgpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKG8pXG4gICAgICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdGVBdHRlc3RhdGlvbihuLCBvKTtcbiAgICAgIH0gY2F0Y2ggKGYpIHtcbiAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoZiksIHRoaXMubG9nZ2VyLndhcm4oXCJlcnJvciB2YWxpZGF0aW5nIGF0dGVzdGF0aW9uXCIpO1xuICAgICAgfVxuICAgIH0sIHRoaXMuZ2V0UHVibGljS2V5ID0gYXN5bmMgKCkgPT4gdGhpcy5wdWJsaWNLZXkgPyB0aGlzLnB1YmxpY0tleSA6IGF3YWl0IHRoaXMuZmV0Y2hBbmRQZXJzaXN0UHVibGljS2V5KCksIHRoaXMuZmV0Y2hBbmRQZXJzaXN0UHVibGljS2V5ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKHRoaXMuZmV0Y2hQcm9taXNlKVxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5mZXRjaFByb21pc2UsIHRoaXMucHVibGljS2V5O1xuICAgICAgdGhpcy5mZXRjaFByb21pc2UgPSBuZXcgUHJvbWlzZShhc3luYyAocykgPT4ge1xuICAgICAgICBjb25zdCBvID0gYXdhaXQgdGhpcy5mZXRjaFB1YmxpY0tleSgpO1xuICAgICAgICBvICYmIChhd2FpdCB0aGlzLnBlcnNpc3RQdWJsaWNLZXkobyksIHMobykpO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBuID0gYXdhaXQgdGhpcy5mZXRjaFByb21pc2U7XG4gICAgICByZXR1cm4gdGhpcy5mZXRjaFByb21pc2UgPSB2b2lkIDAsIG47XG4gICAgfSwgdGhpcy52YWxpZGF0ZUF0dGVzdGF0aW9uID0gKG4sIHMpID0+IHtcbiAgICAgIGNvbnN0IG8gPSBXeShuLCBzLnB1YmxpY0tleSksIGYgPSB7IGhhc0V4cGlyZWQ6IGllLnRvTWlsaXNlY29uZHMoby5leHApIDwgRGF0ZS5ub3coKSwgcGF5bG9hZDogbyB9O1xuICAgICAgaWYgKGYuaGFzRXhwaXJlZClcbiAgICAgICAgdGhyb3cgdGhpcy5sb2dnZXIud2FybihcInJlc29sdmU6IGp3dCBhdHRlc3RhdGlvbiBleHBpcmVkXCIpLCBuZXcgRXJyb3IoXCJKV1QgYXR0ZXN0YXRpb24gZXhwaXJlZFwiKTtcbiAgICAgIHJldHVybiB7IG9yaWdpbjogZi5wYXlsb2FkLm9yaWdpbiwgaXNTY2FtOiBmLnBheWxvYWQuaXNTY2FtLCBpc1ZlcmlmaWVkOiBmLnBheWxvYWQuaXNWZXJpZmllZCB9O1xuICAgIH0sIHRoaXMubG9nZ2VyID0ga3QodCwgdGhpcy5uYW1lKSwgdGhpcy5hYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCksIHRoaXMuaXNEZXZFbnYgPSByZigpLCB0aGlzLmluaXQoKTtcbiAgfVxuICBnZXQgc3RvcmVLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCArIHRoaXMudmVyc2lvbiArIHRoaXMuY29yZS5jdXN0b21TdG9yYWdlUHJlZml4ICsgXCIvL3ZlcmlmeTpwdWJsaWM6a2V5XCI7XG4gIH1cbiAgZ2V0IGNvbnRleHQoKSB7XG4gICAgcmV0dXJuIFp0KHRoaXMubG9nZ2VyKTtcbiAgfVxuICBzdGFydEFib3J0VGltZXIoZSkge1xuICAgIHJldHVybiB0aGlzLmFib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKSwgc2V0VGltZW91dCgoKSA9PiB0aGlzLmFib3J0Q29udHJvbGxlci5hYm9ydCgpLCBpZS50b01pbGlzZWNvbmRzKGUpKTtcbiAgfVxufVxuY2xhc3MgencgZXh0ZW5kcyBkcCB7XG4gIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICBzdXBlcihlLCB0KSwgdGhpcy5wcm9qZWN0SWQgPSBlLCB0aGlzLmxvZ2dlciA9IHQsIHRoaXMuY29udGV4dCA9IEYzLCB0aGlzLnJlZ2lzdGVyRGV2aWNlVG9rZW4gPSBhc3luYyAoaSkgPT4ge1xuICAgICAgY29uc3QgeyBjbGllbnRJZDogbiwgdG9rZW46IHMsIG5vdGlmaWNhdGlvblR5cGU6IG8sIGVuYWJsZUVuY3J5cHRlZDogZiA9ICExIH0gPSBpLCBoID0gYCR7cTN9LyR7dGhpcy5wcm9qZWN0SWR9L2NsaWVudHNgO1xuICAgICAgYXdhaXQgZmV0Y2goaCwgeyBtZXRob2Q6IFwiUE9TVFwiLCBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiIH0sIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgY2xpZW50X2lkOiBuLCB0eXBlOiBvLCB0b2tlbjogcywgYWx3YXlzX3JhdzogZiB9KSB9KTtcbiAgICB9LCB0aGlzLmxvZ2dlciA9IGt0KHQsIHRoaXMuY29udGV4dCk7XG4gIH1cbn1cbnZhciBCdyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgX2ggPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLCBrdyA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksIGp3ID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSwgeGggPSAociwgZSwgdCkgPT4gZSBpbiByID8gQncociwgZSwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZTogdCB9KSA6IHJbZV0gPSB0LCBCbiA9IChyLCBlKSA9PiB7XG4gIGZvciAodmFyIHQgaW4gZSB8fCAoZSA9IHt9KSlcbiAgICBrdy5jYWxsKGUsIHQpICYmIHhoKHIsIHQsIGVbdF0pO1xuICBpZiAoX2gpXG4gICAgZm9yICh2YXIgdCBvZiBfaChlKSlcbiAgICAgIGp3LmNhbGwoZSwgdCkgJiYgeGgociwgdCwgZVt0XSk7XG4gIHJldHVybiByO1xufTtcbmNsYXNzIEt3IGV4dGVuZHMgbHAge1xuICBjb25zdHJ1Y3RvcihlLCB0LCBpID0gITApIHtcbiAgICBzdXBlcihlLCB0LCBpKSwgdGhpcy5jb3JlID0gZSwgdGhpcy5sb2dnZXIgPSB0LCB0aGlzLmNvbnRleHQgPSB6MywgdGhpcy5zdG9yYWdlUHJlZml4ID0ganIsIHRoaXMuc3RvcmFnZVZlcnNpb24gPSBVMywgdGhpcy5ldmVudHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpLCB0aGlzLnNob3VsZFBlcnNpc3QgPSAhMSwgdGhpcy5pbml0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFyZigpKVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IG4gPSB7IGV2ZW50SWQ6IERjKCksIHRpbWVzdGFtcDogRGF0ZS5ub3coKSwgZG9tYWluOiB0aGlzLmdldEFwcERvbWFpbigpLCBwcm9wczogeyBldmVudDogXCJJTklUXCIsIHR5cGU6IFwiXCIsIHByb3BlcnRpZXM6IHsgY2xpZW50X2lkOiBhd2FpdCB0aGlzLmNvcmUuY3J5cHRvLmdldENsaWVudElkKCksIHVzZXJfYWdlbnQ6IHJkKHRoaXMuY29yZS5yZWxheWVyLnByb3RvY29sLCB0aGlzLmNvcmUucmVsYXllci52ZXJzaW9uLCBEbykgfSB9IH07XG4gICAgICAgICAgYXdhaXQgdGhpcy5zZW5kRXZlbnQoW25dKTtcbiAgICAgICAgfSBjYXRjaCAobikge1xuICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm4obik7XG4gICAgICAgIH1cbiAgICB9LCB0aGlzLmNyZWF0ZUV2ZW50ID0gKG4pID0+IHtcbiAgICAgIGNvbnN0IHsgZXZlbnQ6IHMgPSBcIkVSUk9SXCIsIHR5cGU6IG8gPSBcIlwiLCBwcm9wZXJ0aWVzOiB7IHRvcGljOiBmLCB0cmFjZTogaCB9IH0gPSBuLCBkID0gRGMoKSwgdiA9IHRoaXMuY29yZS5wcm9qZWN0SWQgfHwgXCJcIiwgdyA9IERhdGUubm93KCksIEEgPSBCbih7IGV2ZW50SWQ6IGQsIHRpbWVzdGFtcDogdywgcHJvcHM6IHsgZXZlbnQ6IHMsIHR5cGU6IG8sIHByb3BlcnRpZXM6IHsgdG9waWM6IGYsIHRyYWNlOiBoIH0gfSwgYnVuZGxlSWQ6IHYsIGRvbWFpbjogdGhpcy5nZXRBcHBEb21haW4oKSB9LCB0aGlzLnNldE1ldGhvZHMoZCkpO1xuICAgICAgcmV0dXJuIHRoaXMudGVsZW1ldHJ5RW5hYmxlZCAmJiAodGhpcy5ldmVudHMuc2V0KGQsIEEpLCB0aGlzLnNob3VsZFBlcnNpc3QgPSAhMCksIEE7XG4gICAgfSwgdGhpcy5nZXRFdmVudCA9IChuKSA9PiB7XG4gICAgICBjb25zdCB7IGV2ZW50SWQ6IHMsIHRvcGljOiBvIH0gPSBuO1xuICAgICAgaWYgKHMpXG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5nZXQocyk7XG4gICAgICBjb25zdCBmID0gQXJyYXkuZnJvbSh0aGlzLmV2ZW50cy52YWx1ZXMoKSkuZmluZCgoaCkgPT4gaC5wcm9wcy5wcm9wZXJ0aWVzLnRvcGljID09PSBvKTtcbiAgICAgIGlmIChmKVxuICAgICAgICByZXR1cm4gQm4oQm4oe30sIGYpLCB0aGlzLnNldE1ldGhvZHMoZi5ldmVudElkKSk7XG4gICAgfSwgdGhpcy5kZWxldGVFdmVudCA9IChuKSA9PiB7XG4gICAgICBjb25zdCB7IGV2ZW50SWQ6IHMgfSA9IG47XG4gICAgICB0aGlzLmV2ZW50cy5kZWxldGUocyksIHRoaXMuc2hvdWxkUGVyc2lzdCA9ICEwO1xuICAgIH0sIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMgPSAoKSA9PiB7XG4gICAgICB0aGlzLmNvcmUuaGVhcnRiZWF0Lm9uKGduLnB1bHNlLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIHRoaXMuc2hvdWxkUGVyc2lzdCAmJiBhd2FpdCB0aGlzLnBlcnNpc3QoKSwgdGhpcy5ldmVudHMuZm9yRWFjaCgobikgPT4ge1xuICAgICAgICAgIGllLmZyb21NaWxpc2Vjb25kcyhEYXRlLm5vdygpKSAtIGllLmZyb21NaWxpc2Vjb25kcyhuLnRpbWVzdGFtcCkgPiBCMyAmJiAodGhpcy5ldmVudHMuZGVsZXRlKG4uZXZlbnRJZCksIHRoaXMuc2hvdWxkUGVyc2lzdCA9ICEwKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LCB0aGlzLnNldE1ldGhvZHMgPSAobikgPT4gKHsgYWRkVHJhY2U6IChzKSA9PiB0aGlzLmFkZFRyYWNlKG4sIHMpLCBzZXRFcnJvcjogKHMpID0+IHRoaXMuc2V0RXJyb3IobiwgcykgfSksIHRoaXMuYWRkVHJhY2UgPSAobiwgcykgPT4ge1xuICAgICAgY29uc3QgbyA9IHRoaXMuZXZlbnRzLmdldChuKTtcbiAgICAgIG8gJiYgKG8ucHJvcHMucHJvcGVydGllcy50cmFjZS5wdXNoKHMpLCB0aGlzLmV2ZW50cy5zZXQobiwgbyksIHRoaXMuc2hvdWxkUGVyc2lzdCA9ICEwKTtcbiAgICB9LCB0aGlzLnNldEVycm9yID0gKG4sIHMpID0+IHtcbiAgICAgIGNvbnN0IG8gPSB0aGlzLmV2ZW50cy5nZXQobik7XG4gICAgICBvICYmIChvLnByb3BzLnR5cGUgPSBzLCBvLnRpbWVzdGFtcCA9IERhdGUubm93KCksIHRoaXMuZXZlbnRzLnNldChuLCBvKSwgdGhpcy5zaG91bGRQZXJzaXN0ID0gITApO1xuICAgIH0sIHRoaXMucGVyc2lzdCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IHRoaXMuY29yZS5zdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yYWdlS2V5LCBBcnJheS5mcm9tKHRoaXMuZXZlbnRzLnZhbHVlcygpKSksIHRoaXMuc2hvdWxkUGVyc2lzdCA9ICExO1xuICAgIH0sIHRoaXMucmVzdG9yZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG4gPSBhd2FpdCB0aGlzLmNvcmUuc3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmFnZUtleSkgfHwgW107XG4gICAgICAgIGlmICghbi5sZW5ndGgpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICBuLmZvckVhY2goKHMpID0+IHtcbiAgICAgICAgICB0aGlzLmV2ZW50cy5zZXQocy5ldmVudElkLCBCbihCbih7fSwgcyksIHRoaXMuc2V0TWV0aG9kcyhzLmV2ZW50SWQpKSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBjYXRjaCAobikge1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKG4pO1xuICAgICAgfVxuICAgIH0sIHRoaXMuc3VibWl0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCF0aGlzLnRlbGVtZXRyeUVuYWJsZWQgfHwgdGhpcy5ldmVudHMuc2l6ZSA9PT0gMClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgbiA9IFtdO1xuICAgICAgZm9yIChjb25zdCBbcywgb10gb2YgdGhpcy5ldmVudHMpXG4gICAgICAgIG8ucHJvcHMudHlwZSAmJiBuLnB1c2gobyk7XG4gICAgICBpZiAobi5sZW5ndGggIT09IDApXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKChhd2FpdCB0aGlzLnNlbmRFdmVudChuKSkub2spXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHMgb2YgbilcbiAgICAgICAgICAgICAgdGhpcy5ldmVudHMuZGVsZXRlKHMuZXZlbnRJZCksIHRoaXMuc2hvdWxkUGVyc2lzdCA9ICEwO1xuICAgICAgICB9IGNhdGNoIChzKSB7XG4gICAgICAgICAgdGhpcy5sb2dnZXIud2FybihzKTtcbiAgICAgICAgfVxuICAgIH0sIHRoaXMuc2VuZEV2ZW50ID0gYXN5bmMgKG4pID0+IHtcbiAgICAgIGNvbnN0IHMgPSB0aGlzLmdldEFwcERvbWFpbigpID8gXCJcIiA6IFwiJnNwPWRlc2t0b3BcIjtcbiAgICAgIHJldHVybiBhd2FpdCBmZXRjaChgJHtrM30/cHJvamVjdElkPSR7dGhpcy5jb3JlLnByb2plY3RJZH0mc3Q9ZXZlbnRzX3NkayZzdj1qcy0ke0RvfSR7c31gLCB7IG1ldGhvZDogXCJQT1NUXCIsIGJvZHk6IEpTT04uc3RyaW5naWZ5KG4pIH0pO1xuICAgIH0sIHRoaXMuZ2V0QXBwRG9tYWluID0gKCkgPT4gdGQoKS51cmwsIHRoaXMubG9nZ2VyID0ga3QodCwgdGhpcy5jb250ZXh0KSwgdGhpcy50ZWxlbWV0cnlFbmFibGVkID0gaSwgaSA/IHRoaXMucmVzdG9yZSgpLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgdGhpcy5zdWJtaXQoKSwgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIH0pIDogdGhpcy5wZXJzaXN0KCk7XG4gIH1cbiAgZ2V0IHN0b3JhZ2VLZXkoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RvcmFnZVByZWZpeCArIHRoaXMuc3RvcmFnZVZlcnNpb24gKyB0aGlzLmNvcmUuY3VzdG9tU3RvcmFnZVByZWZpeCArIFwiLy9cIiArIHRoaXMuY29udGV4dDtcbiAgfVxufVxudmFyIEh3ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5LCBFaCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsIFZ3ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSwgV3cgPSBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLCBTaCA9IChyLCBlLCB0KSA9PiBlIGluIHIgPyBIdyhyLCBlLCB7IGVudW1lcmFibGU6ICEwLCBjb25maWd1cmFibGU6ICEwLCB3cml0YWJsZTogITAsIHZhbHVlOiB0IH0pIDogcltlXSA9IHQsIE1oID0gKHIsIGUpID0+IHtcbiAgZm9yICh2YXIgdCBpbiBlIHx8IChlID0ge30pKVxuICAgIFZ3LmNhbGwoZSwgdCkgJiYgU2gociwgdCwgZVt0XSk7XG4gIGlmIChFaClcbiAgICBmb3IgKHZhciB0IG9mIEVoKGUpKVxuICAgICAgV3cuY2FsbChlLCB0KSAmJiBTaChyLCB0LCBlW3RdKTtcbiAgcmV0dXJuIHI7XG59O1xubGV0IEd3ID0gY2xhc3MgcWQgZXh0ZW5kcyBpcCB7XG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICB2YXIgdDtcbiAgICBzdXBlcihlKSwgdGhpcy5wcm90b2NvbCA9IEVkLCB0aGlzLnZlcnNpb24gPSBTZCwgdGhpcy5uYW1lID0gZWEsIHRoaXMuZXZlbnRzID0gbmV3IGlyLkV2ZW50RW1pdHRlcigpLCB0aGlzLmluaXRpYWxpemVkID0gITEsIHRoaXMub24gPSAobywgZikgPT4gdGhpcy5ldmVudHMub24obywgZiksIHRoaXMub25jZSA9IChvLCBmKSA9PiB0aGlzLmV2ZW50cy5vbmNlKG8sIGYpLCB0aGlzLm9mZiA9IChvLCBmKSA9PiB0aGlzLmV2ZW50cy5vZmYobywgZiksIHRoaXMucmVtb3ZlTGlzdGVuZXIgPSAobywgZikgPT4gdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIobywgZiksIHRoaXMuZGlzcGF0Y2hFbnZlbG9wZSA9ICh7IHRvcGljOiBvLCBtZXNzYWdlOiBmLCBzZXNzaW9uRXhpc3RzOiBoIH0pID0+IHtcbiAgICAgIGlmICghbyB8fCAhZilcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgZCA9IHsgdG9waWM6IG8sIG1lc3NhZ2U6IGYsIHB1Ymxpc2hlZEF0OiBEYXRlLm5vdygpLCB0cmFuc3BvcnRUeXBlOiBhdC5saW5rX21vZGUgfTtcbiAgICAgIHRoaXMucmVsYXllci5vbkxpbmtNZXNzYWdlRXZlbnQoZCwgeyBzZXNzaW9uRXhpc3RzOiBoIH0pO1xuICAgIH0sIHRoaXMucHJvamVjdElkID0gZT8ucHJvamVjdElkLCB0aGlzLnJlbGF5VXJsID0gZT8ucmVsYXlVcmwgfHwgSWQsIHRoaXMuY3VzdG9tU3RvcmFnZVByZWZpeCA9IGUgIT0gbnVsbCAmJiBlLmN1c3RvbVN0b3JhZ2VQcmVmaXggPyBgOiR7ZS5jdXN0b21TdG9yYWdlUHJlZml4fWAgOiBcIlwiO1xuICAgIGNvbnN0IGkgPSBUbyh7IGxldmVsOiB0eXBlb2YgZT8ubG9nZ2VyID09IFwic3RyaW5nXCIgJiYgZS5sb2dnZXIgPyBlLmxvZ2dlciA6IGMzLmxvZ2dlciwgbmFtZTogZWEgfSksIHsgbG9nZ2VyOiBuLCBjaHVua0xvZ2dlckNvbnRyb2xsZXI6IHMgfSA9IHJwKHsgb3B0czogaSwgbWF4U2l6ZUluQnl0ZXM6IGU/Lm1heExvZ0Jsb2JTaXplSW5CeXRlcywgbG9nZ2VyT3ZlcnJpZGU6IGU/LmxvZ2dlciB9KTtcbiAgICB0aGlzLmxvZ0NodW5rQ29udHJvbGxlciA9IHMsICh0ID0gdGhpcy5sb2dDaHVua0NvbnRyb2xsZXIpICE9IG51bGwgJiYgdC5kb3dubG9hZExvZ3NCbG9iSW5Ccm93c2VyICYmICh3aW5kb3cuZG93bmxvYWRMb2dzQmxvYkluQnJvd3NlciA9IGFzeW5jICgpID0+IHtcbiAgICAgIHZhciBvLCBmO1xuICAgICAgKG8gPSB0aGlzLmxvZ0NodW5rQ29udHJvbGxlcikgIT0gbnVsbCAmJiBvLmRvd25sb2FkTG9nc0Jsb2JJbkJyb3dzZXIgJiYgKChmID0gdGhpcy5sb2dDaHVua0NvbnRyb2xsZXIpID09IG51bGwgfHwgZi5kb3dubG9hZExvZ3NCbG9iSW5Ccm93c2VyKHsgY2xpZW50SWQ6IGF3YWl0IHRoaXMuY3J5cHRvLmdldENsaWVudElkKCkgfSkpO1xuICAgIH0pLCB0aGlzLmxvZ2dlciA9IGt0KG4sIHRoaXMubmFtZSksIHRoaXMuaGVhcnRiZWF0ID0gbmV3IEdsKCksIHRoaXMuY3J5cHRvID0gbmV3IHB3KHRoaXMsIHRoaXMubG9nZ2VyLCBlPy5rZXljaGFpbiksIHRoaXMuaGlzdG9yeSA9IG5ldyBGdyh0aGlzLCB0aGlzLmxvZ2dlciksIHRoaXMuZXhwaXJlciA9IG5ldyBxdyh0aGlzLCB0aGlzLmxvZ2dlciksIHRoaXMuc3RvcmFnZSA9IGUgIT0gbnVsbCAmJiBlLnN0b3JhZ2UgPyBlLnN0b3JhZ2UgOiBuZXcgRDAoTWgoTWgoe30sIGgzKSwgZT8uc3RvcmFnZU9wdGlvbnMpKSwgdGhpcy5yZWxheWVyID0gbmV3IE53KHsgY29yZTogdGhpcywgbG9nZ2VyOiB0aGlzLmxvZ2dlciwgcmVsYXlVcmw6IHRoaXMucmVsYXlVcmwsIHByb2plY3RJZDogdGhpcy5wcm9qZWN0SWQgfSksIHRoaXMucGFpcmluZyA9IG5ldyBMdyh0aGlzLCB0aGlzLmxvZ2dlciksIHRoaXMudmVyaWZ5ID0gbmV3IFV3KHRoaXMsIHRoaXMubG9nZ2VyLCB0aGlzLnN0b3JhZ2UpLCB0aGlzLmVjaG9DbGllbnQgPSBuZXcgencodGhpcy5wcm9qZWN0SWQgfHwgXCJcIiwgdGhpcy5sb2dnZXIpLCB0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcyA9IFtdLCB0aGlzLmV2ZW50Q2xpZW50ID0gbmV3IEt3KHRoaXMsIHRoaXMubG9nZ2VyLCBlPy50ZWxlbWV0cnlFbmFibGVkKTtcbiAgfVxuICBzdGF0aWMgYXN5bmMgaW5pdChlKSB7XG4gICAgY29uc3QgdCA9IG5ldyBxZChlKTtcbiAgICBhd2FpdCB0LmluaXRpYWxpemUoKTtcbiAgICBjb25zdCBpID0gYXdhaXQgdC5jcnlwdG8uZ2V0Q2xpZW50SWQoKTtcbiAgICByZXR1cm4gYXdhaXQgdC5zdG9yYWdlLnNldEl0ZW0oRTMsIGkpLCB0O1xuICB9XG4gIGdldCBjb250ZXh0KCkge1xuICAgIHJldHVybiBadCh0aGlzLmxvZ2dlcik7XG4gIH1cbiAgYXN5bmMgc3RhcnQoKSB7XG4gICAgdGhpcy5pbml0aWFsaXplZCB8fCBhd2FpdCB0aGlzLmluaXRpYWxpemUoKTtcbiAgfVxuICBhc3luYyBnZXRMb2dzQmxvYigpIHtcbiAgICB2YXIgZTtcbiAgICByZXR1cm4gKGUgPSB0aGlzLmxvZ0NodW5rQ29udHJvbGxlcikgPT0gbnVsbCA/IHZvaWQgMCA6IGUubG9nc1RvQmxvYih7IGNsaWVudElkOiBhd2FpdCB0aGlzLmNyeXB0by5nZXRDbGllbnRJZCgpIH0pO1xuICB9XG4gIGFzeW5jIGFkZExpbmtNb2RlU3VwcG9ydGVkQXBwKGUpIHtcbiAgICB0aGlzLmxpbmtNb2RlU3VwcG9ydGVkQXBwcy5pbmNsdWRlcyhlKSB8fCAodGhpcy5saW5rTW9kZVN1cHBvcnRlZEFwcHMucHVzaChlKSwgYXdhaXQgdGhpcy5zdG9yYWdlLnNldEl0ZW0ocmgsIHRoaXMubGlua01vZGVTdXBwb3J0ZWRBcHBzKSk7XG4gIH1cbiAgYXN5bmMgaW5pdGlhbGl6ZSgpIHtcbiAgICB0aGlzLmxvZ2dlci50cmFjZShcIkluaXRpYWxpemVkXCIpO1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCB0aGlzLmNyeXB0by5pbml0KCksIGF3YWl0IHRoaXMuaGlzdG9yeS5pbml0KCksIGF3YWl0IHRoaXMuZXhwaXJlci5pbml0KCksIGF3YWl0IHRoaXMucmVsYXllci5pbml0KCksIGF3YWl0IHRoaXMuaGVhcnRiZWF0LmluaXQoKSwgYXdhaXQgdGhpcy5wYWlyaW5nLmluaXQoKSwgdGhpcy5ldmVudENsaWVudC5pbml0KCksIHRoaXMubGlua01vZGVTdXBwb3J0ZWRBcHBzID0gYXdhaXQgdGhpcy5zdG9yYWdlLmdldEl0ZW0ocmgpIHx8IFtdLCB0aGlzLmluaXRpYWxpemVkID0gITAsIHRoaXMubG9nZ2VyLmluZm8oXCJDb3JlIEluaXRpYWxpemF0aW9uIFN1Y2Nlc3NcIik7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgdGhpcy5sb2dnZXIud2FybihgQ29yZSBJbml0aWFsaXphdGlvbiBGYWlsdXJlIGF0IGVwb2NoICR7RGF0ZS5ub3coKX1gLCBlKSwgdGhpcy5sb2dnZXIuZXJyb3IoZS5tZXNzYWdlKSwgZTtcbiAgICB9XG4gIH1cbn07XG5jb25zdCBKdyA9IEd3LCBVZCA9IFwid2NcIiwgemQgPSAyLCBCZCA9IFwiY2xpZW50XCIsIGNmID0gYCR7VWR9QCR7emR9OiR7QmR9OmAsIG5vID0geyBuYW1lOiBCZCwgbG9nZ2VyOiBcImVycm9yXCIsIGNvbnRyb2xsZXI6ICExLCByZWxheVVybDogXCJ3c3M6Ly9yZWxheS53YWxsZXRjb25uZWN0Lm9yZ1wiIH0sIEloID0gXCJXQUxMRVRDT05ORUNUX0RFRVBMSU5LX0NIT0lDRVwiLCBZdyA9IFwicHJvcG9zYWxcIiwgWHcgPSBcIlByb3Bvc2FsIGV4cGlyZWRcIiwgWncgPSBcInNlc3Npb25cIiwgc24gPSBpZS5TRVZFTl9EQVlTLCBRdyA9IFwiZW5naW5lXCIsIF90ID0geyB3Y19zZXNzaW9uUHJvcG9zZTogeyByZXE6IHsgdHRsOiBpZS5GSVZFX01JTlVURVMsIHByb21wdDogITAsIHRhZzogMTEwMCB9LCByZXM6IHsgdHRsOiBpZS5GSVZFX01JTlVURVMsIHByb21wdDogITEsIHRhZzogMTEwMSB9LCByZWplY3Q6IHsgdHRsOiBpZS5GSVZFX01JTlVURVMsIHByb21wdDogITEsIHRhZzogMTEyMCB9LCBhdXRvUmVqZWN0OiB7IHR0bDogaWUuRklWRV9NSU5VVEVTLCBwcm9tcHQ6ICExLCB0YWc6IDExMjEgfSB9LCB3Y19zZXNzaW9uU2V0dGxlOiB7IHJlcTogeyB0dGw6IGllLkZJVkVfTUlOVVRFUywgcHJvbXB0OiAhMSwgdGFnOiAxMTAyIH0sIHJlczogeyB0dGw6IGllLkZJVkVfTUlOVVRFUywgcHJvbXB0OiAhMSwgdGFnOiAxMTAzIH0gfSwgd2Nfc2Vzc2lvblVwZGF0ZTogeyByZXE6IHsgdHRsOiBpZS5PTkVfREFZLCBwcm9tcHQ6ICExLCB0YWc6IDExMDQgfSwgcmVzOiB7IHR0bDogaWUuT05FX0RBWSwgcHJvbXB0OiAhMSwgdGFnOiAxMTA1IH0gfSwgd2Nfc2Vzc2lvbkV4dGVuZDogeyByZXE6IHsgdHRsOiBpZS5PTkVfREFZLCBwcm9tcHQ6ICExLCB0YWc6IDExMDYgfSwgcmVzOiB7IHR0bDogaWUuT05FX0RBWSwgcHJvbXB0OiAhMSwgdGFnOiAxMTA3IH0gfSwgd2Nfc2Vzc2lvblJlcXVlc3Q6IHsgcmVxOiB7IHR0bDogaWUuRklWRV9NSU5VVEVTLCBwcm9tcHQ6ICEwLCB0YWc6IDExMDggfSwgcmVzOiB7IHR0bDogaWUuRklWRV9NSU5VVEVTLCBwcm9tcHQ6ICExLCB0YWc6IDExMDkgfSB9LCB3Y19zZXNzaW9uRXZlbnQ6IHsgcmVxOiB7IHR0bDogaWUuRklWRV9NSU5VVEVTLCBwcm9tcHQ6ICEwLCB0YWc6IDExMTAgfSwgcmVzOiB7IHR0bDogaWUuRklWRV9NSU5VVEVTLCBwcm9tcHQ6ICExLCB0YWc6IDExMTEgfSB9LCB3Y19zZXNzaW9uRGVsZXRlOiB7IHJlcTogeyB0dGw6IGllLk9ORV9EQVksIHByb21wdDogITEsIHRhZzogMTExMiB9LCByZXM6IHsgdHRsOiBpZS5PTkVfREFZLCBwcm9tcHQ6ICExLCB0YWc6IDExMTMgfSB9LCB3Y19zZXNzaW9uUGluZzogeyByZXE6IHsgdHRsOiBpZS5PTkVfREFZLCBwcm9tcHQ6ICExLCB0YWc6IDExMTQgfSwgcmVzOiB7IHR0bDogaWUuT05FX0RBWSwgcHJvbXB0OiAhMSwgdGFnOiAxMTE1IH0gfSwgd2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZTogeyByZXE6IHsgdHRsOiBpZS5PTkVfSE9VUiwgcHJvbXB0OiAhMCwgdGFnOiAxMTE2IH0sIHJlczogeyB0dGw6IGllLk9ORV9IT1VSLCBwcm9tcHQ6ICExLCB0YWc6IDExMTcgfSwgcmVqZWN0OiB7IHR0bDogaWUuRklWRV9NSU5VVEVTLCBwcm9tcHQ6ICExLCB0YWc6IDExMTggfSwgYXV0b1JlamVjdDogeyB0dGw6IGllLkZJVkVfTUlOVVRFUywgcHJvbXB0OiAhMSwgdGFnOiAxMTE5IH0gfSB9LCBzbyA9IHsgbWluOiBpZS5GSVZFX01JTlVURVMsIG1heDogaWUuU0VWRU5fREFZUyB9LCBQciA9IHsgaWRsZTogXCJJRExFXCIsIGFjdGl2ZTogXCJBQ1RJVkVcIiB9LCBlNSA9IFwicmVxdWVzdFwiLCB0NSA9IFtcIndjX3Nlc3Npb25Qcm9wb3NlXCIsIFwid2Nfc2Vzc2lvblJlcXVlc3RcIiwgXCJ3Y19hdXRoUmVxdWVzdFwiLCBcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIl0sIHI1ID0gXCJ3Y1wiLCBpNSA9IFwiYXV0aFwiLCBuNSA9IFwiYXV0aEtleXNcIiwgczUgPSBcInBhaXJpbmdUb3BpY3NcIiwgYTUgPSBcInJlcXVlc3RzXCIsIFBhID0gYCR7cjV9QCR7MS41fToke2k1fTpgLCAkcyA9IGAke1BhfTpQVUJfS0VZYDtcbnZhciBvNSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSwgZjUgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcywgYzUgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycywgQWggPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLCBoNSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksIHU1ID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZSwgRGggPSAociwgZSwgdCkgPT4gZSBpbiByID8gbzUociwgZSwgeyBlbnVtZXJhYmxlOiAhMCwgY29uZmlndXJhYmxlOiAhMCwgd3JpdGFibGU6ICEwLCB2YWx1ZTogdCB9KSA6IHJbZV0gPSB0LCBsdCA9IChyLCBlKSA9PiB7XG4gIGZvciAodmFyIHQgaW4gZSB8fCAoZSA9IHt9KSlcbiAgICBoNS5jYWxsKGUsIHQpICYmIERoKHIsIHQsIGVbdF0pO1xuICBpZiAoQWgpXG4gICAgZm9yICh2YXIgdCBvZiBBaChlKSlcbiAgICAgIHU1LmNhbGwoZSwgdCkgJiYgRGgociwgdCwgZVt0XSk7XG4gIHJldHVybiByO1xufSwgRXIgPSAociwgZSkgPT4gZjUociwgYzUoZSkpO1xuY2xhc3MgZDUgZXh0ZW5kcyB2cCB7XG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICBzdXBlcihlKSwgdGhpcy5uYW1lID0gUXcsIHRoaXMuZXZlbnRzID0gbmV3IHpoKCksIHRoaXMuaW5pdGlhbGl6ZWQgPSAhMSwgdGhpcy5yZXF1ZXN0UXVldWUgPSB7IHN0YXRlOiBQci5pZGxlLCBxdWV1ZTogW10gfSwgdGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlID0geyBzdGF0ZTogUHIuaWRsZSwgcXVldWU6IFtdIH0sIHRoaXMucmVxdWVzdFF1ZXVlRGVsYXkgPSBpZS5PTkVfU0VDT05ELCB0aGlzLmV4cGVjdGVkUGFpcmluZ01ldGhvZE1hcCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCksIHRoaXMucmVjZW50bHlEZWxldGVkTWFwID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSwgdGhpcy5yZWNlbnRseURlbGV0ZWRMaW1pdCA9IDIwMCwgdGhpcy5yZWxheU1lc3NhZ2VDYWNoZSA9IFtdLCB0aGlzLmluaXQgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0aGlzLmluaXRpYWxpemVkIHx8IChhd2FpdCB0aGlzLmNsZWFudXAoKSwgdGhpcy5yZWdpc3RlclJlbGF5ZXJFdmVudHMoKSwgdGhpcy5yZWdpc3RlckV4cGlyZXJFdmVudHMoKSwgdGhpcy5yZWdpc3RlclBhaXJpbmdFdmVudHMoKSwgYXdhaXQgdGhpcy5yZWdpc3RlckxpbmtNb2RlTGlzdGVuZXJzKCksIHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5yZWdpc3Rlcih7IG1ldGhvZHM6IE9iamVjdC5rZXlzKF90KSB9KSwgdGhpcy5pbml0aWFsaXplZCA9ICEwLCBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnF1ZXVlID0gdGhpcy5nZXRQZW5kaW5nU2Vzc2lvblJlcXVlc3RzKCksIHRoaXMucHJvY2Vzc1Nlc3Npb25SZXF1ZXN0UXVldWUoKTtcbiAgICAgIH0sIGllLnRvTWlsaXNlY29uZHModGhpcy5yZXF1ZXN0UXVldWVEZWxheSkpKTtcbiAgICB9LCB0aGlzLmNvbm5lY3QgPSBhc3luYyAodCkgPT4ge1xuICAgICAgdGhpcy5pc0luaXRpYWxpemVkKCksIGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO1xuICAgICAgY29uc3QgaSA9IEVyKGx0KHt9LCB0KSwgeyByZXF1aXJlZE5hbWVzcGFjZXM6IHQucmVxdWlyZWROYW1lc3BhY2VzIHx8IHt9LCBvcHRpb25hbE5hbWVzcGFjZXM6IHQub3B0aW9uYWxOYW1lc3BhY2VzIHx8IHt9IH0pO1xuICAgICAgYXdhaXQgdGhpcy5pc1ZhbGlkQ29ubmVjdChpKTtcbiAgICAgIGNvbnN0IHsgcGFpcmluZ1RvcGljOiBuLCByZXF1aXJlZE5hbWVzcGFjZXM6IHMsIG9wdGlvbmFsTmFtZXNwYWNlczogbywgc2Vzc2lvblByb3BlcnRpZXM6IGYsIHJlbGF5czogaCB9ID0gaTtcbiAgICAgIGxldCBkID0gbiwgdiwgdyA9ICExO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZCAmJiAodyA9IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5nZXQoZCkuYWN0aXZlKTtcbiAgICAgIH0gY2F0Y2ggKCQpIHtcbiAgICAgICAgdGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBjb25uZWN0KCkgLT4gcGFpcmluZy5nZXQoJHtkfSkgZmFpbGVkYCksICQ7XG4gICAgICB9XG4gICAgICBpZiAoIWQgfHwgIXcpIHtcbiAgICAgICAgY29uc3QgeyB0b3BpYzogJCwgdXJpOiB6IH0gPSBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuY3JlYXRlKCk7XG4gICAgICAgIGQgPSAkLCB2ID0gejtcbiAgICAgIH1cbiAgICAgIGlmICghZCkge1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2U6ICQgfSA9IGFlKFwiTk9fTUFUQ0hJTkdfS0VZXCIsIGBjb25uZWN0KCkgcGFpcmluZyB0b3BpYzogJHtkfWApO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJCk7XG4gICAgICB9XG4gICAgICBjb25zdCBBID0gYXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCksIEkgPSBfdC53Y19zZXNzaW9uUHJvcG9zZS5yZXEudHRsIHx8IGllLkZJVkVfTUlOVVRFUywgRCA9IG10KEkpLCBOID0gbHQoeyByZXF1aXJlZE5hbWVzcGFjZXM6IHMsIG9wdGlvbmFsTmFtZXNwYWNlczogbywgcmVsYXlzOiBoID8/IFt7IHByb3RvY29sOiBNZCB9XSwgcHJvcG9zZXI6IHsgcHVibGljS2V5OiBBLCBtZXRhZGF0YTogdGhpcy5jbGllbnQubWV0YWRhdGEgfSwgZXhwaXJ5VGltZXN0YW1wOiBELCBwYWlyaW5nVG9waWM6IGQgfSwgZiAmJiB7IHNlc3Npb25Qcm9wZXJ0aWVzOiBmIH0pLCB7IHJlamVjdDogaywgcmVzb2x2ZTogaiwgZG9uZTogVCB9ID0gTGkoSSwgWHcpO1xuICAgICAgdGhpcy5ldmVudHMub25jZShYZShcInNlc3Npb25fY29ubmVjdFwiKSwgYXN5bmMgKHsgZXJyb3I6ICQsIHNlc3Npb246IHogfSkgPT4ge1xuICAgICAgICBpZiAoJClcbiAgICAgICAgICBrKCQpO1xuICAgICAgICBlbHNlIGlmICh6KSB7XG4gICAgICAgICAgei5zZWxmLnB1YmxpY0tleSA9IEE7XG4gICAgICAgICAgY29uc3QgQiA9IEVyKGx0KHt9LCB6KSwgeyBwYWlyaW5nVG9waWM6IE4ucGFpcmluZ1RvcGljLCByZXF1aXJlZE5hbWVzcGFjZXM6IE4ucmVxdWlyZWROYW1lc3BhY2VzLCBvcHRpb25hbE5hbWVzcGFjZXM6IE4ub3B0aW9uYWxOYW1lc3BhY2VzLCB0cmFuc3BvcnRUeXBlOiBhdC5yZWxheSB9KTtcbiAgICAgICAgICBhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnNldCh6LnRvcGljLCBCKSwgYXdhaXQgdGhpcy5zZXRFeHBpcnkoei50b3BpYywgei5leHBpcnkpLCBkICYmIGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy51cGRhdGVNZXRhZGF0YSh7IHRvcGljOiBkLCBtZXRhZGF0YTogei5wZWVyLm1ldGFkYXRhIH0pLCB0aGlzLmNsZWFudXBEdXBsaWNhdGVQYWlyaW5ncyhCKSwgaihCKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zdCBLID0gYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCh7IHRvcGljOiBkLCBtZXRob2Q6IFwid2Nfc2Vzc2lvblByb3Bvc2VcIiwgcGFyYW1zOiBOLCB0aHJvd09uRmFpbGVkUHVibGlzaDogITAgfSk7XG4gICAgICByZXR1cm4gYXdhaXQgdGhpcy5zZXRQcm9wb3NhbChLLCBsdCh7IGlkOiBLIH0sIE4pKSwgeyB1cmk6IHYsIGFwcHJvdmFsOiBUIH07XG4gICAgfSwgdGhpcy5wYWlyID0gYXN5bmMgKHQpID0+IHtcbiAgICAgIHRoaXMuaXNJbml0aWFsaXplZCgpLCBhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcih0KTtcbiAgICAgIH0gY2F0Y2ggKGkpIHtcbiAgICAgICAgdGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKFwicGFpcigpIGZhaWxlZFwiKSwgaTtcbiAgICAgIH1cbiAgICB9LCB0aGlzLmFwcHJvdmUgPSBhc3luYyAodCkgPT4ge1xuICAgICAgdmFyIGksIG4sIHM7XG4gICAgICBjb25zdCBvID0gdGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5jcmVhdGVFdmVudCh7IHByb3BlcnRpZXM6IHsgdG9waWM6IChpID0gdD8uaWQpID09IG51bGwgPyB2b2lkIDAgOiBpLnRvU3RyaW5nKCksIHRyYWNlOiBbeHIuc2Vzc2lvbl9hcHByb3ZlX3N0YXJ0ZWRdIH0gfSk7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKSwgYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7XG4gICAgICB9IGNhdGNoIChSKSB7XG4gICAgICAgIHRocm93IG8uc2V0RXJyb3IoVGkubm9faW50ZXJuZXRfY29ubmVjdGlvbiksIFI7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLmlzVmFsaWRQcm9wb3NhbElkKHQ/LmlkKTtcbiAgICAgIH0gY2F0Y2ggKFIpIHtcbiAgICAgICAgdGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBhcHByb3ZlKCkgLT4gcHJvcG9zYWwuZ2V0KCR7dD8uaWR9KSBmYWlsZWRgKSwgby5zZXRFcnJvcihUaS5wcm9wb3NhbF9ub3RfZm91bmQpLCBSO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5pc1ZhbGlkQXBwcm92ZSh0KTtcbiAgICAgIH0gY2F0Y2ggKFIpIHtcbiAgICAgICAgdGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKFwiYXBwcm92ZSgpIC0+IGlzVmFsaWRBcHByb3ZlKCkgZmFpbGVkXCIpLCBvLnNldEVycm9yKFRpLnNlc3Npb25fYXBwcm92ZV9uYW1lc3BhY2VfdmFsaWRhdGlvbl9mYWlsdXJlKSwgUjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgaWQ6IGYsIHJlbGF5UHJvdG9jb2w6IGgsIG5hbWVzcGFjZXM6IGQsIHNlc3Npb25Qcm9wZXJ0aWVzOiB2LCBzZXNzaW9uQ29uZmlnOiB3IH0gPSB0LCBBID0gdGhpcy5jbGllbnQucHJvcG9zYWwuZ2V0KGYpO1xuICAgICAgdGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5kZWxldGVFdmVudCh7IGV2ZW50SWQ6IG8uZXZlbnRJZCB9KTtcbiAgICAgIGNvbnN0IHsgcGFpcmluZ1RvcGljOiBJLCBwcm9wb3NlcjogRCwgcmVxdWlyZWROYW1lc3BhY2VzOiBOLCBvcHRpb25hbE5hbWVzcGFjZXM6IGsgfSA9IEE7XG4gICAgICBsZXQgaiA9IChuID0gdGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IG4uZ2V0RXZlbnQoeyB0b3BpYzogSSB9KTtcbiAgICAgIGogfHwgKGogPSAocyA9IHRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQpID09IG51bGwgPyB2b2lkIDAgOiBzLmNyZWF0ZUV2ZW50KHsgdHlwZTogeHIuc2Vzc2lvbl9hcHByb3ZlX3N0YXJ0ZWQsIHByb3BlcnRpZXM6IHsgdG9waWM6IEksIHRyYWNlOiBbeHIuc2Vzc2lvbl9hcHByb3ZlX3N0YXJ0ZWQsIHhyLnNlc3Npb25fbmFtZXNwYWNlc192YWxpZGF0aW9uX3N1Y2Nlc3NdIH0gfSkpO1xuICAgICAgY29uc3QgVCA9IGF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlS2V5UGFpcigpLCBLID0gRC5wdWJsaWNLZXksICQgPSBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZVNoYXJlZEtleShULCBLKSwgeiA9IGx0KGx0KHsgcmVsYXk6IHsgcHJvdG9jb2w6IGggPz8gXCJpcm5cIiB9LCBuYW1lc3BhY2VzOiBkLCBjb250cm9sbGVyOiB7IHB1YmxpY0tleTogVCwgbWV0YWRhdGE6IHRoaXMuY2xpZW50Lm1ldGFkYXRhIH0sIGV4cGlyeTogbXQoc24pIH0sIHYgJiYgeyBzZXNzaW9uUHJvcGVydGllczogdiB9KSwgdyAmJiB7IHNlc3Npb25Db25maWc6IHcgfSksIEIgPSBhdC5yZWxheTtcbiAgICAgIGouYWRkVHJhY2UoeHIuc3Vic2NyaWJpbmdfc2Vzc2lvbl90b3BpYyk7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIuc3Vic2NyaWJlKCQsIHsgdHJhbnNwb3J0VHlwZTogQiB9KTtcbiAgICAgIH0gY2F0Y2ggKFIpIHtcbiAgICAgICAgdGhyb3cgai5zZXRFcnJvcihUaS5zdWJzY3JpYmVfc2Vzc2lvbl90b3BpY19mYWlsdXJlKSwgUjtcbiAgICAgIH1cbiAgICAgIGouYWRkVHJhY2UoeHIuc3Vic2NyaWJlX3Nlc3Npb25fdG9waWNfc3VjY2Vzcyk7XG4gICAgICBjb25zdCBfID0gRXIobHQoe30sIHopLCB7IHRvcGljOiAkLCByZXF1aXJlZE5hbWVzcGFjZXM6IE4sIG9wdGlvbmFsTmFtZXNwYWNlczogaywgcGFpcmluZ1RvcGljOiBJLCBhY2tub3dsZWRnZWQ6ICExLCBzZWxmOiB6LmNvbnRyb2xsZXIsIHBlZXI6IHsgcHVibGljS2V5OiBELnB1YmxpY0tleSwgbWV0YWRhdGE6IEQubWV0YWRhdGEgfSwgY29udHJvbGxlcjogVCwgdHJhbnNwb3J0VHlwZTogYXQucmVsYXkgfSk7XG4gICAgICBhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnNldCgkLCBfKSwgai5hZGRUcmFjZSh4ci5zdG9yZV9zZXNzaW9uKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGouYWRkVHJhY2UoeHIucHVibGlzaGluZ19zZXNzaW9uX3NldHRsZSksIGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoeyB0b3BpYzogJCwgbWV0aG9kOiBcIndjX3Nlc3Npb25TZXR0bGVcIiwgcGFyYW1zOiB6LCB0aHJvd09uRmFpbGVkUHVibGlzaDogITAgfSkuY2F0Y2goKFIpID0+IHtcbiAgICAgICAgICB0aHJvdyBqPy5zZXRFcnJvcihUaS5zZXNzaW9uX3NldHRsZV9wdWJsaXNoX2ZhaWx1cmUpLCBSO1xuICAgICAgICB9KSwgai5hZGRUcmFjZSh4ci5zZXNzaW9uX3NldHRsZV9wdWJsaXNoX3N1Y2Nlc3MpLCBqLmFkZFRyYWNlKHhyLnB1Ymxpc2hpbmdfc2Vzc2lvbl9hcHByb3ZlKSwgYXdhaXQgdGhpcy5zZW5kUmVzdWx0KHsgaWQ6IGYsIHRvcGljOiBJLCByZXN1bHQ6IHsgcmVsYXk6IHsgcHJvdG9jb2w6IGggPz8gXCJpcm5cIiB9LCByZXNwb25kZXJQdWJsaWNLZXk6IFQgfSwgdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ICEwIH0pLmNhdGNoKChSKSA9PiB7XG4gICAgICAgICAgdGhyb3cgaj8uc2V0RXJyb3IoVGkuc2Vzc2lvbl9hcHByb3ZlX3B1Ymxpc2hfZmFpbHVyZSksIFI7XG4gICAgICAgIH0pLCBqLmFkZFRyYWNlKHhyLnNlc3Npb25fYXBwcm92ZV9wdWJsaXNoX3N1Y2Nlc3MpO1xuICAgICAgfSBjYXRjaCAoUikge1xuICAgICAgICB0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoUiksIHRoaXMuY2xpZW50LnNlc3Npb24uZGVsZXRlKCQsIHN0KFwiVVNFUl9ESVNDT05ORUNURURcIikpLCBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIudW5zdWJzY3JpYmUoJCksIFI7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5kZWxldGVFdmVudCh7IGV2ZW50SWQ6IGouZXZlbnRJZCB9KSwgYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnVwZGF0ZU1ldGFkYXRhKHsgdG9waWM6IEksIG1ldGFkYXRhOiBELm1ldGFkYXRhIH0pLCBhd2FpdCB0aGlzLmNsaWVudC5wcm9wb3NhbC5kZWxldGUoZiwgc3QoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksIGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5hY3RpdmF0ZSh7IHRvcGljOiBJIH0pLCBhd2FpdCB0aGlzLnNldEV4cGlyeSgkLCBtdChzbikpLCB7IHRvcGljOiAkLCBhY2tub3dsZWRnZWQ6ICgpID0+IFByb21pc2UucmVzb2x2ZSh0aGlzLmNsaWVudC5zZXNzaW9uLmdldCgkKSkgfTtcbiAgICB9LCB0aGlzLnJlamVjdCA9IGFzeW5jICh0KSA9PiB7XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKSwgYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLmlzVmFsaWRSZWplY3QodCk7XG4gICAgICB9IGNhdGNoIChvKSB7XG4gICAgICAgIHRocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcInJlamVjdCgpIC0+IGlzVmFsaWRSZWplY3QoKSBmYWlsZWRcIiksIG87XG4gICAgICB9XG4gICAgICBjb25zdCB7IGlkOiBpLCByZWFzb246IG4gfSA9IHQ7XG4gICAgICBsZXQgcztcbiAgICAgIHRyeSB7XG4gICAgICAgIHMgPSB0aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQoaSkucGFpcmluZ1RvcGljO1xuICAgICAgfSBjYXRjaCAobykge1xuICAgICAgICB0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoYHJlamVjdCgpIC0+IHByb3Bvc2FsLmdldCgke2l9KSBmYWlsZWRgKSwgbztcbiAgICAgIH1cbiAgICAgIHMgJiYgKGF3YWl0IHRoaXMuc2VuZEVycm9yKHsgaWQ6IGksIHRvcGljOiBzLCBlcnJvcjogbiwgcnBjT3B0czogX3Qud2Nfc2Vzc2lvblByb3Bvc2UucmVqZWN0IH0pLCBhd2FpdCB0aGlzLmNsaWVudC5wcm9wb3NhbC5kZWxldGUoaSwgc3QoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSkpO1xuICAgIH0sIHRoaXMudXBkYXRlID0gYXN5bmMgKHQpID0+IHtcbiAgICAgIHRoaXMuaXNJbml0aWFsaXplZCgpLCBhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMuaXNWYWxpZFVwZGF0ZSh0KTtcbiAgICAgIH0gY2F0Y2ggKHcpIHtcbiAgICAgICAgdGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKFwidXBkYXRlKCkgLT4gaXNWYWxpZFVwZGF0ZSgpIGZhaWxlZFwiKSwgdztcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgdG9waWM6IGksIG5hbWVzcGFjZXM6IG4gfSA9IHQsIHsgZG9uZTogcywgcmVzb2x2ZTogbywgcmVqZWN0OiBmIH0gPSBMaSgpLCBoID0gb2koKSwgZCA9IHppKCkudG9TdHJpbmcoKSwgdiA9IHRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KGkpLm5hbWVzcGFjZXM7XG4gICAgICByZXR1cm4gdGhpcy5ldmVudHMub25jZShYZShcInNlc3Npb25fdXBkYXRlXCIsIGgpLCAoeyBlcnJvcjogdyB9KSA9PiB7XG4gICAgICAgIHcgPyBmKHcpIDogbygpO1xuICAgICAgfSksIGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKGksIHsgbmFtZXNwYWNlczogbiB9KSwgYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCh7IHRvcGljOiBpLCBtZXRob2Q6IFwid2Nfc2Vzc2lvblVwZGF0ZVwiLCBwYXJhbXM6IHsgbmFtZXNwYWNlczogbiB9LCB0aHJvd09uRmFpbGVkUHVibGlzaDogITAsIGNsaWVudFJwY0lkOiBoLCByZWxheVJwY0lkOiBkIH0pLmNhdGNoKCh3KSA9PiB7XG4gICAgICAgIHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcih3KSwgdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUoaSwgeyBuYW1lc3BhY2VzOiB2IH0pLCBmKHcpO1xuICAgICAgfSksIHsgYWNrbm93bGVkZ2VkOiBzIH07XG4gICAgfSwgdGhpcy5leHRlbmQgPSBhc3luYyAodCkgPT4ge1xuICAgICAgdGhpcy5pc0luaXRpYWxpemVkKCksIGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5pc1ZhbGlkRXh0ZW5kKHQpO1xuICAgICAgfSBjYXRjaCAoaCkge1xuICAgICAgICB0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoXCJleHRlbmQoKSAtPiBpc1ZhbGlkRXh0ZW5kKCkgZmFpbGVkXCIpLCBoO1xuICAgICAgfVxuICAgICAgY29uc3QgeyB0b3BpYzogaSB9ID0gdCwgbiA9IG9pKCksIHsgZG9uZTogcywgcmVzb2x2ZTogbywgcmVqZWN0OiBmIH0gPSBMaSgpO1xuICAgICAgcmV0dXJuIHRoaXMuZXZlbnRzLm9uY2UoWGUoXCJzZXNzaW9uX2V4dGVuZFwiLCBuKSwgKHsgZXJyb3I6IGggfSkgPT4ge1xuICAgICAgICBoID8gZihoKSA6IG8oKTtcbiAgICAgIH0pLCBhd2FpdCB0aGlzLnNldEV4cGlyeShpLCBtdChzbikpLCB0aGlzLnNlbmRSZXF1ZXN0KHsgdG9waWM6IGksIG1ldGhvZDogXCJ3Y19zZXNzaW9uRXh0ZW5kXCIsIHBhcmFtczoge30sIGNsaWVudFJwY0lkOiBuLCB0aHJvd09uRmFpbGVkUHVibGlzaDogITAgfSkuY2F0Y2goKGgpID0+IHtcbiAgICAgICAgZihoKTtcbiAgICAgIH0pLCB7IGFja25vd2xlZGdlZDogcyB9O1xuICAgIH0sIHRoaXMucmVxdWVzdCA9IGFzeW5jICh0KSA9PiB7XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMuaXNWYWxpZFJlcXVlc3QodCk7XG4gICAgICB9IGNhdGNoIChEKSB7XG4gICAgICAgIHRocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcInJlcXVlc3QoKSAtPiBpc1ZhbGlkUmVxdWVzdCgpIGZhaWxlZFwiKSwgRDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgY2hhaW5JZDogaSwgcmVxdWVzdDogbiwgdG9waWM6IHMsIGV4cGlyeTogbyA9IF90LndjX3Nlc3Npb25SZXF1ZXN0LnJlcS50dGwgfSA9IHQsIGYgPSB0aGlzLmNsaWVudC5zZXNzaW9uLmdldChzKTtcbiAgICAgIGY/LnRyYW5zcG9ydFR5cGUgPT09IGF0LnJlbGF5ICYmIGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO1xuICAgICAgY29uc3QgaCA9IG9pKCksIGQgPSB6aSgpLnRvU3RyaW5nKCksIHsgZG9uZTogdiwgcmVzb2x2ZTogdywgcmVqZWN0OiBBIH0gPSBMaShvLCBcIlJlcXVlc3QgZXhwaXJlZC4gUGxlYXNlIHRyeSBhZ2Fpbi5cIik7XG4gICAgICB0aGlzLmV2ZW50cy5vbmNlKFhlKFwic2Vzc2lvbl9yZXF1ZXN0XCIsIGgpLCAoeyBlcnJvcjogRCwgcmVzdWx0OiBOIH0pID0+IHtcbiAgICAgICAgRCA/IEEoRCkgOiB3KE4pO1xuICAgICAgfSk7XG4gICAgICBjb25zdCBJID0gdGhpcy5nZXRBcHBMaW5rSWZFbmFibGVkKGYucGVlci5tZXRhZGF0YSwgZi50cmFuc3BvcnRUeXBlKTtcbiAgICAgIHJldHVybiBJID8gKGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoeyBjbGllbnRScGNJZDogaCwgcmVsYXlScGNJZDogZCwgdG9waWM6IHMsIG1ldGhvZDogXCJ3Y19zZXNzaW9uUmVxdWVzdFwiLCBwYXJhbXM6IHsgcmVxdWVzdDogRXIobHQoe30sIG4pLCB7IGV4cGlyeVRpbWVzdGFtcDogbXQobykgfSksIGNoYWluSWQ6IGkgfSwgZXhwaXJ5OiBvLCB0aHJvd09uRmFpbGVkUHVibGlzaDogITAsIGFwcExpbms6IEkgfSkuY2F0Y2goKEQpID0+IEEoRCkpLCB0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcmVxdWVzdF9zZW50XCIsIHsgdG9waWM6IHMsIHJlcXVlc3Q6IG4sIGNoYWluSWQ6IGksIGlkOiBoIH0pLCBhd2FpdCB2KCkpIDogYXdhaXQgUHJvbWlzZS5hbGwoW25ldyBQcm9taXNlKGFzeW5jIChEKSA9PiB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoeyBjbGllbnRScGNJZDogaCwgcmVsYXlScGNJZDogZCwgdG9waWM6IHMsIG1ldGhvZDogXCJ3Y19zZXNzaW9uUmVxdWVzdFwiLCBwYXJhbXM6IHsgcmVxdWVzdDogRXIobHQoe30sIG4pLCB7IGV4cGlyeVRpbWVzdGFtcDogbXQobykgfSksIGNoYWluSWQ6IGkgfSwgZXhwaXJ5OiBvLCB0aHJvd09uRmFpbGVkUHVibGlzaDogITAgfSkuY2F0Y2goKE4pID0+IEEoTikpLCB0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcmVxdWVzdF9zZW50XCIsIHsgdG9waWM6IHMsIHJlcXVlc3Q6IG4sIGNoYWluSWQ6IGksIGlkOiBoIH0pLCBEKCk7XG4gICAgICB9KSwgbmV3IFByb21pc2UoYXN5bmMgKEQpID0+IHtcbiAgICAgICAgdmFyIE47XG4gICAgICAgIGlmICghKChOID0gZi5zZXNzaW9uQ29uZmlnKSAhPSBudWxsICYmIE4uZGlzYWJsZURlZXBMaW5rKSkge1xuICAgICAgICAgIGNvbnN0IGsgPSBhd2FpdCBjeSh0aGlzLmNsaWVudC5jb3JlLnN0b3JhZ2UsIEloKTtcbiAgICAgICAgICBhd2FpdCBveSh7IGlkOiBoLCB0b3BpYzogcywgd2NEZWVwTGluazogayB9KTtcbiAgICAgICAgfVxuICAgICAgICBEKCk7XG4gICAgICB9KSwgdigpXSkudGhlbigoRCkgPT4gRFsyXSk7XG4gICAgfSwgdGhpcy5yZXNwb25kID0gYXN5bmMgKHQpID0+IHtcbiAgICAgIHRoaXMuaXNJbml0aWFsaXplZCgpLCBhd2FpdCB0aGlzLmlzVmFsaWRSZXNwb25kKHQpO1xuICAgICAgY29uc3QgeyB0b3BpYzogaSwgcmVzcG9uc2U6IG4gfSA9IHQsIHsgaWQ6IHMgfSA9IG4sIG8gPSB0aGlzLmNsaWVudC5zZXNzaW9uLmdldChpKTtcbiAgICAgIG8udHJhbnNwb3J0VHlwZSA9PT0gYXQucmVsYXkgJiYgYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7XG4gICAgICBjb25zdCBmID0gdGhpcy5nZXRBcHBMaW5rSWZFbmFibGVkKG8ucGVlci5tZXRhZGF0YSwgby50cmFuc3BvcnRUeXBlKTtcbiAgICAgIFJyKG4pID8gYXdhaXQgdGhpcy5zZW5kUmVzdWx0KHsgaWQ6IHMsIHRvcGljOiBpLCByZXN1bHQ6IG4ucmVzdWx0LCB0aHJvd09uRmFpbGVkUHVibGlzaDogITAsIGFwcExpbms6IGYgfSkgOiBkcihuKSAmJiBhd2FpdCB0aGlzLnNlbmRFcnJvcih7IGlkOiBzLCB0b3BpYzogaSwgZXJyb3I6IG4uZXJyb3IsIGFwcExpbms6IGYgfSksIHRoaXMuY2xlYW51cEFmdGVyUmVzcG9uc2UodCk7XG4gICAgfSwgdGhpcy5waW5nID0gYXN5bmMgKHQpID0+IHtcbiAgICAgIHRoaXMuaXNJbml0aWFsaXplZCgpLCBhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMuaXNWYWxpZFBpbmcodCk7XG4gICAgICB9IGNhdGNoIChuKSB7XG4gICAgICAgIHRocm93IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihcInBpbmcoKSAtPiBpc1ZhbGlkUGluZygpIGZhaWxlZFwiKSwgbjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgdG9waWM6IGkgfSA9IHQ7XG4gICAgICBpZiAodGhpcy5jbGllbnQuc2Vzc2lvbi5rZXlzLmluY2x1ZGVzKGkpKSB7XG4gICAgICAgIGNvbnN0IG4gPSBvaSgpLCBzID0gemkoKS50b1N0cmluZygpLCB7IGRvbmU6IG8sIHJlc29sdmU6IGYsIHJlamVjdDogaCB9ID0gTGkoKTtcbiAgICAgICAgdGhpcy5ldmVudHMub25jZShYZShcInNlc3Npb25fcGluZ1wiLCBuKSwgKHsgZXJyb3I6IGQgfSkgPT4ge1xuICAgICAgICAgIGQgPyBoKGQpIDogZigpO1xuICAgICAgICB9KSwgYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuc2VuZFJlcXVlc3QoeyB0b3BpYzogaSwgbWV0aG9kOiBcIndjX3Nlc3Npb25QaW5nXCIsIHBhcmFtczoge30sIHRocm93T25GYWlsZWRQdWJsaXNoOiAhMCwgY2xpZW50UnBjSWQ6IG4sIHJlbGF5UnBjSWQ6IHMgfSksIG8oKV0pO1xuICAgICAgfSBlbHNlXG4gICAgICAgIHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5wYWlyaW5ncy5rZXlzLmluY2x1ZGVzKGkpICYmIGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5waW5nKHsgdG9waWM6IGkgfSk7XG4gICAgfSwgdGhpcy5lbWl0ID0gYXN5bmMgKHQpID0+IHtcbiAgICAgIHRoaXMuaXNJbml0aWFsaXplZCgpLCBhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKSwgYXdhaXQgdGhpcy5pc1ZhbGlkRW1pdCh0KTtcbiAgICAgIGNvbnN0IHsgdG9waWM6IGksIGV2ZW50OiBuLCBjaGFpbklkOiBzIH0gPSB0LCBvID0gemkoKS50b1N0cmluZygpLCBmID0gb2koKTtcbiAgICAgIGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoeyB0b3BpYzogaSwgbWV0aG9kOiBcIndjX3Nlc3Npb25FdmVudFwiLCBwYXJhbXM6IHsgZXZlbnQ6IG4sIGNoYWluSWQ6IHMgfSwgdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ICEwLCByZWxheVJwY0lkOiBvLCBjbGllbnRScGNJZDogZiB9KTtcbiAgICB9LCB0aGlzLmRpc2Nvbm5lY3QgPSBhc3luYyAodCkgPT4ge1xuICAgICAgdGhpcy5pc0luaXRpYWxpemVkKCksIGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpLCBhd2FpdCB0aGlzLmlzVmFsaWREaXNjb25uZWN0KHQpO1xuICAgICAgY29uc3QgeyB0b3BpYzogaSB9ID0gdDtcbiAgICAgIGlmICh0aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXMoaSkpXG4gICAgICAgIGF3YWl0IHRoaXMuc2VuZFJlcXVlc3QoeyB0b3BpYzogaSwgbWV0aG9kOiBcIndjX3Nlc3Npb25EZWxldGVcIiwgcGFyYW1zOiBzdChcIlVTRVJfRElTQ09OTkVDVEVEXCIpLCB0aHJvd09uRmFpbGVkUHVibGlzaDogITAgfSksIGF3YWl0IHRoaXMuZGVsZXRlU2Vzc2lvbih7IHRvcGljOiBpLCBlbWl0RXZlbnQ6ICExIH0pO1xuICAgICAgZWxzZSBpZiAodGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMoaSkpXG4gICAgICAgIGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5kaXNjb25uZWN0KHsgdG9waWM6IGkgfSk7XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgeyBtZXNzYWdlOiBuIH0gPSBhZShcIk1JU01BVENIRURfVE9QSUNcIiwgYFNlc3Npb24gb3IgcGFpcmluZyB0b3BpYyBub3QgZm91bmQ6ICR7aX1gKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG4pO1xuICAgICAgfVxuICAgIH0sIHRoaXMuZmluZCA9ICh0KSA9PiAodGhpcy5pc0luaXRpYWxpemVkKCksIHRoaXMuY2xpZW50LnNlc3Npb24uZ2V0QWxsKCkuZmlsdGVyKChpKSA9PiBobShpLCB0KSkpLCB0aGlzLmdldFBlbmRpbmdTZXNzaW9uUmVxdWVzdHMgPSAoKSA9PiB0aGlzLmNsaWVudC5wZW5kaW5nUmVxdWVzdC5nZXRBbGwoKSwgdGhpcy5hdXRoZW50aWNhdGUgPSBhc3luYyAodCwgaSkgPT4ge1xuICAgICAgdmFyIG47XG4gICAgICB0aGlzLmlzSW5pdGlhbGl6ZWQoKSwgdGhpcy5pc1ZhbGlkQXV0aGVudGljYXRlKHQpO1xuICAgICAgY29uc3QgcyA9IGkgJiYgdGhpcy5jbGllbnQuY29yZS5saW5rTW9kZVN1cHBvcnRlZEFwcHMuaW5jbHVkZXMoaSkgJiYgKChuID0gdGhpcy5jbGllbnQubWV0YWRhdGEucmVkaXJlY3QpID09IG51bGwgPyB2b2lkIDAgOiBuLmxpbmtNb2RlKSwgbyA9IHMgPyBhdC5saW5rX21vZGUgOiBhdC5yZWxheTtcbiAgICAgIG8gPT09IGF0LnJlbGF5ICYmIGF3YWl0IHRoaXMuY29uZmlybU9ubGluZVN0YXRlT3JUaHJvdygpO1xuICAgICAgY29uc3QgeyBjaGFpbnM6IGYsIHN0YXRlbWVudDogaCA9IFwiXCIsIHVyaTogZCwgZG9tYWluOiB2LCBub25jZTogdywgdHlwZTogQSwgZXhwOiBJLCBuYmY6IEQsIG1ldGhvZHM6IE4gPSBbXSwgZXhwaXJ5OiBrIH0gPSB0LCBqID0gWy4uLnQucmVzb3VyY2VzIHx8IFtdXSwgeyB0b3BpYzogVCwgdXJpOiBLIH0gPSBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuY3JlYXRlKHsgbWV0aG9kczogW1wid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiXSwgdHJhbnNwb3J0VHlwZTogbyB9KTtcbiAgICAgIHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKHsgbWVzc2FnZTogXCJHZW5lcmF0ZWQgbmV3IHBhaXJpbmdcIiwgcGFpcmluZzogeyB0b3BpYzogVCwgdXJpOiBLIH0gfSk7XG4gICAgICBjb25zdCAkID0gYXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCksIHogPSBDcygkKTtcbiAgICAgIGlmIChhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5jbGllbnQuYXV0aC5hdXRoS2V5cy5zZXQoJHMsIHsgcmVzcG9uc2VUb3BpYzogeiwgcHVibGljS2V5OiAkIH0pLCB0aGlzLmNsaWVudC5hdXRoLnBhaXJpbmdUb3BpY3Muc2V0KHosIHsgdG9waWM6IHosIHBhaXJpbmdUb3BpYzogVCB9KV0pLCBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIuc3Vic2NyaWJlKHosIHsgdHJhbnNwb3J0VHlwZTogbyB9KSwgdGhpcy5jbGllbnQubG9nZ2VyLmluZm8oYHNlbmRpbmcgcmVxdWVzdCB0byBuZXcgcGFpcmluZyB0b3BpYzogJHtUfWApLCBOLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc3QgeyBuYW1lc3BhY2U6IFMgfSA9IE5zKGZbMF0pO1xuICAgICAgICBsZXQgeCA9IFJ5KFMsIFwicmVxdWVzdFwiLCBOKTtcbiAgICAgICAgVHMoaikgJiYgKHggPSBUeSh4LCBqLnBvcCgpKSksIGoucHVzaCh4KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IEIgPSBrICYmIGsgPiBfdC53Y19zZXNzaW9uQXV0aGVudGljYXRlLnJlcS50dGwgPyBrIDogX3Qud2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZS5yZXEudHRsLCBfID0geyBhdXRoUGF5bG9hZDogeyB0eXBlOiBBID8/IFwiY2FpcDEyMlwiLCBjaGFpbnM6IGYsIHN0YXRlbWVudDogaCwgYXVkOiBkLCBkb21haW46IHYsIHZlcnNpb246IFwiMVwiLCBub25jZTogdywgaWF0OiAoLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkpLnRvSVNPU3RyaW5nKCksIGV4cDogSSwgbmJmOiBELCByZXNvdXJjZXM6IGogfSwgcmVxdWVzdGVyOiB7IHB1YmxpY0tleTogJCwgbWV0YWRhdGE6IHRoaXMuY2xpZW50Lm1ldGFkYXRhIH0sIGV4cGlyeVRpbWVzdGFtcDogbXQoQikgfSwgUiA9IHsgZWlwMTU1OiB7IGNoYWluczogZiwgbWV0aG9kczogWy4uLi8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KFtcInBlcnNvbmFsX3NpZ25cIiwgLi4uTl0pXSwgZXZlbnRzOiBbXCJjaGFpbkNoYW5nZWRcIiwgXCJhY2NvdW50c0NoYW5nZWRcIl0gfSB9LCBKID0geyByZXF1aXJlZE5hbWVzcGFjZXM6IHt9LCBvcHRpb25hbE5hbWVzcGFjZXM6IFIsIHJlbGF5czogW3sgcHJvdG9jb2w6IFwiaXJuXCIgfV0sIHBhaXJpbmdUb3BpYzogVCwgcHJvcG9zZXI6IHsgcHVibGljS2V5OiAkLCBtZXRhZGF0YTogdGhpcy5jbGllbnQubWV0YWRhdGEgfSwgZXhwaXJ5VGltZXN0YW1wOiBtdChfdC53Y19zZXNzaW9uUHJvcG9zZS5yZXEudHRsKSB9LCB7IGRvbmU6IFEsIHJlc29sdmU6IE8sIHJlamVjdDogcCB9ID0gTGkoQiwgXCJSZXF1ZXN0IGV4cGlyZWRcIiksIGwgPSBhc3luYyAoeyBlcnJvcjogUywgc2Vzc2lvbjogeCB9KSA9PiB7XG4gICAgICAgIGlmICh0aGlzLmV2ZW50cy5vZmYoWGUoXCJzZXNzaW9uX3JlcXVlc3RcIiwgYyksIGEpLCBTKVxuICAgICAgICAgIHAoUyk7XG4gICAgICAgIGVsc2UgaWYgKHgpIHtcbiAgICAgICAgICB4LnNlbGYucHVibGljS2V5ID0gJCwgYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi5zZXQoeC50b3BpYywgeCksIGF3YWl0IHRoaXMuc2V0RXhwaXJ5KHgudG9waWMsIHguZXhwaXJ5KSwgVCAmJiBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcudXBkYXRlTWV0YWRhdGEoeyB0b3BpYzogVCwgbWV0YWRhdGE6IHgucGVlci5tZXRhZGF0YSB9KTtcbiAgICAgICAgICBjb25zdCB1ID0gdGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQoeC50b3BpYyk7XG4gICAgICAgICAgYXdhaXQgdGhpcy5kZWxldGVQcm9wb3NhbChiKSwgTyh7IHNlc3Npb246IHUgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIGEgPSBhc3luYyAoUykgPT4ge1xuICAgICAgICB2YXIgeCwgdSwgbTtcbiAgICAgICAgaWYgKGF3YWl0IHRoaXMuZGVsZXRlUGVuZGluZ0F1dGhSZXF1ZXN0KGMsIHsgbWVzc2FnZTogXCJmdWxmaWxsZWRcIiwgY29kZTogMCB9KSwgUy5lcnJvcikge1xuICAgICAgICAgIGNvbnN0IHEgPSBzdChcIldDX01FVEhPRF9VTlNVUFBPUlRFRFwiLCBcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIik7XG4gICAgICAgICAgcmV0dXJuIFMuZXJyb3IuY29kZSA9PT0gcS5jb2RlID8gdm9pZCAwIDogKHRoaXMuZXZlbnRzLm9mZihYZShcInNlc3Npb25fY29ubmVjdFwiKSwgbCksIHAoUy5lcnJvci5tZXNzYWdlKSk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5kZWxldGVQcm9wb3NhbChiKSwgdGhpcy5ldmVudHMub2ZmKFhlKFwic2Vzc2lvbl9jb25uZWN0XCIpLCBsKTtcbiAgICAgICAgY29uc3QgeyBjYWNhb3M6IGcsIHJlc3BvbmRlcjogUCB9ID0gUy5yZXN1bHQsIEcgPSBbXSwgTSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHEgb2YgZykge1xuICAgICAgICAgIGF3YWl0IFJjKHsgY2FjYW86IHEsIHByb2plY3RJZDogdGhpcy5jbGllbnQuY29yZS5wcm9qZWN0SWQgfSkgfHwgKHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihxLCBcIlNpZ25hdHVyZSB2ZXJpZmljYXRpb24gZmFpbGVkXCIpLCBwKHN0KFwiU0VTU0lPTl9TRVRUTEVNRU5UX0ZBSUxFRFwiLCBcIlNpZ25hdHVyZSB2ZXJpZmljYXRpb24gZmFpbGVkXCIpKSk7XG4gICAgICAgICAgY29uc3QgeyBwOiBMIH0gPSBxLCB5ID0gVHMoTC5yZXNvdXJjZXMpLCBGID0gW0lvKEwuaXNzKV0sIFcgPSBKcyhMLmlzcyk7XG4gICAgICAgICAgaWYgKHkpIHtcbiAgICAgICAgICAgIGNvbnN0IFkgPSBOYyh5KSwgWCA9IFRjKHkpO1xuICAgICAgICAgICAgRy5wdXNoKC4uLlkpLCBGLnB1c2goLi4uWCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZvciAoY29uc3QgWSBvZiBGKVxuICAgICAgICAgICAgTS5wdXNoKGAke1l9OiR7V31gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBIID0gYXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVTaGFyZWRLZXkoJCwgUC5wdWJsaWNLZXkpO1xuICAgICAgICBsZXQgQztcbiAgICAgICAgRy5sZW5ndGggPiAwICYmIChDID0geyB0b3BpYzogSCwgYWNrbm93bGVkZ2VkOiAhMCwgc2VsZjogeyBwdWJsaWNLZXk6ICQsIG1ldGFkYXRhOiB0aGlzLmNsaWVudC5tZXRhZGF0YSB9LCBwZWVyOiBQLCBjb250cm9sbGVyOiBQLnB1YmxpY0tleSwgZXhwaXJ5OiBtdChzbiksIHJlcXVpcmVkTmFtZXNwYWNlczoge30sIG9wdGlvbmFsTmFtZXNwYWNlczoge30sIHJlbGF5OiB7IHByb3RvY29sOiBcImlyblwiIH0sIHBhaXJpbmdUb3BpYzogVCwgbmFtZXNwYWNlczoga2MoWy4uLm5ldyBTZXQoRyldLCBbLi4ubmV3IFNldChNKV0pLCB0cmFuc3BvcnRUeXBlOiBvIH0sIGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5zdWJzY3JpYmUoSCwgeyB0cmFuc3BvcnRUeXBlOiBvIH0pLCBhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnNldChILCBDKSwgVCAmJiBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcudXBkYXRlTWV0YWRhdGEoeyB0b3BpYzogVCwgbWV0YWRhdGE6IFAubWV0YWRhdGEgfSksIEMgPSB0aGlzLmNsaWVudC5zZXNzaW9uLmdldChIKSksICh4ID0gdGhpcy5jbGllbnQubWV0YWRhdGEucmVkaXJlY3QpICE9IG51bGwgJiYgeC5saW5rTW9kZSAmJiAodSA9IFAubWV0YWRhdGEucmVkaXJlY3QpICE9IG51bGwgJiYgdS5saW5rTW9kZSAmJiAobSA9IFAubWV0YWRhdGEucmVkaXJlY3QpICE9IG51bGwgJiYgbS51bml2ZXJzYWwgJiYgaSAmJiAodGhpcy5jbGllbnQuY29yZS5hZGRMaW5rTW9kZVN1cHBvcnRlZEFwcChQLm1ldGFkYXRhLnJlZGlyZWN0LnVuaXZlcnNhbCksIHRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKEgsIHsgdHJhbnNwb3J0VHlwZTogYXQubGlua19tb2RlIH0pKSwgTyh7IGF1dGhzOiBnLCBzZXNzaW9uOiBDIH0pO1xuICAgICAgfSwgYyA9IG9pKCksIGIgPSBvaSgpO1xuICAgICAgdGhpcy5ldmVudHMub25jZShYZShcInNlc3Npb25fY29ubmVjdFwiKSwgbCksIHRoaXMuZXZlbnRzLm9uY2UoWGUoXCJzZXNzaW9uX3JlcXVlc3RcIiwgYyksIGEpO1xuICAgICAgbGV0IEU7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAocykge1xuICAgICAgICAgIGNvbnN0IFMgPSBCaShcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIiwgXywgYyk7XG4gICAgICAgICAgdGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LnNldChULCBTKTtcbiAgICAgICAgICBjb25zdCB4ID0gYXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZW5jb2RlKFwiXCIsIFMsIHsgdHlwZTogZHMsIGVuY29kaW5nOiBMbiB9KTtcbiAgICAgICAgICBFID0gRXMoaSwgVCwgeCk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLnNlbmRSZXF1ZXN0KHsgdG9waWM6IFQsIG1ldGhvZDogXCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCIsIHBhcmFtczogXywgZXhwaXJ5OiB0LmV4cGlyeSwgdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ICEwLCBjbGllbnRScGNJZDogYyB9KSwgdGhpcy5zZW5kUmVxdWVzdCh7IHRvcGljOiBULCBtZXRob2Q6IFwid2Nfc2Vzc2lvblByb3Bvc2VcIiwgcGFyYW1zOiBKLCBleHBpcnk6IF90LndjX3Nlc3Npb25Qcm9wb3NlLnJlcS50dGwsIHRocm93T25GYWlsZWRQdWJsaXNoOiAhMCwgY2xpZW50UnBjSWQ6IGIgfSldKTtcbiAgICAgIH0gY2F0Y2ggKFMpIHtcbiAgICAgICAgdGhyb3cgdGhpcy5ldmVudHMub2ZmKFhlKFwic2Vzc2lvbl9jb25uZWN0XCIpLCBsKSwgdGhpcy5ldmVudHMub2ZmKFhlKFwic2Vzc2lvbl9yZXF1ZXN0XCIsIGMpLCBhKSwgUztcbiAgICAgIH1cbiAgICAgIHJldHVybiBhd2FpdCB0aGlzLnNldFByb3Bvc2FsKGIsIGx0KHsgaWQ6IGIgfSwgSikpLCBhd2FpdCB0aGlzLnNldEF1dGhSZXF1ZXN0KGMsIHsgcmVxdWVzdDogRXIobHQoe30sIF8pLCB7IHZlcmlmeUNvbnRleHQ6IHt9IH0pLCBwYWlyaW5nVG9waWM6IFQsIHRyYW5zcG9ydFR5cGU6IG8gfSksIHsgdXJpOiBFID8/IEssIHJlc3BvbnNlOiBRIH07XG4gICAgfSwgdGhpcy5hcHByb3ZlU2Vzc2lvbkF1dGhlbnRpY2F0ZSA9IGFzeW5jICh0KSA9PiB7XG4gICAgICBjb25zdCB7IGlkOiBpLCBhdXRoczogbiB9ID0gdCwgcyA9IHRoaXMuY2xpZW50LmNvcmUuZXZlbnRDbGllbnQuY3JlYXRlRXZlbnQoeyBwcm9wZXJ0aWVzOiB7IHRvcGljOiBpLnRvU3RyaW5nKCksIHRyYWNlOiBbQ2kuYXV0aGVudGljYXRlZF9zZXNzaW9uX2FwcHJvdmVfc3RhcnRlZF0gfSB9KTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHRoaXMuaXNJbml0aWFsaXplZCgpO1xuICAgICAgfSBjYXRjaCAoaykge1xuICAgICAgICB0aHJvdyBzLnNldEVycm9yKFVuLm5vX2ludGVybmV0X2Nvbm5lY3Rpb24pLCBrO1xuICAgICAgfVxuICAgICAgY29uc3QgbyA9IHRoaXMuZ2V0UGVuZGluZ0F1dGhSZXF1ZXN0KGkpO1xuICAgICAgaWYgKCFvKVxuICAgICAgICB0aHJvdyBzLnNldEVycm9yKFVuLmF1dGhlbnRpY2F0ZWRfc2Vzc2lvbl9wZW5kaW5nX3JlcXVlc3Rfbm90X2ZvdW5kKSwgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBwZW5kaW5nIGF1dGggcmVxdWVzdCB3aXRoIGlkICR7aX1gKTtcbiAgICAgIGNvbnN0IGYgPSBvLnRyYW5zcG9ydFR5cGUgfHwgYXQucmVsYXk7XG4gICAgICBmID09PSBhdC5yZWxheSAmJiBhd2FpdCB0aGlzLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTtcbiAgICAgIGNvbnN0IGggPSBvLnJlcXVlc3Rlci5wdWJsaWNLZXksIGQgPSBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZUtleVBhaXIoKSwgdiA9IENzKGgpLCB3ID0geyB0eXBlOiBoaSwgcmVjZWl2ZXJQdWJsaWNLZXk6IGgsIHNlbmRlclB1YmxpY0tleTogZCB9LCBBID0gW10sIEkgPSBbXTtcbiAgICAgIGZvciAoY29uc3QgayBvZiBuKSB7XG4gICAgICAgIGlmICghYXdhaXQgUmMoeyBjYWNhbzogaywgcHJvamVjdElkOiB0aGlzLmNsaWVudC5jb3JlLnByb2plY3RJZCB9KSkge1xuICAgICAgICAgIHMuc2V0RXJyb3IoVW4uaW52YWxpZF9jYWNhbyk7XG4gICAgICAgICAgY29uc3QgeiA9IHN0KFwiU0VTU0lPTl9TRVRUTEVNRU5UX0ZBSUxFRFwiLCBcIlNpZ25hdHVyZSB2ZXJpZmljYXRpb24gZmFpbGVkXCIpO1xuICAgICAgICAgIHRocm93IGF3YWl0IHRoaXMuc2VuZEVycm9yKHsgaWQ6IGksIHRvcGljOiB2LCBlcnJvcjogeiwgZW5jb2RlT3B0czogdyB9KSwgbmV3IEVycm9yKHoubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgcy5hZGRUcmFjZShDaS5jYWNhb3NfdmVyaWZpZWQpO1xuICAgICAgICBjb25zdCB7IHA6IGogfSA9IGssIFQgPSBUcyhqLnJlc291cmNlcyksIEsgPSBbSW8oai5pc3MpXSwgJCA9IEpzKGouaXNzKTtcbiAgICAgICAgaWYgKFQpIHtcbiAgICAgICAgICBjb25zdCB6ID0gTmMoVCksIEIgPSBUYyhUKTtcbiAgICAgICAgICBBLnB1c2goLi4ueiksIEsucHVzaCguLi5CKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IHogb2YgSylcbiAgICAgICAgICBJLnB1c2goYCR7en06JHskfWApO1xuICAgICAgfVxuICAgICAgY29uc3QgRCA9IGF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlU2hhcmVkS2V5KGQsIGgpO1xuICAgICAgcy5hZGRUcmFjZShDaS5jcmVhdGVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljKTtcbiAgICAgIGxldCBOO1xuICAgICAgaWYgKEE/Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgTiA9IHsgdG9waWM6IEQsIGFja25vd2xlZGdlZDogITAsIHNlbGY6IHsgcHVibGljS2V5OiBkLCBtZXRhZGF0YTogdGhpcy5jbGllbnQubWV0YWRhdGEgfSwgcGVlcjogeyBwdWJsaWNLZXk6IGgsIG1ldGFkYXRhOiBvLnJlcXVlc3Rlci5tZXRhZGF0YSB9LCBjb250cm9sbGVyOiBoLCBleHBpcnk6IG10KHNuKSwgYXV0aGVudGljYXRpb246IG4sIHJlcXVpcmVkTmFtZXNwYWNlczoge30sIG9wdGlvbmFsTmFtZXNwYWNlczoge30sIHJlbGF5OiB7IHByb3RvY29sOiBcImlyblwiIH0sIHBhaXJpbmdUb3BpYzogby5wYWlyaW5nVG9waWMsIG5hbWVzcGFjZXM6IGtjKFsuLi5uZXcgU2V0KEEpXSwgWy4uLm5ldyBTZXQoSSldKSwgdHJhbnNwb3J0VHlwZTogZiB9LCBzLmFkZFRyYWNlKENpLnN1YnNjcmliaW5nX2F1dGhlbnRpY2F0ZWRfc2Vzc2lvbl90b3BpYyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLnN1YnNjcmliZShELCB7IHRyYW5zcG9ydFR5cGU6IGYgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGspIHtcbiAgICAgICAgICB0aHJvdyBzLnNldEVycm9yKFVuLnN1YnNjcmliZV9hdXRoZW50aWNhdGVkX3Nlc3Npb25fdG9waWNfZmFpbHVyZSksIGs7XG4gICAgICAgIH1cbiAgICAgICAgcy5hZGRUcmFjZShDaS5zdWJzY3JpYmVfYXV0aGVudGljYXRlZF9zZXNzaW9uX3RvcGljX3N1Y2Nlc3MpLCBhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLnNldChELCBOKSwgcy5hZGRUcmFjZShDaS5zdG9yZV9hdXRoZW50aWNhdGVkX3Nlc3Npb24pLCBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcudXBkYXRlTWV0YWRhdGEoeyB0b3BpYzogby5wYWlyaW5nVG9waWMsIG1ldGFkYXRhOiBvLnJlcXVlc3Rlci5tZXRhZGF0YSB9KTtcbiAgICAgIH1cbiAgICAgIHMuYWRkVHJhY2UoQ2kucHVibGlzaGluZ19hdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZSk7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCB0aGlzLnNlbmRSZXN1bHQoeyB0b3BpYzogdiwgaWQ6IGksIHJlc3VsdDogeyBjYWNhb3M6IG4sIHJlc3BvbmRlcjogeyBwdWJsaWNLZXk6IGQsIG1ldGFkYXRhOiB0aGlzLmNsaWVudC5tZXRhZGF0YSB9IH0sIGVuY29kZU9wdHM6IHcsIHRocm93T25GYWlsZWRQdWJsaXNoOiAhMCwgYXBwTGluazogdGhpcy5nZXRBcHBMaW5rSWZFbmFibGVkKG8ucmVxdWVzdGVyLm1ldGFkYXRhLCBmKSB9KTtcbiAgICAgIH0gY2F0Y2ggKGspIHtcbiAgICAgICAgdGhyb3cgcy5zZXRFcnJvcihVbi5hdXRoZW50aWNhdGVkX3Nlc3Npb25fYXBwcm92ZV9wdWJsaXNoX2ZhaWx1cmUpLCBrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY2xpZW50LmF1dGgucmVxdWVzdHMuZGVsZXRlKGksIHsgbWVzc2FnZTogXCJmdWxmaWxsZWRcIiwgY29kZTogMCB9KSwgYXdhaXQgdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmFjdGl2YXRlKHsgdG9waWM6IG8ucGFpcmluZ1RvcGljIH0pLCB0aGlzLmNsaWVudC5jb3JlLmV2ZW50Q2xpZW50LmRlbGV0ZUV2ZW50KHsgZXZlbnRJZDogcy5ldmVudElkIH0pLCB7IHNlc3Npb246IE4gfTtcbiAgICB9LCB0aGlzLnJlamVjdFNlc3Npb25BdXRoZW50aWNhdGUgPSBhc3luYyAodCkgPT4ge1xuICAgICAgdGhpcy5pc0luaXRpYWxpemVkKCk7XG4gICAgICBjb25zdCB7IGlkOiBpLCByZWFzb246IG4gfSA9IHQsIHMgPSB0aGlzLmdldFBlbmRpbmdBdXRoUmVxdWVzdChpKTtcbiAgICAgIGlmICghcylcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBwZW5kaW5nIGF1dGggcmVxdWVzdCB3aXRoIGlkICR7aX1gKTtcbiAgICAgIHMudHJhbnNwb3J0VHlwZSA9PT0gYXQucmVsYXkgJiYgYXdhaXQgdGhpcy5jb25maXJtT25saW5lU3RhdGVPclRocm93KCk7XG4gICAgICBjb25zdCBvID0gcy5yZXF1ZXN0ZXIucHVibGljS2V5LCBmID0gYXdhaXQgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8uZ2VuZXJhdGVLZXlQYWlyKCksIGggPSBDcyhvKSwgZCA9IHsgdHlwZTogaGksIHJlY2VpdmVyUHVibGljS2V5OiBvLCBzZW5kZXJQdWJsaWNLZXk6IGYgfTtcbiAgICAgIGF3YWl0IHRoaXMuc2VuZEVycm9yKHsgaWQ6IGksIHRvcGljOiBoLCBlcnJvcjogbiwgZW5jb2RlT3B0czogZCwgcnBjT3B0czogX3Qud2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZS5yZWplY3QsIGFwcExpbms6IHRoaXMuZ2V0QXBwTGlua0lmRW5hYmxlZChzLnJlcXVlc3Rlci5tZXRhZGF0YSwgcy50cmFuc3BvcnRUeXBlKSB9KSwgYXdhaXQgdGhpcy5jbGllbnQuYXV0aC5yZXF1ZXN0cy5kZWxldGUoaSwgeyBtZXNzYWdlOiBcInJlamVjdGVkXCIsIGNvZGU6IDAgfSksIGF3YWl0IHRoaXMuY2xpZW50LnByb3Bvc2FsLmRlbGV0ZShpLCBzdChcIlVTRVJfRElTQ09OTkVDVEVEXCIpKTtcbiAgICB9LCB0aGlzLmZvcm1hdEF1dGhNZXNzYWdlID0gKHQpID0+IHtcbiAgICAgIHRoaXMuaXNJbml0aWFsaXplZCgpO1xuICAgICAgY29uc3QgeyByZXF1ZXN0OiBpLCBpc3M6IG4gfSA9IHQ7XG4gICAgICByZXR1cm4gZmQoaSwgbik7XG4gICAgfSwgdGhpcy5wcm9jZXNzUmVsYXlNZXNzYWdlQ2FjaGUgPSAoKSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMucmVsYXlNZXNzYWdlQ2FjaGUubGVuZ3RoICE9PSAwKVxuICAgICAgICAgIGZvciAoOyB0aGlzLnJlbGF5TWVzc2FnZUNhY2hlLmxlbmd0aCA+IDA7IClcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLnJlbGF5TWVzc2FnZUNhY2hlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgIHQgJiYgYXdhaXQgdGhpcy5vblJlbGF5TWVzc2FnZSh0KTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgICAgICAgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKHQpO1xuICAgICAgICAgICAgfVxuICAgICAgfSwgNTApO1xuICAgIH0sIHRoaXMuY2xlYW51cER1cGxpY2F0ZVBhaXJpbmdzID0gYXN5bmMgKHQpID0+IHtcbiAgICAgIGlmICh0LnBhaXJpbmdUb3BpYylcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBpID0gdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmdldCh0LnBhaXJpbmdUb3BpYyksIG4gPSB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3MuZ2V0QWxsKCkuZmlsdGVyKChzKSA9PiB7XG4gICAgICAgICAgICB2YXIgbywgZjtcbiAgICAgICAgICAgIHJldHVybiAoKG8gPSBzLnBlZXJNZXRhZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IG8udXJsKSAmJiAoKGYgPSBzLnBlZXJNZXRhZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IGYudXJsKSA9PT0gdC5wZWVyLm1ldGFkYXRhLnVybCAmJiBzLnRvcGljICYmIHMudG9waWMgIT09IGkudG9waWM7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKG4ubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBDbGVhbmluZyB1cCAke24ubGVuZ3RofSBkdXBsaWNhdGUgcGFpcmluZyhzKWApLCBhd2FpdCBQcm9taXNlLmFsbChuLm1hcCgocykgPT4gdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLmRpc2Nvbm5lY3QoeyB0b3BpYzogcy50b3BpYyB9KSkpLCB0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhcIkR1cGxpY2F0ZSBwYWlyaW5ncyBjbGVhbiB1cCBmaW5pc2hlZFwiKTtcbiAgICAgICAgfSBjYXRjaCAoaSkge1xuICAgICAgICAgIHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihpKTtcbiAgICAgICAgfVxuICAgIH0sIHRoaXMuZGVsZXRlU2Vzc2lvbiA9IGFzeW5jICh0KSA9PiB7XG4gICAgICB2YXIgaTtcbiAgICAgIGNvbnN0IHsgdG9waWM6IG4sIGV4cGlyZXJIYXNEZWxldGVkOiBzID0gITEsIGVtaXRFdmVudDogbyA9ICEwLCBpZDogZiA9IDAgfSA9IHQsIHsgc2VsZjogaCB9ID0gdGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQobik7XG4gICAgICBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIudW5zdWJzY3JpYmUobiksIGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24uZGVsZXRlKG4sIHN0KFwiVVNFUl9ESVNDT05ORUNURURcIikpLCB0aGlzLmFkZFRvUmVjZW50bHlEZWxldGVkKG4sIFwic2Vzc2lvblwiKSwgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8ua2V5Y2hhaW4uaGFzKGgucHVibGljS2V5KSAmJiBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5kZWxldGVLZXlQYWlyKGgucHVibGljS2V5KSwgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8ua2V5Y2hhaW4uaGFzKG4pICYmIGF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmRlbGV0ZVN5bUtleShuKSwgcyB8fCB0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuZGVsKG4pLCB0aGlzLmNsaWVudC5jb3JlLnN0b3JhZ2UucmVtb3ZlSXRlbShJaCkuY2F0Y2goKGQpID0+IHRoaXMuY2xpZW50LmxvZ2dlci53YXJuKGQpKSwgdGhpcy5nZXRQZW5kaW5nU2Vzc2lvblJlcXVlc3RzKCkuZm9yRWFjaCgoZCkgPT4ge1xuICAgICAgICBkLnRvcGljID09PSBuICYmIHRoaXMuZGVsZXRlUGVuZGluZ1Nlc3Npb25SZXF1ZXN0KGQuaWQsIHN0KFwiVVNFUl9ESVNDT05ORUNURURcIikpO1xuICAgICAgfSksIG4gPT09ICgoaSA9IHRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5xdWV1ZVswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IGkudG9waWMpICYmICh0aGlzLnNlc3Npb25SZXF1ZXN0UXVldWUuc3RhdGUgPSBQci5pZGxlKSwgbyAmJiB0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fZGVsZXRlXCIsIHsgaWQ6IGYsIHRvcGljOiBuIH0pO1xuICAgIH0sIHRoaXMuZGVsZXRlUHJvcG9zYWwgPSBhc3luYyAodCwgaSkgPT4ge1xuICAgICAgaWYgKGkpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgY29uc3QgbiA9IHRoaXMuY2xpZW50LnByb3Bvc2FsLmdldCh0KTtcbiAgICAgICAgICB0aGlzLmNsaWVudC5jb3JlLmV2ZW50Q2xpZW50LmdldEV2ZW50KHsgdG9waWM6IG4ucGFpcmluZ1RvcGljIH0pPy5zZXRFcnJvcihUaS5wcm9wb3NhbF9leHBpcmVkKTtcbiAgICAgICAgfSBjYXRjaCB7XG4gICAgICAgIH1cbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLmNsaWVudC5wcm9wb3NhbC5kZWxldGUodCwgc3QoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSksIGkgPyBQcm9taXNlLnJlc29sdmUoKSA6IHRoaXMuY2xpZW50LmNvcmUuZXhwaXJlci5kZWwodCldKSwgdGhpcy5hZGRUb1JlY2VudGx5RGVsZXRlZCh0LCBcInByb3Bvc2FsXCIpO1xuICAgIH0sIHRoaXMuZGVsZXRlUGVuZGluZ1Nlc3Npb25SZXF1ZXN0ID0gYXN5bmMgKHQsIGksIG4gPSAhMSkgPT4ge1xuICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoW3RoaXMuY2xpZW50LnBlbmRpbmdSZXF1ZXN0LmRlbGV0ZSh0LCBpKSwgbiA/IFByb21pc2UucmVzb2x2ZSgpIDogdGhpcy5jbGllbnQuY29yZS5leHBpcmVyLmRlbCh0KV0pLCB0aGlzLmFkZFRvUmVjZW50bHlEZWxldGVkKHQsIFwicmVxdWVzdFwiKSwgdGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnF1ZXVlID0gdGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnF1ZXVlLmZpbHRlcigocykgPT4gcy5pZCAhPT0gdCksIG4gJiYgKHRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5zdGF0ZSA9IFByLmlkbGUsIHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9yZXF1ZXN0X2V4cGlyZVwiLCB7IGlkOiB0IH0pKTtcbiAgICB9LCB0aGlzLmRlbGV0ZVBlbmRpbmdBdXRoUmVxdWVzdCA9IGFzeW5jICh0LCBpLCBuID0gITEpID0+IHtcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFt0aGlzLmNsaWVudC5hdXRoLnJlcXVlc3RzLmRlbGV0ZSh0LCBpKSwgbiA/IFByb21pc2UucmVzb2x2ZSgpIDogdGhpcy5jbGllbnQuY29yZS5leHBpcmVyLmRlbCh0KV0pO1xuICAgIH0sIHRoaXMuc2V0RXhwaXJ5ID0gYXN5bmMgKHQsIGkpID0+IHtcbiAgICAgIHRoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyh0KSAmJiAodGhpcy5jbGllbnQuY29yZS5leHBpcmVyLnNldCh0LCBpKSwgYXdhaXQgdGhpcy5jbGllbnQuc2Vzc2lvbi51cGRhdGUodCwgeyBleHBpcnk6IGkgfSkpO1xuICAgIH0sIHRoaXMuc2V0UHJvcG9zYWwgPSBhc3luYyAodCwgaSkgPT4ge1xuICAgICAgdGhpcy5jbGllbnQuY29yZS5leHBpcmVyLnNldCh0LCBtdChfdC53Y19zZXNzaW9uUHJvcG9zZS5yZXEudHRsKSksIGF3YWl0IHRoaXMuY2xpZW50LnByb3Bvc2FsLnNldCh0LCBpKTtcbiAgICB9LCB0aGlzLnNldEF1dGhSZXF1ZXN0ID0gYXN5bmMgKHQsIGkpID0+IHtcbiAgICAgIGNvbnN0IHsgcmVxdWVzdDogbiwgcGFpcmluZ1RvcGljOiBzLCB0cmFuc3BvcnRUeXBlOiBvID0gYXQucmVsYXkgfSA9IGk7XG4gICAgICB0aGlzLmNsaWVudC5jb3JlLmV4cGlyZXIuc2V0KHQsIG4uZXhwaXJ5VGltZXN0YW1wKSwgYXdhaXQgdGhpcy5jbGllbnQuYXV0aC5yZXF1ZXN0cy5zZXQodCwgeyBhdXRoUGF5bG9hZDogbi5hdXRoUGF5bG9hZCwgcmVxdWVzdGVyOiBuLnJlcXVlc3RlciwgZXhwaXJ5VGltZXN0YW1wOiBuLmV4cGlyeVRpbWVzdGFtcCwgaWQ6IHQsIHBhaXJpbmdUb3BpYzogcywgdmVyaWZ5Q29udGV4dDogbi52ZXJpZnlDb250ZXh0LCB0cmFuc3BvcnRUeXBlOiBvIH0pO1xuICAgIH0sIHRoaXMuc2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0ID0gYXN5bmMgKHQpID0+IHtcbiAgICAgIGNvbnN0IHsgaWQ6IGksIHRvcGljOiBuLCBwYXJhbXM6IHMsIHZlcmlmeUNvbnRleHQ6IG8gfSA9IHQsIGYgPSBzLnJlcXVlc3QuZXhwaXJ5VGltZXN0YW1wIHx8IG10KF90LndjX3Nlc3Npb25SZXF1ZXN0LnJlcS50dGwpO1xuICAgICAgdGhpcy5jbGllbnQuY29yZS5leHBpcmVyLnNldChpLCBmKSwgYXdhaXQgdGhpcy5jbGllbnQucGVuZGluZ1JlcXVlc3Quc2V0KGksIHsgaWQ6IGksIHRvcGljOiBuLCBwYXJhbXM6IHMsIHZlcmlmeUNvbnRleHQ6IG8gfSk7XG4gICAgfSwgdGhpcy5zZW5kUmVxdWVzdCA9IGFzeW5jICh0KSA9PiB7XG4gICAgICBjb25zdCB7IHRvcGljOiBpLCBtZXRob2Q6IG4sIHBhcmFtczogcywgZXhwaXJ5OiBvLCByZWxheVJwY0lkOiBmLCBjbGllbnRScGNJZDogaCwgdGhyb3dPbkZhaWxlZFB1Ymxpc2g6IGQsIGFwcExpbms6IHYgfSA9IHQsIHcgPSBCaShuLCBzLCBoKTtcbiAgICAgIGxldCBBO1xuICAgICAgY29uc3QgSSA9ICEhdjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGsgPSBJID8gTG4gOiB3aTtcbiAgICAgICAgQSA9IGF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmVuY29kZShpLCB3LCB7IGVuY29kaW5nOiBrIH0pO1xuICAgICAgfSBjYXRjaCAoaykge1xuICAgICAgICB0aHJvdyBhd2FpdCB0aGlzLmNsZWFudXAoKSwgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBzZW5kUmVxdWVzdCgpIC0+IGNvcmUuY3J5cHRvLmVuY29kZSgpIGZvciB0b3BpYyAke2l9IGZhaWxlZGApLCBrO1xuICAgICAgfVxuICAgICAgbGV0IEQ7XG4gICAgICBpZiAodDUuaW5jbHVkZXMobikpIHtcbiAgICAgICAgY29uc3QgayA9IGZpKEpTT04uc3RyaW5naWZ5KHcpKSwgaiA9IGZpKEEpO1xuICAgICAgICBEID0gYXdhaXQgdGhpcy5jbGllbnQuY29yZS52ZXJpZnkucmVnaXN0ZXIoeyBpZDogaiwgZGVjcnlwdGVkSWQ6IGsgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCBOID0gX3Rbbl0ucmVxO1xuICAgICAgaWYgKE4uYXR0ZXN0YXRpb24gPSBELCBvICYmIChOLnR0bCA9IG8pLCBmICYmIChOLmlkID0gZiksIHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5zZXQoaSwgdyksIEkpIHtcbiAgICAgICAgY29uc3QgayA9IEVzKHYsIGksIEEpO1xuICAgICAgICBhd2FpdCBnbG9iYWwuTGlua2luZy5vcGVuVVJMKGssIHRoaXMuY2xpZW50Lm5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgayA9IF90W25dLnJlcTtcbiAgICAgICAgbyAmJiAoay50dGwgPSBvKSwgZiAmJiAoay5pZCA9IGYpLCBkID8gKGsuaW50ZXJuYWwgPSBFcihsdCh7fSwgay5pbnRlcm5hbCksIHsgdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ICEwIH0pLCBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIucHVibGlzaChpLCBBLCBrKSkgOiB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIucHVibGlzaChpLCBBLCBrKS5jYXRjaCgoaikgPT4gdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGopKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3LmlkO1xuICAgIH0sIHRoaXMuc2VuZFJlc3VsdCA9IGFzeW5jICh0KSA9PiB7XG4gICAgICBjb25zdCB7IGlkOiBpLCB0b3BpYzogbiwgcmVzdWx0OiBzLCB0aHJvd09uRmFpbGVkUHVibGlzaDogbywgZW5jb2RlT3B0czogZiwgYXBwTGluazogaCB9ID0gdCwgZCA9IE1hKGksIHMpO1xuICAgICAgbGV0IHY7XG4gICAgICBjb25zdCB3ID0gaCAmJiB0eXBlb2YgKGdsb2JhbCA9PSBudWxsID8gdm9pZCAwIDogZ2xvYmFsLkxpbmtpbmcpIDwgXCJ1XCI7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBJID0gdyA/IExuIDogd2k7XG4gICAgICAgIHYgPSBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5lbmNvZGUobiwgZCwgRXIobHQoe30sIGYgfHwge30pLCB7IGVuY29kaW5nOiBJIH0pKTtcbiAgICAgIH0gY2F0Y2ggKEkpIHtcbiAgICAgICAgdGhyb3cgYXdhaXQgdGhpcy5jbGVhbnVwKCksIHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgc2VuZFJlc3VsdCgpIC0+IGNvcmUuY3J5cHRvLmVuY29kZSgpIGZvciB0b3BpYyAke259IGZhaWxlZGApLCBJO1xuICAgICAgfVxuICAgICAgbGV0IEE7XG4gICAgICB0cnkge1xuICAgICAgICBBID0gYXdhaXQgdGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LmdldChuLCBpKTtcbiAgICAgIH0gY2F0Y2ggKEkpIHtcbiAgICAgICAgdGhyb3cgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGBzZW5kUmVzdWx0KCkgLT4gaGlzdG9yeS5nZXQoJHtufSwgJHtpfSkgZmFpbGVkYCksIEk7XG4gICAgICB9XG4gICAgICBpZiAodykge1xuICAgICAgICBjb25zdCBJID0gRXMoaCwgbiwgdik7XG4gICAgICAgIGF3YWl0IGdsb2JhbC5MaW5raW5nLm9wZW5VUkwoSSwgdGhpcy5jbGllbnQubmFtZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBJID0gX3RbQS5yZXF1ZXN0Lm1ldGhvZF0ucmVzO1xuICAgICAgICBvID8gKEkuaW50ZXJuYWwgPSBFcihsdCh7fSwgSS5pbnRlcm5hbCksIHsgdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ICEwIH0pLCBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIucHVibGlzaChuLCB2LCBJKSkgOiB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIucHVibGlzaChuLCB2LCBJKS5jYXRjaCgoRCkgPT4gdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKEQpKTtcbiAgICAgIH1cbiAgICAgIGF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5yZXNvbHZlKGQpO1xuICAgIH0sIHRoaXMuc2VuZEVycm9yID0gYXN5bmMgKHQpID0+IHtcbiAgICAgIGNvbnN0IHsgaWQ6IGksIHRvcGljOiBuLCBlcnJvcjogcywgZW5jb2RlT3B0czogbywgcnBjT3B0czogZiwgYXBwTGluazogaCB9ID0gdCwgZCA9IElhKGksIHMpO1xuICAgICAgbGV0IHY7XG4gICAgICBjb25zdCB3ID0gaCAmJiB0eXBlb2YgKGdsb2JhbCA9PSBudWxsID8gdm9pZCAwIDogZ2xvYmFsLkxpbmtpbmcpIDwgXCJ1XCI7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBJID0gdyA/IExuIDogd2k7XG4gICAgICAgIHYgPSBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5lbmNvZGUobiwgZCwgRXIobHQoe30sIG8gfHwge30pLCB7IGVuY29kaW5nOiBJIH0pKTtcbiAgICAgIH0gY2F0Y2ggKEkpIHtcbiAgICAgICAgdGhyb3cgYXdhaXQgdGhpcy5jbGVhbnVwKCksIHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihgc2VuZEVycm9yKCkgLT4gY29yZS5jcnlwdG8uZW5jb2RlKCkgZm9yIHRvcGljICR7bn0gZmFpbGVkYCksIEk7XG4gICAgICB9XG4gICAgICBsZXQgQTtcbiAgICAgIHRyeSB7XG4gICAgICAgIEEgPSBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkuZ2V0KG4sIGkpO1xuICAgICAgfSBjYXRjaCAoSSkge1xuICAgICAgICB0aHJvdyB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoYHNlbmRFcnJvcigpIC0+IGhpc3RvcnkuZ2V0KCR7bn0sICR7aX0pIGZhaWxlZGApLCBJO1xuICAgICAgfVxuICAgICAgaWYgKHcpIHtcbiAgICAgICAgY29uc3QgSSA9IEVzKGgsIG4sIHYpO1xuICAgICAgICBhd2FpdCBnbG9iYWwuTGlua2luZy5vcGVuVVJMKEksIHRoaXMuY2xpZW50Lm5hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgSSA9IGYgfHwgX3RbQS5yZXF1ZXN0Lm1ldGhvZF0ucmVzO1xuICAgICAgICB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIucHVibGlzaChuLCB2LCBJKTtcbiAgICAgIH1cbiAgICAgIGF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5yZXNvbHZlKGQpO1xuICAgIH0sIHRoaXMuY2xlYW51cCA9IGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHQgPSBbXSwgaSA9IFtdO1xuICAgICAgdGhpcy5jbGllbnQuc2Vzc2lvbi5nZXRBbGwoKS5mb3JFYWNoKChuKSA9PiB7XG4gICAgICAgIGxldCBzID0gITE7XG4gICAgICAgIGdpKG4uZXhwaXJ5KSAmJiAocyA9ICEwKSwgdGhpcy5jbGllbnQuY29yZS5jcnlwdG8ua2V5Y2hhaW4uaGFzKG4udG9waWMpIHx8IChzID0gITApLCBzICYmIHQucHVzaChuLnRvcGljKTtcbiAgICAgIH0pLCB0aGlzLmNsaWVudC5wcm9wb3NhbC5nZXRBbGwoKS5mb3JFYWNoKChuKSA9PiB7XG4gICAgICAgIGdpKG4uZXhwaXJ5VGltZXN0YW1wKSAmJiBpLnB1c2gobi5pZCk7XG4gICAgICB9KSwgYXdhaXQgUHJvbWlzZS5hbGwoWy4uLnQubWFwKChuKSA9PiB0aGlzLmRlbGV0ZVNlc3Npb24oeyB0b3BpYzogbiB9KSksIC4uLmkubWFwKChuKSA9PiB0aGlzLmRlbGV0ZVByb3Bvc2FsKG4pKV0pO1xuICAgIH0sIHRoaXMub25SZWxheUV2ZW50UmVxdWVzdCA9IGFzeW5jICh0KSA9PiB7XG4gICAgICB0aGlzLnJlcXVlc3RRdWV1ZS5xdWV1ZS5wdXNoKHQpLCBhd2FpdCB0aGlzLnByb2Nlc3NSZXF1ZXN0c1F1ZXVlKCk7XG4gICAgfSwgdGhpcy5wcm9jZXNzUmVxdWVzdHNRdWV1ZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICh0aGlzLnJlcXVlc3RRdWV1ZS5zdGF0ZSA9PT0gUHIuYWN0aXZlKSB7XG4gICAgICAgIHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKFwiUmVxdWVzdCBxdWV1ZSBhbHJlYWR5IGFjdGl2ZSwgc2tpcHBpbmcuLi5cIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAodGhpcy5jbGllbnQubG9nZ2VyLmluZm8oYFJlcXVlc3QgcXVldWUgc3RhcnRpbmcgd2l0aCAke3RoaXMucmVxdWVzdFF1ZXVlLnF1ZXVlLmxlbmd0aH0gcmVxdWVzdHNgKTsgdGhpcy5yZXF1ZXN0UXVldWUucXVldWUubGVuZ3RoID4gMDsgKSB7XG4gICAgICAgIHRoaXMucmVxdWVzdFF1ZXVlLnN0YXRlID0gUHIuYWN0aXZlO1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5yZXF1ZXN0UXVldWUucXVldWUuc2hpZnQoKTtcbiAgICAgICAgaWYgKHQpXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucHJvY2Vzc1JlcXVlc3QodCk7XG4gICAgICAgICAgfSBjYXRjaCAoaSkge1xuICAgICAgICAgICAgdGhpcy5jbGllbnQubG9nZ2VyLndhcm4oaSk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5yZXF1ZXN0UXVldWUuc3RhdGUgPSBQci5pZGxlO1xuICAgIH0sIHRoaXMucHJvY2Vzc1JlcXVlc3QgPSBhc3luYyAodCkgPT4ge1xuICAgICAgY29uc3QgeyB0b3BpYzogaSwgcGF5bG9hZDogbiwgYXR0ZXN0YXRpb246IHMsIHRyYW5zcG9ydFR5cGU6IG8sIGVuY3J5cHRlZElkOiBmIH0gPSB0LCBoID0gbi5tZXRob2Q7XG4gICAgICBpZiAoIXRoaXMuc2hvdWxkSWdub3JlUGFpcmluZ1JlcXVlc3QoeyB0b3BpYzogaSwgcmVxdWVzdE1ldGhvZDogaCB9KSlcbiAgICAgICAgc3dpdGNoIChoKSB7XG4gICAgICAgICAgY2FzZSBcIndjX3Nlc3Npb25Qcm9wb3NlXCI6XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25Qcm9wb3NlUmVxdWVzdCh7IHRvcGljOiBpLCBwYXlsb2FkOiBuLCBhdHRlc3RhdGlvbjogcywgZW5jcnlwdGVkSWQ6IGYgfSk7XG4gICAgICAgICAgY2FzZSBcIndjX3Nlc3Npb25TZXR0bGVcIjpcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvblNldHRsZVJlcXVlc3QoaSwgbik7XG4gICAgICAgICAgY2FzZSBcIndjX3Nlc3Npb25VcGRhdGVcIjpcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvblVwZGF0ZVJlcXVlc3QoaSwgbik7XG4gICAgICAgICAgY2FzZSBcIndjX3Nlc3Npb25FeHRlbmRcIjpcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvbkV4dGVuZFJlcXVlc3QoaSwgbik7XG4gICAgICAgICAgY2FzZSBcIndjX3Nlc3Npb25QaW5nXCI6XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5vblNlc3Npb25QaW5nUmVxdWVzdChpLCBuKTtcbiAgICAgICAgICBjYXNlIFwid2Nfc2Vzc2lvbkRlbGV0ZVwiOlxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uRGVsZXRlUmVxdWVzdChpLCBuKTtcbiAgICAgICAgICBjYXNlIFwid2Nfc2Vzc2lvblJlcXVlc3RcIjpcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvblJlcXVlc3QoeyB0b3BpYzogaSwgcGF5bG9hZDogbiwgYXR0ZXN0YXRpb246IHMsIGVuY3J5cHRlZElkOiBmLCB0cmFuc3BvcnRUeXBlOiBvIH0pO1xuICAgICAgICAgIGNhc2UgXCJ3Y19zZXNzaW9uRXZlbnRcIjpcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLm9uU2Vzc2lvbkV2ZW50UmVxdWVzdChpLCBuKTtcbiAgICAgICAgICBjYXNlIFwid2Nfc2Vzc2lvbkF1dGhlbnRpY2F0ZVwiOlxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMub25TZXNzaW9uQXV0aGVudGljYXRlUmVxdWVzdCh7IHRvcGljOiBpLCBwYXlsb2FkOiBuLCBhdHRlc3RhdGlvbjogcywgZW5jcnlwdGVkSWQ6IGYsIHRyYW5zcG9ydFR5cGU6IG8gfSk7XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhgVW5zdXBwb3J0ZWQgcmVxdWVzdCBtZXRob2QgJHtofWApO1xuICAgICAgICB9XG4gICAgfSwgdGhpcy5vblJlbGF5RXZlbnRSZXNwb25zZSA9IGFzeW5jICh0KSA9PiB7XG4gICAgICBjb25zdCB7IHRvcGljOiBpLCBwYXlsb2FkOiBuLCB0cmFuc3BvcnRUeXBlOiBzIH0gPSB0LCBvID0gKGF3YWl0IHRoaXMuY2xpZW50LmNvcmUuaGlzdG9yeS5nZXQoaSwgbi5pZCkpLnJlcXVlc3QubWV0aG9kO1xuICAgICAgc3dpdGNoIChvKSB7XG4gICAgICAgIGNhc2UgXCJ3Y19zZXNzaW9uUHJvcG9zZVwiOlxuICAgICAgICAgIHJldHVybiB0aGlzLm9uU2Vzc2lvblByb3Bvc2VSZXNwb25zZShpLCBuLCBzKTtcbiAgICAgICAgY2FzZSBcIndjX3Nlc3Npb25TZXR0bGVcIjpcbiAgICAgICAgICByZXR1cm4gdGhpcy5vblNlc3Npb25TZXR0bGVSZXNwb25zZShpLCBuKTtcbiAgICAgICAgY2FzZSBcIndjX3Nlc3Npb25VcGRhdGVcIjpcbiAgICAgICAgICByZXR1cm4gdGhpcy5vblNlc3Npb25VcGRhdGVSZXNwb25zZShpLCBuKTtcbiAgICAgICAgY2FzZSBcIndjX3Nlc3Npb25FeHRlbmRcIjpcbiAgICAgICAgICByZXR1cm4gdGhpcy5vblNlc3Npb25FeHRlbmRSZXNwb25zZShpLCBuKTtcbiAgICAgICAgY2FzZSBcIndjX3Nlc3Npb25QaW5nXCI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMub25TZXNzaW9uUGluZ1Jlc3BvbnNlKGksIG4pO1xuICAgICAgICBjYXNlIFwid2Nfc2Vzc2lvblJlcXVlc3RcIjpcbiAgICAgICAgICByZXR1cm4gdGhpcy5vblNlc3Npb25SZXF1ZXN0UmVzcG9uc2UoaSwgbik7XG4gICAgICAgIGNhc2UgXCJ3Y19zZXNzaW9uQXV0aGVudGljYXRlXCI6XG4gICAgICAgICAgcmV0dXJuIHRoaXMub25TZXNzaW9uQXV0aGVudGljYXRlUmVzcG9uc2UoaSwgbik7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKGBVbnN1cHBvcnRlZCByZXNwb25zZSBtZXRob2QgJHtvfWApO1xuICAgICAgfVxuICAgIH0sIHRoaXMub25SZWxheUV2ZW50VW5rbm93blBheWxvYWQgPSAodCkgPT4ge1xuICAgICAgY29uc3QgeyB0b3BpYzogaSB9ID0gdCwgeyBtZXNzYWdlOiBuIH0gPSBhZShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLCBgRGVjb2RlZCBwYXlsb2FkIG9uIHRvcGljICR7aX0gaXMgbm90IGlkZW50aWZpYWJsZSBhcyBhIEpTT04tUlBDIHJlcXVlc3Qgb3IgYSByZXNwb25zZS5gKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihuKTtcbiAgICB9LCB0aGlzLnNob3VsZElnbm9yZVBhaXJpbmdSZXF1ZXN0ID0gKHQpID0+IHtcbiAgICAgIGNvbnN0IHsgdG9waWM6IGksIHJlcXVlc3RNZXRob2Q6IG4gfSA9IHQsIHMgPSB0aGlzLmV4cGVjdGVkUGFpcmluZ01ldGhvZE1hcC5nZXQoaSk7XG4gICAgICByZXR1cm4gIXMgfHwgcy5pbmNsdWRlcyhuKSA/ICExIDogISEocy5pbmNsdWRlcyhcIndjX3Nlc3Npb25BdXRoZW50aWNhdGVcIikgJiYgdGhpcy5jbGllbnQuZXZlbnRzLmxpc3RlbmVyQ291bnQoXCJzZXNzaW9uX2F1dGhlbnRpY2F0ZVwiKSA+IDApO1xuICAgIH0sIHRoaXMub25TZXNzaW9uUHJvcG9zZVJlcXVlc3QgPSBhc3luYyAodCkgPT4ge1xuICAgICAgY29uc3QgeyB0b3BpYzogaSwgcGF5bG9hZDogbiwgYXR0ZXN0YXRpb246IHMsIGVuY3J5cHRlZElkOiBvIH0gPSB0LCB7IHBhcmFtczogZiwgaWQ6IGggfSA9IG47XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkID0gdGhpcy5jbGllbnQuY29yZS5ldmVudENsaWVudC5nZXRFdmVudCh7IHRvcGljOiBpIH0pO1xuICAgICAgICB0aGlzLmNsaWVudC5ldmVudHMubGlzdGVuZXJDb3VudChcInNlc3Npb25fcHJvcG9zYWxcIikgPT09IDAgJiYgKGNvbnNvbGUud2FybihcIk5vIGxpc3RlbmVyIGZvciBzZXNzaW9uX3Byb3Bvc2FsIGV2ZW50XCIpLCBkPy5zZXRFcnJvcihhaS5wcm9wb3NhbF9saXN0ZW5lcl9ub3RfZm91bmQpKSwgdGhpcy5pc1ZhbGlkQ29ubmVjdChsdCh7fSwgbi5wYXJhbXMpKTtcbiAgICAgICAgY29uc3QgdiA9IGYuZXhwaXJ5VGltZXN0YW1wIHx8IG10KF90LndjX3Nlc3Npb25Qcm9wb3NlLnJlcS50dGwpLCB3ID0gbHQoeyBpZDogaCwgcGFpcmluZ1RvcGljOiBpLCBleHBpcnlUaW1lc3RhbXA6IHYgfSwgZik7XG4gICAgICAgIGF3YWl0IHRoaXMuc2V0UHJvcG9zYWwoaCwgdyk7XG4gICAgICAgIGNvbnN0IEEgPSBhd2FpdCB0aGlzLmdldFZlcmlmeUNvbnRleHQoeyBhdHRlc3RhdGlvbklkOiBzLCBoYXNoOiBmaShKU09OLnN0cmluZ2lmeShuKSksIGVuY3J5cHRlZElkOiBvLCBtZXRhZGF0YTogdy5wcm9wb3Nlci5tZXRhZGF0YSB9KTtcbiAgICAgICAgZD8uYWRkVHJhY2UoT3IuZW1pdF9zZXNzaW9uX3Byb3Bvc2FsKSwgdGhpcy5jbGllbnQuZXZlbnRzLmVtaXQoXCJzZXNzaW9uX3Byb3Bvc2FsXCIsIHsgaWQ6IGgsIHBhcmFtczogdywgdmVyaWZ5Q29udGV4dDogQSB9KTtcbiAgICAgIH0gY2F0Y2ggKGQpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zZW5kRXJyb3IoeyBpZDogaCwgdG9waWM6IGksIGVycm9yOiBkLCBycGNPcHRzOiBfdC53Y19zZXNzaW9uUHJvcG9zZS5hdXRvUmVqZWN0IH0pLCB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3IoZCk7XG4gICAgICB9XG4gICAgfSwgdGhpcy5vblNlc3Npb25Qcm9wb3NlUmVzcG9uc2UgPSBhc3luYyAodCwgaSwgbikgPT4ge1xuICAgICAgY29uc3QgeyBpZDogcyB9ID0gaTtcbiAgICAgIGlmIChScihpKSkge1xuICAgICAgICBjb25zdCB7IHJlc3VsdDogbyB9ID0gaTtcbiAgICAgICAgdGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHsgdHlwZTogXCJtZXRob2RcIiwgbWV0aG9kOiBcIm9uU2Vzc2lvblByb3Bvc2VSZXNwb25zZVwiLCByZXN1bHQ6IG8gfSk7XG4gICAgICAgIGNvbnN0IGYgPSB0aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQocyk7XG4gICAgICAgIHRoaXMuY2xpZW50LmxvZ2dlci50cmFjZSh7IHR5cGU6IFwibWV0aG9kXCIsIG1ldGhvZDogXCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIiwgcHJvcG9zYWw6IGYgfSk7XG4gICAgICAgIGNvbnN0IGggPSBmLnByb3Bvc2VyLnB1YmxpY0tleTtcbiAgICAgICAgdGhpcy5jbGllbnQubG9nZ2VyLnRyYWNlKHsgdHlwZTogXCJtZXRob2RcIiwgbWV0aG9kOiBcIm9uU2Vzc2lvblByb3Bvc2VSZXNwb25zZVwiLCBzZWxmUHVibGljS2V5OiBoIH0pO1xuICAgICAgICBjb25zdCBkID0gby5yZXNwb25kZXJQdWJsaWNLZXk7XG4gICAgICAgIHRoaXMuY2xpZW50LmxvZ2dlci50cmFjZSh7IHR5cGU6IFwibWV0aG9kXCIsIG1ldGhvZDogXCJvblNlc3Npb25Qcm9wb3NlUmVzcG9uc2VcIiwgcGVlclB1YmxpY0tleTogZCB9KTtcbiAgICAgICAgY29uc3QgdiA9IGF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmdlbmVyYXRlU2hhcmVkS2V5KGgsIGQpO1xuICAgICAgICB0aGlzLmNsaWVudC5sb2dnZXIudHJhY2UoeyB0eXBlOiBcIm1ldGhvZFwiLCBtZXRob2Q6IFwib25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlXCIsIHNlc3Npb25Ub3BpYzogdiB9KTtcbiAgICAgICAgY29uc3QgdyA9IGF3YWl0IHRoaXMuY2xpZW50LmNvcmUucmVsYXllci5zdWJzY3JpYmUodiwgeyB0cmFuc3BvcnRUeXBlOiBuIH0pO1xuICAgICAgICB0aGlzLmNsaWVudC5sb2dnZXIudHJhY2UoeyB0eXBlOiBcIm1ldGhvZFwiLCBtZXRob2Q6IFwib25TZXNzaW9uUHJvcG9zZVJlc3BvbnNlXCIsIHN1YnNjcmlwdGlvbklkOiB3IH0pLCBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuYWN0aXZhdGUoeyB0b3BpYzogdCB9KTtcbiAgICAgIH0gZWxzZSBpZiAoZHIoaSkpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5jbGllbnQucHJvcG9zYWwuZGVsZXRlKHMsIHN0KFwiVVNFUl9ESVNDT05ORUNURURcIikpO1xuICAgICAgICBjb25zdCBvID0gWGUoXCJzZXNzaW9uX2Nvbm5lY3RcIik7XG4gICAgICAgIGlmICh0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KG8pID09PSAwKVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtvfSB3aXRob3V0IGFueSBsaXN0ZW5lcnMsIDk1NGApO1xuICAgICAgICB0aGlzLmV2ZW50cy5lbWl0KFhlKFwic2Vzc2lvbl9jb25uZWN0XCIpLCB7IGVycm9yOiBpLmVycm9yIH0pO1xuICAgICAgfVxuICAgIH0sIHRoaXMub25TZXNzaW9uU2V0dGxlUmVxdWVzdCA9IGFzeW5jICh0LCBpKSA9PiB7XG4gICAgICBjb25zdCB7IGlkOiBuLCBwYXJhbXM6IHMgfSA9IGk7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmlzVmFsaWRTZXNzaW9uU2V0dGxlUmVxdWVzdChzKTtcbiAgICAgICAgY29uc3QgeyByZWxheTogbywgY29udHJvbGxlcjogZiwgZXhwaXJ5OiBoLCBuYW1lc3BhY2VzOiBkLCBzZXNzaW9uUHJvcGVydGllczogdiwgc2Vzc2lvbkNvbmZpZzogdyB9ID0gaS5wYXJhbXMsIEEgPSBFcihsdChsdCh7IHRvcGljOiB0LCByZWxheTogbywgZXhwaXJ5OiBoLCBuYW1lc3BhY2VzOiBkLCBhY2tub3dsZWRnZWQ6ICEwLCBwYWlyaW5nVG9waWM6IFwiXCIsIHJlcXVpcmVkTmFtZXNwYWNlczoge30sIG9wdGlvbmFsTmFtZXNwYWNlczoge30sIGNvbnRyb2xsZXI6IGYucHVibGljS2V5LCBzZWxmOiB7IHB1YmxpY0tleTogXCJcIiwgbWV0YWRhdGE6IHRoaXMuY2xpZW50Lm1ldGFkYXRhIH0sIHBlZXI6IHsgcHVibGljS2V5OiBmLnB1YmxpY0tleSwgbWV0YWRhdGE6IGYubWV0YWRhdGEgfSB9LCB2ICYmIHsgc2Vzc2lvblByb3BlcnRpZXM6IHYgfSksIHcgJiYgeyBzZXNzaW9uQ29uZmlnOiB3IH0pLCB7IHRyYW5zcG9ydFR5cGU6IGF0LnJlbGF5IH0pLCBJID0gWGUoXCJzZXNzaW9uX2Nvbm5lY3RcIik7XG4gICAgICAgIGlmICh0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KEkpID09PSAwKVxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtJfSB3aXRob3V0IGFueSBsaXN0ZW5lcnMgOTk3YCk7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoWGUoXCJzZXNzaW9uX2Nvbm5lY3RcIiksIHsgc2Vzc2lvbjogQSB9KSwgYXdhaXQgdGhpcy5zZW5kUmVzdWx0KHsgaWQ6IGkuaWQsIHRvcGljOiB0LCByZXN1bHQ6ICEwLCB0aHJvd09uRmFpbGVkUHVibGlzaDogITAgfSk7XG4gICAgICB9IGNhdGNoIChvKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2VuZEVycm9yKHsgaWQ6IG4sIHRvcGljOiB0LCBlcnJvcjogbyB9KSwgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKG8pO1xuICAgICAgfVxuICAgIH0sIHRoaXMub25TZXNzaW9uU2V0dGxlUmVzcG9uc2UgPSBhc3luYyAodCwgaSkgPT4ge1xuICAgICAgY29uc3QgeyBpZDogbiB9ID0gaTtcbiAgICAgIFJyKGkpID8gKGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKHQsIHsgYWNrbm93bGVkZ2VkOiAhMCB9KSwgdGhpcy5ldmVudHMuZW1pdChYZShcInNlc3Npb25fYXBwcm92ZVwiLCBuKSwge30pKSA6IGRyKGkpICYmIChhd2FpdCB0aGlzLmNsaWVudC5zZXNzaW9uLmRlbGV0ZSh0LCBzdChcIlVTRVJfRElTQ09OTkVDVEVEXCIpKSwgdGhpcy5ldmVudHMuZW1pdChYZShcInNlc3Npb25fYXBwcm92ZVwiLCBuKSwgeyBlcnJvcjogaS5lcnJvciB9KSk7XG4gICAgfSwgdGhpcy5vblNlc3Npb25VcGRhdGVSZXF1ZXN0ID0gYXN5bmMgKHQsIGkpID0+IHtcbiAgICAgIGNvbnN0IHsgcGFyYW1zOiBuLCBpZDogcyB9ID0gaTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG8gPSBgJHt0fV9zZXNzaW9uX3VwZGF0ZWAsIGYgPSBGbi5nZXQobyk7XG4gICAgICAgIGlmIChmICYmIHRoaXMuaXNSZXF1ZXN0T3V0T2ZTeW5jKGYsIHMpKSB7XG4gICAgICAgICAgdGhpcy5jbGllbnQubG9nZ2VyLndhcm4oYERpc2NhcmRpbmcgb3V0IG9mIHN5bmMgcmVxdWVzdCAtICR7c31gKSwgdGhpcy5zZW5kRXJyb3IoeyBpZDogcywgdG9waWM6IHQsIGVycm9yOiBzdChcIklOVkFMSURfVVBEQVRFX1JFUVVFU1RcIikgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaXNWYWxpZFVwZGF0ZShsdCh7IHRvcGljOiB0IH0sIG4pKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBGbi5zZXQobywgcyksIGF3YWl0IHRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKHQsIHsgbmFtZXNwYWNlczogbi5uYW1lc3BhY2VzIH0pLCBhd2FpdCB0aGlzLnNlbmRSZXN1bHQoeyBpZDogcywgdG9waWM6IHQsIHJlc3VsdDogITAsIHRocm93T25GYWlsZWRQdWJsaXNoOiAhMCB9KTtcbiAgICAgICAgfSBjYXRjaCAoaCkge1xuICAgICAgICAgIHRocm93IEZuLmRlbGV0ZShvKSwgaDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fdXBkYXRlXCIsIHsgaWQ6IHMsIHRvcGljOiB0LCBwYXJhbXM6IG4gfSk7XG4gICAgICB9IGNhdGNoIChvKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2VuZEVycm9yKHsgaWQ6IHMsIHRvcGljOiB0LCBlcnJvcjogbyB9KSwgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKG8pO1xuICAgICAgfVxuICAgIH0sIHRoaXMuaXNSZXF1ZXN0T3V0T2ZTeW5jID0gKHQsIGkpID0+IGkudG9TdHJpbmcoKS5zbGljZSgwLCAtMykgPCB0LnRvU3RyaW5nKCkuc2xpY2UoMCwgLTMpLCB0aGlzLm9uU2Vzc2lvblVwZGF0ZVJlc3BvbnNlID0gKHQsIGkpID0+IHtcbiAgICAgIGNvbnN0IHsgaWQ6IG4gfSA9IGksIHMgPSBYZShcInNlc3Npb25fdXBkYXRlXCIsIG4pO1xuICAgICAgaWYgKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQocykgPT09IDApXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtzfSB3aXRob3V0IGFueSBsaXN0ZW5lcnNgKTtcbiAgICAgIFJyKGkpID8gdGhpcy5ldmVudHMuZW1pdChYZShcInNlc3Npb25fdXBkYXRlXCIsIG4pLCB7fSkgOiBkcihpKSAmJiB0aGlzLmV2ZW50cy5lbWl0KFhlKFwic2Vzc2lvbl91cGRhdGVcIiwgbiksIHsgZXJyb3I6IGkuZXJyb3IgfSk7XG4gICAgfSwgdGhpcy5vblNlc3Npb25FeHRlbmRSZXF1ZXN0ID0gYXN5bmMgKHQsIGkpID0+IHtcbiAgICAgIGNvbnN0IHsgaWQ6IG4gfSA9IGk7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmlzVmFsaWRFeHRlbmQoeyB0b3BpYzogdCB9KSwgYXdhaXQgdGhpcy5zZXRFeHBpcnkodCwgbXQoc24pKSwgYXdhaXQgdGhpcy5zZW5kUmVzdWx0KHsgaWQ6IG4sIHRvcGljOiB0LCByZXN1bHQ6ICEwLCB0aHJvd09uRmFpbGVkUHVibGlzaDogITAgfSksIHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9leHRlbmRcIiwgeyBpZDogbiwgdG9waWM6IHQgfSk7XG4gICAgICB9IGNhdGNoIChzKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2VuZEVycm9yKHsgaWQ6IG4sIHRvcGljOiB0LCBlcnJvcjogcyB9KSwgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKHMpO1xuICAgICAgfVxuICAgIH0sIHRoaXMub25TZXNzaW9uRXh0ZW5kUmVzcG9uc2UgPSAodCwgaSkgPT4ge1xuICAgICAgY29uc3QgeyBpZDogbiB9ID0gaSwgcyA9IFhlKFwic2Vzc2lvbl9leHRlbmRcIiwgbik7XG4gICAgICBpZiAodGhpcy5ldmVudHMubGlzdGVuZXJDb3VudChzKSA9PT0gMClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBlbWl0dGluZyAke3N9IHdpdGhvdXQgYW55IGxpc3RlbmVyc2ApO1xuICAgICAgUnIoaSkgPyB0aGlzLmV2ZW50cy5lbWl0KFhlKFwic2Vzc2lvbl9leHRlbmRcIiwgbiksIHt9KSA6IGRyKGkpICYmIHRoaXMuZXZlbnRzLmVtaXQoWGUoXCJzZXNzaW9uX2V4dGVuZFwiLCBuKSwgeyBlcnJvcjogaS5lcnJvciB9KTtcbiAgICB9LCB0aGlzLm9uU2Vzc2lvblBpbmdSZXF1ZXN0ID0gYXN5bmMgKHQsIGkpID0+IHtcbiAgICAgIGNvbnN0IHsgaWQ6IG4gfSA9IGk7XG4gICAgICB0cnkge1xuICAgICAgICB0aGlzLmlzVmFsaWRQaW5nKHsgdG9waWM6IHQgfSksIGF3YWl0IHRoaXMuc2VuZFJlc3VsdCh7IGlkOiBuLCB0b3BpYzogdCwgcmVzdWx0OiAhMCwgdGhyb3dPbkZhaWxlZFB1Ymxpc2g6ICEwIH0pLCB0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fcGluZ1wiLCB7IGlkOiBuLCB0b3BpYzogdCB9KTtcbiAgICAgIH0gY2F0Y2ggKHMpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zZW5kRXJyb3IoeyBpZDogbiwgdG9waWM6IHQsIGVycm9yOiBzIH0pLCB0aGlzLmNsaWVudC5sb2dnZXIuZXJyb3Iocyk7XG4gICAgICB9XG4gICAgfSwgdGhpcy5vblNlc3Npb25QaW5nUmVzcG9uc2UgPSAodCwgaSkgPT4ge1xuICAgICAgY29uc3QgeyBpZDogbiB9ID0gaSwgcyA9IFhlKFwic2Vzc2lvbl9waW5nXCIsIG4pO1xuICAgICAgaWYgKHRoaXMuZXZlbnRzLmxpc3RlbmVyQ291bnQocykgPT09IDApXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgZW1pdHRpbmcgJHtzfSB3aXRob3V0IGFueSBsaXN0ZW5lcnNgKTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBScihpKSA/IHRoaXMuZXZlbnRzLmVtaXQoWGUoXCJzZXNzaW9uX3BpbmdcIiwgbiksIHt9KSA6IGRyKGkpICYmIHRoaXMuZXZlbnRzLmVtaXQoWGUoXCJzZXNzaW9uX3BpbmdcIiwgbiksIHsgZXJyb3I6IGkuZXJyb3IgfSk7XG4gICAgICB9LCA1MDApO1xuICAgIH0sIHRoaXMub25TZXNzaW9uRGVsZXRlUmVxdWVzdCA9IGFzeW5jICh0LCBpKSA9PiB7XG4gICAgICBjb25zdCB7IGlkOiBuIH0gPSBpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5pc1ZhbGlkRGlzY29ubmVjdCh7IHRvcGljOiB0LCByZWFzb246IGkucGFyYW1zIH0pLCBQcm9taXNlLmFsbChbbmV3IFByb21pc2UoKHMpID0+IHtcbiAgICAgICAgICB0aGlzLmNsaWVudC5jb3JlLnJlbGF5ZXIub25jZShFdC5wdWJsaXNoLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBzKGF3YWl0IHRoaXMuZGVsZXRlU2Vzc2lvbih7IHRvcGljOiB0LCBpZDogbiB9KSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pLCB0aGlzLnNlbmRSZXN1bHQoeyBpZDogbiwgdG9waWM6IHQsIHJlc3VsdDogITAsIHRocm93T25GYWlsZWRQdWJsaXNoOiAhMCB9KSwgdGhpcy5jbGVhbnVwUGVuZGluZ1NlbnRSZXF1ZXN0c0ZvclRvcGljKHsgdG9waWM6IHQsIGVycm9yOiBzdChcIlVTRVJfRElTQ09OTkVDVEVEXCIpIH0pXSkuY2F0Y2goKHMpID0+IHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihzKSk7XG4gICAgICB9IGNhdGNoIChzKSB7XG4gICAgICAgIHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihzKTtcbiAgICAgIH1cbiAgICB9LCB0aGlzLm9uU2Vzc2lvblJlcXVlc3QgPSBhc3luYyAodCkgPT4ge1xuICAgICAgdmFyIGksIG4sIHM7XG4gICAgICBjb25zdCB7IHRvcGljOiBvLCBwYXlsb2FkOiBmLCBhdHRlc3RhdGlvbjogaCwgZW5jcnlwdGVkSWQ6IGQsIHRyYW5zcG9ydFR5cGU6IHYgfSA9IHQsIHsgaWQ6IHcsIHBhcmFtczogQSB9ID0gZjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHRoaXMuaXNWYWxpZFJlcXVlc3QobHQoeyB0b3BpYzogbyB9LCBBKSk7XG4gICAgICAgIGNvbnN0IEkgPSB0aGlzLmNsaWVudC5zZXNzaW9uLmdldChvKSwgRCA9IGF3YWl0IHRoaXMuZ2V0VmVyaWZ5Q29udGV4dCh7IGF0dGVzdGF0aW9uSWQ6IGgsIGhhc2g6IGZpKEpTT04uc3RyaW5naWZ5KEJpKFwid2Nfc2Vzc2lvblJlcXVlc3RcIiwgQSwgdykpKSwgZW5jcnlwdGVkSWQ6IGQsIG1ldGFkYXRhOiBJLnBlZXIubWV0YWRhdGEsIHRyYW5zcG9ydFR5cGU6IHYgfSksIE4gPSB7IGlkOiB3LCB0b3BpYzogbywgcGFyYW1zOiBBLCB2ZXJpZnlDb250ZXh0OiBEIH07XG4gICAgICAgIGF3YWl0IHRoaXMuc2V0UGVuZGluZ1Nlc3Npb25SZXF1ZXN0KE4pLCB2ID09PSBhdC5saW5rX21vZGUgJiYgKGkgPSBJLnBlZXIubWV0YWRhdGEucmVkaXJlY3QpICE9IG51bGwgJiYgaS51bml2ZXJzYWwgJiYgdGhpcy5jbGllbnQuY29yZS5hZGRMaW5rTW9kZVN1cHBvcnRlZEFwcCgobiA9IEkucGVlci5tZXRhZGF0YS5yZWRpcmVjdCkgPT0gbnVsbCA/IHZvaWQgMCA6IG4udW5pdmVyc2FsKSwgKHMgPSB0aGlzLmNsaWVudC5zaWduQ29uZmlnKSAhPSBudWxsICYmIHMuZGlzYWJsZVJlcXVlc3RRdWV1ZSA/IHRoaXMuZW1pdFNlc3Npb25SZXF1ZXN0KE4pIDogKHRoaXMuYWRkU2Vzc2lvblJlcXVlc3RUb1Nlc3Npb25SZXF1ZXN0UXVldWUoTiksIHRoaXMucHJvY2Vzc1Nlc3Npb25SZXF1ZXN0UXVldWUoKSk7XG4gICAgICB9IGNhdGNoIChJKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2VuZEVycm9yKHsgaWQ6IHcsIHRvcGljOiBvLCBlcnJvcjogSSB9KSwgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKEkpO1xuICAgICAgfVxuICAgIH0sIHRoaXMub25TZXNzaW9uUmVxdWVzdFJlc3BvbnNlID0gKHQsIGkpID0+IHtcbiAgICAgIGNvbnN0IHsgaWQ6IG4gfSA9IGksIHMgPSBYZShcInNlc3Npb25fcmVxdWVzdFwiLCBuKTtcbiAgICAgIGlmICh0aGlzLmV2ZW50cy5saXN0ZW5lckNvdW50KHMpID09PSAwKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGVtaXR0aW5nICR7c30gd2l0aG91dCBhbnkgbGlzdGVuZXJzYCk7XG4gICAgICBScihpKSA/IHRoaXMuZXZlbnRzLmVtaXQoWGUoXCJzZXNzaW9uX3JlcXVlc3RcIiwgbiksIHsgcmVzdWx0OiBpLnJlc3VsdCB9KSA6IGRyKGkpICYmIHRoaXMuZXZlbnRzLmVtaXQoWGUoXCJzZXNzaW9uX3JlcXVlc3RcIiwgbiksIHsgZXJyb3I6IGkuZXJyb3IgfSk7XG4gICAgfSwgdGhpcy5vblNlc3Npb25FdmVudFJlcXVlc3QgPSBhc3luYyAodCwgaSkgPT4ge1xuICAgICAgY29uc3QgeyBpZDogbiwgcGFyYW1zOiBzIH0gPSBpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbyA9IGAke3R9X3Nlc3Npb25fZXZlbnRfJHtzLmV2ZW50Lm5hbWV9YCwgZiA9IEZuLmdldChvKTtcbiAgICAgICAgaWYgKGYgJiYgdGhpcy5pc1JlcXVlc3RPdXRPZlN5bmMoZiwgbikpIHtcbiAgICAgICAgICB0aGlzLmNsaWVudC5sb2dnZXIuaW5mbyhgRGlzY2FyZGluZyBvdXQgb2Ygc3luYyByZXF1ZXN0IC0gJHtufWApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmlzVmFsaWRFbWl0KGx0KHsgdG9waWM6IHQgfSwgcykpLCB0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fZXZlbnRcIiwgeyBpZDogbiwgdG9waWM6IHQsIHBhcmFtczogcyB9KSwgRm4uc2V0KG8sIG4pO1xuICAgICAgfSBjYXRjaCAobykge1xuICAgICAgICBhd2FpdCB0aGlzLnNlbmRFcnJvcih7IGlkOiBuLCB0b3BpYzogdCwgZXJyb3I6IG8gfSksIHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihvKTtcbiAgICAgIH1cbiAgICB9LCB0aGlzLm9uU2Vzc2lvbkF1dGhlbnRpY2F0ZVJlc3BvbnNlID0gKHQsIGkpID0+IHtcbiAgICAgIGNvbnN0IHsgaWQ6IG4gfSA9IGk7XG4gICAgICB0aGlzLmNsaWVudC5sb2dnZXIudHJhY2UoeyB0eXBlOiBcIm1ldGhvZFwiLCBtZXRob2Q6IFwib25TZXNzaW9uQXV0aGVudGljYXRlUmVzcG9uc2VcIiwgdG9waWM6IHQsIHBheWxvYWQ6IGkgfSksIFJyKGkpID8gdGhpcy5ldmVudHMuZW1pdChYZShcInNlc3Npb25fcmVxdWVzdFwiLCBuKSwgeyByZXN1bHQ6IGkucmVzdWx0IH0pIDogZHIoaSkgJiYgdGhpcy5ldmVudHMuZW1pdChYZShcInNlc3Npb25fcmVxdWVzdFwiLCBuKSwgeyBlcnJvcjogaS5lcnJvciB9KTtcbiAgICB9LCB0aGlzLm9uU2Vzc2lvbkF1dGhlbnRpY2F0ZVJlcXVlc3QgPSBhc3luYyAodCkgPT4ge1xuICAgICAgdmFyIGk7XG4gICAgICBjb25zdCB7IHRvcGljOiBuLCBwYXlsb2FkOiBzLCBhdHRlc3RhdGlvbjogbywgZW5jcnlwdGVkSWQ6IGYsIHRyYW5zcG9ydFR5cGU6IGggfSA9IHQ7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IHJlcXVlc3RlcjogZCwgYXV0aFBheWxvYWQ6IHYsIGV4cGlyeVRpbWVzdGFtcDogdyB9ID0gcy5wYXJhbXMsIEEgPSBhd2FpdCB0aGlzLmdldFZlcmlmeUNvbnRleHQoeyBhdHRlc3RhdGlvbklkOiBvLCBoYXNoOiBmaShKU09OLnN0cmluZ2lmeShzKSksIGVuY3J5cHRlZElkOiBmLCBtZXRhZGF0YTogZC5tZXRhZGF0YSwgdHJhbnNwb3J0VHlwZTogaCB9KSwgSSA9IHsgcmVxdWVzdGVyOiBkLCBwYWlyaW5nVG9waWM6IG4sIGlkOiBzLmlkLCBhdXRoUGF5bG9hZDogdiwgdmVyaWZ5Q29udGV4dDogQSwgZXhwaXJ5VGltZXN0YW1wOiB3IH07XG4gICAgICAgIGF3YWl0IHRoaXMuc2V0QXV0aFJlcXVlc3Qocy5pZCwgeyByZXF1ZXN0OiBJLCBwYWlyaW5nVG9waWM6IG4sIHRyYW5zcG9ydFR5cGU6IGggfSksIGggPT09IGF0LmxpbmtfbW9kZSAmJiAoaSA9IGQubWV0YWRhdGEucmVkaXJlY3QpICE9IG51bGwgJiYgaS51bml2ZXJzYWwgJiYgdGhpcy5jbGllbnQuY29yZS5hZGRMaW5rTW9kZVN1cHBvcnRlZEFwcChkLm1ldGFkYXRhLnJlZGlyZWN0LnVuaXZlcnNhbCksIHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9hdXRoZW50aWNhdGVcIiwgeyB0b3BpYzogbiwgcGFyYW1zOiBzLnBhcmFtcywgaWQ6IHMuaWQsIHZlcmlmeUNvbnRleHQ6IEEgfSk7XG4gICAgICB9IGNhdGNoIChkKSB7XG4gICAgICAgIHRoaXMuY2xpZW50LmxvZ2dlci5lcnJvcihkKTtcbiAgICAgICAgY29uc3QgdiA9IHMucGFyYW1zLnJlcXVlc3Rlci5wdWJsaWNLZXksIHcgPSBhd2FpdCB0aGlzLmNsaWVudC5jb3JlLmNyeXB0by5nZW5lcmF0ZUtleVBhaXIoKSwgQSA9IHRoaXMuZ2V0QXBwTGlua0lmRW5hYmxlZChzLnBhcmFtcy5yZXF1ZXN0ZXIubWV0YWRhdGEsIGgpLCBJID0geyB0eXBlOiBoaSwgcmVjZWl2ZXJQdWJsaWNLZXk6IHYsIHNlbmRlclB1YmxpY0tleTogdyB9O1xuICAgICAgICBhd2FpdCB0aGlzLnNlbmRFcnJvcih7IGlkOiBzLmlkLCB0b3BpYzogbiwgZXJyb3I6IGQsIGVuY29kZU9wdHM6IEksIHJwY09wdHM6IF90LndjX3Nlc3Npb25BdXRoZW50aWNhdGUuYXV0b1JlamVjdCwgYXBwTGluazogQSB9KTtcbiAgICAgIH1cbiAgICB9LCB0aGlzLmFkZFNlc3Npb25SZXF1ZXN0VG9TZXNzaW9uUmVxdWVzdFF1ZXVlID0gKHQpID0+IHtcbiAgICAgIHRoaXMuc2Vzc2lvblJlcXVlc3RRdWV1ZS5xdWV1ZS5wdXNoKHQpO1xuICAgIH0sIHRoaXMuY2xlYW51cEFmdGVyUmVzcG9uc2UgPSAodCkgPT4ge1xuICAgICAgdGhpcy5kZWxldGVQZW5kaW5nU2Vzc2lvblJlcXVlc3QodC5yZXNwb25zZS5pZCwgeyBtZXNzYWdlOiBcImZ1bGZpbGxlZFwiLCBjb2RlOiAwIH0pLCBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnN0YXRlID0gUHIuaWRsZSwgdGhpcy5wcm9jZXNzU2Vzc2lvblJlcXVlc3RRdWV1ZSgpO1xuICAgICAgfSwgaWUudG9NaWxpc2Vjb25kcyh0aGlzLnJlcXVlc3RRdWV1ZURlbGF5KSk7XG4gICAgfSwgdGhpcy5jbGVhbnVwUGVuZGluZ1NlbnRSZXF1ZXN0c0ZvclRvcGljID0gKHsgdG9waWM6IHQsIGVycm9yOiBpIH0pID0+IHtcbiAgICAgIGNvbnN0IG4gPSB0aGlzLmNsaWVudC5jb3JlLmhpc3RvcnkucGVuZGluZztcbiAgICAgIG4ubGVuZ3RoID4gMCAmJiBuLmZpbHRlcigocykgPT4gcy50b3BpYyA9PT0gdCAmJiBzLnJlcXVlc3QubWV0aG9kID09PSBcIndjX3Nlc3Npb25SZXF1ZXN0XCIpLmZvckVhY2goKHMpID0+IHtcbiAgICAgICAgY29uc3QgbyA9IHMucmVxdWVzdC5pZCwgZiA9IFhlKFwic2Vzc2lvbl9yZXF1ZXN0XCIsIG8pO1xuICAgICAgICBpZiAodGhpcy5ldmVudHMubGlzdGVuZXJDb3VudChmKSA9PT0gMClcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGVtaXR0aW5nICR7Zn0gd2l0aG91dCBhbnkgbGlzdGVuZXJzYCk7XG4gICAgICAgIHRoaXMuZXZlbnRzLmVtaXQoWGUoXCJzZXNzaW9uX3JlcXVlc3RcIiwgcy5yZXF1ZXN0LmlkKSwgeyBlcnJvcjogaSB9KTtcbiAgICAgIH0pO1xuICAgIH0sIHRoaXMucHJvY2Vzc1Nlc3Npb25SZXF1ZXN0UXVldWUgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnN0YXRlID09PSBQci5hY3RpdmUpIHtcbiAgICAgICAgdGhpcy5jbGllbnQubG9nZ2VyLmluZm8oXCJzZXNzaW9uIHJlcXVlc3QgcXVldWUgaXMgYWxyZWFkeSBhY3RpdmUuXCIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCB0ID0gdGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnF1ZXVlWzBdO1xuICAgICAgaWYgKCF0KSB7XG4gICAgICAgIHRoaXMuY2xpZW50LmxvZ2dlci5pbmZvKFwic2Vzc2lvbiByZXF1ZXN0IHF1ZXVlIGlzIGVtcHR5LlwiKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5zZXNzaW9uUmVxdWVzdFF1ZXVlLnN0YXRlID0gUHIuYWN0aXZlLCB0aGlzLmVtaXRTZXNzaW9uUmVxdWVzdCh0KTtcbiAgICAgIH0gY2F0Y2ggKGkpIHtcbiAgICAgICAgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGkpO1xuICAgICAgfVxuICAgIH0sIHRoaXMuZW1pdFNlc3Npb25SZXF1ZXN0ID0gKHQpID0+IHtcbiAgICAgIHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwic2Vzc2lvbl9yZXF1ZXN0XCIsIHQpO1xuICAgIH0sIHRoaXMub25QYWlyaW5nQ3JlYXRlZCA9ICh0KSA9PiB7XG4gICAgICBpZiAodC5tZXRob2RzICYmIHRoaXMuZXhwZWN0ZWRQYWlyaW5nTWV0aG9kTWFwLnNldCh0LnRvcGljLCB0Lm1ldGhvZHMpLCB0LmFjdGl2ZSlcbiAgICAgICAgcmV0dXJuO1xuICAgICAgY29uc3QgaSA9IHRoaXMuY2xpZW50LnByb3Bvc2FsLmdldEFsbCgpLmZpbmQoKG4pID0+IG4ucGFpcmluZ1RvcGljID09PSB0LnRvcGljKTtcbiAgICAgIGkgJiYgdGhpcy5vblNlc3Npb25Qcm9wb3NlUmVxdWVzdCh7IHRvcGljOiB0LnRvcGljLCBwYXlsb2FkOiBCaShcIndjX3Nlc3Npb25Qcm9wb3NlXCIsIHsgcmVxdWlyZWROYW1lc3BhY2VzOiBpLnJlcXVpcmVkTmFtZXNwYWNlcywgb3B0aW9uYWxOYW1lc3BhY2VzOiBpLm9wdGlvbmFsTmFtZXNwYWNlcywgcmVsYXlzOiBpLnJlbGF5cywgcHJvcG9zZXI6IGkucHJvcG9zZXIsIHNlc3Npb25Qcm9wZXJ0aWVzOiBpLnNlc3Npb25Qcm9wZXJ0aWVzIH0sIGkuaWQpIH0pO1xuICAgIH0sIHRoaXMuaXNWYWxpZENvbm5lY3QgPSBhc3luYyAodCkgPT4ge1xuICAgICAgaWYgKCFHdCh0KSkge1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2U6IGggfSA9IGFlKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsIGBjb25uZWN0KCkgcGFyYW1zOiAke0pTT04uc3RyaW5naWZ5KHQpfWApO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoaCk7XG4gICAgICB9XG4gICAgICBjb25zdCB7IHBhaXJpbmdUb3BpYzogaSwgcmVxdWlyZWROYW1lc3BhY2VzOiBuLCBvcHRpb25hbE5hbWVzcGFjZXM6IHMsIHNlc3Npb25Qcm9wZXJ0aWVzOiBvLCByZWxheXM6IGYgfSA9IHQ7XG4gICAgICBpZiAoenQoaSkgfHwgYXdhaXQgdGhpcy5pc1ZhbGlkUGFpcmluZ1RvcGljKGkpLCAheG0oZiwgITApKSB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZTogaCB9ID0gYWUoXCJNSVNTSU5HX09SX0lOVkFMSURcIiwgYGNvbm5lY3QoKSByZWxheXM6ICR7Zn1gKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGgpO1xuICAgICAgfVxuICAgICAgIXp0KG4pICYmIFhzKG4pICE9PSAwICYmIHRoaXMudmFsaWRhdGVOYW1lc3BhY2VzKG4sIFwicmVxdWlyZWROYW1lc3BhY2VzXCIpLCAhenQocykgJiYgWHMocykgIT09IDAgJiYgdGhpcy52YWxpZGF0ZU5hbWVzcGFjZXMocywgXCJvcHRpb25hbE5hbWVzcGFjZXNcIiksIHp0KG8pIHx8IHRoaXMudmFsaWRhdGVTZXNzaW9uUHJvcHMobywgXCJzZXNzaW9uUHJvcGVydGllc1wiKTtcbiAgICB9LCB0aGlzLnZhbGlkYXRlTmFtZXNwYWNlcyA9ICh0LCBpKSA9PiB7XG4gICAgICBjb25zdCBuID0gX20odCwgXCJjb25uZWN0KClcIiwgaSk7XG4gICAgICBpZiAobilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG4ubWVzc2FnZSk7XG4gICAgfSwgdGhpcy5pc1ZhbGlkQXBwcm92ZSA9IGFzeW5jICh0KSA9PiB7XG4gICAgICBpZiAoIUd0KHQpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYWUoXCJNSVNTSU5HX09SX0lOVkFMSURcIiwgYGFwcHJvdmUoKSBwYXJhbXM6ICR7dH1gKS5tZXNzYWdlKTtcbiAgICAgIGNvbnN0IHsgaWQ6IGksIG5hbWVzcGFjZXM6IG4sIHJlbGF5UHJvdG9jb2w6IHMsIHNlc3Npb25Qcm9wZXJ0aWVzOiBvIH0gPSB0O1xuICAgICAgdGhpcy5jaGVja1JlY2VudGx5RGVsZXRlZChpKSwgYXdhaXQgdGhpcy5pc1ZhbGlkUHJvcG9zYWxJZChpKTtcbiAgICAgIGNvbnN0IGYgPSB0aGlzLmNsaWVudC5wcm9wb3NhbC5nZXQoaSksIGggPSBlbyhuLCBcImFwcHJvdmUoKVwiKTtcbiAgICAgIGlmIChoKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoaC5tZXNzYWdlKTtcbiAgICAgIGNvbnN0IGQgPSBIYyhmLnJlcXVpcmVkTmFtZXNwYWNlcywgbiwgXCJhcHByb3ZlKClcIik7XG4gICAgICBpZiAoZClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGQubWVzc2FnZSk7XG4gICAgICBpZiAoIWJ0KHMsICEwKSkge1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2U6IHYgfSA9IGFlKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsIGBhcHByb3ZlKCkgcmVsYXlQcm90b2NvbDogJHtzfWApO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3Iodik7XG4gICAgICB9XG4gICAgICB6dChvKSB8fCB0aGlzLnZhbGlkYXRlU2Vzc2lvblByb3BzKG8sIFwic2Vzc2lvblByb3BlcnRpZXNcIik7XG4gICAgfSwgdGhpcy5pc1ZhbGlkUmVqZWN0ID0gYXN5bmMgKHQpID0+IHtcbiAgICAgIGlmICghR3QodCkpIHtcbiAgICAgICAgY29uc3QgeyBtZXNzYWdlOiBzIH0gPSBhZShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLCBgcmVqZWN0KCkgcGFyYW1zOiAke3R9YCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihzKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgaWQ6IGksIHJlYXNvbjogbiB9ID0gdDtcbiAgICAgIGlmICh0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKGkpLCBhd2FpdCB0aGlzLmlzVmFsaWRQcm9wb3NhbElkKGkpLCAhU20obikpIHtcbiAgICAgICAgY29uc3QgeyBtZXNzYWdlOiBzIH0gPSBhZShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLCBgcmVqZWN0KCkgcmVhc29uOiAke0pTT04uc3RyaW5naWZ5KG4pfWApO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3Iocyk7XG4gICAgICB9XG4gICAgfSwgdGhpcy5pc1ZhbGlkU2Vzc2lvblNldHRsZVJlcXVlc3QgPSAodCkgPT4ge1xuICAgICAgaWYgKCFHdCh0KSkge1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2U6IGQgfSA9IGFlKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsIGBvblNlc3Npb25TZXR0bGVSZXF1ZXN0KCkgcGFyYW1zOiAke3R9YCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgcmVsYXk6IGksIGNvbnRyb2xsZXI6IG4sIG5hbWVzcGFjZXM6IHMsIGV4cGlyeTogbyB9ID0gdDtcbiAgICAgIGlmICghYmQoaSkpIHtcbiAgICAgICAgY29uc3QgeyBtZXNzYWdlOiBkIH0gPSBhZShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLCBcIm9uU2Vzc2lvblNldHRsZVJlcXVlc3QoKSByZWxheSBwcm90b2NvbCBzaG91bGQgYmUgYSBzdHJpbmdcIik7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihkKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGYgPSB2bShuLCBcIm9uU2Vzc2lvblNldHRsZVJlcXVlc3QoKVwiKTtcbiAgICAgIGlmIChmKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZi5tZXNzYWdlKTtcbiAgICAgIGNvbnN0IGggPSBlbyhzLCBcIm9uU2Vzc2lvblNldHRsZVJlcXVlc3QoKVwiKTtcbiAgICAgIGlmIChoKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoaC5tZXNzYWdlKTtcbiAgICAgIGlmIChnaShvKSkge1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2U6IGQgfSA9IGFlKFwiRVhQSVJFRFwiLCBcIm9uU2Vzc2lvblNldHRsZVJlcXVlc3QoKVwiKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGQpO1xuICAgICAgfVxuICAgIH0sIHRoaXMuaXNWYWxpZFVwZGF0ZSA9IGFzeW5jICh0KSA9PiB7XG4gICAgICBpZiAoIUd0KHQpKSB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZTogaCB9ID0gYWUoXCJNSVNTSU5HX09SX0lOVkFMSURcIiwgYHVwZGF0ZSgpIHBhcmFtczogJHt0fWApO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoaCk7XG4gICAgICB9XG4gICAgICBjb25zdCB7IHRvcGljOiBpLCBuYW1lc3BhY2VzOiBuIH0gPSB0O1xuICAgICAgdGhpcy5jaGVja1JlY2VudGx5RGVsZXRlZChpKSwgYXdhaXQgdGhpcy5pc1ZhbGlkU2Vzc2lvblRvcGljKGkpO1xuICAgICAgY29uc3QgcyA9IHRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KGkpLCBvID0gZW8obiwgXCJ1cGRhdGUoKVwiKTtcbiAgICAgIGlmIChvKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3Ioby5tZXNzYWdlKTtcbiAgICAgIGNvbnN0IGYgPSBIYyhzLnJlcXVpcmVkTmFtZXNwYWNlcywgbiwgXCJ1cGRhdGUoKVwiKTtcbiAgICAgIGlmIChmKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZi5tZXNzYWdlKTtcbiAgICB9LCB0aGlzLmlzVmFsaWRFeHRlbmQgPSBhc3luYyAodCkgPT4ge1xuICAgICAgaWYgKCFHdCh0KSkge1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2U6IG4gfSA9IGFlKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsIGBleHRlbmQoKSBwYXJhbXM6ICR7dH1gKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG4pO1xuICAgICAgfVxuICAgICAgY29uc3QgeyB0b3BpYzogaSB9ID0gdDtcbiAgICAgIHRoaXMuY2hlY2tSZWNlbnRseURlbGV0ZWQoaSksIGF3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25Ub3BpYyhpKTtcbiAgICB9LCB0aGlzLmlzVmFsaWRSZXF1ZXN0ID0gYXN5bmMgKHQpID0+IHtcbiAgICAgIGlmICghR3QodCkpIHtcbiAgICAgICAgY29uc3QgeyBtZXNzYWdlOiBoIH0gPSBhZShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLCBgcmVxdWVzdCgpIHBhcmFtczogJHt0fWApO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoaCk7XG4gICAgICB9XG4gICAgICBjb25zdCB7IHRvcGljOiBpLCByZXF1ZXN0OiBuLCBjaGFpbklkOiBzLCBleHBpcnk6IG8gfSA9IHQ7XG4gICAgICB0aGlzLmNoZWNrUmVjZW50bHlEZWxldGVkKGkpLCBhd2FpdCB0aGlzLmlzVmFsaWRTZXNzaW9uVG9waWMoaSk7XG4gICAgICBjb25zdCB7IG5hbWVzcGFjZXM6IGYgfSA9IHRoaXMuY2xpZW50LnNlc3Npb24uZ2V0KGkpO1xuICAgICAgaWYgKCFLYyhmLCBzKSkge1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2U6IGggfSA9IGFlKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsIGByZXF1ZXN0KCkgY2hhaW5JZDogJHtzfWApO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoaCk7XG4gICAgICB9XG4gICAgICBpZiAoIU1tKG4pKSB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZTogaCB9ID0gYWUoXCJNSVNTSU5HX09SX0lOVkFMSURcIiwgYHJlcXVlc3QoKSAke0pTT04uc3RyaW5naWZ5KG4pfWApO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoaCk7XG4gICAgICB9XG4gICAgICBpZiAoIURtKGYsIHMsIG4ubWV0aG9kKSkge1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2U6IGggfSA9IGFlKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsIGByZXF1ZXN0KCkgbWV0aG9kOiAke24ubWV0aG9kfWApO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoaCk7XG4gICAgICB9XG4gICAgICBpZiAobyAmJiAhTm0obywgc28pKSB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZTogaCB9ID0gYWUoXCJNSVNTSU5HX09SX0lOVkFMSURcIiwgYHJlcXVlc3QoKSBleHBpcnk6ICR7b30uIEV4cGlyeSBtdXN0IGJlIGEgbnVtYmVyIChpbiBzZWNvbmRzKSBiZXR3ZWVuICR7c28ubWlufSBhbmQgJHtzby5tYXh9YCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihoKTtcbiAgICAgIH1cbiAgICB9LCB0aGlzLmlzVmFsaWRSZXNwb25kID0gYXN5bmMgKHQpID0+IHtcbiAgICAgIHZhciBpO1xuICAgICAgaWYgKCFHdCh0KSkge1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2U6IG8gfSA9IGFlKFwiTUlTU0lOR19PUl9JTlZBTElEXCIsIGByZXNwb25kKCkgcGFyYW1zOiAke3R9YCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihvKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHsgdG9waWM6IG4sIHJlc3BvbnNlOiBzIH0gPSB0O1xuICAgICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgdGhpcy5pc1ZhbGlkU2Vzc2lvblRvcGljKG4pO1xuICAgICAgfSBjYXRjaCAobykge1xuICAgICAgICB0aHJvdyAoaSA9IHQ/LnJlc3BvbnNlKSAhPSBudWxsICYmIGkuaWQgJiYgdGhpcy5jbGVhbnVwQWZ0ZXJSZXNwb25zZSh0KSwgbztcbiAgICAgIH1cbiAgICAgIGlmICghSW0ocykpIHtcbiAgICAgICAgY29uc3QgeyBtZXNzYWdlOiBvIH0gPSBhZShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLCBgcmVzcG9uZCgpIHJlc3BvbnNlOiAke0pTT04uc3RyaW5naWZ5KHMpfWApO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3Iobyk7XG4gICAgICB9XG4gICAgfSwgdGhpcy5pc1ZhbGlkUGluZyA9IGFzeW5jICh0KSA9PiB7XG4gICAgICBpZiAoIUd0KHQpKSB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZTogbiB9ID0gYWUoXCJNSVNTSU5HX09SX0lOVkFMSURcIiwgYHBpbmcoKSBwYXJhbXM6ICR7dH1gKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG4pO1xuICAgICAgfVxuICAgICAgY29uc3QgeyB0b3BpYzogaSB9ID0gdDtcbiAgICAgIGF3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25PclBhaXJpbmdUb3BpYyhpKTtcbiAgICB9LCB0aGlzLmlzVmFsaWRFbWl0ID0gYXN5bmMgKHQpID0+IHtcbiAgICAgIGlmICghR3QodCkpIHtcbiAgICAgICAgY29uc3QgeyBtZXNzYWdlOiBmIH0gPSBhZShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLCBgZW1pdCgpIHBhcmFtczogJHt0fWApO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZik7XG4gICAgICB9XG4gICAgICBjb25zdCB7IHRvcGljOiBpLCBldmVudDogbiwgY2hhaW5JZDogcyB9ID0gdDtcbiAgICAgIGF3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25Ub3BpYyhpKTtcbiAgICAgIGNvbnN0IHsgbmFtZXNwYWNlczogbyB9ID0gdGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQoaSk7XG4gICAgICBpZiAoIUtjKG8sIHMpKSB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZTogZiB9ID0gYWUoXCJNSVNTSU5HX09SX0lOVkFMSURcIiwgYGVtaXQoKSBjaGFpbklkOiAke3N9YCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihmKTtcbiAgICAgIH1cbiAgICAgIGlmICghQW0obikpIHtcbiAgICAgICAgY29uc3QgeyBtZXNzYWdlOiBmIH0gPSBhZShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLCBgZW1pdCgpIGV2ZW50OiAke0pTT04uc3RyaW5naWZ5KG4pfWApO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZik7XG4gICAgICB9XG4gICAgICBpZiAoIVBtKG8sIHMsIG4ubmFtZSkpIHtcbiAgICAgICAgY29uc3QgeyBtZXNzYWdlOiBmIH0gPSBhZShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLCBgZW1pdCgpIGV2ZW50OiAke0pTT04uc3RyaW5naWZ5KG4pfWApO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZik7XG4gICAgICB9XG4gICAgfSwgdGhpcy5pc1ZhbGlkRGlzY29ubmVjdCA9IGFzeW5jICh0KSA9PiB7XG4gICAgICBpZiAoIUd0KHQpKSB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZTogbiB9ID0gYWUoXCJNSVNTSU5HX09SX0lOVkFMSURcIiwgYGRpc2Nvbm5lY3QoKSBwYXJhbXM6ICR7dH1gKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG4pO1xuICAgICAgfVxuICAgICAgY29uc3QgeyB0b3BpYzogaSB9ID0gdDtcbiAgICAgIGF3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25PclBhaXJpbmdUb3BpYyhpKTtcbiAgICB9LCB0aGlzLmlzVmFsaWRBdXRoZW50aWNhdGUgPSAodCkgPT4ge1xuICAgICAgY29uc3QgeyBjaGFpbnM6IGksIHVyaTogbiwgZG9tYWluOiBzLCBub25jZTogbyB9ID0gdDtcbiAgICAgIGlmICghQXJyYXkuaXNBcnJheShpKSB8fCBpLmxlbmd0aCA9PT0gMClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2hhaW5zIGlzIHJlcXVpcmVkIGFuZCBtdXN0IGJlIGEgbm9uLWVtcHR5IGFycmF5XCIpO1xuICAgICAgaWYgKCFidChuLCAhMSkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcInVyaSBpcyByZXF1aXJlZCBwYXJhbWV0ZXJcIik7XG4gICAgICBpZiAoIWJ0KHMsICExKSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiZG9tYWluIGlzIHJlcXVpcmVkIHBhcmFtZXRlclwiKTtcbiAgICAgIGlmICghYnQobywgITEpKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJub25jZSBpcyByZXF1aXJlZCBwYXJhbWV0ZXJcIik7XG4gICAgICBpZiAoWy4uLm5ldyBTZXQoaS5tYXAoKGgpID0+IE5zKGgpLm5hbWVzcGFjZSkpXS5sZW5ndGggPiAxKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNdWx0aS1uYW1lc3BhY2UgcmVxdWVzdHMgYXJlIG5vdCBzdXBwb3J0ZWQuIFBsZWFzZSByZXF1ZXN0IHNpbmdsZSBuYW1lc3BhY2Ugb25seS5cIik7XG4gICAgICBjb25zdCB7IG5hbWVzcGFjZTogZiB9ID0gTnMoaVswXSk7XG4gICAgICBpZiAoZiAhPT0gXCJlaXAxNTVcIilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiT25seSBlaXAxNTUgbmFtZXNwYWNlIGlzIHN1cHBvcnRlZCBmb3IgYXV0aGVudGljYXRlZCBzZXNzaW9ucy4gUGxlYXNlIHVzZSAuY29ubmVjdCgpIGZvciBub24tZWlwMTU1IGNoYWlucy5cIik7XG4gICAgfSwgdGhpcy5nZXRWZXJpZnlDb250ZXh0ID0gYXN5bmMgKHQpID0+IHtcbiAgICAgIGNvbnN0IHsgYXR0ZXN0YXRpb25JZDogaSwgaGFzaDogbiwgZW5jcnlwdGVkSWQ6IHMsIG1ldGFkYXRhOiBvLCB0cmFuc3BvcnRUeXBlOiBmIH0gPSB0LCBoID0geyB2ZXJpZmllZDogeyB2ZXJpZnlVcmw6IG8udmVyaWZ5VXJsIHx8IFZuLCB2YWxpZGF0aW9uOiBcIlVOS05PV05cIiwgb3JpZ2luOiBvLnVybCB8fCBcIlwiIH0gfTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChmID09PSBhdC5saW5rX21vZGUpIHtcbiAgICAgICAgICBjb25zdCB2ID0gdGhpcy5nZXRBcHBMaW5rSWZFbmFibGVkKG8sIGYpO1xuICAgICAgICAgIHJldHVybiBoLnZlcmlmaWVkLnZhbGlkYXRpb24gPSB2ICYmIG5ldyBVUkwodikub3JpZ2luID09PSBuZXcgVVJMKG8udXJsKS5vcmlnaW4gPyBcIlZBTElEXCIgOiBcIklOVkFMSURcIiwgaDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkID0gYXdhaXQgdGhpcy5jbGllbnQuY29yZS52ZXJpZnkucmVzb2x2ZSh7IGF0dGVzdGF0aW9uSWQ6IGksIGhhc2g6IG4sIGVuY3J5cHRlZElkOiBzLCB2ZXJpZnlVcmw6IG8udmVyaWZ5VXJsIH0pO1xuICAgICAgICBkICYmIChoLnZlcmlmaWVkLm9yaWdpbiA9IGQub3JpZ2luLCBoLnZlcmlmaWVkLmlzU2NhbSA9IGQuaXNTY2FtLCBoLnZlcmlmaWVkLnZhbGlkYXRpb24gPSBkLm9yaWdpbiA9PT0gbmV3IFVSTChvLnVybCkub3JpZ2luID8gXCJWQUxJRFwiIDogXCJJTlZBTElEXCIpO1xuICAgICAgfSBjYXRjaCAoZCkge1xuICAgICAgICB0aGlzLmNsaWVudC5sb2dnZXIud2FybihkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmNsaWVudC5sb2dnZXIuZGVidWcoYFZlcmlmeSBjb250ZXh0OiAke0pTT04uc3RyaW5naWZ5KGgpfWApLCBoO1xuICAgIH0sIHRoaXMudmFsaWRhdGVTZXNzaW9uUHJvcHMgPSAodCwgaSkgPT4ge1xuICAgICAgT2JqZWN0LnZhbHVlcyh0KS5mb3JFYWNoKChuKSA9PiB7XG4gICAgICAgIGlmICghYnQobiwgITEpKSB7XG4gICAgICAgICAgY29uc3QgeyBtZXNzYWdlOiBzIH0gPSBhZShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLCBgJHtpfSBtdXN0IGJlIGluIFJlY29yZDxzdHJpbmcsIHN0cmluZz4gZm9ybWF0LiBSZWNlaXZlZDogJHtKU09OLnN0cmluZ2lmeShuKX1gKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3Iocyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sIHRoaXMuZ2V0UGVuZGluZ0F1dGhSZXF1ZXN0ID0gKHQpID0+IHtcbiAgICAgIGNvbnN0IGkgPSB0aGlzLmNsaWVudC5hdXRoLnJlcXVlc3RzLmdldCh0KTtcbiAgICAgIHJldHVybiB0eXBlb2YgaSA9PSBcIm9iamVjdFwiID8gaSA6IHZvaWQgMDtcbiAgICB9LCB0aGlzLmFkZFRvUmVjZW50bHlEZWxldGVkID0gKHQsIGkpID0+IHtcbiAgICAgIGlmICh0aGlzLnJlY2VudGx5RGVsZXRlZE1hcC5zZXQodCwgaSksIHRoaXMucmVjZW50bHlEZWxldGVkTWFwLnNpemUgPj0gdGhpcy5yZWNlbnRseURlbGV0ZWRMaW1pdCkge1xuICAgICAgICBsZXQgbiA9IDA7XG4gICAgICAgIGNvbnN0IHMgPSB0aGlzLnJlY2VudGx5RGVsZXRlZExpbWl0IC8gMjtcbiAgICAgICAgZm9yIChjb25zdCBvIG9mIHRoaXMucmVjZW50bHlEZWxldGVkTWFwLmtleXMoKSkge1xuICAgICAgICAgIGlmIChuKysgPj0gcylcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIHRoaXMucmVjZW50bHlEZWxldGVkTWFwLmRlbGV0ZShvKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIHRoaXMuY2hlY2tSZWNlbnRseURlbGV0ZWQgPSAodCkgPT4ge1xuICAgICAgY29uc3QgaSA9IHRoaXMucmVjZW50bHlEZWxldGVkTWFwLmdldCh0KTtcbiAgICAgIGlmIChpKSB7XG4gICAgICAgIGNvbnN0IHsgbWVzc2FnZTogbiB9ID0gYWUoXCJNSVNTSU5HX09SX0lOVkFMSURcIiwgYFJlY29yZCB3YXMgcmVjZW50bHkgZGVsZXRlZCAtICR7aX06ICR7dH1gKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG4pO1xuICAgICAgfVxuICAgIH0sIHRoaXMuaXNMaW5rTW9kZUVuYWJsZWQgPSAodCwgaSkgPT4ge1xuICAgICAgdmFyIG4sIHMsIG8sIGYsIGgsIGQsIHYsIHcsIEE7XG4gICAgICByZXR1cm4gIXQgfHwgaSAhPT0gYXQubGlua19tb2RlID8gITEgOiAoKHMgPSAobiA9IHRoaXMuY2xpZW50Lm1ldGFkYXRhKSA9PSBudWxsID8gdm9pZCAwIDogbi5yZWRpcmVjdCkgPT0gbnVsbCA/IHZvaWQgMCA6IHMubGlua01vZGUpID09PSAhMCAmJiAoKGYgPSAobyA9IHRoaXMuY2xpZW50Lm1ldGFkYXRhKSA9PSBudWxsID8gdm9pZCAwIDogby5yZWRpcmVjdCkgPT0gbnVsbCA/IHZvaWQgMCA6IGYudW5pdmVyc2FsKSAhPT0gdm9pZCAwICYmICgoZCA9IChoID0gdGhpcy5jbGllbnQubWV0YWRhdGEpID09IG51bGwgPyB2b2lkIDAgOiBoLnJlZGlyZWN0KSA9PSBudWxsID8gdm9pZCAwIDogZC51bml2ZXJzYWwpICE9PSBcIlwiICYmICgodiA9IHQ/LnJlZGlyZWN0KSA9PSBudWxsID8gdm9pZCAwIDogdi51bml2ZXJzYWwpICE9PSB2b2lkIDAgJiYgKCh3ID0gdD8ucmVkaXJlY3QpID09IG51bGwgPyB2b2lkIDAgOiB3LnVuaXZlcnNhbCkgIT09IFwiXCIgJiYgKChBID0gdD8ucmVkaXJlY3QpID09IG51bGwgPyB2b2lkIDAgOiBBLmxpbmtNb2RlKSA9PT0gITAgJiYgdGhpcy5jbGllbnQuY29yZS5saW5rTW9kZVN1cHBvcnRlZEFwcHMuaW5jbHVkZXModC5yZWRpcmVjdC51bml2ZXJzYWwpICYmIHR5cGVvZiAoZ2xvYmFsID09IG51bGwgPyB2b2lkIDAgOiBnbG9iYWwuTGlua2luZykgPCBcInVcIjtcbiAgICB9LCB0aGlzLmdldEFwcExpbmtJZkVuYWJsZWQgPSAodCwgaSkgPT4ge1xuICAgICAgdmFyIG47XG4gICAgICByZXR1cm4gdGhpcy5pc0xpbmtNb2RlRW5hYmxlZCh0LCBpKSA/IChuID0gdD8ucmVkaXJlY3QpID09IG51bGwgPyB2b2lkIDAgOiBuLnVuaXZlcnNhbCA6IHZvaWQgMDtcbiAgICB9LCB0aGlzLmhhbmRsZUxpbmtNb2RlTWVzc2FnZSA9ICh7IHVybDogdCB9KSA9PiB7XG4gICAgICBpZiAoIXQgfHwgIXQuaW5jbHVkZXMoXCJ3Y19ldlwiKSB8fCAhdC5pbmNsdWRlcyhcInRvcGljXCIpKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCBpID0gQWModCwgXCJ0b3BpY1wiKSB8fCBcIlwiLCBuID0gZGVjb2RlVVJJQ29tcG9uZW50KEFjKHQsIFwid2NfZXZcIikgfHwgXCJcIiksIHMgPSB0aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXMoaSk7XG4gICAgICBzICYmIHRoaXMuY2xpZW50LnNlc3Npb24udXBkYXRlKGksIHsgdHJhbnNwb3J0VHlwZTogYXQubGlua19tb2RlIH0pLCB0aGlzLmNsaWVudC5jb3JlLmRpc3BhdGNoRW52ZWxvcGUoeyB0b3BpYzogaSwgbWVzc2FnZTogbiwgc2Vzc2lvbkV4aXN0czogcyB9KTtcbiAgICB9LCB0aGlzLnJlZ2lzdGVyTGlua01vZGVMaXN0ZW5lcnMgPSBhc3luYyAoKSA9PiB7XG4gICAgICB2YXIgdDtcbiAgICAgIGlmIChyZigpIHx8IEFpKCkgJiYgKHQgPSB0aGlzLmNsaWVudC5tZXRhZGF0YS5yZWRpcmVjdCkgIT0gbnVsbCAmJiB0LmxpbmtNb2RlKSB7XG4gICAgICAgIGNvbnN0IGkgPSBnbG9iYWwgPT0gbnVsbCA/IHZvaWQgMCA6IGdsb2JhbC5MaW5raW5nO1xuICAgICAgICBpZiAodHlwZW9mIGkgPCBcInVcIikge1xuICAgICAgICAgIGkuYWRkRXZlbnRMaXN0ZW5lcihcInVybFwiLCB0aGlzLmhhbmRsZUxpbmtNb2RlTWVzc2FnZSwgdGhpcy5jbGllbnQubmFtZSk7XG4gICAgICAgICAgY29uc3QgbiA9IGF3YWl0IGkuZ2V0SW5pdGlhbFVSTCgpO1xuICAgICAgICAgIG4gJiYgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmhhbmRsZUxpbmtNb2RlTWVzc2FnZSh7IHVybDogbiB9KTtcbiAgICAgICAgICB9LCA1MCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG4gIGlzSW5pdGlhbGl6ZWQoKSB7XG4gICAgaWYgKCF0aGlzLmluaXRpYWxpemVkKSB7XG4gICAgICBjb25zdCB7IG1lc3NhZ2U6IGUgfSA9IGFlKFwiTk9UX0lOSVRJQUxJWkVEXCIsIHRoaXMubmFtZSk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZSk7XG4gICAgfVxuICB9XG4gIGFzeW5jIGNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKSB7XG4gICAgYXdhaXQgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLmNvbmZpcm1PbmxpbmVTdGF0ZU9yVGhyb3coKTtcbiAgfVxuICByZWdpc3RlclJlbGF5ZXJFdmVudHMoKSB7XG4gICAgdGhpcy5jbGllbnQuY29yZS5yZWxheWVyLm9uKEV0Lm1lc3NhZ2UsIChlKSA9PiB7XG4gICAgICAhdGhpcy5pbml0aWFsaXplZCB8fCB0aGlzLnJlbGF5TWVzc2FnZUNhY2hlLmxlbmd0aCA+IDAgPyB0aGlzLnJlbGF5TWVzc2FnZUNhY2hlLnB1c2goZSkgOiB0aGlzLm9uUmVsYXlNZXNzYWdlKGUpO1xuICAgIH0pO1xuICB9XG4gIGFzeW5jIG9uUmVsYXlNZXNzYWdlKGUpIHtcbiAgICBjb25zdCB7IHRvcGljOiB0LCBtZXNzYWdlOiBpLCBhdHRlc3RhdGlvbjogbiwgdHJhbnNwb3J0VHlwZTogcyB9ID0gZSwgeyBwdWJsaWNLZXk6IG8gfSA9IHRoaXMuY2xpZW50LmF1dGguYXV0aEtleXMua2V5cy5pbmNsdWRlcygkcykgPyB0aGlzLmNsaWVudC5hdXRoLmF1dGhLZXlzLmdldCgkcykgOiB7IHJlc3BvbnNlVG9waWM6IHZvaWQgMCwgcHVibGljS2V5OiB2b2lkIDAgfSwgZiA9IGF3YWl0IHRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmRlY29kZSh0LCBpLCB7IHJlY2VpdmVyUHVibGljS2V5OiBvLCBlbmNvZGluZzogcyA9PT0gYXQubGlua19tb2RlID8gTG4gOiB3aSB9KTtcbiAgICB0cnkge1xuICAgICAgZmYoZikgPyAodGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LnNldCh0LCBmKSwgdGhpcy5vblJlbGF5RXZlbnRSZXF1ZXN0KHsgdG9waWM6IHQsIHBheWxvYWQ6IGYsIGF0dGVzdGF0aW9uOiBuLCB0cmFuc3BvcnRUeXBlOiBzLCBlbmNyeXB0ZWRJZDogZmkoaSkgfSkpIDogQWEoZikgPyAoYXdhaXQgdGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LnJlc29sdmUoZiksIGF3YWl0IHRoaXMub25SZWxheUV2ZW50UmVzcG9uc2UoeyB0b3BpYzogdCwgcGF5bG9hZDogZiwgdHJhbnNwb3J0VHlwZTogcyB9KSwgdGhpcy5jbGllbnQuY29yZS5oaXN0b3J5LmRlbGV0ZSh0LCBmLmlkKSkgOiB0aGlzLm9uUmVsYXlFdmVudFVua25vd25QYXlsb2FkKHsgdG9waWM6IHQsIHBheWxvYWQ6IGYsIHRyYW5zcG9ydFR5cGU6IHMgfSk7XG4gICAgfSBjYXRjaCAoaCkge1xuICAgICAgdGhpcy5jbGllbnQubG9nZ2VyLmVycm9yKGgpO1xuICAgIH1cbiAgfVxuICByZWdpc3RlckV4cGlyZXJFdmVudHMoKSB7XG4gICAgdGhpcy5jbGllbnQuY29yZS5leHBpcmVyLm9uKHVyLmV4cGlyZWQsIGFzeW5jIChlKSA9PiB7XG4gICAgICBjb25zdCB7IHRvcGljOiB0LCBpZDogaSB9ID0gYWQoZS50YXJnZXQpO1xuICAgICAgaWYgKGkgJiYgdGhpcy5jbGllbnQucGVuZGluZ1JlcXVlc3Qua2V5cy5pbmNsdWRlcyhpKSlcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZGVsZXRlUGVuZGluZ1Nlc3Npb25SZXF1ZXN0KGksIGFlKFwiRVhQSVJFRFwiKSwgITApO1xuICAgICAgaWYgKGkgJiYgdGhpcy5jbGllbnQuYXV0aC5yZXF1ZXN0cy5rZXlzLmluY2x1ZGVzKGkpKVxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5kZWxldGVQZW5kaW5nQXV0aFJlcXVlc3QoaSwgYWUoXCJFWFBJUkVEXCIpLCAhMCk7XG4gICAgICB0ID8gdGhpcy5jbGllbnQuc2Vzc2lvbi5rZXlzLmluY2x1ZGVzKHQpICYmIChhd2FpdCB0aGlzLmRlbGV0ZVNlc3Npb24oeyB0b3BpYzogdCwgZXhwaXJlckhhc0RlbGV0ZWQ6ICEwIH0pLCB0aGlzLmNsaWVudC5ldmVudHMuZW1pdChcInNlc3Npb25fZXhwaXJlXCIsIHsgdG9waWM6IHQgfSkpIDogaSAmJiAoYXdhaXQgdGhpcy5kZWxldGVQcm9wb3NhbChpLCAhMCksIHRoaXMuY2xpZW50LmV2ZW50cy5lbWl0KFwicHJvcG9zYWxfZXhwaXJlXCIsIHsgaWQ6IGkgfSkpO1xuICAgIH0pO1xuICB9XG4gIHJlZ2lzdGVyUGFpcmluZ0V2ZW50cygpIHtcbiAgICB0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcuZXZlbnRzLm9uKHFpLmNyZWF0ZSwgKGUpID0+IHRoaXMub25QYWlyaW5nQ3JlYXRlZChlKSksIHRoaXMuY2xpZW50LmNvcmUucGFpcmluZy5ldmVudHMub24ocWkuZGVsZXRlLCAoZSkgPT4ge1xuICAgICAgdGhpcy5hZGRUb1JlY2VudGx5RGVsZXRlZChlLnRvcGljLCBcInBhaXJpbmdcIik7XG4gICAgfSk7XG4gIH1cbiAgaXNWYWxpZFBhaXJpbmdUb3BpYyhlKSB7XG4gICAgaWYgKCFidChlLCAhMSkpIHtcbiAgICAgIGNvbnN0IHsgbWVzc2FnZTogdCB9ID0gYWUoXCJNSVNTSU5HX09SX0lOVkFMSURcIiwgYHBhaXJpbmcgdG9waWMgc2hvdWxkIGJlIGEgc3RyaW5nOiAke2V9YCk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IodCk7XG4gICAgfVxuICAgIGlmICghdGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmtleXMuaW5jbHVkZXMoZSkpIHtcbiAgICAgIGNvbnN0IHsgbWVzc2FnZTogdCB9ID0gYWUoXCJOT19NQVRDSElOR19LRVlcIiwgYHBhaXJpbmcgdG9waWMgZG9lc24ndCBleGlzdDogJHtlfWApO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHQpO1xuICAgIH1cbiAgICBpZiAoZ2kodGhpcy5jbGllbnQuY29yZS5wYWlyaW5nLnBhaXJpbmdzLmdldChlKS5leHBpcnkpKSB7XG4gICAgICBjb25zdCB7IG1lc3NhZ2U6IHQgfSA9IGFlKFwiRVhQSVJFRFwiLCBgcGFpcmluZyB0b3BpYzogJHtlfWApO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHQpO1xuICAgIH1cbiAgfVxuICBhc3luYyBpc1ZhbGlkU2Vzc2lvblRvcGljKGUpIHtcbiAgICBpZiAoIWJ0KGUsICExKSkge1xuICAgICAgY29uc3QgeyBtZXNzYWdlOiB0IH0gPSBhZShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLCBgc2Vzc2lvbiB0b3BpYyBzaG91bGQgYmUgYSBzdHJpbmc6ICR7ZX1gKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcih0KTtcbiAgICB9XG4gICAgaWYgKHRoaXMuY2hlY2tSZWNlbnRseURlbGV0ZWQoZSksICF0aGlzLmNsaWVudC5zZXNzaW9uLmtleXMuaW5jbHVkZXMoZSkpIHtcbiAgICAgIGNvbnN0IHsgbWVzc2FnZTogdCB9ID0gYWUoXCJOT19NQVRDSElOR19LRVlcIiwgYHNlc3Npb24gdG9waWMgZG9lc24ndCBleGlzdDogJHtlfWApO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHQpO1xuICAgIH1cbiAgICBpZiAoZ2kodGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQoZSkuZXhwaXJ5KSkge1xuICAgICAgYXdhaXQgdGhpcy5kZWxldGVTZXNzaW9uKHsgdG9waWM6IGUgfSk7XG4gICAgICBjb25zdCB7IG1lc3NhZ2U6IHQgfSA9IGFlKFwiRVhQSVJFRFwiLCBgc2Vzc2lvbiB0b3BpYzogJHtlfWApO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHQpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuY2xpZW50LmNvcmUuY3J5cHRvLmtleWNoYWluLmhhcyhlKSkge1xuICAgICAgY29uc3QgeyBtZXNzYWdlOiB0IH0gPSBhZShcIk1JU1NJTkdfT1JfSU5WQUxJRFwiLCBgc2Vzc2lvbiB0b3BpYyBkb2VzIG5vdCBleGlzdCBpbiBrZXljaGFpbjogJHtlfWApO1xuICAgICAgdGhyb3cgYXdhaXQgdGhpcy5kZWxldGVTZXNzaW9uKHsgdG9waWM6IGUgfSksIG5ldyBFcnJvcih0KTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgaXNWYWxpZFNlc3Npb25PclBhaXJpbmdUb3BpYyhlKSB7XG4gICAgaWYgKHRoaXMuY2hlY2tSZWNlbnRseURlbGV0ZWQoZSksIHRoaXMuY2xpZW50LnNlc3Npb24ua2V5cy5pbmNsdWRlcyhlKSlcbiAgICAgIGF3YWl0IHRoaXMuaXNWYWxpZFNlc3Npb25Ub3BpYyhlKTtcbiAgICBlbHNlIGlmICh0aGlzLmNsaWVudC5jb3JlLnBhaXJpbmcucGFpcmluZ3Mua2V5cy5pbmNsdWRlcyhlKSlcbiAgICAgIHRoaXMuaXNWYWxpZFBhaXJpbmdUb3BpYyhlKTtcbiAgICBlbHNlIGlmIChidChlLCAhMSkpIHtcbiAgICAgIGNvbnN0IHsgbWVzc2FnZTogdCB9ID0gYWUoXCJOT19NQVRDSElOR19LRVlcIiwgYHNlc3Npb24gb3IgcGFpcmluZyB0b3BpYyBkb2Vzbid0IGV4aXN0OiAke2V9YCk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IodCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IHsgbWVzc2FnZTogdCB9ID0gYWUoXCJNSVNTSU5HX09SX0lOVkFMSURcIiwgYHNlc3Npb24gb3IgcGFpcmluZyB0b3BpYyBzaG91bGQgYmUgYSBzdHJpbmc6ICR7ZX1gKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcih0KTtcbiAgICB9XG4gIH1cbiAgYXN5bmMgaXNWYWxpZFByb3Bvc2FsSWQoZSkge1xuICAgIGlmICghRW0oZSkpIHtcbiAgICAgIGNvbnN0IHsgbWVzc2FnZTogdCB9ID0gYWUoXCJNSVNTSU5HX09SX0lOVkFMSURcIiwgYHByb3Bvc2FsIGlkIHNob3VsZCBiZSBhIG51bWJlcjogJHtlfWApO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKHQpO1xuICAgIH1cbiAgICBpZiAoIXRoaXMuY2xpZW50LnByb3Bvc2FsLmtleXMuaW5jbHVkZXMoZSkpIHtcbiAgICAgIGNvbnN0IHsgbWVzc2FnZTogdCB9ID0gYWUoXCJOT19NQVRDSElOR19LRVlcIiwgYHByb3Bvc2FsIGlkIGRvZXNuJ3QgZXhpc3Q6ICR7ZX1gKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcih0KTtcbiAgICB9XG4gICAgaWYgKGdpKHRoaXMuY2xpZW50LnByb3Bvc2FsLmdldChlKS5leHBpcnlUaW1lc3RhbXApKSB7XG4gICAgICBhd2FpdCB0aGlzLmRlbGV0ZVByb3Bvc2FsKGUpO1xuICAgICAgY29uc3QgeyBtZXNzYWdlOiB0IH0gPSBhZShcIkVYUElSRURcIiwgYHByb3Bvc2FsIGlkOiAke2V9YCk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IodCk7XG4gICAgfVxuICB9XG59XG5jbGFzcyBsNSBleHRlbmRzIFFpIHtcbiAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgIHN1cGVyKGUsIHQsIFl3LCBjZiksIHRoaXMuY29yZSA9IGUsIHRoaXMubG9nZ2VyID0gdDtcbiAgfVxufVxuY2xhc3MgcDUgZXh0ZW5kcyBRaSB7XG4gIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICBzdXBlcihlLCB0LCBadywgY2YpLCB0aGlzLmNvcmUgPSBlLCB0aGlzLmxvZ2dlciA9IHQ7XG4gIH1cbn1cbmNsYXNzIHY1IGV4dGVuZHMgUWkge1xuICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgc3VwZXIoZSwgdCwgZTUsIGNmLCAoaSkgPT4gaS5pZCksIHRoaXMuY29yZSA9IGUsIHRoaXMubG9nZ2VyID0gdDtcbiAgfVxufVxuY2xhc3MgYjUgZXh0ZW5kcyBRaSB7XG4gIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICBzdXBlcihlLCB0LCBuNSwgUGEsICgpID0+ICRzKSwgdGhpcy5jb3JlID0gZSwgdGhpcy5sb2dnZXIgPSB0O1xuICB9XG59XG5jbGFzcyBnNSBleHRlbmRzIFFpIHtcbiAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgIHN1cGVyKGUsIHQsIHM1LCBQYSksIHRoaXMuY29yZSA9IGUsIHRoaXMubG9nZ2VyID0gdDtcbiAgfVxufVxuY2xhc3MgeTUgZXh0ZW5kcyBRaSB7XG4gIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICBzdXBlcihlLCB0LCBhNSwgUGEsIChpKSA9PiBpLmlkKSwgdGhpcy5jb3JlID0gZSwgdGhpcy5sb2dnZXIgPSB0O1xuICB9XG59XG5jbGFzcyBtNSB7XG4gIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICB0aGlzLmNvcmUgPSBlLCB0aGlzLmxvZ2dlciA9IHQsIHRoaXMuYXV0aEtleXMgPSBuZXcgYjUodGhpcy5jb3JlLCB0aGlzLmxvZ2dlciksIHRoaXMucGFpcmluZ1RvcGljcyA9IG5ldyBnNSh0aGlzLmNvcmUsIHRoaXMubG9nZ2VyKSwgdGhpcy5yZXF1ZXN0cyA9IG5ldyB5NSh0aGlzLmNvcmUsIHRoaXMubG9nZ2VyKTtcbiAgfVxuICBhc3luYyBpbml0KCkge1xuICAgIGF3YWl0IHRoaXMuYXV0aEtleXMuaW5pdCgpLCBhd2FpdCB0aGlzLnBhaXJpbmdUb3BpY3MuaW5pdCgpLCBhd2FpdCB0aGlzLnJlcXVlc3RzLmluaXQoKTtcbiAgfVxufVxuY2xhc3MgT2EgZXh0ZW5kcyBwcCB7XG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICBzdXBlcihlKSwgdGhpcy5wcm90b2NvbCA9IFVkLCB0aGlzLnZlcnNpb24gPSB6ZCwgdGhpcy5uYW1lID0gbm8ubmFtZSwgdGhpcy5ldmVudHMgPSBuZXcgaXIuRXZlbnRFbWl0dGVyKCksIHRoaXMub24gPSAoaSwgbikgPT4gdGhpcy5ldmVudHMub24oaSwgbiksIHRoaXMub25jZSA9IChpLCBuKSA9PiB0aGlzLmV2ZW50cy5vbmNlKGksIG4pLCB0aGlzLm9mZiA9IChpLCBuKSA9PiB0aGlzLmV2ZW50cy5vZmYoaSwgbiksIHRoaXMucmVtb3ZlTGlzdGVuZXIgPSAoaSwgbikgPT4gdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoaSwgbiksIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzID0gKGkpID0+IHRoaXMuZXZlbnRzLnJlbW92ZUFsbExpc3RlbmVycyhpKSwgdGhpcy5jb25uZWN0ID0gYXN5bmMgKGkpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5jb25uZWN0KGkpO1xuICAgICAgfSBjYXRjaCAobikge1xuICAgICAgICB0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihuLm1lc3NhZ2UpLCBuO1xuICAgICAgfVxuICAgIH0sIHRoaXMucGFpciA9IGFzeW5jIChpKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUucGFpcihpKTtcbiAgICAgIH0gY2F0Y2ggKG4pIHtcbiAgICAgICAgdGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iobi5tZXNzYWdlKSwgbjtcbiAgICAgIH1cbiAgICB9LCB0aGlzLmFwcHJvdmUgPSBhc3luYyAoaSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmFwcHJvdmUoaSk7XG4gICAgICB9IGNhdGNoIChuKSB7XG4gICAgICAgIHRocm93IHRoaXMubG9nZ2VyLmVycm9yKG4ubWVzc2FnZSksIG47XG4gICAgICB9XG4gICAgfSwgdGhpcy5yZWplY3QgPSBhc3luYyAoaSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnJlamVjdChpKTtcbiAgICAgIH0gY2F0Y2ggKG4pIHtcbiAgICAgICAgdGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iobi5tZXNzYWdlKSwgbjtcbiAgICAgIH1cbiAgICB9LCB0aGlzLnVwZGF0ZSA9IGFzeW5jIChpKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUudXBkYXRlKGkpO1xuICAgICAgfSBjYXRjaCAobikge1xuICAgICAgICB0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihuLm1lc3NhZ2UpLCBuO1xuICAgICAgfVxuICAgIH0sIHRoaXMuZXh0ZW5kID0gYXN5bmMgKGkpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5leHRlbmQoaSk7XG4gICAgICB9IGNhdGNoIChuKSB7XG4gICAgICAgIHRocm93IHRoaXMubG9nZ2VyLmVycm9yKG4ubWVzc2FnZSksIG47XG4gICAgICB9XG4gICAgfSwgdGhpcy5yZXF1ZXN0ID0gYXN5bmMgKGkpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5yZXF1ZXN0KGkpO1xuICAgICAgfSBjYXRjaCAobikge1xuICAgICAgICB0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihuLm1lc3NhZ2UpLCBuO1xuICAgICAgfVxuICAgIH0sIHRoaXMucmVzcG9uZCA9IGFzeW5jIChpKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUucmVzcG9uZChpKTtcbiAgICAgIH0gY2F0Y2ggKG4pIHtcbiAgICAgICAgdGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iobi5tZXNzYWdlKSwgbjtcbiAgICAgIH1cbiAgICB9LCB0aGlzLnBpbmcgPSBhc3luYyAoaSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLnBpbmcoaSk7XG4gICAgICB9IGNhdGNoIChuKSB7XG4gICAgICAgIHRocm93IHRoaXMubG9nZ2VyLmVycm9yKG4ubWVzc2FnZSksIG47XG4gICAgICB9XG4gICAgfSwgdGhpcy5lbWl0ID0gYXN5bmMgKGkpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmVuZ2luZS5lbWl0KGkpO1xuICAgICAgfSBjYXRjaCAobikge1xuICAgICAgICB0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihuLm1lc3NhZ2UpLCBuO1xuICAgICAgfVxuICAgIH0sIHRoaXMuZGlzY29ubmVjdCA9IGFzeW5jIChpKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuZGlzY29ubmVjdChpKTtcbiAgICAgIH0gY2F0Y2ggKG4pIHtcbiAgICAgICAgdGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iobi5tZXNzYWdlKSwgbjtcbiAgICAgIH1cbiAgICB9LCB0aGlzLmZpbmQgPSAoaSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5naW5lLmZpbmQoaSk7XG4gICAgICB9IGNhdGNoIChuKSB7XG4gICAgICAgIHRocm93IHRoaXMubG9nZ2VyLmVycm9yKG4ubWVzc2FnZSksIG47XG4gICAgICB9XG4gICAgfSwgdGhpcy5nZXRQZW5kaW5nU2Vzc2lvblJlcXVlc3RzID0gKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5naW5lLmdldFBlbmRpbmdTZXNzaW9uUmVxdWVzdHMoKTtcbiAgICAgIH0gY2F0Y2ggKGkpIHtcbiAgICAgICAgdGhyb3cgdGhpcy5sb2dnZXIuZXJyb3IoaS5tZXNzYWdlKSwgaTtcbiAgICAgIH1cbiAgICB9LCB0aGlzLmF1dGhlbnRpY2F0ZSA9IGFzeW5jIChpLCBuKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUuYXV0aGVudGljYXRlKGksIG4pO1xuICAgICAgfSBjYXRjaCAocykge1xuICAgICAgICB0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihzLm1lc3NhZ2UpLCBzO1xuICAgICAgfVxuICAgIH0sIHRoaXMuZm9ybWF0QXV0aE1lc3NhZ2UgPSAoaSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5naW5lLmZvcm1hdEF1dGhNZXNzYWdlKGkpO1xuICAgICAgfSBjYXRjaCAobikge1xuICAgICAgICB0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihuLm1lc3NhZ2UpLCBuO1xuICAgICAgfVxuICAgIH0sIHRoaXMuYXBwcm92ZVNlc3Npb25BdXRoZW50aWNhdGUgPSBhc3luYyAoaSkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuZW5naW5lLmFwcHJvdmVTZXNzaW9uQXV0aGVudGljYXRlKGkpO1xuICAgICAgfSBjYXRjaCAobikge1xuICAgICAgICB0aHJvdyB0aGlzLmxvZ2dlci5lcnJvcihuLm1lc3NhZ2UpLCBuO1xuICAgICAgfVxuICAgIH0sIHRoaXMucmVqZWN0U2Vzc2lvbkF1dGhlbnRpY2F0ZSA9IGFzeW5jIChpKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5lbmdpbmUucmVqZWN0U2Vzc2lvbkF1dGhlbnRpY2F0ZShpKTtcbiAgICAgIH0gY2F0Y2ggKG4pIHtcbiAgICAgICAgdGhyb3cgdGhpcy5sb2dnZXIuZXJyb3Iobi5tZXNzYWdlKSwgbjtcbiAgICAgIH1cbiAgICB9LCB0aGlzLm5hbWUgPSBlPy5uYW1lIHx8IG5vLm5hbWUsIHRoaXMubWV0YWRhdGEgPSBlPy5tZXRhZGF0YSB8fCB0ZCgpLCB0aGlzLnNpZ25Db25maWcgPSBlPy5zaWduQ29uZmlnO1xuICAgIGNvbnN0IHQgPSB0eXBlb2YgZT8ubG9nZ2VyIDwgXCJ1XCIgJiYgdHlwZW9mIGU/LmxvZ2dlciAhPSBcInN0cmluZ1wiID8gZS5sb2dnZXIgOiBuYShUbyh7IGxldmVsOiBlPy5sb2dnZXIgfHwgbm8ubG9nZ2VyIH0pKTtcbiAgICB0aGlzLmNvcmUgPSBlPy5jb3JlIHx8IG5ldyBKdyhlKSwgdGhpcy5sb2dnZXIgPSBrdCh0LCB0aGlzLm5hbWUpLCB0aGlzLnNlc3Npb24gPSBuZXcgcDUodGhpcy5jb3JlLCB0aGlzLmxvZ2dlciksIHRoaXMucHJvcG9zYWwgPSBuZXcgbDUodGhpcy5jb3JlLCB0aGlzLmxvZ2dlciksIHRoaXMucGVuZGluZ1JlcXVlc3QgPSBuZXcgdjUodGhpcy5jb3JlLCB0aGlzLmxvZ2dlciksIHRoaXMuZW5naW5lID0gbmV3IGQ1KHRoaXMpLCB0aGlzLmF1dGggPSBuZXcgbTUodGhpcy5jb3JlLCB0aGlzLmxvZ2dlcik7XG4gIH1cbiAgc3RhdGljIGFzeW5jIGluaXQoZSkge1xuICAgIGNvbnN0IHQgPSBuZXcgT2EoZSk7XG4gICAgcmV0dXJuIGF3YWl0IHQuaW5pdGlhbGl6ZSgpLCB0O1xuICB9XG4gIGdldCBjb250ZXh0KCkge1xuICAgIHJldHVybiBadCh0aGlzLmxvZ2dlcik7XG4gIH1cbiAgZ2V0IHBhaXJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuY29yZS5wYWlyaW5nLnBhaXJpbmdzO1xuICB9XG4gIGFzeW5jIGluaXRpYWxpemUoKSB7XG4gICAgdGhpcy5sb2dnZXIudHJhY2UoXCJJbml0aWFsaXplZFwiKTtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5jb3JlLnN0YXJ0KCksIGF3YWl0IHRoaXMuc2Vzc2lvbi5pbml0KCksIGF3YWl0IHRoaXMucHJvcG9zYWwuaW5pdCgpLCBhd2FpdCB0aGlzLnBlbmRpbmdSZXF1ZXN0LmluaXQoKSwgYXdhaXQgdGhpcy5hdXRoLmluaXQoKSwgYXdhaXQgdGhpcy5lbmdpbmUuaW5pdCgpLCB0aGlzLmxvZ2dlci5pbmZvKFwiU2lnbkNsaWVudCBJbml0aWFsaXphdGlvbiBTdWNjZXNzXCIpLCBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgdGhpcy5lbmdpbmUucHJvY2Vzc1JlbGF5TWVzc2FnZUNhY2hlKCk7XG4gICAgICB9LCBpZS50b01pbGlzZWNvbmRzKGllLk9ORV9TRUNPTkQpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aHJvdyB0aGlzLmxvZ2dlci5pbmZvKFwiU2lnbkNsaWVudCBJbml0aWFsaXphdGlvbiBGYWlsdXJlXCIpLCB0aGlzLmxvZ2dlci5lcnJvcihlLm1lc3NhZ2UpLCBlO1xuICAgIH1cbiAgfVxufVxuY29uc3QgdzUgPSAoKSA9PiB7XG4gIGNvbnN0IGUgPSBjdSgpPy5vcz8udG9Mb3dlckNhc2UoKTtcbiAgcmV0dXJuIGU/LmluY2x1ZGVzKFwiYW5kcm9pZFwiKSA/IFwiYW5kcm9pZFwiIDogZT8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcImlvc1wiKSB8fCBlPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwibWFjXCIpICYmIG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDEgPyBcImlvc1wiIDogXCJkZXNrdG9wXCI7XG59LCBTcyA9IHc1KCksIF81ID0ge1xuICBwb3NpdGlvbjogXCJmaXhlZFwiLFxuICB0b3A6IFwiMFwiLFxuICBsZWZ0OiBcIjBcIixcbiAgcmlnaHQ6IFwiMFwiLFxuICBib3R0b206IFwiMFwiLFxuICBiYWNrZ3JvdW5kQ29sb3I6IFwicmdiYSgwLDAsMCwwLjgpXCIsXG4gIGJhY2tkcm9wRmlsdGVyOiBcImJsdXIoMTBweClcIixcbiAgekluZGV4OiBcIjk5OTlcIixcbiAgZGlzcGxheTogXCJmbGV4XCIsXG4gIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gIGp1c3RpZnlDb250ZW50OiBcImNlbnRlclwiLFxuICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiLFxuICBjb2xvcjogXCJ3aGl0ZVwiLFxuICBmb250V2VpZ2h0OiBcIjUwMFwiLFxuICBmb250RmFtaWx5OiBcIidCYXJsb3cnLCBzYW5zLXNlcmlmXCJcbn0sIHg1ID0ge1xuICB3aWR0aDogXCI4NDBweFwiLFxuICBoZWlnaHQ6IFwiNTQwcHhcIixcbiAgekluZGV4OiBcIjk5OTk5XCIsXG4gIGJhY2tncm91bmRDb2xvcjogXCJ3aGl0ZVwiLFxuICBib3JkZXI6IFwibm9uZVwiLFxuICBvdXRsaW5lOiBcIm5vbmVcIixcbiAgYm9yZGVyUmFkaXVzOiBcIjQwcHhcIixcbiAgYm94U2hhZG93OiBcIjBweCA0cHggNDBweCAwcHggcmdiKDAgMCAwKSwgMHB4IDRweCA4cHggMHB4IHJnYigwIDAgMCAvIDI1JSlcIixcbiAgcG9zaXRpb246IFwiZml4ZWRcIixcbiAgdG9wOiBcIjUwJVwiLFxuICBsZWZ0OiBcIjUwJVwiLFxuICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKC01MCUsLTUwJSlcIlxufSwgRTUgPSBgXG4gIDxkaXYgaWQ9XCJhcmdlbnQtbW9iaWxlLW1vZGFsLWNvbnRhaW5lclwiIHN0eWxlPVwicG9zaXRpb246IHJlbGF0aXZlXCI+XG4gICAgPGlmcmFtZSBjbGFzcz1cImFyZ2VudC1pZnJhbWVcIiBhbGxvdz1cImNsaXBib2FyZC13cml0ZVwiPjwvaWZyYW1lPlxuICAgIDxkaXYgY2xhc3M9XCJhcmdlbnQtY2xvc2UtYnV0dG9uXCIgc3R5bGU9XCJwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogMjRweDsgcmlnaHQ6IDI0cHg7IGN1cnNvcjogcG9pbnRlcjtcIj5cbiAgICAgIDxzdmcgd2lkdGg9XCIzMlwiIGhlaWdodD1cIjMyXCIgdmlld0JveD1cIjAgMCAzMiAzMlwiIGZpbGw9XCJub25lXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxuICAgICAgICA8Y2lyY2xlIGN4PVwiMTZcIiBjeT1cIjE2XCIgcj1cIjE2XCIgZmlsbD1cIiNGNUYzRjBcIi8+XG4gICAgICAgIDxwYXRoIGZpbGwtcnVsZT1cImV2ZW5vZGRcIiBjbGlwLXJ1bGU9XCJldmVub2RkXCIgZD1cIk0yMi4yNDYyIDkuNzUzODJDMjIuNzAxOCAxMC4yMDk0IDIyLjcwMTggMTAuOTQ4MSAyMi4yNDYyIDExLjQwMzdMMTcuNjQ5OSAxNkwyMi4yNDYyIDIwLjU5NjNDMjIuNzAxOCAyMS4wNTE5IDIyLjcwMTggMjEuNzkwNiAyMi4yNDYyIDIyLjI0NjJDMjEuNzkwNSAyMi43MDE4IDIxLjA1MTkgMjIuNzAxOCAyMC41OTYyIDIyLjI0NjJMMTYgMTcuNjQ5OUwxMS40MDM5IDIyLjI0NkMxMC45NDgyIDIyLjcwMTcgMTAuMjA5NiAyMi43MDE3IDkuNzUzOTQgMjIuMjQ2QzkuMjk4MzMgMjEuNzkwNCA5LjI5ODMzIDIxLjA1MTcgOS43NTM5NCAyMC41OTYxTDE0LjM1MDEgMTZMOS43NTM5NCAxMS40MDM5QzkuMjk4MzMgMTAuOTQ4MyA5LjI5ODMzIDEwLjIwOTYgOS43NTM5NCA5Ljc1Mzk2QzEwLjIwOTYgOS4yOTgzNSAxMC45NDgyIDkuMjk4MzUgMTEuNDAzOSA5Ljc1Mzk2TDE2IDE0LjM1MDFMMjAuNTk2MiA5Ljc1MzgyQzIxLjA1MTkgOS4yOTgyMSAyMS43OTA1IDkuMjk4MjEgMjIuMjQ2MiA5Ljc1MzgyWlwiIGZpbGw9XCIjMzMzMzMyXCIvPlxuICAgICAgPC9zdmc+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuYDtcbmNsYXNzIFM1IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgSGUodGhpcywgXCJicmlkZ2VVcmxcIiwgXCJodHRwczovL2xvZ2luLmFyZ2VudC54eXpcIik7XG4gICAgSGUodGhpcywgXCJtb2JpbGVVcmxcIiwgXCJhcmdlbnQ6Ly9cIik7XG4gICAgSGUodGhpcywgXCJ0eXBlXCIsIFwib3ZlcmxheVwiKTtcbiAgICBIZSh0aGlzLCBcIndjVXJpXCIpO1xuICAgIEhlKHRoaXMsIFwib3ZlcmxheVwiKTtcbiAgICBIZSh0aGlzLCBcInBvcHVwV2luZG93XCIpO1xuICAgIEhlKHRoaXMsIFwiY2xvc2luZ1RpbWVvdXRcIik7XG4gICAgSGUodGhpcywgXCJjbG9zZVwiLCAoKSA9PiB7XG4gICAgICB0aGlzLm92ZXJsYXk/LnJlbW92ZSgpLCB0aGlzLnBvcHVwV2luZG93Py5jbG9zZSgpLCB0aGlzLm92ZXJsYXkgPSB2b2lkIDAsIHRoaXMucG9wdXBXaW5kb3cgPSB2b2lkIDA7XG4gICAgfSk7XG4gIH1cbiAgc2hvd0Nvbm5lY3Rpb25Nb2RhbChlKSB7XG4gICAgY29uc3QgdCA9IGVuY29kZVVSSUNvbXBvbmVudChlKSwgaSA9IGVuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgdGhpcy5zaG93TW9kYWwoe1xuICAgICAgZGVza3RvcDogYCR7dGhpcy5icmlkZ2VVcmx9P3djPSR7dH0maHJlZj0ke2l9JmRldmljZT1kZXNrdG9wYCxcbiAgICAgIGlvczogYCR7dGhpcy5tb2JpbGVVcmx9YXBwL3djP3VyaT0ke3R9JmhyZWY9JHtpfSZkZXZpY2U9bW9iaWxlYCxcbiAgICAgIGFuZHJvaWQ6IGAke3RoaXMubW9iaWxlVXJsfWFwcC93Yz91cmk9JHt0fSZocmVmPSR7aX0mZGV2aWNlPW1vYmlsZWBcbiAgICB9KTtcbiAgfVxuICBzaG93QXBwcm92YWxNb2RhbChlKSB7XG4gICAgaWYgKFNzID09PSBcImRlc2t0b3BcIikge1xuICAgICAgdGhpcy5zaG93TW9kYWwoe1xuICAgICAgICBkZXNrdG9wOiBgJHt0aGlzLmJyaWRnZVVybH0/YWN0aW9uPXNpZ25gLFxuICAgICAgICBpb3M6IFwiXCIsXG4gICAgICAgIGFuZHJvaWQ6IFwiXCJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCB0ID0gZW5jb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICB0aGlzLnNob3dNb2RhbCh7XG4gICAgICBkZXNrdG9wOiBgJHt0aGlzLmJyaWRnZVVybH0/YWN0aW9uPXNpZ24mZGV2aWNlPWRlc2t0b3AmaHJlZj0ke3R9YCxcbiAgICAgIGlvczogYCR7dGhpcy5tb2JpbGVVcmx9YXBwL3djL3JlcXVlc3Q/aHJlZj0ke3R9JmRldmljZT1tb2JpbGVgLFxuICAgICAgYW5kcm9pZDogYCR7dGhpcy5tb2JpbGVVcmx9YXBwL3djL3JlcXVlc3Q/aHJlZj0ke3R9JmRldmljZT1tb2JpbGVgXG4gICAgfSk7XG4gIH1cbiAgY2xvc2VNb2RhbChlKSB7XG4gICAgZSA/ICh0aGlzLm92ZXJsYXk/LnF1ZXJ5U2VsZWN0b3IoXCJpZnJhbWVcIik/LmNvbnRlbnRXaW5kb3c/LnBvc3RNZXNzYWdlKFwiYXJnZW50LWxvZ2luLnN1Y2Nlc3NcIiwgXCIqXCIpLCB0aGlzLnBvcHVwV2luZG93Py5wb3N0TWVzc2FnZShcImFyZ2VudC1sb2dpbi5zdWNjZXNzXCIsIFwiKlwiKSwgdGhpcy5jbG9zaW5nVGltZW91dCA9IHNldFRpbWVvdXQodGhpcy5jbG9zZSwgMzQwMCkpIDogdGhpcy5jbG9zZSgpO1xuICB9XG4gIHNob3dNb2RhbChlKSB7XG4gICAgaWYgKGNsZWFyVGltZW91dCh0aGlzLmNsb3NpbmdUaW1lb3V0KSwgKHRoaXMub3ZlcmxheSB8fCB0aGlzLnBvcHVwV2luZG93KSAmJiB0aGlzLmNsb3NlKCksIFNzID09PSBcImFuZHJvaWRcIiB8fCBTcyA9PT0gXCJpb3NcIikge1xuICAgICAgY29uc3QgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XG4gICAgICBzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIiwgcy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGVbU3NdO1xuICAgICAgfSksIHMuY2xpY2soKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMudHlwZSA9PT0gXCJ3aW5kb3dcIikge1xuICAgICAgY29uc3QgcyA9IFwibWVudWJhcj1ubyxsb2NhdGlvbj1ubyxyZXNpemFibGU9bm8sc2Nyb2xsYmFycz1ubyxzdGF0dXM9bm8sd2lkdGg9ODQwLGhlaWdodD01NDBcIjtcbiAgICAgIHRoaXMucG9wdXBXaW5kb3cgPSB3aW5kb3cub3BlbihlLmRlc2t0b3AsIFwiX2JsYW5rXCIsIHMpIHx8IHZvaWQgMDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgdC5pbm5lckhUTUwgPSBFNSwgdC5pZCA9IFwiYXJnZW50LW1vYmlsZS1tb2RhbC1vdmVybGF5XCI7XG4gICAgZm9yIChjb25zdCBbcywgb10gb2YgT2JqZWN0LmVudHJpZXMoXzUpKVxuICAgICAgdC5zdHlsZVtzXSA9IG87XG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0KSwgdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5jbG9zZU1vZGFsKCkpLCB0aGlzLm92ZXJsYXkgPSB0O1xuICAgIGNvbnN0IGkgPSB0LnF1ZXJ5U2VsZWN0b3IoXCJpZnJhbWVcIik7XG4gICAgaS5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgZS5kZXNrdG9wKTtcbiAgICBmb3IgKGNvbnN0IFtzLCBvXSBvZiBPYmplY3QuZW50cmllcyh4NSkpXG4gICAgICBpLnN0eWxlW3NdID0gbztcbiAgICB0LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICBcIi5hcmdlbnQtY2xvc2UtYnV0dG9uXCJcbiAgICApLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLmNsb3NlTW9kYWwoKSk7XG4gIH1cbn1cbmNvbnN0IE5yID0gbmV3IFM1KCksIHRhID0gJGkuTmV0d29ya05hbWUsIE01ID0gYXN5bmMgKHtcbiAgcHJvamVjdElkOiByLFxuICBjaGFpbklkOiBlLFxuICBuYW1lOiB0LFxuICBkZXNjcmlwdGlvbjogaSxcbiAgcnBjVXJsOiBuLFxuICBicmlkZ2VVcmw6IHMgPSBJNShlKSxcbiAgbW9iaWxlVXJsOiBvID0gQTUoZSksXG4gIG1vZGFsVHlwZTogZiA9IFwib3ZlcmxheVwiLFxuICB1cmw6IGgsXG4gIGljb25zOiBkLFxuICB3YWxsZXRDb25uZWN0OiB2XG59LCB3KSA9PiB7XG4gIGlmICghcylcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJicmlkZ2VVcmwgaXMgcmVxdWlyZWRcIik7XG4gIGlmICghbylcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJtb2JpbGVVcmwgaXMgcmVxdWlyZWRcIik7XG4gIE5yLmJyaWRnZVVybCA9IHMsIE5yLm1vYmlsZVVybCA9IG8sIE5yLnR5cGUgPSBmO1xuICBjb25zdCBBID0ge1xuICAgIHByb2plY3RJZDogcixcbiAgICBtZXRhZGF0YToge1xuICAgICAgbmFtZTogdCA/PyBcIlVua25vd24gZGFwcFwiLFxuICAgICAgZGVzY3JpcHRpb246IGkgPz8gXCJVbmtub3duIGRhcHAgZGVzY3JpcHRpb25cIixcbiAgICAgIHVybDogaCA/PyBcIiNcIixcbiAgICAgIGljb25zOiBkID8/IFtdLFxuICAgICAgLi4udj8ubWV0YWRhdGFcbiAgICB9XG4gIH0sIEkgPSBhd2FpdCBPYS5pbml0KEEpLCBEID0gbmV3IFJoKHsgbm9kZVVybDogbiB9KSwgTiA9IG5ldyB3KHsgY2xpZW50OiBJLCBjaGFpbklkOiBlLCBycGNVcmw6IG4sIHByb3ZpZGVyOiBEIH0pO1xuICBJLm9uKFwic2Vzc2lvbl9ldmVudFwiLCAoaykgPT4ge1xuICB9KSwgSS5vbihcInNlc3Npb25fdXBkYXRlXCIsICh7IHRvcGljOiBrLCBwYXJhbXM6IGogfSkgPT4ge1xuICAgIGNvbnN0IHsgbmFtZXNwYWNlczogVCB9ID0gaiwgSyA9IEkuc2Vzc2lvbi5nZXQoayk7XG4gICAgTi51cGRhdGVTZXNzaW9uKHsgLi4uSywgbmFtZXNwYWNlczogVCB9KTtcbiAgfSksIEkub24oXCJzZXNzaW9uX2RlbGV0ZVwiLCAoKSA9PiB7XG4gIH0pO1xuICB0cnkge1xuICAgIGNvbnN0IGsgPSBJLnNlc3Npb24uZ2V0QWxsKCkuZmluZChOLmlzVmFsaWRTZXNzaW9uKTtcbiAgICBpZiAoaylcbiAgICAgIHJldHVybiBOLnVwZGF0ZVNlc3Npb24oayksIE47XG4gICAgY29uc3QgaiA9IHsgcmVxdWlyZWROYW1lc3BhY2VzOiBOLmdldFJlcXVpcmVkTmFtZXNwYWNlcygpIH07XG4gICAgZGwoKSwgYXdhaXQgbmV3IFByb21pc2UoKCQpID0+IHNldFRpbWVvdXQoJCwgMjAwKSk7XG4gICAgY29uc3QgeyB1cmk6IFQsIGFwcHJvdmFsOiBLIH0gPSBhd2FpdCBJLmNvbm5lY3Qoaik7XG4gICAgaWYgKFQpIHtcbiAgICAgIE5yLnNob3dDb25uZWN0aW9uTW9kYWwoVCksIE5yLndjVXJpID0gVDtcbiAgICAgIGNvbnN0ICQgPSBhd2FpdCBLKCk7XG4gICAgICBOLnVwZGF0ZVNlc3Npb24oJCksIE5yLmNsb3NlTW9kYWwoXCJhbmltYXRlU3VjY2Vzc1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIE47XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBjb25zb2xlLmVycm9yKFwiQGFyZ2VudC9sb2dpbjo6ZXJyb3JcIiksIE5yLmNsb3NlTW9kYWwoKSwgbnVsbDtcbiAgfVxufSwgSTUgPSAocikgPT4ge1xuICBpZiAoIXIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFVua25vd24gb3IgdW5zdXBwb3J0ZWQgY2hhaW5JZCAoJHtyfSksIGVpdGhlciBzcGVjaWZ5IGEgc3VwcG9ydGVkIGNoYWluIG9yIHNldCBicmlkZ2VVcmwuYFxuICAgICk7XG4gIGNvbnN0IGUgPSBwYXJzZUludChgJHtyfWApO1xuICBpZiAoU3RyaW5nKHIpLnN0YXJ0c1dpdGgodGEuU05fU0VQT0xJQSkgfHwgZSA9PT0gMTExNTUxMTEpXG4gICAgcmV0dXJuIFwiaHR0cHM6Ly9tb2JpbGUtbG9naW4uaHlkcm9nZW4uYXJnZW50NDcubmV0XCI7XG4gIGlmIChTdHJpbmcocikuc3RhcnRzV2l0aCh0YS5TTl9NQUlOKSB8fCBlID09PSAxKVxuICAgIHJldHVybiBcImh0dHBzOi8vbG9naW4uYXJnZW50Lnh5elwiO1xufSwgQTUgPSAocikgPT4ge1xuICBpZiAoIXIpXG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYFVua25vd24gb3IgdW5zdXBwb3J0ZWQgY2hhaW5JZCAoJHtyfSksIGVpdGhlciBzcGVjaWZ5IGEgc3VwcG9ydGVkIGNoYWluIG9yIHNldCBtb2JpbGVVcmwuYFxuICAgICk7XG4gIGNvbnN0IGUgPSBwYXJzZUludChgJHtyfWApO1xuICBpZiAoU3RyaW5nKHIpLnN0YXJ0c1dpdGgodGEuU05fU0VQT0xJQSkgfHwgZSA9PT0gMTExNTUxMTEpXG4gICAgcmV0dXJuIFwiYXJnZW50LWRldjovL1wiO1xuICBpZiAoU3RyaW5nKHIpLnN0YXJ0c1dpdGgodGEuU05fTUFJTikgfHwgZSA9PT0gMSlcbiAgICByZXR1cm4gXCJhcmdlbnQ6Ly9cIjtcbn07XG5mdW5jdGlvbiBENShyKSB7XG4gIHJldHVybiB0eXBlb2YgciA8IFwidVwiICYmIHR5cGVvZiByLmNvbnRleHQgPCBcInVcIjtcbn1cbmNvbnN0IFRyID0geyBpbml0OiBcInNpZ25lcl9pbml0XCIsIHVyaTogXCJzaWduZXJfdXJpXCIsIGNyZWF0ZWQ6IFwic2lnbmVyX2NyZWF0ZWRcIiwgdXBkYXRlZDogXCJzaWduZXJfdXBkYXRlZFwiLCBkZWxldGVkOiBcInNpZ25lcl9kZWxldGVkXCIsIGV2ZW50OiBcInNpZ25lcl9ldmVudFwiIH07XG5jbGFzcyBQNSBleHRlbmRzIFltIHtcbiAgY29uc3RydWN0b3IoZSkge1xuICAgIHN1cGVyKCksIHRoaXMuZXZlbnRzID0gbmV3IGlyLkV2ZW50RW1pdHRlcigpLCB0aGlzLnBlbmRpbmcgPSAhMSwgdGhpcy5pbml0aWFsaXppbmcgPSAhMSwgdGhpcy5yZXF1aXJlZE5hbWVzcGFjZXMgPSBlPy5yZXF1aXJlZE5hbWVzcGFjZXMgfHwge30sIHRoaXMub3B0cyA9IGU/LmNsaWVudDtcbiAgfVxuICBnZXQgY29ubmVjdGVkKCkge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcy5zZXNzaW9uIDwgXCJ1XCI7XG4gIH1cbiAgZ2V0IGNvbm5lY3RpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMucGVuZGluZztcbiAgfVxuICBnZXQgY2hhaW5zKCkge1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24gPyBlZCh0aGlzLnNlc3Npb24ubmFtZXNwYWNlcykgOiBWMih0aGlzLnJlcXVpcmVkTmFtZXNwYWNlcyk7XG4gIH1cbiAgZ2V0IGFjY291bnRzKCkge1xuICAgIHJldHVybiB0aGlzLnNlc3Npb24gPyBRdSh0aGlzLnNlc3Npb24ubmFtZXNwYWNlcykgOiBbXTtcbiAgfVxuICBvbihlLCB0KSB7XG4gICAgdGhpcy5ldmVudHMub24oZSwgdCk7XG4gIH1cbiAgb25jZShlLCB0KSB7XG4gICAgdGhpcy5ldmVudHMub25jZShlLCB0KTtcbiAgfVxuICBvZmYoZSwgdCkge1xuICAgIHRoaXMuZXZlbnRzLm9mZihlLCB0KTtcbiAgfVxuICByZW1vdmVMaXN0ZW5lcihlLCB0KSB7XG4gICAgdGhpcy5ldmVudHMucmVtb3ZlTGlzdGVuZXIoZSwgdCk7XG4gIH1cbiAgYXN5bmMgb3BlbigpIHtcbiAgICBpZiAodGhpcy5wZW5kaW5nKVxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChlLCB0KSA9PiB7XG4gICAgICAgIHRoaXMuZXZlbnRzLm9uY2UoXCJvcGVuXCIsICgpID0+IHtcbiAgICAgICAgICBpZiAodGhpcy5ldmVudHMub25jZShcIm9wZW5fZXJyb3JcIiwgKGkpID0+IHtcbiAgICAgICAgICAgIHQoaSk7XG4gICAgICAgICAgfSksIHR5cGVvZiB0aGlzLmNsaWVudCA+IFwidVwiKVxuICAgICAgICAgICAgcmV0dXJuIHQobmV3IEVycm9yKFwiU2lnbiBDbGllbnQgbm90IGluaXRpYWxpemVkXCIpKTtcbiAgICAgICAgICBlKCk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgdHJ5IHtcbiAgICAgIHRoaXMucGVuZGluZyA9ICEwO1xuICAgICAgY29uc3QgZSA9IGF3YWl0IHRoaXMucmVnaXN0ZXIoKSwgdCA9IGUuZmluZCh7IHJlcXVpcmVkTmFtZXNwYWNlczogdGhpcy5yZXF1aXJlZE5hbWVzcGFjZXMgfSk7XG4gICAgICBpZiAodC5sZW5ndGgpXG4gICAgICAgIHJldHVybiB0aGlzLm9uT3Blbih0WzBdKTtcbiAgICAgIGNvbnN0IHsgdXJpOiBpLCBhcHByb3ZhbDogbiB9ID0gYXdhaXQgZS5jb25uZWN0KHsgcmVxdWlyZWROYW1lc3BhY2VzOiB0aGlzLnJlcXVpcmVkTmFtZXNwYWNlcyB9KTtcbiAgICAgIHRoaXMuZXZlbnRzLmVtaXQoVHIudXJpLCB7IHVyaTogaSB9KSwgdGhpcy5zZXNzaW9uID0gYXdhaXQgbigpLCB0aGlzLmV2ZW50cy5lbWl0KFRyLmNyZWF0ZWQsIHRoaXMuc2Vzc2lvbiksIHRoaXMub25PcGVuKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgdGhpcy5ldmVudHMuZW1pdChcIm9wZW5fZXJyb3JcIiwgZSksIGU7XG4gICAgfVxuICB9XG4gIGFzeW5jIGNsb3NlKCkge1xuICAgIHR5cGVvZiB0aGlzLnNlc3Npb24gPiBcInVcIiB8fCAoYXdhaXQgKGF3YWl0IHRoaXMucmVnaXN0ZXIoKSkuZGlzY29ubmVjdCh7IHRvcGljOiB0aGlzLnNlc3Npb24udG9waWMsIHJlYXNvbjogc3QoXCJVU0VSX0RJU0NPTk5FQ1RFRFwiKSB9KSwgdGhpcy5vbkNsb3NlKCkpO1xuICB9XG4gIGFzeW5jIHNlbmQoZSwgdCkge1xuICAgIGlmICh0eXBlb2YgdGhpcy5jbGllbnQgPiBcInVcIiAmJiAodGhpcy5jbGllbnQgPSBhd2FpdCB0aGlzLnJlZ2lzdGVyKCksIHRoaXMuY29ubmVjdGVkIHx8IGF3YWl0IHRoaXMub3BlbigpKSwgdHlwZW9mIHRoaXMuc2Vzc2lvbiA+IFwidVwiKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2lnbmVyIGNvbm5lY3Rpb24gaXMgbWlzc2luZyBzZXNzaW9uXCIpO1xuICAgIHRoaXMuY2xpZW50LnJlcXVlc3QoeyB0b3BpYzogdGhpcy5zZXNzaW9uLnRvcGljLCByZXF1ZXN0OiBlLCBjaGFpbklkOiB0Py5jaGFpbklkIH0pLnRoZW4oKGkpID0+IHRoaXMuZXZlbnRzLmVtaXQoXCJwYXlsb2FkXCIsIE1hKGUuaWQsIGkpKSkuY2F0Y2goKGkpID0+IHRoaXMuZXZlbnRzLmVtaXQoXCJwYXlsb2FkXCIsIElhKGUuaWQsIGkubWVzc2FnZSkpKTtcbiAgfVxuICBhc3luYyByZWdpc3RlcihlID0gdGhpcy5vcHRzKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzLmNsaWVudCA8IFwidVwiKVxuICAgICAgcmV0dXJuIHRoaXMuY2xpZW50O1xuICAgIGlmICh0aGlzLmluaXRpYWxpemluZylcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgodCwgaSkgPT4ge1xuICAgICAgICB0aGlzLmV2ZW50cy5vbmNlKFwicmVnaXN0ZXJfZXJyb3JcIiwgKG4pID0+IHtcbiAgICAgICAgICBpKG4pO1xuICAgICAgICB9KSwgdGhpcy5ldmVudHMub25jZShUci5pbml0LCAoKSA9PiB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmNsaWVudCA+IFwidVwiKVxuICAgICAgICAgICAgcmV0dXJuIGkobmV3IEVycm9yKFwiU2lnbiBDbGllbnQgbm90IGluaXRpYWxpemVkXCIpKTtcbiAgICAgICAgICB0KHRoaXMuY2xpZW50KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICBpZiAoRDUoZSkpXG4gICAgICByZXR1cm4gdGhpcy5jbGllbnQgPSBlLCB0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKSwgdGhpcy5jbGllbnQ7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB0aGlzLmluaXRpYWxpemluZyA9ICEwLCB0aGlzLmNsaWVudCA9IGF3YWl0IE9hLmluaXQoZSksIHRoaXMuaW5pdGlhbGl6aW5nID0gITEsIHRoaXMucmVnaXN0ZXJFdmVudExpc3RlbmVycygpLCB0aGlzLmV2ZW50cy5lbWl0KFRyLmluaXQpLCB0aGlzLmNsaWVudDtcbiAgICB9IGNhdGNoICh0KSB7XG4gICAgICB0aHJvdyB0aGlzLmV2ZW50cy5lbWl0KFwicmVnaXN0ZXJfZXJyb3JcIiwgdCksIHQ7XG4gICAgfVxuICB9XG4gIG9uT3BlbihlKSB7XG4gICAgdGhpcy5wZW5kaW5nID0gITEsIGUgJiYgKHRoaXMuc2Vzc2lvbiA9IGUpLCB0aGlzLmV2ZW50cy5lbWl0KFwib3BlblwiKTtcbiAgfVxuICBvbkNsb3NlKCkge1xuICAgIHRoaXMucGVuZGluZyA9ICExLCB0aGlzLmNsaWVudCAmJiAodGhpcy5jbGllbnQgPSB2b2lkIDApLCB0aGlzLmV2ZW50cy5lbWl0KFwiY2xvc2VcIik7XG4gIH1cbiAgcmVnaXN0ZXJFdmVudExpc3RlbmVycygpIHtcbiAgICB0eXBlb2YgdGhpcy5jbGllbnQgPCBcInVcIiAmJiAodGhpcy5jbGllbnQub24oXCJzZXNzaW9uX2V2ZW50XCIsIChlKSA9PiB7XG4gICAgICB2YXIgdDtcbiAgICAgIHRoaXMuc2Vzc2lvbiAmJiAoKHQgPSB0aGlzLnNlc3Npb24pID09IG51bGwgPyB2b2lkIDAgOiB0LnRvcGljKSAhPT0gZS50b3BpYyB8fCB0aGlzLmV2ZW50cy5lbWl0KFRyLmV2ZW50LCBlLnBhcmFtcyk7XG4gICAgfSksIHRoaXMuY2xpZW50Lm9uKFwic2Vzc2lvbl91cGRhdGVcIiwgKGUpID0+IHtcbiAgICAgIHZhciB0O1xuICAgICAgdHlwZW9mIHRoaXMuY2xpZW50IDwgXCJ1XCIgJiYgKHRoaXMuc2Vzc2lvbiAmJiAoKHQgPSB0aGlzLnNlc3Npb24pID09IG51bGwgPyB2b2lkIDAgOiB0LnRvcGljKSAhPT0gZS50b3BpYyB8fCAodGhpcy5zZXNzaW9uID0gdGhpcy5jbGllbnQuc2Vzc2lvbi5nZXQoZS50b3BpYyksIHRoaXMuZXZlbnRzLmVtaXQoVHIudXBkYXRlZCwgdGhpcy5zZXNzaW9uKSkpO1xuICAgIH0pLCB0aGlzLmNsaWVudC5vbihcInNlc3Npb25fZGVsZXRlXCIsIChlKSA9PiB7XG4gICAgICB2YXIgdDtcbiAgICAgIHRoaXMuc2Vzc2lvbiAmJiAodGhpcy5zZXNzaW9uICYmICgodCA9IHRoaXMuc2Vzc2lvbikgPT0gbnVsbCA/IHZvaWQgMCA6IHQudG9waWMpICE9PSBlLnRvcGljIHx8ICh0aGlzLm9uQ2xvc2UoKSwgdGhpcy5ldmVudHMuZW1pdChUci5kZWxldGVkLCB0aGlzLnNlc3Npb24pLCB0aGlzLnNlc3Npb24gPSB2b2lkIDApKTtcbiAgICB9KSk7XG4gIH1cbn1cbmNsYXNzIE81IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgSGUodGhpcywgXCJhY2NvdW50c1wiLCBbXSk7XG4gICAgSGUodGhpcywgXCJldmVudEVtaXR0ZXJcIiwgbmV3IGlyLkV2ZW50RW1pdHRlcigpKTtcbiAgICBIZSh0aGlzLCBcInVwZGF0ZVNlc3Npb25cIiwgKGUpID0+IHtcbiAgICAgIGlmICghdGhpcy5pc1ZhbGlkU2Vzc2lvbihlKSlcbiAgICAgICAgdGhyb3cgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwidXBkYXRlU2Vzc2lvbiBpbmNvbXBhdGlibGUgc2Vzc2lvblwiLFxuICAgICAgICAgIGUsXG4gICAgICAgICAgXCJmb3IgYWRhcHRlclwiLFxuICAgICAgICAgIHRoaXMuZm9ybWF0Q2hhaW5JZCh0aGlzLmNoYWluSWQpXG4gICAgICAgICksIG5ldyBFcnJvcihcIkludmFsaWQgc2Vzc2lvblwiKTtcbiAgICAgIHRoaXMuc2Vzc2lvbiA9IGU7XG4gICAgICBjb25zdCB0ID0gZWQoZS5uYW1lc3BhY2VzLCBbdGhpcy5uYW1lc3BhY2VdKTtcbiAgICAgIHRoaXMuc2V0Q2hhaW5JZHModCk7XG4gICAgICBjb25zdCBpID0gUXUoZS5uYW1lc3BhY2VzLCBbXG4gICAgICAgIHRoaXMubmFtZXNwYWNlXG4gICAgICBdKTtcbiAgICAgIHRoaXMuc2V0QWNjb3VudHMoaSk7XG4gICAgfSk7XG4gICAgSGUodGhpcywgXCJpc1ZhbGlkU2Vzc2lvblwiLCAoe1xuICAgICAgbmFtZXNwYWNlczogZSxcbiAgICAgIHJlcXVpcmVkTmFtZXNwYWNlczogdFxuICAgIH0pID0+IHtcbiAgICAgIGNvbnN0IGkgPSB0aGlzLmZvcm1hdENoYWluSWQodGhpcy5jaGFpbklkKTtcbiAgICAgIHJldHVybiB0ID8gISF0W3RoaXMubmFtZXNwYWNlXT8uY2hhaW5zPy5pbmNsdWRlcyhpKSA6ICEhZT8uW3RoaXMubmFtZXNwYWNlXT8uYWNjb3VudHMuc29tZShcbiAgICAgICAgKG4pID0+IG4uc3RhcnRzV2l0aChpKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuICBnZXRSZXF1aXJlZE5hbWVzcGFjZXMoKSB7XG4gICAgY29uc3QgZSA9IFt0aGlzLmZvcm1hdENoYWluSWQodGhpcy5jaGFpbklkKV07XG4gICAgcmV0dXJuIHtcbiAgICAgIFt0aGlzLm5hbWVzcGFjZV06IHsgY2hhaW5zOiBlLCBtZXRob2RzOiB0aGlzLm1ldGhvZHMsIGV2ZW50czogdGhpcy5ldmVudHMgfVxuICAgIH07XG4gIH1cbiAgaXNDb21wYXRpYmxlQ2hhaW5JZChlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBlID09IFwic3RyaW5nXCIgPyBlLnN0YXJ0c1dpdGgoYCR7dGhpcy5uYW1lc3BhY2V9OmApIDogITE7XG4gIH1cbiAgc2V0Q2hhaW5JZHMoZSkge1xuICAgIGNvbnN0IGkgPSBlLmZpbHRlcigobikgPT4gdGhpcy5pc0NvbXBhdGlibGVDaGFpbklkKG4pKS5tYXAoKG4pID0+IHRoaXMucGFyc2VDaGFpbklkKG4pKS5maWx0ZXIoKG4pID0+IG4gIT09IHRoaXMuY2hhaW5JZCk7XG4gICAgaS5sZW5ndGggJiYgKHRoaXMuY2hhaW5JZCA9IGlbMF0sIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoXCJjaGFpbkNoYW5nZWRcIiwgdGhpcy5jaGFpbklkKSk7XG4gIH1cbiAgc2V0Q2hhaW5JZChlKSB7XG4gICAgaWYgKHRoaXMuaXNDb21wYXRpYmxlQ2hhaW5JZChlKSkge1xuICAgICAgY29uc3QgdCA9IHRoaXMucGFyc2VDaGFpbklkKGUpO1xuICAgICAgdGhpcy5jaGFpbklkID0gdCwgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdChcImNoYWluQ2hhbmdlZFwiLCB0aGlzLmNoYWluSWQpO1xuICAgIH1cbiAgfVxuICBwYXJzZUFjY291bnRJZChlKSB7XG4gICAgY29uc3QgW3QsIGksIG5dID0gZS5zcGxpdChcIjpcIik7XG4gICAgcmV0dXJuIHsgY2hhaW5JZDogYCR7dH06JHtpfWAsIGFkZHJlc3M6IG4gfTtcbiAgfVxuICBnZXRTaWduZXJDb25uZWN0aW9uKGUpIHtcbiAgICByZXR1cm4gbmV3IFA1KHtcbiAgICAgIHJlcXVpcmVkTmFtZXNwYWNlczoge1xuICAgICAgICBbdGhpcy5uYW1lc3BhY2VdOiB7XG4gICAgICAgICAgY2hhaW5zOiB0aGlzLnJwYy5jaGFpbnMsXG4gICAgICAgICAgbWV0aG9kczogdGhpcy5ycGMubWV0aG9kcyxcbiAgICAgICAgICBldmVudHM6IHRoaXMucnBjLmV2ZW50c1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2xpZW50OiBlXG4gICAgfSk7XG4gIH1cbiAgcmVnaXN0ZXJFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLnJwY1Byb3ZpZGVyLm9uKFwiY29ubmVjdFwiLCAoKSA9PiB7XG4gICAgICBjb25zdCB7IGNoYWluczogZSwgYWNjb3VudHM6IHQgfSA9IHRoaXMuc2lnbmVyQ29ubmVjdGlvbjtcbiAgICAgIGU/Lmxlbmd0aCAmJiB0aGlzLnNldENoYWluSWRzKGUpLCB0Py5sZW5ndGggJiYgdGhpcy5zZXRBY2NvdW50cyh0KTtcbiAgICB9KSwgdGhpcy5zaWduZXJDb25uZWN0aW9uLm9uKFRyLmNyZWF0ZWQsIHRoaXMudXBkYXRlU2Vzc2lvbiksIHRoaXMuc2lnbmVyQ29ubmVjdGlvbi5vbihUci51cGRhdGVkLCB0aGlzLnVwZGF0ZVNlc3Npb24pLCB0aGlzLnNpZ25lckNvbm5lY3Rpb24ub24oVHIuZXZlbnQsIChlKSA9PiB7XG4gICAgICBpZiAoIXRoaXMucnBjLmNoYWlucy5pbmNsdWRlcyhlLmNoYWluSWQpKVxuICAgICAgICByZXR1cm47XG4gICAgICBjb25zdCB7IGV2ZW50OiB0IH0gPSBlO1xuICAgICAgdC5uYW1lID09PSBcImFjY291bnRzQ2hhbmdlZFwiID8gKHRoaXMuYWNjb3VudHMgPSB0LmRhdGEsIHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoXCJhY2NvdW50c0NoYW5nZWRcIiwgdGhpcy5hY2NvdW50cykpIDogdC5uYW1lID09PSBcImNoYWluQ2hhbmdlZFwiID8gdGhpcy5zZXRDaGFpbklkKHQuZGF0YSkgOiB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KHQubmFtZSwgdC5kYXRhKTtcbiAgICB9KSwgdGhpcy5ycGNQcm92aWRlci5vbihcImRpc2Nvbm5lY3RcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5ldmVudEVtaXR0ZXIuZW1pdChcImRpc2Nvbm5lY3RcIik7XG4gICAgfSk7XG4gIH1cbn1cbmNsYXNzIFBoIGV4dGVuZHMgdWwge1xuICBjb25zdHJ1Y3RvcihlLCB0LCBpLCBuKSB7XG4gICAgc3VwZXIoZSwgdCwgaSksIHRoaXMud2FsbGV0ID0gbjtcbiAgfVxuICBhc3luYyBleGVjdXRlKGUsIHQsIGkgPSB7fSkge1xuICAgIGNvbnN0IG4gPSBBcnJheS5pc0FycmF5KGUpID8gZSA6IFtlXSwgcyA9IHQgPT09IHZvaWQgMCB8fCBBcnJheS5pc0FycmF5KHQpID8gaSA6IHQ7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMud2FsbGV0LndhbGxldF9yZXF1ZXN0QWRkSW52b2tlVHJhbnNhY3Rpb24oe1xuICAgICAgYWNjb3VudEFkZHJlc3M6IHRoaXMuYWRkcmVzcyxcbiAgICAgIGV4ZWN1dGlvblJlcXVlc3Q6IHsgY2FsbHM6IG4sIGludm9jYXRpb25EZXRhaWxzOiBzIH1cbiAgICB9KTtcbiAgfVxuICBhc3luYyBkZWNsYXJlKGUsIHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3Qgc3VwcG9ydGVkIHZpYSBBcmdlbnQgTG9naW5cIik7XG4gIH1cbiAgYXN5bmMgZGVwbG95QWNjb3VudChlLCB0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IHN1cHBvcnRlZCB2aWEgQXJnZW50IExvZ2luXCIpO1xuICB9XG59XG5jbGFzcyBSNSB7XG4gIGNvbnN0cnVjdG9yKGUpIHtcbiAgICB0aGlzLndhbGxldCA9IGU7XG4gIH1cbiAgYXN5bmMgZ2V0UHViS2V5KCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBzdXBwb3J0ZWQgdmlhIEFyZ2VudCBMb2dpblwiKTtcbiAgfVxuICBhc3luYyBzaWduTWVzc2FnZShlLCB0KSB7XG4gICAgY29uc3QgeyBzaWduYXR1cmU6IGkgfSA9IGF3YWl0IHRoaXMud2FsbGV0LndhbGxldF9zaWduVHlwZWREYXRhKHtcbiAgICAgIGFjY291bnRBZGRyZXNzOiB0LFxuICAgICAgdHlwZWREYXRhOiBlXG4gICAgfSk7XG4gICAgcmV0dXJuIGk7XG4gIH1cbiAgYXN5bmMgc2lnblRyYW5zYWN0aW9uKGUsIHQsIGkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3Qgc3VwcG9ydGVkIHZpYSBBcmdlbnQgTG9naW5cIik7XG4gIH1cbiAgYXN5bmMgc2lnbkRlcGxveUFjY291bnRUcmFuc2FjdGlvbihlKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IHN1cHBvcnRlZCB2aWEgQXJnZW50IExvZ2luXCIpO1xuICB9XG4gIGFzeW5jIHNpZ25EZWNsYXJlVHJhbnNhY3Rpb24oZSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBzdXBwb3J0ZWQgdmlhIEFyZ2VudCBMb2dpblwiKTtcbiAgfVxufVxuY29uc3QgTjUgPSAocikgPT4gci5yZXBsYWNlKC9eU05fLywgXCJTTlwiKSwgVDUgPSAocikgPT4gci5yZXBsYWNlKC9eU04vLCBcIlNOX1wiKTtcbmNsYXNzIEM1IGV4dGVuZHMgTzUge1xuICAvLyBUT0RPOiBpbXByb3ZlIHR5cGluZ1xuICBjb25zdHJ1Y3Rvcih7IGNsaWVudDogdCwgY2hhaW5JZDogaSwgcnBjVXJsOiBuLCBwcm92aWRlcjogcyB9KSB7XG4gICAgc3VwZXIoKTtcbiAgICBIZSh0aGlzLCBcImlkXCIsIFwiYXJnZW50TW9iaWxlXCIpO1xuICAgIEhlKHRoaXMsIFwibmFtZVwiLCBcIkFyZ2VudCBNb2JpbGVcIik7XG4gICAgSGUodGhpcywgXCJ2ZXJzaW9uXCIsIFwiMC4xLjBcIik7XG4gICAgSGUodGhpcywgXCJpY29uXCIsIFwiXCIpO1xuICAgIEhlKHRoaXMsIFwicHJvdmlkZXJcIik7XG4gICAgSGUodGhpcywgXCJzaWduZXJcIik7XG4gICAgSGUodGhpcywgXCJhY2NvdW50XCIpO1xuICAgIEhlKHRoaXMsIFwic2VsZWN0ZWRBZGRyZXNzXCIsIFwiXCIpO1xuICAgIC8vIE5hbWVzcGFjZUFkYXB0ZXJcbiAgICBIZSh0aGlzLCBcIm5hbWVzcGFjZVwiLCBcInN0YXJrbmV0XCIpO1xuICAgIEhlKHRoaXMsIFwibWV0aG9kc1wiLCBbXG4gICAgICBcInN0YXJrbmV0X3N1cHBvcnRlZFNwZWNzXCIsXG4gICAgICBcInN0YXJrbmV0X3NpZ25UeXBlZERhdGFcIixcbiAgICAgIFwic3RhcmtuZXRfcmVxdWVzdEFkZEludm9rZVRyYW5zYWN0aW9uXCIsXG4gICAgICBcIndhbGxldF9zdXBwb3J0ZWRTcGVjc1wiLFxuICAgICAgXCJ3YWxsZXRfc2lnblR5cGVkRGF0YVwiLFxuICAgICAgXCJ3YWxsZXRfYWRkSW52b2tlVHJhbnNhY3Rpb25cIlxuICAgIF0pO1xuICAgIEhlKHRoaXMsIFwiZXZlbnRzXCIsIFtcImNoYWluQ2hhbmdlZFwiLCBcImFjY291bnRzQ2hhbmdlZFwiXSk7XG4gICAgSGUodGhpcywgXCJyZW1vdGVTaWduZXJcIik7XG4gICAgSGUodGhpcywgXCJzaWduZXJDb25uZWN0aW9uXCIpO1xuICAgIEhlKHRoaXMsIFwicnBjUHJvdmlkZXJcIik7XG4gICAgSGUodGhpcywgXCJjaGFpbklkXCIpO1xuICAgIEhlKHRoaXMsIFwiY2xpZW50XCIpO1xuICAgIEhlKHRoaXMsIFwic2Vzc2lvblwiKTtcbiAgICBIZSh0aGlzLCBcInJwY1wiKTtcbiAgICBIZSh0aGlzLCBcIndhbGxldFJwY1wiKTtcbiAgICBIZSh0aGlzLCBcImhhbmRsZVJlcXVlc3RcIik7XG4gICAgLy8gU3RhcmtuZXRXaW5kb3dPYmplY3RcbiAgICBIZSh0aGlzLCBcInJlcXVlc3RcIiwgYXN5bmMgKHQpID0+IHtcbiAgICAgIGlmICghdGhpcy5zZXNzaW9uKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBzZXNzaW9uXCIpO1xuICAgICAgbGV0IGkgPSB0LnR5cGU7XG4gICAgICAoaSA9PT0gXCJ3YWxsZXRfYWRkSW52b2tlVHJhbnNhY3Rpb25cIiB8fCBpID09PSBcIndhbGxldF9zdXBwb3J0ZWRTcGVjc1wiIHx8IGkgPT09IFwid2FsbGV0X3NpZ25UeXBlZERhdGFcIikgJiYgKGkgPSBpLnJlcGxhY2UoXCJ3YWxsZXRfXCIsIFwic3RhcmtuZXRfXCIpKTtcbiAgICAgIGNvbnN0IG4gPSB0aGlzLmhhbmRsZVJlcXVlc3RbaV07XG4gICAgICBpZiAobilcbiAgICAgICAgcmV0dXJuIG4odC5wYXJhbXMpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBOb3QgaW1wbGVtZW50ZWQ6IC5yZXF1ZXN0KCkgZm9yICR7dC50eXBlfWApO1xuICAgIH0pO1xuICAgIEhlKHRoaXMsIFwib25cIiwgKHQsIGkpID0+IHtcbiAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLm9uKHQsIGkpO1xuICAgIH0pO1xuICAgIEhlKHRoaXMsIFwib2ZmXCIsICh0LCBpKSA9PiB7XG4gICAgICB0aGlzLmV2ZW50RW1pdHRlci5vZmYodCwgaSk7XG4gICAgfSk7XG4gICAgSGUodGhpcywgXCJoYW5kbGVSZXF1ZXN0Q2hhaW5JZFwiLCAoKSA9PiB0aGlzLmNoYWluSWQgPT09ICRpLk5ldHdvcmtOYW1lLlNOX1NFUE9MSUEgPyAkaS5TdGFya25ldENoYWluSWQuU05fU0VQT0xJQSA6ICRpLlN0YXJrbmV0Q2hhaW5JZC5TTl9NQUlOKTtcbiAgICBIZSh0aGlzLCBcImhhbmRsZVJlcXVlc3RBY2NvdW50c1wiLCAoKSA9PiB0aGlzLmFjY291bnRzKTtcbiAgICBIZSh0aGlzLCBcImhhbmRsZUdldFBlcm1pc3Npb25zXCIsIGFzeW5jICgpID0+IGF3YWl0IHRoaXMuaXNQcmVhdXRob3JpemVkKCkgPyBbXCJhY2NvdW50c1wiXSA6IFtdKTtcbiAgICBIZSh0aGlzLCBcImhhbmRsZUFkZEludm9rZVRyYW5zYWN0aW9uXCIsIGFzeW5jICh0KSA9PiB7XG4gICAgICBjb25zdCB7IGNhbGxzOiBpIH0gPSB0O1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucmVxdWVzdFdhbGxldCh7XG4gICAgICAgIG1ldGhvZDogXCJzdGFya25ldF9yZXF1ZXN0QWRkSW52b2tlVHJhbnNhY3Rpb25cIixcbiAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgYWNjb3VudEFkZHJlc3M6IHRoaXMuYWNjb3VudC5hZGRyZXNzLFxuICAgICAgICAgIGV4ZWN1dGlvblJlcXVlc3Q6IHtcbiAgICAgICAgICAgIC8vIHdpbGwgYmUgcmVtb3ZlZCB3aGVuIGFyZ2VudCBtb2JpbGUgd2lsbCBzdXBwb3J0IGVudHJ5X3BvaW50IGFuZCBjb250cmFjdF9hZGRyZXNzXG4gICAgICAgICAgICBjYWxsczogaT8ubWFwKCh7IGNvbnRyYWN0X2FkZHJlc3M6IG4sIGVudHJ5X3BvaW50OiBzLCAuLi5vIH0pID0+ICh7XG4gICAgICAgICAgICAgIC4uLm8sXG4gICAgICAgICAgICAgIGNvbnRyYWN0QWRkcmVzczogbixcbiAgICAgICAgICAgICAgZW50cnlwb2ludDogc1xuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBIZSh0aGlzLCBcImhhbmRsZVNpZ25UeXBlZERhdGFcIiwgYXN5bmMgKHQpID0+IHtcbiAgICAgIGNvbnN0IGkgPSB7XG4gICAgICAgIGFjY291bnRBZGRyZXNzOiB0aGlzLmFjY291bnQuYWRkcmVzcyxcbiAgICAgICAgdHlwZWREYXRhOiB0XG4gICAgICB9LCBuID0gYXdhaXQgdGhpcy5yZXF1ZXN0V2FsbGV0KHtcbiAgICAgICAgbWV0aG9kOiBcInN0YXJrbmV0X3NpZ25UeXBlZERhdGFcIixcbiAgICAgICAgcGFyYW1zOiBpXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBcInNpZ25hdHVyZVwiIGluIG4gPyBuLnNpZ25hdHVyZSA6IG47XG4gICAgfSk7XG4gICAgSGUodGhpcywgXCJoYW5kbGVTdXBwb3J0ZWRTcGVjc1wiLCBhc3luYyAoKSA9PiBhd2FpdCB0aGlzLnJlcXVlc3RXYWxsZXQoe1xuICAgICAgbWV0aG9kOiBcInN0YXJrbmV0X3N1cHBvcnRlZFNwZWNzXCIsXG4gICAgICBwYXJhbXM6IHt9XG4gICAgfSkpO1xuICAgIHRoaXMuY2hhaW5JZCA9IFN0cmluZyhpID8/ICRpLk5ldHdvcmtOYW1lLlNOX01BSU4pLCB0aGlzLnJwYyA9IHtcbiAgICAgIGNoYWluczogaSA/IFt0aGlzLmZvcm1hdENoYWluSWQodGhpcy5jaGFpbklkKV0gOiBbXSxcbiAgICAgIG1ldGhvZHM6IHRoaXMubWV0aG9kcyxcbiAgICAgIGV2ZW50czogdGhpcy5ldmVudHNcbiAgICB9LCB0aGlzLnNpZ25lckNvbm5lY3Rpb24gPSB0aGlzLmdldFNpZ25lckNvbm5lY3Rpb24odCksIHRoaXMucnBjUHJvdmlkZXIgPSBuZXcgeGQodGhpcy5zaWduZXJDb25uZWN0aW9uKSwgdGhpcy5jbGllbnQgPSB0LCB0aGlzLnJlZ2lzdGVyRXZlbnRMaXN0ZW5lcnMoKSwgdGhpcy53YWxsZXRScGMgPSBuZXcgUHJveHkoe30sIHtcbiAgICAgIGdldDogKG8sIGYpID0+IChoKSA9PiB0aGlzLnJlcXVlc3RXYWxsZXQoeyBtZXRob2Q6IGYsIHBhcmFtczogaCB9KVxuICAgIH0pLCB0aGlzLnJlbW90ZVNpZ25lciA9IG5ldyBSNSh0aGlzLndhbGxldFJwYyksIHRoaXMucHJvdmlkZXIgPSBzIHx8IG5ldyBSaCh7IG5vZGVVcmw6IG4gfSksIHRoaXMuYWNjb3VudCA9IG5ldyBQaChcbiAgICAgIHRoaXMucHJvdmlkZXIsXG4gICAgICBcIlwiLFxuICAgICAgdGhpcy5yZW1vdGVTaWduZXIsXG4gICAgICB0aGlzLndhbGxldFJwY1xuICAgICksIHRoaXMuaGFuZGxlUmVxdWVzdCA9IE9iamVjdC5mcmVlemUoe1xuICAgICAgd2FsbGV0X3JlcXVlc3RDaGFpbklkOiB0aGlzLmhhbmRsZVJlcXVlc3RDaGFpbklkLFxuICAgICAgd2FsbGV0X3JlcXVlc3RBY2NvdW50czogdGhpcy5oYW5kbGVSZXF1ZXN0QWNjb3VudHMsXG4gICAgICB3YWxsZXRfZ2V0UGVybWlzc2lvbnM6IHRoaXMuaGFuZGxlR2V0UGVybWlzc2lvbnMsXG4gICAgICBzdGFya25ldF9hZGRJbnZva2VUcmFuc2FjdGlvbjogdGhpcy5oYW5kbGVBZGRJbnZva2VUcmFuc2FjdGlvbixcbiAgICAgIHN0YXJrbmV0X3NpZ25UeXBlZERhdGE6IHRoaXMuaGFuZGxlU2lnblR5cGVkRGF0YSxcbiAgICAgIHN0YXJrbmV0X3N1cHBvcnRlZFNwZWNzOiB0aGlzLmhhbmRsZVN1cHBvcnRlZFNwZWNzLFxuICAgICAgd2FsbGV0X2FkZEludm9rZVRyYW5zYWN0aW9uOiB0aGlzLmhhbmRsZUFkZEludm9rZVRyYW5zYWN0aW9uLFxuICAgICAgd2FsbGV0X3NpZ25UeXBlZERhdGE6IHRoaXMuaGFuZGxlU2lnblR5cGVkRGF0YSxcbiAgICAgIHdhbGxldF9zdXBwb3J0ZWRTcGVjczogdGhpcy5oYW5kbGVTdXBwb3J0ZWRTcGVjc1xuICAgIH0pO1xuICB9XG4gIGdldE5ldHdvcmtOYW1lKHQpIHtcbiAgICBpZiAodCA9PT0gXCJTTl9TRVBPTElBXCIpXG4gICAgICByZXR1cm4gJGkuTmV0d29ya05hbWUuU05fU0VQT0xJQTtcbiAgICBpZiAodCA9PT0gXCJTTl9NQUlOXCIpXG4gICAgICByZXR1cm4gJGkuTmV0d29ya05hbWUuU05fTUFJTjtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gc3RhcmtuZXQuanMgbmV0d29yayBuYW1lIGZvciBjaGFpbklkICR7dH1gKTtcbiAgfVxuICBhc3luYyBlbmFibGUoKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMucnBjUHJvdmlkZXIuY29ubmVjdCgpLCB0aGlzLmFjY291bnRzO1xuICB9XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgLy8gQHRzLWlnbm9yZVxuICBnZXQgaXNDb25uZWN0ZWQoKSB7XG4gICAgcmV0dXJuICEwO1xuICB9XG4gIGFzeW5jIGlzUHJlYXV0aG9yaXplZCgpIHtcbiAgICByZXR1cm4gISF0aGlzLmNsaWVudC5zZXNzaW9uLmdldEFsbCgpLmZpbmQodGhpcy5pc1ZhbGlkU2Vzc2lvbik7XG4gIH1cbiAgYXN5bmMgcmVxdWVzdFdhbGxldCh0KSB7XG4gICAgaWYgKCF0aGlzLnNlc3Npb24pXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBzZXNzaW9uXCIpO1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IHRvcGljOiBpIH0gPSB0aGlzLnNlc3Npb24sIG4gPSB0aGlzLmZvcm1hdENoYWluSWQodGhpcy5jaGFpbklkKTtcbiAgICAgIE5yLnNob3dBcHByb3ZhbE1vZGFsKHQpO1xuICAgICAgY29uc3QgcyA9IGF3YWl0IHRoaXMuY2xpZW50LnJlcXVlc3QoeyB0b3BpYzogaSwgY2hhaW5JZDogbiwgcmVxdWVzdDogdCB9KTtcbiAgICAgIHJldHVybiBOci5jbG9zZU1vZGFsKFwiYW5pbWF0ZVN1Y2Nlc3NcIiksIHM7XG4gICAgfSBjYXRjaCAoaSkge1xuICAgICAgdGhyb3cgTnIuY2xvc2VNb2RhbCgpLCBpIGluc3RhbmNlb2YgRXJyb3IgfHwgaSAmJiBpLm1lc3NhZ2UgIT09IHZvaWQgMCA/IG5ldyBFcnJvcihpLm1lc3NhZ2UpIDogbmV3IEVycm9yKFwiVW5rbm93biBlcnJvciBvbiByZXF1ZXN0V2FsbGV0XCIpO1xuICAgIH1cbiAgfVxuICAvLyBOYW1lc3BhY2VBZGFwdGVyXG4gIGdldCBpc0Nvbm5lY3RpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2lnbmVyQ29ubmVjdGlvbi5jb25uZWN0aW5nO1xuICB9XG4gIGFzeW5jIGRpc2FibGUoKSB7XG4gICAgYXdhaXQgdGhpcy5ycGNQcm92aWRlci5kaXNjb25uZWN0KCk7XG4gIH1cbiAgZ2V0IGlzV2FsbGV0Q29ubmVjdCgpIHtcbiAgICByZXR1cm4gITA7XG4gIH1cbiAgLy8gTmFtZXNwYWNlQWRhcHRlciBwcml2YXRlIG1ldGhvZHNcbiAgcmVnaXN0ZXJFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5yZWdpc3RlckV2ZW50TGlzdGVuZXJzKCksIHRoaXMuZXZlbnRFbWl0dGVyLm9uKFwiY2hhaW5DaGFuZ2VkXCIsICh0KSA9PiB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJOb3QgaW1wbGVtZW50ZWQ6IGNoYWluQ2hhbmdlZFwiKTtcbiAgICB9KTtcbiAgfVxuICBmb3JtYXRDaGFpbklkKHQpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5uYW1lc3BhY2V9OiR7TjUodCl9YDtcbiAgfVxuICBwYXJzZUNoYWluSWQodCkge1xuICAgIHJldHVybiBUNSh0LnNwbGl0KFwiOlwiKVsxXSk7XG4gIH1cbiAgc2V0QWNjb3VudHModCkge1xuICAgIHRoaXMuYWNjb3VudHMgPSB0LmZpbHRlcihcbiAgICAgIChzKSA9PiB0aGlzLnBhcnNlQ2hhaW5JZCh0aGlzLnBhcnNlQWNjb3VudElkKHMpLmNoYWluSWQpID09PSB0aGlzLmNoYWluSWRcbiAgICApLm1hcCgocykgPT4gdGhpcy5wYXJzZUFjY291bnRJZChzKS5hZGRyZXNzKTtcbiAgICBjb25zdCB7IGFkZHJlc3M6IGkgfSA9IHRoaXMucGFyc2VBY2NvdW50SWQodFswXSksIG4gPSBpLnN0YXJ0c1dpdGgoXCIweFwiKSA/IGkgOiBgMHgke2l9YDtcbiAgICB0aGlzLmFjY291bnQgPSBuZXcgUGgoXG4gICAgICB0aGlzLnByb3ZpZGVyLFxuICAgICAgbixcbiAgICAgIHRoaXMucmVtb3RlU2lnbmVyLFxuICAgICAgdGhpcy53YWxsZXRScGNcbiAgICApLCB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KFwiYWNjb3VudHNDaGFuZ2VkXCIsIHRoaXMuYWNjb3VudHMpLCB0aGlzLnNlbGVjdGVkQWRkcmVzcyA9IG47XG4gIH1cbn1cbmNvbnN0IG80ID0gYXN5bmMgKHIpID0+IE01KHIsIEM1KTtcbmV4cG9ydCB7XG4gIG80IGFzIGdldFN0YXJrbmV0V2luZG93T2JqZWN0XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/.pnpm/starknetkit@2.10.4_bufferutil@4.0.9_starknet@6.24.1_encoding@0.1.13__typescript@5.8.3_utf-8-validate@6.0.5_zod@3.25.50/node_modules/starknetkit/dist/index-1c1d2b10.js\n"));

/***/ })

}]);